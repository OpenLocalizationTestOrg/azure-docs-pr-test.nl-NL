---
title: Application Insights telemetrie correlatie aaaAzure | Microsoft Docs
description: Application Insights telemetrie correlatie
services: application-insights
documentationcenter: .net
author: SergeyKanzhelev
manager: carmonm
ms.service: application-insights
ms.workload: TBD
ms.tgt_pltfrm: ibiza
ms.devlang: multiple
ms.topic: article
ms.date: 04/25/2017
ms.author: bwren
ms.openlocfilehash: 3ed8c589d237cac5daceac939ca893b7d81a2967
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="telemetry-correlation-in-application-insights"></a><span data-ttu-id="15d43-103">De correlatie telemetrie in Application Insights</span><span class="sxs-lookup"><span data-stu-id="15d43-103">Telemetry correlation in Application Insights</span></span>

<span data-ttu-id="15d43-104">Hallo wereld van micro services moet elke logische bewerking werk dat in de verschillende onderdelen van Hallo-service.</span><span class="sxs-lookup"><span data-stu-id="15d43-104">In hello world of micro services, every logical operation requires work done in various components of hello service.</span></span> <span data-ttu-id="15d43-105">Elk van deze onderdelen afzonderlijk kan worden bewaakt met [Application Insights](app-insights-overview.md).</span><span class="sxs-lookup"><span data-stu-id="15d43-105">Each of these components can be separately monitored by [Application Insights](app-insights-overview.md).</span></span> <span data-ttu-id="15d43-106">Hallo web-app onderdeel communiceert met de gebruikersreferenties voor authenticatie provider onderdeel toovalidate, en met Hallo API tooget onderdeelgegevens voor visualisatie.</span><span class="sxs-lookup"><span data-stu-id="15d43-106">hello web app component communicates with authentication provider component toovalidate user credentials, and with hello API component tooget data for visualization.</span></span> <span data-ttu-id="15d43-107">Hallo-API-onderdeel op zijn beurt kunt opvragen van gegevens van andere services en onderdelen van de cache-serviceprovider gebruiken en waarschuwen Hallo facturering component over deze aanroep.</span><span class="sxs-lookup"><span data-stu-id="15d43-107">hello API component in its turn can query data from other services and use cache-provider components and notify hello billing component about this call.</span></span> <span data-ttu-id="15d43-108">Application Insights ondersteunt gedistribueerde telemetrie correlatie.</span><span class="sxs-lookup"><span data-stu-id="15d43-108">Application Insights supports distributed telemetry correlation.</span></span> <span data-ttu-id="15d43-109">Hiermee kunt u toodetect welk onderdeel verantwoordelijk voor fouten of vermindering in prestaties is.</span><span class="sxs-lookup"><span data-stu-id="15d43-109">It allows you toodetect which component is responsible for failures or performance degradation.</span></span>

<span data-ttu-id="15d43-110">Dit artikel wordt uitgelegd Hallo-gegevensmodel dat is gebruikt door de Application Insights toocorrelate telemetrie verzonden door meerdere onderdelen.</span><span class="sxs-lookup"><span data-stu-id="15d43-110">This article explains hello data model used by Application Insights toocorrelate telemetry sent by multiple components.</span></span> <span data-ttu-id="15d43-111">Er wordt aangegeven Hallo context doorgifte van technieken en protocollen.</span><span class="sxs-lookup"><span data-stu-id="15d43-111">It covers hello context propagation techniques and protocols.</span></span> <span data-ttu-id="15d43-112">Het omvat tevens Hallo-implementatie van de correlatie-concepten Hallo op verschillende talen en platforms.</span><span class="sxs-lookup"><span data-stu-id="15d43-112">It also covers hello implementation of hello correlation concepts on different languages and platforms.</span></span>

## <a name="telemetry-correlation-data-model"></a><span data-ttu-id="15d43-113">Telemetrie correlatie-gegevensmodel</span><span class="sxs-lookup"><span data-stu-id="15d43-113">Telemetry correlation data model</span></span>

<span data-ttu-id="15d43-114">Application Insights definieert een [gegevensmodel](application-insights-data-model.md) voor gedistribueerde telemetrie correlatie.</span><span class="sxs-lookup"><span data-stu-id="15d43-114">Application Insights defines a [data model](application-insights-data-model.md) for distributed telemetry correlation.</span></span> <span data-ttu-id="15d43-115">tooassociate telemetrie met logische bewerking hello, elk telemetrie-item heeft een contextveld `operation_Id`.</span><span class="sxs-lookup"><span data-stu-id="15d43-115">tooassociate telemetry with hello logical operation, every telemetry item has a context field called `operation_Id`.</span></span> <span data-ttu-id="15d43-116">Deze id wordt gedeeld door elk telemetrie-item in de tracering Hallo gedistribueerd.</span><span class="sxs-lookup"><span data-stu-id="15d43-116">This identifier is shared by every telemetry item in hello distributed trace.</span></span> <span data-ttu-id="15d43-117">Dus zelfs met verlies van telemetrie van één laag kunt u nog steeds telemetrie die zijn gerapporteerd door de andere onderdelen koppelen.</span><span class="sxs-lookup"><span data-stu-id="15d43-117">So even with loss of telemetry from a single layer you still can associate telemetry reported by other components.</span></span>

<span data-ttu-id="15d43-118">Gedistribueerde logische bewerking bestaat gewoonlijk uit een reeks kleinere bewerkingen - aanvragen verwerkt door één van Hallo-onderdelen.</span><span class="sxs-lookup"><span data-stu-id="15d43-118">Distributed logical operation typically consists of a set of smaller operations - requests processed by one of hello components.</span></span> <span data-ttu-id="15d43-119">Deze bewerkingen zijn gedefinieerd door [aanvragen telemetrie](application-insights-data-model-request-telemetry.md).</span><span class="sxs-lookup"><span data-stu-id="15d43-119">Those operations are defined by [request telemetry](application-insights-data-model-request-telemetry.md).</span></span> <span data-ttu-id="15d43-120">Elke aanvraagtelemetrie heeft zijn eigen `id` die deze globaal unieke wijze identificeert.</span><span class="sxs-lookup"><span data-stu-id="15d43-120">Every request telemetry has its own `id` that uniquely globally identifies it.</span></span> <span data-ttu-id="15d43-121">En alle telemetrie - traceringen, uitzonderingen, enz. die zijn gekoppeld aan deze aanvraag moet Hallo ingesteld `operation_parentId` toohello waarde van Hallo aanvraag `id`.</span><span class="sxs-lookup"><span data-stu-id="15d43-121">And all telemetry - traces, exceptions, etc. associated with this request should set hello `operation_parentId` toohello value of hello request `id`.</span></span>

<span data-ttu-id="15d43-122">Elke uitgaande bewerking zoals HTTP-aanroep tooanother onderdeel dat wordt vertegenwoordigd door [afhankelijkheidstelemetrie](application-insights-data-model-dependency-telemetry.md).</span><span class="sxs-lookup"><span data-stu-id="15d43-122">Every outgoing operation like http call tooanother component represented by [dependency telemetry](application-insights-data-model-dependency-telemetry.md).</span></span> <span data-ttu-id="15d43-123">Afhankelijkheidstelemetrie definieert ook een eigen `id` globaal uniek is.</span><span class="sxs-lookup"><span data-stu-id="15d43-123">Dependency telemetry also defines its own `id` that is globally unique.</span></span> <span data-ttu-id="15d43-124">Aanvraagtelemetrie, door deze afhankelijkheidsaanroep gestart wordt gebruikt als `operation_parentId`.</span><span class="sxs-lookup"><span data-stu-id="15d43-124">Request telemetry, initiated by this dependency call, uses it as `operation_parentId`.</span></span>

<span data-ttu-id="15d43-125">Hallo-weergave van het gebruik van gedistribueerde logische bewerking kunt u `operation_Id`, `operation_parentId`, en `request.id` met `dependency.id`.</span><span class="sxs-lookup"><span data-stu-id="15d43-125">You can build hello view of distributed logical operation using `operation_Id`, `operation_parentId`, and `request.id` with `dependency.id`.</span></span> <span data-ttu-id="15d43-126">Deze velden definiëren eveneens Hallo oorzakelijk verband volgorde van telemetrie aanroepen.</span><span class="sxs-lookup"><span data-stu-id="15d43-126">Those fields also define hello causality order of telemetry calls.</span></span>

<span data-ttu-id="15d43-127">Traces van onderdelen mogelijk andere gelijksoortig toohello Ga in de omgeving micro services.</span><span class="sxs-lookup"><span data-stu-id="15d43-127">In micro services environment, traces from components may go toohello different storages.</span></span> <span data-ttu-id="15d43-128">Elk onderdeel hebben een eigen instrumentatiesleutel in Application Insights.</span><span class="sxs-lookup"><span data-stu-id="15d43-128">Every component may have its own instrumentation key in Application Insights.</span></span> <span data-ttu-id="15d43-129">tooget telemetrie voor logische bewerking hello, moet u tooquery gegevens van elke opslag.</span><span class="sxs-lookup"><span data-stu-id="15d43-129">tooget telemetry for hello logical operation, you need tooquery data from every storage.</span></span> <span data-ttu-id="15d43-130">Wanneer het aantal gelijksoortig grote is, moet u toohave een hint op waar toolook volgende.</span><span class="sxs-lookup"><span data-stu-id="15d43-130">When number of storages is huge, you need toohave a hint on where toolook next.</span></span>

<span data-ttu-id="15d43-131">Application Insights-gegevensmodel definieert twee velden toosolve dit probleem: `request.source` en `dependency.target`.</span><span class="sxs-lookup"><span data-stu-id="15d43-131">Application Insights data model defines two fields toosolve this problem: `request.source` and `dependency.target`.</span></span> <span data-ttu-id="15d43-132">het eerste veld Hallo identificeert Hallo-component die Hallo afhankelijkheid aanvraag gestart en Hallo identificeert tweede welk onderdeel antwoord Hallo van Hallo afhankelijkheidsaanroep wordt geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="15d43-132">hello first field identifies hello component that initiated hello dependency request, and hello second identifies which component returned hello response of hello dependency call.</span></span>


## <a name="example"></a><span data-ttu-id="15d43-133">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="15d43-133">Example</span></span>

<span data-ttu-id="15d43-134">U gaat nu een voorbeeld van een toepassing STOCK prijzen Hallo een prijs van een bestand met de externe API Hallo voorraden API aangeroepen wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="15d43-134">Let's take an example of an application STOCK PRICES showing hello current market price of a stock using hello external API called STOCKS API.</span></span> <span data-ttu-id="15d43-135">Hallo STOCK prijzen toepassing heeft een pagina `Stock page` geopend met behulp van Hallo client web browser `GET /Home/Stock`.</span><span class="sxs-lookup"><span data-stu-id="15d43-135">hello STOCK PRICES application has a page `Stock page` opened by hello client web browser using `GET /Home/Stock`.</span></span> <span data-ttu-id="15d43-136">query's Hallo-toepassing hello STOCK API met behulp van een HTTP-aanroep `GET /api/stock/value`.</span><span class="sxs-lookup"><span data-stu-id="15d43-136">hello application queries hello STOCK API by using an HTTP call `GET /api/stock/value`.</span></span>

<span data-ttu-id="15d43-137">U kunt analyseren resulterende telemetrie een query uit te voeren:</span><span class="sxs-lookup"><span data-stu-id="15d43-137">You can analyze resulting telemetry running a query:</span></span>

```
(requests | union dependencies | union pageViews) 
| where operation_Id == "STYz"
| project timestamp, itemType, name, id, operation_ParentId, operation_Id
```

<span data-ttu-id="15d43-138">In Hallo resultaat weergave opmerking dat alle telemetrie-items Hallo hoofdmap delen `operation_Id`.</span><span class="sxs-lookup"><span data-stu-id="15d43-138">In hello result view note that all telemetry items share hello root `operation_Id`.</span></span> <span data-ttu-id="15d43-139">Ajax aanroep uitgevoerd vanaf de pagina Hallo - nieuwe unieke id `qJSXU` is toegewezen toohello afhankelijkheidstelemetrie en pageView van id wordt gebruikt als `operation_ParentId`.</span><span class="sxs-lookup"><span data-stu-id="15d43-139">When ajax call made from hello page - new unique id `qJSXU` is assigned toohello dependency telemetry and pageView's id is used as `operation_ParentId`.</span></span> <span data-ttu-id="15d43-140">Serveraanvraag gebruikt op zijn beurt van ajax-id als `operation_ParentId`, enzovoort.</span><span class="sxs-lookup"><span data-stu-id="15d43-140">In turn server request uses ajax's id as `operation_ParentId`, etc.</span></span>

| <span data-ttu-id="15d43-141">itemType</span><span class="sxs-lookup"><span data-stu-id="15d43-141">itemType</span></span>   | <span data-ttu-id="15d43-142">naam</span><span class="sxs-lookup"><span data-stu-id="15d43-142">name</span></span>                      | <span data-ttu-id="15d43-143">id</span><span class="sxs-lookup"><span data-stu-id="15d43-143">id</span></span>           | <span data-ttu-id="15d43-144">operation_ParentId</span><span class="sxs-lookup"><span data-stu-id="15d43-144">operation_ParentId</span></span> | <span data-ttu-id="15d43-145">operation_Id</span><span class="sxs-lookup"><span data-stu-id="15d43-145">operation_Id</span></span> |
|------------|---------------------------|--------------|--------------------|--------------|
| <span data-ttu-id="15d43-146">pageView</span><span class="sxs-lookup"><span data-stu-id="15d43-146">pageView</span></span>   | <span data-ttu-id="15d43-147">Vooraf gedefinieerde pagina</span><span class="sxs-lookup"><span data-stu-id="15d43-147">Stock page</span></span>                |              | <span data-ttu-id="15d43-148">STYz</span><span class="sxs-lookup"><span data-stu-id="15d43-148">STYz</span></span>               | <span data-ttu-id="15d43-149">STYz</span><span class="sxs-lookup"><span data-stu-id="15d43-149">STYz</span></span>         |
| <span data-ttu-id="15d43-150">afhankelijkheid</span><span class="sxs-lookup"><span data-stu-id="15d43-150">dependency</span></span> | <span data-ttu-id="15d43-151">GET-/Home/voorraad</span><span class="sxs-lookup"><span data-stu-id="15d43-151">GET /Home/Stock</span></span>           | <span data-ttu-id="15d43-152">qJSXU</span><span class="sxs-lookup"><span data-stu-id="15d43-152">qJSXU</span></span>        | <span data-ttu-id="15d43-153">STYz</span><span class="sxs-lookup"><span data-stu-id="15d43-153">STYz</span></span>               | <span data-ttu-id="15d43-154">STYz</span><span class="sxs-lookup"><span data-stu-id="15d43-154">STYz</span></span>         |
| <span data-ttu-id="15d43-155">Aanvraag</span><span class="sxs-lookup"><span data-stu-id="15d43-155">request</span></span>    | <span data-ttu-id="15d43-156">GET-startpagina/voorraad</span><span class="sxs-lookup"><span data-stu-id="15d43-156">GET Home/Stock</span></span>            | <span data-ttu-id="15d43-157">KqKwlrSt9PA =</span><span class="sxs-lookup"><span data-stu-id="15d43-157">KqKwlrSt9PA=</span></span> | <span data-ttu-id="15d43-158">qJSXU</span><span class="sxs-lookup"><span data-stu-id="15d43-158">qJSXU</span></span>              | <span data-ttu-id="15d43-159">STYz</span><span class="sxs-lookup"><span data-stu-id="15d43-159">STYz</span></span>         |
| <span data-ttu-id="15d43-160">afhankelijkheid</span><span class="sxs-lookup"><span data-stu-id="15d43-160">dependency</span></span> | <span data-ttu-id="15d43-161">/Api/stock/value ophalen</span><span class="sxs-lookup"><span data-stu-id="15d43-161">GET /api/stock/value</span></span>      | <span data-ttu-id="15d43-162">bBrf2L7mm2g =</span><span class="sxs-lookup"><span data-stu-id="15d43-162">bBrf2L7mm2g=</span></span> | <span data-ttu-id="15d43-163">KqKwlrSt9PA =</span><span class="sxs-lookup"><span data-stu-id="15d43-163">KqKwlrSt9PA=</span></span>       | <span data-ttu-id="15d43-164">STYz</span><span class="sxs-lookup"><span data-stu-id="15d43-164">STYz</span></span>         |

<span data-ttu-id="15d43-165">Wanneer Hallo nu aanroep `GET /api/stock/value` tooan externe service aangebracht gewenste tooknow Hallo identiteit van die server.</span><span class="sxs-lookup"><span data-stu-id="15d43-165">Now when hello call `GET /api/stock/value` made tooan external service you want tooknow hello identity of that server.</span></span> <span data-ttu-id="15d43-166">U kunt instellen `dependency.target` veld op de juiste wijze.</span><span class="sxs-lookup"><span data-stu-id="15d43-166">So you can set `dependency.target` field appropriately.</span></span> <span data-ttu-id="15d43-167">Wanneer de externe service Hallo biedt geen ondersteuning voor het controle - `target` toohello hostnaam van Hallo service, zoals is ingesteld `stock-prices-api.com`.</span><span class="sxs-lookup"><span data-stu-id="15d43-167">When hello external service does not support monitoring - `target` is set toohello host name of hello service like `stock-prices-api.com`.</span></span> <span data-ttu-id="15d43-168">Echter als die service zichzelf identificeert door te retourneren van een vooraf gedefinieerde HTTP-header - `target` Hallo service-identiteit waarmee de Application Insights toobuild gedistribueerd trace door het uitvoeren van query's telemetrie van die service bevat.</span><span class="sxs-lookup"><span data-stu-id="15d43-168">However if that service identifies itself by returning a predefined HTTP header - `target` contains hello service identity that allows Application Insights toobuild distributed trace by querying telemetry from that service.</span></span> 

## <a name="correlation-headers"></a><span data-ttu-id="15d43-169">Correlatie headers</span><span class="sxs-lookup"><span data-stu-id="15d43-169">Correlation headers</span></span>

<span data-ttu-id="15d43-170">We werken over RFC voorstel voor Hallo [correlatie HTTP-protocol](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v1.md).</span><span class="sxs-lookup"><span data-stu-id="15d43-170">We are working on RFC proposal for hello [correlation HTTP protocol](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v1.md).</span></span> <span data-ttu-id="15d43-171">Dit voorstel definieert twee headers worden gebruikt:</span><span class="sxs-lookup"><span data-stu-id="15d43-171">This proposal defines two headers:</span></span>

- <span data-ttu-id="15d43-172">`Request-Id`Hallo globaal unieke id van Hallo-aanroep uitvoeren</span><span class="sxs-lookup"><span data-stu-id="15d43-172">`Request-Id` carry hello globally unique id of hello call</span></span>
- <span data-ttu-id="15d43-173">`Correlation-Context`-Hallo de naam van waarde-paren verzameling Hallo gedistribueerd trace eigenschappen uitvoeren</span><span class="sxs-lookup"><span data-stu-id="15d43-173">`Correlation-Context` - carry hello name value pairs collection of hello distributed trace properties</span></span>

<span data-ttu-id="15d43-174">Hallo standaard definieert ook twee schema's van `Request-Id` generatie - platte en hiërarchische.</span><span class="sxs-lookup"><span data-stu-id="15d43-174">hello standard also defines two schemas of `Request-Id` generation - flat and hierarchical.</span></span> <span data-ttu-id="15d43-175">Met de platte schema hello, er is een bekende `Id` sleutel gedefinieerd voor Hallo `Correlation-Context` verzameling.</span><span class="sxs-lookup"><span data-stu-id="15d43-175">With hello flat schema, there is a well-known `Id` key defined for hello `Correlation-Context` collection.</span></span>

<span data-ttu-id="15d43-176">Application Insights definieert Hallo [extensie](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v2.md) voor Hallo correlatie HTTP-protocol.</span><span class="sxs-lookup"><span data-stu-id="15d43-176">Application Insights defines hello [extension](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v2.md) for hello correlation HTTP protocol.</span></span> <span data-ttu-id="15d43-177">Hierbij `Request-Context` naam / waardeparen toopropagate Hallo verzameling eigenschappen die worden gebruikt door de onmiddellijke aanroeper Hallo of opgeroepen.</span><span class="sxs-lookup"><span data-stu-id="15d43-177">It uses `Request-Context` name value pairs toopropagate hello collection of properties used by hello immediate caller or callee.</span></span> <span data-ttu-id="15d43-178">Application Insights-SDK maakt gebruik van deze header tooset `dependency.target` en `request.source` velden.</span><span class="sxs-lookup"><span data-stu-id="15d43-178">Application Insights SDK uses this header tooset `dependency.target` and `request.source` fields.</span></span>

## <a name="open-tracing-and-application-insights"></a><span data-ttu-id="15d43-179">Open tracering en Application Insights</span><span class="sxs-lookup"><span data-stu-id="15d43-179">Open tracing and Application Insights</span></span>

<span data-ttu-id="15d43-180">[Open tracering](http://opentracing.io/) en Application Insights gegevens ziet er modellen</span><span class="sxs-lookup"><span data-stu-id="15d43-180">[Open Tracing](http://opentracing.io/) and Application Insights data models looks</span></span> 

- <span data-ttu-id="15d43-181">`request`, `pageView` te toegewezen**Span** met`span.kind = server`</span><span class="sxs-lookup"><span data-stu-id="15d43-181">`request`, `pageView` maps too**Span** with `span.kind = server`</span></span>
- <span data-ttu-id="15d43-182">`dependency`toegewezen te**Span** met`span.kind = client`</span><span class="sxs-lookup"><span data-stu-id="15d43-182">`dependency` maps too**Span** with `span.kind = client`</span></span>
- <span data-ttu-id="15d43-183">`id`van een `request` en `dependency` te toegewezen**Span.Id**</span><span class="sxs-lookup"><span data-stu-id="15d43-183">`id` of a `request` and `dependency` maps too**Span.Id**</span></span>
- <span data-ttu-id="15d43-184">`operation_Id`toegewezen te**TraceId**</span><span class="sxs-lookup"><span data-stu-id="15d43-184">`operation_Id` maps too**TraceId**</span></span>
- <span data-ttu-id="15d43-185">`operation_ParentId`toegewezen te**verwijzing** van het type`ChileOf`</span><span class="sxs-lookup"><span data-stu-id="15d43-185">`operation_ParentId` maps too**Reference** of type `ChileOf`</span></span>

<span data-ttu-id="15d43-186">Zie [gegevensmodel](application-insights-data-model.md) voor Application Insights-typen en data model.</span><span class="sxs-lookup"><span data-stu-id="15d43-186">See [data model](application-insights-data-model.md) for Application Insights types and data model.</span></span>

<span data-ttu-id="15d43-187">Zie [specificatie](https://github.com/opentracing/specification/blob/master/specification.md) en [semantic_conventions](https://github.com/opentracing/specification/blob/master/semantic_conventions.md) voor definities van de concepten Open tracering.</span><span class="sxs-lookup"><span data-stu-id="15d43-187">See [specification](https://github.com/opentracing/specification/blob/master/specification.md) and [semantic_conventions](https://github.com/opentracing/specification/blob/master/semantic_conventions.md) for definitions of Open Tracing concepts.</span></span>


## <a name="telemetry-correlation-in-net"></a><span data-ttu-id="15d43-188">Telemetrie correlatie in .NET</span><span class="sxs-lookup"><span data-stu-id="15d43-188">Telemetry correlation in .NET</span></span>

<span data-ttu-id="15d43-189">Na verloop van tijd .NET gedefinieerd aantal manieren toocorrelate Telemetrie en diagnostische logboeken.</span><span class="sxs-lookup"><span data-stu-id="15d43-189">Over time .NET defined number of ways toocorrelate telemetry and diagnostics logs.</span></span> <span data-ttu-id="15d43-190">Er is `System.Diagnostics.CorrelationManager` zodat tootrack [LogicalOperationStack en ActivityId](https://msdn.microsoft.com/library/system.diagnostics.correlationmanager.aspx).</span><span class="sxs-lookup"><span data-stu-id="15d43-190">There is `System.Diagnostics.CorrelationManager` allowing tootrack [LogicalOperationStack and ActivityId](https://msdn.microsoft.com/library/system.diagnostics.correlationmanager.aspx).</span></span> <span data-ttu-id="15d43-191">`System.Diagnostics.Tracing.EventSource`en Windows (ETW) definiëren Hallo methode [SetCurrentThreadActivityId](https://msdn.microsoft.com/library/system.diagnostics.tracing.eventsource.setcurrentthreadactivityid.aspx).</span><span class="sxs-lookup"><span data-stu-id="15d43-191">`System.Diagnostics.Tracing.EventSource` and Windows ETW define hello method [SetCurrentThreadActivityId](https://msdn.microsoft.com/library/system.diagnostics.tracing.eventsource.setcurrentthreadactivityid.aspx).</span></span> <span data-ttu-id="15d43-192">`ILogger`maakt gebruik van [logboek Scopes](https://docs.microsoft.com/aspnet/core/fundamentals/logging#log-scopes).</span><span class="sxs-lookup"><span data-stu-id="15d43-192">`ILogger` uses [Log Scopes](https://docs.microsoft.com/aspnet/core/fundamentals/logging#log-scopes).</span></span> <span data-ttu-id="15d43-193">WCF- en HTTP-kabel van 'huidige' context doorgeven.</span><span class="sxs-lookup"><span data-stu-id="15d43-193">WCF and Http wire up "current" context propagation.</span></span>

<span data-ttu-id="15d43-194">Deze methoden niet echter ondersteuning voor automatische gedistribueerde tracering inschakelen.</span><span class="sxs-lookup"><span data-stu-id="15d43-194">However those methods didn't enable automatic distributed tracing support.</span></span> <span data-ttu-id="15d43-195">`DiagnosticsSource`is een manier toosupport automatische cross-machine correlatie.</span><span class="sxs-lookup"><span data-stu-id="15d43-195">`DiagnosticsSource` is a way toosupport automatic cross machine correlation.</span></span> <span data-ttu-id="15d43-196">.NET-bibliotheken ondersteunen diagnostische gegevens en automatische cross machine doorgifte van Hallo correlatie context via Hallo transport zoals http toestaan.</span><span class="sxs-lookup"><span data-stu-id="15d43-196">.NET libraries support Diagnostics Source and allow automatic cross machine propagation of hello correlation context via hello transport like http.</span></span>

<span data-ttu-id="15d43-197">Hallo [tooActivities begeleiden](https://github.com/dotnet/corefx/blob/master/src/System.Diagnostics.DiagnosticSource/src/ActivityUserGuide.md) wordt uitgelegd Hallo basisbeginselen van het bijhouden van activiteiten in de bron van de diagnostische gegevens.</span><span class="sxs-lookup"><span data-stu-id="15d43-197">hello [guide tooActivities](https://github.com/dotnet/corefx/blob/master/src/System.Diagnostics.DiagnosticSource/src/ActivityUserGuide.md) in Diagnostics Source explains hello basics of tracking Activities.</span></span> 

<span data-ttu-id="15d43-198">ASP.NET Core 2.0 ondersteunt extractie van Http-Headers en nieuwe activiteit vanaf Hallo.</span><span class="sxs-lookup"><span data-stu-id="15d43-198">ASP.NET Core 2.0 supports extraction of Http Headers and starting hello new Activity.</span></span> 

<span data-ttu-id="15d43-199">`System.Net.HttpClient`versie `<fill in>` ondersteunt automatische injectie van Hallo correlatie Http-Headers en bij te houden Hallo http-aanroep als een activiteit.</span><span class="sxs-lookup"><span data-stu-id="15d43-199">`System.Net.HttpClient` starting version `<fill in>` supports automatic injection of hello correlation Http Headers and tracking hello http call as an Activity.</span></span>

<span data-ttu-id="15d43-200">Er is een nieuwe Http-Module [Microsoft.AspNet.TelemetryCorrelation](https://www.nuget.org/packages/Microsoft.AspNet.TelemetryCorrelation/) voor ASP.NET, klassiek Hallo.</span><span class="sxs-lookup"><span data-stu-id="15d43-200">There is a new Http Module [Microsoft.AspNet.TelemetryCorrelation](https://www.nuget.org/packages/Microsoft.AspNet.TelemetryCorrelation/) for hello ASP.NET Classic.</span></span> <span data-ttu-id="15d43-201">Deze module implementeert telemetrie correlatie met DiagnosticsSource.</span><span class="sxs-lookup"><span data-stu-id="15d43-201">This module implements telemetry correlation using DiagnosticsSource.</span></span> <span data-ttu-id="15d43-202">Deze activiteit op basis van binnenkomende aanvraagheaders wordt gestart.</span><span class="sxs-lookup"><span data-stu-id="15d43-202">It starts activity based on incoming request headers.</span></span> <span data-ttu-id="15d43-203">Deze correleert ook telemetrie van de verschillende stadia Hallo van aanvraagverwerking.</span><span class="sxs-lookup"><span data-stu-id="15d43-203">It also correlates telemetry from hello different stages of request processing.</span></span> <span data-ttu-id="15d43-204">Ook voor gevallen Hallo wanneer elke fase van de verwerking van IIS wordt uitgevoerd op een andere beheren threads.</span><span class="sxs-lookup"><span data-stu-id="15d43-204">Even for hello cases when every stage of IIS processing runs on a different manage threads.</span></span>

<span data-ttu-id="15d43-205">Application Insights-SDK versie `2.4.0-beta1` DiagnosticsSource en activiteit toocollect telemetrie gebruikt en deze koppelen aan de huidige activiteit Hallo.</span><span class="sxs-lookup"><span data-stu-id="15d43-205">Application Insights SDK starting version `2.4.0-beta1` uses DiagnosticsSource and Activity toocollect telemetry and associate it with hello current activity.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="15d43-206">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="15d43-206">Next steps</span></span>

- [<span data-ttu-id="15d43-207">Aangepaste telemetrie schrijven</span><span class="sxs-lookup"><span data-stu-id="15d43-207">Write custom telemetry</span></span>](app-insights-api-custom-events-metrics.md)
- <span data-ttu-id="15d43-208">Ingebouwde alle onderdelen van uw micro-service op de Application Insights.</span><span class="sxs-lookup"><span data-stu-id="15d43-208">Onboard all components of your micro service on Application Insights.</span></span> <span data-ttu-id="15d43-209">Bekijk [ondersteunde platforms](app-insights-platforms.md).</span><span class="sxs-lookup"><span data-stu-id="15d43-209">Check out [supported platforms](app-insights-platforms.md).</span></span>
- <span data-ttu-id="15d43-210">Zie [gegevensmodel](application-insights-data-model.md) voor Application Insights-typen en data model.</span><span class="sxs-lookup"><span data-stu-id="15d43-210">See [data model](application-insights-data-model.md) for Application Insights types and data model.</span></span>
- <span data-ttu-id="15d43-211">Meer informatie over hoe te[uitbreiden en het filteren van telemetrie](app-insights-api-filtering-sampling.md).</span><span class="sxs-lookup"><span data-stu-id="15d43-211">Learn how too[extend and filter telemetry](app-insights-api-filtering-sampling.md).</span></span>
