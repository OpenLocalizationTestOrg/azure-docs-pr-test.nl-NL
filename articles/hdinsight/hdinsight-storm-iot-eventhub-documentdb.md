---
title: aaaProcess vehicle sensorgegevens met Apache Storm op HDInsight | Microsoft Docs
description: Meer informatie over hoe tooprocess vehicle sensorgegevens uit Event Hubs met Apache Storm op HDInsight. Modelgegevens toevoegen via Azure Cosmos DB en uitvoer toostorage op te slaan.
services: hdinsight,documentdb,notification-hubs
documentationcenter: 
author: Blackmist
manager: jhubbard
editor: cgronlun
ms.assetid: 78980635-8bef-4c33-96c3-fae50e932e31
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: java
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/03/2017
ms.author: larryfr
ms.openlocfilehash: 8f7b1dbb9072e095ea32160bb731bedd071288af
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="process-vehicle-sensor-data-from-azure-event-hubs-using-apache-storm-on-hdinsight"></a><span data-ttu-id="16f1b-104">Vehicle sensorgegevens uit Azure Event Hubs met Apache Storm op HDInsight verwerken</span><span class="sxs-lookup"><span data-stu-id="16f1b-104">Process vehicle sensor data from Azure Event Hubs using Apache Storm on HDInsight</span></span>

<span data-ttu-id="16f1b-105">Meer informatie over hoe tooprocess vehicle sensorgegevens uit Azure Event Hubs met Apache Storm op HDInsight.</span><span class="sxs-lookup"><span data-stu-id="16f1b-105">Learn how tooprocess vehicle sensor data from Azure Event Hubs using Apache Storm on HDInsight.</span></span> <span data-ttu-id="16f1b-106">In dit voorbeeld leest sensorgegevens uit Azure Event Hubs, verrijkt Hallo gegevens door te verwijzen naar gegevens die zijn opgeslagen in Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="16f1b-106">This example reads sensor data from Azure Event Hubs, enriches hello data by referencing data stored in Azure Cosmos DB.</span></span> <span data-ttu-id="16f1b-107">Hallo-gegevens worden opgeslagen in Azure Storage met Hallo Hadoop File System (HDFS).</span><span class="sxs-lookup"><span data-stu-id="16f1b-107">hello data is stored into Azure Storage using hello Hadoop File System (HDFS).</span></span>

![HDInsight en Hallo-Architectuurdiagram van Internet der dingen (IoT)](./media/hdinsight-storm-iot-eventhub-documentdb/iot.png)

## <a name="overview"></a><span data-ttu-id="16f1b-109">Overzicht</span><span class="sxs-lookup"><span data-stu-id="16f1b-109">Overview</span></span>

<span data-ttu-id="16f1b-110">Sensoren toovehicles toe te voegen, kunt u toopredict apparatuur problemen op basis van historische gegevens, trends.</span><span class="sxs-lookup"><span data-stu-id="16f1b-110">Adding sensors toovehicles allows you toopredict equipment problems based on historical data trends.</span></span> <span data-ttu-id="16f1b-111">Ook kunt u toomake verbeteringen op basis van het patroon gebruiksanalyse toofuture-versies.</span><span class="sxs-lookup"><span data-stu-id="16f1b-111">It also allows you toomake improvements toofuture versions based on usage pattern analysis.</span></span> <span data-ttu-id="16f1b-112">Kunnen tooquickly moeten en efficiënt Hallo gegevens laden van alle voertuigen in Hadoop voordat MapReduce-verwerking kan plaatsvinden.</span><span class="sxs-lookup"><span data-stu-id="16f1b-112">You must be able tooquickly and efficiently load hello data from all vehicles into Hadoop before MapReduce processing can occur.</span></span> <span data-ttu-id="16f1b-113">U kunt bovendien toodo analyse voor kritieke fout paden (temperatuur motor, remmen, enzovoort) in realtime.</span><span class="sxs-lookup"><span data-stu-id="16f1b-113">Additionally, you may wish toodo analysis for critical failure paths (engine temperature, brakes, etc.) in real time.</span></span>

<span data-ttu-id="16f1b-114">Azure Event Hubs is toohandle Hallo enorme hoeveelheid gegevens die worden gegenereerd door sensoren gebouwd.</span><span class="sxs-lookup"><span data-stu-id="16f1b-114">Azure Event Hubs is built toohandle hello massive volume of data generated by sensors.</span></span> <span data-ttu-id="16f1b-115">Apache Storm kan gebruikte tooload en proces Hallo gegevens zijn voordat deze tijdens het opslaan in HDFS.</span><span class="sxs-lookup"><span data-stu-id="16f1b-115">Apache Storm can be used tooload and process hello data before storing it into HDFS.</span></span>

## <a name="solution"></a><span data-ttu-id="16f1b-116">Oplossing</span><span class="sxs-lookup"><span data-stu-id="16f1b-116">Solution</span></span>

<span data-ttu-id="16f1b-117">Telemetriegegevens voor engine temperatuur, temperatuur en vehicle snelheid wordt vastgelegd door sensoren.</span><span class="sxs-lookup"><span data-stu-id="16f1b-117">Telemetry data for engine temperature, ambient temperature, and vehicle speed is recorded by sensors.</span></span> <span data-ttu-id="16f1b-118">Gegevens worden vervolgens tooEvent Hubs samen met de Hallo auto Vehicle identificatie nummer (VIN) en een tijdstempel verzonden.</span><span class="sxs-lookup"><span data-stu-id="16f1b-118">Data is then sent tooEvent Hubs along with hello car's Vehicle Identification Number (VIN) and a time stamp.</span></span> <span data-ttu-id="16f1b-119">Processen erdoor en slaat ze op in HDFS van daaruit een Storm-topologie uitgevoerd op een Apache Storm op HDInsight-cluster Hallo gegevens leest.</span><span class="sxs-lookup"><span data-stu-id="16f1b-119">From there, a Storm Topology running on an Apache Storm on HDInsight cluster reads hello data, processes it, and stores it into HDFS.</span></span>

<span data-ttu-id="16f1b-120">Tijdens de verwerking is Hallo VIN gebruikte tooretrieve modelgegevens van de Cosmos-database.</span><span class="sxs-lookup"><span data-stu-id="16f1b-120">During processing, hello VIN is used tooretrieve model information from Cosmos DB.</span></span> <span data-ttu-id="16f1b-121">Deze gegevens is toohello gegevensstroom toegevoegd voordat deze is opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="16f1b-121">This data is added toohello data stream before it is stored.</span></span>

<span data-ttu-id="16f1b-122">Hallo-onderdelen die worden gebruikt in Hallo Storm-topologie zijn:</span><span class="sxs-lookup"><span data-stu-id="16f1b-122">hello components used in hello Storm Topology are:</span></span>

* <span data-ttu-id="16f1b-123">**EventHubSpout** -leest de gegevens uit Azure Event Hubs</span><span class="sxs-lookup"><span data-stu-id="16f1b-123">**EventHubSpout** - reads data from Azure Event Hubs</span></span>
* <span data-ttu-id="16f1b-124">**TypeConversionBolt** -converteert Hallo JSON-tekenreeks van Event Hubs in een tuple met Hallo sensorgegevens te volgen:</span><span class="sxs-lookup"><span data-stu-id="16f1b-124">**TypeConversionBolt** - converts hello JSON string from Event Hubs into a tuple containing hello following sensor data:</span></span>
    * <span data-ttu-id="16f1b-125">Engine temperatuur</span><span class="sxs-lookup"><span data-stu-id="16f1b-125">Engine temperature</span></span>
    * <span data-ttu-id="16f1b-126">Temperatuur</span><span class="sxs-lookup"><span data-stu-id="16f1b-126">Ambient temperature</span></span>
    * <span data-ttu-id="16f1b-127">Snelheid</span><span class="sxs-lookup"><span data-stu-id="16f1b-127">Speed</span></span>
    * <span data-ttu-id="16f1b-128">CHASSISNUMMER</span><span class="sxs-lookup"><span data-stu-id="16f1b-128">VIN</span></span>
    * <span data-ttu-id="16f1b-129">tijdstempel</span><span class="sxs-lookup"><span data-stu-id="16f1b-129">Timestamp</span></span>
* <span data-ttu-id="16f1b-130">**DataReferencBolt** -Hallo vehicle model van de Cosmos-database met behulp van Hallo VIN worden opgezocht</span><span class="sxs-lookup"><span data-stu-id="16f1b-130">**DataReferencBolt** - looks up hello vehicle model from Cosmos DB using hello VIN</span></span>
* <span data-ttu-id="16f1b-131">**WasbStoreBolt** -stores Hallo gegevens tooHDFS (Azure-opslag)</span><span class="sxs-lookup"><span data-stu-id="16f1b-131">**WasbStoreBolt** - stores hello data tooHDFS (Azure Storage)</span></span>

<span data-ttu-id="16f1b-132">Hallo volgende afbeelding ziet u een diagram van deze oplossing:</span><span class="sxs-lookup"><span data-stu-id="16f1b-132">hello following image is a diagram of this solution:</span></span>

![storm-topologie](./media/hdinsight-storm-iot-eventhub-documentdb/iottopology.png)

## <a name="implementation"></a><span data-ttu-id="16f1b-134">Implementatie</span><span class="sxs-lookup"><span data-stu-id="16f1b-134">Implementation</span></span>

<span data-ttu-id="16f1b-135">Een complete geautomatiseerde oplossing voor dit scenario is beschikbaar als onderdeel van Hallo [HDInsight-Storm-voorbeelden](https://github.com/hdinsight/hdinsight-storm-examples) opslagplaats op GitHub.</span><span class="sxs-lookup"><span data-stu-id="16f1b-135">A complete, automated solution for this scenario is available as part of hello [HDInsight-Storm-Examples](https://github.com/hdinsight/hdinsight-storm-examples) repository on GitHub.</span></span> <span data-ttu-id="16f1b-136">toouse in dit voorbeeld, volg de stappen Hallo in Hallo [IoTExample README. MD](https://github.com/hdinsight/hdinsight-storm-examples/blob/master/IotExample/README.md).</span><span class="sxs-lookup"><span data-stu-id="16f1b-136">toouse this example, follow hello steps in hello [IoTExample README.MD](https://github.com/hdinsight/hdinsight-storm-examples/blob/master/IotExample/README.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="16f1b-137">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="16f1b-137">Next Steps</span></span>

<span data-ttu-id="16f1b-138">Zie voor meer voorbeeld Storm-topologieën [voorbeeldtopologieën van Storm op HDInsight](hdinsight-storm-example-topology.md).</span><span class="sxs-lookup"><span data-stu-id="16f1b-138">For more example Storm topologies, see [Example topologies for Storm on HDInsight](hdinsight-storm-example-topology.md).</span></span>

