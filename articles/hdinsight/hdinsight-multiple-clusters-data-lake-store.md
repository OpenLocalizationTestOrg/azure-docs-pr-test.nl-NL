---
title: meerdere HDInsight-clusters met een Azure Data Lake Store-account - Azure aaaUse | Microsoft Docs
description: "Meer informatie over hoe toouse meer dan één HDInsight-cluster met één Data Lake Store-account"
keywords: hdinsight-opslag, hdfs, gestructureerde gegevens, ongestructureerde gegevens, data lake store
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 3a125b91fcc1e436270a1bd349f7a2d8f27e06fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="8eac9-104">Meerdere HDInsight-clusters met een Azure Data Lake Store-account gebruiken</span><span class="sxs-lookup"><span data-stu-id="8eac9-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="8eac9-105">Beginnen met HDInsight versie 3.5, kunt u HDInsight-clusters maken met Azure Data Lake Store-accounts als Hallo standaard bestandssysteem.</span><span class="sxs-lookup"><span data-stu-id="8eac9-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as hello default filesystem.</span></span>
<span data-ttu-id="8eac9-106">Data Lake Store biedt onbeperkte opslag die het maakt niet alleen voor het hosten van grote hoeveelheden gegevens; ideaal ondersteuning maar ook voor het hosten van meerdere HDInsight-clusters die share één Data Lake Store-Account.</span><span class="sxs-lookup"><span data-stu-id="8eac9-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="8eac9-107">Zie voor instructionson hoe toocreate een HDInsight-cluster met Data Lake Store als Hallo opslag, [HDInsight-clusters maken met Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="8eac9-107">For instructionson how toocreate an HDInsight cluster with Data Lake Store as hello storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="8eac9-108">Dit artikel bevat aanbevelingen toohello Data Lake store-beheerder voor het instellen van een enkel en gedeelde Data Lake opslaan-Account waarmee u over meerdere **active** HDInsight-clusters.</span><span class="sxs-lookup"><span data-stu-id="8eac9-108">This article provides recommendations toohello Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="8eac9-109">Deze aanbevelingen toepassing toohosting meerdere beveiligde, evenals een niet-beveiligde Hadoop-clusters op een gedeelde Data Lake store-account.</span><span class="sxs-lookup"><span data-stu-id="8eac9-109">These recommendations apply toohosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="8eac9-110">Data Lake Store bestanden en mappen niveau ACL 's</span><span class="sxs-lookup"><span data-stu-id="8eac9-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="8eac9-111">Hallo rest van dit artikel wordt ervan uitgegaan dat u een goede kennis hebben van bestanden en mappen niveau ACL's in Azure Data Lake Store, die wordt beschreven op [toegangsbeheer in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="8eac9-111">hello rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="8eac9-112">Data Lake Store-installatie voor meerdere HDInsight-clusters</span><span class="sxs-lookup"><span data-stu-id="8eac9-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="8eac9-113">Laat het ons nemen een maphiërarchie met twee niveaus tooexplain Hallo aanbevelingen voor het gebruik van bevat meerdere HDInsight-clusters met een Data Lake Store-account.</span><span class="sxs-lookup"><span data-stu-id="8eac9-113">Let us take a two-level folder hierarchy tooexplain hello recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="8eac9-114">Houd rekening met het hebben van een Data Lake Store-account met de mapstructuur Hallo **/clusters/financiën**.</span><span class="sxs-lookup"><span data-stu-id="8eac9-114">Consider you have a Data Lake Store account with hello folder structure **/clusters/finance**.</span></span> <span data-ttu-id="8eac9-115">Met deze structuur alle Hallo clusters vereist door Hallo Financiën organisatie /clusters/finance als opslaglocatie hello gebruiken.</span><span class="sxs-lookup"><span data-stu-id="8eac9-115">With this structure, all hello clusters required by hello Finance organization can use /clusters/finance as hello storage location.</span></span> <span data-ttu-id="8eac9-116">In Hallo toekomstige als een andere organisatie spreken Marketing, wil toocreate HDInsight-clusters met Hallo hetzelfde Data Lake Store-account, /clusters/marketing kan worden gemaakt.</span><span class="sxs-lookup"><span data-stu-id="8eac9-116">In hello future, if another organization, say Marketing, wants toocreate HDInsight clusters using hello same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="8eac9-117">Nu gaan we gebruiken **/clusters/financiën**.</span><span class="sxs-lookup"><span data-stu-id="8eac9-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="8eac9-118">tooenable deze map structuur toobe effectief door HDInsight-clusters gebruikt, Hallo Data Lake Store-beheerder moet toewijzen gemachtigd, zoals beschreven in de tabel Hallo.</span><span class="sxs-lookup"><span data-stu-id="8eac9-118">tooenable this folder structure toobe effectively used by HDInsight clusters, hello Data Lake Store administrator must assign appropriate permissions, as described in hello table.</span></span> <span data-ttu-id="8eac9-119">Hallo-machtigingen weergegeven in de tabel Hallo overeen tooAccess-ACL's en geen standaard-ACL's.</span><span class="sxs-lookup"><span data-stu-id="8eac9-119">hello permissions shown in hello table correspond tooAccess-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="8eac9-120">Map</span><span class="sxs-lookup"><span data-stu-id="8eac9-120">Folder</span></span>  |<span data-ttu-id="8eac9-121">Machtigingen</span><span class="sxs-lookup"><span data-stu-id="8eac9-121">Permissions</span></span>  |<span data-ttu-id="8eac9-122">Gebruiker die eigenaar is</span><span class="sxs-lookup"><span data-stu-id="8eac9-122">Owning user</span></span>  |<span data-ttu-id="8eac9-123">Groep die eigenaar is</span><span class="sxs-lookup"><span data-stu-id="8eac9-123">Owning group</span></span>  | <span data-ttu-id="8eac9-124">Benoemde gebruiker</span><span class="sxs-lookup"><span data-stu-id="8eac9-124">Named user</span></span> | <span data-ttu-id="8eac9-125">Benoemde gebruikersmachtigingen</span><span class="sxs-lookup"><span data-stu-id="8eac9-125">Named user permissions</span></span> | <span data-ttu-id="8eac9-126">Benoemde groep</span><span class="sxs-lookup"><span data-stu-id="8eac9-126">Named group</span></span> | <span data-ttu-id="8eac9-127">Benoemde groepsmachtigingen</span><span class="sxs-lookup"><span data-stu-id="8eac9-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="8eac9-128">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="8eac9-128">rwxr-x--x</span></span>  |<span data-ttu-id="8eac9-129">Beheerder</span><span class="sxs-lookup"><span data-stu-id="8eac9-129">admin</span></span> |<span data-ttu-id="8eac9-130">Beheerder</span><span class="sxs-lookup"><span data-stu-id="8eac9-130">admin</span></span>  |<span data-ttu-id="8eac9-131">Service-principal</span><span class="sxs-lookup"><span data-stu-id="8eac9-131">Service principal</span></span> |<span data-ttu-id="8eac9-132">--x</span><span class="sxs-lookup"><span data-stu-id="8eac9-132">--x</span></span>  |<span data-ttu-id="8eac9-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="8eac9-133">FINGRP</span></span>   |<span data-ttu-id="8eac9-134">r-x</span><span class="sxs-lookup"><span data-stu-id="8eac9-134">r-x</span></span>         |
|<span data-ttu-id="8eac9-135">/clusters</span><span class="sxs-lookup"><span data-stu-id="8eac9-135">/clusters</span></span> | <span data-ttu-id="8eac9-136">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="8eac9-136">rwxr-x--x</span></span> |<span data-ttu-id="8eac9-137">Beheerder</span><span class="sxs-lookup"><span data-stu-id="8eac9-137">admin</span></span> |<span data-ttu-id="8eac9-138">Beheerder</span><span class="sxs-lookup"><span data-stu-id="8eac9-138">admin</span></span> |<span data-ttu-id="8eac9-139">Service-principal</span><span class="sxs-lookup"><span data-stu-id="8eac9-139">Service principal</span></span> |<span data-ttu-id="8eac9-140">--x</span><span class="sxs-lookup"><span data-stu-id="8eac9-140">--x</span></span>  |<span data-ttu-id="8eac9-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="8eac9-141">FINGRP</span></span> |<span data-ttu-id="8eac9-142">r-x</span><span class="sxs-lookup"><span data-stu-id="8eac9-142">r-x</span></span>         |
|<span data-ttu-id="8eac9-143">clusters/Financiën</span><span class="sxs-lookup"><span data-stu-id="8eac9-143">/clusters/finance</span></span> | <span data-ttu-id="8eac9-144">rwxr-x--t</span><span class="sxs-lookup"><span data-stu-id="8eac9-144">rwxr-x--t</span></span> |<span data-ttu-id="8eac9-145">Beheerder</span><span class="sxs-lookup"><span data-stu-id="8eac9-145">admin</span></span> |<span data-ttu-id="8eac9-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="8eac9-146">FINGRP</span></span>  |<span data-ttu-id="8eac9-147">Service-principal</span><span class="sxs-lookup"><span data-stu-id="8eac9-147">Service principal</span></span> |<span data-ttu-id="8eac9-148">rwx</span><span class="sxs-lookup"><span data-stu-id="8eac9-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="8eac9-149">In de tabel hello,</span><span class="sxs-lookup"><span data-stu-id="8eac9-149">In hello table,</span></span>

- <span data-ttu-id="8eac9-150">**beheerder** Hallo Maker en de beheerder van Hallo Data Lake Store-account is.</span><span class="sxs-lookup"><span data-stu-id="8eac9-150">**admin** is hello creator and administrator of hello Data Lake Store account.</span></span>
- <span data-ttu-id="8eac9-151">**Service-principal** hello Azure Active Directory (AAD) service-principal die is gekoppeld aan het Hallo-account is.</span><span class="sxs-lookup"><span data-stu-id="8eac9-151">**Service principal** is hello Azure Active Directory (AAD) service principal associated with hello account.</span></span>
- <span data-ttu-id="8eac9-152">**FINGRP** is een gebruikersgroep gemaakt in AAD die gebruikers van Hallo Financiën organisatie bevat.</span><span class="sxs-lookup"><span data-stu-id="8eac9-152">**FINGRP** is a user group created in AAD that contains users from hello Finance organization.</span></span>

<span data-ttu-id="8eac9-153">Voor instructies over hoe toocreate een AAD-toepassing (die u maakt ook een Service-Principal), Zie [een AAD-toepassing maken](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="8eac9-153">For instructions on how toocreate an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="8eac9-154">Voor instructies over hoe toocreate een gebruikersgroep in AAD, Zie [groepen beheren in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="8eac9-154">For instructions on how toocreate a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="8eac9-155">Sommige tooconsider belangrijke punten.</span><span class="sxs-lookup"><span data-stu-id="8eac9-155">Some key points tooconsider.</span></span>

- <span data-ttu-id="8eac9-156">Hallo twee niveau mapstructuur (**/clusters financiën/**) moet worden gemaakt en ingericht met de juiste machtigingen door Hallo Data Lake Store beheerder **voordat** Hallo storage-account gebruiken voor clusters.</span><span class="sxs-lookup"><span data-stu-id="8eac9-156">hello two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by hello Data Lake Store admin **before** using hello storage account for clusters.</span></span> <span data-ttu-id="8eac9-157">Deze structuur wordt niet automatisch gemaakt tijdens het maken van clusters.</span><span class="sxs-lookup"><span data-stu-id="8eac9-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="8eac9-158">Hallo in bovenstaand voorbeeld raadt instelling Hallo die eigenaar is van de groep van **/clusters/financiën** als **FINGRP** en waardoor **r-x** toegang tot tooFINGRP toohello hele maphiërarchie vanaf Hallo-hoofdmap.</span><span class="sxs-lookup"><span data-stu-id="8eac9-158">hello example above recommends setting hello owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access tooFINGRP toohello entire folder hierarchy starting from hello root.</span></span> <span data-ttu-id="8eac9-159">Dit zorgt ervoor dat leden van FINGRP Hallo Hallo mapstructuur starten vanuit de hoofdmap kunnen navigeren.</span><span class="sxs-lookup"><span data-stu-id="8eac9-159">This ensures that hello members of FINGRP can navigate hello folder structure starting from root.</span></span>
- <span data-ttu-id="8eac9-160">In geval van Hallo wanneer verschillende AAD-Service-Principals kunt clusters onder maken **clusters/financiën**, een tijdelijke Hallo-bits (wanneer ingesteld op Hallo **financiën** map) zorgt ervoor dat de mappen door een Service gemaakt Principal kan niet worden verwijderd door Hallo andere.</span><span class="sxs-lookup"><span data-stu-id="8eac9-160">In hello case when different AAD Service Principals can create clusters under **/clusters/finance**, hello sticky-bit (when set on hello **finance** folder) ensures that folders created by one Service Principal cannot be deleted by hello other.</span></span>
- <span data-ttu-id="8eac9-161">Zodra het Hallo-mapstructuur en de machtigingen gemaakt zijn, aanmaakproces voor HDInsight-cluster maakt een loaction clusterspecifieke opslag onder **/clustersfinanciën/**.</span><span class="sxs-lookup"><span data-stu-id="8eac9-161">Once hello folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="8eac9-162">Hallo-opslag voor een cluster met Hallo naam fincluster01 kan bijvoorbeeld **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="8eac9-162">For example, hello storage for a cluster with hello name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="8eac9-163">Hallo eigendom en machtigingen voor Hallo-mappen die zijn gemaakt door HDInsight-cluster worden weergegeven in hier Hallo-tabel.</span><span class="sxs-lookup"><span data-stu-id="8eac9-163">hello ownership and permissions for hello folders created by HDInsight cluster is shown in hello table here.</span></span>

    |<span data-ttu-id="8eac9-164">Map</span><span class="sxs-lookup"><span data-stu-id="8eac9-164">Folder</span></span>  |<span data-ttu-id="8eac9-165">Machtigingen</span><span class="sxs-lookup"><span data-stu-id="8eac9-165">Permissions</span></span>  |<span data-ttu-id="8eac9-166">Gebruiker die eigenaar is</span><span class="sxs-lookup"><span data-stu-id="8eac9-166">Owning user</span></span>  |<span data-ttu-id="8eac9-167">Groep die eigenaar is</span><span class="sxs-lookup"><span data-stu-id="8eac9-167">Owning group</span></span>  | <span data-ttu-id="8eac9-168">Benoemde gebruiker</span><span class="sxs-lookup"><span data-stu-id="8eac9-168">Named user</span></span> | <span data-ttu-id="8eac9-169">Benoemde gebruikersmachtigingen</span><span class="sxs-lookup"><span data-stu-id="8eac9-169">Named user permissions</span></span> | <span data-ttu-id="8eac9-170">Benoemde groep</span><span class="sxs-lookup"><span data-stu-id="8eac9-170">Named group</span></span> | <span data-ttu-id="8eac9-171">Benoemde groepsmachtigingen</span><span class="sxs-lookup"><span data-stu-id="8eac9-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="8eac9-172">/clusters/finanace/fincluster01</span><span class="sxs-lookup"><span data-stu-id="8eac9-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="8eac9-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="8eac9-173">rwxr-x---</span></span>  |<span data-ttu-id="8eac9-174">Service-Principal</span><span class="sxs-lookup"><span data-stu-id="8eac9-174">Service Principal</span></span> |<span data-ttu-id="8eac9-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="8eac9-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="8eac9-176">Aanbevelingen voor taak-en uitvoergegevens</span><span class="sxs-lookup"><span data-stu-id="8eac9-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="8eac9-177">We aanbevelen die gegevens tooa taak invoer en uitvoer van een taak Hallo worden opgeslagen in een map buiten **/clusters**.</span><span class="sxs-lookup"><span data-stu-id="8eac9-177">We recommend that input data tooa job, and hello outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="8eac9-178">Dit zorgt ervoor dat zelfs als Hallo cluster-specifieke map Verwijderde tooreclaim bepaalde opslagruimte, Hallo taak invoer en uitvoer nog steeds beschikbaar voor toekomstig gebruik zijn.</span><span class="sxs-lookup"><span data-stu-id="8eac9-178">This ensures that even if hello cluster-specific folder is deleted tooreclaim some storage space,hello job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="8eac9-179">Zorg ervoor dat de mappenhiërarchie Hallo voor het opslaan van taak Hallo en uitgangen passend niveau van toegang voor Hallo Service-Principal toestaat in dat geval.</span><span class="sxs-lookup"><span data-stu-id="8eac9-179">In such a case, ensure that hello folder hierarchy for storing hello job inputs and outputs allows appropriate level of access for hello Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="8eac9-180">De limiet voor clusters delen van een enkele storage-account</span><span class="sxs-lookup"><span data-stu-id="8eac9-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="8eac9-181">Hallo-limiet voor Hallo van clusters die één Data Lake Store-account kunt delen, is afhankelijk van Hallo werkbelasting wordt uitgevoerd op deze clusters.</span><span class="sxs-lookup"><span data-stu-id="8eac9-181">hello limit on hello number of clusters that can share a single Data Lake Store account depends on hello workload being run on those clusters.</span></span> <span data-ttu-id="8eac9-182">Te veel clusters of zeer zware werklasten op Hallo-clusters die delen van een opslagaccount, kunnen er Hallo storage account inkomend en uitgaand tooget beperkt.</span><span class="sxs-lookup"><span data-stu-id="8eac9-182">Having too many clusters or very heavy workloads on hello clusters that share a storage account might cause hello storage account ingress/egress tooget throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="8eac9-183">Ondersteuning voor standaard-ACL 's</span><span class="sxs-lookup"><span data-stu-id="8eac9-183">Support for Default-ACLs</span></span>

<span data-ttu-id="8eac9-184">Wanneer een Service-Principal maken met de naam van de gebruiker toegang (zoals wordt weergegeven in bovenstaande Hallo tabel), raden we aan **niet** Hallo met de naam-gebruiker met een standaard-ACL toe te voegen.</span><span class="sxs-lookup"><span data-stu-id="8eac9-184">When creating a Service Principal with named-user access (as shown in hello table above), we recommend **not** adding hello named-user with a default-ACL.</span></span> <span data-ttu-id="8eac9-185">Inrichten met de naam van de gebruiker toegang met behulp van resultaten van de standaard-ACL's in Hallo toewijzing van 770 machtigingen voor die eigenaar is van de gebruiker die eigenaar is van de groep en de andere.</span><span class="sxs-lookup"><span data-stu-id="8eac9-185">Provisioning named-user access using default-ACLs results in hello assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="8eac9-186">Hoewel deze standaardwaarde van 770 worden machtigingen van die eigenaar is van gebruiker (7) of die eigenaar is van-groep (7), heeft de weg alle machtigingen voor andere (0).</span><span class="sxs-lookup"><span data-stu-id="8eac9-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="8eac9-187">Dit resulteert in een bekend probleem met een bepaalde use case die wordt uitgebreid beschreven in Hallo [bekende problemen en tijdelijke oplossingen](#known-issues-and-workarounds) sectie.</span><span class="sxs-lookup"><span data-stu-id="8eac9-187">This results in a known issue with one particular use-case that is discussed in detail in hello [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="8eac9-188">Bekende problemen en oplossingen</span><span class="sxs-lookup"><span data-stu-id="8eac9-188">Known issues and workarounds</span></span>

<span data-ttu-id="8eac9-189">Deze sectie vindt bekende problemen voor het gebruik van HDInsight met Data Lake Store en de tijdelijke oplossingen Hallo.</span><span class="sxs-lookup"><span data-stu-id="8eac9-189">This section lists hello known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="8eac9-190">Openbaar zichtbaar gelokaliseerde YARN-bronnen</span><span class="sxs-lookup"><span data-stu-id="8eac9-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="8eac9-191">Wanneer een nieuw Azure Data Lake store-account is gemaakt, wordt de hoofdmap Hallo automatisch ingericht met ACL Access machtiging bits set too770.</span><span class="sxs-lookup"><span data-stu-id="8eac9-191">When a new Azure Data Lake store account is created, hello root directory is automatically provisioned with Access-ACL permission bits set too770.</span></span> <span data-ttu-id="8eac9-192">Hallo hoofdmap die eigenaar is set toohello gebruiker die het Hallo-account (Hallo Data Lake Store admin) gemaakt en Hallo eigenaar groep primaire groeps-toohello van Hallo-gebruiker die het Hallo-account hebt gemaakt is ingesteld.</span><span class="sxs-lookup"><span data-stu-id="8eac9-192">hello root folder’s owning user is set toohello user that created hello account (hello Data Lake Store admin) and hello owning group is set toohello primary group of hello user that created hello account.</span></span> <span data-ttu-id="8eac9-193">Geen toegang is opgegeven voor 'anderen'.</span><span class="sxs-lookup"><span data-stu-id="8eac9-193">No access is provided for "others".</span></span>

<span data-ttu-id="8eac9-194">Deze instellingen zijn bekende tooaffect één specifieke HDInsight use case vastgelegd in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="8eac9-194">These settings are known tooaffect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="8eac9-195">Voorbeelden van de taak kunnen mislukken met een fout bericht vergelijkbaar toothis:</span><span class="sxs-lookup"><span data-stu-id="8eac9-195">Job submissions could fail with an error message similar toothis:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of hello public cache.

<span data-ttu-id="8eac9-196">Zoals vermeld in de Hallo die YARN JIRA gekoppeld eerder tijdens het lokaliseren van openbare bronnen hello localizer valideert dat alle Hallo zijn door het controleren van hun machtigingen op Hallo externe bestandssysteem aangevraagde resources inderdaad openbaar.</span><span class="sxs-lookup"><span data-stu-id="8eac9-196">As stated in hello YARN JIRA linked earlier, while localizing public resources, hello localizer validates that all hello requested resources are indeed public by checking their permissions on hello remote file-system.</span></span> <span data-ttu-id="8eac9-197">Alle LocalResource die voldoet niet aan die voorwaarde is voor lokalisatie geweigerd.</span><span class="sxs-lookup"><span data-stu-id="8eac9-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="8eac9-198">Hallo controle voor machtigingen, leestoegang toohello bestand "anderen" bevat.</span><span class="sxs-lookup"><span data-stu-id="8eac9-198">hello check for permissions, includes read-access toohello file for "others".</span></span> <span data-ttu-id="8eac9-199">Dit scenario werkt niet out-of-the-box, bij het hosten van HDInsight-clusters op Azure Data Lake omdat Azure Data Lake weigert u alle toegang te 'anderen' op hoofdniveau van de map.</span><span class="sxs-lookup"><span data-stu-id="8eac9-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access too"others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="8eac9-200">Tijdelijke oplossing</span><span class="sxs-lookup"><span data-stu-id="8eac9-200">Workaround</span></span>
<span data-ttu-id="8eac9-201">Set lees-schrijfrechten hebben voor **anderen** via Hallo-hiërarchie, bijvoorbeeld op  **/** , **/clusters** en   **/clusters/Financiën**  zoals weergegeven in de bovenstaande Hallo-tabel.</span><span class="sxs-lookup"><span data-stu-id="8eac9-201">Set read-execute permissions for **others** through hello hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in hello table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="8eac9-202">Zie ook</span><span class="sxs-lookup"><span data-stu-id="8eac9-202">See also</span></span>

* [<span data-ttu-id="8eac9-203">Een HDInsight-cluster maken met Data Lake Store als opslag</span><span class="sxs-lookup"><span data-stu-id="8eac9-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


