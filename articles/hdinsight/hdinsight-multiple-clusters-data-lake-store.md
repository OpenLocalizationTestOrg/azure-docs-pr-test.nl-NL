---
title: Gebruik van meerdere HDInsight-clusters met een Azure Data Lake Store-account - Azure | Microsoft Docs
description: "Informatie over het gebruik van meer dan een HDInsight-cluster met één Data Lake Store-account"
keywords: hdinsight-opslag, hdfs, gestructureerde gegevens, ongestructureerde gegevens, data lake store
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 043141e8496a947f54564d29a1d7fb724fac5cda
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/11/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="74b4a-104">Meerdere HDInsight-clusters met een Azure Data Lake Store-account gebruiken</span><span class="sxs-lookup"><span data-stu-id="74b4a-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="74b4a-105">Beginnen met HDInsight versie 3.5, kunt u HDInsight-clusters maken met Azure Data Lake Store-accounts als het bestandssysteem standaard.</span><span class="sxs-lookup"><span data-stu-id="74b4a-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as the default filesystem.</span></span>
<span data-ttu-id="74b4a-106">Data Lake Store biedt onbeperkte opslag die het maakt niet alleen voor het hosten van grote hoeveelheden gegevens; ideaal ondersteuning maar ook voor het hosten van meerdere HDInsight-clusters die share één Data Lake Store-Account.</span><span class="sxs-lookup"><span data-stu-id="74b4a-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="74b4a-107">Voor instructionson hoe een HDInsight-cluster maken met Data Lake Store omdat de opslaggroep raadpleegt [HDInsight-clusters maken met Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="74b4a-107">For instructionson how to create an HDInsight cluster with Data Lake Store as the storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="74b4a-108">Dit artikel bevat aanbevelingen voor de Data Lake opslaan administrator voor het instellen van een enkel en gedeelde Data Lake opslaan-Account waarmee u over meerdere **active** HDInsight-clusters.</span><span class="sxs-lookup"><span data-stu-id="74b4a-108">This article provides recommendations to the Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="74b4a-109">Deze aanbevelingen gelden voor het hosten van meerdere beveiligde, evenals een niet-beveiligde Hadoop-clusters op een gedeelde Data Lake store-account.</span><span class="sxs-lookup"><span data-stu-id="74b4a-109">These recommendations apply to hosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="74b4a-110">Data Lake Store bestanden en mappen niveau ACL 's</span><span class="sxs-lookup"><span data-stu-id="74b4a-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="74b4a-111">De rest van dit artikel wordt ervan uitgegaan dat u een goede kennis hebben van bestanden en mappen niveau ACL's in Azure Data Lake Store, die wordt beschreven op [toegangsbeheer in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="74b4a-111">The rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="74b4a-112">Data Lake Store-installatie voor meerdere HDInsight-clusters</span><span class="sxs-lookup"><span data-stu-id="74b4a-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="74b4a-113">Laat het ons nemen een maphiërarchie met twee niveaus om uit te leggen van de aanbevelingen voor het gebruik van bevat meerdere HDInsight-clusters met een Data Lake Store-account.</span><span class="sxs-lookup"><span data-stu-id="74b4a-113">Let us take a two-level folder hierarchy to explain the recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="74b4a-114">Houd rekening met het hebben van een Data Lake Store-account met de mapstructuur **/clusters/financiën**.</span><span class="sxs-lookup"><span data-stu-id="74b4a-114">Consider you have a Data Lake Store account with the folder structure **/clusters/finance**.</span></span> <span data-ttu-id="74b4a-115">Met deze structuur de clusters die zijn vereist voor de organisatie Financiën /clusters/finance gebruiken als de opslaglocatie.</span><span class="sxs-lookup"><span data-stu-id="74b4a-115">With this structure, all the clusters required by the Finance organization can use /clusters/finance as the storage location.</span></span> <span data-ttu-id="74b4a-116">In de toekomst, als er een andere organisatie spreken Marketing, wil maken van HDInsight-clusters met dezelfde Data Lake Store-account, kunnen deze clusters/marketing maken.</span><span class="sxs-lookup"><span data-stu-id="74b4a-116">In the future, if another organization, say Marketing, wants to create HDInsight clusters using the same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="74b4a-117">Nu gaan we gebruiken **/clusters/financiën**.</span><span class="sxs-lookup"><span data-stu-id="74b4a-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="74b4a-118">Om deze mapstructuur effectief door HDInsight-clusters worden gebruikt, moet de beheerder van de Data Lake Store relevante machtigingen toewijzen, zoals beschreven in de tabel.</span><span class="sxs-lookup"><span data-stu-id="74b4a-118">To enable this folder structure to be effectively used by HDInsight clusters, the Data Lake Store administrator must assign appropriate permissions, as described in the table.</span></span> <span data-ttu-id="74b4a-119">De machtigingen weergegeven in de tabel overeen met het Access-ACL's en geen standaard-ACL's.</span><span class="sxs-lookup"><span data-stu-id="74b4a-119">The permissions shown in the table correspond to Access-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="74b4a-120">Map</span><span class="sxs-lookup"><span data-stu-id="74b4a-120">Folder</span></span>  |<span data-ttu-id="74b4a-121">Machtigingen</span><span class="sxs-lookup"><span data-stu-id="74b4a-121">Permissions</span></span>  |<span data-ttu-id="74b4a-122">Gebruiker die eigenaar is</span><span class="sxs-lookup"><span data-stu-id="74b4a-122">Owning user</span></span>  |<span data-ttu-id="74b4a-123">Groep die eigenaar is</span><span class="sxs-lookup"><span data-stu-id="74b4a-123">Owning group</span></span>  | <span data-ttu-id="74b4a-124">Benoemde gebruiker</span><span class="sxs-lookup"><span data-stu-id="74b4a-124">Named user</span></span> | <span data-ttu-id="74b4a-125">Benoemde gebruikersmachtigingen</span><span class="sxs-lookup"><span data-stu-id="74b4a-125">Named user permissions</span></span> | <span data-ttu-id="74b4a-126">Benoemde groep</span><span class="sxs-lookup"><span data-stu-id="74b4a-126">Named group</span></span> | <span data-ttu-id="74b4a-127">Benoemde groepsmachtigingen</span><span class="sxs-lookup"><span data-stu-id="74b4a-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="74b4a-128">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="74b4a-128">rwxr-x--x</span></span>  |<span data-ttu-id="74b4a-129">Beheerder</span><span class="sxs-lookup"><span data-stu-id="74b4a-129">admin</span></span> |<span data-ttu-id="74b4a-130">Beheerder</span><span class="sxs-lookup"><span data-stu-id="74b4a-130">admin</span></span>  |<span data-ttu-id="74b4a-131">Service-principal</span><span class="sxs-lookup"><span data-stu-id="74b4a-131">Service principal</span></span> |<span data-ttu-id="74b4a-132">--x</span><span class="sxs-lookup"><span data-stu-id="74b4a-132">--x</span></span>  |<span data-ttu-id="74b4a-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="74b4a-133">FINGRP</span></span>   |<span data-ttu-id="74b4a-134">r-x</span><span class="sxs-lookup"><span data-stu-id="74b4a-134">r-x</span></span>         |
|<span data-ttu-id="74b4a-135">/clusters</span><span class="sxs-lookup"><span data-stu-id="74b4a-135">/clusters</span></span> | <span data-ttu-id="74b4a-136">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="74b4a-136">rwxr-x--x</span></span> |<span data-ttu-id="74b4a-137">Beheerder</span><span class="sxs-lookup"><span data-stu-id="74b4a-137">admin</span></span> |<span data-ttu-id="74b4a-138">Beheerder</span><span class="sxs-lookup"><span data-stu-id="74b4a-138">admin</span></span> |<span data-ttu-id="74b4a-139">Service-principal</span><span class="sxs-lookup"><span data-stu-id="74b4a-139">Service principal</span></span> |<span data-ttu-id="74b4a-140">--x</span><span class="sxs-lookup"><span data-stu-id="74b4a-140">--x</span></span>  |<span data-ttu-id="74b4a-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="74b4a-141">FINGRP</span></span> |<span data-ttu-id="74b4a-142">r-x</span><span class="sxs-lookup"><span data-stu-id="74b4a-142">r-x</span></span>         |
|<span data-ttu-id="74b4a-143">clusters/Financiën</span><span class="sxs-lookup"><span data-stu-id="74b4a-143">/clusters/finance</span></span> | <span data-ttu-id="74b4a-144">rwxr-x--t</span><span class="sxs-lookup"><span data-stu-id="74b4a-144">rwxr-x--t</span></span> |<span data-ttu-id="74b4a-145">Beheerder</span><span class="sxs-lookup"><span data-stu-id="74b4a-145">admin</span></span> |<span data-ttu-id="74b4a-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="74b4a-146">FINGRP</span></span>  |<span data-ttu-id="74b4a-147">Service-principal</span><span class="sxs-lookup"><span data-stu-id="74b4a-147">Service principal</span></span> |<span data-ttu-id="74b4a-148">rwx</span><span class="sxs-lookup"><span data-stu-id="74b4a-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="74b4a-149">In de tabel</span><span class="sxs-lookup"><span data-stu-id="74b4a-149">In the table,</span></span>

- <span data-ttu-id="74b4a-150">**beheerder** is de maker en de beheerder van het Data Lake Store-account.</span><span class="sxs-lookup"><span data-stu-id="74b4a-150">**admin** is the creator and administrator of the Data Lake Store account.</span></span>
- <span data-ttu-id="74b4a-151">**Service-principal** is de Azure Active Directory (AAD)-service-principal die is gekoppeld aan het account.</span><span class="sxs-lookup"><span data-stu-id="74b4a-151">**Service principal** is the Azure Active Directory (AAD) service principal associated with the account.</span></span>
- <span data-ttu-id="74b4a-152">**FINGRP** is een gebruikersgroep gemaakt in AAD die gebruikers van de organisatie Financiën bevat.</span><span class="sxs-lookup"><span data-stu-id="74b4a-152">**FINGRP** is a user group created in AAD that contains users from the Finance organization.</span></span>

<span data-ttu-id="74b4a-153">Zie voor instructies over het maken van een AAD-toepassing (die u maakt ook een Service-Principal), [een AAD-toepassing maken](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="74b4a-153">For instructions on how to create an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="74b4a-154">Zie voor instructies over het maken van een gebruikersgroep in AAD [groepen beheren in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="74b4a-154">For instructions on how to create a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="74b4a-155">Belangrijke punten in overweging moet nemen.</span><span class="sxs-lookup"><span data-stu-id="74b4a-155">Some key points to consider.</span></span>

- <span data-ttu-id="74b4a-156">De twee niveau mapstructuur (**/clusters financiën/**) moet worden gemaakt en ingericht met de juiste machtigingen door de beheerder van de Data Lake Store **voordat** met behulp van het opslagaccount voor clusters.</span><span class="sxs-lookup"><span data-stu-id="74b4a-156">The two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by the Data Lake Store admin **before** using the storage account for clusters.</span></span> <span data-ttu-id="74b4a-157">Deze structuur wordt niet automatisch gemaakt tijdens het maken van clusters.</span><span class="sxs-lookup"><span data-stu-id="74b4a-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="74b4a-158">Het bovenstaande voorbeeld raadt aan om het instellen van de groep die eigenaar van **/clusters/financiën** als **FINGRP** en waardoor **r-x** toegang tot FINGRP aan de hiërarchie van de hele map starten in de hoofdmap.</span><span class="sxs-lookup"><span data-stu-id="74b4a-158">The example above recommends setting the owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access to FINGRP to the entire folder hierarchy starting from the root.</span></span> <span data-ttu-id="74b4a-159">Dit zorgt ervoor dat de leden van FINGRP de mapstructuur vanaf root kunnen navigeren.</span><span class="sxs-lookup"><span data-stu-id="74b4a-159">This ensures that the members of FINGRP can navigate the folder structure starting from root.</span></span>
- <span data-ttu-id="74b4a-160">In het geval wanneer verschillende AAD-Service-Principals kunt clusters onder maken **clusters/financiën**, de tijdelijke-bit (wanneer ingesteld op de **financiën** map) zorgt ervoor dat mappen door één Service-Principal gemaakt kan niet worden verwijderd door de andere.</span><span class="sxs-lookup"><span data-stu-id="74b4a-160">In the case when different AAD Service Principals can create clusters under **/clusters/finance**, the sticky-bit (when set on the **finance** folder) ensures that folders created by one Service Principal cannot be deleted by the other.</span></span>
- <span data-ttu-id="74b4a-161">Nadat de mapstructuur en de machtigingen die gemaakt zijn, aanmaakproces voor HDInsight-cluster maakt een loaction clusterspecifieke opslag onder **/clustersfinanciën/**.</span><span class="sxs-lookup"><span data-stu-id="74b4a-161">Once the folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="74b4a-162">Bijvoorbeeld, de opslag voor een cluster met de naam fincluster01 kan worden **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="74b4a-162">For example, the storage for a cluster with the name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="74b4a-163">De eigenaar en machtigingen voor de mappen die door HDInsight-cluster gemaakt in de tabel hier weergegeven.</span><span class="sxs-lookup"><span data-stu-id="74b4a-163">The ownership and permissions for the folders created by HDInsight cluster is shown in the table here.</span></span>

    |<span data-ttu-id="74b4a-164">Map</span><span class="sxs-lookup"><span data-stu-id="74b4a-164">Folder</span></span>  |<span data-ttu-id="74b4a-165">Machtigingen</span><span class="sxs-lookup"><span data-stu-id="74b4a-165">Permissions</span></span>  |<span data-ttu-id="74b4a-166">Gebruiker die eigenaar is</span><span class="sxs-lookup"><span data-stu-id="74b4a-166">Owning user</span></span>  |<span data-ttu-id="74b4a-167">Groep die eigenaar is</span><span class="sxs-lookup"><span data-stu-id="74b4a-167">Owning group</span></span>  | <span data-ttu-id="74b4a-168">Benoemde gebruiker</span><span class="sxs-lookup"><span data-stu-id="74b4a-168">Named user</span></span> | <span data-ttu-id="74b4a-169">Benoemde gebruikersmachtigingen</span><span class="sxs-lookup"><span data-stu-id="74b4a-169">Named user permissions</span></span> | <span data-ttu-id="74b4a-170">Benoemde groep</span><span class="sxs-lookup"><span data-stu-id="74b4a-170">Named group</span></span> | <span data-ttu-id="74b4a-171">Benoemde groepsmachtigingen</span><span class="sxs-lookup"><span data-stu-id="74b4a-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="74b4a-172">/clusters/finanace/fincluster01</span><span class="sxs-lookup"><span data-stu-id="74b4a-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="74b4a-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="74b4a-173">rwxr-x---</span></span>  |<span data-ttu-id="74b4a-174">Service-Principal</span><span class="sxs-lookup"><span data-stu-id="74b4a-174">Service Principal</span></span> |<span data-ttu-id="74b4a-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="74b4a-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="74b4a-176">Aanbevelingen voor taak-en uitvoergegevens</span><span class="sxs-lookup"><span data-stu-id="74b4a-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="74b4a-177">Het is raadzaam dat invoergegevens naar een taak en de uitvoer van een taak worden opgeslagen in een map buiten de **/clusters**.</span><span class="sxs-lookup"><span data-stu-id="74b4a-177">We recommend that input data to a job, and the outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="74b4a-178">Dit zorgt ervoor dat zelfs als de cluster-specifieke map wordt verwijderd als u wilt vrijmaken sommige opslagruimte, taak- en uitgangen nog steeds beschikbaar voor toekomstig gebruik zijn.</span><span class="sxs-lookup"><span data-stu-id="74b4a-178">This ensures that even if the cluster-specific folder is deleted to reclaim some storage space,the job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="74b4a-179">Zorg ervoor dat de mappenhiërarchie voor het opslaan van taak- en uitgangen passend niveau van toegang voor de Service-Principal toestaat in dat geval.</span><span class="sxs-lookup"><span data-stu-id="74b4a-179">In such a case, ensure that the folder hierarchy for storing the job inputs and outputs allows appropriate level of access for the Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="74b4a-180">De limiet voor clusters delen van een enkele storage-account</span><span class="sxs-lookup"><span data-stu-id="74b4a-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="74b4a-181">De limiet voor het aantal clusters die één Data Lake Store-account kunt delen, is afhankelijk van de werkbelasting die wordt uitgevoerd op deze clusters.</span><span class="sxs-lookup"><span data-stu-id="74b4a-181">The limit on the number of clusters that can share a single Data Lake Store account depends on the workload being run on those clusters.</span></span> <span data-ttu-id="74b4a-182">Te veel clusters of zeer zware werklasten op clusters die delen van een opslagaccount, kunnen er de storage-account inkomend en uitgaand naar ophalen beperkt.</span><span class="sxs-lookup"><span data-stu-id="74b4a-182">Having too many clusters or very heavy workloads on the clusters that share a storage account might cause the storage account ingress/egress to get throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="74b4a-183">Ondersteuning voor standaard-ACL 's</span><span class="sxs-lookup"><span data-stu-id="74b4a-183">Support for Default-ACLs</span></span>

<span data-ttu-id="74b4a-184">Wanneer een Service-Principal maken met de naam van de gebruiker toegang (zoals in de bovenstaande tabel), raden we aan **niet** het toevoegen van met de naam-gebruiker met een standaard-ACL.</span><span class="sxs-lookup"><span data-stu-id="74b4a-184">When creating a Service Principal with named-user access (as shown in the table above), we recommend **not** adding the named-user with a default-ACL.</span></span> <span data-ttu-id="74b4a-185">Inrichten met de naam van de gebruiker toegang met behulp van resultaten van de standaard-ACL's in de toewijzing van 770 machtigingen voor die eigenaar is van de gebruiker die eigenaar is van de groep en de andere.</span><span class="sxs-lookup"><span data-stu-id="74b4a-185">Provisioning named-user access using default-ACLs results in the assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="74b4a-186">Hoewel deze standaardwaarde van 770 worden machtigingen van die eigenaar is van gebruiker (7) of die eigenaar is van-groep (7), heeft de weg alle machtigingen voor andere (0).</span><span class="sxs-lookup"><span data-stu-id="74b4a-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="74b4a-187">Dit resulteert in een bekend probleem met een bepaalde use case die wordt uitgebreid beschreven in de [bekende problemen en tijdelijke oplossingen](#known-issues-and-workarounds) sectie.</span><span class="sxs-lookup"><span data-stu-id="74b4a-187">This results in a known issue with one particular use-case that is discussed in detail in the [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="74b4a-188">Bekende problemen en oplossingen</span><span class="sxs-lookup"><span data-stu-id="74b4a-188">Known issues and workarounds</span></span>

<span data-ttu-id="74b4a-189">Deze sectie vindt de bekende problemen voor het gebruik van HDInsight met Data Lake Store en de tijdelijke oplossingen.</span><span class="sxs-lookup"><span data-stu-id="74b4a-189">This section lists the known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="74b4a-190">Openbaar zichtbaar gelokaliseerde YARN-bronnen</span><span class="sxs-lookup"><span data-stu-id="74b4a-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="74b4a-191">Wanneer een nieuw Azure Data Lake store-account is gemaakt, wordt de hoofdmap automatisch ingericht met ACL Access machtiging bitset naar 770.</span><span class="sxs-lookup"><span data-stu-id="74b4a-191">When a new Azure Data Lake store account is created, the root directory is automatically provisioned with Access-ACL permission bits set to 770.</span></span> <span data-ttu-id="74b4a-192">De basismap die eigenaar is van gebruiker is ingesteld op de gebruiker die het account (de beheerder van de Data Lake Store) hebt gemaakt en de groep die eigenaar is ingesteld op de primaire groep van de gebruiker die het account hebt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="74b4a-192">The root folder’s owning user is set to the user that created the account (the Data Lake Store admin) and the owning group is set to the primary group of the user that created the account.</span></span> <span data-ttu-id="74b4a-193">Geen toegang is opgegeven voor 'anderen'.</span><span class="sxs-lookup"><span data-stu-id="74b4a-193">No access is provided for "others".</span></span>

<span data-ttu-id="74b4a-194">Deze instellingen bekend is dat invloed op een specifieke HDInsight use case vastgelegd in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="74b4a-194">These settings are known to affect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="74b4a-195">Voorbeelden van de taak kunnen mislukken met een vergelijkbaar met het volgende foutbericht weergegeven:</span><span class="sxs-lookup"><span data-stu-id="74b4a-195">Job submissions could fail with an error message similar to this:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of the public cache.

<span data-ttu-id="74b4a-196">Zoals vermeld in de YARN-JIRA gekoppeld eerder tijdens het lokaliseren van openbare bronnen, de localizer wordt gevalideerd of de gewenste bronnen inderdaad openbare door hun machtigingen op het externe bestand-systeem controleren.</span><span class="sxs-lookup"><span data-stu-id="74b4a-196">As stated in the YARN JIRA linked earlier, while localizing public resources, the localizer validates that all the requested resources are indeed public by checking their permissions on the remote file-system.</span></span> <span data-ttu-id="74b4a-197">Alle LocalResource die voldoet niet aan die voorwaarde is voor lokalisatie geweigerd.</span><span class="sxs-lookup"><span data-stu-id="74b4a-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="74b4a-198">De controle voor machtigingen, omvat leestoegang tot het bestand voor 'anderen'.</span><span class="sxs-lookup"><span data-stu-id="74b4a-198">The check for permissions, includes read-access to the file for "others".</span></span> <span data-ttu-id="74b4a-199">Dit scenario werkt niet out-of-the-box-bij het hosten van HDInsight-clusters op Azure Data Lake omdat Azure Data Lake alle de toegang aan 'anderen weigert' op hoofdniveau van de map.</span><span class="sxs-lookup"><span data-stu-id="74b4a-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access to "others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="74b4a-200">Tijdelijke oplossing</span><span class="sxs-lookup"><span data-stu-id="74b4a-200">Workaround</span></span>
<span data-ttu-id="74b4a-201">Set lees-schrijfrechten hebben voor **anderen** via de hiërarchie, bijvoorbeeld op  **/** , **/clusters** en   **/clusters/financiën** zoals weergegeven in de bovenstaande tabel.</span><span class="sxs-lookup"><span data-stu-id="74b4a-201">Set read-execute permissions for **others** through the hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in the table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="74b4a-202">Zie ook</span><span class="sxs-lookup"><span data-stu-id="74b4a-202">See also</span></span>

* [<span data-ttu-id="74b4a-203">Een HDInsight-cluster maken met Data Lake Store als opslag</span><span class="sxs-lookup"><span data-stu-id="74b4a-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


