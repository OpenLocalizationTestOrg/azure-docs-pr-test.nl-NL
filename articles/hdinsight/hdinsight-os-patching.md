---
title: toepassing van patches planning voor Linux gebaseerde HDInsight-clusters - Azure aaaConfigure OS | Microsoft Docs
description: Meer informatie over hoe tooconfigure OS patch planning voor Linux gebaseerde HDInsight-clusters.
services: hdinsight
documentationcenter: 
author: bprakash
manager: asadk
editor: bprakash
ms.assetid: 
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 03/21/2017
ms.author: bhanupr
ms.openlocfilehash: 1598d64e594d7e8a68573fc63dd86051a5a9d025
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="os-patching-for-hdinsight"></a><span data-ttu-id="fc0ff-103">OS patches voor HDInsight</span><span class="sxs-lookup"><span data-stu-id="fc0ff-103">OS patching for HDInsight</span></span> 
<span data-ttu-id="fc0ff-104">Als een beheerde service voor Hadoop, HDInsight geregeld patchen Hallo OS Hallo onderliggende virtuele machines die worden gebruikt door HDInsight-clusters.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-104">As a managed Hadoop service, HDInsight takes care of patching hello OS of hello underlying VMs used by HDInsight clusters.</span></span> <span data-ttu-id="fc0ff-105">Vanaf 1 augustus 2016, hebben we Hallo Gast OS patch beleid voor Linux gebaseerde HDInsight-clusters (versie 3.4 of hoger) gewijzigd.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-105">As of August 1, 2016, we have changed hello guest OS patching policy for Linux-based HDInsight clusters (version 3.4 or greater).</span></span> <span data-ttu-id="fc0ff-106">Hallo-doel van het nieuwe beleid Hallo is toosignificantly Verminder het aantal herstarts Hallo vanwege toopatching.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-106">hello goal of hello new policy is toosignificantly reduce hello number of reboots due toopatching.</span></span> <span data-ttu-id="fc0ff-107">Nieuw beleid Hallo blijven toopatch virtuele machines (VM's) op Linux-clusters elke maandag of donderdag begint bij 12: 00 A.M. UTC op een wijze gespreid over de knooppunten in een opgegeven cluster.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-107">hello new policy will continue toopatch virtual machines (VMs) on Linux clusters every Monday or Thursday starting at 12AM UTC in a staggered fashion across nodes in any given cluster.</span></span> <span data-ttu-id="fc0ff-108">Een bepaalde virtuele machine wordt echter alleen maximaal één keer elke 30 dagen vanwege tooguest OS patches opnieuw.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-108">However, any given VM will only reboot at most once every 30 days due tooguest OS patching.</span></span> <span data-ttu-id="fc0ff-109">Bovendien Hallo eerste keer opnieuw opstarten voor een nieuw cluster gebeurt niet eerder zijn dan 30 dagen na de aanmaakdatum Hallo-cluster.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-109">In addition, hello first reboot for a newly created cluster will not happen sooner than 30 days from hello cluster creation date.</span></span> <span data-ttu-id="fc0ff-110">Patches worden van kracht zodra Hallo virtuele machines opnieuw worden opgestart.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-110">Patches will be effective once hello VMs are rebooted.</span></span>

## <a name="how-tooconfigure-hello-os-patching-schedule-for-linux-based-hdinsight-clusters"></a><span data-ttu-id="fc0ff-111">Hoe tooconfigure Hallo OS patch planning voor Linux gebaseerde HDInsight-clusters</span><span class="sxs-lookup"><span data-stu-id="fc0ff-111">How tooconfigure hello OS patching schedule for Linux-based HDInsight clusters</span></span>
<span data-ttu-id="fc0ff-112">Hallo virtuele machines in een HDInsight-cluster moet toobe af en toe opnieuw opgestart zodat belangrijke beveiligingspatches kunnen worden geïnstalleerd.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-112">hello virtual machines in an HDInsight cluster need toobe rebooted occasionally so that important security patches can be installed.</span></span> <span data-ttu-id="fc0ff-113">Vanaf 1 augustus 2016 krijgen nieuwe Linux gebaseerde HDInsight-clusters (versie 3.4 of hoger) opnieuw opgestart met Hallo schema te volgen:</span><span class="sxs-lookup"><span data-stu-id="fc0ff-113">As of August 1, 2016, new Linux-based HDInsight clusters (version 3.4 or greater,) are rebooted using hello following schedule:</span></span>

1. <span data-ttu-id="fc0ff-114">Een virtuele machine in de cluster Hallo kunnen alleen opnieuw opstarten patches voor maximaal één keer binnen een periode van 30 dagen.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-114">A virtual machine in hello cluster can only reboot for patches at most, once within a 30-day period.</span></span>
2. <span data-ttu-id="fc0ff-115">Hallo opnieuw worden opgestart, gebeurt beginnen bij 12: 00 A.M. UTC.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-115">hello reboot occurs starting at 12AM UTC.</span></span>
3. <span data-ttu-id="fc0ff-116">Hallo opnieuw opstarten proces is gespreid over virtuele machines in de cluster hello, dus Hallo cluster nog steeds beschikbaar tijdens Hallo opnieuw opstarten is.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-116">hello reboot process is staggered across virtual machines in hello cluster, so hello cluster is still available during hello reboot process.</span></span>
4. <span data-ttu-id="fc0ff-117">Hallo eerste keer opnieuw opstarten voor een nieuw cluster gebeurt niet eerder zijn dan 30 dagen na de aanmaakdatum Hallo-cluster.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-117">hello first reboot for a newly created cluster will not happen sooner than 30 days after hello cluster creation date.</span></span>

<span data-ttu-id="fc0ff-118">Hallo scriptactie die wordt beschreven in dit artikel gebruikt, kunt u wijzigen Hallo OS patch planning als volgt:</span><span class="sxs-lookup"><span data-stu-id="fc0ff-118">Using hello script action described in this article, you can modify hello OS patching schedule as follows:</span></span>
1. <span data-ttu-id="fc0ff-119">In- of uitschakelen van automatische opnieuw wordt opgestart</span><span class="sxs-lookup"><span data-stu-id="fc0ff-119">Enable or disable automatic reboots</span></span>
2. <span data-ttu-id="fc0ff-120">Set Hallo frequentie van opnieuw wordt opgestart (in dagen tussen opnieuw is opgestart)</span><span class="sxs-lookup"><span data-stu-id="fc0ff-120">Set hello frequency of reboots (days between reboots)</span></span>
3. <span data-ttu-id="fc0ff-121">Hallo dag Hallo weekdag opnieuw instellen</span><span class="sxs-lookup"><span data-stu-id="fc0ff-121">Set hello day of hello week when a reboot occurs</span></span>

> [!NOTE]
> <span data-ttu-id="fc0ff-122">Deze scriptactie werkt alleen met Linux gebaseerde HDInsight-clusters die zijn gemaakt na 1e augustus 2016.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-122">This script action will only work with Linux-based HDInsight clusters created after August 1st, 2016.</span></span> <span data-ttu-id="fc0ff-123">Patches worden van kracht wanneer virtuele machines opnieuw worden opgestart.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-123">Patches will be effective only when VMs are rebooted.</span></span> 
>

## <a name="how-toouse-hello-script"></a><span data-ttu-id="fc0ff-124">Hoe toouse script Hallo</span><span class="sxs-lookup"><span data-stu-id="fc0ff-124">How toouse hello script</span></span> 

<span data-ttu-id="fc0ff-125">Met dit script vereist wanneer Hallo volgende informatie:</span><span class="sxs-lookup"><span data-stu-id="fc0ff-125">When using this script requires hello following information:</span></span>
1. <span data-ttu-id="fc0ff-126">Hallo scriptlocatie: https://hdiconfigactions.blob.core.windows.net/linuxospatchingrebootconfigv01/os-patching-reboot-config.sh.  HDInsight gebruikt deze URI toofind en Hallo-script uitvoeren op alle Hallo virtuele machines in Hallo-cluster.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-126">hello script location: https://hdiconfigactions.blob.core.windows.net/linuxospatchingrebootconfigv01/os-patching-reboot-config.sh.  HDInsight uses this URI toofind and run hello script on all hello virtual machines in hello cluster.</span></span>
  
2. <span data-ttu-id="fc0ff-127">knooppunt clustertypen waarmee Hallo script wordt toegepast op Hallo: headnode, workernode, zookeeper.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-127">hello cluster node types that hello script is applied to: headnode, workernode, zookeeper.</span></span> <span data-ttu-id="fc0ff-128">Dit script moet toegepaste tooall knooppunttypen in Hallo-cluster.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-128">This script must be applied tooall node types in hello cluster.</span></span> <span data-ttu-id="fc0ff-129">Als u is geen toegepaste tooa knooppunttype en Hallo virtuele voortgezet machines voor dat knooppunttype toouse Hallo vorige patch planning.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-129">If it is not applied tooa node type, then hello virtual machines for that node type will continue toouse hello previous patching schedule.</span></span>


3.  <span data-ttu-id="fc0ff-130">Parameter: Dit script accepteert drie numerieke parameters:</span><span class="sxs-lookup"><span data-stu-id="fc0ff-130">Parameter: This script accepts three numeric parameters:</span></span>

    | <span data-ttu-id="fc0ff-131">Parameter</span><span class="sxs-lookup"><span data-stu-id="fc0ff-131">Parameter</span></span> | <span data-ttu-id="fc0ff-132">Definitie</span><span class="sxs-lookup"><span data-stu-id="fc0ff-132">Definition</span></span> |
    | --- | --- |
    | <span data-ttu-id="fc0ff-133">Automatisch opnieuw wordt opgestart in-of uitschakelen</span><span class="sxs-lookup"><span data-stu-id="fc0ff-133">Enable/disable automatic reboots</span></span> |<span data-ttu-id="fc0ff-134">0 of 1.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-134">0 or 1.</span></span> <span data-ttu-id="fc0ff-135">De waarde 0 wordt automatisch opnieuw wordt opgestart uitgeschakeld terwijl 1 automatisch opnieuw wordt opgestart schakelt.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-135">A value of 0 disables automatic reboots while 1 enables automatic reboots.</span></span> |
    | <span data-ttu-id="fc0ff-136">Frequentie</span><span class="sxs-lookup"><span data-stu-id="fc0ff-136">Frequency</span></span> |<span data-ttu-id="fc0ff-137">7 too90 (inclusief).</span><span class="sxs-lookup"><span data-stu-id="fc0ff-137">7 too90 (inclusive).</span></span> <span data-ttu-id="fc0ff-138">Hallo aantal dagen toowait voordat opnieuw wordt opgestart nadat Hallo virtuele machines voor patches waarvoor opnieuw opstarten.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-138">hello number of days toowait before rebooting hello virtual machines for patches that require a reboot.</span></span> |
    | <span data-ttu-id="fc0ff-139">Dag van week</span><span class="sxs-lookup"><span data-stu-id="fc0ff-139">Day of week</span></span> |<span data-ttu-id="fc0ff-140">1 too7 (inclusief).</span><span class="sxs-lookup"><span data-stu-id="fc0ff-140">1 too7 (inclusive).</span></span> <span data-ttu-id="fc0ff-141">Een waarde van 1 betekent Hallo opnieuw moet worden uitgevoerd op een maandag en 7 betekent een Sunday.For bijvoorbeeld met behulp van parameters van 1 60 2 resulteert in het automatisch opnieuw wordt opgestart elke 60 dagen (maximaal) op dinsdag.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-141">A value of 1 indicates hello reboot should occur on a Monday, and 7 indicates a Sunday.For example, using parameters of 1 60 2 results in automatic reboots every 60 days (at most) on Tuesday.</span></span> |
    | <span data-ttu-id="fc0ff-142">Persistentie</span><span class="sxs-lookup"><span data-stu-id="fc0ff-142">Persistence</span></span> |<span data-ttu-id="fc0ff-143">Wanneer u een bestaand cluster voor script actie tooan toepast, kunt u Hallo script als persistent markeren.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-143">When applying a script action tooan existing cluster, you can mark hello script as persisted.</span></span> <span data-ttu-id="fc0ff-144">Persistente scripts worden toegepast wanneer nieuwe workernodes toohello cluster door te schalen bewerkingen worden toegevoegd.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-144">Persisted scripts are applied when new workernodes are added toohello cluster through scaling operations.</span></span> |

> [!NOTE]
> <span data-ttu-id="fc0ff-145">U moet dit script markeren als bij het toepassen van het bestaande cluster tooan persistent.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-145">You must mark this script as persisted when applying tooan existing cluster.</span></span> <span data-ttu-id="fc0ff-146">Een nieuwe knooppunten die zijn gemaakt door te schalen operations Gebruik anders Hallo standaard patchen planning.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-146">Otherwise, any new nodes created through scaling      operations will use hello default patching schedule.</span></span>
<span data-ttu-id="fc0ff-147">Als u Hallo script als onderdeel van het proces voor het maken van cluster Hallo toepast, wordt deze automatisch bewaard.</span><span class="sxs-lookup"><span data-stu-id="fc0ff-147">If you apply hello script as part of hello cluster creation process, it is persisted automatically.</span></span>
>

## <a name="next-steps"></a><span data-ttu-id="fc0ff-148">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="fc0ff-148">Next steps</span></span>

<span data-ttu-id="fc0ff-149">Voor specifieke stappen over het gebruik van de scriptactie hello, raadpleegt u uit te voeren in Hallo Hallo [Linuz aanpassen op basis van een HDInsight-clusters met behulp van de scriptactie](hdinsight-hadoop-customize-cluster-linux.md):</span><span class="sxs-lookup"><span data-stu-id="fc0ff-149">For specific steps on using hello script action, see hello following sections in hello [Customize Linuz-based HDInsight clusters using script action](hdinsight-hadoop-customize-cluster-linux.md):</span></span>

* [<span data-ttu-id="fc0ff-150">Gebruik de scriptactie van een tijdens het maken van het cluster</span><span class="sxs-lookup"><span data-stu-id="fc0ff-150">Use a script action during cluster creation</span></span>](hdinsight-hadoop-customize-cluster-linux.md#use-a-script-action-during-cluster-creation)
* [<span data-ttu-id="fc0ff-151">Toepassen van een script actie tooa met cluster</span><span class="sxs-lookup"><span data-stu-id="fc0ff-151">Apply a script action tooa running cluster</span></span>](hdinsight-hadoop-customize-cluster-linux.md#apply-a-script-action-to-a-running-cluster)
