---
title: IoT Hub hoge beschikbaarheid en herstel na noodgevallen aaaAzure | Microsoft Docs
description: Beschrijft hello Azure en IoT Hub functies waarmee u maximaal beschikbare Azure IoT-oplossingen toobuild met mogelijkheden voor herstel na noodgevallen.
services: iot-hub
documentationcenter: 
author: fsautomata
manager: timlt
editor: 
ms.assetid: ae320e58-aa20-45b9-abdc-fa4faae8e6dd
ms.service: iot-hub
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 11/16/2016
ms.author: elioda
ms.openlocfilehash: 74e1fa1682258819ffb3fd84eb79e42fc6e4120f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="iot-hub-high-availability-and-disaster-recovery"></a><span data-ttu-id="d1b00-103">IoT Hub hoge beschikbaarheid en herstel na noodgevallen</span><span class="sxs-lookup"><span data-stu-id="d1b00-103">IoT Hub high availability and disaster recovery</span></span>
<span data-ttu-id="d1b00-104">Een Azure-service biedt IoT Hub redundantie op het niveau van de Azure-regio hello, zonder extra werk vereist door Hallo oplossing met hoge beschikbaarheid (HA).</span><span class="sxs-lookup"><span data-stu-id="d1b00-104">As an Azure service, IoT Hub provides high availability (HA) using redundancies at hello Azure region level, without any additional work required by hello solution.</span></span> <span data-ttu-id="d1b00-105">Hallo Microsoft Azure-platform omvat ook functies toohelp bouwen van oplossingen met herstelfuncties van noodherstel (DR) of de regio-overschrijdende beschikbaarheid.</span><span class="sxs-lookup"><span data-stu-id="d1b00-105">hello Microsoft Azure platform also includes features toohelp you build solutions with disaster recovery (DR) capabilities or cross-region availability.</span></span> <span data-ttu-id="d1b00-106">Als u wilt tooprovide globale, hoge beschikbaarheid van de regio-overschrijdende voor apparaten of gebruikers, ontwerpen en voorbereiden van uw oplossingen tootake profiteren van deze Azure DR-functies.</span><span class="sxs-lookup"><span data-stu-id="d1b00-106">If you want tooprovide global, cross-region high availability for devices or users, design and prepare your solutions tootake advantage of these Azure DR features.</span></span> <span data-ttu-id="d1b00-107">Hallo artikel [Azure zakelijke continuïteit technische richtlijnen](../resiliency/resiliency-technical-guidance.md) beschrijving Hallo ingebouwde functies in Azure voor bedrijfscontinuïteit en Noodherstel.</span><span class="sxs-lookup"><span data-stu-id="d1b00-107">hello article [Azure Business Continuity Technical Guidance](../resiliency/resiliency-technical-guidance.md) describes hello built-in features in Azure for business continuity and DR.</span></span> <span data-ttu-id="d1b00-108">Hallo [herstel na noodgevallen en hoge beschikbaarheid voor Azure-toepassingen] [ Disaster recovery and high availability for Azure applications] papier biedt architectuurrichtlijnen voor strategieën voor Azure-toepassingen tooachieve HA en Noodherstel.</span><span class="sxs-lookup"><span data-stu-id="d1b00-108">hello [Disaster recovery and high availability for Azure applications][Disaster recovery and high availability for Azure applications] paper provides architecture guidance on strategies for Azure applications tooachieve HA and DR.</span></span>

## <a name="azure-iot-hub-dr"></a><span data-ttu-id="d1b00-109">Azure IoT-Hub DR</span><span class="sxs-lookup"><span data-stu-id="d1b00-109">Azure IoT Hub DR</span></span>
<span data-ttu-id="d1b00-110">Bovendien toointra regio HA, IoT Hub implementeert failover-mechanismen voor herstel na noodgevallen die geen tussenkomst van Hallo-gebruiker vereisen.</span><span class="sxs-lookup"><span data-stu-id="d1b00-110">In addition toointra-region HA, IoT Hub implements failover mechanisms for disaster recovery that require no intervention from hello user.</span></span> <span data-ttu-id="d1b00-111">IoT Hub DR automatisch wordt gestart en heeft een beoogde hersteltijd (RTO) van 2-26 uur en Hallo herstelpuntdoelen (RPO's) te volgen.</span><span class="sxs-lookup"><span data-stu-id="d1b00-111">IoT Hub DR is self-initiated and has a recovery time objective (RTO) of 2-26 hours, and hello following recovery point objectives (RPOs).</span></span>

| <span data-ttu-id="d1b00-112">Functionaliteit</span><span class="sxs-lookup"><span data-stu-id="d1b00-112">Functionality</span></span> | <span data-ttu-id="d1b00-113">RPO</span><span class="sxs-lookup"><span data-stu-id="d1b00-113">RPO</span></span> |
| --- | --- |
| <span data-ttu-id="d1b00-114">Beschikbaarheid van de service voor register- en bewerkingen</span><span class="sxs-lookup"><span data-stu-id="d1b00-114">Service availability for registry and communication operations</span></span> |<span data-ttu-id="d1b00-115">Mogelijk CName verlies</span><span class="sxs-lookup"><span data-stu-id="d1b00-115">Possible CName loss</span></span> |
| <span data-ttu-id="d1b00-116">Identiteitsgegevens in register-id 's</span><span class="sxs-lookup"><span data-stu-id="d1b00-116">Identity data in identity registry</span></span> |<span data-ttu-id="d1b00-117">0-5 minuten gegevensverlies</span><span class="sxs-lookup"><span data-stu-id="d1b00-117">0-5 mins data loss</span></span> |
| <span data-ttu-id="d1b00-118">Apparaat-naar-cloud-berichten</span><span class="sxs-lookup"><span data-stu-id="d1b00-118">Device-to-cloud messages</span></span> |<span data-ttu-id="d1b00-119">Alle ongelezen berichten gaan verloren</span><span class="sxs-lookup"><span data-stu-id="d1b00-119">All unread messages are lost</span></span> |
| <span data-ttu-id="d1b00-120">Bewerkingen berichten controleren</span><span class="sxs-lookup"><span data-stu-id="d1b00-120">Operations monitoring messages</span></span> |<span data-ttu-id="d1b00-121">Alle ongelezen berichten gaan verloren</span><span class="sxs-lookup"><span data-stu-id="d1b00-121">All unread messages are lost</span></span> |
| <span data-ttu-id="d1b00-122">Cloud-naar-apparaat-berichten</span><span class="sxs-lookup"><span data-stu-id="d1b00-122">Cloud-to-device messages</span></span> |<span data-ttu-id="d1b00-123">0-5 minuten gegevensverlies</span><span class="sxs-lookup"><span data-stu-id="d1b00-123">0-5 mins data loss</span></span> |
| <span data-ttu-id="d1b00-124">Cloud-naar-apparaat feedbackwachtrij</span><span class="sxs-lookup"><span data-stu-id="d1b00-124">Cloud-to-device feedback queue</span></span> |<span data-ttu-id="d1b00-125">Alle ongelezen berichten gaan verloren</span><span class="sxs-lookup"><span data-stu-id="d1b00-125">All unread messages are lost</span></span> |

## <a name="regional-failover-with-iot-hub"></a><span data-ttu-id="d1b00-126">Regionale failover met IoT Hub</span><span class="sxs-lookup"><span data-stu-id="d1b00-126">Regional failover with IoT Hub</span></span>
<span data-ttu-id="d1b00-127">Een volledige behandeling van implementatietopologieën in IoT-oplossingen is buiten het bereik van dit artikel Hallo.</span><span class="sxs-lookup"><span data-stu-id="d1b00-127">A complete treatment of deployment topologies in IoT solutions is outside hello scope of this article.</span></span> <span data-ttu-id="d1b00-128">Hallo aan de orde Hallo *regionale failover* implementatiemodel voor Hallo doel van hoge beschikbaarheid en herstel na noodgevallen.</span><span class="sxs-lookup"><span data-stu-id="d1b00-128">hello article discusses hello *regional failover* deployment model for hello purpose of high availability and disaster recovery.</span></span>

<span data-ttu-id="d1b00-129">Hallo oplossing voor back-end wordt uitgevoerd voornamelijk in een datacenter-locatie in een model regionale failover en een secundaire IoT-hub en de back-end zijn geïmplementeerd in een andere locatie van het datacenter.</span><span class="sxs-lookup"><span data-stu-id="d1b00-129">In a regional failover model, hello solution back end runs primarily in one datacenter location, and a secondary IoT hub and back end are deployed in another datacenter location.</span></span> <span data-ttu-id="d1b00-130">Als Hallo IoT-hub in Hallo primaire datacenter te lijden heeft onder een storing of de netwerkverbinding Hallo van Hallo apparaat toohello primaire datacenter wordt onderbroken.</span><span class="sxs-lookup"><span data-stu-id="d1b00-130">If hello IoT hub in hello primary datacenter suffers an outage or hello network connectivity from hello device toohello primary datacenter is interrupted.</span></span> <span data-ttu-id="d1b00-131">Apparaten gebruiken een secundaire service-eindpunt wanneer Hallo primaire gateway niet bereikbaar.</span><span class="sxs-lookup"><span data-stu-id="d1b00-131">Devices use a secondary service endpoint whenever hello primary gateway cannot be reached.</span></span> <span data-ttu-id="d1b00-132">Met een regio-overschrijdende failoverfunctionaliteit kan Hallo oplossing beschikbaarheid buiten Hallo hoge beschikbaarheid van één regio worden verbeterd.</span><span class="sxs-lookup"><span data-stu-id="d1b00-132">With a cross-region failover capability, hello solution availability can be improved beyond hello high availability of a single region.</span></span>

<span data-ttu-id="d1b00-133">Op hoog niveau, tooimplement een regionale failover-model met IoT Hub, hebt u Hallo volgende nodig:</span><span class="sxs-lookup"><span data-stu-id="d1b00-133">At a high level, tooimplement a regional failover model with IoT Hub, you need hello following:</span></span>

* <span data-ttu-id="d1b00-134">**Een secundaire iothub en routering logica apparaat**: In geval van een onderbreking van de service in uw primaire regio Hallo apparaten verbinden tooyour secundaire regio moeten worden gestart.</span><span class="sxs-lookup"><span data-stu-id="d1b00-134">**A secondary IoT hub and device routing logic**: In hello case of a service disruption in your primary region, devices must start connecting tooyour secondary region.</span></span> <span data-ttu-id="d1b00-135">Hallo statusbewust aard van de meeste services die betrokken zijn opgegeven, is het gebruikelijk oplossing beheerders tootrigger Hallo regio inter failover-proces.</span><span class="sxs-lookup"><span data-stu-id="d1b00-135">Given hello state-aware nature of most services involved, it is common for solution administrators tootrigger hello inter-region failover process.</span></span> <span data-ttu-id="d1b00-136">Hallo aanbevolen manier toocommunicate Hallo nieuwe eindpunt toodevices, terwijl het besturingselement van het Hallo-proces is toohave ze regelmatig te controleren een *concierge* service voor de huidige actieve eindpunt Hallo.</span><span class="sxs-lookup"><span data-stu-id="d1b00-136">hello best way toocommunicate hello new endpoint toodevices, while maintaining control of hello process, is toohave them regularly check a *concierge* service for hello current active endpoint.</span></span> <span data-ttu-id="d1b00-137">Hallo concierge-service is een webtoepassing die is gerepliceerd en bewaard bereikbaar met behulp van DNS-omleiding technieken (bijvoorbeeld [Azure Traffic Manager][Azure Traffic Manager]).</span><span class="sxs-lookup"><span data-stu-id="d1b00-137">hello concierge service can be a web application that is replicated and kept reachable using DNS-redirection techniques (for example, using [Azure Traffic Manager][Azure Traffic Manager]).</span></span>
* <span data-ttu-id="d1b00-138">**Identiteit register repliceren** -toobe bruikbaar, Hallo secundaire IoT-hub moet bevatten alle apparaat-id's die verbinding van toohello oplossing maken kunnen.</span><span class="sxs-lookup"><span data-stu-id="d1b00-138">**Identity registry replication** - toobe usable, hello secondary IoT hub must contain all device identities that can connect toohello solution.</span></span> <span data-ttu-id="d1b00-139">Hallo-oplossing moet behoudt back-ups geogerepliceerde van apparaat-id's en toohello secundaire IoT-hub uploaden voordat u de Hallo actief eindpunt voor Hallo-apparaten.</span><span class="sxs-lookup"><span data-stu-id="d1b00-139">hello solution should keep geo-replicated backups of device identities, and upload them toohello secondary IoT hub before switching hello active endpoint for hello devices.</span></span> <span data-ttu-id="d1b00-140">Hallo apparaat identiteit export-functionaliteit van IoT Hub is handig in deze context.</span><span class="sxs-lookup"><span data-stu-id="d1b00-140">hello device identity export functionality of IoT Hub is useful in this context.</span></span> <span data-ttu-id="d1b00-141">Zie voor meer informatie [IoT Hub developer guide - id-register][IoT Hub developer guide - identity registry].</span><span class="sxs-lookup"><span data-stu-id="d1b00-141">For more information, see [IoT Hub developer guide - identity registry][IoT Hub developer guide - identity registry].</span></span>
* <span data-ttu-id="d1b00-142">**Samenvoegen van logica** : wanneer de primaire regio Hallo weer beschikbaar is, alle Hallo status en gegevens die zijn gemaakt in de secundaire site Hallo moet gemigreerde back toohello primaire regio.</span><span class="sxs-lookup"><span data-stu-id="d1b00-142">**Merging logic** - When hello primary region becomes available again, all hello state and data that have been created in hello secondary site must be migrated back toohello primary region.</span></span> <span data-ttu-id="d1b00-143">Deze status en gegevens verbindt voornamelijk toodevice identiteiten en metagegevens van toepassing moet worden samengevoegd met de Hallo primaire iothub en andere toepassingsspecifieke winkels in de primaire regio Hallo.</span><span class="sxs-lookup"><span data-stu-id="d1b00-143">This state and data mostly relates toodevice identities and application metadata, which must be merged with hello primary IoT hub and any other application-specific stores in hello primary region.</span></span> <span data-ttu-id="d1b00-144">toosimplify deze stap moet u de idempotent-bewerkingen.</span><span class="sxs-lookup"><span data-stu-id="d1b00-144">toosimplify this step, you should use idempotent operations.</span></span> <span data-ttu-id="d1b00-145">De Idempotent operations minimaliseren Hallo neveneffecten van Hallo eventuele consistente distributie van gebeurtenissen en van duplicaten of out-van-levering van gebeurtenissen.</span><span class="sxs-lookup"><span data-stu-id="d1b00-145">Idempotent operations minimize hello side-effects from hello eventual consistent distribution of events, and from duplicates or out-of-order delivery of events.</span></span> <span data-ttu-id="d1b00-146">Bovendien moet Hallo toepassingslogica ontworpen tootolerate mogelijke inconsistenties of 'enigszins' uit datum-status.</span><span class="sxs-lookup"><span data-stu-id="d1b00-146">In addition, hello application logic should be designed tootolerate potential inconsistencies or "slightly" out of date-state.</span></span> <span data-ttu-id="d1b00-147">Deze situatie kan optreden vanwege toohello extra tijd die nodig is voor Hallo systeem te 'retoucheren' op basis van herstelpuntdoelen (RPO).</span><span class="sxs-lookup"><span data-stu-id="d1b00-147">This situation can occur due toohello additional time it takes for hello system too"heal" based on recovery point objectives (RPO).</span></span>

## <a name="next-steps"></a><span data-ttu-id="d1b00-148">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="d1b00-148">Next steps</span></span>
<span data-ttu-id="d1b00-149">Volg deze koppelingen toolearn meer informatie over Azure IoT Hub:</span><span class="sxs-lookup"><span data-stu-id="d1b00-149">Follow these links toolearn more about Azure IoT Hub:</span></span>

* <span data-ttu-id="d1b00-150">[Aan de slag met IoT Hubs (zelfstudie)][lnk-get-started]</span><span class="sxs-lookup"><span data-stu-id="d1b00-150">[Get started with IoT Hubs (Tutorial)][lnk-get-started]</span></span>
* <span data-ttu-id="d1b00-151">[Wat is Azure IoT Hub?][What is Azure IoT Hub?]</span><span class="sxs-lookup"><span data-stu-id="d1b00-151">[What is Azure IoT Hub?][What is Azure IoT Hub?]</span></span>

[Disaster recovery and high availability for Azure applications]: ../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md
[Azure Business Continuity Technical Guidance]: https://azure.microsoft.com/documentation/articles/resiliency-technical-guidance/
[Azure Traffic Manager]: https://azure.microsoft.com/documentation/services/traffic-manager/
[IoT Hub developer guide - identity registry]: iot-hub-devguide-identity-registry.md

[lnk-get-started]: iot-hub-csharp-csharp-getstarted.md
[What is Azure IoT Hub?]: iot-hub-what-is-iot-hub.md
