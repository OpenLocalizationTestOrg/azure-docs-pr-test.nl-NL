---
title: 'Azure Active Directory Domain Services: Kerberos-beperkte delegatie inschakelen | Microsoft Docs'
description: Kerberos-beperkte overdracht op beheerde domeinen voor Azure Active Directory Domain Services inschakelen
services: active-directory-ds
documentationcenter: 
author: mahesh-unnikrishnan
manager: stevenpo
editor: curtand
ms.assetid: 938a5fbc-2dd1-4759-bcce-628a6e19ab9d
ms.service: active-directory-ds
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/06/2017
ms.author: maheshu
ms.openlocfilehash: d32547c8018dd1f99c992e95a01d2711d460a261
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="configure-kerberos-constrained-delegation-kcd-on-a-managed-domain"></a><span data-ttu-id="1042f-103">Kerberos-beperkte delegatie (KCD) configureren op een beheerd domein</span><span class="sxs-lookup"><span data-stu-id="1042f-103">Configure kerberos constrained delegation (KCD) on a managed domain</span></span>
<span data-ttu-id="1042f-104">Veel toepassingen moeten tooaccess resources in de context van de gebruiker Hallo Hallo.</span><span class="sxs-lookup"><span data-stu-id="1042f-104">Many applications need tooaccess resources in hello context of hello user.</span></span> <span data-ttu-id="1042f-105">Active Directory ondersteunt een mechanisme voor Kerberos-overdracht, waardoor deze gebruiksvoorbeeld.</span><span class="sxs-lookup"><span data-stu-id="1042f-105">Active Directory supports a mechanism called Kerberos delegation, which enables this use-case.</span></span> <span data-ttu-id="1042f-106">U kunt bovendien delegering beperken zodat alleen bepaalde resources in de context van de gebruiker Hallo Hallo toegankelijk zijn.</span><span class="sxs-lookup"><span data-stu-id="1042f-106">Further, you can restrict delegation so that only specific resources can be accessed in hello context of hello user.</span></span> <span data-ttu-id="1042f-107">Azure AD Domain Services beheerde domeinen zijn anders dan traditionele Active Directory-domeinen, omdat ze veiliger zijn vergrendeld.</span><span class="sxs-lookup"><span data-stu-id="1042f-107">Azure AD Domain Services managed domains are different from traditional Active Directory domains since they are more securely locked down.</span></span>

<span data-ttu-id="1042f-108">Dit artikel laat zien hoe tooconfigure kerberos-beperkte overdracht op een beheerd domein van Azure AD Domain Services.</span><span class="sxs-lookup"><span data-stu-id="1042f-108">This article shows you how tooconfigure kerberos constrained delegation on an Azure AD Domain Services managed domain.</span></span>

## <a name="kerberos-constrained-delegation-kcd"></a><span data-ttu-id="1042f-109">Kerberos-beperkte delegatie (KCD)</span><span class="sxs-lookup"><span data-stu-id="1042f-109">Kerberos constrained delegation (KCD)</span></span>
<span data-ttu-id="1042f-110">Kerberos-overdracht kunt een account tooimpersonate tooaccess principal (zoals een gebruiker) van een andere beveiligingsinformatie.</span><span class="sxs-lookup"><span data-stu-id="1042f-110">Kerberos delegation enables an account tooimpersonate another security principal (such as a user) tooaccess resources.</span></span> <span data-ttu-id="1042f-111">U kunt een webtoepassing die toegang heeft tot een back-end-web-API in Hallo context van een gebruiker.</span><span class="sxs-lookup"><span data-stu-id="1042f-111">Consider a web application that accesses a back-end web API in hello context of a user.</span></span> <span data-ttu-id="1042f-112">In dit voorbeeld hello webtoepassing (uitgevoerd in de context van een serviceaccount of een computer/computeraccount Hallo) Hallo gebruiker imiteert bij toegang tot Hallo bron (back-end web-API).</span><span class="sxs-lookup"><span data-stu-id="1042f-112">In this example, hello web application (running in hello context of a service account or a computer/machine account) impersonates hello user when accessing hello resource (back-end web API).</span></span> <span data-ttu-id="1042f-113">Kerberos-overdracht is onveilig omdat Hallo resources Hallo imiteren account toegang in de context van de gebruiker Hallo Hallo tot niet wordt beperkt.</span><span class="sxs-lookup"><span data-stu-id="1042f-113">Kerberos delegation is insecure since it does not restrict hello resources hello impersonating account can access in hello context of hello user.</span></span>

<span data-ttu-id="1042f-114">Kerberos-beperkte delegatie (KCD) beperkt Hallo services-bronnen toowhich Hallo opgegeven server op Hallo namens de gebruiker kan fungeren.</span><span class="sxs-lookup"><span data-stu-id="1042f-114">Kerberos constrained delegation (KCD) restricts hello services/resources toowhich hello specified server can act on hello behalf of a user.</span></span> <span data-ttu-id="1042f-115">Traditionele KCD domein administrator-bevoegdheden tooconfigure een domeinaccount vereist voor een service en het Hallo-account tooa één domein beperkt.</span><span class="sxs-lookup"><span data-stu-id="1042f-115">Traditional KCD requires domain administrator privileges tooconfigure a domain account for a service and it restricts hello account tooa single domain.</span></span>

<span data-ttu-id="1042f-116">Traditionele KCD heeft ook een aantal aspecten die zijn gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="1042f-116">Traditional KCD also has a few issues associated with it.</span></span> <span data-ttu-id="1042f-117">In eerdere besturingssystemen waarin domeinbeheerder Hallo Hallo-service hebt geconfigureerd, had Hallo servicebeheerder geen handige manier tooknow welke front-end-services overgedragen toohello bronservices die of zij eigenaar was.</span><span class="sxs-lookup"><span data-stu-id="1042f-117">In earlier operating systems where hello domain administrator configured hello service, hello service administrator had no useful way tooknow which front-end services delegated toohello resource services they owned.</span></span> <span data-ttu-id="1042f-118">En elke front-endservice die kon worden overgedragen tooa bronservice vertegenwoordigd een potentiële aanvallen met zich mee.</span><span class="sxs-lookup"><span data-stu-id="1042f-118">And any front-end service that could delegate tooa resource service represented a potential attack point.</span></span> <span data-ttu-id="1042f-119">Als inbreuk is gemaakt op een server die een front-end-service wordt gehost, en het geconfigureerde toodelegate tooresource services was, kunnen ook Hallo bronservices gevaar.</span><span class="sxs-lookup"><span data-stu-id="1042f-119">If a server that hosted a front-end service was compromised, and it was configured toodelegate tooresource services, hello resource services could also be compromised.</span></span>

> [!NOTE]
> <span data-ttu-id="1042f-120">Op een beheerd domein van Azure AD Domain Services er geen domeinadministratorrechten.</span><span class="sxs-lookup"><span data-stu-id="1042f-120">On an Azure AD Domain Services managed domain, you do not have domain administrator privileges.</span></span> <span data-ttu-id="1042f-121">Daarom **traditionele KCD kan niet worden geconfigureerd op een beheerd domein**.</span><span class="sxs-lookup"><span data-stu-id="1042f-121">Therefore, **traditional KCD cannot be configured on a managed domain**.</span></span> <span data-ttu-id="1042f-122">Gebruik KCD op basis van bronnen zoals beschreven in dit artikel.</span><span class="sxs-lookup"><span data-stu-id="1042f-122">Use resource-based KCD as described in this article.</span></span> <span data-ttu-id="1042f-123">Dit mechanisme is ook veiliger.</span><span class="sxs-lookup"><span data-stu-id="1042f-123">This mechanism is also more secure.</span></span>
>
>

## <a name="resource-based-kerberos-constrained-delegation"></a><span data-ttu-id="1042f-124">Op basis van bronnen kerberos-beperkte overdracht</span><span class="sxs-lookup"><span data-stu-id="1042f-124">Resource-based kerberos constrained delegation</span></span>
<span data-ttu-id="1042f-125">Hallo mogelijkheid tooconfigure beperkte delegering voor Hallo-service is in Windows Server 2012 R2 en Windows Server 2012 overgebracht van Hallo beheerder toohello service domeinbeheerder.</span><span class="sxs-lookup"><span data-stu-id="1042f-125">In Windows Server 2012 R2 and Windows Server 2012, hello ability tooconfigure constrained delegation for hello service has been transferred from hello domain administrator toohello service administrator.</span></span> <span data-ttu-id="1042f-126">Op deze manier kunt Hallo back-end-servicebeheerder toestaan of weigeren van de front-end-services.</span><span class="sxs-lookup"><span data-stu-id="1042f-126">In this way, hello back-end service administrator can allow or deny front-end services.</span></span> <span data-ttu-id="1042f-127">Dit model wordt ook wel **resources gebaseerde kerberos-beperkte overdracht**.</span><span class="sxs-lookup"><span data-stu-id="1042f-127">This model is known as **resource-based kerberos constrained delegation**.</span></span>

<span data-ttu-id="1042f-128">KCD op basis van een bron is geconfigureerd met behulp van PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1042f-128">Resource-based KCD is configured using PowerShell.</span></span> <span data-ttu-id="1042f-129">U gebruikt Hallo Set-ADComputer of Set-ADUser cmdlets, afhankelijk van of Hallo imiteren account een computeraccount of de account-/ serviceaccount voor een gebruiker is.</span><span class="sxs-lookup"><span data-stu-id="1042f-129">You use hello Set-ADComputer or Set-ADUser cmdlets, depending on whether hello impersonating account is a computer account or a user account/service account.</span></span>

### <a name="configure-resource-based-kcd-for-a-computer-account-on-a-managed-domain"></a><span data-ttu-id="1042f-130">KCD op basis van bronnen voor een computeraccount configureren op een beheerd domein</span><span class="sxs-lookup"><span data-stu-id="1042f-130">Configure resource-based KCD for a computer account on a managed domain</span></span>
<span data-ttu-id="1042f-131">Wordt ervan uitgegaan dat u hebt een web-app wordt uitgevoerd op de computer Hallo ' contoso100-webapp.contoso100.com'.</span><span class="sxs-lookup"><span data-stu-id="1042f-131">Assume you have a web app running on hello computer 'contoso100-webapp.contoso100.com'.</span></span> <span data-ttu-id="1042f-132">Moet tooaccess Hallo resource (een web-API uit te voeren op ' contoso100-api.contoso100.com') in de context van domeingebruikers Hallo.</span><span class="sxs-lookup"><span data-stu-id="1042f-132">It needs tooaccess hello resource (a web API running on 'contoso100-api.contoso100.com') in hello context of domain users.</span></span> <span data-ttu-id="1042f-133">Dit is hoe u resources gebaseerde KCD voor dit scenario zou ingesteld.</span><span class="sxs-lookup"><span data-stu-id="1042f-133">Here's how you would set up resource-based KCD for this scenario.</span></span>

```
$ImpersonatingAccount = Get-ADComputer -Identity contoso100-webapp.contoso100.com
Set-ADComputer contoso100-api.contoso100.com -PrincipalsAllowedToDelegateToAccount $ImpersonatingAccount
```

### <a name="configure-resource-based-kcd-for-a-user-account-on-a-managed-domain"></a><span data-ttu-id="1042f-134">KCD op basis van bronnen voor een gebruikersaccount configureren op een beheerd domein</span><span class="sxs-lookup"><span data-stu-id="1042f-134">Configure resource-based KCD for a user account on a managed domain</span></span>
<span data-ttu-id="1042f-135">Stel u hebt een web-app wordt uitgevoerd als een service-account 'appsvc' moet tooaccess Hallo resource (een web-API wordt uitgevoerd als een serviceaccount - 'backendsvc') in de context van domeingebruikers Hallo.</span><span class="sxs-lookup"><span data-stu-id="1042f-135">Assume you have a web app running as a service account 'appsvc' and it needs tooaccess hello resource (a web API running as a service account - 'backendsvc') in hello context of domain users.</span></span> <span data-ttu-id="1042f-136">Dit is hoe u resources gebaseerde KCD voor dit scenario zou ingesteld.</span><span class="sxs-lookup"><span data-stu-id="1042f-136">Here's how you would set up resource-based KCD for this scenario.</span></span>

```
$ImpersonatingAccount = Get-ADUser -Identity appsvc
Set-ADUser backendsvc -PrincipalsAllowedToDelegateToAccount $ImpersonatingAccount
```

## <a name="related-content"></a><span data-ttu-id="1042f-137">Gerelateerde inhoud</span><span class="sxs-lookup"><span data-stu-id="1042f-137">Related Content</span></span>
* [<span data-ttu-id="1042f-138">Azure AD Domain Services - handleiding aan de slag</span><span class="sxs-lookup"><span data-stu-id="1042f-138">Azure AD Domain Services - Getting Started guide</span></span>](active-directory-ds-getting-started.md)
* [<span data-ttu-id="1042f-139">Kerberos-beperkte overdracht overzicht</span><span class="sxs-lookup"><span data-stu-id="1042f-139">Kerberos Constrained Delegation Overview</span></span>](https://technet.microsoft.com/library/jj553400.aspx)
