---
title: aaaHow tooconfigure Redis clustering voor een Premium Azure Redis-Cache | Microsoft Docs
description: Meer informatie over hoe toocreate en beheren van Redis-clustering voor de laag Premium Azure Redis-Cache-exemplaren
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 62208eec-52ae-4713-b077-62659fd844ab
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/05/2017
ms.author: sdanie
ms.openlocfilehash: 44d520facb9d1af145b69f1b58f082aabb655d4a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="how-tooconfigure-redis-clustering-for-a-premium-azure-redis-cache"></a><span data-ttu-id="95c08-103">Hoe tooconfigure Redis clustering voor een Premium Azure Redis-Cache</span><span class="sxs-lookup"><span data-stu-id="95c08-103">How tooconfigure Redis clustering for a Premium Azure Redis Cache</span></span>
<span data-ttu-id="95c08-104">Azure Redis-Cache heeft verschillende cache aanbiedingen die flexibiliteit bij het Hallo-keuze van de cachegrootte en -onderdelen bieden, met inbegrip van Premium-laag functies zoals clustering, persistentie en virtual network-ondersteuning.</span><span class="sxs-lookup"><span data-stu-id="95c08-104">Azure Redis Cache has different cache offerings, which provide flexibility in hello choice of cache size and features, including Premium tier features such as clustering, persistence, and virtual network support.</span></span> <span data-ttu-id="95c08-105">Dit artikel wordt beschreven hoe tooconfigure clustering van een premium Azure Redis-Cache exemplaar.</span><span class="sxs-lookup"><span data-stu-id="95c08-105">This article describes how tooconfigure clustering in a premium Azure Redis Cache instance.</span></span>

<span data-ttu-id="95c08-106">Zie voor informatie over andere functies van premium-cache, [inleiding toohello Azure Redis-Cache Premium-laag](cache-premium-tier-intro.md).</span><span class="sxs-lookup"><span data-stu-id="95c08-106">For information on other premium cache features, see [Introduction toohello Azure Redis Cache Premium tier](cache-premium-tier-intro.md).</span></span>

## <a name="what-is-redis-cluster"></a><span data-ttu-id="95c08-107">Wat is de Redis-Cluster?</span><span class="sxs-lookup"><span data-stu-id="95c08-107">What is Redis Cluster?</span></span>
<span data-ttu-id="95c08-108">Azure Redis-Cache biedt Redis-cluster als [ge√Ømplementeerd in Redis](http://redis.io/topics/cluster-tutorial).</span><span class="sxs-lookup"><span data-stu-id="95c08-108">Azure Redis Cache offers Redis cluster as [implemented in Redis](http://redis.io/topics/cluster-tutorial).</span></span> <span data-ttu-id="95c08-109">Met Redis-Cluster beschikt u over Hallo volgende voordelen:</span><span class="sxs-lookup"><span data-stu-id="95c08-109">With Redis Cluster, you get hello following benefits:</span></span> 

* <span data-ttu-id="95c08-110">Hallo mogelijkheid tooautomatically splitsen uw gegevensset tussen meerdere knooppunten.</span><span class="sxs-lookup"><span data-stu-id="95c08-110">hello ability tooautomatically split your dataset among multiple nodes.</span></span> 
* <span data-ttu-id="95c08-111">Hallo mogelijkheid toocontinue bewerkingen wanneer een subset van Hallo knooppunten ondervindt fouten of kan geen toocommunicate met rest Hallo van Hallo cluster zijn.</span><span class="sxs-lookup"><span data-stu-id="95c08-111">hello ability toocontinue operations when a subset of hello nodes is experiencing failures or are unable toocommunicate with hello rest of hello cluster.</span></span> 
* <span data-ttu-id="95c08-112">Meer doorvoer: doorvoer lineair neemt toe naarmate u Hallo aantal shards verhogen.</span><span class="sxs-lookup"><span data-stu-id="95c08-112">More throughput: Throughput increases linearly as you increase hello number of shards.</span></span> 
* <span data-ttu-id="95c08-113">Grootte van meer geheugen: Lineair neemt toe naarmate u Hallo aantal shards verhogen.</span><span class="sxs-lookup"><span data-stu-id="95c08-113">More memory size: Increases linearly as you increase hello number of shards.</span></span>  

<span data-ttu-id="95c08-114">Zie voor meer informatie over de grootte, doorvoer en bandbreedte van premiumcaches [welke aanbieding Redis-Cache en de grootte moet ik gebruiken?](cache-faq.md#what-redis-cache-offering-and-size-should-i-use)</span><span class="sxs-lookup"><span data-stu-id="95c08-114">For more information about size, throughput, and bandwidth with premium caches, see [What Redis Cache offering and size should I use?](cache-faq.md#what-redis-cache-offering-and-size-should-i-use)</span></span>

<span data-ttu-id="95c08-115">In Azure wordt Redis-cluster aangeboden als een primair/replica model waarin de elke shard heeft een paar primair/replica met replicatie waar Hallo replicatie wordt beheerd door service van Azure Redis-Cache.</span><span class="sxs-lookup"><span data-stu-id="95c08-115">In Azure, Redis cluster is offered as a primary/replica model where each shard has a primary/replica pair with replication where hello replication is managed by Azure Redis Cache service.</span></span> 

## <a name="clustering"></a><span data-ttu-id="95c08-116">Clustering</span><span class="sxs-lookup"><span data-stu-id="95c08-116">Clustering</span></span>
<span data-ttu-id="95c08-117">Clustering is ingeschakeld op Hallo **nieuwe Redis-Cache** blade tijdens het maken van de cache.</span><span class="sxs-lookup"><span data-stu-id="95c08-117">Clustering is enabled on hello **New Redis Cache** blade during cache creation.</span></span> 

[!INCLUDE [redis-cache-create](../../includes/redis-cache-premium-create.md)]

<span data-ttu-id="95c08-118">Clustering is geconfigureerd op Hallo **Redis-Cluster** blade.</span><span class="sxs-lookup"><span data-stu-id="95c08-118">Clustering is configured on hello **Redis Cluster** blade.</span></span>

![Clustering][redis-cache-clustering]

<span data-ttu-id="95c08-120">U kunt hebben up too10 shards in Hallo-cluster.</span><span class="sxs-lookup"><span data-stu-id="95c08-120">You can have up too10 shards in hello cluster.</span></span> <span data-ttu-id="95c08-121">Klik op **ingeschakeld** en schuift Hallo schuifregelaar of typ een getal tussen 1 en 10 voor **Shard aantal** en klik op **OK**.</span><span class="sxs-lookup"><span data-stu-id="95c08-121">Click **Enabled** and slide hello slider or type a number between 1 and 10 for **Shard count** and click **OK**.</span></span>

<span data-ttu-id="95c08-122">Elke shard is een primair/replica cache paar beheerd door Azure en Hallo totale grootte van de cache Hallo wordt vermenigvuldigd Hallo aantal shards Hallo cachegrootte is geselecteerd in Hallo prijscategorie.</span><span class="sxs-lookup"><span data-stu-id="95c08-122">Each shard is a primary/replica cache pair managed by Azure, and hello total size of hello cache is calculated by multiplying hello number of shards by hello cache size selected in hello pricing tier.</span></span> 

![Clustering][redis-cache-clustering-selected]

<span data-ttu-id="95c08-124">Zodra het Hallo-cache wordt gemaakt u tooit verbinding maken met en gebruik deze net zoals een niet-geclusterde cache en Redis distribueert Hallo gegevensdoorvoer Hallo Cache shards.</span><span class="sxs-lookup"><span data-stu-id="95c08-124">Once hello cache is created you connect tooit and use it just like a non-clustered cache, and Redis distributes hello data throughout hello Cache shards.</span></span> <span data-ttu-id="95c08-125">Als u diagnostische gegevens is [ingeschakeld](cache-how-to-monitor.md#enable-cache-diagnostics), metrische gegevens voor elke shard afzonderlijk worden vastgelegd en kunnen worden [bekeken](cache-how-to-monitor.md) hello Redis-Cache-blade.</span><span class="sxs-lookup"><span data-stu-id="95c08-125">If diagnostics is [enabled](cache-how-to-monitor.md#enable-cache-diagnostics), metrics are captured separately for each shard and can be [viewed](cache-how-to-monitor.md) in hello Redis Cache blade.</span></span> 

> [!NOTE]
> 
> <span data-ttu-id="95c08-126">Er zijn een aantal kleine verschillen in de clienttoepassing vereist wanneer clustering is geconfigureerd.</span><span class="sxs-lookup"><span data-stu-id="95c08-126">There are some minor differences required in your client application when clustering is configured.</span></span> <span data-ttu-id="95c08-127">Zie voor meer informatie [heb ik nodig toomake eventuele wijzigingen toomy client toepassing toouse clustering?](#do-i-need-to-make-any-changes-to-my-client-application-to-use-clustering)</span><span class="sxs-lookup"><span data-stu-id="95c08-127">For more information, see [Do I need toomake any changes toomy client application toouse clustering?](#do-i-need-to-make-any-changes-to-my-client-application-to-use-clustering)</span></span>
> 
> 

<span data-ttu-id="95c08-128">Zie voor voorbeeldcode over het werken met clustering met de client StackExchange.Redis Hallo Hallo [clustering.cs](https://github.com/rustd/RedisSamples/blob/master/HelloWorld/Clustering.cs) gedeelte Hallo [Hallo wereld](https://github.com/rustd/RedisSamples/tree/master/HelloWorld) voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="95c08-128">For sample code on working with clustering with hello StackExchange.Redis client, see hello [clustering.cs](https://github.com/rustd/RedisSamples/blob/master/HelloWorld/Clustering.cs) portion of hello [Hello World](https://github.com/rustd/RedisSamples/tree/master/HelloWorld) sample.</span></span>

<a name="cluster-size"></a>

## <a name="change-hello-cluster-size-on-a-running-premium-cache"></a><span data-ttu-id="95c08-129">De clustergrootte Hallo op een actieve wijzigen premium-cache</span><span class="sxs-lookup"><span data-stu-id="95c08-129">Change hello cluster size on a running premium cache</span></span>
<span data-ttu-id="95c08-130">toochange hello clustergrootte op een actieve premium in de cache met clustering en klik **clustergrootte Redis** van Hallo **Resource menu**.</span><span class="sxs-lookup"><span data-stu-id="95c08-130">toochange hello cluster size on a running premium cache with clustering enabled, click **Redis Cluster Size** from hello **Resource menu**.</span></span>

> [!NOTE]
> <span data-ttu-id="95c08-131">Terwijl hello Azure Redis-Cache Premium laag is vrijgegeven tooGeneral beschikbaarheid, is Hallo clustergrootte Redis-functie momenteel preview.</span><span class="sxs-lookup"><span data-stu-id="95c08-131">While hello Azure Redis Cache Premium tier has been released tooGeneral Availability, hello Redis Cluster Size feature is currently in preview.</span></span>
> 
> 

![Clustergrootte redis][redis-cache-redis-cluster-size]

<span data-ttu-id="95c08-133">Hallo clustergrootte toochange gebruik Hallo schuifregelaar of typ een getal tussen 1 en 10 in Hallo **Shard aantal** tekstvak en klik op **OK** toosave.</span><span class="sxs-lookup"><span data-stu-id="95c08-133">toochange hello cluster size, use hello slider or type a number between 1 and 10 in hello **Shard count** text box and click **OK** toosave.</span></span>

> [!NOTE]
> <span data-ttu-id="95c08-134">Schalen van een cluster wordt uitgevoerd Hallo [migreren](https://redis.io/commands/migrate) opdracht, die een dure opdracht, dus voor minimale invloed, kunt u deze bewerking tijdens daluren uitvoert.</span><span class="sxs-lookup"><span data-stu-id="95c08-134">Scaling a cluster runs hello [MIGRATE](https://redis.io/commands/migrate) command, which is an expensive command, so for minimal impact, consider running this operation during non-peak hours.</span></span> <span data-ttu-id="95c08-135">Tijdens het migratieproces hello ziet u een piek in de belasting van de server.</span><span class="sxs-lookup"><span data-stu-id="95c08-135">During hello migration process, you will see a spike in server load.</span></span> <span data-ttu-id="95c08-136">Schalen van een cluster wordt uitgevoerd een lang proces en Hallo hoeveelheid tijd is afhankelijk van Hallo aantal sleutels en de grootte van Hallo waarden die zijn gekoppeld aan deze sleutels.</span><span class="sxs-lookup"><span data-stu-id="95c08-136">Scaling a cluster is a long running process and hello amount of time taken depends on hello number of keys and size of hello values associated with those keys.</span></span>
> 
> 

## <a name="clustering-faq"></a><span data-ttu-id="95c08-137">Veelgestelde vragen over clustering</span><span class="sxs-lookup"><span data-stu-id="95c08-137">Clustering FAQ</span></span>
<span data-ttu-id="95c08-138">Hallo bevat volgende lijst toocommonly van antwoorden op veelgestelde vragen over Azure Redis-Cache clustering.</span><span class="sxs-lookup"><span data-stu-id="95c08-138">hello following list contains answers toocommonly asked questions about Azure Redis Cache clustering.</span></span>

* [<span data-ttu-id="95c08-139">Moet ik toomake eventuele wijzigingen toomy client toepassing toouse clustering?</span><span class="sxs-lookup"><span data-stu-id="95c08-139">Do I need toomake any changes toomy client application toouse clustering?</span></span>](#do-i-need-to-make-any-changes-to-my-client-application-to-use-clustering)
* [<span data-ttu-id="95c08-140">Hoe worden de sleutels in een cluster gedistribueerd?</span><span class="sxs-lookup"><span data-stu-id="95c08-140">How are keys distributed in a cluster?</span></span>](#how-are-keys-distributed-in-a-cluster)
* [<span data-ttu-id="95c08-141">Wat is Hallo grootste cachegrootte die ik kan maken?</span><span class="sxs-lookup"><span data-stu-id="95c08-141">What is hello largest cache size I can create?</span></span>](#what-is-the-largest-cache-size-i-can-create)
* [<span data-ttu-id="95c08-142">Alle Redis-clients ondersteunen clustering?</span><span class="sxs-lookup"><span data-stu-id="95c08-142">Do all Redis clients support clustering?</span></span>](#do-all-redis-clients-support-clustering)
* [<span data-ttu-id="95c08-143">Hoe kan ik toomy cache verbinden wanneer clustering is ingeschakeld?</span><span class="sxs-lookup"><span data-stu-id="95c08-143">How do I connect toomy cache when clustering is enabled?</span></span>](#how-do-i-connect-to-my-cache-when-clustering-is-enabled)
* [<span data-ttu-id="95c08-144">Kan ik afzonderlijke shards toohello van mijn cache rechtstreeks verbinden?</span><span class="sxs-lookup"><span data-stu-id="95c08-144">Can I directly connect toohello individual shards of my cache?</span></span>](#can-i-directly-connect-to-the-individual-shards-of-my-cache)
* [<span data-ttu-id="95c08-145">Kan ik de clustering voor een eerder gemaakte cache configureren?</span><span class="sxs-lookup"><span data-stu-id="95c08-145">Can I configure clustering for a previously created cache?</span></span>](#can-i-configure-clustering-for-a-previously-created-cache)
* [<span data-ttu-id="95c08-146">Kan ik de clustering voor een basis of standaard-cache configureren?</span><span class="sxs-lookup"><span data-stu-id="95c08-146">Can I configure clustering for a basic or standard cache?</span></span>](#can-i-configure-clustering-for-a-basic-or-standard-cache)
* [<span data-ttu-id="95c08-147">Kan ik de clustering met Hallo Redis ASP.NET Session State en uitvoercaching-providers gebruiken?</span><span class="sxs-lookup"><span data-stu-id="95c08-147">Can I use clustering with hello Redis ASP.NET Session State and Output Caching providers?</span></span>](#can-i-use-clustering-with-the-redis-aspnet-session-state-and-output-caching-providers)
* [<span data-ttu-id="95c08-148">Ik krijg verplaatsen uitzonderingen bij gebruik van StackExchange.Redis en clustering, wat moet ik doen?</span><span class="sxs-lookup"><span data-stu-id="95c08-148">I am getting MOVE exceptions when using StackExchange.Redis and clustering, what should I do?</span></span>](#i-am-getting-move-exceptions-when-using-stackexchangeredis-and-clustering-what-should-i-do)

### <a name="do-i-need-toomake-any-changes-toomy-client-application-toouse-clustering"></a><span data-ttu-id="95c08-149">Moet ik toomake eventuele wijzigingen toomy client toepassing toouse clustering?</span><span class="sxs-lookup"><span data-stu-id="95c08-149">Do I need toomake any changes toomy client application toouse clustering?</span></span>
* <span data-ttu-id="95c08-150">Wanneer clustering is ingeschakeld, wordt alleen database 0 beschikbaar is.</span><span class="sxs-lookup"><span data-stu-id="95c08-150">When clustering is enabled, only database 0 is available.</span></span> <span data-ttu-id="95c08-151">Als uw clienttoepassing gebruikmaakt van meerdere databases en wordt geprobeerd een tooread- of schrijfbewerking tooa andere database dan 0, hello volgende uitzondering is opgetreden.</span><span class="sxs-lookup"><span data-stu-id="95c08-151">If your client application uses multiple databases and it tries tooread or write tooa database other than 0, hello following exception is thrown.</span></span> <span data-ttu-id="95c08-152">`Unhandled Exception: StackExchange.Redis.RedisConnectionException: ProtocolFailure on GET --->` `StackExchange.Redis.RedisCommandException: Multiple databases are not supported on this server; cannot switch toodatabase: 6`</span><span class="sxs-lookup"><span data-stu-id="95c08-152">`Unhandled Exception: StackExchange.Redis.RedisConnectionException: ProtocolFailure on GET --->` `StackExchange.Redis.RedisCommandException: Multiple databases are not supported on this server; cannot switch toodatabase: 6`</span></span>
  
  <span data-ttu-id="95c08-153">Zie voor meer informatie [clusterspecificatie Redis - ge√Ømplementeerde subset](http://redis.io/topics/cluster-spec#implemented-subset).</span><span class="sxs-lookup"><span data-stu-id="95c08-153">For more information, see [Redis Cluster Specification - Implemented subset](http://redis.io/topics/cluster-spec#implemented-subset).</span></span>
* <span data-ttu-id="95c08-154">Als u [StackExchange.Redis](https://www.nuget.org/packages/StackExchange.Redis/), moet u 1.0.481 of hoger.</span><span class="sxs-lookup"><span data-stu-id="95c08-154">If you are using [StackExchange.Redis](https://www.nuget.org/packages/StackExchange.Redis/), you must use 1.0.481 or later.</span></span> <span data-ttu-id="95c08-155">U toohello cache verbinding maken met behulp van dezelfde Hallo [eindpunten, poorten en sleutels](cache-configure.md#properties) waarmee u verbinding maakt tooa-cache geen clusteren is ingeschakeld heeft.</span><span class="sxs-lookup"><span data-stu-id="95c08-155">You connect toohello cache using hello same [endpoints, ports, and keys](cache-configure.md#properties) that you use when connecting tooa cache that does not have clustering enabled.</span></span> <span data-ttu-id="95c08-156">Hallo enige verschil is dat alle lees- en schrijfbewerkingen moeten worden uitgevoerd toodatabase 0.</span><span class="sxs-lookup"><span data-stu-id="95c08-156">hello only difference is that all reads and writes must be done toodatabase 0.</span></span>
  
  * <span data-ttu-id="95c08-157">Andere clients mogelijk andere vereisten.</span><span class="sxs-lookup"><span data-stu-id="95c08-157">Other clients may have different requirements.</span></span> <span data-ttu-id="95c08-158">Zie [alle Redis-clients ondersteunen clustering?](#do-all-redis-clients-support-clustering)</span><span class="sxs-lookup"><span data-stu-id="95c08-158">See [Do all Redis clients support clustering?](#do-all-redis-clients-support-clustering)</span></span>
* <span data-ttu-id="95c08-159">Als uw toepassing gebruikmaakt van meerdere sleutelbewerkingen batch worden opgenomen in √©√©n opdracht, alle sleutels moeten zich bevinden in Hallo dezelfde shard.</span><span class="sxs-lookup"><span data-stu-id="95c08-159">If your application uses multiple key operations batched into a single command, all keys must be located in hello same shard.</span></span> <span data-ttu-id="95c08-160">toolocate sleutels in dezelfde shard Hallo, Zie [hoe worden sleutels verdeeld in een cluster?](#how-are-keys-distributed-in-a-cluster)</span><span class="sxs-lookup"><span data-stu-id="95c08-160">toolocate keys in hello same shard, see [How are keys distributed in a cluster?](#how-are-keys-distributed-in-a-cluster)</span></span>
* <span data-ttu-id="95c08-161">Als u van ASP.NET Session State-provider Redis gebruikmaakt moet u 2.0.1 of hoger.</span><span class="sxs-lookup"><span data-stu-id="95c08-161">If you are using Redis ASP.NET Session State provider you must use 2.0.1 or higher.</span></span> <span data-ttu-id="95c08-162">Zie [kan ik gebruiken met de ASP.NET-sessiestatus Redis en uitvoercaching providers Hallo clustering?](#can-i-use-clustering-with-the-redis-aspnet-session-state-and-output-caching-providers)</span><span class="sxs-lookup"><span data-stu-id="95c08-162">See [Can I use clustering with hello Redis ASP.NET Session State and Output Caching providers?](#can-i-use-clustering-with-the-redis-aspnet-session-state-and-output-caching-providers)</span></span>

### <a name="how-are-keys-distributed-in-a-cluster"></a><span data-ttu-id="95c08-163">Hoe worden de sleutels in een cluster gedistribueerd?</span><span class="sxs-lookup"><span data-stu-id="95c08-163">How are keys distributed in a cluster?</span></span>
<span data-ttu-id="95c08-164">Per Hallo Redis [sleutels distributiemodel](http://redis.io/topics/cluster-spec#keys-distribution-model) documentatie: key ruimte Hallo 16384 sleuven opgesplitst.</span><span class="sxs-lookup"><span data-stu-id="95c08-164">Per hello Redis [Keys distribution model](http://redis.io/topics/cluster-spec#keys-distribution-model) documentation: hello key space is split into 16384 slots.</span></span> <span data-ttu-id="95c08-165">Elke sleutel wordt gehasht en tooone deze sleuven, zijn verdeeld over knooppunten Hallo van Hallo cluster toegewezen.</span><span class="sxs-lookup"><span data-stu-id="95c08-165">Each key is hashed and assigned tooone of these slots, which are distributed across hello nodes of hello cluster.</span></span> <span data-ttu-id="95c08-166">U kunt configureren die deel van het Hallo-sleutel is hash tooensure die meerdere sleutels bevinden zich in dezelfde shard met hash-tags Hallo.</span><span class="sxs-lookup"><span data-stu-id="95c08-166">You can configure which part of hello key is hashed tooensure that multiple keys are located in hello same shard using hash tags.</span></span>

* <span data-ttu-id="95c08-167">Met een hash-code - sleutels als een deel van het Hallo-sleutel is ingesloten in `{` en `}`, alleen deel van het Hallo-sleutel wordt opgedeeld voor Hallo Hallo hash sleuf van een sleutel vaststellen van.</span><span class="sxs-lookup"><span data-stu-id="95c08-167">Keys with a hash tag - if any part of hello key is enclosed in `{` and `}`, only that part of hello key is hashed for hello purposes of determining hello hash slot of a key.</span></span> <span data-ttu-id="95c08-168">Bijvoorbeeld, Hallo 3 sleutels volgen zou bevinden in Hallo dezelfde shard: `{key}1`, `{key}2`, en `{key}3` sinds alleen Hallo `key` deel van naam hello wordt opgedeeld.</span><span class="sxs-lookup"><span data-stu-id="95c08-168">For example, hello following 3 keys would be located in hello same shard: `{key}1`, `{key}2`, and `{key}3` since only hello `key` part of hello name is hashed.</span></span> <span data-ttu-id="95c08-169">Zie voor een volledige lijst met sleutels hash-code specificaties [sleutels hash-tags](http://redis.io/topics/cluster-spec#keys-hash-tags).</span><span class="sxs-lookup"><span data-stu-id="95c08-169">For a complete list of keys hash tag specifications, see [Keys hash tags](http://redis.io/topics/cluster-spec#keys-hash-tags).</span></span>
* <span data-ttu-id="95c08-170">Sleutels zonder een hash-code - Hallo gehele sleutelnaam wordt gebruikt voor de hash.</span><span class="sxs-lookup"><span data-stu-id="95c08-170">Keys without a hash tag - hello entire key name is used for hashing.</span></span> <span data-ttu-id="95c08-171">Dit resulteert in een statistisch gelijkmatige verdeling over Hallo shards Hallo-cache.</span><span class="sxs-lookup"><span data-stu-id="95c08-171">This results in a statistically even distribution across hello shards of hello cache.</span></span>

<span data-ttu-id="95c08-172">Voor optimale prestaties en doorvoer te Hallo sleutels gelijkmatig verdelen.</span><span class="sxs-lookup"><span data-stu-id="95c08-172">For best performance and throughput, we recommend distributing hello keys evenly.</span></span> <span data-ttu-id="95c08-173">Als u van sleutels met een hash-code gebruikmaakt is van de toepassing hello verantwoordelijkheid tooensure Hallo sleutels gelijkmatig worden gedistribueerd.</span><span class="sxs-lookup"><span data-stu-id="95c08-173">If you are using keys with a hash tag it is hello application's responsibility tooensure hello keys are distributed evenly.</span></span>

<span data-ttu-id="95c08-174">Zie voor meer informatie [sleutels distributiemodel](http://redis.io/topics/cluster-spec#keys-distribution-model), [Redis-Cluster gegevens sharding](http://redis.io/topics/cluster-tutorial#redis-cluster-data-sharding), en [sleutels hash-tags](http://redis.io/topics/cluster-spec#keys-hash-tags).</span><span class="sxs-lookup"><span data-stu-id="95c08-174">For more information, see [Keys distribution model](http://redis.io/topics/cluster-spec#keys-distribution-model), [Redis Cluster data sharding](http://redis.io/topics/cluster-tutorial#redis-cluster-data-sharding), and [Keys hash tags](http://redis.io/topics/cluster-spec#keys-hash-tags).</span></span>

<span data-ttu-id="95c08-175">Dezelfde shard met Hallo StackExchange.Redis client, Zie Hallo voor voorbeeldcode over het werken met clustering en sleutels in Hallo vinden [clustering.cs](https://github.com/rustd/RedisSamples/blob/master/HelloWorld/Clustering.cs) gedeelte Hallo [Hallo wereld](https://github.com/rustd/RedisSamples/tree/master/HelloWorld) voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="95c08-175">For sample code on working with clustering and locating keys in hello same shard with hello StackExchange.Redis client, see hello [clustering.cs](https://github.com/rustd/RedisSamples/blob/master/HelloWorld/Clustering.cs) portion of hello [Hello World](https://github.com/rustd/RedisSamples/tree/master/HelloWorld) sample.</span></span>

### <a name="what-is-hello-largest-cache-size-i-can-create"></a><span data-ttu-id="95c08-176">Wat is Hallo grootste cachegrootte die ik kan maken?</span><span class="sxs-lookup"><span data-stu-id="95c08-176">What is hello largest cache size I can create?</span></span>
<span data-ttu-id="95c08-177">grootste premium Hallo-cachegrootte is 53 GB.</span><span class="sxs-lookup"><span data-stu-id="95c08-177">hello largest premium cache size is 53 GB.</span></span> <span data-ttu-id="95c08-178">U kunt maken van too10 shards zodat u een maximale grootte van 530 GB.</span><span class="sxs-lookup"><span data-stu-id="95c08-178">You can create up too10 shards giving you a maximum size of 530 GB.</span></span> <span data-ttu-id="95c08-179">Als u een groter formaat moet kunt u [aanvragen meer](mailto:wapteams@microsoft.com?subject=Redis%20Cache%20quota%20increase).</span><span class="sxs-lookup"><span data-stu-id="95c08-179">If you need a larger size you can [request more](mailto:wapteams@microsoft.com?subject=Redis%20Cache%20quota%20increase).</span></span> <span data-ttu-id="95c08-180">Zie voor meer informatie [prijzen van Azure Redis-Cache](https://azure.microsoft.com/pricing/details/cache/).</span><span class="sxs-lookup"><span data-stu-id="95c08-180">For more information, see [Azure Redis Cache Pricing](https://azure.microsoft.com/pricing/details/cache/).</span></span>

### <a name="do-all-redis-clients-support-clustering"></a><span data-ttu-id="95c08-181">Alle Redis-clients ondersteunen clustering?</span><span class="sxs-lookup"><span data-stu-id="95c08-181">Do all Redis clients support clustering?</span></span>
<span data-ttu-id="95c08-182">Op Hallo Redis dit moment die niet alle clients ondersteunen clustering.</span><span class="sxs-lookup"><span data-stu-id="95c08-182">At hello present time not all clients support Redis clustering.</span></span> <span data-ttu-id="95c08-183">StackExchange.Redis is een versie die ondersteuning biedt voor.</span><span class="sxs-lookup"><span data-stu-id="95c08-183">StackExchange.Redis is one that does support for it.</span></span> <span data-ttu-id="95c08-184">Zie voor meer informatie over andere clients Hallo [met Hallo cluster speelt](http://redis.io/topics/cluster-tutorial#playing-with-the-cluster) sectie Hallo [Redis-cluster zelfstudie](http://redis.io/topics/cluster-tutorial).</span><span class="sxs-lookup"><span data-stu-id="95c08-184">For more information on other clients, see hello [Playing with hello cluster](http://redis.io/topics/cluster-tutorial#playing-with-the-cluster) section of hello [Redis cluster tutorial](http://redis.io/topics/cluster-tutorial).</span></span>

> [!NOTE]
> <span data-ttu-id="95c08-185">Als u StackExchange.Redis gebruikt als de client, controleert u met behulp van de meest recente versie Hallo van [StackExchange.Redis](https://www.nuget.org/packages/StackExchange.Redis/) 1.0.481 of hoger voor clustering toowork correct.</span><span class="sxs-lookup"><span data-stu-id="95c08-185">If you are using StackExchange.Redis as your client, ensure you are using hello latest version of [StackExchange.Redis](https://www.nuget.org/packages/StackExchange.Redis/) 1.0.481 or later for clustering toowork correctly.</span></span> <span data-ttu-id="95c08-186">Als u problemen met verplaatsen uitzonderingen hebt, raadpleegt u [uitzonderingen verplaatsen](#move-exceptions) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="95c08-186">If you have any issues with move exceptions, see [move exceptions](#move-exceptions) for more information.</span></span>
> 
> 

### <a name="how-do-i-connect-toomy-cache-when-clustering-is-enabled"></a><span data-ttu-id="95c08-187">Hoe kan ik toomy cache verbinden wanneer clustering is ingeschakeld?</span><span class="sxs-lookup"><span data-stu-id="95c08-187">How do I connect toomy cache when clustering is enabled?</span></span>
<span data-ttu-id="95c08-188">U kunt verbinding maken tooyour cache met behulp van dezelfde Hallo [eindpunten](cache-configure.md#properties), [poorten](cache-configure.md#properties), en [sleutels](cache-configure.md#access-keys) waarmee u verbinding maakt tooa-cache geen clusteren is ingeschakeld heeft.</span><span class="sxs-lookup"><span data-stu-id="95c08-188">You can connect tooyour cache using hello same [endpoints](cache-configure.md#properties), [ports](cache-configure.md#properties), and [keys](cache-configure.md#access-keys) that you use when connecting tooa cache that does not have clustering enabled.</span></span> <span data-ttu-id="95c08-189">Redis hello clustering op Hallo backend, zodat er geen toomanage beheert via de client.</span><span class="sxs-lookup"><span data-stu-id="95c08-189">Redis manages hello clustering on hello backend so you don't have toomanage it from your client.</span></span>

### <a name="can-i-directly-connect-toohello-individual-shards-of-my-cache"></a><span data-ttu-id="95c08-190">Kan ik afzonderlijke shards toohello van mijn cache rechtstreeks verbinden?</span><span class="sxs-lookup"><span data-stu-id="95c08-190">Can I directly connect toohello individual shards of my cache?</span></span>
<span data-ttu-id="95c08-191">Dit wordt niet officieel ondersteund.</span><span class="sxs-lookup"><span data-stu-id="95c08-191">This is not officially supported.</span></span> <span data-ttu-id="95c08-192">Met die gezegd, wordt elke shard bestaat uit de cache combinatie van een primair/replica, gezamenlijk aangeduid als een cache-exemplaar.</span><span class="sxs-lookup"><span data-stu-id="95c08-192">With that said, each shard consists of a primary/replica cache pair, collectively known as a cache instance.</span></span> <span data-ttu-id="95c08-193">U kunt verbinding maken toothese cache-exemplaren die gebruikmaken van Hallo redis cli-hulpprogramma in Hallo [onstabiel](http://redis.io/download) branche van Hallo Redis-opslagplaats op GitHub.</span><span class="sxs-lookup"><span data-stu-id="95c08-193">You can connect toothese cache instances using hello redis-cli utility in hello [unstable](http://redis.io/download) branch of hello Redis repository at GitHub.</span></span> <span data-ttu-id="95c08-194">Deze versie implementeert basisondersteuning wanneer gestart met de Hallo `-c` overschakelen.</span><span class="sxs-lookup"><span data-stu-id="95c08-194">This version implements basic support when started with hello `-c` switch.</span></span> <span data-ttu-id="95c08-195">Zie voor meer informatie [met Hallo cluster speelt](http://redis.io/topics/cluster-tutorial#playing-with-the-cluster) op [http://redis.io](http://redis.io) in Hallo [Redis-cluster zelfstudie](http://redis.io/topics/cluster-tutorial).</span><span class="sxs-lookup"><span data-stu-id="95c08-195">For more information see [Playing with hello cluster](http://redis.io/topics/cluster-tutorial#playing-with-the-cluster) on [http://redis.io](http://redis.io) in hello [Redis cluster tutorial](http://redis.io/topics/cluster-tutorial).</span></span>

<span data-ttu-id="95c08-196">Voor niet-ssl gebruiken Hallo opdrachten te volgen.</span><span class="sxs-lookup"><span data-stu-id="95c08-196">For non-ssl, use hello following commands.</span></span>

    Redis-cli.exe ‚Äìh <<cachename>> -p 13000 (tooconnect tooinstance 0)
    Redis-cli.exe ‚Äìh <<cachename>> -p 13001 (tooconnect tooinstance 1)
    Redis-cli.exe ‚Äìh <<cachename>> -p 13002 (tooconnect tooinstance 2)
    ...
    Redis-cli.exe ‚Äìh <<cachename>> -p 1300N (tooconnect tooinstance N)

<span data-ttu-id="95c08-197">Voor ssl, vervangt u `1300N` met `1500N`.</span><span class="sxs-lookup"><span data-stu-id="95c08-197">For ssl, replace `1300N` with `1500N`.</span></span>

### <a name="can-i-configure-clustering-for-a-previously-created-cache"></a><span data-ttu-id="95c08-198">Kan ik de clustering voor een eerder gemaakte cache configureren?</span><span class="sxs-lookup"><span data-stu-id="95c08-198">Can I configure clustering for a previously created cache?</span></span>
<span data-ttu-id="95c08-199">U kunt momenteel alleen inschakelen wanneer u een cache maken clustering.</span><span class="sxs-lookup"><span data-stu-id="95c08-199">Currently you can only enable clustering when you create a cache.</span></span> <span data-ttu-id="95c08-200">U kunt de clustergrootte Hallo wijzigen nadat Hallo-cache wordt gemaakt, maar kunt u premium-cache voor clustering tooa toevoegen of verwijderen uit de cache premium clustering nadat het Hallo-cache wordt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="95c08-200">You can change hello cluster size after hello cache is created, but you can't add clustering tooa premium cache or remove clustering from a premium cache after hello cache is created.</span></span> <span data-ttu-id="95c08-201">Een premium-cache met clusteren is ingeschakeld en slechts √©√©n shard is anders dan een premium-cache van Hallo dezelfde met geen clustering grootte.</span><span class="sxs-lookup"><span data-stu-id="95c08-201">A premium cache with clustering enabled and only one shard is different than a premium cache of hello same size with no clustering.</span></span>

### <a name="can-i-configure-clustering-for-a-basic-or-standard-cache"></a><span data-ttu-id="95c08-202">Kan ik de clustering voor een basis of standaard-cache configureren?</span><span class="sxs-lookup"><span data-stu-id="95c08-202">Can I configure clustering for a basic or standard cache?</span></span>
<span data-ttu-id="95c08-203">Clustering is alleen beschikbaar voor premium-caches.</span><span class="sxs-lookup"><span data-stu-id="95c08-203">Clustering is only available for premium caches.</span></span>

### <a name="can-i-use-clustering-with-hello-redis-aspnet-session-state-and-output-caching-providers"></a><span data-ttu-id="95c08-204">Kan ik de clustering met Hallo Redis ASP.NET Session State en uitvoercaching-providers gebruiken?</span><span class="sxs-lookup"><span data-stu-id="95c08-204">Can I use clustering with hello Redis ASP.NET Session State and Output Caching providers?</span></span>
* <span data-ttu-id="95c08-205">**Redis-Cache-uitvoer provider** -er zijn geen wijzigingen vereist.</span><span class="sxs-lookup"><span data-stu-id="95c08-205">**Redis Output Cache provider** - no changes required.</span></span>
* <span data-ttu-id="95c08-206">**Redis Session State-provider** -toouse clustering, moet u [RedisSessionStateProvider](https://www.nuget.org/packages/Microsoft.Web.RedisSessionStateProvider) 2.0.1 of hoger, of een uitzondering gegenereerd.</span><span class="sxs-lookup"><span data-stu-id="95c08-206">**Redis Session State provider** - toouse clustering, you must use [RedisSessionStateProvider](https://www.nuget.org/packages/Microsoft.Web.RedisSessionStateProvider) 2.0.1 or higher or an exception is thrown.</span></span> <span data-ttu-id="95c08-207">Dit is een belangrijke wijziging; Zie voor meer informatie [v2.0.0 Details van de wijziging op te splitsen](https://github.com/Azure/aspnet-redis-providers/wiki/v2.0.0-Breaking-Change-Details).</span><span class="sxs-lookup"><span data-stu-id="95c08-207">This is a breaking change; for more information see [v2.0.0 Breaking Change Details](https://github.com/Azure/aspnet-redis-providers/wiki/v2.0.0-Breaking-Change-Details).</span></span>

<a name="move-exceptions"></a>

### <a name="i-am-getting-move-exceptions-when-using-stackexchangeredis-and-clustering-what-should-i-do"></a><span data-ttu-id="95c08-208">Ik krijg verplaatsen uitzonderingen bij gebruik van StackExchange.Redis en clustering, wat moet ik doen?</span><span class="sxs-lookup"><span data-stu-id="95c08-208">I am getting MOVE exceptions when using StackExchange.Redis and clustering, what should I do?</span></span>
<span data-ttu-id="95c08-209">Als u van StackExchange.Redis gebruikmaakt en ontvangt `MOVE` uitzonderingen bij gebruik van clustering, zorg ervoor dat u gebruikmaakt van [StackExchange.Redis 1.1.603](https://www.nuget.org/packages/StackExchange.Redis/) of hoger.</span><span class="sxs-lookup"><span data-stu-id="95c08-209">If you are using StackExchange.Redis and receive `MOVE` exceptions when using clustering, ensure that you are using [StackExchange.Redis 1.1.603](https://www.nuget.org/packages/StackExchange.Redis/) or later.</span></span> <span data-ttu-id="95c08-210">Zie voor instructies over het configureren van uw .NET-toepassingen toouse StackExchange.Redis [hello cacheclients configureren](cache-dotnet-how-to-use-azure-redis-cache.md#configure-the-cache-clients).</span><span class="sxs-lookup"><span data-stu-id="95c08-210">For instructions on configuring your .NET applications toouse StackExchange.Redis, see [Configure hello cache clients](cache-dotnet-how-to-use-azure-redis-cache.md#configure-the-cache-clients).</span></span>

## <a name="next-steps"></a><span data-ttu-id="95c08-211">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="95c08-211">Next steps</span></span>
<span data-ttu-id="95c08-212">Meer informatie over hoe meer premium toouse functies in de cache.</span><span class="sxs-lookup"><span data-stu-id="95c08-212">Learn how toouse more premium cache features.</span></span>

* [<span data-ttu-id="95c08-213">Inleiding toohello Azure Redis-Cache Premium-laag</span><span class="sxs-lookup"><span data-stu-id="95c08-213">Introduction toohello Azure Redis Cache Premium tier</span></span>](cache-premium-tier-intro.md)

<!-- IMAGES -->

[redis-cache-clustering]: ./media/cache-how-to-premium-clustering/redis-cache-clustering.png

[redis-cache-clustering-selected]: ./media/cache-how-to-premium-clustering/redis-cache-clustering-selected.png

[redis-cache-redis-cluster-size]: ./media/cache-how-to-premium-clustering/redis-cache-redis-cluster-size.png







