---
title: de voortgang van een taak door te tellen taken instellen door status - Azure Batch aaaMonitor | Microsoft Docs
description: Hallo voortgang van een taak controleren door het aanroepen van Hallo ophalen taak telt bewerking toocount taken voor een taak. U krijgt een telling van actieve, uitgevoerd en voltooide taken en door de taken die u hebt is geslaagd of mislukt.
services: batch
author: tamram
manager: timlt
ms.service: batch
ms.topic: article
ms.date: 08/02/2017
ms.author: tamram
ms.openlocfilehash: 03957d8a3d678bf44587f3bc7f988a76885c2af0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="count-tasks-by-state-toomonitor-a-jobs-progress-preview"></a><span data-ttu-id="3fe57-104">Aantal taken instellen door status toomonitor de voortgang van een taak (Preview)</span><span class="sxs-lookup"><span data-stu-id="3fe57-104">Count tasks by state toomonitor a job's progress (Preview)</span></span>

<span data-ttu-id="3fe57-105">Azure Batch biedt een efficiënte manier toomonitor Hallo voortgang van een taak als het bijbehorende taken wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="3fe57-105">Azure Batch provides an efficient way toomonitor hello progress of a job as it runs its tasks.</span></span> <span data-ttu-id="3fe57-106">U kunt aanroepen Hallo [ophalen taak telt] [ rest_get_task_counts] bewerking toofind hoeveel taken in een status actief, actief of voltooid zijn en hoeveel hebt is geslaagd of mislukt.</span><span class="sxs-lookup"><span data-stu-id="3fe57-106">You can call hello [Get Task Counts][rest_get_task_counts] operation toofind out how many tasks are in an active, running, or completed state, and how many have succeeded or failed.</span></span> <span data-ttu-id="3fe57-107">Door te tellen Hallo aantal taken in elke staat, kunt u gemakkelijker Hallo-taak uitgevoerd tooa gebruiker weergeven of onverwachte vertragingen of fouten die mogelijk gevolgen hebben voor de Hallo detecteren.</span><span class="sxs-lookup"><span data-stu-id="3fe57-107">By counting hello number of tasks in each state, you can more easily display hello job's progress tooa user, or detect unexpected delays or failures that may affect hello job.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="3fe57-108">Hallo ophalen taak telt bewerking is momenteel in preview en is nog niet beschikbaar in Azure Government, Azure China en Duitse Azure.</span><span class="sxs-lookup"><span data-stu-id="3fe57-108">hello Get Task Counts operation is currently in preview, and is not yet available in Azure Government, Azure China, and Azure Germany.</span></span> 
>
>

## <a name="how-tasks-are-counted"></a><span data-ttu-id="3fe57-109">Hoe taken worden geteld</span><span class="sxs-lookup"><span data-stu-id="3fe57-109">How tasks are counted</span></span>

<span data-ttu-id="3fe57-110">Hallo bewerking ophalen taak telt telt taken op status, als volgt:</span><span class="sxs-lookup"><span data-stu-id="3fe57-110">hello Get Task Counts operation counts tasks by state, as follows:</span></span>

- <span data-ttu-id="3fe57-111">Een taak wordt beschouwd als **active** wanneer het in de wachtrij en kunnen toorun is, maar het rekenknooppunt tooa momenteel niet is toegewezen.</span><span class="sxs-lookup"><span data-stu-id="3fe57-111">A task is counted as **active** when it is queued and able toorun, but is not currently assigned tooa compute node.</span></span> <span data-ttu-id="3fe57-112">Een taak ook wordt beschouwd als **active** als dit is afhankelijk van een bovenliggende taak die nog niet is voltooid.</span><span class="sxs-lookup"><span data-stu-id="3fe57-112">A task is also counted as **active** if it is dependent on a parent task that has not yet completed.</span></span> <span data-ttu-id="3fe57-113">Zie voor meer informatie over taakafhankelijkheden [taakafhankelijkheden toorun taken maken die afhankelijk van andere taken zijn](batch-task-dependencies.md).</span><span class="sxs-lookup"><span data-stu-id="3fe57-113">For more information on task dependencies, see [Create task dependencies toorun tasks that depend on other tasks](batch-task-dependencies.md).</span></span> 
- <span data-ttu-id="3fe57-114">Een taak wordt beschouwd als **met** wanneer het rekenknooppunt tooa is toegewezen, maar is nog niet voltooid.</span><span class="sxs-lookup"><span data-stu-id="3fe57-114">A task is counted as **running** when it has been assigned tooa compute node, but has not yet completed.</span></span> <span data-ttu-id="3fe57-115">Een taak wordt beschouwd als **met** wanneer de status is `preparing` of `running`, zoals aangegeven door Hallo [informatie ophalen over een taak] [ rest_get_task] bewerking.</span><span class="sxs-lookup"><span data-stu-id="3fe57-115">A task is counted as **running** when its state is either `preparing` or `running`, as indicated by hello [Get information about a task][rest_get_task] operation.</span></span>
- <span data-ttu-id="3fe57-116">Een taak wordt beschouwd als **voltooid** wanneer het is niet meer in aanmerking komende toorun.</span><span class="sxs-lookup"><span data-stu-id="3fe57-116">A task is counted as **completed** when it is no longer eligible toorun.</span></span> <span data-ttu-id="3fe57-117">Een taak geteld als **voltooid** heeft meestal is voltooid, of succes is voltooid en heeft de limiet voor opnieuw proberen ook uitgeput.</span><span class="sxs-lookup"><span data-stu-id="3fe57-117">A task counted as **completed** has typically either finished successfully, or has finished unsuccessfully and has also exhausted its retry limit.</span></span> 

<span data-ttu-id="3fe57-118">Hallo bewerking ophalen taak telt rapporten ook hoeveel taken hebt voltooid of mislukt.</span><span class="sxs-lookup"><span data-stu-id="3fe57-118">hello Get Task Counts operation also reports how many tasks have succeeded or failed.</span></span> <span data-ttu-id="3fe57-119">Batch bepaalt of een taak is geslaagd of mislukt door te controleren Hallo **resultaat** eigenschap Hallo [executionInfo] [https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task#executionInfo] eigenschap:</span><span class="sxs-lookup"><span data-stu-id="3fe57-119">Batch determines whether a task has succeeded or failed by checking hello **result** property of hello [executionInfo][https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task#executionInfo] property:</span></span>

    - <span data-ttu-id="3fe57-120">Een taak wordt beschouwd als **geslaagd** als resultaat van uitvoering van de taak Hallo `success`.</span><span class="sxs-lookup"><span data-stu-id="3fe57-120">A task is counted as **succeeded** if hello result of task execution is `success`.</span></span>
    - <span data-ttu-id="3fe57-121">Een taak wordt beschouwd als **mislukt** als resultaat van uitvoering van de taak Hallo `failure`.</span><span class="sxs-lookup"><span data-stu-id="3fe57-121">A task is counted as **failed** if hello result of task execution is `failure`.</span></span>

<span data-ttu-id="3fe57-122">Zie voor meer informatie over taakstatuswaarden [informatie ophalen over een taak][rest_get_task].</span><span class="sxs-lookup"><span data-stu-id="3fe57-122">For more information about task states, see [Get information about a task][rest_get_task].</span></span>

<span data-ttu-id="3fe57-123">Hallo ziet .NET codevoorbeeld u hoe tooretrieve taak geteld met status:</span><span class="sxs-lookup"><span data-stu-id="3fe57-123">hello following .NET code sample shows how tooretrieve task counts by state:</span></span> 

```csharp
var taskCounts = await batchClient.JobOperations.GetTaskCountsAsync("job-1");

Console.WriteLine("Task count in active state: {0}", taskCounts.Active);
Console.WriteLine("Task count in preparing or running state: {0}", taskCounts.Running);
Console.WriteLine("Task count in completed state: {0}", taskCounts.Completed);
Console.WriteLine("Succeeded task count: {0}", taskCounts.Succeeded);
Console.WriteLine("Failed task count: {0}", taskCounts.Failed);
Console.WriteLine("ValidationStatus: {0}", taskCounts.ValidationStatus);
```

> [!NOTE]
> <span data-ttu-id="3fe57-124">U kunt een vergelijkbaar patroon voor REST en andere ondersteunde talen tooget taak voor een taak telt.</span><span class="sxs-lookup"><span data-stu-id="3fe57-124">You can use a similar pattern for REST and other supported languages tooget task counts for a job.</span></span> 
> 
> 

## <a name="consistency-checking-for-task-counts"></a><span data-ttu-id="3fe57-125">Consistentiecontroles op taak aantallen</span><span class="sxs-lookup"><span data-stu-id="3fe57-125">Consistency checking for task counts</span></span>

<span data-ttu-id="3fe57-126">Hallo Batch-service aggregeert taak aantallen door het verzamelen van gegevens uit meerdere delen van een asynchrone gedistribueerde systeem.</span><span class="sxs-lookup"><span data-stu-id="3fe57-126">hello Batch service aggregates task counts by gathering data from multiple parts of an asynchronous distributed system.</span></span> <span data-ttu-id="3fe57-127">tooensure die taak aantallen correct zijn, Batch biedt een aanvullende verificatie voor status telt door het uitvoeren van consistentiecontroles uit op basis van meerdere onderdelen van Hallo-systeem.</span><span class="sxs-lookup"><span data-stu-id="3fe57-127">tooensure that task counts are correct, Batch provides additional validation for state counts by performing consistency checks against multiple components of hello system.</span></span> <span data-ttu-id="3fe57-128">Batch voert deze consistentiecontroles, zolang er minder dan 200.000 taken in Hallo-taak zijn.</span><span class="sxs-lookup"><span data-stu-id="3fe57-128">Batch performs these consistency checks as long as there are fewer than 200,000 tasks in hello job.</span></span> <span data-ttu-id="3fe57-129">In Hallo onwaarschijnlijke geval dat de consistentiecontrole Hallo fouten vindt, corrigeert Batch Hallo resultaat van Hallo taken telt ophalen bewerking is gebaseerd op Hallo resultaten van Hallo consistentiecontrole uit.</span><span class="sxs-lookup"><span data-stu-id="3fe57-129">In hello unlikely event that hello consistency check finds errors, Batch corrects hello result of hello Get Tasks Counts operation based on hello results of hello consistency check.</span></span> <span data-ttu-id="3fe57-130">Hallo is consistentiecontrole een extra beveiligingsmaatregel tooensure die klanten die afhankelijk van Hallo bewerking ophalen taak telt zijn Hallo juiste informatie die ze nodig hebben om hun oplossing ophalen.</span><span class="sxs-lookup"><span data-stu-id="3fe57-130">hello consistency check is an extra measure tooensure that customers who rely on hello Get Task Counts operation get hello right information they need for their solution.</span></span>

<span data-ttu-id="3fe57-131">Hallo **validationStatus** eigenschap Hallo antwoord geeft aan of Batch Hallo consistentiecontrole is uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="3fe57-131">hello **validationStatus** property in hello response indicates whether Batch has performed hello consistency check.</span></span> <span data-ttu-id="3fe57-132">Als Batch kunnen toocheck status aantallen tegen Hallo werkelijke statussen ondergebracht in Hallo systeem niet is Hallo **validationStatus** eigenschap is ingesteld, te`unvalidated`.</span><span class="sxs-lookup"><span data-stu-id="3fe57-132">If Batch has not been able toocheck state counts against hello actual states held in hello system, then hello **validationStatus** property is set too`unvalidated`.</span></span> <span data-ttu-id="3fe57-133">Voor betere prestaties Batch wordt niet uitgevoerd Hallo consistentiecontrole als Hallo taak bevat meer dan 200.000 taken, in dat geval Hallo **validationStatus** eigenschap te kan worden ingesteld`unvalidated` in dit geval.</span><span class="sxs-lookup"><span data-stu-id="3fe57-133">For performance reasons, Batch will not perform hello consistency check if hello job includes more than 200,000 tasks, so hello **validationStatus** property may be set too`unvalidated` in this case.</span></span> <span data-ttu-id="3fe57-134">Aantal van de taak Hallo is echter niet per se verkeerde in dit geval zelfs zeer beperkt gegevensverlies is zeer onwaarschijnlijk.</span><span class="sxs-lookup"><span data-stu-id="3fe57-134">However, hello task count is not necessarily wrong in this case, as even a very limited data loss is highly unlikely.</span></span> 

<span data-ttu-id="3fe57-135">Wanneer een taak de status verandert, verwerkt Hallo aggregatie pijplijn Hallo wijzigen binnen enkele seconden.</span><span class="sxs-lookup"><span data-stu-id="3fe57-135">When a task changes state, hello aggregation pipeline processes hello change within few seconds.</span></span> <span data-ttu-id="3fe57-136">Hallo bewerking ophalen taak telt weerspiegelt Hallo bijgewerkt taak aantallen binnen die periode.</span><span class="sxs-lookup"><span data-stu-id="3fe57-136">hello Get Task Counts operation reflects hello updated task counts within that period.</span></span> <span data-ttu-id="3fe57-137">Echter als Hallo aggregatie pijplijn Cachemissers een wijziging in de taakstatus van een, klikt u vervolgens wijziging is niet geregistreerd tot de volgende validatie pass Hallo.</span><span class="sxs-lookup"><span data-stu-id="3fe57-137">However, if hello aggregation pipeline misses a change in a task state, then that change is not registered until hello next validation pass.</span></span> <span data-ttu-id="3fe57-138">Gedurende deze tijd taak tellingen kunnen onnauwkeurig enigszins vanwege toohello gemiste gebeurtenis, maar ze op de volgende validatie pass Hallo worden gecorrigeerd.</span><span class="sxs-lookup"><span data-stu-id="3fe57-138">During this time, task counts may be slightly inaccurate due toohello missed event, but they are corrected on hello next validation pass.</span></span>

## <a name="best-practices-for-counting-a-jobs-tasks"></a><span data-ttu-id="3fe57-139">Aanbevolen procedures voor een job taken worden geteld</span><span class="sxs-lookup"><span data-stu-id="3fe57-139">Best practices for counting a job's tasks</span></span>

<span data-ttu-id="3fe57-140">Hallo ophalen taak telt bewerking aanroepen is Hallo meest efficiënte manier tooreturn basic aantal taken van een taak op status.</span><span class="sxs-lookup"><span data-stu-id="3fe57-140">Calling hello Get Task Counts operation is hello most efficient way tooreturn a basic count of a job's tasks by state.</span></span> <span data-ttu-id="3fe57-141">Als u een versie van de service Batch 2017-06-01.5.1 gebruikt, raden wij schrijven of bijwerken van uw code toouse ophalen voor de taak wordt geteld.</span><span class="sxs-lookup"><span data-stu-id="3fe57-141">If you are using Batch service version 2017-06-01.5.1, we recommend writing or updating your code toouse Get Task Counts.</span></span>

<span data-ttu-id="3fe57-142">Hallo bewerking taak telt ophalen is niet beschikbaar in Batch-versies eerder dan 2017-06-01.5.1.</span><span class="sxs-lookup"><span data-stu-id="3fe57-142">hello Get Task Counts operation is not available in Batch service versions earlier than 2017-06-01.5.1.</span></span> <span data-ttu-id="3fe57-143">Als u een oudere versie van het Hallo-service gebruikt, gebruikt u een lijst met query toocount taken in een taak in plaats daarvan.</span><span class="sxs-lookup"><span data-stu-id="3fe57-143">If you are using an older version of hello service, then use a list query toocount tasks in a job instead.</span></span> <span data-ttu-id="3fe57-144">Zie voor meer informatie [maken van query's toolist Batch-resources efficiënt](batch-efficient-list-queries.md).</span><span class="sxs-lookup"><span data-stu-id="3fe57-144">For more information, see [Create queries toolist Batch resources efficiently](batch-efficient-list-queries.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="3fe57-145">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="3fe57-145">Next steps</span></span>

* <span data-ttu-id="3fe57-146">Zie Hallo [overzicht Batch-functies](batch-api-basics.md) toolearn meer over de concepten van de Batch-service en -functies.</span><span class="sxs-lookup"><span data-stu-id="3fe57-146">See hello [Batch feature overview](batch-api-basics.md) toolearn more about Batch service concepts and features.</span></span> <span data-ttu-id="3fe57-147">Hallo artikel Hallo primaire Batch-resources zoals pools, rekenknooppunten, jobs en taken besproken en biedt een overzicht van functies Hallo-service.</span><span class="sxs-lookup"><span data-stu-id="3fe57-147">hello article discusses hello primary Batch resources such as pools, compute nodes, jobs, and tasks, and provides an overview of hello service's features.</span></span>
* <span data-ttu-id="3fe57-148">Leer de basisbeginselen Hallo van het ontwikkelen van een Batch-toepassing hello met [clientbibliotheek Batch .NET](batch-dotnet-get-started.md) of [Python](batch-python-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="3fe57-148">Learn hello basics of developing a Batch-enabled application using hello [Batch .NET client library](batch-dotnet-get-started.md) or [Python](batch-python-tutorial.md).</span></span> <span data-ttu-id="3fe57-149">Deze inleidende artikelen helpen u bij een werkende toepassing die gebruikmaakt van Hallo Batch-service tooexecute een workload op meerdere rekenknooppunten.</span><span class="sxs-lookup"><span data-stu-id="3fe57-149">These introductory articles guide you through a working application that uses hello Batch service tooexecute a workload on multiple compute nodes.</span></span>


[rest_get_task_counts]: https://docs.microsoft.com/rest/api/batchservice/get-the-task-counts-for-a-job
[rest_get_task]: https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task
[rest_list_tasks]: https://docs.microsoft.com/rest/api/batchservice/list-the-tasks-associated-with-a-job
