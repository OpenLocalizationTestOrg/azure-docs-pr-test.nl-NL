---
title: aaaOverview van Azure Batch voor ontwikkelaars | Microsoft Docs
description: Meer informatie over Hallo functies van Hallo Batch-service en de API's vanuit het standpunt.
services: batch
documentationcenter: .net
author: tamram
manager: timlt
editor: 
ms.assetid: 416b95f8-2d7b-4111-8012-679b0f60d204
ms.service: batch
ms.devlang: multiple
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-compute
ms.date: 06/28/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 3da9d82572b28d05d1923166bd08c26725ca3316
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="develop-large-scale-parallel-compute-solutions-with-batch"></a><span data-ttu-id="e890c-103">Grootschalige parallelle rekenoplossingen ontwikkelen met Batch</span><span class="sxs-lookup"><span data-stu-id="e890c-103">Develop large-scale parallel compute solutions with Batch</span></span>

<span data-ttu-id="e890c-104">In dit overzicht van de kernonderdelen Hallo Hallo Azure Batch-service bespreken we Hallo primaire functies en bronnen waarmee ontwikkelaars van Batch toobuild grootschalige parallelle kunt compute-oplossingen.</span><span class="sxs-lookup"><span data-stu-id="e890c-104">In this overview of hello core components of hello Azure Batch service, we discuss hello primary service features and resources that Batch developers can use toobuild large-scale parallel compute solutions.</span></span>

<span data-ttu-id="e890c-105">Of u een gedistribueerde rekenkundige toepassing ontwikkelt of service die problemen direct [REST-API] [ batch_rest_api] aanroepen of u gebruikt een Hallo [Batch-SDK's](batch-apis-tools.md#azure-accounts-for-batch-development), gebruikt u veel Hallo bronnen en functies die in dit artikel wordt besproken.</span><span class="sxs-lookup"><span data-stu-id="e890c-105">Whether you're developing a distributed computational application or service that issues direct [REST API][batch_rest_api] calls or you're using one of hello [Batch SDKs](batch-apis-tools.md#azure-accounts-for-batch-development), you'll use many of hello resources and features discussed in this article.</span></span>

> [!TIP]
> <span data-ttu-id="e890c-106">Zie voor een hoger niveau inleiding toohello Batch-service [basisbeginselen van Azure Batch](batch-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-106">For a higher-level introduction toohello Batch service, see [Basics of Azure Batch](batch-technical-overview.md).</span></span>
>
>

## <a name="batch-service-workflow"></a><span data-ttu-id="e890c-107">Werkstroom van de Batch-service</span><span class="sxs-lookup"><span data-stu-id="e890c-107">Batch service workflow</span></span>
<span data-ttu-id="e890c-108">Hallo is volgende werkstroom op hoog niveau doorgaans vrijwel alle toepassingen en services die gebruikmaken van Batch-service voor de verwerking van parallelle workloads Hallo:</span><span class="sxs-lookup"><span data-stu-id="e890c-108">hello following high-level workflow is typical of nearly all applications and services that use hello Batch service for processing parallel workloads:</span></span>

1. <span data-ttu-id="e890c-109">Hallo uploaden **gegevensbestanden** dat u wilt dat tooprocess tooan [Azure Storage] [ azure_storage] account.</span><span class="sxs-lookup"><span data-stu-id="e890c-109">Upload hello **data files** that you want tooprocess tooan [Azure Storage][azure_storage] account.</span></span> <span data-ttu-id="e890c-110">Batch bevat ingebouwde ondersteuning voor toegang tot Azure Blob-opslag en uw taken kunnen deze bestanden te downloaden[rekenknooppunten](#compute-node) bij het Hallo-taken uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="e890c-110">Batch includes built-in support for accessing Azure Blob storage, and your tasks can download these files too[compute nodes](#compute-node) when hello tasks are run.</span></span>
2. <span data-ttu-id="e890c-111">Hallo uploaden **toepassingsbestanden** die de taken worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-111">Upload hello **application files** that your tasks will run.</span></span> <span data-ttu-id="e890c-112">Deze bestanden kunnen worden binaire bestanden of scripts en hun afhankelijkheden en worden uitgevoerd door Hallo taken in uw taken.</span><span class="sxs-lookup"><span data-stu-id="e890c-112">These files can be binaries or scripts and their dependencies, and are executed by hello tasks in your jobs.</span></span> <span data-ttu-id="e890c-113">Uw taken deze bestanden kunnen downloaden van uw opslagaccount of kunt u Hallo [toepassingspakketten](#application-packages) functie van Batch voor de implementatie en beheer van toepassingen.</span><span class="sxs-lookup"><span data-stu-id="e890c-113">Your tasks can download these files from your Storage account, or you can use hello [application packages](#application-packages) feature of Batch for application management and deployment.</span></span>
3. <span data-ttu-id="e890c-114">Maak een [pool](#pool) van rekenknooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-114">Create a [pool](#pool) of compute nodes.</span></span> <span data-ttu-id="e890c-115">Wanneer u een pool maakt, kunt u het aantal rekenknooppunten voor het Hallo-toepassingen, hun grootte en besturingssysteem Hallo Hallo opgeven.</span><span class="sxs-lookup"><span data-stu-id="e890c-115">When you create a pool, you specify hello number of compute nodes for hello pool, their size, and hello operating system.</span></span> <span data-ttu-id="e890c-116">Wanneer elke taak in de taak wordt uitgevoerd, wordt het toegewezen tooexecute op een van de knooppunten Hallo in uw groep.</span><span class="sxs-lookup"><span data-stu-id="e890c-116">When each task in your job runs, it's assigned tooexecute on one of hello nodes in your pool.</span></span>
4. <span data-ttu-id="e890c-117">Maak een [job](#job).</span><span class="sxs-lookup"><span data-stu-id="e890c-117">Create a [job](#job).</span></span> <span data-ttu-id="e890c-118">Een job beheert een verzameling van taken.</span><span class="sxs-lookup"><span data-stu-id="e890c-118">A job manages a collection of tasks.</span></span> <span data-ttu-id="e890c-119">U koppelt elke taak tooa specifieke toepassingen waar die taak taken worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-119">You associate each job tooa specific pool where that job's tasks will run.</span></span>
5. <span data-ttu-id="e890c-120">Voeg [taken](#task) toohello taak.</span><span class="sxs-lookup"><span data-stu-id="e890c-120">Add [tasks](#task) toohello job.</span></span> <span data-ttu-id="e890c-121">Elke taak wordt uitgevoerd Hallo toepassing of het script dat u tooprocess Hallo-gegevensbestanden die het downloaden van uw opslagaccount hebt geüpload.</span><span class="sxs-lookup"><span data-stu-id="e890c-121">Each task runs hello application or script that you uploaded tooprocess hello data files it downloads from your Storage account.</span></span> <span data-ttu-id="e890c-122">Omdat elke taak is voltooid, kan deze de uitvoer tooAzure opslag uploaden.</span><span class="sxs-lookup"><span data-stu-id="e890c-122">As each task completes, it can upload its output tooAzure Storage.</span></span>
6. <span data-ttu-id="e890c-123">Voortgang van de taak en uitvoer van de taak Hallo ophalen uit Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="e890c-123">Monitor job progress and retrieve hello task output from Azure Storage.</span></span>

<span data-ttu-id="e890c-124">Hallo volgende secties bespreken deze en andere bronnen van Batch die uw gedistribueerde rekenkundige scenario inschakelen Hallo.</span><span class="sxs-lookup"><span data-stu-id="e890c-124">hello following sections discuss these and hello other resources of Batch that enable your distributed computational scenario.</span></span>

> [!NOTE]
> <span data-ttu-id="e890c-125">U moet een [Batch-account](#account) toouse Hallo Batch-service.</span><span class="sxs-lookup"><span data-stu-id="e890c-125">You need a [Batch account](#account) toouse hello Batch service.</span></span> <span data-ttu-id="e890c-126">Voor de meeste Batch-oplossingen wordt ook een [Azure-opslagaccount][azure_storage] gebruikt om bestanden op te slaan en op te halen.</span><span class="sxs-lookup"><span data-stu-id="e890c-126">Most Batch solutions also use an [Azure Storage][azure_storage] account for file storage and retrieval.</span></span> <span data-ttu-id="e890c-127">Batch ondersteunt momenteel alleen Hallo **algemeen** opslagaccounttype, zoals beschreven in stap 5 van [een opslagaccount maken](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [over Azure storage-accounts](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-127">Batch currently supports only hello **general-purpose** storage account type, as described in step 5 of [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span>
>
>

## <a name="batch-service-resources"></a><span data-ttu-id="e890c-128">Batch-serviceresources</span><span class="sxs-lookup"><span data-stu-id="e890c-128">Batch service resources</span></span>
<span data-ttu-id="e890c-129">Aantal Hallo na resources--accounts, compute knooppunten, pools, jobs en taken--vereist zijn voor alle oplossingen die gebruikmaken van Hallo Batch-service.</span><span class="sxs-lookup"><span data-stu-id="e890c-129">Some of hello following resources--accounts, compute nodes, pools, jobs, and tasks--are required by all solutions that use hello Batch service.</span></span> <span data-ttu-id="e890c-130">Andere resources, zoals taakplanningen en toepassingspakketten, zijn nuttige, maar optionele functies.</span><span class="sxs-lookup"><span data-stu-id="e890c-130">Others, like job schedules and application packages, are helpful, but optional, features.</span></span>

* [<span data-ttu-id="e890c-131">Account</span><span class="sxs-lookup"><span data-stu-id="e890c-131">Account</span></span>](#account)
* [<span data-ttu-id="e890c-132">Rekenknooppunt</span><span class="sxs-lookup"><span data-stu-id="e890c-132">Compute node</span></span>](#compute-node)
* [<span data-ttu-id="e890c-133">Pool</span><span class="sxs-lookup"><span data-stu-id="e890c-133">Pool</span></span>](#pool)
* [<span data-ttu-id="e890c-134">Job</span><span class="sxs-lookup"><span data-stu-id="e890c-134">Job</span></span>](#job)

  * [<span data-ttu-id="e890c-135">Jobplanningen</span><span class="sxs-lookup"><span data-stu-id="e890c-135">Job schedules</span></span>](#scheduled-jobs)
* [<span data-ttu-id="e890c-136">Taak</span><span class="sxs-lookup"><span data-stu-id="e890c-136">Task</span></span>](#task)

  * [<span data-ttu-id="e890c-137">Begintaak</span><span class="sxs-lookup"><span data-stu-id="e890c-137">Start task</span></span>](#start-task)
  * [<span data-ttu-id="e890c-138">Jobbeheertaak</span><span class="sxs-lookup"><span data-stu-id="e890c-138">Job manager task</span></span>](#job-manager-task)
  * [<span data-ttu-id="e890c-139">Jobvoorbereidingstaken en jobvrijgevingstaken</span><span class="sxs-lookup"><span data-stu-id="e890c-139">Job preparation and release tasks</span></span>](#job-preparation-and-release-tasks)
  * [<span data-ttu-id="e890c-140">Taken met meerdere instanties (MPI)</span><span class="sxs-lookup"><span data-stu-id="e890c-140">Multi-instance task (MPI)</span></span>](#multi-instance-tasks)
  * [<span data-ttu-id="e890c-141">Taakafhankelijkheden</span><span class="sxs-lookup"><span data-stu-id="e890c-141">Task dependencies</span></span>](#task-dependencies)
* [<span data-ttu-id="e890c-142">Toepassingspakketten</span><span class="sxs-lookup"><span data-stu-id="e890c-142">Application packages</span></span>](#application-packages)

## <a name="account"></a><span data-ttu-id="e890c-143">Account</span><span class="sxs-lookup"><span data-stu-id="e890c-143">Account</span></span>
<span data-ttu-id="e890c-144">Een Batch-account is een uniek geïdentificeerde entiteit in Hallo Batch-service.</span><span class="sxs-lookup"><span data-stu-id="e890c-144">A Batch account is a uniquely identified entity within hello Batch service.</span></span> <span data-ttu-id="e890c-145">Alle verwerkingen zijn gekoppeld aan een Batch-account.</span><span class="sxs-lookup"><span data-stu-id="e890c-145">All processing is associated with a Batch account.</span></span>

<span data-ttu-id="e890c-146">U kunt met behulp van hello Azure Batch-account maken [Azure-portal](batch-account-create-portal.md) of via een programma, zoals Hello [Batch Management .NET-bibliotheek](batch-management-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-146">You can create an Azure Batch account using hello [Azure portal](batch-account-create-portal.md) or programmatically, such as with hello [Batch Management .NET library](batch-management-dotnet.md).</span></span> <span data-ttu-id="e890c-147">Wanneer het Hallo-account maakt, kunt u een Azure storage-account koppelen.</span><span class="sxs-lookup"><span data-stu-id="e890c-147">When creating hello account, you can associate an Azure storage account.</span></span>

### <a name="pool-allocation-mode"></a><span data-ttu-id="e890c-148">Pooltoewijzingsmodus</span><span class="sxs-lookup"><span data-stu-id="e890c-148">Pool allocation mode</span></span>

<span data-ttu-id="e890c-149">Wanneer u een Batch-account maakt, kunt u opgeven hoe [pools](#pool) rekenknooppunten worden toegewezen.</span><span class="sxs-lookup"><span data-stu-id="e890c-149">When you create a Batch account, you can specify how [pools](#pool) of compute nodes are allocated.</span></span> <span data-ttu-id="e890c-150">U kunt tooallocate pools van rekenknooppunten in een abonnement beheerd door de Azure Batch of kunt u deze in uw eigen abonnement toewijzen.</span><span class="sxs-lookup"><span data-stu-id="e890c-150">You can choose tooallocate pools of compute nodes in a subscription managed by Azure Batch, or you can allocate them in your own subscription.</span></span> <span data-ttu-id="e890c-151">Hallo *groep toewijzing modus* eigenschap voor Hallo account bepaalt waar de groepen worden toegewezen.</span><span class="sxs-lookup"><span data-stu-id="e890c-151">hello *pool allocation mode* property for hello account determines where pools are allocated.</span></span> 

<span data-ttu-id="e890c-152">toodecide die groep toewijzing modus toouse, kunt u overwegen die beste past bij uw scenario:</span><span class="sxs-lookup"><span data-stu-id="e890c-152">toodecide which pool allocation mode toouse, consider which best fits your scenario:</span></span>

* <span data-ttu-id="e890c-153">**Batch-Service**: Batch-Service is Hallo groep toewijzing standaardmodus, in welke groepen achter de schermen Hallo in beheerde Azure-abonnementen worden toegewezen.</span><span class="sxs-lookup"><span data-stu-id="e890c-153">**Batch Service**: Batch Service is hello default pool allocation mode, in which pools are allocated behind hello scenes in Azure-managed subscriptions.</span></span> <span data-ttu-id="e890c-154">Houd er rekening mee deze sleutel verwijst over Hallo Batch-Service groep toewijzing modus:</span><span class="sxs-lookup"><span data-stu-id="e890c-154">Keep in mind these key points about hello Batch Service pool allocation mode:</span></span>

    - <span data-ttu-id="e890c-155">Hallo Batch-Service groep toewijzing modus ondersteunt Cloudservice en de virtuele Machine van toepassingen.</span><span class="sxs-lookup"><span data-stu-id="e890c-155">hello Batch Service pool allocation mode supports both Cloud Service and Virtual Machine pools.</span></span>
    - <span data-ttu-id="e890c-156">Hallo Batch-Service groep toewijzing modus ondersteunt zowel gedeelde sleutelverificatie of [Azure Active Directory-verificatie](batch-aad-auth.md) (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="e890c-156">hello Batch Service pool allocation mode supports both shared key authentication or [Azure Active Directory authentication](batch-aad-auth.md) (Azure AD).</span></span> 
    - <span data-ttu-id="e890c-157">In toepassingen die zijn toegewezen met de Hallo Batch-Service groep toewijzing modus kunt u beide toegewezen of prioriteit Laag rekenknooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-157">You can use either dedicated or low-priority compute nodes in pools allocated with hello Batch Service pool allocation mode.</span></span>
    - <span data-ttu-id="e890c-158">Gebruik geen Hallo Batch-Service groep toewijzing modus als u van plan bent toocreate virtuele machine van Azure groepen van aangepaste installatiekopieën voor virtuele machine, of als u van plan bent toouse een virtueel netwerk.</span><span class="sxs-lookup"><span data-stu-id="e890c-158">Do not use hello Batch Service pool allocation mode if you plan toocreate Azure virtual machine pools from custom VM images, or if you plan toouse a virtual network.</span></span> <span data-ttu-id="e890c-159">Uw account in plaats daarvan met de Hallo gebruikerabonnement groep toewijzing modus gemaakt.</span><span class="sxs-lookup"><span data-stu-id="e890c-159">Create your account with hello User Subscription pool allocation mode instead.</span></span>
    - <span data-ttu-id="e890c-160">Virtuele Machine pools ingericht in een account dat is gemaakt met de Hallo Batch-Service groep toewijzing modus moeten worden gemaakt van [Azure Virtual Machines Marketplace] [ vm_marketplace] installatiekopieën.</span><span class="sxs-lookup"><span data-stu-id="e890c-160">Virtual Machine pools provisioned in an account created with hello Batch Service pool allocation mode must be created from [Azure Virtual Machines Marketplace][vm_marketplace] images.</span></span>

* <span data-ttu-id="e890c-161">**Gebruikerabonnement**: met de Hallo gebruikerabonnement groep toewijzing modus Batch-pools zijn toegewezen in hello Azure-abonnement waarbij Hallo-account is gemaakt.</span><span class="sxs-lookup"><span data-stu-id="e890c-161">**User subscription**: With hello User Subscription pool allocation mode, Batch pools are allocated in hello Azure subscription where hello account is created.</span></span> <span data-ttu-id="e890c-162">Houd er rekening mee deze sleutel verwijst over Hallo gebruikerabonnement groep toewijzing modus:</span><span class="sxs-lookup"><span data-stu-id="e890c-162">Keep in mind these key points about hello User Subscription pool allocation mode:</span></span>
     
    - <span data-ttu-id="e890c-163">Hallo gebruikerabonnement groep toewijzing modus ondersteunt alleen de groepen van de virtuele Machine.</span><span class="sxs-lookup"><span data-stu-id="e890c-163">hello User Subscription pool allocation mode supports only Virtual Machine pools.</span></span> <span data-ttu-id="e890c-164">Cloud Services-pools worden niet ondersteund.</span><span class="sxs-lookup"><span data-stu-id="e890c-164">It does not support Cloud Services pools.</span></span>
    - <span data-ttu-id="e890c-165">toocreate virtuele Machine groepen van aangepaste installatiekopieën van virtuele machine of toouse een virtueel netwerk met virtuele Machine van toepassingen, moet u Hallo gebruikerabonnement groep toewijzing modus.</span><span class="sxs-lookup"><span data-stu-id="e890c-165">toocreate Virtual Machine pools from custom VM images or toouse a virtual network with Virtual Machine pools, you must use hello User Subscription pool allocation mode.</span></span>  
    - <span data-ttu-id="e890c-166">U moet gebruiken [Azure Active Directory-verificatie](batch-aad-auth.md) met toepassingen die zijn toegewezen in Hallo gebruikerabonnement.</span><span class="sxs-lookup"><span data-stu-id="e890c-166">You must use [Azure Active Directory authentication](batch-aad-auth.md) with pools that are allocated in hello user subscription.</span></span> 
    - <span data-ttu-id="e890c-167">U moet een Azure sleutelkluis voor uw Batch-account instellen als Hallo groep toewijzing modus tooUser abonnement is ingesteld.</span><span class="sxs-lookup"><span data-stu-id="e890c-167">You must set up an Azure key vault for your Batch account if hello pool allocation mode is set tooUser Subscription.</span></span> 
    - <span data-ttu-id="e890c-168">In de opslaggroepen in een account dat is gemaakt met de Hallo gebruikerabonnement groep toewijzing modus kunt u alleen specifieke rekenknooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-168">You can use only dedicated compute nodes in pools in an account created with hello User Subscription pool allocation mode.</span></span> <span data-ttu-id="e890c-169">Knooppunten met lage prioriteit worden niet ondersteund.</span><span class="sxs-lookup"><span data-stu-id="e890c-169">Low-priority nodes are not supported.</span></span>
    - <span data-ttu-id="e890c-170">Virtuele Machine pools ingericht in een account met de Hallo gebruikerabonnement groep toewijzing modus kunnen worden gemaakt vanuit [Azure Virtual Machines Marketplace] [ vm_marketplace] afbeeldingen of van aangepaste installatiekopieën die u hebt bieden.</span><span class="sxs-lookup"><span data-stu-id="e890c-170">Virtual Machine pools provisioned in an account with hello User Subscription pool allocation mode can be created either from [Azure Virtual Machines Marketplace][vm_marketplace] images, or from custom images that you provide.</span></span>

<span data-ttu-id="e890c-171">Hallo volgende tabel vergelijkt Hallo Batch-Service en de gebruikerabonnement groep toewijzing modi.</span><span class="sxs-lookup"><span data-stu-id="e890c-171">hello following table compares hello Batch Service and User Subscription pool allocation modes.</span></span>

| <span data-ttu-id="e890c-172">**Pooltoewijzingsmodus**</span><span class="sxs-lookup"><span data-stu-id="e890c-172">**Pool allocation mode**</span></span>                 | <span data-ttu-id="e890c-173">**Batch-service**</span><span class="sxs-lookup"><span data-stu-id="e890c-173">**Batch Service**</span></span>                                                                                       | <span data-ttu-id="e890c-174">**Gebruikersabonnement**</span><span class="sxs-lookup"><span data-stu-id="e890c-174">**User Subscription**</span></span>                                                              |
|-------------------------------------------|---------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="e890c-175">**Pools worden toegewezen in**</span><span class="sxs-lookup"><span data-stu-id="e890c-175">**Pools are allocated in**</span></span>               | <span data-ttu-id="e890c-176">Een door Azure beheerd abonnement</span><span class="sxs-lookup"><span data-stu-id="e890c-176">An Azure-managed subscription</span></span>                                                                           | <span data-ttu-id="e890c-177">Hallo gebruikerabonnement in welke Hallo Batch-account is gemaakt</span><span class="sxs-lookup"><span data-stu-id="e890c-177">hello user subscription in which hello Batch account is created</span></span>                        |
| <span data-ttu-id="e890c-178">**Ondersteunde configuraties**</span><span class="sxs-lookup"><span data-stu-id="e890c-178">**Supported configurations**</span></span>             | <ul><li><span data-ttu-id="e890c-179">Cloudserviceconfiguratie</span><span class="sxs-lookup"><span data-stu-id="e890c-179">Cloud Service Configuration</span></span></li><li><span data-ttu-id="e890c-180">Virtuele-machineconfiguratie (Linux en Windows)</span><span class="sxs-lookup"><span data-stu-id="e890c-180">Virtual Machine Configuration (Linux and Windows)</span></span></li></ul> | <ul><li><span data-ttu-id="e890c-181">Virtuele-machineconfiguratie (Linux en Windows)</span><span class="sxs-lookup"><span data-stu-id="e890c-181">Virtual Machine Configuration (Linux and Windows)</span></span></li></ul>                |
| <span data-ttu-id="e890c-182">**Ondersteunde VM-installatiekopieën**</span><span class="sxs-lookup"><span data-stu-id="e890c-182">**Supported VM images**</span></span>                  | <ul><li><span data-ttu-id="e890c-183">Azure Marketplace-installatiekopieën</span><span class="sxs-lookup"><span data-stu-id="e890c-183">Azure Marketplace images</span></span></li></ul>                                                              | <ul><li><span data-ttu-id="e890c-184">Azure Marketplace-installatiekopieën</span><span class="sxs-lookup"><span data-stu-id="e890c-184">Azure Marketplace images</span></span></li><li><span data-ttu-id="e890c-185">Aangepaste installatiekopieën</span><span class="sxs-lookup"><span data-stu-id="e890c-185">Custom images</span></span></li></ul>                   |
| <span data-ttu-id="e890c-186">**Ondersteunde typen rekenknooppunten**</span><span class="sxs-lookup"><span data-stu-id="e890c-186">**Supported compute node types**</span></span>         | <ul><li><span data-ttu-id="e890c-187">Toegewezen knooppunten</span><span class="sxs-lookup"><span data-stu-id="e890c-187">Dedicated nodes</span></span></li><li><span data-ttu-id="e890c-188">Knooppunten met lage prioriteit</span><span class="sxs-lookup"><span data-stu-id="e890c-188">Low-priority nodes</span></span></li></ul>                                            | <ul><li><span data-ttu-id="e890c-189">Toegewezen knooppunten</span><span class="sxs-lookup"><span data-stu-id="e890c-189">Dedicated nodes</span></span></li></ul>                                                  |
| <span data-ttu-id="e890c-190">**Ondersteunde verificatie**</span><span class="sxs-lookup"><span data-stu-id="e890c-190">**Supported authentication**</span></span>             | <ul><li><span data-ttu-id="e890c-191">Gedeelde sleutel</span><span class="sxs-lookup"><span data-stu-id="e890c-191">Shared Key</span></span></li><li><span data-ttu-id="e890c-192">Azure AD</span><span class="sxs-lookup"><span data-stu-id="e890c-192">Azure AD</span></span></li></ul>                                                           | <ul><li><span data-ttu-id="e890c-193">Azure AD</span><span class="sxs-lookup"><span data-stu-id="e890c-193">Azure AD</span></span></li></ul>                                                         |
| <span data-ttu-id="e890c-194">**Azure Key Vault vereist**</span><span class="sxs-lookup"><span data-stu-id="e890c-194">**Azure Key Vault required**</span></span>             | <span data-ttu-id="e890c-195">Nee</span><span class="sxs-lookup"><span data-stu-id="e890c-195">No</span></span>                                                                                                      | <span data-ttu-id="e890c-196">Ja</span><span class="sxs-lookup"><span data-stu-id="e890c-196">Yes</span></span>                                                                                |
| <span data-ttu-id="e890c-197">**Kerngeheugenquotum**</span><span class="sxs-lookup"><span data-stu-id="e890c-197">**Core quota**</span></span>                           | <span data-ttu-id="e890c-198">Bepaald op basis van het Batch-kerngeheugenquotum</span><span class="sxs-lookup"><span data-stu-id="e890c-198">Determined by Batch core quota</span></span>                                                                          | <span data-ttu-id="e890c-199">Bepaald op basis van het kerngeheugenquotum van het abonnement</span><span class="sxs-lookup"><span data-stu-id="e890c-199">Determined by subscription core quota</span></span>                                              |
| <span data-ttu-id="e890c-200">**Azure Virtual Network-ondersteuning (VNet)**</span><span class="sxs-lookup"><span data-stu-id="e890c-200">**Azure Virtual Network (Vnet) support**</span></span> | <span data-ttu-id="e890c-201">Groepen die zijn gemaakt met de Hallo configuratie voor Cloud-Service</span><span class="sxs-lookup"><span data-stu-id="e890c-201">Pools created with hello Cloud Service Configuration</span></span>                                                      | <span data-ttu-id="e890c-202">Groepen met virtuele-machineconfiguratie Hallo gemaakt</span><span class="sxs-lookup"><span data-stu-id="e890c-202">Pools created with hello Virtual Machine Configuration</span></span>                               |
| <span data-ttu-id="e890c-203">**Ondersteunde VNet-implementatiemodellen**</span><span class="sxs-lookup"><span data-stu-id="e890c-203">**Vnet deployment model supported**</span></span>      | <span data-ttu-id="e890c-204">VNets die zijn gemaakt met het klassieke implementatiemodel</span><span class="sxs-lookup"><span data-stu-id="e890c-204">Vnets created with classic deployment model</span></span>                                                             | <span data-ttu-id="e890c-205">Vnets die zijn gemaakt met het klassieke implementatiemodel Hallo of Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="e890c-205">Vnets created with either hello classic deployment model or Azure   Resource Manager</span></span> |

## <a name="azure-storage-account"></a><span data-ttu-id="e890c-206">Azure-opslagaccount</span><span class="sxs-lookup"><span data-stu-id="e890c-206">Azure Storage account</span></span>

<span data-ttu-id="e890c-207">Bij de meeste Batch-oplossingen wordt gebruikgemaakt van Azure Storage om resourcebestanden en uitvoerbestanden op te slaan.</span><span class="sxs-lookup"><span data-stu-id="e890c-207">Most Batch solutions use Azure Storage for storing resource files and output files.</span></span>  

<span data-ttu-id="e890c-208">Batch ondersteunt momenteel alleen Hallo algemeen opslagaccounttype, zoals beschreven in stap 5 van [een opslagaccount maken](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [over Azure storage-accounts](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-208">Batch currently supports only hello general-purpose storage account type, as described in step 5 of [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span> <span data-ttu-id="e890c-209">Uw Batch-taken (inclusief standaardtaken, begintaken, jobvoorbereidingstaken en jobvrijgevingstaken) moeten bronbestanden opgeven die zich bevinden in algemene opslagaccounts.</span><span class="sxs-lookup"><span data-stu-id="e890c-209">Your Batch tasks (including standard tasks, start tasks, job preparation tasks, and job release tasks) must specify resource files that reside in general-purpose storage accounts.</span></span>


## <a name="compute-node"></a><span data-ttu-id="e890c-210">Rekenknooppunt</span><span class="sxs-lookup"><span data-stu-id="e890c-210">Compute node</span></span>
<span data-ttu-id="e890c-211">Een rekenknooppunt is een Azure virtuele machine (VM) of een cloudservice-VM die is toegewezen tooprocessing een deel van uw toepassing werklast.</span><span class="sxs-lookup"><span data-stu-id="e890c-211">A compute node is an Azure virtual machine (VM) or cloud service VM that is dedicated tooprocessing a portion of your application's workload.</span></span> <span data-ttu-id="e890c-212">Hallo-grootte van een knooppunt bepaalt Hallo aantal CPU-kernen, geheugencapaciteit en grootte van het lokale bestand die toohello knooppunt is toegewezen.</span><span class="sxs-lookup"><span data-stu-id="e890c-212">hello size of a node determines hello number of CPU cores, memory capacity, and local file system size that is allocated toohello node.</span></span> <span data-ttu-id="e890c-213">U kunt groepen van Windows of Linux-knooppunten maken met behulp van Azure Cloud Services, installatiekopieën van Hallo [Azure Virtual Machines Marketplace][vm_marketplace], of aangepaste installatiekopieën die u opstelt.</span><span class="sxs-lookup"><span data-stu-id="e890c-213">You can create pools of Windows or Linux nodes by using Azure Cloud Services, images from hello [Azure Virtual Machines Marketplace][vm_marketplace], or custom images that you prepare.</span></span> <span data-ttu-id="e890c-214">Zie de volgende Hallo [groep](#pool) sectie voor meer informatie over deze opties.</span><span class="sxs-lookup"><span data-stu-id="e890c-214">See hello following [Pool](#pool) section for more information on these options.</span></span>

<span data-ttu-id="e890c-215">Knooppunten kunnen uitvoeren voor een uitvoerbaar bestand of script dat wordt ondersteund door Hallo besturingssysteemomgeving van Hallo-knooppunt.</span><span class="sxs-lookup"><span data-stu-id="e890c-215">Nodes can run any executable or script that is supported by hello operating system environment of hello node.</span></span> <span data-ttu-id="e890c-216">Dit omvat \*.exe \*.cmd, \*.bat en PowerShell-scripts voor Windows - en binaire bestanden, shell- en Python-scripts voor Linux.</span><span class="sxs-lookup"><span data-stu-id="e890c-216">This includes \*.exe, \*.cmd, \*.bat and PowerShell scripts for Windows--and binaries, shell, and Python scripts for Linux.</span></span>

<span data-ttu-id="e890c-217">Alle rekenknooppunten in Batch omvatten ook:</span><span class="sxs-lookup"><span data-stu-id="e890c-217">All compute nodes in Batch also include:</span></span>

* <span data-ttu-id="e890c-218">Een standaard[mapstructuur](#files-and-directories) en daaraan gekoppelde [omgevingsvariabelen](#environment-settings-for-tasks) die beschikbaar zijn voor verwijzing door taken.</span><span class="sxs-lookup"><span data-stu-id="e890c-218">A standard [folder structure](#files-and-directories) and associated [environment variables](#environment-settings-for-tasks) that are available for reference by tasks.</span></span>
* <span data-ttu-id="e890c-219">**Firewall** instellingen die zijn geconfigureerd met toocontrol toegang.</span><span class="sxs-lookup"><span data-stu-id="e890c-219">**Firewall** settings that are configured toocontrol access.</span></span>
* <span data-ttu-id="e890c-220">[Externe toegang](#connecting-to-compute-nodes) tooboth (Remote Desktop Protocol (RDP)) voor Windows en Linux (Secure Shell (SSH))-knooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-220">[Remote access](#connecting-to-compute-nodes) tooboth Windows (Remote Desktop Protocol (RDP)) and Linux (Secure Shell (SSH)) nodes.</span></span>

## <a name="pool"></a><span data-ttu-id="e890c-221">Pool</span><span class="sxs-lookup"><span data-stu-id="e890c-221">Pool</span></span>
<span data-ttu-id="e890c-222">Een pool is een verzameling knooppunten waarop uw toepassing wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-222">A pool is a collection of nodes that your application runs on.</span></span> <span data-ttu-id="e890c-223">Hallo-toepassingen kan worden gemaakt handmatig door u of automatisch door Hallo Batch-service wanneer u Hallo werk toobe gedaan opgeven.</span><span class="sxs-lookup"><span data-stu-id="e890c-223">hello pool can be created manually by you, or automatically by hello Batch service when you specify hello work toobe done.</span></span> <span data-ttu-id="e890c-224">U kunt maken en beheren van een groep die voldoet aan de resourcevereisten Hallo van uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="e890c-224">You can create and manage a pool that meets hello resource requirements of your application.</span></span> <span data-ttu-id="e890c-225">Een groep kan alleen worden gebruikt door Hallo Batch-account waarin deze is gemaakt.</span><span class="sxs-lookup"><span data-stu-id="e890c-225">A pool can be used only by hello Batch account in which it was created.</span></span> <span data-ttu-id="e890c-226">Een Batch-account kan meer dan één pool hebben.</span><span class="sxs-lookup"><span data-stu-id="e890c-226">A Batch account can have more than one pool.</span></span>

<span data-ttu-id="e890c-227">Azure Batch-pools bouwen op Hallo core Azure compute-platform.</span><span class="sxs-lookup"><span data-stu-id="e890c-227">Azure Batch pools build on top of hello core Azure compute platform.</span></span> <span data-ttu-id="e890c-228">Ze bieden grootschalige toewijzing, installatie van toepassingen, gegevensdistributie, statuscontrole en flexibele aanpassing van het aantal rekenknooppunten binnen een pool hello ([schalen](#scaling-compute-resources)).</span><span class="sxs-lookup"><span data-stu-id="e890c-228">They provide large-scale allocation, application installation, data distribution, health monitoring, and flexible adjustment of hello number of compute nodes within a pool ([scaling](#scaling-compute-resources)).</span></span>

<span data-ttu-id="e890c-229">Elk knooppunt dat is toegevoegd aan de groep tooa is een unieke naam en IP-adres toegewezen.</span><span class="sxs-lookup"><span data-stu-id="e890c-229">Every node that is added tooa pool is assigned a unique name and IP address.</span></span> <span data-ttu-id="e890c-230">Wanneer een knooppunt uit een groep wordt verwijderd, gaan alle wijzigingen die zijn aangebracht toohello besturingssysteem of bestanden verloren en de naam en IP-adres worden vrijgegeven voor toekomstig gebruik.</span><span class="sxs-lookup"><span data-stu-id="e890c-230">When a node is removed from a pool, any changes that are made toohello operating system or files are lost, and its name and IP address are released for future use.</span></span> <span data-ttu-id="e890c-231">Wanneer een knooppunt een pool verlaat, is de levensduur ervan beëindigd.</span><span class="sxs-lookup"><span data-stu-id="e890c-231">When a node leaves a pool, its lifetime is over.</span></span>

<span data-ttu-id="e890c-232">Wanneer u een pool maakt, kunt u Hallo kenmerken te volgen.</span><span class="sxs-lookup"><span data-stu-id="e890c-232">When you create a pool, you can specify hello following attributes.</span></span> <span data-ttu-id="e890c-233">Sommige instellingen zijn, afhankelijk van Hallo groep toewijzing modus Hallo Batch [account](#account):</span><span class="sxs-lookup"><span data-stu-id="e890c-233">Some settings differ, depending on hello pool allocation mode of hello Batch [account](#account):</span></span>

- <span data-ttu-id="e890c-234">Besturingssysteem en versie van rekenknooppunt</span><span class="sxs-lookup"><span data-stu-id="e890c-234">Compute node operating system and version</span></span>
- <span data-ttu-id="e890c-235">Type rekenknooppunt en beoogd aantal knooppunten</span><span class="sxs-lookup"><span data-stu-id="e890c-235">Compute node type and target number of nodes</span></span>
- <span data-ttu-id="e890c-236">Grootte van rekenknooppunten Hallo</span><span class="sxs-lookup"><span data-stu-id="e890c-236">Size of hello compute nodes</span></span>
- <span data-ttu-id="e890c-237">Beleid voor vergroten/verkleinen</span><span class="sxs-lookup"><span data-stu-id="e890c-237">Scaling policy</span></span>
- <span data-ttu-id="e890c-238">Taakplanningsbeleid</span><span class="sxs-lookup"><span data-stu-id="e890c-238">Task scheduling policy</span></span>
- <span data-ttu-id="e890c-239">Communicatiestatus voor rekenknooppunten</span><span class="sxs-lookup"><span data-stu-id="e890c-239">Communication status for compute nodes</span></span>
- <span data-ttu-id="e890c-240">Begintaken voor rekenknooppunten</span><span class="sxs-lookup"><span data-stu-id="e890c-240">Start tasks for compute nodes</span></span>
- <span data-ttu-id="e890c-241">Toepassingspakketten</span><span class="sxs-lookup"><span data-stu-id="e890c-241">Application packages</span></span>
- <span data-ttu-id="e890c-242">Netwerkconfiguratie</span><span class="sxs-lookup"><span data-stu-id="e890c-242">Network configuration</span></span>

<span data-ttu-id="e890c-243">Elk van deze instellingen wordt nader beschreven in de volgende secties Hallo beschreven.</span><span class="sxs-lookup"><span data-stu-id="e890c-243">Each of these settings is described in more detail in hello following sections.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e890c-244">Batch-accounts die zijn gemaakt met de Hallo Batch-Service groep toewijzing modus hebben een standaardquotum dat Hallo aantal kernen in een Batch-account beperkt.</span><span class="sxs-lookup"><span data-stu-id="e890c-244">Batch accounts created with hello Batch Service pool allocation mode have a default quota that limits hello number of cores in a Batch account.</span></span> <span data-ttu-id="e890c-245">Hallo aantal kernen dat overeenkomt met het aantal rekenknooppunten toohello.</span><span class="sxs-lookup"><span data-stu-id="e890c-245">hello number of cores corresponds toohello number of compute nodes.</span></span> <span data-ttu-id="e890c-246">U vindt Hallo standaardquota en instructies over het te[een quotum verhogen](batch-quota-limit.md#increase-a-quota) in [quota en limieten voor hello Azure Batch-service](batch-quota-limit.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-246">You can find hello default quotas and instructions on how too[increase a quota](batch-quota-limit.md#increase-a-quota) in [Quotas and limits for hello Azure Batch service](batch-quota-limit.md).</span></span> <span data-ttu-id="e890c-247">Als uw pool niet het doelaantal knooppunten oplevert is, mogelijk kerngeheugenquotum Hallo Hallo reden.</span><span class="sxs-lookup"><span data-stu-id="e890c-247">If your pool is not achieving its target number of nodes, hello core quota might be hello reason.</span></span>
>
><span data-ttu-id="e890c-248">Batch-accounts die zijn gemaakt met de Hallo gebruikerabonnement groep toewijzing modus naleven niet, quota's Hallo Batch-service.</span><span class="sxs-lookup"><span data-stu-id="e890c-248">Batch accounts created with hello User Subscription pool allocation mode do not observe hello Batch service quotas.</span></span> <span data-ttu-id="e890c-249">In plaats daarvan ze delen in Hallo kerngeheugenquotum voor Hallo opgegeven abonnement.</span><span class="sxs-lookup"><span data-stu-id="e890c-249">Instead, they share in hello core quota for hello specified subscription.</span></span> <span data-ttu-id="e890c-250">Zie [Virtual Machines limits](../azure-subscription-service-limits.md#virtual-machines-limits) (Limieten voor Virtuele Machines) in [Azure subscription and service limits, quotas, and constraints](../azure-subscription-service-limits.md) (Azure-abonnement en servicelimieten, -quota en -beperkingen) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="e890c-250">For more information, see [Virtual Machines limits](../azure-subscription-service-limits.md#virtual-machines-limits) in [Azure subscription and service limits, quotas, and constraints](../azure-subscription-service-limits.md).</span></span>
>
>

### <a name="compute-node-operating-system-and-version"></a><span data-ttu-id="e890c-251">Besturingssysteem en versie van rekenknooppunt</span><span class="sxs-lookup"><span data-stu-id="e890c-251">Compute node operating system and version</span></span>

<span data-ttu-id="e890c-252">Wanneer u een Batch-pool maakt, kunt u hello Azure Virtuele-machineconfiguratie en Hallo type besturingssysteem u toorun op elk rekenknooppunt in de groep hello wilt opgeven.</span><span class="sxs-lookup"><span data-stu-id="e890c-252">When you create a Batch pool, you can specify hello Azure virtual machine configuration and hello type of operating system you want toorun on each compute node in hello pool.</span></span> <span data-ttu-id="e890c-253">Er zijn twee typen beschikbare configuraties in Batch Hallo:</span><span class="sxs-lookup"><span data-stu-id="e890c-253">hello two types of configurations available in Batch are:</span></span>

- <span data-ttu-id="e890c-254">Hallo **Virtuele-machineconfiguratie**, waarmee die Hallo van toepassingen bestaat uit de virtuele machines in Azure.</span><span class="sxs-lookup"><span data-stu-id="e890c-254">hello **Virtual Machine Configuration**, which specifies that hello pool is comprised of Azure virtual machines.</span></span> <span data-ttu-id="e890c-255">Deze virtuele machines kunnen worden gemaakt met Linux- of Windows-installatiekopieën.</span><span class="sxs-lookup"><span data-stu-id="e890c-255">These VMs may be created from either Linux or Windows images.</span></span> 

    <span data-ttu-id="e890c-256">Wanneer u een groep op basis van virtuele-machineconfiguratie Hallo maakt, moet u niet alleen Hallo grootte van Hallo knooppunten en Hallo bron van Hallo installatiekopieën gebruikt toocreate ze, maar ook Hallo **verwijzing naar afbeelding van virtuele machine** en Hallo Batch **knooppunt agent SKU** toobe op Hallo knooppunten geïnstalleerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-256">When you create a pool based on hello Virtual Machine Configuration, you must specify not only hello size of hello nodes and hello source of hello images used toocreate them, but also hello **virtual machine image reference** and hello Batch **node agent SKU** toobe installed on hello nodes.</span></span> <span data-ttu-id="e890c-257">Zie [Linux-rekenknooppunten in Azure Batch-pools inrichten](batch-linux-nodes.md) voor meer informatie over het opgeven van deze pooleigenschappen.</span><span class="sxs-lookup"><span data-stu-id="e890c-257">For more information about specifying these pool properties, see [Provision Linux compute nodes in Azure Batch pools](batch-linux-nodes.md).</span></span>

- <span data-ttu-id="e890c-258">Hallo **Cloud Services-configuratie**, waarmee die Hallo van toepassingen bestaat uit Azure Cloud Services-knooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-258">hello **Cloud Services Configuration**, which specifies that hello pool is comprised of Azure Cloud Services nodes.</span></span> <span data-ttu-id="e890c-259">Cloud Services verstrekt *alleen* Windows-rekenknooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-259">Cloud Services provide Windows compute nodes *only*.</span></span>

    <span data-ttu-id="e890c-260">Beschikbare besturingssystemen voor de configuratie voor Cloud Services-toepassingen worden vermeld in Hallo [Azure Gast OS releases en SDK compatibiliteit matrix](../cloud-services/cloud-services-guestos-update-matrix.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-260">Available operating systems for Cloud Services Configuration pools are listed in hello [Azure Guest OS releases and SDK compatibility matrix](../cloud-services/cloud-services-guestos-update-matrix.md).</span></span> <span data-ttu-id="e890c-261">Wanneer u een groep met Cloud Services-knooppunten maakt, moet u toospecify hello knooppuntgrootte en de bijbehorende *OS-familie*.</span><span class="sxs-lookup"><span data-stu-id="e890c-261">When you create a pool that contains Cloud Services nodes, you need toospecify hello node size and its *OS Family*.</span></span> <span data-ttu-id="e890c-262">Cloudservices zijn geïmplementeerde tooAzure sneller dan voor virtuele machines waarop Windows wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-262">Cloud Services are deployed tooAzure more quickly than virtual machines running Windows.</span></span> <span data-ttu-id="e890c-263">Als u pools met Windows-rekenknooppunten wilt, zult u merken dat Cloud Services prestatievoordelen biedt wat de implementatietijd betreft.</span><span class="sxs-lookup"><span data-stu-id="e890c-263">If you want pools of Windows compute nodes, you may find that Cloud Services provide a performance benefit in terms of deployment time.</span></span>

    * <span data-ttu-id="e890c-264">Hallo *OS-familie* bepaalt ook welke versies van .NET Hello besturingssysteem zijn geïnstalleerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-264">hello *OS Family* also determines which versions of .NET are installed with hello OS.</span></span>
    * <span data-ttu-id="e890c-265">Als bij werkrollen in Cloud Services, kunt u een *versie van het besturingssysteem* (Zie voor meer informatie over werkrollen Hallo [laten weten over cloudservices](../cloud-services/cloud-services-choose-me.md#tell-me-about-cloud-services) sectie in Hallo [Cloudservices overzicht](../cloud-services/cloud-services-choose-me.md)).</span><span class="sxs-lookup"><span data-stu-id="e890c-265">As with worker roles within Cloud Services, you can specify an *OS Version* (for more information on worker roles, see hello [Tell me about cloud services](../cloud-services/cloud-services-choose-me.md#tell-me-about-cloud-services) section in hello [Cloud Services overview](../cloud-services/cloud-services-choose-me.md)).</span></span>
    * <span data-ttu-id="e890c-266">Als bij werkrollen, het is raadzaam dat u opgeeft `*` voor Hallo *besturingssysteemversie* zodat Hallo knooppunten automatisch worden bijgewerkt en er geen werk vereist toocater toonewly uitgebracht versies is.</span><span class="sxs-lookup"><span data-stu-id="e890c-266">As with worker roles, we recommend that you specify `*` for hello *OS Version* so that hello nodes are automatically upgraded, and there is no work required toocater toonewly released versions.</span></span> <span data-ttu-id="e890c-267">Hallo primaire gebruiksvoorbeeld voor het selecteren van een specifieke versie van het besturingssysteem is tooensure toepassingscompatibiliteit, waardoor de compatibiliteit met eerdere versies testen toobe uitgevoerd alvorens deze Hallo versie toobe bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="e890c-267">hello primary use case for selecting a specific OS version is tooensure application compatibility, which allows backward compatibility testing toobe performed before allowing hello version toobe updated.</span></span> <span data-ttu-id="e890c-268">Na de validatie, Hallo *besturingssysteemversie* voor Hallo van toepassingen kan worden bijgewerkt en Hallo nieuwe OS-installatiekopie kan worden geïnstalleerd--actieve taken worden onderbroken en opnieuw.</span><span class="sxs-lookup"><span data-stu-id="e890c-268">After validation, hello *OS Version* for hello pool can be updated and hello new OS image can be installed--any running tasks are interrupted and requeued.</span></span>

<span data-ttu-id="e890c-269">Wanneer u een groep maakt, moet u tooselect Hallo juiste **nodeAgentSkuId**, afhankelijk van Hallo OS van Hallo basisinstallatiekopie van uw VHD.</span><span class="sxs-lookup"><span data-stu-id="e890c-269">When you create a pool, you need tooselect hello appropriate **nodeAgentSkuId**, depending on hello OS of hello base image of your VHD.</span></span> <span data-ttu-id="e890c-270">U kunt een toewijzing van beschikbare knooppunt agent SKU-id's tootheir verwijzingen van de installatiekopie van het besturingssysteem ophalen door de aanroepende Hallo [lijst ondersteund knooppunt Agent-SKU's](https://docs.microsoft.com/rest/api/batchservice/list-supported-node-agent-skus) bewerking.</span><span class="sxs-lookup"><span data-stu-id="e890c-270">You can get a mapping of available node agent SKU ID's tootheir OS Image references by calling hello [List Supported Node Agent SKUs](https://docs.microsoft.com/rest/api/batchservice/list-supported-node-agent-skus) operation.</span></span>

<span data-ttu-id="e890c-271">Zie Hallo [Account](#account) sectie voor informatie over het instellen van Hallo groep toewijzing modus bij het maken van een Batch-account.</span><span class="sxs-lookup"><span data-stu-id="e890c-271">See hello [Account](#account) section for information on setting hello pool allocation mode when you create a Batch account.</span></span>

#### <a name="custom-images-for-virtual-machine-pools"></a><span data-ttu-id="e890c-272">Aangepaste installatiekopieën voor VM-pools</span><span class="sxs-lookup"><span data-stu-id="e890c-272">Custom images for Virtual Machine pools</span></span>

<span data-ttu-id="e890c-273">toouse een aangepaste installatiekopie tooprovision virtuele Machine-adresgroepen maken uw Batch-account met de Hallo gebruikerabonnement groep toewijzing modus.</span><span class="sxs-lookup"><span data-stu-id="e890c-273">toouse a custom image tooprovision Virtual Machine pools, create your Batch account with hello User Subscription pool allocation mode.</span></span> <span data-ttu-id="e890c-274">Met deze modus worden toegewezen aan Batch-pools in Hallo abonnement waarin Hallo account zich bevindt.</span><span class="sxs-lookup"><span data-stu-id="e890c-274">With this mode, Batch pools are allocated into hello subscription where hello account resides.</span></span> <span data-ttu-id="e890c-275">Zie Hallo [Account](#account) sectie voor informatie over het instellen van Hallo groep toewijzing modus bij het maken van een Batch-account.</span><span class="sxs-lookup"><span data-stu-id="e890c-275">See hello [Account](#account) section for information on setting hello pool allocation mode when you create a Batch account.</span></span>

<span data-ttu-id="e890c-276">een aangepaste installatiekopie toouse, moet u tooprepare Hallo afbeelding door het generaliseren.</span><span class="sxs-lookup"><span data-stu-id="e890c-276">toouse a custom image, you'll need tooprepare hello image by generalizing it.</span></span> <span data-ttu-id="e890c-277">Zie voor meer informatie over het voorbereiden van aangepaste Linux-installatiekopieën van virtuele Azure-machines [vastleggen van een Azure Linux VM toouse als sjabloon](../virtual-machines/linux/capture-image-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-277">For information about preparing custom Linux images from Azure VMs, see [Capture an Azure Linux VM toouse as a template](../virtual-machines/linux/capture-image-nodejs.md).</span></span> <span data-ttu-id="e890c-278">Zie [Aangepaste VM-installatiekopieën maken met Azure PowerShell](../virtual-machines/windows/tutorial-custom-images.md) voor meer informatie over het maken van aangepaste Windows-installatiekopieën op basis van Azure VM's.</span><span class="sxs-lookup"><span data-stu-id="e890c-278">For information about preparing custom Windows images from Azure VMs, see [Create custom VM images with Azure PowerShell](../virtual-machines/windows/tutorial-custom-images.md).</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="e890c-279">Houd er rekening mee Hallo volgende bij het voorbereiden van uw aangepaste installatiekopie:</span><span class="sxs-lookup"><span data-stu-id="e890c-279">When preparing your custom image, keep in mind hello following:</span></span>
> - <span data-ttu-id="e890c-280">Zorg ervoor dat die Hallo OS basisinstallatiekopie gebruik van uw Batch-pools biedt tooprovision niet hebben geen vooraf geïnstalleerde Azure-extensies, zoals Hallo aangepast Script-extensie.</span><span class="sxs-lookup"><span data-stu-id="e890c-280">Ensure that hello base OS image you use tooprovision your Batch pools does not have any pre-installed Azure extensions, such as hello Custom Script extension.</span></span> <span data-ttu-id="e890c-281">Als Hallo afbeelding een vooraf geïnstalleerde uitbreiding bevat, ondervinden Azure problemen Hallo VM implementeren.</span><span class="sxs-lookup"><span data-stu-id="e890c-281">If hello image contains a pre-installed extension, Azure may encounter problems deploying hello VM.</span></span>
> - <span data-ttu-id="e890c-282">Zorg ervoor dat Hallo OS basisinstallatiekopie die maakt gebruik van tijdelijke standaardstation Hallo bieden zoals hello Batch knooppunt agent momenteel Hallo standaard tijdelijke station verwacht.</span><span class="sxs-lookup"><span data-stu-id="e890c-282">Ensure that hello base OS image you provide uses hello default temp drive, as hello Batch node agent currently expects hello default temp drive.</span></span>
>
>

<span data-ttu-id="e890c-283">een virtuele-machineconfiguratie van toepassingen met een aangepaste installatiekopie toocreate, moet u een of meer standaard Azure Storage-accounts toostore uw aangepaste VHD-installatiekopieën.</span><span class="sxs-lookup"><span data-stu-id="e890c-283">toocreate a Virtual Machine Configuration pool using a custom image, you'll need one or more standard Azure Storage accounts toostore your custom VHD images.</span></span> <span data-ttu-id="e890c-284">Aangepaste installatiekopieën worden opgeslagen als blobs.</span><span class="sxs-lookup"><span data-stu-id="e890c-284">Custom images are stored as blobs.</span></span> <span data-ttu-id="e890c-285">uw aangepaste installatiekopieën bij het maken van een groep tooreference opgeven Hallo URI's van Hallo aangepaste installatiekopie VHD-blobs Hallo [osDisk](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_osdisk) eigenschap Hallo [virtualMachineConfiguration](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_vmconf) eigenschap.</span><span class="sxs-lookup"><span data-stu-id="e890c-285">tooreference your custom images when you create a pool, specify hello URIs of hello custom image VHD blobs for hello [osDisk](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_osdisk) property of hello [virtualMachineConfiguration](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_vmconf) property.</span></span>

<span data-ttu-id="e890c-286">Zorg ervoor dat uw storage-accounts voldoen aan de volgende criteria Hallo:</span><span class="sxs-lookup"><span data-stu-id="e890c-286">Make sure that your storage accounts meet hello following criteria:</span></span>   

- <span data-ttu-id="e890c-287">Hallo storage-accounts met Hallo aangepaste installatiekopie VHD-blobs moeten toobe in Hallo hetzelfde abonnement als Hallo Batch-account (abonnement Hallo gebruiker).</span><span class="sxs-lookup"><span data-stu-id="e890c-287">hello storage accounts containing hello custom image VHD blobs need toobe in hello same subscription as hello Batch account (hello user subscription).</span></span>
- <span data-ttu-id="e890c-288">Hallo opgegeven opslagaccounts toobe in Hallo moeten dezelfde regio bevinden als Hallo Batch-account.</span><span class="sxs-lookup"><span data-stu-id="e890c-288">hello specified storage accounts need toobe in hello same region as hello Batch account.</span></span>
- <span data-ttu-id="e890c-289">Op dit moment worden alleen algemene standaardopslagaccounts ondersteund.</span><span class="sxs-lookup"><span data-stu-id="e890c-289">Only standard general-purpose storage accounts are currently supported.</span></span> <span data-ttu-id="e890c-290">In toekomstige hello Azure Premium-opslag ondersteund.</span><span class="sxs-lookup"><span data-stu-id="e890c-290">Azure Premium storage will be supported in hello future.</span></span>
- <span data-ttu-id="e890c-291">U kunt één opslagaccount opgeven met meerdere aangepaste VHD-blobs of meerdere opslagaccounts die elk één blob hebben.</span><span class="sxs-lookup"><span data-stu-id="e890c-291">You can specify one storage account with multiple custom VHD blobs or multiple storage accounts each having a single blob.</span></span> <span data-ttu-id="e890c-292">We raden u toouse meerdere opslagaccounts tooget een betere prestaties.</span><span class="sxs-lookup"><span data-stu-id="e890c-292">We recommend you toouse multiple storage accounts tooget a better performance.</span></span>
- <span data-ttu-id="e890c-293">Een unieke aangepaste installatiekopie VHD-blob kan ondersteunen too40 die Linux VM-exemplaren of 20 Windows VM-exemplaren.</span><span class="sxs-lookup"><span data-stu-id="e890c-293">One unique custom image VHD blob can support up too40 Linux VM instances or 20 Windows VM instances.</span></span> <span data-ttu-id="e890c-294">U moet toocreate kopieën van Hallo VHD-blob toocreate groepen met meer virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="e890c-294">You will need toocreate copies of hello VHD blob toocreate pools with more VMs.</span></span> <span data-ttu-id="e890c-295">Bijvoorbeeld: een pool met 200 VM's van Windows 10 unieke VHD-blobs opgegeven voor Hallo moet **osDisk** eigenschap.</span><span class="sxs-lookup"><span data-stu-id="e890c-295">For example, a pool with 200 Windows VMs needs 10 unique VHD blobs specified for hello **osDisk** property.</span></span>

<span data-ttu-id="e890c-296">toocreate een pool van een aangepaste installatiekopie met hello Azure-portal:</span><span class="sxs-lookup"><span data-stu-id="e890c-296">toocreate a pool from a custom image using hello Azure portal:</span></span>

1. <span data-ttu-id="e890c-297">Navigeer tooyour Batch-account in hello Azure-portal.</span><span class="sxs-lookup"><span data-stu-id="e890c-297">Navigate tooyour Batch account in hello Azure portal.</span></span>
2. <span data-ttu-id="e890c-298">Op Hallo **instellingen** blade, selecteer Hallo **Pools** menu-item.</span><span class="sxs-lookup"><span data-stu-id="e890c-298">On hello **Settings** blade, select hello **Pools** menu item.</span></span>
3. <span data-ttu-id="e890c-299">Op Hallo **Pools** blade, selecteer Hallo **toevoegen** opdracht; Hallo **van toepassingen toevoegen** blade wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="e890c-299">On hello **Pools** blade, select hello **Add** command; hello **Add pool** blade will be displayed.</span></span>
4. <span data-ttu-id="e890c-300">Selecteer **aangepaste installatiekopie (Linux/Windows)** van Hallo **afbeeldingstype** vervolgkeuzelijst.</span><span class="sxs-lookup"><span data-stu-id="e890c-300">Select **Custom Image (Linux/Windows)** from hello **Image Type** dropdown.</span></span> <span data-ttu-id="e890c-301">Hallo-portal wordt weergegeven Hallo **aangepaste installatiekopie** objectkiezer.</span><span class="sxs-lookup"><span data-stu-id="e890c-301">hello portal displays hello **Custom Image** picker.</span></span> <span data-ttu-id="e890c-302">Kies een of meer virtuele harde schijven van Hallo dezelfde container en klikt u op Hallo **Selecteer** knop.</span><span class="sxs-lookup"><span data-stu-id="e890c-302">Choose one or more VHDs from hello same container and click hello **Select** button.</span></span> 
    <span data-ttu-id="e890c-303">Ondersteuning voor meerdere VHD's van verschillende opslagaccounts en verschillende containers wordt in toekomstige hello toegevoegd.</span><span class="sxs-lookup"><span data-stu-id="e890c-303">Support for multiple VHDs from different storage accounts and different containers will be added in hello future.</span></span>
5. <span data-ttu-id="e890c-304">Selecteer Hallo juist **aanbieding-Publisher-Sku** voor uw aangepaste VHD's, selecteert u Hallo gewenst **opslaan in cache** modus en vul alle Hallo andere parameters voor het Hallo-groep.</span><span class="sxs-lookup"><span data-stu-id="e890c-304">Select hello correct **Publisher/Offer/Sku** for your custom VHDs, select hello desired **Caching** mode, then fill in all hello other parameters for hello pool.</span></span>
6. <span data-ttu-id="e890c-305">Als een groep is gebaseerd op een aangepaste installatiekopie Zie Hallo toocheck **besturingssysteem** eigenschap in Hallo resource samenvatting sectie Hallo **groep** blade.</span><span class="sxs-lookup"><span data-stu-id="e890c-305">toocheck if a pool is based on a custom image, see hello **Operating System** property in hello resource summary section of hello **Pool** blade.</span></span> <span data-ttu-id="e890c-306">Hallo-waarde van deze eigenschap moet **aangepaste VM-installatiekopie**.</span><span class="sxs-lookup"><span data-stu-id="e890c-306">hello value of this property should be **Custom VM image**.</span></span>
7. <span data-ttu-id="e890c-307">Alle aangepaste VHD's die zijn gekoppeld aan een groep worden weergegeven op van de pool Hallo **eigenschappen** blade.</span><span class="sxs-lookup"><span data-stu-id="e890c-307">All custom VHDs associated with a pool are displayed on hello pool's **Properties** blade.</span></span>

### <a name="compute-node-type-and-target-number-of-nodes"></a><span data-ttu-id="e890c-308">Type rekenknooppunt en beoogd aantal knooppunten</span><span class="sxs-lookup"><span data-stu-id="e890c-308">Compute node type and target number of nodes</span></span>

<span data-ttu-id="e890c-309">Wanneer u een pool maakt, kunt u opgeven welke rekenknooppunten u wilt en doelaantal Hallo voor elk.</span><span class="sxs-lookup"><span data-stu-id="e890c-309">When you create a pool, you can specify which types of compute nodes you want and hello target number for each.</span></span> <span data-ttu-id="e890c-310">rekenknooppunten Hello twee typen zijn:</span><span class="sxs-lookup"><span data-stu-id="e890c-310">hello two types of compute nodes are:</span></span>

- <span data-ttu-id="e890c-311">**Toegewezen rekenknooppunten.**</span><span class="sxs-lookup"><span data-stu-id="e890c-311">**Dedicated compute nodes.**</span></span> <span data-ttu-id="e890c-312">Toegewezen rekenknooppunten zijn gereserveerd voor uw workloads.</span><span class="sxs-lookup"><span data-stu-id="e890c-312">Dedicated compute nodes are reserved for your workloads.</span></span> <span data-ttu-id="e890c-313">Ze zijn duurder dan prioriteit Laag knooppunten, maar ze zijn gegarandeerd toonever afgebroken.</span><span class="sxs-lookup"><span data-stu-id="e890c-313">They are more expensive than low-priority nodes, but they are guaranteed toonever be preempted.</span></span>

- <span data-ttu-id="e890c-314">**Rekenknooppunten met lage prioriteit.**</span><span class="sxs-lookup"><span data-stu-id="e890c-314">**Low-priority compute nodes.**</span></span> <span data-ttu-id="e890c-315">Knooppunten met lage prioriteit te profiteren van de overtollige capaciteit in Azure toorun uw Batch-workloads.</span><span class="sxs-lookup"><span data-stu-id="e890c-315">Low-priority nodes take advantage of surplus capacity in Azure toorun your Batch workloads.</span></span> <span data-ttu-id="e890c-316">Knooppunten met lage prioriteit zijn minder duur per uur dan toegewezen knooppunten en maken workloads mogelijk met veel rekencapaciteit.</span><span class="sxs-lookup"><span data-stu-id="e890c-316">Low-priority nodes are less expensive per hour than dedicated nodes, and enable workloads requiring a lot of compute power.</span></span> <span data-ttu-id="e890c-317">Zie voor meer informatie [VM's met lage prioriteit gebruiken met Batch](batch-low-pri-vms.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-317">For more information, see [Use low-priority VMs with Batch](batch-low-pri-vms.md).</span></span>

    <span data-ttu-id="e890c-318">Rekenknooppunten met lage prioriteit kunnen worden verschoven wanneer Azure onvoldoende overtollige capaciteit heeft.</span><span class="sxs-lookup"><span data-stu-id="e890c-318">Low-priority compute nodes may be preempted when Azure has insufficient surplus capacity.</span></span> <span data-ttu-id="e890c-319">Als een knooppunt wordt afgebroken tijdens het uitvoeren van taken, zijn Hallo taken opnieuw en voer het opnieuw nadat een rekenknooppunt weer beschikbaar.</span><span class="sxs-lookup"><span data-stu-id="e890c-319">If a node is preempted while running tasks, hello tasks are requeued and run again once a compute node becomes available again.</span></span> <span data-ttu-id="e890c-320">Prioriteit Laag knooppunten zijn een goede optie voor werkbelastingen waarbij Hallo taak voltooiingstijd is flexibel en Hallo werk verdeeld over veel knooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-320">Low-priority nodes are a good option for workloads where hello job completion time is flexible and hello work is distributed across many nodes.</span></span> <span data-ttu-id="e890c-321">Voordat u toouse prioriteit Laag knooppunten voor uw scenario besluit, zorg ervoor dat er geen werk vanwege verloren toopreemption worden de minimale en eenvoudig toorecreate.</span><span class="sxs-lookup"><span data-stu-id="e890c-321">Before you decide toouse low-priority nodes for your scenario, make sure that any work lost due toopreemption will be minimal and easy toorecreate.</span></span>

    <span data-ttu-id="e890c-322">Prioriteit Laag rekenknooppunten zijn alleen beschikbaar voor Batch-accounts die zijn gemaakt met de Hallo groep toewijzing modus ingesteld te**Batch-Service**.</span><span class="sxs-lookup"><span data-stu-id="e890c-322">Low-priority compute nodes are available only for Batch accounts created with hello pool allocation mode set too**Batch Service**.</span></span>

<span data-ttu-id="e890c-323">U kunt beide prioriteit Laag en speciale rekenknooppunten hebben in Hallo dezelfde groep.</span><span class="sxs-lookup"><span data-stu-id="e890c-323">You can have both low-priority and dedicated compute nodes in hello same pool.</span></span> <span data-ttu-id="e890c-324">Elk type knooppunt &mdash; prioriteit Laag en speciale &mdash; heeft een eigen doel-instelling waarvoor u Hallo gewenst aantal knooppunten kunt opgeven.</span><span class="sxs-lookup"><span data-stu-id="e890c-324">Each type of node &mdash; low-priority and dedicated &mdash; has its own target setting, for which you can specify hello desired number of nodes.</span></span> 
    
<span data-ttu-id="e890c-325">Hallo aantal rekenknooppunten is waarnaar wordt verwezen tooas een *doel* omdat, in sommige situaties uw pool kan niet worden bereikt Hallo gewenst aantal knooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-325">hello number of compute nodes is referred tooas a *target* because, in some situations, your pool might not reach hello desired number of nodes.</span></span> <span data-ttu-id="e890c-326">Bijvoorbeeld een groep kan niet worden bereikt Hallo doel als het Hallo bereikt [kerngeheugenquotum](batch-quota-limit.md) voor uw Batch-account eerst.</span><span class="sxs-lookup"><span data-stu-id="e890c-326">For example, a pool might not achieve hello target if it reaches hello [core quota](batch-quota-limit.md) for your Batch account first.</span></span> <span data-ttu-id="e890c-327">Of Hallo van toepassingen mogelijk niet Hallo doel bereiken als u een automatische schaling hebt toegepast formule toohello van toepassingen die Hallo kunt u het maximum aantal knooppunten beperkt.</span><span class="sxs-lookup"><span data-stu-id="e890c-327">Or, hello pool might not achieve hello target if you have applied an auto-scaling formula toohello pool that limits hello maximum number of nodes.</span></span>

<span data-ttu-id="e890c-328">Zie [Batch-prijzen](https://azure.microsoft.com/pricing/details/batch/) voor informatie over prijzen voor rekenknooppunten met lage prioriteit en toegewezen rekenknooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-328">For pricing information for both low-priority and dedicated compute nodes, see [Batch Pricing](https://azure.microsoft.com/pricing/details/batch/).</span></span>

### <a name="size-of-hello-compute-nodes"></a><span data-ttu-id="e890c-329">Grootte van rekenknooppunten Hallo</span><span class="sxs-lookup"><span data-stu-id="e890c-329">Size of hello compute nodes</span></span>

<span data-ttu-id="e890c-330">De grootte van rekenknooppunten met **Cloud Services-configuratie** wordt vermeld in [Groottes voor Cloud Services](../cloud-services/cloud-services-sizes-specs.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-330">**Cloud Services Configuration** compute node sizes are listed in [Sizes for Cloud Services](../cloud-services/cloud-services-sizes-specs.md).</span></span> <span data-ttu-id="e890c-331">Batch ondersteunt Cloud Services van alle grootten met uitzondering van `ExtraSmall`, `STANDARD_A1_V2` en `STANDARD_A2_V2`.</span><span class="sxs-lookup"><span data-stu-id="e890c-331">Batch supports all Cloud Services sizes except `ExtraSmall`, `STANDARD_A1_V2`, and `STANDARD_A2_V2`.</span></span>

<span data-ttu-id="e890c-332">De grootte van rekenknooppunten met **virtuele-machineconfiguratie** wordt vermeld in [Groottes voor virtuele machines in Azure](../virtual-machines/linux/sizes.md) (Linux) en [Groottes voor virtuele machines in Azure](../virtual-machines/windows/sizes.md) (Windows).</span><span class="sxs-lookup"><span data-stu-id="e890c-332">**Virtual Machine Configuration** compute node sizes are listed in [Sizes for virtual machines in Azure](../virtual-machines/linux/sizes.md) (Linux) and [Sizes for virtual machines in Azure](../virtual-machines/windows/sizes.md) (Windows).</span></span> <span data-ttu-id="e890c-333">Batch ondersteunt alle Azure VM-groottes met uitzondering van `STANDARD_A0` en die met Premium Storage (de serie `STANDARD_GS`, `STANDARD_DS` en `STANDARD_DSV2`).</span><span class="sxs-lookup"><span data-stu-id="e890c-333">Batch supports all Azure VM sizes except `STANDARD_A0` and those with premium storage (`STANDARD_GS`, `STANDARD_DS`, and `STANDARD_DSV2` series).</span></span>

<span data-ttu-id="e890c-334">Als u de grootte van een compute-knooppunt, overweeg Hallo kenmerken en vereisten van Hallo toepassingen, u op Hallo knooppunten voert.</span><span class="sxs-lookup"><span data-stu-id="e890c-334">When selecting a compute node size, consider hello characteristics and requirements of hello applications you'll run on hello nodes.</span></span> <span data-ttu-id="e890c-335">Aspecten zoals of Hallo toepassing meerdere threads en hoeveel geheugen deze gebruikt, kunt bepalen Hallo meest geschikte en voordeligste knooppuntgrootte.</span><span class="sxs-lookup"><span data-stu-id="e890c-335">Aspects like whether hello application is multithreaded and how much memory it consumes can help determine hello most suitable and cost-effective node size.</span></span> <span data-ttu-id="e890c-336">Is het typische tooselect de grootte van een knooppunt ervan uitgaande dat één taak tegelijk op een knooppunt wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-336">It's typical tooselect a node size assuming one task will run on a node at a time.</span></span> <span data-ttu-id="e890c-337">Het is echter mogelijk toohave meerdere taken (en daarom meerdere exemplaren van een toepassing) [parallel worden uitgevoerd](batch-parallel-node-tasks.md) op rekenknooppunten tijdens het uitvoeren van de taak.</span><span class="sxs-lookup"><span data-stu-id="e890c-337">However, it is possible toohave multiple tasks (and therefore multiple application instances) [run in parallel](batch-parallel-node-tasks.md) on compute nodes during job execution.</span></span> <span data-ttu-id="e890c-338">In dit geval is het algemene toochoose een groter knooppunt grootte tooaccommodate Hallo toegenomen vraag van de uitvoering van parallelle taken.</span><span class="sxs-lookup"><span data-stu-id="e890c-338">In this case, it is common toochoose a larger node size tooaccommodate hello increased demand of parallel task execution.</span></span> <span data-ttu-id="e890c-339">Zie [Taak planningsbeleid](#task-scheduling-policy) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="e890c-339">See [Task scheduling policy](#task-scheduling-policy) for more information.</span></span>

<span data-ttu-id="e890c-340">Alle knooppunten in een pool Hallo zijn Hallo dezelfde grootte.</span><span class="sxs-lookup"><span data-stu-id="e890c-340">All of hello nodes in a pool are hello same size.</span></span> <span data-ttu-id="e890c-341">Als u van plan toorun toepassingen met verschillende systeemvereisten bent en/of workloadniveaus, raden wij aan dat u afzonderlijke pools.</span><span class="sxs-lookup"><span data-stu-id="e890c-341">If you intend toorun applications with differing system requirements and/or load levels, we recommend that you use separate pools.</span></span>

### <a name="scaling-policy"></a><span data-ttu-id="e890c-342">Beleid voor vergroten/verkleinen</span><span class="sxs-lookup"><span data-stu-id="e890c-342">Scaling policy</span></span>

<span data-ttu-id="e890c-343">Voor dynamische werkbelastingen kunt u schrijven en instellen dat een [formule voor automatisch schalen](#scaling-compute-resources) tooa van toepassingen.</span><span class="sxs-lookup"><span data-stu-id="e890c-343">For dynamic workloads, you can write and apply an [auto-scaling formula](#scaling-compute-resources) tooa pool.</span></span> <span data-ttu-id="e890c-344">Hallo Batch-service wordt periodiek evalueert de formule en past u Hallo aantal knooppunten binnen Hallo-groep op basis van verschillende pool, Jobs en taakparameters die u kunt opgeven.</span><span class="sxs-lookup"><span data-stu-id="e890c-344">hello Batch service periodically evaluates your formula and adjusts hello number of nodes within hello pool based on various pool, job, and task parameters that you can specify.</span></span>

### <a name="task-scheduling-policy"></a><span data-ttu-id="e890c-345">Taakplanningsbeleid</span><span class="sxs-lookup"><span data-stu-id="e890c-345">Task scheduling policy</span></span>

<span data-ttu-id="e890c-346">Hallo [maximum aantal taken per knooppunt](batch-parallel-node-tasks.md) configuratieoptie Hallo kunt u het maximum aantal taken dat parallel kan worden uitgevoerd op elk rekenknooppunt in Hallo pool bepaalt.</span><span class="sxs-lookup"><span data-stu-id="e890c-346">hello [max tasks per node](batch-parallel-node-tasks.md) configuration option determines hello maximum number of tasks that can be run in parallel on each compute node within hello pool.</span></span>

<span data-ttu-id="e890c-347">Hallo standaardconfiguratie bevat één taak tegelijk op een knooppunt wordt uitgevoerd, maar er zijn er twee of meer taken gelijktijdig uitgevoerd op een knooppunt zijn scenario's waarin het nuttig toohave.</span><span class="sxs-lookup"><span data-stu-id="e890c-347">hello default configuration specifies that one task at a time runs on a node, but there are scenarios where it is beneficial toohave two or more tasks executed on a node simultaneously.</span></span> <span data-ttu-id="e890c-348">Zie Hallo [voorbeeldscenario](batch-parallel-node-tasks.md#example-scenario) in Hallo [knooppunt gelijktijdige taken](batch-parallel-node-tasks.md) artikel toosee hoe u van meerdere taken per knooppunt profiteren kunt.</span><span class="sxs-lookup"><span data-stu-id="e890c-348">See hello [example scenario](batch-parallel-node-tasks.md#example-scenario) in hello [concurrent node tasks](batch-parallel-node-tasks.md) article toosee how you can benefit from multiple tasks per node.</span></span>

<span data-ttu-id="e890c-349">U kunt ook opgeven een *opvultype* die bepaalt of Batch Hallo taken gelijkmatig verspreid over alle knooppunten in een pool of elk knooppunt met het maximum aantal taken Hallo packs alvorens taken tooanother knooppunt toe te wijzen.</span><span class="sxs-lookup"><span data-stu-id="e890c-349">You can also specify a *fill type* which determines whether Batch spreads hello tasks evenly across all nodes in a pool, or packs each node with hello maximum number of tasks before assigning tasks tooanother node.</span></span>

### <a name="communication-status-for-compute-nodes"></a><span data-ttu-id="e890c-350">Communicatiestatus voor rekenknooppunten</span><span class="sxs-lookup"><span data-stu-id="e890c-350">Communication status for compute nodes</span></span>

<span data-ttu-id="e890c-351">In de meeste gevallen taken onafhankelijk functioneren en hoeft niet toocommunicate met elkaar.</span><span class="sxs-lookup"><span data-stu-id="e890c-351">In most scenarios, tasks operate independently and do not need toocommunicate with one another.</span></span> <span data-ttu-id="e890c-352">Maar mogelijk hebt u ook toepassingen waarin taken moeten communiceren, bijvoorbeeld [MPI-scenario's](batch-mpi.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-352">However, there are some applications in which tasks must communicate, like [MPI scenarios](batch-mpi.md).</span></span>

<span data-ttu-id="e890c-353">U kunt een pool tooallow **communicatie tussen knooppunten**, zodat de knooppunten in een pool tijdens runtime kunnen communiceren.</span><span class="sxs-lookup"><span data-stu-id="e890c-353">You can configure a pool tooallow **internode communication**, so that nodes within a pool can communicate at runtime.</span></span> <span data-ttu-id="e890c-354">Wanneer communicatie tussen knooppunten is ingeschakeld, kunnen knooppunten in de configuratie voor Cloud Services-pools met elkaar communiceren op poorten die groter zijn dan 1100. Voor virtuele-machineconfiguratiepools is verkeer op geen enkele poort beperkt.</span><span class="sxs-lookup"><span data-stu-id="e890c-354">When internode communication is enabled, nodes in Cloud Services Configuration pools can communicate with each other on ports greater than 1100, and Virtual Machine Configuration pools do not restrict traffic on any port.</span></span>

<span data-ttu-id="e890c-355">Vergeet niet dat het inschakelen van communicatie tussen knooppunten ook heeft impact op Hallo plaatsing van Hallo knooppunten binnen clusters en Hallo kunt u het maximum aantal knooppunten in een pool vanwege beperkingen voor implementatie beperkt mogelijk.</span><span class="sxs-lookup"><span data-stu-id="e890c-355">Note that enabling internode communication also impacts hello placement of hello nodes within clusters and might limit hello maximum number of nodes in a pool because of deployment restrictions.</span></span> <span data-ttu-id="e890c-356">Als uw toepassing geen communicatie tussen knooppunten is vereist, Hallo Batch-service kan worden toegewezen een potentieel grote aantal knooppunten toohello toepassingen vanuit vele verschillende clusters en datacenters tooenable meer parallelle verwerkingskracht.</span><span class="sxs-lookup"><span data-stu-id="e890c-356">If your application does not require communication between nodes, hello Batch service can allocate a potentially large number of nodes toohello pool from many different clusters and datacenters tooenable increased parallel processing power.</span></span>

### <a name="start-tasks-for-compute-nodes"></a><span data-ttu-id="e890c-357">Begintaken voor rekenknooppunten</span><span class="sxs-lookup"><span data-stu-id="e890c-357">Start tasks for compute nodes</span></span>

<span data-ttu-id="e890c-358">Hallo optionele *begintaak* wordt op elk knooppunt worden uitgevoerd zoals u dat knooppunt aan Hallo-pool wordt toegevoegd en telkens wanneer een knooppunt opnieuw wordt opgestart of hersteld met een installatiekopie.</span><span class="sxs-lookup"><span data-stu-id="e890c-358">hello optional *start task* executes on each node as that node joins hello pool, and each time a node is restarted or reimaged.</span></span> <span data-ttu-id="e890c-359">Hallo begintaak is vooral nuttig voor het voorbereiden van rekenknooppunten voor uitvoering van taken, zoals het installeren van Hallo-toepassingen die de taken worden uitgevoerd op rekenknooppunten Hallo Hallo.</span><span class="sxs-lookup"><span data-stu-id="e890c-359">hello start task is especially useful for preparing compute nodes for hello execution of tasks, like installing hello applications that your tasks run on hello compute nodes.</span></span>

### <a name="application-packages"></a><span data-ttu-id="e890c-360">Toepassingspakketten</span><span class="sxs-lookup"><span data-stu-id="e890c-360">Application packages</span></span>

<span data-ttu-id="e890c-361">U kunt opgeven [toepassingspakketten](#application-packages) toodeploy toohello rekenknooppunten in Hallo van toepassingen.</span><span class="sxs-lookup"><span data-stu-id="e890c-361">You can specify [application packages](#application-packages) toodeploy toohello compute nodes in hello pool.</span></span> <span data-ttu-id="e890c-362">Toepassingspakketten biedt vereenvoudigde implementatie en versiebeheer van Hallo-toepassingen die de taken worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-362">Application packages provide simplified deployment and versioning of hello applications that your tasks run.</span></span> <span data-ttu-id="e890c-363">Toepassingspakketten die u voor een groep van toepassingen opgeeft, worden geïnstalleerd op elk knooppunt dat lid wordt van de groep, en elke keer dat er een knooppunt opnieuw wordt opgestart of er een installatiekopie wordt hersteld.</span><span class="sxs-lookup"><span data-stu-id="e890c-363">Application packages that you specify for a pool are installed on every node that joins that pool, and every time a node is rebooted or reimaged.</span></span>

> [!NOTE]
> <span data-ttu-id="e890c-364">Toepassingspakketten worden ondersteund in alle Batch-pools die na 5 juli 2017 zijn gemaakt.</span><span class="sxs-lookup"><span data-stu-id="e890c-364">Application packages are supported on all Batch pools created after 5 July 2017.</span></span> <span data-ttu-id="e890c-365">Ze worden ondersteund in de Batch-pools tussen 10 maart 2016 en 5 juli 2017 alleen gemaakt als Hallo-groep is gemaakt met behulp van de configuratie van een Service in de Cloud.</span><span class="sxs-lookup"><span data-stu-id="e890c-365">They are supported on Batch pools created between 10 March 2016 and 5 July 2017 only if hello pool was created using a Cloud Service configuration.</span></span> <span data-ttu-id="e890c-366">Batch-pools gemaakt voorafgaande too10 maart 2016 bieden geen ondersteuning voor toepassingspakketten.</span><span class="sxs-lookup"><span data-stu-id="e890c-366">Batch pools created prior too10 March 2016 do not support application packages.</span></span> <span data-ttu-id="e890c-367">Zie voor meer informatie over het gebruik van de toepassing toodeploy uw toepassingen tooyour Batch knooppunten pakketten, [implementeren van toepassingen toocompute knooppunten met Batch-toepassingspakketten](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-367">For more information about using application packages toodeploy your applications tooyour Batch nodes, see [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>
>
>

### <a name="network-configuration"></a><span data-ttu-id="e890c-368">Netwerkconfiguratie</span><span class="sxs-lookup"><span data-stu-id="e890c-368">Network configuration</span></span>

<span data-ttu-id="e890c-369">U kunt opgeven dat Hallo subnet van een Azure [virtueel netwerk (VNet)](../virtual-network/virtual-networks-overview.md) aan van welke groep Hallo compute knooppunten moeten worden gemaakt.</span><span class="sxs-lookup"><span data-stu-id="e890c-369">You can specify hello subnet of an Azure [virtual network (VNet)](../virtual-network/virtual-networks-overview.md) in which hello pool's compute nodes should be created.</span></span> <span data-ttu-id="e890c-370">Zie Hallo [groep netwerkconfiguratie](#pool-network-configuration) sectie voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="e890c-370">See hello [Pool network configuration](#pool-network-configuration) section for more information.</span></span>


## <a name="job"></a><span data-ttu-id="e890c-371">Job</span><span class="sxs-lookup"><span data-stu-id="e890c-371">Job</span></span>
<span data-ttu-id="e890c-372">Een job is een verzameling taken.</span><span class="sxs-lookup"><span data-stu-id="e890c-372">A job is a collection of tasks.</span></span> <span data-ttu-id="e890c-373">Hiermee kunt beheren hoe een berekening wordt uitgevoerd door de taken op Hallo van rekenknooppunten in een pool.</span><span class="sxs-lookup"><span data-stu-id="e890c-373">It manages how computation is performed by its tasks on hello compute nodes in a pool.</span></span>

* <span data-ttu-id="e890c-374">Hallo job bepaalt Hallo **groep** in welke Hallo werk toobe uitgevoerd wordt.</span><span class="sxs-lookup"><span data-stu-id="e890c-374">hello job specifies hello **pool** in which hello work is toobe run.</span></span> <span data-ttu-id="e890c-375">U kunt voor elke job een nieuwe pool maken of één groep gebruiken voor een groot aantal jobs.</span><span class="sxs-lookup"><span data-stu-id="e890c-375">You can create a new pool for each job, or use one pool for many jobs.</span></span> <span data-ttu-id="e890c-376">U kunt een pool maken voor elke job die aan een jobplanning is gekoppeld, maar ook voor alle jobs die aan een jobplanning zijn gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="e890c-376">You can create a pool for each job that is associated with a job schedule, or for all jobs that are associated with a job schedule.</span></span>
* <span data-ttu-id="e890c-377">U kunt desgewenst een **jobprioriteit** opgeven.</span><span class="sxs-lookup"><span data-stu-id="e890c-377">You can specify an optional **job priority**.</span></span> <span data-ttu-id="e890c-378">Wanneer een taak wordt verzonden met een hogere prioriteit dan de taken die momenteel uitgevoerd worden, worden Hallo taken voor Hallo hogere prioriteit job ingevoegd in de wachtrij Hallo tevoren taken voor Hallo lagere prioriteit taken.</span><span class="sxs-lookup"><span data-stu-id="e890c-378">When a job is submitted with a higher priority than jobs that are currently in progress, hello tasks for hello higher-priority job are inserted into hello queue ahead of tasks for hello lower-priority jobs.</span></span> <span data-ttu-id="e890c-379">Taken met lagere prioriteit die al worden uitgevoerd, kunnen niet worden verschoven.</span><span class="sxs-lookup"><span data-stu-id="e890c-379">Tasks in lower-priority jobs that are already running are not preempted.</span></span>
* <span data-ttu-id="e890c-380">U kunt taak **beperkingen** toospecify bepaalde limieten aan uw taken:</span><span class="sxs-lookup"><span data-stu-id="e890c-380">You can use job **constraints** toospecify certain limits for your jobs:</span></span>

    <span data-ttu-id="e890c-381">U kunt instellen een **maximale kloktijd**, zodat als een taak wordt uitgevoerd langer dan Hallo maximale kloktijd die is opgegeven, Hallo taak en alle bijbehorende taken zijn beëindigd.</span><span class="sxs-lookup"><span data-stu-id="e890c-381">You can set a **maximum wallclock time**, so that if a job runs for longer than hello maximum wallclock time that is specified, hello job and all of its tasks are terminated.</span></span>

    <span data-ttu-id="e890c-382">Batch kan dit detecteren en vervolgens de mislukte taken opnieuw uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="e890c-382">Batch can detect and then retry failed tasks.</span></span> <span data-ttu-id="e890c-383">U kunt opgeven dat Hallo **maximum aantal pogingen** als een beperking, met inbegrip van of de taak wordt *altijd* of *nooit* opnieuw geprobeerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-383">You can specify hello **maximum number of task retries** as a constraint, including whether a task is *always* or *never* retried.</span></span> <span data-ttu-id="e890c-384">Een taak opnieuw wordt geprobeerd betekent die taak Hallo opnieuw toobe opnieuw uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="e890c-384">Retrying a task means that hello task is requeued toobe run again.</span></span>
* <span data-ttu-id="e890c-385">De clienttoepassing taken tooa taak kunt toevoegen, of kunt u een [jobbeheertaak](#job-manager-task).</span><span class="sxs-lookup"><span data-stu-id="e890c-385">Your client application can add tasks tooa job, or you can specify a [job manager task](#job-manager-task).</span></span> <span data-ttu-id="e890c-386">Een jobbeheertaak Hallo-informatie die nodig toocreate Hallo vereiste taken voor een taak bevat, met Hallo jobbeheertaak wordt uitgevoerd op een Hallo rekenknooppunten in Hallo van toepassingen.</span><span class="sxs-lookup"><span data-stu-id="e890c-386">A job manager task contains hello information that is necessary toocreate hello required tasks for a job, with hello job manager task being run on one of hello compute nodes in hello pool.</span></span> <span data-ttu-id="e890c-387">Hallo jobbeheertaak wordt verwerkt specifiek door Batch--het zich in de wachtrij als Hallo-taak wordt gemaakt en opnieuw wordt opgestart als deze uitvalt.</span><span class="sxs-lookup"><span data-stu-id="e890c-387">hello job manager task is handled specifically by Batch--it is queued as soon as hello job is created, and is restarted if it fails.</span></span> <span data-ttu-id="e890c-388">Een jobbeheertaak is *vereist* voor taken die zijn gemaakt door een [taakschema](#scheduled-jobs) omdat het Hallo alleen manier toodefine Hallo taken voordat Hallo job wordt geïnstantieerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-388">A job manager task is *required* for jobs that are created by a [job schedule](#scheduled-jobs) because it is hello only way toodefine hello tasks before hello job is instantiated.</span></span>
* <span data-ttu-id="e890c-389">Standaard blijven taken in de actieve status Hallo wanneer alle taken in Hallo job voltooid zijn.</span><span class="sxs-lookup"><span data-stu-id="e890c-389">By default, jobs remain in hello active state when all tasks within hello job are complete.</span></span> <span data-ttu-id="e890c-390">U kunt dit gedrag wijzigen zodat hello taak wordt automatisch beëindigd wanneer alle taken in Hallo job voltooid zijn.</span><span class="sxs-lookup"><span data-stu-id="e890c-390">You can change this behavior so that hello job is automatically terminated when all tasks in hello job are complete.</span></span> <span data-ttu-id="e890c-391">Set Hallo taak **onAllTasksComplete** eigenschap ([OnAllTasksComplete] [ net_onalltaskscomplete] in Batch .NET) te*terminatejob* tooautomatically Hallo taak beëindigen wanneer alle taken voltooid Hallo status heeft zijn.</span><span class="sxs-lookup"><span data-stu-id="e890c-391">Set hello job's **onAllTasksComplete** property ([OnAllTasksComplete][net_onalltaskscomplete] in Batch .NET) too*terminatejob* tooautomatically terminate hello job when all of its tasks are in hello completed state.</span></span>

    <span data-ttu-id="e890c-392">Houd er rekening mee dat Hallo Batch-service een taak met acht *geen* taken toohave alle taken worden voltooid.</span><span class="sxs-lookup"><span data-stu-id="e890c-392">Note that hello Batch service considers a job with *no* tasks toohave all of its tasks completed.</span></span> <span data-ttu-id="e890c-393">Daarom wordt deze optie meestal gebruikt met een [Jobbeheertaak](#job-manager-task).</span><span class="sxs-lookup"><span data-stu-id="e890c-393">Therefore, this option is most commonly used with a [job manager task](#job-manager-task).</span></span> <span data-ttu-id="e890c-394">Als u wilt dat toouse automatische taak beëindiging zonder een job manager, moet u in eerste instantie van een nieuwe taak instellen **onAllTasksComplete** eigenschap te*noaction*, te stellen*terminatejob* alleen als u klaar bent met het toevoegen van taken toohello taak.</span><span class="sxs-lookup"><span data-stu-id="e890c-394">If you want toouse automatic job termination without a job manager, you should initially set a new job's **onAllTasksComplete** property too*noaction*, then set it too*terminatejob* only after you've finished adding tasks toohello job.</span></span>

### <a name="job-priority"></a><span data-ttu-id="e890c-395">Jobprioriteit</span><span class="sxs-lookup"><span data-stu-id="e890c-395">Job priority</span></span>
<span data-ttu-id="e890c-396">U kunt een prioriteit toojobs die u in Batch maakt toewijzen.</span><span class="sxs-lookup"><span data-stu-id="e890c-396">You can assign a priority toojobs that you create in Batch.</span></span> <span data-ttu-id="e890c-397">Hallo Batch-service gebruikt Hallo prioriteitswaarde Hallo taak toodetermine Hallo volgorde van de jobplanning binnen een account (dit is geen toobe verward met een [geplande taak](#scheduled-jobs)).</span><span class="sxs-lookup"><span data-stu-id="e890c-397">hello Batch service uses hello priority value of hello job toodetermine hello order of job scheduling within an account (this is not toobe confused with a [scheduled job](#scheduled-jobs)).</span></span> <span data-ttu-id="e890c-398">Hallo prioriteitswaarden variëren van-1000 too1000, met-1000 Hallo laagste prioriteit en 1000 Hallo hoogste.</span><span class="sxs-lookup"><span data-stu-id="e890c-398">hello priority values range from -1000 too1000, with -1000 being hello lowest priority and 1000 being hello highest.</span></span> <span data-ttu-id="e890c-399">tooupdate hello prioriteit van een taak, aanroep Hallo [Hallo eigenschappen van een job bijwerken] [ rest_update_job] bewerking (Batch REST), of wijzig Hallo [CloudJob.Priority] [ net_cloudjob_priority] eigenschap (Batch .NET).</span><span class="sxs-lookup"><span data-stu-id="e890c-399">tooupdate hello priority of a job, call hello [Update hello properties of a job][rest_update_job] operation (Batch REST), or modify hello [CloudJob.Priority][net_cloudjob_priority] property (Batch .NET).</span></span>

<span data-ttu-id="e890c-400">Binnen Hallo dezelfde account, hogere prioriteit taken planningsvoorrang op taken met lagere prioriteit.</span><span class="sxs-lookup"><span data-stu-id="e890c-400">Within hello same account, higher-priority jobs have scheduling precedence over lower-priority jobs.</span></span> <span data-ttu-id="e890c-401">Een job met hogere prioriteit in het ene account heeft geen planningsvoorrang op een andere job met een lagere prioriteitswaarde in een ander account.</span><span class="sxs-lookup"><span data-stu-id="e890c-401">A job with a higher-priority value in one account does not have scheduling precedence over another job with a lower-priority value in a different account.</span></span>

<span data-ttu-id="e890c-402">De jobplanning tussen pools verloopt onafhankelijk.</span><span class="sxs-lookup"><span data-stu-id="e890c-402">Job scheduling across pools is independent.</span></span> <span data-ttu-id="e890c-403">Tussen verschillende pools is er geen garantie dat een job met hogere prioriteit eerst wordt gepland als de gekoppelde pool over te weinig niet-actieve knooppunten beschikt.</span><span class="sxs-lookup"><span data-stu-id="e890c-403">Between different pools, it is not guaranteed that a higher-priority job is scheduled first if its associated pool is short of idle nodes.</span></span> <span data-ttu-id="e890c-404">In Hallo dezelfde groep taken Hello dezelfde prioriteit evenveel kans om gepland hebben.</span><span class="sxs-lookup"><span data-stu-id="e890c-404">In hello same pool, jobs with hello same priority level have an equal chance of being scheduled.</span></span>

### <a name="scheduled-jobs"></a><span data-ttu-id="e890c-405">Geplande jobs</span><span class="sxs-lookup"><span data-stu-id="e890c-405">Scheduled jobs</span></span>
<span data-ttu-id="e890c-406">[Taak planningen] [ rest_job_schedules] kunt u toocreate terugkerende taken binnen Hallo Batch-service.</span><span class="sxs-lookup"><span data-stu-id="e890c-406">[Job schedules][rest_job_schedules] enable you toocreate recurring jobs within hello Batch service.</span></span> <span data-ttu-id="e890c-407">Een jobplanning geeft aan wanneer toorun taken en bevat Hallo specificaties voor Hallo taken toobe uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="e890c-407">A job schedule specifies when toorun jobs and includes hello specifications for hello jobs toobe run.</span></span> <span data-ttu-id="e890c-408">U Hallo duur van het schema Hallo--kunt opgeven hoe lang en wanneer Hallo planning--actief is en hoe vaak de taken worden gemaakt tijdens het Hallo geplande periode.</span><span class="sxs-lookup"><span data-stu-id="e890c-408">You can specify hello duration of hello schedule--how long and when hello schedule is in effect--and how frequently jobs are created during hello scheduled period.</span></span>

## <a name="task"></a><span data-ttu-id="e890c-409">Taak</span><span class="sxs-lookup"><span data-stu-id="e890c-409">Task</span></span>
<span data-ttu-id="e890c-410">Een taak is een rekeneenheid die aan een job is gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="e890c-410">A task is a unit of computation that is associated with a job.</span></span> <span data-ttu-id="e890c-411">Deze wordt uitgevoerd op een knooppunt.</span><span class="sxs-lookup"><span data-stu-id="e890c-411">It runs on a node.</span></span> <span data-ttu-id="e890c-412">Taken tooa knooppunt voor uitvoering zijn toegewezen, of tot een knooppunt beschikbaar in de wachtrij staan.</span><span class="sxs-lookup"><span data-stu-id="e890c-412">Tasks are assigned tooa node for execution, or are queued until a node becomes free.</span></span> <span data-ttu-id="e890c-413">Eenvoudig gesteld: een taak wordt uitgevoerd een of meer programma's of scripts op een compute knooppunt tooperform Hallo werk die u nodig hebt.</span><span class="sxs-lookup"><span data-stu-id="e890c-413">Put simply, a task runs one or more programs or scripts on a compute node tooperform hello work you need done.</span></span>

<span data-ttu-id="e890c-414">Wanneer u een taak maakt, kunt u het volgende opgeven:</span><span class="sxs-lookup"><span data-stu-id="e890c-414">When you create a task, you can specify:</span></span>

* <span data-ttu-id="e890c-415">Hallo **opdrachtregel** voor Hallo-taak.</span><span class="sxs-lookup"><span data-stu-id="e890c-415">hello **command line** for hello task.</span></span> <span data-ttu-id="e890c-416">Dit is Hallo-opdrachtregel die uw toepassing of het script op Hallo rekenknooppunt uitvoert.</span><span class="sxs-lookup"><span data-stu-id="e890c-416">This is hello command line that runs your application or script on hello compute node.</span></span>

    <span data-ttu-id="e890c-417">Het is belangrijk toonote die vanaf de opdrachtregel Hallo niet daadwerkelijk wordt uitgevoerd onder een shell.</span><span class="sxs-lookup"><span data-stu-id="e890c-417">It is important toonote that hello command line does not actually run under a shell.</span></span> <span data-ttu-id="e890c-418">Daarom deze kan niet systeemeigen kan profiteren van shellfuncties zoals [omgevingsvariabele](#environment-settings-for-tasks) uitbreiding (dit omvat Hallo `PATH`).</span><span class="sxs-lookup"><span data-stu-id="e890c-418">Therefore, it cannot natively take advantage of shell features like [environment variable](#environment-settings-for-tasks) expansion (this includes hello `PATH`).</span></span> <span data-ttu-id="e890c-419">tootake profiteren van deze functies, u moet aanroepen Hallo-shell op de opdrachtregel Hallo--bijvoorbeeld beschadigt door `cmd.exe` op Windows-knooppunten of `/bin/sh` op Linux:</span><span class="sxs-lookup"><span data-stu-id="e890c-419">tootake advantage of such features, you must invoke hello shell in hello command line--for example, by launching `cmd.exe` on Windows nodes or `/bin/sh` on Linux:</span></span>

    `cmd /c MyTaskApplication.exe %MY_ENV_VAR%`

    `/bin/sh -c MyTaskApplication $MY_ENV_VAR`

    <span data-ttu-id="e890c-420">Als uw taken toorun moeten een toepassing of het script dat zich niet in het knooppunt Hallo `PATH` of verwijzen naar omgevingsvariabelen, roepen Hallo shell expliciet in Hallo taak vanaf de opdrachtregel.</span><span class="sxs-lookup"><span data-stu-id="e890c-420">If your tasks need toorun an application or script that is not in hello node's `PATH` or reference environment variables, invoke hello shell explicitly in hello task command line.</span></span>
* <span data-ttu-id="e890c-421">**Bronbestanden** die Hallo gegevens toobe verwerkt bevatten.</span><span class="sxs-lookup"><span data-stu-id="e890c-421">**Resource files** that contain hello data toobe processed.</span></span> <span data-ttu-id="e890c-422">Deze bestanden worden automatisch gekopieerd toohello knooppunt van Blob storage in een algemeen Azure Storage-account voordat de opdrachtregel van Hallo taak wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-422">These files are automatically copied toohello node from Blob storage in a general-purpose Azure Storage account before hello task's command line is executed.</span></span> <span data-ttu-id="e890c-423">Zie voor meer informatie, Hallo secties [begintaak](#start-task) en [bestanden en mappen](#files-and-directories).</span><span class="sxs-lookup"><span data-stu-id="e890c-423">For more information, see hello sections [Start task](#start-task) and [Files and directories](#files-and-directories).</span></span>
* <span data-ttu-id="e890c-424">Hallo **omgevingsvariabelen** die worden vereist door uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="e890c-424">hello **environment variables** that are required by your application.</span></span> <span data-ttu-id="e890c-425">Zie voor meer informatie, Hallo [omgevingsinstellingen voor taken](#environment-settings-for-tasks) sectie.</span><span class="sxs-lookup"><span data-stu-id="e890c-425">For more information, see hello [Environment settings for tasks](#environment-settings-for-tasks) section.</span></span>
* <span data-ttu-id="e890c-426">Hallo **beperkingen** onder welke Hallo taak moet worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-426">hello **constraints** under which hello task should execute.</span></span> <span data-ttu-id="e890c-427">Beperkingen zijn bijvoorbeeld Hallo maximumtijd die taak Hallo toorun, Hallo kunt u het maximum aantal keren dat een mislukte taak moet opnieuw worden geprobeerd, is toegestaan en Hallo maximum tijd die bestanden in de werkmap van de taak Hallo worden bewaard.</span><span class="sxs-lookup"><span data-stu-id="e890c-427">For example, constraints include hello maximum time that hello task is allowed toorun, hello maximum number of times a failed task should be retried, and hello maximum time that files in hello task's working directory are retained.</span></span>
* <span data-ttu-id="e890c-428">**Toepassingspakketten** toodeploy toohello-rekenknooppunt op welke Hallo taak geplande toorun is.</span><span class="sxs-lookup"><span data-stu-id="e890c-428">**Application packages** toodeploy toohello compute node on which hello task is scheduled toorun.</span></span> <span data-ttu-id="e890c-429">[Toepassingspakketten](#application-packages) bieden vereenvoudigde implementatie en versiebeheer van Hallo-toepassingen die de taken worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-429">[Application packages](#application-packages) provide simplified deployment and versioning of hello applications that your tasks run.</span></span> <span data-ttu-id="e890c-430">Taak niveau toepassingspakketten zijn vooral nuttig in de gedeelde groep omgevingen, waarbij verschillende taken worden uitgevoerd op één groep en het Hallo-groep is niet verwijderd wanneer een taak is voltooid.</span><span class="sxs-lookup"><span data-stu-id="e890c-430">Task-level application packages are especially useful in shared-pool environments, where different jobs are run on one pool, and hello pool is not deleted when a job is completed.</span></span> <span data-ttu-id="e890c-431">Als uw project minder taken dan knooppunten in de groep hello heeft, minimaliseren taak toepassingspakketten gegevensoverdracht sinds de toepassing is geïmplementeerd alleen toohello knooppunten die taken uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="e890c-431">If your job has fewer tasks than nodes in hello pool, task application packages can minimize data transfer since your application is deployed only toohello nodes that run tasks.</span></span>

<span data-ttu-id="e890c-432">Bovendien tootasks u tooperform berekeningen definiëren op een knooppunt, Hallo volgende speciale taken worden ook geleverd door Hallo Batch-service:</span><span class="sxs-lookup"><span data-stu-id="e890c-432">In addition tootasks you define tooperform computation on a node, hello following special tasks are also provided by hello Batch service:</span></span>

* [<span data-ttu-id="e890c-433">Begintaak</span><span class="sxs-lookup"><span data-stu-id="e890c-433">Start task</span></span>](#start-task)
* [<span data-ttu-id="e890c-434">Jobbeheertaak</span><span class="sxs-lookup"><span data-stu-id="e890c-434">Job manager task</span></span>](#job-manager-task)
* [<span data-ttu-id="e890c-435">Jobvoorbereidingstaken en jobvrijgevingstaken</span><span class="sxs-lookup"><span data-stu-id="e890c-435">Job preparation and release tasks</span></span>](#job-preparation-and-release-tasks)
* [<span data-ttu-id="e890c-436">Taken met meerdere instanties (MPI)</span><span class="sxs-lookup"><span data-stu-id="e890c-436">Multi-instance tasks (MPI)</span></span>](#multi-instance-tasks)
* [<span data-ttu-id="e890c-437">Taakafhankelijkheden</span><span class="sxs-lookup"><span data-stu-id="e890c-437">Task dependencies</span></span>](#task-dependencies)

### <a name="start-task"></a><span data-ttu-id="e890c-438">Begintaak</span><span class="sxs-lookup"><span data-stu-id="e890c-438">Start task</span></span>
<span data-ttu-id="e890c-439">Door het koppelen van een **begintaak** aan een pool Hallo besturingsomgeving van de knooppunten ervan kan worden voorbereid.</span><span class="sxs-lookup"><span data-stu-id="e890c-439">By associating a **start task** with a pool, you can prepare hello operating environment of its nodes.</span></span> <span data-ttu-id="e890c-440">U kunt bijvoorbeeld bewerkingen zoals het installeren van Hallo-toepassingen die de taken worden uitgevoerd of het starten van achtergrondprocessen uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="e890c-440">For example, you can perform actions like installing hello applications that your tasks run or starting background processes.</span></span> <span data-ttu-id="e890c-441">Hallo begintaak wordt uitgevoerd telkens wanneer een knooppunt wordt gestart, voor zolang deze in de groep Hallo blijft--inclusief als Hallo-knooppunt wordt eerst toegevoegd toohello pool en wordt opnieuw opgestart of hersteld met een installatiekopie.</span><span class="sxs-lookup"><span data-stu-id="e890c-441">hello start task runs every time a node starts, for as long as it remains in hello pool--including when hello node is first added toohello pool and when it is restarted or reimaged.</span></span>

<span data-ttu-id="e890c-442">Een belangrijk voordeel van de begintaak Hallo is het kan alle Hallo-informatie die nodig zijn tooconfigure een rekenknooppunt bevatten en Hallo toepassingen installeren die vereist voor de uitvoering van de taak zijn.</span><span class="sxs-lookup"><span data-stu-id="e890c-442">A primary benefit of hello start task is that it can contain all of hello information that is necessary tooconfigure a compute node and install hello applications that are required for task execution.</span></span> <span data-ttu-id="e890c-443">Daarom is het zo eenvoudig hello nieuw doelaantal knooppunten geven Hallo aantal knooppunten in een pool te verhogen.</span><span class="sxs-lookup"><span data-stu-id="e890c-443">Therefore, increasing hello number of nodes in a pool is as simple as specifying hello new target node count.</span></span> <span data-ttu-id="e890c-444">Hallo begintaak bevat Hallo Batch-service Hallo informatie die is vereist tooconfigure Hallo nieuwe knooppunten en ze gereed zijn voor het accepteren van taken.</span><span class="sxs-lookup"><span data-stu-id="e890c-444">hello start task provides hello Batch service hello information that is needed tooconfigure hello new nodes and get them ready for accepting tasks.</span></span>

<span data-ttu-id="e890c-445">Als met een Azure Batch-taak, kunt u een lijst met **bronbestanden** in [Azure Storage][azure_storage], Daarnaast tooa **opdrachtregel** toobe uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-445">As with any Azure Batch task, you can specify a list of **resource files** in [Azure Storage][azure_storage], in addition tooa **command line** toobe executed.</span></span> <span data-ttu-id="e890c-446">Hallo Batch-service eerst bestanden Hallo-toohello bronknooppunt opgehaald uit Azure Storage en Hallo vanaf de opdrachtregel wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-446">hello Batch service first copies hello resource files toohello node from Azure Storage, and then runs hello command line.</span></span> <span data-ttu-id="e890c-447">Voor een begintaak van toepassingen bevat Hallo bestandenlijst meestal Hallo taaktoepassing en de bijbehorende afhankelijkheden.</span><span class="sxs-lookup"><span data-stu-id="e890c-447">For a pool start task, hello file list typically contains hello task application and its dependencies.</span></span>

<span data-ttu-id="e890c-448">Hallo begintaak kan echter ook verwijzing gegevens toobe gebruikt door alle taken die worden uitgevoerd op het rekenknooppunt Hallo.</span><span class="sxs-lookup"><span data-stu-id="e890c-448">However, hello start task could also include reference data toobe used by all tasks that are running on hello compute node.</span></span> <span data-ttu-id="e890c-449">Bijvoorbeeld, een begintaak opdrachtregel kan uitvoeren een `robocopy` bewerking toocopy toepassingsbestanden (die zijn opgegeven als bronbestanden en gedownload toohello knooppunt) van Hallo begintaak van [werkmap](#files-and-directories) toohello [gedeelde map](#files-and-directories), en voer vervolgens een MSI of `setup.exe`.</span><span class="sxs-lookup"><span data-stu-id="e890c-449">For example, a start task's command line could perform a `robocopy` operation toocopy application files (which were specified as resource files and downloaded toohello node) from hello start task's [working directory](#files-and-directories) toohello [shared folder](#files-and-directories), and then run an MSI or `setup.exe`.</span></span>

<span data-ttu-id="e890c-450">Het is doorgaans wenselijk Hallo Batch-service toowait voor Hallo start taak toocomplete voordat u overweegt Hallo knooppunt gereed toobe toegewezen taken, maar u kunt dit configureren.</span><span class="sxs-lookup"><span data-stu-id="e890c-450">It is typically desirable for hello Batch service toowait for hello start task toocomplete before considering hello node ready toobe assigned tasks, but you can configure this.</span></span>

<span data-ttu-id="e890c-451">Als een begintaak op een rekenknooppunt mislukt, klikt u vervolgens hello status van Hallo-knooppunt is bijgewerkte tooreflect Hallo fout en Hallo-knooppunt is niet toegewezen aan alle taken.</span><span class="sxs-lookup"><span data-stu-id="e890c-451">If a start task fails on a compute node, then hello state of hello node is updated tooreflect hello failure, and hello node is not assigned any tasks.</span></span> <span data-ttu-id="e890c-452">Een begintaak kan mislukken als er is een probleem dat de resource-bestanden zijn gekopieerd uit de opslag, of als het Hallo-proces dat wordt uitgevoerd door de opdrachtregel ervan retourneert een afsluitcode die niet nul zijn.</span><span class="sxs-lookup"><span data-stu-id="e890c-452">A start task can fail if there is an issue copying its resource files from storage, or if hello process executed by its command line returns a nonzero exit code.</span></span>

<span data-ttu-id="e890c-453">Als u toevoegen of bijwerken van de begintaak Hallo voor een bestaande pool, moet u de rekenknooppunten voor Hallo taak toobe toegepast toohello beginknooppunten opnieuw worden opgestart.</span><span class="sxs-lookup"><span data-stu-id="e890c-453">If you add or update hello start task for an existing pool, you must reboot its compute nodes for hello start task toobe applied toohello nodes.</span></span>

>[!NOTE]
> <span data-ttu-id="e890c-454">Hallo totale grootte van een begintaak moet kleiner zijn dan of gelijk too32768 tekens, inclusief bronbestanden en omgevingsvariabelen.</span><span class="sxs-lookup"><span data-stu-id="e890c-454">hello total size of a start task must be less than or equal too32768 characters, including resource files and environment variables.</span></span> <span data-ttu-id="e890c-455">tooensure uw begintaak aan deze voorwaarde voldoet, kunt u een van twee methoden:</span><span class="sxs-lookup"><span data-stu-id="e890c-455">tooensure that your start task meets this requirement, you can use one of two approaches:</span></span>
>
> 1. <span data-ttu-id="e890c-456">U kunt toepassing pakketten toodistribute toepassingen of gegevens in elk knooppunt in uw Batch-pool.</span><span class="sxs-lookup"><span data-stu-id="e890c-456">You can use application packages toodistribute applications or data across each node in your Batch pool.</span></span> <span data-ttu-id="e890c-457">Zie voor meer informatie over toepassingspakketten [implementeren van toepassingen toocompute knooppunten met Batch-toepassingspakketten](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-457">For more information about application packages, see [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>
> 2. <span data-ttu-id="e890c-458">U kunt handmatig een ZIP-archief maken dat uw toepassingsbestanden bevat.</span><span class="sxs-lookup"><span data-stu-id="e890c-458">You can manually create a zipped archive containing your applications files.</span></span> <span data-ttu-id="e890c-459">Upload het ZIP-archief tooAzure opslag als een blob.</span><span class="sxs-lookup"><span data-stu-id="e890c-459">Upload your zipped archive tooAzure Storage as a blob.</span></span> <span data-ttu-id="e890c-460">Hallo ZIP-archief opgeven als een bronbestand voor de taak is gestart.</span><span class="sxs-lookup"><span data-stu-id="e890c-460">Specify hello zipped archive as a resource file for your start task.</span></span> <span data-ttu-id="e890c-461">Voordat u Hallo vanaf de opdrachtregel voor de taak is gestart uitvoert, pak Hallo-archief van Hallo vanaf de opdrachtregel.</span><span class="sxs-lookup"><span data-stu-id="e890c-461">Before you run hello command line for your start task, unzip hello archive from hello command line.</span></span> 
>
>    <span data-ttu-id="e890c-462">toounzip hello archiveren, kunt u Hallo archiveren hulpprogramma van uw keuze.</span><span class="sxs-lookup"><span data-stu-id="e890c-462">toounzip hello archive, you can use hello archiving tool of your choice.</span></span> <span data-ttu-id="e890c-463">U moet tooinclude Hallo hulpprogramma dat u toounzip Hallo archief als een bronbestand voor de begintaak Hallo gebruiken.</span><span class="sxs-lookup"><span data-stu-id="e890c-463">You will need tooinclude hello tool that you use toounzip hello archive as a resource file for hello start task.</span></span>
>
>

### <a name="job-manager-task"></a><span data-ttu-id="e890c-464">Jobbeheertaak</span><span class="sxs-lookup"><span data-stu-id="e890c-464">Job manager task</span></span>
<span data-ttu-id="e890c-465">Doorgaans gebruikt u een **jobbeheertaak** toocontrol en/of de monitor uitvoering--bijvoorbeeld toocreate taak en verzenden Hallo taken voor een job, bepalen van aanvullende taken toorun en bepalen wanneer werk is voltooid.</span><span class="sxs-lookup"><span data-stu-id="e890c-465">You typically use a **job manager task** toocontrol and/or monitor job execution--for example, toocreate and submit hello tasks for a job, determine additional tasks toorun, and determine when work is complete.</span></span> <span data-ttu-id="e890c-466">Een jobbeheertaak is echter niet beperkt toothese activiteiten.</span><span class="sxs-lookup"><span data-stu-id="e890c-466">However, a job manager task is not restricted toothese activities.</span></span> <span data-ttu-id="e890c-467">Het is een volledig uitgewerkte taak die alle acties die vereist voor het Hallo-taak zijn kan uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="e890c-467">It is a fully fledged task that can perform any actions that are required for hello job.</span></span> <span data-ttu-id="e890c-468">Een jobbeheertaak kan bijvoorbeeld een bestand downloaden dat is opgegeven als een parameter, Hallo inhoud van het bestand analyseren en aanvullende taken die op basis van die inhoud verzenden.</span><span class="sxs-lookup"><span data-stu-id="e890c-468">For example, a job manager task might download a file that is specified as a parameter, analyze hello contents of that file, and submit additional tasks based on those contents.</span></span>

<span data-ttu-id="e890c-469">Een jobbeheertaak wordt vóór alle andere taken gestart.</span><span class="sxs-lookup"><span data-stu-id="e890c-469">A job manager task is started before all other tasks.</span></span> <span data-ttu-id="e890c-470">Het biedt Hallo volgende kenmerken:</span><span class="sxs-lookup"><span data-stu-id="e890c-470">It provides hello following features:</span></span>

* <span data-ttu-id="e890c-471">Het wordt automatisch verzonden als een taak door Hallo Batch-service wanneer Hallo-taak wordt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="e890c-471">It is automatically submitted as a task by hello Batch service when hello job is created.</span></span>
* <span data-ttu-id="e890c-472">Deze geplande tooexecute voordat Hallo andere taken in een job is.</span><span class="sxs-lookup"><span data-stu-id="e890c-472">It is scheduled tooexecute before hello other tasks in a job.</span></span>
* <span data-ttu-id="e890c-473">Het hieraan gekoppelde knooppunt is de laatste toobe Hallo verwijderd uit een pool wanneer Hallo-pool wordt verkleind.</span><span class="sxs-lookup"><span data-stu-id="e890c-473">Its associated node is hello last toobe removed from a pool when hello pool is being downsized.</span></span>
* <span data-ttu-id="e890c-474">De beëindiging ervan kan worden gebonden toohello beëindiging van alle taken in Hallo-taak.</span><span class="sxs-lookup"><span data-stu-id="e890c-474">Its termination can be tied toohello termination of all tasks in hello job.</span></span>
* <span data-ttu-id="e890c-475">Een jobbeheertaak krijgt de hoogste prioriteit Hallo zo nodig toobe opnieuw gestart.</span><span class="sxs-lookup"><span data-stu-id="e890c-475">A job manager task is given hello highest priority when it needs toobe restarted.</span></span> <span data-ttu-id="e890c-476">Als een niet-actief knooppunt niet beschikbaar is, Hallo Batch-service mogelijk beëindigen een Hallo andere taken worden uitgevoerd in Hallo groep toomake ruimte voor Hallo job manager taak toorun.</span><span class="sxs-lookup"><span data-stu-id="e890c-476">If an idle node is not available, hello Batch service might terminate one of hello other running tasks in hello pool toomake room for hello job manager task toorun.</span></span>
* <span data-ttu-id="e890c-477">Een jobbeheertaak in één taak heeft geen prioriteit via Hallo taken van andere jobs.</span><span class="sxs-lookup"><span data-stu-id="e890c-477">A job manager task in one job does not have priority over hello tasks of other jobs.</span></span> <span data-ttu-id="e890c-478">Tussen jobs worden alleen prioriteiten op jobniveau in acht genomen.</span><span class="sxs-lookup"><span data-stu-id="e890c-478">Across jobs, only job-level priorities are observed.</span></span>

### <a name="job-preparation-and-release-tasks"></a><span data-ttu-id="e890c-479">Jobvoorbereidingstaken en jobvrijgevingstaken</span><span class="sxs-lookup"><span data-stu-id="e890c-479">Job preparation and release tasks</span></span>
<span data-ttu-id="e890c-480">Batch biedt jobvoorbereidingstaken om de job in te stellen voordat deze wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-480">Batch provides job preparation tasks for pre-job execution setup.</span></span> <span data-ttu-id="e890c-481">Jobvrijgevingstaken zijn er voor onderhoud of opschoning nadat de job is uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-481">Job release tasks are for post-job maintenance or cleanup.</span></span>

* <span data-ttu-id="e890c-482">**Jobvoorbereidingstaak**: een jobvoorbereidingstaak wordt uitgevoerd op alle rekenknooppunten die gepland toorun taken zijn, voordat een Hallo andere taken worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-482">**Job preparation task**: A job preparation task runs on all compute nodes that are scheduled toorun tasks, before any of hello other job tasks are executed.</span></span> <span data-ttu-id="e890c-483">U kunt een voorbereiding taak toocopy taakgegevens die wordt gedeeld door alle taken, maar is de unieke toohello taak, bijvoorbeeld gebruiken.</span><span class="sxs-lookup"><span data-stu-id="e890c-483">You can use a job preparation task toocopy data that is shared by all tasks, but is unique toohello job, for example.</span></span>
* <span data-ttu-id="e890c-484">**Jobvrijgevingstaak**: wanneer een taak is voltooid, wordt een jobvrijgevingstaak uitgevoerd op elk knooppunt in Hallo pool dat ten minste één taak uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-484">**Job release task**: When a job has completed, a job release task runs on each node in hello pool that executed at least one task.</span></span> <span data-ttu-id="e890c-485">U kunt een taak release taak toodelete gegevens die door de jobvoorbereidingstaak Hallo worden gekopieerd of toocompress en uploaden diagnostische logboekgegevens bijvoorbeeld gebruiken.</span><span class="sxs-lookup"><span data-stu-id="e890c-485">You can use a job release task toodelete data that is copied by hello job preparation task, or toocompress and upload diagnostic log data, for example.</span></span>

<span data-ttu-id="e890c-486">Beide taken voorbereiden en release taken kunt u een opdrachtregel toorun toospecify wanneer het Hallo-taak wordt aangeroepen.</span><span class="sxs-lookup"><span data-stu-id="e890c-486">Both job preparation and release tasks allow you toospecify a command line toorun when hello task is invoked.</span></span> <span data-ttu-id="e890c-487">Ze bieden functies zoals het downloaden van bestanden, uitvoering met verhoogde bevoegdheden, aangepaste omgevingsvariabelen, maximale uitvoeringsduur, aantal pogingen en bewaartijd voor bestanden.</span><span class="sxs-lookup"><span data-stu-id="e890c-487">They offer features like file download, elevated execution, custom environment variables, maximum execution duration, retry count, and file retention time.</span></span>

<span data-ttu-id="e890c-488">Zie [Run job preparation and completion tasks on Azure Batch compute nodes](batch-job-prep-release.md) (Jobvoorbereidings- en jobvrijgevingstaken uitvoeren op Azure Batch-rekenknooppunten) voor meer informatie over jobvoorbereidings- en jobvrijgevingstaken.</span><span class="sxs-lookup"><span data-stu-id="e890c-488">For more information on job preparation and release tasks, see [Run job preparation and completion tasks on Azure Batch compute nodes](batch-job-prep-release.md).</span></span>

### <a name="multi-instance-task"></a><span data-ttu-id="e890c-489">Taak met meerdere instanties</span><span class="sxs-lookup"><span data-stu-id="e890c-489">Multi-instance task</span></span>
<span data-ttu-id="e890c-490">Een [taak met meerdere instanties](batch-mpi.md) is een taak die is geconfigureerd toorun op meer dan één rekenknooppunt tegelijk.</span><span class="sxs-lookup"><span data-stu-id="e890c-490">A [multi-instance task](batch-mpi.md) is a task that is configured toorun on more than one compute node simultaneously.</span></span> <span data-ttu-id="e890c-491">Taken met meerdere instanties, kunt u high-performance computing-scenario's waarvoor een groep rekenknooppunten die zijn toegewezen samen tooprocess één workload (zoals Message Passing Interface (MPI)).</span><span class="sxs-lookup"><span data-stu-id="e890c-491">With multi-instance tasks, you can enable high-performance computing scenarios that require a group of compute nodes that are allocated together tooprocess a single workload (like Message Passing Interface (MPI)).</span></span>

<span data-ttu-id="e890c-492">Bekijk voor een gedetailleerde discussie over het uitvoeren van MPI-jobs in Batch met behulp van de Batch .NET-bibliotheek Hallo [gebruik meerdere exemplaren taken toorun Message Passing Interface (MPI) applications in Azure Batch](batch-mpi.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-492">For a detailed discussion on running MPI jobs in Batch by using hello Batch .NET library, check out [Use multi-instance tasks toorun Message Passing Interface (MPI) applications in Azure Batch](batch-mpi.md).</span></span>

### <a name="task-dependencies"></a><span data-ttu-id="e890c-493">Taakafhankelijkheden</span><span class="sxs-lookup"><span data-stu-id="e890c-493">Task dependencies</span></span>
<span data-ttu-id="e890c-494">[Taakafhankelijkheden](batch-task-dependencies.md), als Hallo naam al aangeeft, kunt u toospecify die een taak van Hallo voltooiing van andere taken voordat deze wordt uitgevoerd afhangt.</span><span class="sxs-lookup"><span data-stu-id="e890c-494">[Task dependencies](batch-task-dependencies.md), as hello name implies, allow you toospecify that a task depends on hello completion of other tasks before its execution.</span></span> <span data-ttu-id="e890c-495">Deze functie biedt ondersteuning voor situaties waarin een 'downstream' verbruik Hallo uitvoer van een 'upstream'-taak-- of wanneer een upstream-taak initialisaties uitvoert die is vereist voor een downstream-taak.</span><span class="sxs-lookup"><span data-stu-id="e890c-495">This feature provides support for situations in which a "downstream" task consumes hello output of an "upstream" task--or when an upstream task performs some initialization that is required by a downstream task.</span></span> <span data-ttu-id="e890c-496">toouse deze functie moet u eerst taakafhankelijkheden van inschakelen op uw Batch-job.</span><span class="sxs-lookup"><span data-stu-id="e890c-496">toouse this feature, you must first enable task dependencies on your Batch job.</span></span> <span data-ttu-id="e890c-497">Klik vervolgens voor elke taak die afhankelijk zijn van een andere (of vele andere), u Hallo-taken die u die taak afhankelijk opgeven.</span><span class="sxs-lookup"><span data-stu-id="e890c-497">Then, for each task that depends on another (or many others), you specify hello tasks which that task depends on.</span></span>

<span data-ttu-id="e890c-498">Bij taakafhankelijkheden, kunt u scenario's zoals Hallo volgende configureren:</span><span class="sxs-lookup"><span data-stu-id="e890c-498">With task dependencies, you can configure scenarios like hello following:</span></span>

* <span data-ttu-id="e890c-499">*taakB* hangt af van *taakA* (*taakB* kan pas worden uitgevoerd nadat *taakA* is voltooid).</span><span class="sxs-lookup"><span data-stu-id="e890c-499">*taskB* depends on *taskA* (*taskB* will not begin execution until *taskA* has completed).</span></span>
* <span data-ttu-id="e890c-500">*taakC* is afhankelijk van *taakA* én *taakB*.</span><span class="sxs-lookup"><span data-stu-id="e890c-500">*taskC* depends on both *taskA* and *taskB*.</span></span>
* <span data-ttu-id="e890c-501">*taakD* is afhankelijk van een bereik van taken, zoals taken *1* t/m *10*, voordat deze wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-501">*taskD* depends on a range of tasks, such as tasks *1* through *10*, before it executes.</span></span>

<span data-ttu-id="e890c-502">Bekijk [taakafhankelijkheden in Azure Batch](batch-task-dependencies.md) en Hallo [taakafhankelijkheden] [ github_sample_taskdeps] codevoorbeeld in Hallo [azure-batch-samples] [ github_samples] GitHub-opslagplaats voor meer gedetailleerde informatie over deze functie.</span><span class="sxs-lookup"><span data-stu-id="e890c-502">Check out [Task dependencies in Azure Batch](batch-task-dependencies.md) and hello [TaskDependencies][github_sample_taskdeps] code sample in hello [azure-batch-samples][github_samples] GitHub repository for more in-depth details on this feature.</span></span>

## <a name="environment-settings-for-tasks"></a><span data-ttu-id="e890c-503">Omgevingsinstellingen voor taken</span><span class="sxs-lookup"><span data-stu-id="e890c-503">Environment settings for tasks</span></span>
<span data-ttu-id="e890c-504">Elke taak uitgevoerd door Hallo Batch-service heeft toegang tot tooenvironment variabelen die wordt ingesteld op rekenknooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-504">Each task executed by hello Batch service has access tooenvironment variables that it sets on compute nodes.</span></span> <span data-ttu-id="e890c-505">Dit omvat omgevingsvariabelen die zijn gedefinieerd door Hallo Batch-service ([service gedefinieerde][msdn_env_vars]) en de aangepaste variabelen die u voor uw taken kunt definiëren.</span><span class="sxs-lookup"><span data-stu-id="e890c-505">This includes environment variables defined by hello Batch service ([service-defined][msdn_env_vars]) and custom environment variables that you can define for your tasks.</span></span> <span data-ttu-id="e890c-506">Hallo-toepassingen en scripts die uw taken uitvoeren en hebt toegang toothese omgevingsvariabelen tijdens de uitvoering.</span><span class="sxs-lookup"><span data-stu-id="e890c-506">hello applications and scripts your tasks execute have access toothese environment variables during execution.</span></span>

<span data-ttu-id="e890c-507">U kunt aangepaste omgevingsvariabelen instellen op Hallo taak niveau door in te vullen Hallo *omgevingsinstellingen* eigenschap voor deze entiteiten.</span><span class="sxs-lookup"><span data-stu-id="e890c-507">You can set custom environment variables at hello task or job level by populating hello *environment settings* property for these entities.</span></span> <span data-ttu-id="e890c-508">Zie bijvoorbeeld Hallo [toevoegen van een taak tooa] [ rest_add_task] bewerking (Batch REST-API) of Hallo [CloudTask.EnvironmentSettings] [ net_cloudtask_env] en [ CloudJob.CommonEnvironmentSettings] [ net_job_env] eigenschappen in Batch .NET.</span><span class="sxs-lookup"><span data-stu-id="e890c-508">For example, see hello [Add a task tooa job][rest_add_task] operation (Batch REST API), or hello [CloudTask.EnvironmentSettings][net_cloudtask_env] and [CloudJob.CommonEnvironmentSettings][net_job_env] properties in Batch .NET.</span></span>

<span data-ttu-id="e890c-509">Uw clienttoepassing of service kunt verkrijgen van een taak omgevingsvariabelen, zowel service gedefinieerde en aangepaste, met Hallo [informatie ophalen over een taak] [ rest_get_task_info] bewerking (Batch REST) of door het openen van Hallo [CloudTask.EnvironmentSettings] [ net_cloudtask_env] eigenschap (Batch .NET).</span><span class="sxs-lookup"><span data-stu-id="e890c-509">Your client application or service can obtain a task's environment variables, both service-defined and custom, by using hello [Get information about a task][rest_get_task_info] operation (Batch REST) or by accessing hello [CloudTask.EnvironmentSettings][net_cloudtask_env] property (Batch .NET).</span></span> <span data-ttu-id="e890c-510">Processen die worden uitgevoerd op een rekenknooppunt toegang heeft tot deze en andere omgevingsvariabelen op Hallo knooppunt, bijvoorbeeld met behulp van Hallo bekend `%VARIABLE_NAME%` (Windows) of `$VARIABLE_NAME` (Linux)-syntaxis.</span><span class="sxs-lookup"><span data-stu-id="e890c-510">Processes executing on a compute node can access these and other environment variables on hello node, for example, by using hello familiar `%VARIABLE_NAME%` (Windows) or `$VARIABLE_NAME` (Linux) syntax.</span></span>

<span data-ttu-id="e890c-511">Een volledige lijst van alle gedefinieerde omgevingsvariabelen vindt u in [Compute node environment variables][msdn_env_vars] (Knooppuntomgevingsvariabelen berekenen).</span><span class="sxs-lookup"><span data-stu-id="e890c-511">You can find a full list of all service-defined environment variables in [Compute node environment variables][msdn_env_vars].</span></span>

## <a name="files-and-directories"></a><span data-ttu-id="e890c-512">Bestanden en mappen</span><span class="sxs-lookup"><span data-stu-id="e890c-512">Files and directories</span></span>
<span data-ttu-id="e890c-513">Elke taak heeft een *werkmap* waaronder nul of meer bestanden en mappen worden gemaakt.</span><span class="sxs-lookup"><span data-stu-id="e890c-513">Each task has a *working directory* under which it creates zero or more files and directories.</span></span> <span data-ttu-id="e890c-514">Deze werkmap kan worden gebruikt voor het opslaan van Hallo programma dat wordt uitgevoerd op Hallo taak Hallo-gegevens die erdoor worden verwerkt, en Hallo uitvoer van Hallo verwerking die wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-514">This working directory can be used for storing hello program that is run by hello task, hello data that it processes, and hello output of hello processing it performs.</span></span> <span data-ttu-id="e890c-515">Alle bestanden en mappen van een taak zijn eigendom van Hallo taak gebruiker.</span><span class="sxs-lookup"><span data-stu-id="e890c-515">All files and directories of a task are owned by hello task user.</span></span>

<span data-ttu-id="e890c-516">Hallo Batch-service geeft een deel van het bestandssysteem Hallo op een knooppunt als Hallo *hoofdmap*.</span><span class="sxs-lookup"><span data-stu-id="e890c-516">hello Batch service exposes a portion of hello file system on a node as hello *root directory*.</span></span> <span data-ttu-id="e890c-517">Taken kunnen toegang krijgen tot hoofdmap Hallo Hallo verwijzende `AZ_BATCH_NODE_ROOT_DIR` omgevingsvariabele.</span><span class="sxs-lookup"><span data-stu-id="e890c-517">Tasks can access hello root directory by referencing hello `AZ_BATCH_NODE_ROOT_DIR` environment variable.</span></span> <span data-ttu-id="e890c-518">Zie [Omgevingsinstellingen voor taken](#environment-settings-for-tasks) voor meer informatie over het gebruik van omgevingsvariabelen.</span><span class="sxs-lookup"><span data-stu-id="e890c-518">For more information about using environment variables, see [Environment settings for tasks](#environment-settings-for-tasks).</span></span>

<span data-ttu-id="e890c-519">Hallo-hoofdmap bevat Hallo directory-structuur te volgen:</span><span class="sxs-lookup"><span data-stu-id="e890c-519">hello root directory contains hello following directory structure:</span></span>

![Mapstructuur rekenknooppunt][1]

* <span data-ttu-id="e890c-521">**gedeelde**: deze map biedt lees-/ schrijftoegang te*alle* taken die worden uitgevoerd op een knooppunt.</span><span class="sxs-lookup"><span data-stu-id="e890c-521">**shared**: This directory provides read/write access too*all* tasks that run on a node.</span></span> <span data-ttu-id="e890c-522">Elke taak die wordt uitgevoerd op Hallo knooppunt kunt maken, lezen, bijwerken en verwijderen van bestanden in deze map.</span><span class="sxs-lookup"><span data-stu-id="e890c-522">Any task that runs on hello node can create, read, update, and delete files in this directory.</span></span> <span data-ttu-id="e890c-523">Taken toegang tot deze map door te verwijzen naar Hallo `AZ_BATCH_NODE_SHARED_DIR` omgevingsvariabele.</span><span class="sxs-lookup"><span data-stu-id="e890c-523">Tasks can access this directory by referencing hello `AZ_BATCH_NODE_SHARED_DIR` environment variable.</span></span>
* <span data-ttu-id="e890c-524">**startup**: deze map wordt door een begintaak gebruikt als werkmap.</span><span class="sxs-lookup"><span data-stu-id="e890c-524">**startup**: This directory is used by a start task as its working directory.</span></span> <span data-ttu-id="e890c-525">Alle Hallo-bestanden die gedownload toohello knooppunt Hallo begintaak zijn worden hier opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="e890c-525">All of hello files that are downloaded toohello node by hello start task are stored here.</span></span> <span data-ttu-id="e890c-526">Hallo begintaak kunt maken, lezen, bijwerken en verwijderen van bestanden in deze map.</span><span class="sxs-lookup"><span data-stu-id="e890c-526">hello start task can create, read, update, and delete files under this directory.</span></span> <span data-ttu-id="e890c-527">Taken toegang tot deze map door te verwijzen naar Hallo `AZ_BATCH_NODE_STARTUP_DIR` omgevingsvariabele.</span><span class="sxs-lookup"><span data-stu-id="e890c-527">Tasks can access this directory by referencing hello `AZ_BATCH_NODE_STARTUP_DIR` environment variable.</span></span>
* <span data-ttu-id="e890c-528">**Taken**: een map gemaakt voor elke taak die wordt uitgevoerd op Hallo-knooppunt.</span><span class="sxs-lookup"><span data-stu-id="e890c-528">**Tasks**: A directory is created for each task that runs on hello node.</span></span> <span data-ttu-id="e890c-529">Deze is geopend door te verwijzen naar Hallo `AZ_BATCH_TASK_DIR` omgevingsvariabele.</span><span class="sxs-lookup"><span data-stu-id="e890c-529">It is accessed by referencing hello `AZ_BATCH_TASK_DIR` environment variable.</span></span>

    <span data-ttu-id="e890c-530">Binnen elk taakmap maakt Hallo Batch-service een werkmap (`wd`) waarvan het unieke pad wordt opgegeven door Hallo `AZ_BATCH_TASK_WORKING_DIR` omgevingsvariabele.</span><span class="sxs-lookup"><span data-stu-id="e890c-530">Within each task directory, hello Batch service creates a working directory (`wd`) whose unique path is specified by hello `AZ_BATCH_TASK_WORKING_DIR` environment variable.</span></span> <span data-ttu-id="e890c-531">Deze map biedt lees-/ schrijffout toegang toohello taak.</span><span class="sxs-lookup"><span data-stu-id="e890c-531">This directory provides read/write access toohello task.</span></span> <span data-ttu-id="e890c-532">Hallo-taak kunt maken, lezen, bijwerken en verwijderen van bestanden in deze map.</span><span class="sxs-lookup"><span data-stu-id="e890c-532">hello task can create, read, update, and delete files under this directory.</span></span> <span data-ttu-id="e890c-533">Deze map blijft behouden op basis van Hallo *RetentionTime* beperking die is opgegeven voor het Hallo-taak.</span><span class="sxs-lookup"><span data-stu-id="e890c-533">This directory is retained based on hello *RetentionTime* constraint that is specified for hello task.</span></span>

    <span data-ttu-id="e890c-534">`stdout.txt`en `stderr.txt`: deze bestanden tijdens het uitvoeren van taak Hallo Hallo toohello taakmap geschreven.</span><span class="sxs-lookup"><span data-stu-id="e890c-534">`stdout.txt` and `stderr.txt`: These files are written toohello task folder during hello execution of hello task.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e890c-535">Wanneer een knooppunt wordt verwijderd uit groep hello, *alle* Hallo bestanden die zijn opgeslagen op Hallo knooppunt worden verwijderd.</span><span class="sxs-lookup"><span data-stu-id="e890c-535">When a node is removed from hello pool, *all* of hello files that are stored on hello node are removed.</span></span>
>
>

## <a name="application-packages"></a><span data-ttu-id="e890c-536">Toepassingspakketten</span><span class="sxs-lookup"><span data-stu-id="e890c-536">Application packages</span></span>
<span data-ttu-id="e890c-537">Hallo [toepassingspakketten](batch-application-packages.md) functie biedt eenvoudig beheren en implementeren van toepassingen toohello rekenknooppunten in uw pools.</span><span class="sxs-lookup"><span data-stu-id="e890c-537">hello [application packages](batch-application-packages.md) feature provides easy management and deployment of applications toohello compute nodes in your pools.</span></span> <span data-ttu-id="e890c-538">U kunt uploaden en beheren van meerdere versies van het Hallo-toepassingen worden uitgevoerd door uw taken, zoals de binaire bestanden en ondersteuningsbestanden.</span><span class="sxs-lookup"><span data-stu-id="e890c-538">You can upload and manage multiple versions of hello applications run by your tasks, including their binaries and support files.</span></span> <span data-ttu-id="e890c-539">Vervolgens kunt u een automatisch implementeren of meer van deze toepassingen toohello rekenknooppunten in uw groep.</span><span class="sxs-lookup"><span data-stu-id="e890c-539">Then you can automatically deploy one or more of these applications toohello compute nodes in your pool.</span></span>

<span data-ttu-id="e890c-540">U kunt toepassingspakketten op Hallo van toepassingen en taak niveau opgeven.</span><span class="sxs-lookup"><span data-stu-id="e890c-540">You can specify application packages at hello pool and task level.</span></span> <span data-ttu-id="e890c-541">Wanneer u toepassingspakketten groep opgeeft, is toepassing hello geïmplementeerde tooevery knooppunt in Hallo pool.</span><span class="sxs-lookup"><span data-stu-id="e890c-541">When you specify pool application packages, hello application is deployed tooevery node in hello pool.</span></span> <span data-ttu-id="e890c-542">Wanneer u toepassingspakketten taak opgeeft, Hallo toepassing is geïmplementeerd alleen toonodes die gepland toorun ten minste één van Hallo projecttaken zijn, net vóór Hallo de opdrachtregel van de taak wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-542">When you specify task application packages, hello application is deployed only toonodes that are scheduled toorun at least one of hello job's tasks, just before hello task's command line is run.</span></span>

<span data-ttu-id="e890c-543">Batch-ingangen Hallo samenwerking met Azure Storage toostore uw toepassingspakketten en implementeer ze toocompute knooppunten, zodat uw code en de beheer-overhead kan worden vereenvoudigd.</span><span class="sxs-lookup"><span data-stu-id="e890c-543">Batch handles hello details of working with Azure Storage toostore your application packages and deploy them toocompute nodes, so both your code and management overhead can be simplified.</span></span>

<span data-ttu-id="e890c-544">toofind voor meer informatie over de functie Hallo, Bekijk [implementeren van toepassingen toocompute knooppunten met Batch-toepassingspakketten](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-544">toofind out more about hello application package feature, check out [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>

> [!NOTE]
> <span data-ttu-id="e890c-545">Als u toepassingen toepassing pakketten tooan toevoegt *bestaande* groep, moet u de rekenknooppunten opnieuw opstarten voor de toepassing hello-toobe geïmplementeerd toohello knooppunten pakketten.</span><span class="sxs-lookup"><span data-stu-id="e890c-545">If you add pool application packages tooan *existing* pool, you must reboot its compute nodes for hello application packages toobe deployed toohello nodes.</span></span>
>
>

## <a name="pool-and-compute-node-lifetime"></a><span data-ttu-id="e890c-546">Levensduur van pool en rekenknooppunt</span><span class="sxs-lookup"><span data-stu-id="e890c-546">Pool and compute node lifetime</span></span>
<span data-ttu-id="e890c-547">Wanneer u uw Azure Batch-oplossing ontwerpt, hebt u toomake een ontwerpbeslissing over hoe en wanneer pools worden gemaakt en hoe lang rekenknooppunten in die pools beschikbaar blijven.</span><span class="sxs-lookup"><span data-stu-id="e890c-547">When you design your Azure Batch solution, you have toomake a design decision about how and when pools are created, and how long compute nodes within those pools are kept available.</span></span>

<span data-ttu-id="e890c-548">Op één end van Hallo spectrum, kunt u een groep maken voor elke taak die u verzendt en Hallo-groep verwijderen zodra de taken uitgevoerd zijn.</span><span class="sxs-lookup"><span data-stu-id="e890c-548">On one end of hello spectrum, you can create a pool for each job that you submit, and delete hello pool as soon as its tasks finish execution.</span></span> <span data-ttu-id="e890c-549">Dit gebruik geoptimaliseerd omdat Hallo knooppunten alleen worden toegewezen wanneer nodig en als ze inactief zijn afgesloten.</span><span class="sxs-lookup"><span data-stu-id="e890c-549">This maximizes utilization because hello nodes are only allocated when needed, and shut down as soon as they're idle.</span></span> <span data-ttu-id="e890c-550">Hoewel dit betekent dat Hallo-taak moet wachten tot Hallo knooppunten toobe toegewezen, is het belangrijk toonote die taken zijn gepland voor uitvoering als knooppunten afzonderlijk beschikbaar zijn, toegewezen zijn, en Hallo is begintaak voltooid.</span><span class="sxs-lookup"><span data-stu-id="e890c-550">While this means that hello job must wait for hello nodes toobe allocated, it's important toonote that tasks are scheduled for execution as soon as nodes are individually available, allocated, and hello start task has completed.</span></span> <span data-ttu-id="e890c-551">Batch biedt *niet* wacht totdat alle knooppunten in een pool beschikbaar zijn alvorens taken toe te wijzen toohello knooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-551">Batch does *not* wait until all nodes within a pool are available before assigning tasks toohello nodes.</span></span> <span data-ttu-id="e890c-552">Hiermee zorgt u voor maximaal gebruik van alle beschikbare knooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-552">This ensures maximum utilization of all available nodes.</span></span>

<span data-ttu-id="e890c-553">Op Hallo andere einde van het spectrum hello, als onmiddellijk starten van Jobs de hoogste prioriteit hello, u kunt een pool tevoren maken en de knooppunten ervan beschikbaar maken voordat jobs worden verzonden.</span><span class="sxs-lookup"><span data-stu-id="e890c-553">At hello other end of hello spectrum, if having jobs start immediately is hello highest priority, you can create a pool ahead of time and make its nodes available before jobs are submitted.</span></span> <span data-ttu-id="e890c-554">In dit scenario taken onmiddellijk kunnen starten, maar knooppunten mogelijk inactief tijdens het wachten tot ze toobe toegewezen.</span><span class="sxs-lookup"><span data-stu-id="e890c-554">In this scenario, tasks can start immediately, but nodes might sit idle while waiting for them toobe assigned.</span></span>

<span data-ttu-id="e890c-555">Een gecombineerde benadering wordt meestal gebruikt voor het verwerken van een variabele, maar continue workload.</span><span class="sxs-lookup"><span data-stu-id="e890c-555">A combined approach is typically used for handling a variable, but ongoing, load.</span></span> <span data-ttu-id="e890c-556">U kunt een pool dat meerdere taken om te worden verzonden, maar Hallo aantal knooppunten kunnen worden geschaald omhoog of omlaag toohello job workload volgens hebben (Zie [schaal rekenresources](#scaling-compute-resources) in Hallo volgende sectie).</span><span class="sxs-lookup"><span data-stu-id="e890c-556">You can have a pool that multiple jobs are submitted to, but can scale hello number of nodes up or down according toohello job load (see [Scaling compute resources](#scaling-compute-resources) in hello following section).</span></span> <span data-ttu-id="e890c-557">U kunt dit reactief doen, op basis van de huidige workload, of proactief als de workload kan worden voorspeld.</span><span class="sxs-lookup"><span data-stu-id="e890c-557">You can do this reactively, based on current load, or proactively, if load can be predicted.</span></span>

## <a name="virtual-network-vnet-and-firewall-configuration"></a><span data-ttu-id="e890c-558">Configuratie van virtuele netwerken (VNet) en firewalls</span><span class="sxs-lookup"><span data-stu-id="e890c-558">Virtual network (VNet) and firewall configuration</span></span> 

<span data-ttu-id="e890c-559">Wanneer u een pool van rekenknooppunten in Azure Batch inricht, kunt u Hallo pool koppelen aan een subnet van een Azure [virtueel netwerk (VNet)](../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-559">When you provision a pool of compute nodes in Azure Batch, you can associate hello pool with a subnet of an Azure [virtual network (VNet)](../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="e890c-560">toolearn meer informatie over het maken van een VNet met subnetten, Zie [maken van een virtuele Azure-netwerk met subnetten](../virtual-network/virtual-networks-create-vnet-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-560">toolearn more about creating a VNet with subnets, see [Create an Azure virtual network with subnets](../virtual-network/virtual-networks-create-vnet-arm-pportal.md).</span></span> 

 * <span data-ttu-id="e890c-561">Hallo VNet dat is gekoppeld aan een pool moet zijn:</span><span class="sxs-lookup"><span data-stu-id="e890c-561">hello VNet associated with a pool must be:</span></span>

   * <span data-ttu-id="e890c-562">In dezelfde Azure Hallo **regio** als hello Azure Batch-account.</span><span class="sxs-lookup"><span data-stu-id="e890c-562">In hello same Azure **region** as hello Azure Batch account.</span></span>
   * <span data-ttu-id="e890c-563">Hallo in dezelfde **abonnement** als hello Azure Batch-account.</span><span class="sxs-lookup"><span data-stu-id="e890c-563">In hello same **subscription** as hello Azure Batch account.</span></span>

* <span data-ttu-id="e890c-564">Hallo type VNet ondersteund, is afhankelijk van hoe groepen worden toegewezen voor Hallo Batch-account:</span><span class="sxs-lookup"><span data-stu-id="e890c-564">hello type of VNet supported depends on how pools are being allocated for hello Batch account:</span></span>

    - <span data-ttu-id="e890c-565">Als Hallo groep toewijzing modus voor uw Batch-account tooBatch Service is ingesteld, wordt u een VNet-toopools alleen gemaakt met de Hallo kunt toewijzen **Cloud Services-configuratie**.</span><span class="sxs-lookup"><span data-stu-id="e890c-565">If hello pool allocation mode for your Batch account is set tooBatch Service, then you can assign a VNet only toopools created with hello **Cloud Services Configuration**.</span></span> <span data-ttu-id="e890c-566">Bovendien opgegeven Hallo dat vnet met het klassieke implementatiemodel Hallo moet worden gemaakt.</span><span class="sxs-lookup"><span data-stu-id="e890c-566">Additionally, hello specified VNet must be created with hello classic deployment model.</span></span> <span data-ttu-id="e890c-567">VNets die zijn gemaakt met Azure Resource Manager-implementatiemodel Hallo worden niet ondersteund.</span><span class="sxs-lookup"><span data-stu-id="e890c-567">VNets created with hello Azure Resource Manager deployment model are not supported.</span></span>
 
    - <span data-ttu-id="e890c-568">Als Hallo groep toewijzing modus voor uw Batch-account tooUser abonnement is ingesteld, wordt u een VNet-toopools alleen gemaakt met de Hallo kunt toewijzen **Virtuele-machineconfiguratie**.</span><span class="sxs-lookup"><span data-stu-id="e890c-568">If hello pool allocation mode for your Batch account is set tooUser Subscription, then you can assign a VNet only toopools created with hello **Virtual Machine Configuration**.</span></span> <span data-ttu-id="e890c-569">Groepen die zijn gemaakt met de Hallo **Cloud serviceconfiguratie** worden niet ondersteund.</span><span class="sxs-lookup"><span data-stu-id="e890c-569">Pools created with hello **Cloud Service Configuration** are not supported.</span></span> <span data-ttu-id="e890c-570">Hallo die gekoppeld VNet kan worden gemaakt met Azure Resource Manager-implementatiemodel Hallo of Hallo klassieke implementatiemodel.</span><span class="sxs-lookup"><span data-stu-id="e890c-570">hello associated VNet may be created with either hello Azure Resource Manager deployment model or hello classic deployment model.</span></span>

    <span data-ttu-id="e890c-571">Zie voor een tabel samenvatten VNet ondersteuning volgens toopool toewijzing modus Hallo [groep toewijzing modus](#pool-allocation-mode) sectie.</span><span class="sxs-lookup"><span data-stu-id="e890c-571">For a table summarizing VNet support according toopool allocation mode, see hello [Pool allocation mode](#pool-allocation-mode) section.</span></span>

* <span data-ttu-id="e890c-572">Als Hallo groep toewijzing modus voor uw Batch-account is tooBatch Service ingesteld, moet u opgeven machtigingen voor Batch-service-principal tooaccess Hallo Hallo VNet.</span><span class="sxs-lookup"><span data-stu-id="e890c-572">If hello pool allocation mode for your Batch account is set tooBatch Service, then you must provide permissions for hello Batch service principal tooaccess hello VNet.</span></span> <span data-ttu-id="e890c-573">Hallo VNet moet toewijzen Hallo [Classic Virtual Machine Contributor Role-Based toegangsbeheer (RBAC)](https://azure.microsoft.com/documentation/articles/role-based-access-built-in-roles/#classic-virtual-machine-contributor) rol toohello Batch-service-principal.</span><span class="sxs-lookup"><span data-stu-id="e890c-573">hello VNet must assign hello [Classic Virtual Machine Contributor Role-Based Access Control (RBAC)](https://azure.microsoft.com/documentation/articles/role-based-access-built-in-roles/#classic-virtual-machine-contributor) role toohello Batch service principal.</span></span> <span data-ttu-id="e890c-574">Als Hallo RBAC-rol niet is opgegeven opgegeven, retourneert Hallo Batch-service 400 (ongeldige aanvraag).</span><span class="sxs-lookup"><span data-stu-id="e890c-574">If hello specified RBAC role is not provided, hello Batch service returns 400 (Bad Request).</span></span> <span data-ttu-id="e890c-575">tooadd hello rol in hello Azure-portal:</span><span class="sxs-lookup"><span data-stu-id="e890c-575">tooadd hello role in hello Azure portal:</span></span>

    1. <span data-ttu-id="e890c-576">Selecteer Hallo **VNet**, klikt u vervolgens **toegangsbeheer (IAM)** > **rollen** > **Virtual Machine Contributor**  >  **Toevoegen**.</span><span class="sxs-lookup"><span data-stu-id="e890c-576">Select hello **VNet**, then **Access control (IAM)** > **Roles** > **Virtual Machine Contributor** > **Add**.</span></span>
    2. <span data-ttu-id="e890c-577">Op Hallo **machtigingen toevoegen** blade, selecteer Hallo **Virtual Machine Contributor** rol.</span><span class="sxs-lookup"><span data-stu-id="e890c-577">On hello **Add permissions** blade, select hello **Virtual Machine Contributor** role.</span></span>
    3. <span data-ttu-id="e890c-578">Op Hallo **machtigingen toevoegen** blade, zoekt u Hallo Batch-API.</span><span class="sxs-lookup"><span data-stu-id="e890c-578">On hello **Add permissions** blade, search for hello Batch API.</span></span> <span data-ttu-id="e890c-579">Zoeken op zijn beurt voor elk van deze tekenreeksen totdat u Hallo-API:</span><span class="sxs-lookup"><span data-stu-id="e890c-579">Search for each of these strings in turn until you find hello API:</span></span>
        1. <span data-ttu-id="e890c-580">**MicrosoftAzureBatch**.</span><span class="sxs-lookup"><span data-stu-id="e890c-580">**MicrosoftAzureBatch**.</span></span>
        2. <span data-ttu-id="e890c-581">**Microsoft Azure Batch**.</span><span class="sxs-lookup"><span data-stu-id="e890c-581">**Microsoft Azure Batch**.</span></span> <span data-ttu-id="e890c-582">Nieuwere Azure AD-tenants kunnen deze naam gebruiken.</span><span class="sxs-lookup"><span data-stu-id="e890c-582">Newer Azure AD tenants may use this name.</span></span>
        3. <span data-ttu-id="e890c-583">**ddbf3205-c6bd-46ae-8127-60eb93363864** Hallo-id voor Hallo Batch-API.</span><span class="sxs-lookup"><span data-stu-id="e890c-583">**ddbf3205-c6bd-46ae-8127-60eb93363864** is hello ID for hello Batch API.</span></span> 
    3. <span data-ttu-id="e890c-584">Selecteer Hallo Batch-API service-principal.</span><span class="sxs-lookup"><span data-stu-id="e890c-584">Select hello Batch API service principal.</span></span> 
    4. <span data-ttu-id="e890c-585">Klik op **Opslaan**.</span><span class="sxs-lookup"><span data-stu-id="e890c-585">Click **Save**.</span></span>

        ![Inzender VM-rol tooBatch service-principal toewijzen](./media/batch-api-basics/iam-add-role.png)


* <span data-ttu-id="e890c-587">Hallo opgegeven subnet moet er voldoende vrije **IP-adressen** tooaccommodate totaal aantal doelknooppunten Hallo; dat wil zeggen de som van Hallo Hallo `targetDedicatedNodes` en `targetLowPriorityNodes` eigenschappen van Hallo-groep.</span><span class="sxs-lookup"><span data-stu-id="e890c-587">hello specified subnet should have enough free **IP addresses** tooaccommodate hello total number of target nodes; that is, hello sum of hello `targetDedicatedNodes` and `targetLowPriorityNodes` properties of hello pool.</span></span> <span data-ttu-id="e890c-588">Hallo-subnet geen voldoende beschikbare IP-adressen, Hallo Batch-service gedeeltelijk Hallo-rekenknooppunten in Hallo pool toewijst als resulteert in een fout formaat.</span><span class="sxs-lookup"><span data-stu-id="e890c-588">If hello subnet doesn't have enough free IP addresses, hello Batch service partially allocates hello compute nodes in hello pool and returns a resize error.</span></span>

* <span data-ttu-id="e890c-589">Hallo opgegeven subnet moet toestaan-communicatie van Hallo Batch-service toobe kunnen tooschedule taken op rekenknooppunten Hallo.</span><span class="sxs-lookup"><span data-stu-id="e890c-589">hello specified subnet must allow communication from hello Batch service toobe able tooschedule tasks on hello compute nodes.</span></span> <span data-ttu-id="e890c-590">Als de communicatie toohello rekenknooppunten is geweigerd door een **Netwerkbeveiligingsgroep (NSG)** hello VNet, gekoppeld en vervolgens Hallo Batch-service Hallo status van de rekenknooppunten Hallo te stelt**onbruikbaar**.</span><span class="sxs-lookup"><span data-stu-id="e890c-590">If communication toohello compute nodes is denied by a **Network Security Group (NSG)** associated with hello VNet, then hello Batch service sets hello state of hello compute nodes too**unusable**.</span></span>

* <span data-ttu-id="e890c-591">Als Hallo opgegeven VNet is gekoppeld **Netwerkbeveiligingsgroepen (nsg's)** en/of een **firewall**, en vervolgens enkele gereserveerd voor het systeem-poorten moeten worden ingeschakeld om binnenkomende communicatie:</span><span class="sxs-lookup"><span data-stu-id="e890c-591">If hello specified VNet has associated **Network Security Groups (NSGs)** and/or a **firewall**, then a few reserved system ports must be enabled for inbound communication:</span></span>

- <span data-ttu-id="e890c-592">Voor pools die zijn gemaakt met een virtuele-machineconfiguratie schakelt u poort 29876 en 29877 in, evenals poort 22 voor Linux en poort 3389 voor Windows.</span><span class="sxs-lookup"><span data-stu-id="e890c-592">For pools created with a virtual machine configuration, enable ports 29876 and 29877, as well as port 22 for Linux and port 3389 for Windows.</span></span> 
- <span data-ttu-id="e890c-593">Voor pools die zijn gemaakt met een cloudserviceconfiguratie schakelt u poort 10100, 20100 en 30100 in.</span><span class="sxs-lookup"><span data-stu-id="e890c-593">For pools created with a cloud service configuration, enable ports 10100, 20100, and 30100.</span></span> 
- <span data-ttu-id="e890c-594">Uitgaande verbindingen tooAzure opslag op poort 443 inschakelen.</span><span class="sxs-lookup"><span data-stu-id="e890c-594">Enable outbound connections tooAzure Storage on port 443.</span></span> <span data-ttu-id="e890c-595">Zorg er ook voor dat uw Azure Storage-eindpunt kan worden omgezet door alle aangepaste DNS-servers die u beschikbaar maakt voor uw VNet.</span><span class="sxs-lookup"><span data-stu-id="e890c-595">Also, ensure that your Azure Storage endpoint can be resolved by any custom DNS servers that serve your VNET.</span></span> <span data-ttu-id="e890c-596">In het bijzonder met URL Hallo `<account>.table.core.windows.net` moet worden omgezet.</span><span class="sxs-lookup"><span data-stu-id="e890c-596">Specifically, a URL of hello form `<account>.table.core.windows.net` should be resolvable.</span></span>

    <span data-ttu-id="e890c-597">Hallo volgende tabel beschrijft Hallo binnenkomende poorten die u nodig hebt tooenable voor toepassingen die u hebt gemaakt met de configuratie van de virtuele machine Hallo:</span><span class="sxs-lookup"><span data-stu-id="e890c-597">hello following table describes hello inbound ports that you need tooenable for pools that you created with hello virtual machine configuration:</span></span>

    |    <span data-ttu-id="e890c-598">Doelpoort(en)</span><span class="sxs-lookup"><span data-stu-id="e890c-598">Destination Port(s)</span></span>    |    <span data-ttu-id="e890c-599">IP-adres van bron</span><span class="sxs-lookup"><span data-stu-id="e890c-599">Source IP address</span></span>      |    <span data-ttu-id="e890c-600">Voegt Batch NSG's toe?</span><span class="sxs-lookup"><span data-stu-id="e890c-600">Does Batch add NSGs?</span></span>    |    <span data-ttu-id="e890c-601">Vereist is voor VM toobe bruikbaar?</span><span class="sxs-lookup"><span data-stu-id="e890c-601">Required for VM toobe usable?</span></span>    |    <span data-ttu-id="e890c-602">Actie van gebruiker</span><span class="sxs-lookup"><span data-stu-id="e890c-602">Action from user</span></span>   |
    |---------------------------|---------------------------|----------------------------|-------------------------------------|-----------------------|
    |    <ul><li><span data-ttu-id="e890c-603">Voor toepassingen die zijn gemaakt met de configuratie van de virtuele machine Hallo: 29876, 29877</span><span class="sxs-lookup"><span data-stu-id="e890c-603">For pools created with hello virtual machine configuration: 29876, 29877</span></span></li><li><span data-ttu-id="e890c-604">Voor toepassingen die zijn gemaakt met Hallo cloud service-configuratie: 10100, 20100, 30100</span><span class="sxs-lookup"><span data-stu-id="e890c-604">For pools created with hello cloud service configuration: 10100, 20100, 30100</span></span></li></ul>         |    <span data-ttu-id="e890c-605">Alleen IP-adressen van Batch-servicerollen</span><span class="sxs-lookup"><span data-stu-id="e890c-605">Only Batch service role IP addresses</span></span> |    <span data-ttu-id="e890c-606">Ja.</span><span class="sxs-lookup"><span data-stu-id="e890c-606">Yes.</span></span> <span data-ttu-id="e890c-607">Batch toevoegt nsg's op Hallo niveau van network interfaces (NIC) gekoppeld tooVMs.</span><span class="sxs-lookup"><span data-stu-id="e890c-607">Batch adds NSGs at hello level of network interfaces (NIC) attached tooVMs.</span></span> <span data-ttu-id="e890c-608">Deze NSG's staan alleen verkeer vanuit IP-adressen van Batch-servicerollen toe.</span><span class="sxs-lookup"><span data-stu-id="e890c-608">These NSGs allow traffic only from Batch service role IP addresses.</span></span> <span data-ttu-id="e890c-609">Zelfs als u deze poorten voor de gehele web Hallo opent, wordt Hallo verkeer ophalen geblokkeerd op Hallo NIC.</span><span class="sxs-lookup"><span data-stu-id="e890c-609">Even if you open these ports for hello  entire web, hello traffic will get blocked at hello NIC.</span></span> |    <span data-ttu-id="e890c-610">Ja</span><span class="sxs-lookup"><span data-stu-id="e890c-610">Yes</span></span>  |  <span data-ttu-id="e890c-611">U hoeft niet toospecify een NSG omdat Batch kan alleen Batch IP-adressen.</span><span class="sxs-lookup"><span data-stu-id="e890c-611">You do not need toospecify an NSG, because Batch allows only Batch IP addresses.</span></span> <br /><br /> <span data-ttu-id="e890c-612">Als u toch een NSG opgeeft, zorg dan dat deze poorten zijn geopend voor inkomend verkeer.</span><span class="sxs-lookup"><span data-stu-id="e890c-612">However, if you do specify an NSG, please ensure that these ports are open for inbound traffic.</span></span> <br /><br /> <span data-ttu-id="e890c-613">Als u opgeeft * als IP-adres van bron in uw NSG hello, Batch nog steeds nsg's toevoegen op Hallo niveau van tooVMs NIC die is gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="e890c-613">If you specify * as hello source IP in your NSG, Batch still adds NSGs at hello level of NIC attached tooVMs.</span></span> |
    |    <span data-ttu-id="e890c-614">3389, 22</span><span class="sxs-lookup"><span data-stu-id="e890c-614">3389, 22</span></span>               |    <span data-ttu-id="e890c-615">Apparaten van gebruikers, die wordt gebruikt voor foutopsporing, zodat u op afstand toegang Hallo VM tot.</span><span class="sxs-lookup"><span data-stu-id="e890c-615">User machines, used for debugging purposes, so that you can remotely access hello VM.</span></span>    |    <span data-ttu-id="e890c-616">Nee</span><span class="sxs-lookup"><span data-stu-id="e890c-616">No</span></span>                                    |    <span data-ttu-id="e890c-617">Nee</span><span class="sxs-lookup"><span data-stu-id="e890c-617">No</span></span>                     |    <span data-ttu-id="e890c-618">Nsg's toevoegen als u wilt dat toopermit externe toegang (RDP/SSH) toohello VM.</span><span class="sxs-lookup"><span data-stu-id="e890c-618">Add NSGs if you want toopermit remote access (RDP/SSH) toohello VM.</span></span>   |                 

    <span data-ttu-id="e890c-619">Hallo volgende tabel beschrijft Hallo uitgaande poort, moet u tooenable toopermit toegang tooAzure opslag:</span><span class="sxs-lookup"><span data-stu-id="e890c-619">hello following table describes hello outbound port that you need tooenable toopermit access tooAzure Storage:</span></span>

    |    <span data-ttu-id="e890c-620">Uitgaande poort(en)</span><span class="sxs-lookup"><span data-stu-id="e890c-620">Outbound Port(s)</span></span>    |    <span data-ttu-id="e890c-621">Doel</span><span class="sxs-lookup"><span data-stu-id="e890c-621">Destination</span></span>    |    <span data-ttu-id="e890c-622">Voegt Batch NSG's toe?</span><span class="sxs-lookup"><span data-stu-id="e890c-622">Does Batch add NSGs?</span></span>    |    <span data-ttu-id="e890c-623">Vereist is voor VM toobe bruikbaar?</span><span class="sxs-lookup"><span data-stu-id="e890c-623">Required for VM toobe usable?</span></span>    |    <span data-ttu-id="e890c-624">Actie van gebruiker</span><span class="sxs-lookup"><span data-stu-id="e890c-624">Action from user</span></span>    |
    |------------------------|-------------------|----------------------------|-------------------------------------|------------------------|
    |    <span data-ttu-id="e890c-625">443</span><span class="sxs-lookup"><span data-stu-id="e890c-625">443</span></span>    |    <span data-ttu-id="e890c-626">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="e890c-626">Azure Storage</span></span>    |    <span data-ttu-id="e890c-627">Nee</span><span class="sxs-lookup"><span data-stu-id="e890c-627">No</span></span>    |    <span data-ttu-id="e890c-628">Ja</span><span class="sxs-lookup"><span data-stu-id="e890c-628">Yes</span></span>    |    <span data-ttu-id="e890c-629">Als u een nsg's toevoegt, zorg dat deze poort open toooutbound verkeer is.</span><span class="sxs-lookup"><span data-stu-id="e890c-629">If you add any NSGs, then ensure that this port is open toooutbound   traffic.</span></span>    |


## <a name="scaling-compute-resources"></a><span data-ttu-id="e890c-630">Rekenresources vergroten/verkleinen</span><span class="sxs-lookup"><span data-stu-id="e890c-630">Scaling compute resources</span></span>
<span data-ttu-id="e890c-631">Met [automatische schaling](batch-automatic-scaling.md), kunt u Batch-service Hallo Hallo aantal rekenknooppunten in een pool op basis van toohello huidige workload en het Resourcegebruik gebruik van uw rekenscenario dynamisch wordt aangepast hebt.</span><span class="sxs-lookup"><span data-stu-id="e890c-631">With [automatic scaling](batch-automatic-scaling.md), you can have hello Batch service dynamically adjust hello number of compute nodes in a pool according toohello current workload and resource usage of your compute scenario.</span></span> <span data-ttu-id="e890c-632">Hiermee kunt u toolower Hallo totale kosten van het uitvoeren van uw toepassing met behulp van alleen Hallo bronnen die u nodig en vrij te geven u niet nodig hebt.</span><span class="sxs-lookup"><span data-stu-id="e890c-632">This allows you toolower hello overall cost of running your application by using only hello resources you need, and releasing those you don't need.</span></span>

<span data-ttu-id="e890c-633">U schakelt automatische vergroting/verkleining in door een [formule voor automatisch vergroten/verkleinen](batch-automatic-scaling.md#automatic-scaling-formulas) te schrijven en die formule te koppelen aan een pool.</span><span class="sxs-lookup"><span data-stu-id="e890c-633">You enable automatic scaling by writing an [automatic scaling formula](batch-automatic-scaling.md#automatic-scaling-formulas) and associating that formula with a pool.</span></span> <span data-ttu-id="e890c-634">Hallo Batch-service gebruikt Hallo formule toodetermine hello doelaantal knooppunten in de groep Hallo voor Hallo volgende vergroten/verkleinen interval (een interval die u kunt configureren).</span><span class="sxs-lookup"><span data-stu-id="e890c-634">hello Batch service uses hello formula toodetermine hello target number of nodes in hello pool for hello next scaling interval (an interval that you can configure).</span></span> <span data-ttu-id="e890c-635">U kunt Hallo automatisch vergroten/verkleinen instellingen voor een pool opgeven wanneer u deze maken of op een pool later inschakelen.</span><span class="sxs-lookup"><span data-stu-id="e890c-635">You can specify hello automatic scaling settings for a pool when you create it, or enable scaling on a pool later.</span></span> <span data-ttu-id="e890c-636">U kunt ook bijwerken Hallo schalen op een pool schalen is ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="e890c-636">You can also update hello scaling settings on a scaling-enabled pool.</span></span>

<span data-ttu-id="e890c-637">Als u bijvoorbeeld een bepaalde job moet dient u een zeer groot aantal taken toobe uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-637">As an example, perhaps a job requires that you submit a very large number of tasks toobe executed.</span></span> <span data-ttu-id="e890c-638">U kunt een vergroten/verkleinen formule toohello-groep die Hiermee past u het aantal knooppunten in Hallo pool op basis van Hallo Huidig aantal taken in de wachtrij en Hallo voltooiing frequentie van Hallo taken in Hallo job Hallo toewijzen.</span><span class="sxs-lookup"><span data-stu-id="e890c-638">You can assign a scaling formula toohello pool that adjusts hello number of nodes in hello pool based on hello current number of queued tasks and hello completion rate of hello tasks in hello job.</span></span> <span data-ttu-id="e890c-639">Hallo Batch-service periodiek evalueert Hallo formule en Hallo-groep, op basis van de werkbelasting en uw formule instellingen het formaat wordt aangepast.</span><span class="sxs-lookup"><span data-stu-id="e890c-639">hello Batch service periodically evaluates hello formula and resizes hello pool, based on workload and your other formula settings.</span></span> <span data-ttu-id="e890c-640">Hallo-service worden knooppunten toegevoegd, indien nodig wanneer er een groot aantal taken in de wachtrij en knooppunten verwijdert wanneer er geen taken in de wachtrij of wordt uitgevoerd zijn.</span><span class="sxs-lookup"><span data-stu-id="e890c-640">hello service adds nodes as needed when there are a large number of queued tasks, and removes nodes when there are no queued or running tasks.</span></span>

<span data-ttu-id="e890c-641">Een formule voor vergroten/verkleinen kan zijn gebaseerd op Hallo metrische gegevens te volgen:</span><span class="sxs-lookup"><span data-stu-id="e890c-641">A scaling formula can be based on hello following metrics:</span></span>

* <span data-ttu-id="e890c-642">**Metrische gegevens voor tijd** zijn gebaseerd op statistieken verzameld om de vijf minuten in Hallo opgegeven aantal uren.</span><span class="sxs-lookup"><span data-stu-id="e890c-642">**Time metrics** are based on statistics collected every five minutes in hello specified number of hours.</span></span>
* <span data-ttu-id="e890c-643">**Metrische gegevens voor resources** zijn gebaseerd op CPU-gebruik, bandbreedtegebruik, geheugengebruik en het aantal knooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-643">**Resource metrics** are based on CPU usage, bandwidth usage, memory usage, and number of nodes.</span></span>
* <span data-ttu-id="e890c-644">**Metrische gegevens voor taken** zijn gebaseerd op de taakstatus, zoals *Actief* (in de wachtrij) *Wordt uitgevoerd* of *Voltooid*.</span><span class="sxs-lookup"><span data-stu-id="e890c-644">**Task metrics** are based on task state, such as *Active* (queued), *Running*, or *Completed*.</span></span>

<span data-ttu-id="e890c-645">Wanneer automatisch vergroten / het aantal rekenknooppunten in een pool hello verkleinen, moet u overwegen hoe toohandle taken die worden uitgevoerd op moment van Hallo Hallo bewerking afnemen.</span><span class="sxs-lookup"><span data-stu-id="e890c-645">When automatic scaling decreases hello number of compute nodes in a pool, you must consider how toohandle tasks that are running at hello time of hello decrease operation.</span></span> <span data-ttu-id="e890c-646">tooaccommodate deze, Batch biedt een *knooppunt toewijzing is opgeheven optie* die u kunt opnemen in uw formules.</span><span class="sxs-lookup"><span data-stu-id="e890c-646">tooaccommodate this, Batch provides a *node deallocation option* that you can include in your formulas.</span></span> <span data-ttu-id="e890c-647">U kunt bijvoorbeeld opgeven dat actieve taken worden onmiddellijk gestopt, onmiddellijk worden gestopt en vervolgens opnieuw voor uitvoering op een ander knooppunt of toofinish toegestaan voordat het Hallo-knooppunt wordt verwijderd uit groep Hallo.</span><span class="sxs-lookup"><span data-stu-id="e890c-647">For example, you can specify that running tasks are stopped immediately, stopped immediately and then requeued for execution on another node, or allowed toofinish before hello node is removed from hello pool.</span></span>

<span data-ttu-id="e890c-648">Zie [Automatically scale compute nodes in an Azure Batch pool](batch-automatic-scaling.md) (Rekenknooppunten in een Azure Batch-pool automatisch vergroten/verkleinen) voor meer informatie over het automatisch vergroten/verkleinen van een toepassing.</span><span class="sxs-lookup"><span data-stu-id="e890c-648">For more information about automatically scaling an application, see [Automatically scale compute nodes in an Azure Batch pool](batch-automatic-scaling.md).</span></span>

> [!TIP]
> <span data-ttu-id="e890c-649">toomaximize compute Resourcegebruik, Hallo doelaantal knooppunten toozero ingesteld op Hallo einde van een taak, maar actieve taken toofinish toestaan.</span><span class="sxs-lookup"><span data-stu-id="e890c-649">toomaximize compute resource utilization, set hello target number of nodes toozero at hello end of a job, but allow running tasks toofinish.</span></span>
>
>

## <a name="security-with-certificates"></a><span data-ttu-id="e890c-650">Beveiliging met certificaten</span><span class="sxs-lookup"><span data-stu-id="e890c-650">Security with certificates</span></span>
<span data-ttu-id="e890c-651">U moet doorgaans toouse certificaten wanneer u versleutelen of ontsleutelen van gevoelige gegevens voor taken zoals het Hallo-sleutel voor een [Azure Storage-account][azure_storage].</span><span class="sxs-lookup"><span data-stu-id="e890c-651">You typically need toouse certificates when you encrypt or decrypt sensitive information for tasks, like hello key for an [Azure Storage account][azure_storage].</span></span> <span data-ttu-id="e890c-652">toosupport, kunt u certificaten installeren op knooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-652">toosupport this, you can install certificates on nodes.</span></span> <span data-ttu-id="e890c-653">Versleutelde geheimen worden tootasks via opdrachtregelparameters doorgegeven of ingesloten in een van de Hallo taak resources en geïnstalleerd Hallo-certificaten kunnen worden gebruikt toodecrypt ze.</span><span class="sxs-lookup"><span data-stu-id="e890c-653">Encrypted secrets are passed tootasks via command-line parameters or embedded in one of hello task resources, and hello installed certificates can be used toodecrypt them.</span></span>

<span data-ttu-id="e890c-654">Gebruik van Hallo [certificaat toevoegen] [ rest_add_cert] bewerking (Batch REST) of [CertificateOperations.CreateCertificate] [ net_create_cert] methode (Batch .NET) tooadd een certificaat tooa Batch-account.</span><span class="sxs-lookup"><span data-stu-id="e890c-654">You use hello [Add certificate][rest_add_cert] operation (Batch REST) or [CertificateOperations.CreateCertificate][net_create_cert] method (Batch .NET) tooadd a certificate tooa Batch account.</span></span> <span data-ttu-id="e890c-655">U kunt vervolgens Hallo certificaat met een nieuwe of bestaande pool koppelen.</span><span class="sxs-lookup"><span data-stu-id="e890c-655">You can then associate hello certificate with a new or existing pool.</span></span> <span data-ttu-id="e890c-656">Wanneer een certificaat gekoppeld aan een pool wordt, installeert Hallo Batch-service Hallo certificaat op elk knooppunt in de pool Hallo.</span><span class="sxs-lookup"><span data-stu-id="e890c-656">When a certificate is associated with a pool, hello Batch service installs hello certificate on each node in hello pool.</span></span> <span data-ttu-id="e890c-657">Hallo Batch-service installeert de juiste certificaten Hallo wanneer Hallo-knooppunt wordt gestart, voordat er taken (inclusief Hallo begintaak en jobbeheertaak) wordt gestart.</span><span class="sxs-lookup"><span data-stu-id="e890c-657">hello Batch service installs hello appropriate certificates when hello node starts up, before launching any tasks (including hello start task and job manager task).</span></span>

<span data-ttu-id="e890c-658">Als u certificaten tooan toevoegt *bestaande* groep, moet u de rekenknooppunten opnieuw opstarten Hallo certificaten toobe toegepast toohello knooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-658">If you add certificates tooan *existing* pool, you must reboot its compute nodes for hello certificates toobe applied toohello nodes.</span></span>

## <a name="error-handling"></a><span data-ttu-id="e890c-659">Foutafhandeling</span><span class="sxs-lookup"><span data-stu-id="e890c-659">Error handling</span></span>
<span data-ttu-id="e890c-660">Het wellicht noodzakelijk toohandle taak- en toepassingsfouten storingen in uw Batch-oplossing.</span><span class="sxs-lookup"><span data-stu-id="e890c-660">You might find it necessary toohandle both task and application failures within your Batch solution.</span></span>

### <a name="task-failure-handling"></a><span data-ttu-id="e890c-661">Afhandeling van taakfouten</span><span class="sxs-lookup"><span data-stu-id="e890c-661">Task failure handling</span></span>
<span data-ttu-id="e890c-662">Taakfouten kunnen worden onderverdeeld in deze categorieën:</span><span class="sxs-lookup"><span data-stu-id="e890c-662">Task failures fall into these categories:</span></span>

* <span data-ttu-id="e890c-663">**Voorverwerkingsfouten**</span><span class="sxs-lookup"><span data-stu-id="e890c-663">**Pre-processing failures**</span></span>

    <span data-ttu-id="e890c-664">Als een taak toostart mislukt, is een fout vooraf verwerken voor Hallo taak ingesteld.</span><span class="sxs-lookup"><span data-stu-id="e890c-664">If a task fails toostart, a pre-processing error is set for hello task.</span></span>  

    <span data-ttu-id="e890c-665">Voorverwerking van fouten kan optreden als de bronbestanden van de taak Hallo hebt verplaatst, Hallo Storage-account niet meer beschikbaar is of een ander probleem is opgetreden dat Hallo gekopieerd toohello knooppunt bestanden.</span><span class="sxs-lookup"><span data-stu-id="e890c-665">Pre-processing errors can occur if hello task's resource files have moved, hello Storage account is no longer available, or another issue was encountered that prevented hello successful copying of files toohello node.</span></span>

* <span data-ttu-id="e890c-666">**Fouten bij uploaden van bestand**</span><span class="sxs-lookup"><span data-stu-id="e890c-666">**File upload failures**</span></span>

    <span data-ttu-id="e890c-667">Als het uploaden van bestanden die zijn opgegeven voor een taak voor een of andere reden mislukt, wordt een fout bij het uploaden is ingesteld voor Hallo-taak.</span><span class="sxs-lookup"><span data-stu-id="e890c-667">If uploading files that are specified for a task fails for any reason, a file upload error is set for hello task.</span></span>

    <span data-ttu-id="e890c-668">Bestand uploaden fouten optreden kunnen als hello SAS opgegeven voor toegang tot Azure Storage is een ongeldige of biedt geen schrijfmachtigingen, als Hallo storage-account niet meer beschikbaar is, of als een ander probleem is opgetreden waardoor de Hallo geslaagde kopiëren van bestanden uit Hallo-knooppunt.</span><span class="sxs-lookup"><span data-stu-id="e890c-668">File upload errors can occur if hello SAS supplied for accessing Azure Storage is invalid or does not provide write permissions, if hello storage account is no longer available, or if another issue was encountered that prevented hello successful copying of files from hello node.</span></span>    

* <span data-ttu-id="e890c-669">**Toepassingsfouten**</span><span class="sxs-lookup"><span data-stu-id="e890c-669">**Application failures**</span></span>

    <span data-ttu-id="e890c-670">Hallo-proces dat is opgegeven door de opdrachtregel van de taak Hallo kan ook mislukken.</span><span class="sxs-lookup"><span data-stu-id="e890c-670">hello process that is specified by hello task's command line can also fail.</span></span> <span data-ttu-id="e890c-671">Hallo proces wordt geacht toohave is mislukt bij een andere waarde dan nul afsluitcode wordt geretourneerd door Hallo-proces dat wordt uitgevoerd door de taak hello (Zie *taak afsluitcodes* in de volgende sectie Hallo).</span><span class="sxs-lookup"><span data-stu-id="e890c-671">hello process is deemed toohave failed when a nonzero exit code is returned by hello process that is executed by hello task (see *Task exit codes* in hello next section).</span></span>

    <span data-ttu-id="e890c-672">Voor toepassingsfouten, kunt u Batch tooautomatically opnieuw Hallo taak tooa aantal keren opgegeven.</span><span class="sxs-lookup"><span data-stu-id="e890c-672">For application failures, you can configure Batch tooautomatically retry hello task up tooa specified number of times.</span></span>

* <span data-ttu-id="e890c-673">**Beperkingsfouten**</span><span class="sxs-lookup"><span data-stu-id="e890c-673">**Constraint failures**</span></span>

    <span data-ttu-id="e890c-674">U kunt instellen dat een beperking die Hallo uitvoering van de maximale duur voor een job of taak hello aangeeft *maxWallClockTime*.</span><span class="sxs-lookup"><span data-stu-id="e890c-674">You can set a constraint that specifies hello maximum execution duration for a job or task, hello *maxWallClockTime*.</span></span> <span data-ttu-id="e890c-675">Dit kan handig zijn voor taken die niet voldoen aan tooprogress wordt beëindigd.</span><span class="sxs-lookup"><span data-stu-id="e890c-675">This can be useful for terminating tasks that fail tooprogress.</span></span>

    <span data-ttu-id="e890c-676">Wanneer de maximale tijdsduur Hallo is overschreden, Hallo-taak is gemarkeerd als *voltooid*, maar de afsluitcode hello te is ingesteld`0xC000013A` en Hallo *schedulingError* veld is gemarkeerd als `{ category:"ServerError", code="TaskEnded"}`.</span><span class="sxs-lookup"><span data-stu-id="e890c-676">When hello maximum amount of time has been exceeded, hello task is marked as *completed*, but hello exit code is set too`0xC000013A` and hello *schedulingError* field is marked as `{ category:"ServerError", code="TaskEnded"}`.</span></span>

### <a name="debugging-application-failures"></a><span data-ttu-id="e890c-677">Foutopsporing van toepassingsfouten</span><span class="sxs-lookup"><span data-stu-id="e890c-677">Debugging application failures</span></span>
* <span data-ttu-id="e890c-678">`stderr` en `stdout`</span><span class="sxs-lookup"><span data-stu-id="e890c-678">`stderr` and `stdout`</span></span>

    <span data-ttu-id="e890c-679">Tijdens het uitvoeren, kan een toepassing diagnostische uitvoer waarmee u tootroubleshoot problemen kunt opleveren.</span><span class="sxs-lookup"><span data-stu-id="e890c-679">During execution, an application might produce diagnostic output that you can use tootroubleshoot issues.</span></span> <span data-ttu-id="e890c-680">Zoals vermeld in Hallo eerder gedeelte [bestanden en mappen](#files-and-directories), Hallo Batch-service schrijft standaarduitvoer en de standaardfout uitvoer te`stdout.txt` en `stderr.txt` bestanden in de taakmap Hallo op Hallo rekenknooppunt.</span><span class="sxs-lookup"><span data-stu-id="e890c-680">As mentioned in hello earlier section [Files and directories](#files-and-directories), hello Batch service writes standard output and standard error output too`stdout.txt` and `stderr.txt` files in hello task directory on hello compute node.</span></span> <span data-ttu-id="e890c-681">U kunt hello Azure-portal of een van de Hallo Batch-SDK's toodownload gebruiken deze bestanden.</span><span class="sxs-lookup"><span data-stu-id="e890c-681">You can use hello Azure portal or one of hello Batch SDKs toodownload these files.</span></span> <span data-ttu-id="e890c-682">Bijvoorbeeld, kunt u deze en andere bestanden voor het oplossen van problemen met behulp van ophalen [ComputeNode.GetNodeFile] [ net_getfile_node] en [CloudTask.GetNodeFile] [ net_getfile_task] in Hallo Batch .NET-bibliotheek.</span><span class="sxs-lookup"><span data-stu-id="e890c-682">For example, you can retrieve these and other files for troubleshooting purposes by using [ComputeNode.GetNodeFile][net_getfile_node] and [CloudTask.GetNodeFile][net_getfile_task] in hello Batch .NET library.</span></span>

* <span data-ttu-id="e890c-683">**Taakafsluitcodes**</span><span class="sxs-lookup"><span data-stu-id="e890c-683">**Task exit codes**</span></span>

    <span data-ttu-id="e890c-684">Zoals eerder vermeld, wordt een taak wordt gemarkeerd als defect door Hallo Batch-service als het Hallo-proces dat wordt uitgevoerd door de taak Hallo retourneert een afsluitcode die niet nul.</span><span class="sxs-lookup"><span data-stu-id="e890c-684">As mentioned earlier, a task is marked as failed by hello Batch service if hello process that is executed by hello task returns a nonzero exit code.</span></span> <span data-ttu-id="e890c-685">Wanneer een taak wordt uitgevoerd een proces, Batch van Hallo taak afsluiten code eigenschap met de Hallo gevuld *retourcode van Hallo proces*.</span><span class="sxs-lookup"><span data-stu-id="e890c-685">When a task executes a process, Batch populates hello task's exit code property with hello *return code of hello process*.</span></span> <span data-ttu-id="e890c-686">Het is belangrijk toonote die de afsluitcode van een taak **niet** bepaald door Hallo Batch-service.</span><span class="sxs-lookup"><span data-stu-id="e890c-686">It is important toonote that a task's exit code is **not** determined by hello Batch service.</span></span> <span data-ttu-id="e890c-687">De afsluitcode van een taak wordt bepaald door het Hallo-proces zelf of Hallo-besturingssysteem op welke Hallo-proces dat wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e890c-687">A task's exit code is determined by hello process itself or hello operating system on which hello process executed.</span></span>

### <a name="accounting-for-task-failures-or-interruptions"></a><span data-ttu-id="e890c-688">Verklaring voor mislukte taken of onderbrekingen van taken</span><span class="sxs-lookup"><span data-stu-id="e890c-688">Accounting for task failures or interruptions</span></span>
<span data-ttu-id="e890c-689">Van tijd tot tijd kunnen taken mislukken of worden onderbroken.</span><span class="sxs-lookup"><span data-stu-id="e890c-689">Tasks might occasionally fail or be interrupted.</span></span> <span data-ttu-id="e890c-690">Hallo taaktoepassing zelf kan mislukken, Hallo knooppunt welke Hallo taak wordt uitgevoerd kan opnieuw worden opgestart of Hallo knooppunt kan worden verwijderd uit groep Hallo tijdens een bewerking formaat wijzigen als hello van groep opheffen van toewijzing van beleid set tooremove knooppunten onmiddellijk zonder te wachten taken toofinish.</span><span class="sxs-lookup"><span data-stu-id="e890c-690">hello task application itself might fail, hello node on which hello task is running might be rebooted, or hello node might be removed from hello pool during a resize operation if hello pool's deallocation policy is set tooremove nodes immediately without waiting for tasks toofinish.</span></span> <span data-ttu-id="e890c-691">In alle gevallen kan Hallo taak worden automatisch opnieuw door de Batch voor uitvoering op een ander knooppunt.</span><span class="sxs-lookup"><span data-stu-id="e890c-691">In all cases, hello task can be automatically requeued by Batch for execution on another node.</span></span>

<span data-ttu-id="e890c-692">Het is ook mogelijk dat een onregelmatig probleem toocause een taak toohang of tooexecute te lang duren.</span><span class="sxs-lookup"><span data-stu-id="e890c-692">It is also possible for an intermittent issue toocause a task toohang or take too long tooexecute.</span></span> <span data-ttu-id="e890c-693">U kunt Hallo maximale uitvoering interval voor een taak instellen.</span><span class="sxs-lookup"><span data-stu-id="e890c-693">You can set hello maximum execution interval for a task.</span></span> <span data-ttu-id="e890c-694">Als hello maximale uitvoering-interval wordt overschreden, Hallo Batch-service-interrupts Hallo taaktoepassing.</span><span class="sxs-lookup"><span data-stu-id="e890c-694">If hello maximum execution interval is exceeded, hello Batch service interrupts hello task application.</span></span>

### <a name="connecting-toocompute-nodes"></a><span data-ttu-id="e890c-695">Verbinding maken met toocompute knooppunten</span><span class="sxs-lookup"><span data-stu-id="e890c-695">Connecting toocompute nodes</span></span>
<span data-ttu-id="e890c-696">U kunt aanvullende opsporen en oplossen door het rekenknooppunt tooa extern aanmelden uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="e890c-696">You can perform additional debugging and troubleshooting by signing in tooa compute node remotely.</span></span> <span data-ttu-id="e890c-697">U kunt hello Azure portal toodownload een Remote Desktop Protocol (RDP)-bestand gebruiken voor Windows-knooppunten en de verbindingsgegevens Secure Shell (SSH) voor Linux-knooppunten te verkrijgen.</span><span class="sxs-lookup"><span data-stu-id="e890c-697">You can use hello Azure portal toodownload a Remote Desktop Protocol (RDP) file for Windows nodes and obtain Secure Shell (SSH) connection information for Linux nodes.</span></span> <span data-ttu-id="e890c-698">U kunt dit ook doen met behulp van Batch-API's--Hallo bijvoorbeeld met [Batch .NET] [ net_rdpfile] of [Batch Python](batch-linux-nodes.md#connect-to-linux-nodes-using-ssh).</span><span class="sxs-lookup"><span data-stu-id="e890c-698">You can also do this by using hello Batch APIs--for example, with [Batch .NET][net_rdpfile] or [Batch Python](batch-linux-nodes.md#connect-to-linux-nodes-using-ssh).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e890c-699">tooconnect tooa knooppunt via RDP of SSH, moet u eerst een gebruiker maken op Hallo-knooppunt.</span><span class="sxs-lookup"><span data-stu-id="e890c-699">tooconnect tooa node via RDP or SSH, you must first create a user on hello node.</span></span> <span data-ttu-id="e890c-700">toodo, kunt u hello Azure-portal [toevoegen van een gebruiker account tooa knooppunt] [ rest_create_user] via Hallo Batch REST-API aanroepen Hallo [ComputeNode.CreateComputeNodeUser] [ net_create_user] methode in Batch .NET of aanroep Hallo [add_user] [ py_add_user] methode in Hallo Batch Python-module.</span><span class="sxs-lookup"><span data-stu-id="e890c-700">toodo this, you can use hello Azure portal, [add a user account tooa node][rest_create_user] by using hello Batch REST API, call hello [ComputeNode.CreateComputeNodeUser][net_create_user] method in Batch .NET, or call hello [add_user][py_add_user] method in hello Batch Python module.</span></span>
>
>

### <a name="troubleshooting-problematic-compute-nodes"></a><span data-ttu-id="e890c-701">Problemen met problematische rekenknooppunten oplossen</span><span class="sxs-lookup"><span data-stu-id="e890c-701">Troubleshooting problematic compute nodes</span></span>
<span data-ttu-id="e890c-702">In situaties waar aantal taken mislukken, onderzoeken uw Batch-clienttoepassing of service Hallo metagegevens van Hallo mislukt taken tooidentify een zich niet normaal gedraagt knooppunt.</span><span class="sxs-lookup"><span data-stu-id="e890c-702">In situations where some of your tasks are failing, your Batch client application or service can examine hello metadata of hello failed tasks tooidentify a misbehaving node.</span></span> <span data-ttu-id="e890c-703">Elk knooppunt in een pool krijgt een unieke ID en Hallo knooppunt waarop een taak wordt uitgevoerd in de metagegevens van de taak Hallo is opgenomen.</span><span class="sxs-lookup"><span data-stu-id="e890c-703">Each node in a pool is given a unique ID, and hello node on which a task runs is included in hello task metadata.</span></span> <span data-ttu-id="e890c-704">Als u eenmaal een probleemknooppunt hebt geïdentificeerd, kunt u verschillende acties uitvoeren:</span><span class="sxs-lookup"><span data-stu-id="e890c-704">After you've identified a problem node, you can take several actions with it:</span></span>

* <span data-ttu-id="e890c-705">**Hallo knooppunt opnieuw opstarten** ([REST][rest_reboot] | [.NET][net_reboot])</span><span class="sxs-lookup"><span data-stu-id="e890c-705">**Reboot hello node** ([REST][rest_reboot] | [.NET][net_reboot])</span></span>

    <span data-ttu-id="e890c-706">Opnieuw te starten Hallo knooppunt kunt soms latente problemen zoals vastgelopen of gecrashte processen wissen.</span><span class="sxs-lookup"><span data-stu-id="e890c-706">Restarting hello node can sometimes clear up latent issues like stuck or crashed processes.</span></span> <span data-ttu-id="e890c-707">Houd er rekening mee dat als uw pool een begintaak gebruikt of uw job een jobvoorbereidingstaak gebruikt, worden deze uitgevoerd wanneer Hallo knooppunt opnieuw wordt opgestart.</span><span class="sxs-lookup"><span data-stu-id="e890c-707">Note that if your pool uses a start task or your job uses a job preparation task, they are executed when hello node restarts.</span></span>
* <span data-ttu-id="e890c-708">**Hallo knooppunt installatiekopie** ([REST][rest_reimage] | [.NET][net_reimage])</span><span class="sxs-lookup"><span data-stu-id="e890c-708">**Reimage hello node** ([REST][rest_reimage] | [.NET][net_reimage])</span></span>

    <span data-ttu-id="e890c-709">Dit wordt opnieuw geïnstalleerd besturingssysteem Hallo op Hallo-knooppunt.</span><span class="sxs-lookup"><span data-stu-id="e890c-709">This reinstalls hello operating system on hello node.</span></span> <span data-ttu-id="e890c-710">Net als bij het opstarten van een knooppunt, Begintaken en jobvoorbereidingstaken opnieuw worden uitgevoerd nadat Hallo-knooppunt is teruggezet.</span><span class="sxs-lookup"><span data-stu-id="e890c-710">As with rebooting a node, start tasks and job preparation tasks are rerun after hello node has been reimaged.</span></span>
* <span data-ttu-id="e890c-711">**Hallo knooppunt verwijderen uit groep Hallo** ([REST][rest_remove] | [.NET][net_remove])</span><span class="sxs-lookup"><span data-stu-id="e890c-711">**Remove hello node from hello pool** ([REST][rest_remove] | [.NET][net_remove])</span></span>

    <span data-ttu-id="e890c-712">Soms is het nodig toocompletely verwijderen Hallo van het knooppunt uit Hallo-groep.</span><span class="sxs-lookup"><span data-stu-id="e890c-712">Sometimes it is necessary toocompletely remove hello node from hello pool.</span></span>
* <span data-ttu-id="e890c-713">**Taakplanning op Hallo knooppunt uitschakelen** ([REST][rest_offline] | [.NET][net_offline])</span><span class="sxs-lookup"><span data-stu-id="e890c-713">**Disable task scheduling on hello node** ([REST][rest_offline] | [.NET][net_offline])</span></span>

    <span data-ttu-id="e890c-714">Dit vindt effectief Hallo-knooppunt offline zodat er geen taken meer tooit zijn toegewezen, maar kunt Hallo knooppunt tooremain uitgevoerd en in Hallo van toepassingen.</span><span class="sxs-lookup"><span data-stu-id="e890c-714">This effectively takes hello node offline so that no further tasks are assigned tooit, but allows hello node tooremain running and in hello pool.</span></span> <span data-ttu-id="e890c-715">Hiermee kunt u verder onderzoek tooperform in Hallo oorzaak van Hallo fouten zonder verlies van gegevens Hallo mislukte taak en zonder Hallo knooppunt extra taakfouten veroorzaakt.</span><span class="sxs-lookup"><span data-stu-id="e890c-715">This enables you tooperform further investigation into hello cause of hello failures without losing hello failed task's data, and without hello node causing additional task failures.</span></span> <span data-ttu-id="e890c-716">Bijvoorbeeld, u kunt taakplanning uitschakelen op Hallo-knooppunt vervolgens [extern aanmelden](#connecting-to-compute-nodes) tooexamine Hallo de gebeurtenislogboeken van het knooppunt of andere probleemoplossing uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="e890c-716">For example, you can disable task scheduling on hello node, then [sign in remotely](#connecting-to-compute-nodes) tooexamine hello node's event logs or perform other troubleshooting.</span></span> <span data-ttu-id="e890c-717">Nadat u uw onderzoek hebt, kunt u vervolgens Hallo knooppunt weer online brengen doordat taakplanning ([REST][rest_online] | [.NET] [ net_online]), of voer een van de Hallo andere acties die eerder is besproken.</span><span class="sxs-lookup"><span data-stu-id="e890c-717">After you've finished your investigation, you can then bring hello node back online by enabling task scheduling ([REST][rest_online] | [.NET][net_online]), or perform one of hello other actions discussed earlier.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e890c-718">Met elke actie die wordt beschreven in deze sectie--opnieuw opstarten, terugzetten van de installatiekopie, verwijderen en schakel taakplanning--u kunt toospecify hoe taken die momenteel worden uitgevoerd op Hallo knooppunt worden verwerkt wanneer u Hallo actie uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="e890c-718">With each action that is described in this section--reboot, reimage, remove, and disable task scheduling--you are able toospecify how tasks currently running on hello node are handled when you perform hello action.</span></span> <span data-ttu-id="e890c-719">Bijvoorbeeld, wanneer u taakplanning uitschakelen op een knooppunt met behulp van Hallo Batch .NET-clientbibliotheek kunt u een [DisableComputeNodeSchedulingOption] [ net_offline_option] enum-waarde toospecify of te**Beëindigen** taken uitvoeren, **Requeue** ze voor het plannen van op andere knooppunten of actieve taken toocomplete toe voordat u Hallo actie uitvoert (**TaskCompletion**).</span><span class="sxs-lookup"><span data-stu-id="e890c-719">For example, when you disable task scheduling on a node by using hello Batch .NET client library, you can specify a [DisableComputeNodeSchedulingOption][net_offline_option] enum value toospecify whether too**Terminate** running tasks, **Requeue** them for scheduling on other nodes, or allow running tasks toocomplete before performing hello action (**TaskCompletion**).</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="e890c-720">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="e890c-720">Next steps</span></span>
* <span data-ttu-id="e890c-721">Meer informatie over Hallo [Batch-API's en hulpprogramma's](batch-apis-tools.md) beschikbaar voor het bouwen van Batch-oplossingen.</span><span class="sxs-lookup"><span data-stu-id="e890c-721">Learn about hello [Batch APIs and tools](batch-apis-tools.md) available for building Batch solutions.</span></span>
* <span data-ttu-id="e890c-722">Een Batch voorbeeldtoepassing stapsgewijze in doorlopen [aan de slag met hello Azure Batch-bibliotheek voor .NET](batch-dotnet-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-722">Walk through a sample Batch application step-by-step in [Get started with hello Azure Batch Library for .NET](batch-dotnet-get-started.md).</span></span> <span data-ttu-id="e890c-723">Er is ook een [Python-versie](batch-python-tutorial.md) van Hallo-zelfstudie die wordt uitgevoerd een werklast op Linux-rekenknooppunten.</span><span class="sxs-lookup"><span data-stu-id="e890c-723">There is also a [Python version](batch-python-tutorial.md) of hello tutorial that runs a workload on Linux compute nodes.</span></span>
* <span data-ttu-id="e890c-724">Download en bouw Hallo [Batch Explorer] [ github_batchexplorer] voorbeeldproject voor gebruik bij het ontwikkelen van uw Batch-oplossingen.</span><span class="sxs-lookup"><span data-stu-id="e890c-724">Download and build hello [Batch Explorer][github_batchexplorer] sample project for use while you develop your Batch solutions.</span></span> <span data-ttu-id="e890c-725">Hallo Batch Explorer gebruikt, kunt u de volgende Hallo en nog veel meer uitvoeren:</span><span class="sxs-lookup"><span data-stu-id="e890c-725">Using hello Batch Explorer, you can perform hello following and more:</span></span>

  * <span data-ttu-id="e890c-726">Pools, jobs en taken in uw Batch-account controleren en bewerken</span><span class="sxs-lookup"><span data-stu-id="e890c-726">Monitor and manipulate pools, jobs, and tasks within your Batch account</span></span>
  * <span data-ttu-id="e890c-727">`stdout.txt`, `stderr.txt` en andere bestanden van knooppunten downloaden</span><span class="sxs-lookup"><span data-stu-id="e890c-727">Download `stdout.txt`, `stderr.txt`, and other files from nodes</span></span>
  * <span data-ttu-id="e890c-728">Gebruikers maken op knooppunten en RDP-bestanden downloaden voor externe aanmelding</span><span class="sxs-lookup"><span data-stu-id="e890c-728">Create users on nodes and download RDP files for remote login</span></span>
* <span data-ttu-id="e890c-729">Meer informatie over hoe te[maken van groepen van Linux-rekenknooppunten](batch-linux-nodes.md).</span><span class="sxs-lookup"><span data-stu-id="e890c-729">Learn how too[create pools of Linux compute nodes](batch-linux-nodes.md).</span></span>
* <span data-ttu-id="e890c-730">Ga naar Hallo [Azure Batch-forum] [ batch_forum] op MSDN.</span><span class="sxs-lookup"><span data-stu-id="e890c-730">Visit hello [Azure Batch forum][batch_forum] on MSDN.</span></span> <span data-ttu-id="e890c-731">Hallo-forum is een goede plaats tooask vragen, ongeacht of u alleen leren of een expert in met behulp van Batch zijn.</span><span class="sxs-lookup"><span data-stu-id="e890c-731">hello forum is a good place tooask questions, whether you are just learning or are an expert in using Batch.</span></span>

[1]: ./media/batch-api-basics/node-folder-structure.png

[azure_storage]: https://azure.microsoft.com/services/storage/
[batch_forum]: https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurebatch
[cloud_service_sizes]: ../cloud-services/cloud-services-sizes-specs.md
[msmpi]: https://msdn.microsoft.com/library/bb524831.aspx
[github_samples]: https://github.com/Azure/azure-batch-samples
[github_sample_taskdeps]:  https://github.com/Azure/azure-batch-samples/tree/master/CSharp/ArticleProjects/TaskDependencies
[github_batchexplorer]: https://github.com/Azure/azure-batch-samples/tree/master/CSharp/BatchExplorer
[batch_net_api]: https://msdn.microsoft.com/library/azure/mt348682.aspx
[msdn_env_vars]: https://msdn.microsoft.com/library/azure/mt743623.aspx
[net_cloudjob_jobmanagertask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.jobmanagertask.aspx
[net_cloudjob_priority]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.priority.aspx
[net_cloudpool_starttask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudpool.starttask.aspx
[net_cloudtask_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.environmentsettings.aspx
[net_create_cert]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.certificateoperations.createcertificate.aspx
[net_create_user]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.createcomputenodeuser.aspx
[net_getfile_node]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getnodefile.aspx
[net_getfile_task]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.getnodefile.aspx
[net_job_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.commonenvironmentsettings.aspx
[net_multiinstancesettings]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.multiinstancesettings.aspx
[net_onalltaskscomplete]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.onalltaskscomplete.aspx
[net_rdp]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getrdpfile.aspx
[net_reboot]: https://msdn.microsoft.com/library/azure/mt631495.aspx
[net_reimage]: https://msdn.microsoft.com/library/azure/mt631496.aspx
[net_remove]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.removefrompoolasync.aspx
[net_offline]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.disableschedulingasync.aspx
[net_online]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.enableschedulingasync.aspx
[net_offline_option]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.common.disablecomputenodeschedulingoption.aspx
[net_rdpfile]: https://msdn.microsoft.com/library/azure/Mt272127.aspx
[vnet]: https://msdn.microsoft.com/library/azure/dn820174.aspx#bk_netconf

[py_add_user]: http://azure-sdk-for-python.readthedocs.io/en/latest/ref/azure.batch.operations.html#azure.batch.operations.ComputeNodeOperations.add_user

[batch_rest_api]: https://msdn.microsoft.com/library/azure/Dn820158.aspx
[rest_add_job]: https://msdn.microsoft.com/library/azure/mt282178.aspx
[rest_add_pool]: https://msdn.microsoft.com/library/azure/dn820174.aspx
[rest_add_cert]: https://msdn.microsoft.com/library/azure/dn820169.aspx
[rest_add_task]: https://msdn.microsoft.com/library/azure/dn820105.aspx
[rest_create_user]: https://msdn.microsoft.com/library/azure/dn820137.aspx
[rest_get_task_info]: https://msdn.microsoft.com/library/azure/dn820133.aspx
[rest_job_schedules]: https://msdn.microsoft.com/library/azure/mt282179.aspx
[rest_multiinstance]: https://msdn.microsoft.com/library/azure/mt637905.aspx
[rest_multiinstancesettings]: https://msdn.microsoft.com/library/azure/dn820105.aspx#multiInstanceSettings
[rest_update_job]: https://msdn.microsoft.com/library/azure/dn820162.aspx
[rest_rdp]: https://msdn.microsoft.com/library/azure/dn820120.aspx
[rest_reboot]: https://msdn.microsoft.com/library/azure/dn820171.aspx
[rest_reimage]: https://msdn.microsoft.com/library/azure/dn820157.aspx
[rest_remove]: https://msdn.microsoft.com/library/azure/dn820194.aspx
[rest_offline]: https://msdn.microsoft.com/library/azure/mt637904.aspx
[rest_online]: https://msdn.microsoft.com/library/azure/mt637907.aspx

[vm_marketplace]: https://azure.microsoft.com/marketplace/virtual-machines/
