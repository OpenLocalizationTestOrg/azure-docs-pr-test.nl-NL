---
title: 'Azure Analysis Services-zelfstudie - Les 4: Relaties maken | Microsoft Docs'
description: In deze les wordt beschreven hoe u relaties maakt in de zelfstudie over Azure Analysis Services.
services: analysis-services
documentationcenter: 
author: minewiskan
manager: erikre
editor: 
tags: 
ms.assetid: 
ms.service: analysis-services
ms.devlang: NA
ms.topic: get-started-article
ms.tgt_pltfrm: NA
ms.workload: na
ms.date: 05/26/2017
ms.author: owend
ms.openlocfilehash: d79af3915c718a79f60e5f589527eb4c2ae8b367
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/11/2017
---
# <a name="lesson-4-create-relationships"></a><span data-ttu-id="f44e3-103">Les 4: Relaties maken</span><span class="sxs-lookup"><span data-stu-id="f44e3-103">Lesson 4: Create relationships</span></span>

[!INCLUDE[analysis-services-appliesto-aas-sql2017-later](../../../includes/analysis-services-appliesto-aas-sql2017-later.md)]

<span data-ttu-id="f44e3-104">In deze les gaat u de relaties controleren die automatisch zijn gemaakt tijdens het importeren van gegevens en nieuwe relaties toevoegen tussen verschillende tabellen.</span><span class="sxs-lookup"><span data-stu-id="f44e3-104">In this lesson, you verify the relationships that were created automatically when you imported data and add new relationships between different tables.</span></span> <span data-ttu-id="f44e3-105">Een relatie is een verbinding tussen twee tabellen die bepaalt hoe de gegevens in deze tabellen moeten worden gecorreleerd.</span><span class="sxs-lookup"><span data-stu-id="f44e3-105">A relationship is a connection between two tables that establishes how the data in those tables should be correlated.</span></span> <span data-ttu-id="f44e3-106">De tabel DimProduct en de tabel DimProductSubcategory hebben bijvoorbeeld een relatie die is gebaseerd op het feit dat elk product tot een subcategorie behoort.</span><span class="sxs-lookup"><span data-stu-id="f44e3-106">For example, the DimProduct table and the DimProductSubcategory table have a relationship based on the fact that each product belongs to a subcategory.</span></span> <span data-ttu-id="f44e3-107">Zie [Relaties](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="f44e3-107">To learn more, see [Relationships](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span></span>
  
<span data-ttu-id="f44e3-108">Geschatte tijd voor het voltooien van deze les: **10 minuten**</span><span class="sxs-lookup"><span data-stu-id="f44e3-108">Estimated time to complete this lesson: **10 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="f44e3-109">Vereisten</span><span class="sxs-lookup"><span data-stu-id="f44e3-109">Prerequisites</span></span>  
<span data-ttu-id="f44e3-110">Dit onderwerp maakt deel uit van een zelfstudie over het ontwerpen van een tabellair model. De lessen van de zelfstudie moeten op volgorde worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="f44e3-110">This topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="f44e3-111">Voordat u de taken in deze les gaat uitvoeren, moet u de vorige les hebben voltooid: [Les 3: Als gegevenstabel markeren](../tutorials/aas-lesson-3-mark-as-date-table.md).</span><span class="sxs-lookup"><span data-stu-id="f44e3-111">Before performing the tasks in this lesson, you should have completed the previous lesson: [Lesson 3: Mark as Date Table](../tutorials/aas-lesson-3-mark-as-date-table.md).</span></span> 
  
## <a name="review-existing-relationships-and-add-new-relationships"></a><span data-ttu-id="f44e3-112">Bestaande relaties controleren en nieuwe relaties toevoegen</span><span class="sxs-lookup"><span data-stu-id="f44e3-112">Review existing relationships and add new relationships</span></span>  
<span data-ttu-id="f44e3-113">Bij het importeren van gegevens met behulp van Get Data zijn zeven tabellen opgehaald uit de database AdventureWorksDW2014.</span><span class="sxs-lookup"><span data-stu-id="f44e3-113">When you imported data by using Get Data, you got seven tables from the AdventureWorksDW2014 database.</span></span> <span data-ttu-id="f44e3-114">Over het algemeen is het zo dat bij het importeren van gegevens uit een relationele gegevensbron, bestaande relaties automatisch samen met de gegevens worden geïmporteerd.</span><span class="sxs-lookup"><span data-stu-id="f44e3-114">Generally, when you import data from a relational source, existing relationships are automatically imported together with the data.</span></span> <span data-ttu-id="f44e3-115">Voordat u echter verdergaat met het ontwerpen van uw model, moet u controleren of deze relaties tussen tabellen correct zijn gemaakt.</span><span class="sxs-lookup"><span data-stu-id="f44e3-115">However, before you proceed with authoring your model you should verify those relationships between tables were created properly.</span></span> <span data-ttu-id="f44e3-116">Voor deze zelfstudie gaat u drie nieuwe relaties toevoegen.</span><span class="sxs-lookup"><span data-stu-id="f44e3-116">For this tutorial, you add three new relationships.</span></span>  
  
#### <a name="to-review-existing-relationships"></a><span data-ttu-id="f44e3-117">Bestaande relaties controleren:</span><span class="sxs-lookup"><span data-stu-id="f44e3-117">To review existing relationships</span></span>  
  
1.  <span data-ttu-id="f44e3-118">Klik op het menu **Model** > **Model View** > **Diagram View**.</span><span class="sxs-lookup"><span data-stu-id="f44e3-118">Click the **Model** menu > **Model View** > **Diagram View**.</span></span>  

    <span data-ttu-id="f44e3-119">De ontwerpfunctie voor modellen wordt nu weergegeven in de diagramweergave. Dit is een grafische weergave waarin alle geïmporteerde tabellen met lijnen met elkaar zijn verbonden.</span><span class="sxs-lookup"><span data-stu-id="f44e3-119">The model designer now appears in Diagram View, a graphical format displaying all the tables you imported with lines between them.</span></span> <span data-ttu-id="f44e3-120">De lijnen tussen de tabellen geven de relaties aan die automatisch zijn gemaakt bij het importeren van de gegevens.</span><span class="sxs-lookup"><span data-stu-id="f44e3-120">The lines between tables indicate the relationships that were automatically created when you imported the data.</span></span>
    
    ![aas-lesson4-diagram](../tutorials/media/aas-lesson4-diagram.png)
  
    <span data-ttu-id="f44e3-122">Voeg zo veel tabellen als mogelijk toe met behulp van de MiniMap-besturingselementen in de rechterbenedenhoek van de ontwerpfunctie.</span><span class="sxs-lookup"><span data-stu-id="f44e3-122">Include as many of the tables as possible by using minimap controls in the lower-right corner of the model designer.</span></span> <span data-ttu-id="f44e3-123">U kunt tabellen ook naar andere locaties slepen, tabellen dichter bij elkaar zetten of ze in een bepaalde volgorde plaatsen.</span><span class="sxs-lookup"><span data-stu-id="f44e3-123">You can also click and drag tables to different locations, bringing tables closer together, or putting them in a particular order.</span></span> <span data-ttu-id="f44e3-124">Het verplaatsen van tabellen heeft geen invloed op bestaande relaties tussen de tabellen.</span><span class="sxs-lookup"><span data-stu-id="f44e3-124">Moving tables does not affect the relationships already between the tables.</span></span> <span data-ttu-id="f44e3-125">Als u alle kolommen in een bepaalde tabel wilt weergeven, sleept u een tabelrand om de tabel groter of kleiner te maken.</span><span class="sxs-lookup"><span data-stu-id="f44e3-125">To view all the columns in a particular table, click and drag on a table edge to expand or make it smaller.</span></span>  
  
2.  <span data-ttu-id="f44e3-126">Klik op de ononderbroken lijn tussen de tabel **DimCustomer** en de tabel **DimGeography**.</span><span class="sxs-lookup"><span data-stu-id="f44e3-126">Click the solid line between the **DimCustomer** table and the **DimGeography** table.</span></span> <span data-ttu-id="f44e3-127">De ononderbroken lijn tussen deze twee tabellen geeft aan dat dit een actieve relatie is, wat inhoudt dat de relatie standaard wordt gebruikt bij het berekenen van DAX formules.</span><span class="sxs-lookup"><span data-stu-id="f44e3-127">The solid line between these two tables shows this relationship is active, that is, it is used by default when calculating DAX formulas.</span></span>  
  
    <span data-ttu-id="f44e3-128">U ziet dat de kolom **GeographyKey** in de tabel **DimCustomer** en de kolom **GeographyKey** in de tabel **DimGeography** nu allebei in een kader worden weergegeven.</span><span class="sxs-lookup"><span data-stu-id="f44e3-128">Notice the **GeographyKey** column in the **DimCustomer** table and the **GeographyKey** column in the **DimGeography** table now both each appear within a box.</span></span> <span data-ttu-id="f44e3-129">Dit zijn de kolommen die worden gebruikt in de relatie.</span><span class="sxs-lookup"><span data-stu-id="f44e3-129">These columns are used in the relationship.</span></span> <span data-ttu-id="f44e3-130">De eigenschappen van de relatie worden nu ook weergegeven in het venster **Properties**.</span><span class="sxs-lookup"><span data-stu-id="f44e3-130">The relationship’s properties now also appear in the **Properties** window.</span></span>  
  
    > [!TIP]  
    > <span data-ttu-id="f44e3-131">U kunt de relaties tussen alle tabellen ook in tabelvorm weergeven met behulp van het dialoogvenster Manage Relationships.</span><span class="sxs-lookup"><span data-stu-id="f44e3-131">In addition to using the model designer in diagram view, you can also use the Manage Relationships dialog box to show the relationships between all tables in a table format.</span></span> <span data-ttu-id="f44e3-132">Klik hiervoor in Tabular Model Explorer met de rechtermuisknop op **Relationships** > **Manage Relationships**.</span><span class="sxs-lookup"><span data-stu-id="f44e3-132">In Tabular Model Explorer, right-click **Relationships** > **Manage Relationships**.</span></span>
  
3.  <span data-ttu-id="f44e3-133">Controleer of de volgende relaties zijn gemaakt tijdens het importeren van de tabellen uit de database AdventureWorksDW:</span><span class="sxs-lookup"><span data-stu-id="f44e3-133">Verify the following relationships were created when each of the tables were imported from the AdventureWorksDW database:</span></span>  
  
    |<span data-ttu-id="f44e3-134">Actief</span><span class="sxs-lookup"><span data-stu-id="f44e3-134">Active</span></span>|<span data-ttu-id="f44e3-135">Tabel</span><span class="sxs-lookup"><span data-stu-id="f44e3-135">Table</span></span>|<span data-ttu-id="f44e3-136">Gerelateerde opzoektabel</span><span class="sxs-lookup"><span data-stu-id="f44e3-136">Related Lookup Table</span></span>|  
    |----------|---------|------------------------|  
    |<span data-ttu-id="f44e3-137">Ja</span><span class="sxs-lookup"><span data-stu-id="f44e3-137">Yes</span></span>|<span data-ttu-id="f44e3-138">**DimCustomer [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="f44e3-138">**DimCustomer [GeographyKey]**</span></span>|<span data-ttu-id="f44e3-139">**DimGeography [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="f44e3-139">**DimGeography [GeographyKey]**</span></span>|  
    |<span data-ttu-id="f44e3-140">Ja</span><span class="sxs-lookup"><span data-stu-id="f44e3-140">Yes</span></span>|<span data-ttu-id="f44e3-141">**DimProduct [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="f44e3-141">**DimProduct [ProductSubcategoryKey]**</span></span>|<span data-ttu-id="f44e3-142">**DimProductSubcategory [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="f44e3-142">**DimProductSubcategory [ProductSubcategoryKey]**</span></span>|  
    |<span data-ttu-id="f44e3-143">Ja</span><span class="sxs-lookup"><span data-stu-id="f44e3-143">Yes</span></span>|<span data-ttu-id="f44e3-144">**DimProductSubcategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="f44e3-144">**DimProductSubcategory [ProductCategoryKey]**</span></span>|<span data-ttu-id="f44e3-145">**DimProductCategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="f44e3-145">**DimProductCategory [ProductCategoryKey]**</span></span>|  
    |<span data-ttu-id="f44e3-146">Ja</span><span class="sxs-lookup"><span data-stu-id="f44e3-146">Yes</span></span>|<span data-ttu-id="f44e3-147">**FactInternetSales [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="f44e3-147">**FactInternetSales [CustomerKey]**</span></span>|<span data-ttu-id="f44e3-148">**DimCustomer [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="f44e3-148">**DimCustomer [CustomerKey]**</span></span>|  
    |<span data-ttu-id="f44e3-149">Ja</span><span class="sxs-lookup"><span data-stu-id="f44e3-149">Yes</span></span>|<span data-ttu-id="f44e3-150">**FactInternetSales [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="f44e3-150">**FactInternetSales [ProductKey]**</span></span>|<span data-ttu-id="f44e3-151">**DimProduct [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="f44e3-151">**DimProduct [ProductKey]**</span></span>|  
  
    <span data-ttu-id="f44e3-152">Als een van de relaties ontbreekt, controleert u of het model de volgende tabellen bevat: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory en FactInternetSales.</span><span class="sxs-lookup"><span data-stu-id="f44e3-152">If any of the relationships are missing, verify that your model includes the following tables: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory, and FactInternetSales.</span></span> <span data-ttu-id="f44e3-153">Als tabellen uit dezelfde verbonden gegevensbron op verschillende momenten worden geïmporteerd, worden eventuele relaties tussen deze tabellen niet overgenomen en moeten deze handmatig worden gemaakt.</span><span class="sxs-lookup"><span data-stu-id="f44e3-153">If tables from the same data source connection are imported at separate times, any relationships between those tables are not be created and must be created manually.</span></span>  

### <a name="take-a-closer-look"></a><span data-ttu-id="f44e3-154">Diagramweergave</span><span class="sxs-lookup"><span data-stu-id="f44e3-154">Take a closer look</span></span>
<span data-ttu-id="f44e3-155">In de diagramweergave ziet u een pijl, een sterretje en een nummer op de lijnen die de relatie tussen tabellen aangeven.</span><span class="sxs-lookup"><span data-stu-id="f44e3-155">In Diagram View, notice an arrow, an asterisk, and a number on the lines that show the relationship between tables.</span></span>

![aas-lesson4-line](../tutorials/media/aas-lesson4-line.png)

<span data-ttu-id="f44e3-157">De pijl geeft de filterrichting aan.</span><span class="sxs-lookup"><span data-stu-id="f44e3-157">The arrow shows the filter direction.</span></span> <span data-ttu-id="f44e3-158">Het sterretje betekent dat deze tabel de veel-zijde vertegenwoordigt van de kardinaliteit van de relatie. Het nummer één betekent dat deze tabel de een-zijde van de relatie voorstelt.</span><span class="sxs-lookup"><span data-stu-id="f44e3-158">The asterisk shows this table is the many side in the relationship's cardinality, and the one shows this table is the one side of the relationship.</span></span> <span data-ttu-id="f44e3-159">Als u een relatie wilt bewerken, bijvoorbeeld om de filterrichting van de relatie of de kardinaliteit te wijzigen, dubbelklikt u op de relatielijn om het dialoogvenster Edit Relationship te openen.</span><span class="sxs-lookup"><span data-stu-id="f44e3-159">If you need to edit a relationship; for example, change the relationship's filter direction or cardinality, double-click the relationship line to open the Edit Relationship dialog.</span></span>

![aas-lesson4-edit](../tutorials/media/aas-lesson4-edit.png)

<span data-ttu-id="f44e3-161">Deze functies zijn bedoeld voor geavanceerde gegevensmodellering en vallen buiten het bereik van deze zelfstudie.</span><span class="sxs-lookup"><span data-stu-id="f44e3-161">These features are meant for advanced data modeling and are outside the scope of this tutorial.</span></span> <span data-ttu-id="f44e3-162">Ga voor meer informatie naar [Bi-directional cross filters - tabular models - Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services) (Bidirectionele kruisfilters voor tabellaire modellen in Analysis Services).</span><span class="sxs-lookup"><span data-stu-id="f44e3-162">To learn more, see [Bi-directional cross filters for tabular models in Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span></span>

<span data-ttu-id="f44e3-163">In sommige gevallen moet u mogelijk aanvullende relaties maken tussen tabellen in het model om ondersteuning in te bouwen voor bepaalde bedrijfslogica.</span><span class="sxs-lookup"><span data-stu-id="f44e3-163">In some cases, you may need to create additional relationships between tables in your model to support certain business logic.</span></span> <span data-ttu-id="f44e3-164">Voor deze zelfstudie moet u drie extra relaties maken tussen de tabel FactInternetSales en de tabel DimDate.</span><span class="sxs-lookup"><span data-stu-id="f44e3-164">For this tutorial, you need to create three additional relationships between the FactInternetSales table and the DimDate table.</span></span>  
  
#### <a name="to-add-new-relationships-between-tables"></a><span data-ttu-id="f44e3-165">Nieuwe relaties tussen tabellen toevoegen:</span><span class="sxs-lookup"><span data-stu-id="f44e3-165">To add new relationships between tables</span></span>  
  
1.  <span data-ttu-id="f44e3-166">Ga in de ontwerpfunctie voor modellen naar de tabel **FactInternetSales** en sleep de kolom **OrderDate** naar de kolom **Date** in de tabel **DimDate**.</span><span class="sxs-lookup"><span data-stu-id="f44e3-166">In the model designer, in the **FactInternetSales** table, click, and hold on the **OrderDate** column, then drag the cursor to the **Date** column in the **DimDate** table, and then release.</span></span>  

    <span data-ttu-id="f44e3-167">Er wordt een ononderbroken lijn weergegeven om aan te geven dat u een actieve relatie hebt gemaakt tussen de kolom **OrderDate** in de tabel **FactInternetSales** en de kolom **Date** in de tabel **Date**.</span><span class="sxs-lookup"><span data-stu-id="f44e3-167">A solid line appears showing you have created an active relationship between the **OrderDate** column in the **Internet Sales** table, and the **Date** column in the **Date** table.</span></span> 
  
      ![aas-lesson4-new](../tutorials/media/aas-lesson4-new.png) 
  
    > [!NOTE]  
    > <span data-ttu-id="f44e3-169">Wanneer u relaties maakt, worden de kardinaliteit en de filterrichting tussen de primaire tabel en de gerelateerde opzoektabel automatisch geselecteerd.</span><span class="sxs-lookup"><span data-stu-id="f44e3-169">When creating relationships, the cardinality and filter direction between the primary table and the related lookup table is automatically selected.</span></span>  
  
2.  <span data-ttu-id="f44e3-170">Sleep de kolom **DueDate** in de tabel **FactInternetSales** naar de kolom **Date** in de tabel **DimDate**.</span><span class="sxs-lookup"><span data-stu-id="f44e3-170">In the **FactInternetSales** table, click and hold on the **DueDate** column, then drag the cursor to the **Date** column in the **DimDate** table, and then release.</span></span>  
  
    <span data-ttu-id="f44e3-171">Er wordt een stippellijn weergegeven om aan te geven dat u een inactieve relatie hebt gemaakt tussen de kolom **DueDate** in de tabel **FactInternetSales** en de kolom **Date** in de tabel **Date**.</span><span class="sxs-lookup"><span data-stu-id="f44e3-171">A dotted line appears showing you have created an inactive relationship between the **DueDate** column in the **FactInternetSales** table, and the **Date** column in the **DimDate** table.</span></span> <span data-ttu-id="f44e3-172">U kunt meerdere relaties maken tussen tabellen, maar er kan altijd maar één relatie actief zijn.</span><span class="sxs-lookup"><span data-stu-id="f44e3-172">You can have multiple relationships between tables, but only one relationship can be active at a time.</span></span> <span data-ttu-id="f44e3-173">Inactieve relaties kunnen actief worden gemaakt om speciale aggregaties uit te voeren in aangepaste DAX-expressies.</span><span class="sxs-lookup"><span data-stu-id="f44e3-173">Inactive relationships can be made active to perform special aggregations in custom DAX expressions.</span></span>  
  
3.  <span data-ttu-id="f44e3-174">We gaan ter afsluiting nog één relatie maken.</span><span class="sxs-lookup"><span data-stu-id="f44e3-174">Finally, create one more relationship.</span></span> <span data-ttu-id="f44e3-175">Sleep de kolom **ShipDate** in de tabel **FactInternetSales** naar de kolom **Date** in de tabel **DimDate**.</span><span class="sxs-lookup"><span data-stu-id="f44e3-175">In the **FactInternetSales** table, click and hold on the **ShipDate** column, then drag the cursor to the **Date** column in the **DimDate** table, and then release.</span></span>  
    
     ![aas-lesson4-newinactive](../tutorials/media/aas-lesson4-newinactive.png)
  
## <a name="whats-next"></a><span data-ttu-id="f44e3-177">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="f44e3-177">What's next?</span></span>
<span data-ttu-id="f44e3-178">[Les 5: Berekende kolommen maken](../tutorials/aas-lesson-5-create-calculated-columns.md).</span><span class="sxs-lookup"><span data-stu-id="f44e3-178">[Lesson 5: Create calculated columns](../tutorials/aas-lesson-5-create-calculated-columns.md).</span></span>
  
  
  
