---
title: Validatie - Microsoft Threat Modeling Tool - Azure aaaInput | Microsoft Docs
description: oplossingen voor bedreigingen die worden weergegeven in Hallo Threat Modeling hulpprogramma
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 823503881f4bae292ef021834d5e64acf2a0f54a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-input-validation--mitigations"></a><span data-ttu-id="edb10-103">Beveiliging Frame: Invoervalidatie | Oplossingen</span><span class="sxs-lookup"><span data-stu-id="edb10-103">Security Frame: Input Validation | Mitigations</span></span> 
| <span data-ttu-id="edb10-104">Product/Service</span><span class="sxs-lookup"><span data-stu-id="edb10-104">Product/Service</span></span> | <span data-ttu-id="edb10-105">Artikel</span><span class="sxs-lookup"><span data-stu-id="edb10-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="edb10-106">**Webtoepassing**</span><span class="sxs-lookup"><span data-stu-id="edb10-106">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="edb10-107">Schakel XSLT uitvoeren van scripts voor alle transformaties met behulp van niet-vertrouwde opmaakmodellen</span><span class="sxs-lookup"><span data-stu-id="edb10-107">Disable XSLT scripting for all transforms using untrusted style sheets</span></span>](#disable-xslt)</li><li>[<span data-ttu-id="edb10-108">Zorg ervoor dat elke pagina waarvan de gebruiker instelbare inhoud buiten automatische MIME-controle kiest</span><span class="sxs-lookup"><span data-stu-id="edb10-108">Ensure that each page that could contain user controllable content opts out of automatic MIME sniffing</span></span>](#out-sniffing)</li><li>[<span data-ttu-id="edb10-109">Beperken of XML-entiteit omzetting uitschakelen</span><span class="sxs-lookup"><span data-stu-id="edb10-109">Harden or Disable XML Entity Resolution</span></span>](#xml-resolution)</li><li>[<span data-ttu-id="edb10-110">Toepassingen die gebruikmaken van http.sys uitvoeren URL standaardisatie verificatie</span><span class="sxs-lookup"><span data-stu-id="edb10-110">Applications utilizing http.sys perform URL canonicalization verification</span></span>](#app-verification)</li><li>[<span data-ttu-id="edb10-111">Zorg passende controles zijn geïmplementeerd tijdens het accepteren van bestanden van gebruikers</span><span class="sxs-lookup"><span data-stu-id="edb10-111">Ensure appropriate controls are in place when accepting files from users</span></span>](#controls-users)</li><li>[<span data-ttu-id="edb10-112">Zorg ervoor dat type veilig parameters in webtoepassing worden gebruikt voor toegang tot gegevens</span><span class="sxs-lookup"><span data-stu-id="edb10-112">Ensure that type-safe parameters are used in Web Application for data access</span></span>](#typesafe)</li><li>[<span data-ttu-id="edb10-113">Afzonderlijke model binding klassen of massaopslag toewijzing beveiligingslek in het filter lijsten tooprevent MVC-binding gebruiken</span><span class="sxs-lookup"><span data-stu-id="edb10-113">Use separate model binding classes or binding filter lists tooprevent MVC mass assignment vulnerability</span></span>](#binding-mvc)</li><li>[<span data-ttu-id="edb10-114">Niet-vertrouwde web uitvoer voorafgaande toorendering coderen</span><span class="sxs-lookup"><span data-stu-id="edb10-114">Encode untrusted web output prior toorendering</span></span>](#rendering)</li><li>[<span data-ttu-id="edb10-115">Validatie voor invoer- en filteren op alle tekenreekstype modeleigenschappen uitvoeren</span><span class="sxs-lookup"><span data-stu-id="edb10-115">Perform input validation and filtering on all string type Model properties</span></span>](#typemodel)</li><li>[<span data-ttu-id="edb10-116">Opschoning moet worden toegepast op formuliervelden die tekens, bijvoorbeeld, RTF-editor accepteren</span><span class="sxs-lookup"><span data-stu-id="edb10-116">Sanitization should be applied on form fields that accept all characters, e.g, rich text editor</span></span>](#richtext)</li><li>[<span data-ttu-id="edb10-117">DOM elementen toosinks waarvoor geen ingebouwde codering niet toe te wijzen</span><span class="sxs-lookup"><span data-stu-id="edb10-117">Do not assign DOM elements toosinks that do not have inbuilt encoding</span></span>](#inbuilt-encode)</li><li>[<span data-ttu-id="edb10-118">Valideer alle omleidingen in toepassing hello zijn gesloten of veilig gedaan</span><span class="sxs-lookup"><span data-stu-id="edb10-118">Validate all redirects within hello application are closed or done safely</span></span>](#redirect-safe)</li><li>[<span data-ttu-id="edb10-119">Validatie voor invoer op alle tekenreeks typeparameters geaccepteerd door de methoden van de domeincontroller implementeren</span><span class="sxs-lookup"><span data-stu-id="edb10-119">Implement input validation on all string type parameters accepted by Controller methods</span></span>](#string-method)</li><li>[<span data-ttu-id="edb10-120">Time-out voor bovengrens instellen voor reguliere expressie voor het verwerken van tooprevent DoS vanwege toobad reguliere expressies</span><span class="sxs-lookup"><span data-stu-id="edb10-120">Set upper limit timeout for regular expression processing tooprevent DoS due toobad regular expressions</span></span>](#dos-expression)</li><li>[<span data-ttu-id="edb10-121">Vermijd het gebruik van Html.Raw in Razor weergaven</span><span class="sxs-lookup"><span data-stu-id="edb10-121">Avoid using Html.Raw in Razor views</span></span>](#html-razor)</li></ul> | 
| <span data-ttu-id="edb10-122">**Database**</span><span class="sxs-lookup"><span data-stu-id="edb10-122">**Database**</span></span> | <ul><li>[<span data-ttu-id="edb10-123">Gebruik geen dynamische query's in de opgeslagen procedures</span><span class="sxs-lookup"><span data-stu-id="edb10-123">Do not use dynamic queries in stored procedures</span></span>](#stored-proc)</li></ul> |
| <span data-ttu-id="edb10-124">**Web-API**</span><span class="sxs-lookup"><span data-stu-id="edb10-124">**Web API**</span></span> | <ul><li>[<span data-ttu-id="edb10-125">Zorg ervoor dat de validatie is uitgevoerd voor Web-API-methoden</span><span class="sxs-lookup"><span data-stu-id="edb10-125">Ensure that model validation is done on Web API methods</span></span>](#validation-api)</li><li>[<span data-ttu-id="edb10-126">Validatie voor invoer op alle tekenreeks typeparameters geaccepteerd door de methoden van de Web-API implementeren</span><span class="sxs-lookup"><span data-stu-id="edb10-126">Implement input validation on all string type parameters accepted by Web API methods</span></span>](#string-api)</li><li>[<span data-ttu-id="edb10-127">Zorg ervoor dat type veilig parameters in Web-API worden gebruikt voor toegang tot gegevens</span><span class="sxs-lookup"><span data-stu-id="edb10-127">Ensure that type-safe parameters are used in Web API for data access</span></span>](#typesafe-api)</li></ul> | 
| <span data-ttu-id="edb10-128">**Azure Documentdb**</span><span class="sxs-lookup"><span data-stu-id="edb10-128">**Azure Document DB**</span></span> | <ul><li>[<span data-ttu-id="edb10-129">SQL-query's constructorreeks mag gebruiken voor DocumentDB</span><span class="sxs-lookup"><span data-stu-id="edb10-129">Use parametrized SQL queries for DocumentDB</span></span>](#sql-docdb)</li></ul> | 
| <span data-ttu-id="edb10-130">**WCF**</span><span class="sxs-lookup"><span data-stu-id="edb10-130">**WCF**</span></span> | <ul><li>[<span data-ttu-id="edb10-131">Validatie van de WCF-invoer via schemabinding</span><span class="sxs-lookup"><span data-stu-id="edb10-131">WCF Input validation through Schema binding</span></span>](#schema-binding)</li><li>[<span data-ttu-id="edb10-132">Validatie van de WCF - invoer via Parameter Inspectors</span><span class="sxs-lookup"><span data-stu-id="edb10-132">WCF- Input validation through Parameter Inspectors</span></span>](#parameters)</li></ul> |

## <span data-ttu-id="edb10-133"><a id="disable-xslt"></a>Schakel XSLT uitvoeren van scripts voor alle transformaties met behulp van niet-vertrouwde opmaakmodellen</span><span class="sxs-lookup"><span data-stu-id="edb10-133"><a id="disable-xslt"></a>Disable XSLT scripting for all transforms using untrusted style sheets</span></span>

| <span data-ttu-id="edb10-134">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-134">Title</span></span>                   | <span data-ttu-id="edb10-135">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-135">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-136">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-136">**Component**</span></span>               | <span data-ttu-id="edb10-137">Webtoepassing</span><span class="sxs-lookup"><span data-stu-id="edb10-137">Web Application</span></span> | 
| <span data-ttu-id="edb10-138">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-138">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-139">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-139">Build</span></span> |  
| <span data-ttu-id="edb10-140">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-140">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-141">Algemene</span><span class="sxs-lookup"><span data-stu-id="edb10-141">Generic</span></span> |
| <span data-ttu-id="edb10-142">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-142">**Attributes**</span></span>              | <span data-ttu-id="edb10-143">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-143">N/A</span></span>  |
| <span data-ttu-id="edb10-144">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-144">**References**</span></span>              | <span data-ttu-id="edb10-145">[Beveiliging van de XSLT-](https://msdn.microsoft.com/library/ms763800(v=vs.85).aspx), [eigenschap XsltSettings.EnableScript](http://msdn.microsoft.com/library/system.xml.xsl.xsltsettings.enablescript.aspx)</span><span class="sxs-lookup"><span data-stu-id="edb10-145">[XSLT Security](https://msdn.microsoft.com/library/ms763800(v=vs.85).aspx), [XsltSettings.EnableScript Property](http://msdn.microsoft.com/library/system.xml.xsl.xsltsettings.enablescript.aspx)</span></span> |
| <span data-ttu-id="edb10-146">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-146">**Steps**</span></span> | <span data-ttu-id="edb10-147">XSLT ondersteunt scripting binnen StyleSheets Hallo met `<msxml:script>` element.</span><span class="sxs-lookup"><span data-stu-id="edb10-147">XSLT supports scripting inside style sheets using hello `<msxml:script>` element.</span></span> <span data-ttu-id="edb10-148">Hiermee kunt aangepaste functies toobe gebruikt in een XSLT-transformatie.</span><span class="sxs-lookup"><span data-stu-id="edb10-148">This allows custom functions toobe used in an XSLT transformation.</span></span> <span data-ttu-id="edb10-149">Hallo-script wordt uitgevoerd in de context Hallo van Hallo proces Hallo transformatie uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="edb10-149">hello script is executed under hello context of hello process performing hello transform.</span></span> <span data-ttu-id="edb10-150">XSLT-script moet worden uitgeschakeld in de uitvoering van een niet-vertrouwde omgeving tooprevent van niet-vertrouwde code.</span><span class="sxs-lookup"><span data-stu-id="edb10-150">XSLT script must be disabled when in an untrusted environment tooprevent execution of untrusted code.</span></span> <span data-ttu-id="edb10-151">*Als met .NET:* XSLT-scripting is standaard uitgeschakeld; echter, moet u ervoor zorgen dat deze is niet expliciet ingeschakeld via Hallo `XsltSettings.EnableScript` eigenschap.</span><span class="sxs-lookup"><span data-stu-id="edb10-151">*If using .NET:* XSLT scripting is disabled by default; however, you must ensure that it has not been explicitly enabled through hello `XsltSettings.EnableScript` property.</span></span>|

### <a name="example"></a><span data-ttu-id="edb10-152">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-152">Example</span></span> 

```C#
XsltSettings settings = new XsltSettings();
settings.EnableScript = true; // WRONG: THIS SHOULD BE SET toofalse
```

### <a name="example"></a><span data-ttu-id="edb10-153">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-153">Example</span></span>
<span data-ttu-id="edb10-154">Als u met behulp van MSXML 6.0, is XSLT-scripting standaard uitgeschakeld. echter, moet u ervoor zorgen dat deze is niet expliciet ingeschakeld via de eigenschap AllowXsltScript van Hallo XML DOM-object.</span><span class="sxs-lookup"><span data-stu-id="edb10-154">If you are using using MSXML 6.0, XSLT scripting is disabled by default; however, you must ensure that it has not been explicitly enabled through hello XML DOM object property AllowXsltScript.</span></span> 

```C#
doc.setProperty("AllowXsltScript", true); // WRONG: THIS SHOULD BE SET toofalse
```

### <a name="example"></a><span data-ttu-id="edb10-155">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-155">Example</span></span>
<span data-ttu-id="edb10-156">Als u van MSXML 5 gebruikmaakt of hieronder XSLT-scripting is standaard ingeschakeld en u expliciet moet uitschakelen.</span><span class="sxs-lookup"><span data-stu-id="edb10-156">If you are using MSXML 5 or below, XSLT scripting is enabled by default and you must explicitly disable it.</span></span> <span data-ttu-id="edb10-157">Hallo XML DOM-object eigenschap AllowXsltScript toofalse ingesteld.</span><span class="sxs-lookup"><span data-stu-id="edb10-157">Set hello XML DOM object property AllowXsltScript toofalse.</span></span> 

```C#
doc.setProperty("AllowXsltScript", false); // CORRECT. Setting toofalse disables XSLT scripting.
```

## <span data-ttu-id="edb10-158"><a id="out-sniffing"></a>Zorg ervoor dat elke pagina waarvan de gebruiker instelbare inhoud buiten automatische MIME-controle kiest</span><span class="sxs-lookup"><span data-stu-id="edb10-158"><a id="out-sniffing"></a>Ensure that each page that could contain user controllable content opts out of automatic MIME sniffing</span></span>

| <span data-ttu-id="edb10-159">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-159">Title</span></span>                   | <span data-ttu-id="edb10-160">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-160">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-161">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-161">**Component**</span></span>               | <span data-ttu-id="edb10-162">Webtoepassing</span><span class="sxs-lookup"><span data-stu-id="edb10-162">Web Application</span></span> | 
| <span data-ttu-id="edb10-163">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-163">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-164">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-164">Build</span></span> |  
| <span data-ttu-id="edb10-165">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-165">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-166">Algemene</span><span class="sxs-lookup"><span data-stu-id="edb10-166">Generic</span></span> |
| <span data-ttu-id="edb10-167">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-167">**Attributes**</span></span>              | <span data-ttu-id="edb10-168">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-168">N/A</span></span>  |
| <span data-ttu-id="edb10-169">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-169">**References**</span></span>              | [<span data-ttu-id="edb10-170">IE8 Beveiliging deel V - Uitgebreide beveiliging</span><span class="sxs-lookup"><span data-stu-id="edb10-170">IE8 Security Part V - Comprehensive Protection</span></span>](http://blogs.msdn.com/ie/archive/2008/07/02/ie8-security-part-v-comprehensive-protection.aspx)  |
| <span data-ttu-id="edb10-171">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-171">**Steps**</span></span> | <p><span data-ttu-id="edb10-172">Voor elke pagina die gebruiker instelbare inhoud kan bevatten, moet u HTTP-Header Hallo `X-Content-Type-Options:nosniff`.</span><span class="sxs-lookup"><span data-stu-id="edb10-172">For each page that could contain user controllable content, you must use hello HTTP Header `X-Content-Type-Options:nosniff`.</span></span> <span data-ttu-id="edb10-173">toocomply aan deze eis wordt voldaan, kunt u een set Hallo vereiste header per pagina voor deze pagina's die mogelijk door de gebruiker instelbare inhoud bevatten of u kunt deze globaal instellen voor alle pagina's in de toepassing hello.</span><span class="sxs-lookup"><span data-stu-id="edb10-173">toocomply with this requirement, you can either set hello required header page by page for only those pages that might contain user-controllable content, or you can set it globally for all pages in hello application.</span></span></p><p><span data-ttu-id="edb10-174">Elk type bestand geleverd door een webserver heeft een bijbehorende [MIME-type](http://en.wikipedia.org/wiki/Mime_type) (ook wel een *inhoudstype*) die worden beschreven Hallo aard van Hallo-inhoud (dat wil zeggen, image, tekst, toepassing, enz.)</span><span class="sxs-lookup"><span data-stu-id="edb10-174">Each type of file delivered from a web server has an associated [MIME type](http://en.wikipedia.org/wiki/Mime_type) (also called a *content-type*) that describes hello nature of hello content (that is, image, text, application, etc.)</span></span></p><p><span data-ttu-id="edb10-175">Hallo X-inhoud--opties voor het Type-header is een HTTP-header waarmee ontwikkelaars toospecify dat zijn inhoud mag geen MIME-sniff.</span><span class="sxs-lookup"><span data-stu-id="edb10-175">hello X-Content-Type-Options header is an HTTP header that allows developers toospecify that their content should not be MIME-sniffed.</span></span> <span data-ttu-id="edb10-176">Deze header is ontworpen toomitigate bekijken van MIME-aanvallen.</span><span class="sxs-lookup"><span data-stu-id="edb10-176">This header is designed toomitigate MIME-Sniffing attacks.</span></span> <span data-ttu-id="edb10-177">Ondersteuning voor deze header is toegevoegd in Internet Explorer 8 (IE8)</span><span class="sxs-lookup"><span data-stu-id="edb10-177">Support for this header was added in Internet Explorer 8 (IE8)</span></span></p><p><span data-ttu-id="edb10-178">Alleen gebruikers van Internet Explorer 8 (IE8) profiteren van de X-inhoud-Type-opties.</span><span class="sxs-lookup"><span data-stu-id="edb10-178">Only users of Internet Explorer 8 (IE8) will benefit from X-Content-Type-Options.</span></span> <span data-ttu-id="edb10-179">Vorige versies van Internet Explorer bieden momenteel geen ondersteuning voor Hallo X-inhoud--opties voor het Type-header</span><span class="sxs-lookup"><span data-stu-id="edb10-179">Previous versions of Internet Explorer do not currently respect hello X-Content-Type-Options header</span></span></p><p><span data-ttu-id="edb10-180">Internet Explorer 8 (of hoger) zijn alleen belangrijke browsers tooimplement MIME-bekijken opt-out functie Hallo.</span><span class="sxs-lookup"><span data-stu-id="edb10-180">Internet Explorer 8 (and later) are hello only major browsers tooimplement a MIME-sniffing opt-out feature.</span></span> <span data-ttu-id="edb10-181">Als andere belangrijke browsers (Firefox, Safari, Chrome) soortgelijke functies implementeren, worden deze aanbeveling bijgewerkte tooinclude syntaxis voor deze browsers ook</span><span class="sxs-lookup"><span data-stu-id="edb10-181">If and when other major browsers (Firefox, Safari, Chrome) implement similar features, this recommendation will be updated tooinclude syntax for those browsers as well</span></span></p>|

### <a name="example"></a><span data-ttu-id="edb10-182">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-182">Example</span></span>
<span data-ttu-id="edb10-183">tooenable hello vereiste header globaal voor alle pagina's in de toepassing hello, kunt u een van de volgende Hallo kunt doen:</span><span class="sxs-lookup"><span data-stu-id="edb10-183">tooenable hello required header globally for all pages in hello application, you can do one of hello following:</span></span> 

* <span data-ttu-id="edb10-184">Hallo-header in Hallo web.config-bestand toevoegen als de toepassing hello wordt gehost door Internet Information Services (IIS) 7</span><span class="sxs-lookup"><span data-stu-id="edb10-184">Add hello header in hello web.config file if hello application is hosted by Internet Information Services (IIS) 7</span></span> 

```
<system.webServer> 
  <httpProtocol> 
    <customHeaders> 
      <add name=""X-Content-Type-Options"" value=""nosniff""/>
    </customHeaders>
  </httpProtocol>
</system.webServer> 
```

* <span data-ttu-id="edb10-185">Hallo-header via Hallo toevoegen globale toepassing\_BeginRequest</span><span class="sxs-lookup"><span data-stu-id="edb10-185">Add hello header through hello global Application\_BeginRequest</span></span> 

``` 
void Application_BeginRequest(object sender, EventArgs e)
{
  this.Response.Headers[""X-Content-Type-Options""] = ""nosniff"";
} 
```

* <span data-ttu-id="edb10-186">Aangepaste HTTP-module implementeren</span><span class="sxs-lookup"><span data-stu-id="edb10-186">Implement custom HTTP module</span></span> 

``` 
public class XContentTypeOptionsModule : IHttpModule 
  {
    #region IHttpModule Members 
    public void Dispose() 
    { 

    } 
    public void Init(HttpApplication context)
    { 
      context.PreSendRequestHeaders += newEventHandler(context_PreSendRequestHeaders); 
    } 
    #endregion 
    void context_PreSendRequestHeaders(object sender, EventArgs e) 
      { 
        HttpApplication application = sender as HttpApplication; 
        if (application == null) 
          return; 
        if (application.Response.Headers[""X-Content-Type-Options ""] != null) 
          return; 
        application.Response.Headers.Add(""X-Content-Type-Options "", ""nosniff""); 
      } 
  } 

``` 

* <span data-ttu-id="edb10-187">Door deze toe te voegen tooindividual reacties kunt u de vereiste header Hallo alleen voor specifieke's inschakelen:</span><span class="sxs-lookup"><span data-stu-id="edb10-187">You can enable hello required header only for specific pages by adding it tooindividual responses:</span></span> 

```
this.Response.Headers[""X-Content-Type-Options""] = ""nosniff""; 
``` 

## <span data-ttu-id="edb10-188"><a id="xml-resolution"></a>Beperken of XML-entiteit omzetting uitschakelen</span><span class="sxs-lookup"><span data-stu-id="edb10-188"><a id="xml-resolution"></a>Harden or Disable XML Entity Resolution</span></span>

| <span data-ttu-id="edb10-189">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-189">Title</span></span>                   | <span data-ttu-id="edb10-190">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-190">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-191">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-191">**Component**</span></span>               | <span data-ttu-id="edb10-192">Webtoepassing</span><span class="sxs-lookup"><span data-stu-id="edb10-192">Web Application</span></span> | 
| <span data-ttu-id="edb10-193">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-193">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-194">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-194">Build</span></span> |  
| <span data-ttu-id="edb10-195">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-195">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-196">Algemene</span><span class="sxs-lookup"><span data-stu-id="edb10-196">Generic</span></span> |
| <span data-ttu-id="edb10-197">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-197">**Attributes**</span></span>              | <span data-ttu-id="edb10-198">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-198">N/A</span></span>  |
| <span data-ttu-id="edb10-199">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-199">**References**</span></span>              | <span data-ttu-id="edb10-200">[XML-entiteit uitbreiding](http://capec.mitre.org/data/definitions/197.html), [XML Denial of Service-aanvallen en beveiliging](http://msdn.microsoft.com/magazine/ee335713.aspx), [MSXML beveiligingsoverzicht](http://msdn.microsoft.com/library/ms754611(v=VS.85).aspx), [aanbevolen procedures voor het beveiligen van MSXML Code](http://msdn.microsoft.com/library/ms759188(VS.85).aspx), [NSXMLParserDelegate Protocolnaslaginformatie](http://developer.apple.com/library/ios/#documentation/cocoa/reference/NSXMLParserDelegate_Protocol/Reference/Reference.html), [het omzetten van externe verwijzingen](https://msdn.microsoft.com/library/5fcwybb2.aspx)</span><span class="sxs-lookup"><span data-stu-id="edb10-200">[XML Entity Expansion](http://capec.mitre.org/data/definitions/197.html), [XML Denial of Service Attacks and Defenses](http://msdn.microsoft.com/magazine/ee335713.aspx), [MSXML Security Overview](http://msdn.microsoft.com/library/ms754611(v=VS.85).aspx), [Best Practices for Securing MSXML Code](http://msdn.microsoft.com/library/ms759188(VS.85).aspx), [NSXMLParserDelegate Protocol Reference](http://developer.apple.com/library/ios/#documentation/cocoa/reference/NSXMLParserDelegate_Protocol/Reference/Reference.html), [Resolving External References](https://msdn.microsoft.com/library/5fcwybb2.aspx)</span></span> |
| <span data-ttu-id="edb10-201">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-201">**Steps**</span></span>| <p><span data-ttu-id="edb10-202">Hoewel deze optie niet veel gebruikt is, is er een functie van XML waarmee Hallo XML-parser tooexpand macro entiteiten met waarden die zijn gedefinieerd binnen het Hallo-document zelf of van externe bronnen.</span><span class="sxs-lookup"><span data-stu-id="edb10-202">Although it is not widely used, there is a feature of XML that allows hello XML parser tooexpand macro entities with values defined either within hello document itself or from external sources.</span></span> <span data-ttu-id="edb10-203">Hallo-document kan bijvoorbeeld een entiteit 'NaamBedrijf' Hallo-waarde 'Microsoft', definiëren, zodat telkens wanneer de tekst hello '&companyname;' wordt weergegeven in het Hallo-document, wordt deze automatisch vervangen door de tekst hello Microsoft.</span><span class="sxs-lookup"><span data-stu-id="edb10-203">For example, hello document might define an entity "companyname" with hello value "Microsoft," so that every time hello text "&companyname;" appears in hello document, it is automatically replaced with hello text Microsoft.</span></span> <span data-ttu-id="edb10-204">Of Hallo document een entiteit 'MSFTStock' dat verwijst naar een externe service toofetch Hallo huidige waarde van Microsoft stock kunt definiëren.</span><span class="sxs-lookup"><span data-stu-id="edb10-204">Or, hello document might define an entity "MSFTStock" that references an external web service toofetch hello current value of Microsoft stock.</span></span></p><p><span data-ttu-id="edb10-205">Klik op elk gewenst moment '&MSFTStock;' wordt weergegeven in het Hallo-document, wordt deze automatisch vervangen door de huidige aandelenkoersen Hallo.</span><span class="sxs-lookup"><span data-stu-id="edb10-205">Then any time "&MSFTStock;" appears in hello document, it is automatically replaced with hello current stock price.</span></span> <span data-ttu-id="edb10-206">Deze functionaliteit kan echter zijn dat het doelwit toocreate denial of service (DoS) voorwaarden.</span><span class="sxs-lookup"><span data-stu-id="edb10-206">However, this functionality can be abused toocreate denial of service (DoS) conditions.</span></span> <span data-ttu-id="edb10-207">Een aanvaller kan meerdere entiteiten toocreate een uitbreiding van de exponentiële XML bomb die al het beschikbare geheugen op Hallo systeem verbruikt nesten.</span><span class="sxs-lookup"><span data-stu-id="edb10-207">An attacker can nest multiple entities toocreate an exponential expansion XML bomb that consumes all available memory on hello system.</span></span> </p><p><span data-ttu-id="edb10-208">U kunt ook hij een oneindige hoeveelheid gegevens kunt maken voor een externe verwijzing die back-streams of die eenvoudig hello thread is vastgelopen.</span><span class="sxs-lookup"><span data-stu-id="edb10-208">Alternatively, he can create an external reference that streams back an infinite amount of data or that simply hangs hello thread.</span></span> <span data-ttu-id="edb10-209">Als gevolg hiervan moeten alle teams interne en/of externe XML-entiteit resolutie uitschakelen volledig als de toepassing niet worden gebruikt of handmatig Hallo hoeveelheid geheugen en het tijdstip waarop de toepassing hello voor het omzetten van de entiteit gebruiken kan als deze functionaliteit is beperken dit echt nodig is.</span><span class="sxs-lookup"><span data-stu-id="edb10-209">As a result, all teams must disable internal and/or external XML entity resolution entirely if their application does not use it, or manually limit hello amount of memory and time that hello application can consume for entity resolution if this functionality is absolutely necessary.</span></span> <span data-ttu-id="edb10-210">Als de omzetting van de entiteit niet door uw toepassing vereist is, klikt u vervolgens het uitschakelen.</span><span class="sxs-lookup"><span data-stu-id="edb10-210">If entity resolution is not required by your application, then disable it.</span></span> </p>|

### <a name="example"></a><span data-ttu-id="edb10-211">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-211">Example</span></span>
<span data-ttu-id="edb10-212">Voor .NET Framework-code, kunt u Hallo benaderingen te volgen:</span><span class="sxs-lookup"><span data-stu-id="edb10-212">For .NET Framework code, you can use hello following approaches:</span></span>

```C#
XmlTextReader reader = new XmlTextReader(stream);
reader.ProhibitDtd = true;

XmlReaderSettings settings = new XmlReaderSettings();
settings.ProhibitDtd = true;
XmlReader reader = XmlReader.Create(stream, settings);

// for .NET 4
XmlReaderSettings settings = new XmlReaderSettings();
settings.DtdProcessing = DtdProcessing.Prohibit;
XmlReader reader = XmlReader.Create(stream, settings);
```
<span data-ttu-id="edb10-213">Houd er rekening mee dat standaardwaarde Hallo van `ProhibitDtd` in `XmlReaderSettings` is ingesteld op true, maar in `XmlTextReader` ONWAAR is.</span><span class="sxs-lookup"><span data-stu-id="edb10-213">Note that hello default value of `ProhibitDtd` in `XmlReaderSettings` is true, but in `XmlTextReader` it is false.</span></span> <span data-ttu-id="edb10-214">Als u XmlReaderSettings gebruikt, hoeft u geen tooset ProhibitDtd tootrue expliciet, maar het wordt aanbevolen voor veiligheid verjaardagen doen.</span><span class="sxs-lookup"><span data-stu-id="edb10-214">If you are using XmlReaderSettings, you do not need tooset ProhibitDtd tootrue explicitly, but it is recommended for safety sake that you do.</span></span> <span data-ttu-id="edb10-215">Let op: Hallo XmlDocument-klasse kunt ook entiteit resolutie standaard.</span><span class="sxs-lookup"><span data-stu-id="edb10-215">Also note that hello XmlDocument class allows entity resolution by default.</span></span> 

### <a name="example"></a><span data-ttu-id="edb10-216">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-216">Example</span></span>
<span data-ttu-id="edb10-217">toodisable entiteit omzetting voor XmlDocuments, gebruik Hallo `XmlDocument.Load(XmlReader)` overbelasting van de Hallo methode laden en Hallo juiste eigenschappen instellen in Hallo XmlReader argument toodisable resolutie, zoals geïllustreerd in de volgende code Hallo:</span><span class="sxs-lookup"><span data-stu-id="edb10-217">toodisable entity resolution for XmlDocuments, use hello `XmlDocument.Load(XmlReader)` overload of hello Load method and set hello appropriate properties in hello XmlReader argument toodisable resolution, as illustrated in hello following code:</span></span> 

```C#
XmlReaderSettings settings = new XmlReaderSettings();
settings.ProhibitDtd = true;
XmlReader reader = XmlReader.Create(stream, settings);
XmlDocument doc = new XmlDocument();
doc.Load(reader);
```

### <a name="example"></a><span data-ttu-id="edb10-218">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-218">Example</span></span>
<span data-ttu-id="edb10-219">Als uitschakelen van de omzetting van de entiteit niet mogelijk voor uw toepassing is, Hallo XmlReaderSettings.MaxCharactersFromEntities eigenschap tooa redelijke waarde instellen op basis van de behoeften van de toepassing tooyour.</span><span class="sxs-lookup"><span data-stu-id="edb10-219">If disabling entity resolution is not possible for your application, set hello XmlReaderSettings.MaxCharactersFromEntities property tooa reasonable value according tooyour application's needs.</span></span> <span data-ttu-id="edb10-220">Hiermee beperkt u Hallo gevolgen van het potentiële exponentiële uitbreiding DoS-aanvallen.</span><span class="sxs-lookup"><span data-stu-id="edb10-220">This will limit hello impact of potential exponential expansion DoS attacks.</span></span> <span data-ttu-id="edb10-221">Hallo volgende code toont een voorbeeld van deze benadering:</span><span class="sxs-lookup"><span data-stu-id="edb10-221">hello following code provides an example of this approach:</span></span> 

```C#
XmlReaderSettings settings = new XmlReaderSettings();
settings.ProhibitDtd = false;
settings.MaxCharactersFromEntities = 1000;
XmlReader reader = XmlReader.Create(stream, settings);
```

### <a name="example"></a><span data-ttu-id="edb10-222">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-222">Example</span></span>
<span data-ttu-id="edb10-223">Als u tooresolve inline entiteiten moet, maar geen tooresolve externe entiteiten hoeft, stelt u Hallo XmlReaderSettings.XmlResolver eigenschap toonull.</span><span class="sxs-lookup"><span data-stu-id="edb10-223">If you need tooresolve inline entities but do not need tooresolve external entities, set hello XmlReaderSettings.XmlResolver property toonull.</span></span> <span data-ttu-id="edb10-224">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="edb10-224">For example:</span></span> 

```C#
XmlReaderSettings settings = new XmlReaderSettings();
settings.ProhibitDtd = false;
settings.MaxCharactersFromEntities = 1000;
settings.XmlResolver = null;
XmlReader reader = XmlReader.Create(stream, settings);
```
<span data-ttu-id="edb10-225">Houd er rekening mee dat in MSXML6, ProhibitDTD tootrue (DTD-verwerking uitschakelen) standaard ingesteld.</span><span class="sxs-lookup"><span data-stu-id="edb10-225">Note that in MSXML6, ProhibitDTD is set tootrue (disabling DTD processing) by default.</span></span> <span data-ttu-id="edb10-226">Apple iOS-OS x-code, er zijn twee XML-parsers kunt u: NSXMLParser en libXML2.</span><span class="sxs-lookup"><span data-stu-id="edb10-226">For Apple OSX/iOS code, there are two XML parsers you can use: NSXMLParser and libXML2.</span></span> 

## <span data-ttu-id="edb10-227"><a id="app-verification"></a>Toepassingen die gebruikmaken van http.sys uitvoeren URL standaardisatie verificatie</span><span class="sxs-lookup"><span data-stu-id="edb10-227"><a id="app-verification"></a>Applications utilizing http.sys perform URL canonicalization verification</span></span>

| <span data-ttu-id="edb10-228">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-228">Title</span></span>                   | <span data-ttu-id="edb10-229">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-229">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-230">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-230">**Component**</span></span>               | <span data-ttu-id="edb10-231">Webtoepassing</span><span class="sxs-lookup"><span data-stu-id="edb10-231">Web Application</span></span> | 
| <span data-ttu-id="edb10-232">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-232">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-233">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-233">Build</span></span> |  
| <span data-ttu-id="edb10-234">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-234">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-235">Algemene</span><span class="sxs-lookup"><span data-stu-id="edb10-235">Generic</span></span> |
| <span data-ttu-id="edb10-236">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-236">**Attributes**</span></span>              | <span data-ttu-id="edb10-237">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-237">N/A</span></span>  |
| <span data-ttu-id="edb10-238">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-238">**References**</span></span>              | <span data-ttu-id="edb10-239">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-239">N/A</span></span>  |
| <span data-ttu-id="edb10-240">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-240">**Steps**</span></span> | <p><span data-ttu-id="edb10-241">Een toepassing die gebruikmaakt van http.sys moet als volgt:</span><span class="sxs-lookup"><span data-stu-id="edb10-241">Any application that uses http.sys should follow these guidelines:</span></span></p><ul><li><span data-ttu-id="edb10-242">Hallo URL-lengte toono meer dan 16.384 tekens (ASCII of Unicode) beperken.</span><span class="sxs-lookup"><span data-stu-id="edb10-242">Limit hello URL length toono more than 16,384 characters (ASCII or Unicode).</span></span> <span data-ttu-id="edb10-243">Dit is Hallo absolute maximale URL-lengte op basis van de standaardinstelling voor Internet Information Services (IIS) 6 Hallo.</span><span class="sxs-lookup"><span data-stu-id="edb10-243">This is hello absolute maximum URL length based on hello default Internet Information Services (IIS) 6 setting.</span></span> <span data-ttu-id="edb10-244">Websites moeten streven voor korter is dan deze indien mogelijk</span><span class="sxs-lookup"><span data-stu-id="edb10-244">Websites should strive for a length shorter than this if possible</span></span></li><li><span data-ttu-id="edb10-245">Hallo standaard .NET Framework i/o-bestand klassen (zoals FileStream) gebruiken, zoals deze van Hallo-regels in Hallo .NET FX profiteren</span><span class="sxs-lookup"><span data-stu-id="edb10-245">Use hello standard .NET Framework file I/O classes (such as FileStream) as these will take advantage of hello canonicalization rules in hello .NET FX</span></span></li><li><span data-ttu-id="edb10-246">Expliciet samen een toestaan-lijst met bekende bestandsnamen</span><span class="sxs-lookup"><span data-stu-id="edb10-246">Explicitly build an allow-list of known filenames</span></span></li><li><span data-ttu-id="edb10-247">Expliciet afwijzen bekende bestandstypen die u niet voor de UrlScan geweigerd: exe, bat-, cmd, com, htw, ida, idq, htr, idc, shtm-[l], stm, printer, ini, pol, dat bestanden</span><span class="sxs-lookup"><span data-stu-id="edb10-247">Explicitly reject known filetypes you will not serve UrlScan rejects: exe, bat, cmd, com, htw, ida, idq, htr, idc, shtm[l], stm, printer, ini, pol, dat files</span></span></li><li><span data-ttu-id="edb10-248">Catch Hallo volgende uitzonderingen:</span><span class="sxs-lookup"><span data-stu-id="edb10-248">Catch hello following exceptions:</span></span><ul><li><span data-ttu-id="edb10-249">System.ArgumentException (voor apparaatnamen)</span><span class="sxs-lookup"><span data-stu-id="edb10-249">System.ArgumentException (for device names)</span></span></li><li><span data-ttu-id="edb10-250">System.NotSupportedException (voor gegevensstromen)</span><span class="sxs-lookup"><span data-stu-id="edb10-250">System.NotSupportedException (for data streams)</span></span></li><li><span data-ttu-id="edb10-251">System.IO.FileNotFoundException (voor ongeldige escape-teken bestandsnamen)</span><span class="sxs-lookup"><span data-stu-id="edb10-251">System.IO.FileNotFoundException (for invalid escaped filenames)</span></span></li><li><span data-ttu-id="edb10-252">System.IO.DirectoryNotFoundException (voor ongeldige escape-teken dir-opdrachten)</span><span class="sxs-lookup"><span data-stu-id="edb10-252">System.IO.DirectoryNotFoundException (for invalid escaped dirs)</span></span></li></ul></li><li><span data-ttu-id="edb10-253">*Geen* tooWin32 bestand I/O APIs houden.</span><span class="sxs-lookup"><span data-stu-id="edb10-253">*Do not* call out tooWin32 file I/O APIs.</span></span> <span data-ttu-id="edb10-254">Op een ongeldige URL probleemloos retourneert een 400-fout toohello gebruiker en Hallo echte fout vastgelegd.</span><span class="sxs-lookup"><span data-stu-id="edb10-254">On an invalid URL gracefully return a 400 error toohello user, and log hello real error.</span></span></li></ul>|

## <span data-ttu-id="edb10-255"><a id="controls-users"></a>Zorg passende controles zijn geïmplementeerd tijdens het accepteren van bestanden van gebruikers</span><span class="sxs-lookup"><span data-stu-id="edb10-255"><a id="controls-users"></a>Ensure appropriate controls are in place when accepting files from users</span></span>

| <span data-ttu-id="edb10-256">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-256">Title</span></span>                   | <span data-ttu-id="edb10-257">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-257">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-258">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-258">**Component**</span></span>               | <span data-ttu-id="edb10-259">Webtoepassing</span><span class="sxs-lookup"><span data-stu-id="edb10-259">Web Application</span></span> | 
| <span data-ttu-id="edb10-260">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-260">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-261">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-261">Build</span></span> |  
| <span data-ttu-id="edb10-262">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-262">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-263">Algemene</span><span class="sxs-lookup"><span data-stu-id="edb10-263">Generic</span></span> |
| <span data-ttu-id="edb10-264">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-264">**Attributes**</span></span>              | <span data-ttu-id="edb10-265">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-265">N/A</span></span>  |
| <span data-ttu-id="edb10-266">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-266">**References**</span></span>              | <span data-ttu-id="edb10-267">[Bestand uploaden onbeperkte](https://www.owasp.org/index.php/Unrestricted_File_Upload), [bestand handtekening tabel](http://www.garykessler.net/library/file_sigs.html)</span><span class="sxs-lookup"><span data-stu-id="edb10-267">[Unrestricted File Upload](https://www.owasp.org/index.php/Unrestricted_File_Upload), [File Signature Table](http://www.garykessler.net/library/file_sigs.html)</span></span> |
| <span data-ttu-id="edb10-268">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-268">**Steps**</span></span> | <p><span data-ttu-id="edb10-269">Geüploade bestanden vertegenwoordigen een aanzienlijke risico tooapplications.</span><span class="sxs-lookup"><span data-stu-id="edb10-269">Uploaded files represent a significant risk tooapplications.</span></span></p><p><span data-ttu-id="edb10-270">Hallo eerste stap bij veel aanvallen is tooget sommige code toohello system toobe aangevallen.</span><span class="sxs-lookup"><span data-stu-id="edb10-270">hello first step in many attacks is tooget some code toohello system toobe attacked.</span></span> <span data-ttu-id="edb10-271">Hallo-aanval moet vervolgens alleen toofind een manier tooget Hallo-code die wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="edb10-271">Then hello attack only needs toofind a way tooget hello code executed.</span></span> <span data-ttu-id="edb10-272">Met uploaden van een bestand, kunt u Hallo aanvaller Hallo eerste stap bereiken.</span><span class="sxs-lookup"><span data-stu-id="edb10-272">Using a file upload helps hello attacker accomplish hello first step.</span></span> <span data-ttu-id="edb10-273">Hallo gevolgen van het uploaden van een bestand kunnen variëren, met inbegrip van volledige systeem overname, een overbelaste bestandssysteem of het doorsturen van aanvallen tooback-end-systemen en eenvoudige defacement-database.</span><span class="sxs-lookup"><span data-stu-id="edb10-273">hello consequences of unrestricted file upload can vary, including complete system takeover, an overloaded file system or database, forwarding attacks tooback-end systems, and simple defacement.</span></span></p><p><span data-ttu-id="edb10-274">Dit is afhankelijk van welke toepassing hello komt met Hallo geüpload bestand en vooral waar het is opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="edb10-274">It depends on what hello application does with hello uploaded file and especially where it is stored.</span></span> <span data-ttu-id="edb10-275">Server side validatie van bestandsuploads ontbreekt.</span><span class="sxs-lookup"><span data-stu-id="edb10-275">Server side validation of file uploads is missing.</span></span> <span data-ttu-id="edb10-276">Volgende beveiligingsmechanismen moet worden geïmplementeerd voor functionaliteit bestand laden:</span><span class="sxs-lookup"><span data-stu-id="edb10-276">Following security controls should be implemented for File Upload functionality:</span></span></p><ul><li><span data-ttu-id="edb10-277">Extensie bestandscontrole (een geldige reeks toegestane bestandstype moet worden geaccepteerd)</span><span class="sxs-lookup"><span data-stu-id="edb10-277">File Extension check (only a valid set of allowed file type should be accepted)</span></span></li><li><span data-ttu-id="edb10-278">Limiet voor de maximale grootte</span><span class="sxs-lookup"><span data-stu-id="edb10-278">Maximum file size limit</span></span></li><li><span data-ttu-id="edb10-279">Bestand mag geen geüploade toowebroot; Hallo-locatie moet een map op niet-systeemstation</span><span class="sxs-lookup"><span data-stu-id="edb10-279">File should not be uploaded toowebroot; hello location should be a directory on non-system drive</span></span></li><li><span data-ttu-id="edb10-280">Naamgevingsconventie moet worden aangehouden zodat hello geüploade bestandsnaam hebben sommige aanvraaggrootte, dus als tooprevent bestand worden overschreven</span><span class="sxs-lookup"><span data-stu-id="edb10-280">Naming convention should be followed, such that hello uploaded file name have some randomness, so as tooprevent file overwrites</span></span></li><li><span data-ttu-id="edb10-281">Bestanden moeten worden gecontroleerd voor anti-virus voordat toohello schijf worden geschreven</span><span class="sxs-lookup"><span data-stu-id="edb10-281">Files should be scanned for anti-virus before writing toohello disk</span></span></li><li><span data-ttu-id="edb10-282">Zorg ervoor dat Hallo-bestandsnaam en andere metagegevens (zoals een bestandspad) worden gevalideerd voor schadelijke tekens</span><span class="sxs-lookup"><span data-stu-id="edb10-282">Ensure that hello file name and any other metadata (e.g., file path) are validated for malicious characters</span></span></li><li><span data-ttu-id="edb10-283">Indeling van bestandshandtekening moet worden gecontroleerd, tooprevent een gebruiker vanuit een masqueraded bestand uploaden (bijvoorbeeld een exe-bestand uploaden door het wijzigen van de extensie tootxt)</span><span class="sxs-lookup"><span data-stu-id="edb10-283">File format signature should be checked, tooprevent a user from uploading a masqueraded file (e.g., uploading an exe file by changing extension tootxt)</span></span></li></ul>| 

### <a name="example"></a><span data-ttu-id="edb10-284">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-284">Example</span></span>
<span data-ttu-id="edb10-285">Raadpleeg voor laatste punt Hallo met betrekking tot de validatie van handtekening bestand, toohello klasse hieronder voor meer informatie:</span><span class="sxs-lookup"><span data-stu-id="edb10-285">For hello last point regarding file format signature validation, refer toohello class below for details:</span></span> 

```C#
        private static Dictionary<string, List<byte[]>> fileSignature = new Dictionary<string, List<byte[]>>
                    {
                    { ".DOC", new List<byte[]> { new byte[] { 0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1 } } },
                    { ".DOCX", new List<byte[]> { new byte[] { 0x50, 0x4B, 0x03, 0x04 } } },
                    { ".PDF", new List<byte[]> { new byte[] { 0x25, 0x50, 0x44, 0x46 } } },
                    { ".ZIP", new List<byte[]> 
                                            {
                                              new byte[] { 0x50, 0x4B, 0x03, 0x04 },
                                              new byte[] { 0x50, 0x4B, 0x4C, 0x49, 0x54, 0x55 },
                                              new byte[] { 0x50, 0x4B, 0x53, 0x70, 0x58 },
                                              new byte[] { 0x50, 0x4B, 0x05, 0x06 },
                                              new byte[] { 0x50, 0x4B, 0x07, 0x08 },
                                              new byte[] { 0x57, 0x69, 0x6E, 0x5A, 0x69, 0x70 }
                                                }
                                            },
                    { ".PNG", new List<byte[]> { new byte[] { 0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A } } },
                    { ".JPG", new List<byte[]>
                                    {
                                              new byte[] { 0xFF, 0xD8, 0xFF, 0xE0 },
                                              new byte[] { 0xFF, 0xD8, 0xFF, 0xE1 },
                                              new byte[] { 0xFF, 0xD8, 0xFF, 0xE8 }
                                    }
                                    },
                    { ".JPEG", new List<byte[]>
                                        { 
                                            new byte[] { 0xFF, 0xD8, 0xFF, 0xE0 },
                                            new byte[] { 0xFF, 0xD8, 0xFF, 0xE2 },
                                            new byte[] { 0xFF, 0xD8, 0xFF, 0xE3 }
                                        }
                                        },
                    { ".XLS", new List<byte[]>
                                            {
                                              new byte[] { 0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1 },
                                              new byte[] { 0x09, 0x08, 0x10, 0x00, 0x00, 0x06, 0x05, 0x00 },
                                              new byte[] { 0xFD, 0xFF, 0xFF, 0xFF }
                                            }
                                            },
                    { ".XLSX", new List<byte[]> { new byte[] { 0x50, 0x4B, 0x03, 0x04 } } },
                    { ".GIF", new List<byte[]> { new byte[] { 0x47, 0x49, 0x46, 0x38 } } }
                };

        public static bool IsValidFileExtension(string fileName, byte[] fileData, byte[] allowedChars)
        {
            if (string.IsNullOrEmpty(fileName) || fileData == null || fileData.Length == 0)
            {
                return false;
            }

            bool flag = false;
            string ext = Path.GetExtension(fileName);
            if (string.IsNullOrEmpty(ext))
            {
                return false;
            }

            ext = ext.ToUpperInvariant();

            if (ext.Equals(".TXT") || ext.Equals(".CSV") || ext.Equals(".PRN"))
            {
                foreach (byte b in fileData)
                {
                    if (b > 0x7F)
                    {
                        if (allowedChars != null)
                        {
                            if (!allowedChars.Contains(b))
                            {
                                return false;
                            }
                        }
                        else
                        {
                            return false;
                        }
                    }
                }

                return true;
            }

            if (!fileSignature.ContainsKey(ext))
            {
                return true;
            }

            List<byte[]> sig = fileSignature[ext];
            foreach (byte[] b in sig)
            {
                var curFileSig = new byte[b.Length];
                Array.Copy(fileData, curFileSig, b.Length);
                if (curFileSig.SequenceEqual(b))
                {
                    flag = true;
                    break;
                }
            }

            return flag;
        }
```

## <span data-ttu-id="edb10-286"><a id="typesafe"></a>Zorg ervoor dat type veilig parameters in webtoepassing worden gebruikt voor toegang tot gegevens</span><span class="sxs-lookup"><span data-stu-id="edb10-286"><a id="typesafe"></a>Ensure that type-safe parameters are used in Web Application for data access</span></span>

| <span data-ttu-id="edb10-287">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-287">Title</span></span>                   | <span data-ttu-id="edb10-288">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-288">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-289">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-289">**Component**</span></span>               | <span data-ttu-id="edb10-290">Webtoepassing</span><span class="sxs-lookup"><span data-stu-id="edb10-290">Web Application</span></span> | 
| <span data-ttu-id="edb10-291">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-291">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-292">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-292">Build</span></span> |  
| <span data-ttu-id="edb10-293">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-293">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-294">Algemene</span><span class="sxs-lookup"><span data-stu-id="edb10-294">Generic</span></span> |
| <span data-ttu-id="edb10-295">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-295">**Attributes**</span></span>              | <span data-ttu-id="edb10-296">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-296">N/A</span></span>  |
| <span data-ttu-id="edb10-297">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-297">**References**</span></span>              | <span data-ttu-id="edb10-298">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-298">N/A</span></span>  |
| <span data-ttu-id="edb10-299">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-299">**Steps**</span></span> | <p><span data-ttu-id="edb10-300">Als u de parameterverzameling Hallo gebruikt, is SQL beschouwen Hallo invoer als een letterlijke waarde in plaats als uitvoerbare code.</span><span class="sxs-lookup"><span data-stu-id="edb10-300">If you use hello Parameters collection, SQL treats hello input is as a literal value rather then as executable code.</span></span> <span data-ttu-id="edb10-301">Hallo parameterverzameling kan gebruikte tooenforce type en de lengte-beperkingen voor de invoergegevens zijn.</span><span class="sxs-lookup"><span data-stu-id="edb10-301">hello Parameters collection can be used tooenforce type and length constraints on input data.</span></span> <span data-ttu-id="edb10-302">Waarden die buiten het bereik van Hallo activeren een uitzondering.</span><span class="sxs-lookup"><span data-stu-id="edb10-302">Values outside of hello range trigger an exception.</span></span> <span data-ttu-id="edb10-303">Als u geen type-safe SQL-parameters gebruikt, mogelijk aanvallers kunnen tooexecute injectieaanvallen die zijn ingesloten in de invoer Hallo niet gefilterd.</span><span class="sxs-lookup"><span data-stu-id="edb10-303">If type-safe SQL parameters are not used, attackers might be able tooexecute injection attacks that are embedded in hello unfiltered input.</span></span></p><p><span data-ttu-id="edb10-304">Gebruik veilige typeparameters wanneer tooavoid mogelijk SQL-injectieaanvallen die zich met ongefilterde invoer voordoen kunnen construeren SQL query.</span><span class="sxs-lookup"><span data-stu-id="edb10-304">Use type safe parameters when constructing SQL queries tooavoid possible SQL injection attacks that can occur with unfiltered input.</span></span> <span data-ttu-id="edb10-305">U kunt veilig typeparameters met opgeslagen procedures en dynamische SQL-instructies.</span><span class="sxs-lookup"><span data-stu-id="edb10-305">You can use type safe parameters with stored procedures and with dynamic SQL statements.</span></span> <span data-ttu-id="edb10-306">Parameters worden behandeld als letterlijke waarden door Hallo-database en niet als uitvoerbare code.</span><span class="sxs-lookup"><span data-stu-id="edb10-306">Parameters are treated as literal values by hello database and not as executable code.</span></span> <span data-ttu-id="edb10-307">Parameters zijn ook gecontroleerd op type en de lengte.</span><span class="sxs-lookup"><span data-stu-id="edb10-307">Parameters are also checked for type and length.</span></span></p>|

### <a name="example"></a><span data-ttu-id="edb10-308">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-308">Example</span></span> 
<span data-ttu-id="edb10-309">Hallo volgende code toont hoe toouse Typ veilige parameters Hello SqlParameterCollection bij het aanroepen van een opgeslagen procedure.</span><span class="sxs-lookup"><span data-stu-id="edb10-309">hello following code shows how toouse type safe parameters with hello SqlParameterCollection when calling a stored procedure.</span></span> 

```C#
using System.Data;
using System.Data.SqlClient;

using (SqlConnection connection = new SqlConnection(connectionString))
{ 
DataSet userDataset = new DataSet(); 
SqlDataAdapter myCommand = new SqlDataAdapter(LoginStoredProcedure", connection); 
myCommand.SelectCommand.CommandType = CommandType.StoredProcedure; 
myCommand.SelectCommand.Parameters.Add("@au_id", SqlDbType.VarChar, 11); 
myCommand.SelectCommand.Parameters["@au_id"].Value = SSN.Text; 
myCommand.Fill(userDataset);
}  
```
<span data-ttu-id="edb10-310">Hallo voorgaande codevoorbeeld, mag Hallo invoerwaarde niet langer zijn dan 11 tekens.</span><span class="sxs-lookup"><span data-stu-id="edb10-310">In hello preceding code example, hello input value cannot be longer than 11 characters.</span></span> <span data-ttu-id="edb10-311">Als Hallo gegevens niet overeen komen toohello type of de lengte die zijn gedefinieerd door de parameter hello, er Hallo SqlParameter klasse een uitzondering gegenereerd.</span><span class="sxs-lookup"><span data-stu-id="edb10-311">If hello data does not conform toohello type or length defined by hello parameter, hello SqlParameter class throws an exception.</span></span> 

## <span data-ttu-id="edb10-312"><a id="binding-mvc"></a>Afzonderlijke model binding klassen of massaopslag toewijzing beveiligingslek in het filter lijsten tooprevent MVC-binding gebruiken</span><span class="sxs-lookup"><span data-stu-id="edb10-312"><a id="binding-mvc"></a>Use separate model binding classes or binding filter lists tooprevent MVC mass assignment vulnerability</span></span>

| <span data-ttu-id="edb10-313">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-313">Title</span></span>                   | <span data-ttu-id="edb10-314">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-314">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-315">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-315">**Component**</span></span>               | <span data-ttu-id="edb10-316">Webtoepassing</span><span class="sxs-lookup"><span data-stu-id="edb10-316">Web Application</span></span> | 
| <span data-ttu-id="edb10-317">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-317">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-318">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-318">Build</span></span> |  
| <span data-ttu-id="edb10-319">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-319">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-320">MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="edb10-320">MVC5, MVC6</span></span> |
| <span data-ttu-id="edb10-321">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-321">**Attributes**</span></span>              | <span data-ttu-id="edb10-322">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-322">N/A</span></span>  |
| <span data-ttu-id="edb10-323">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-323">**References**</span></span>              | <span data-ttu-id="edb10-324">[Metagegevenskenmerken](http://msdn.microsoft.com/library/system.componentmodel.dataannotations.metadatatypeattribute), [openbare sleutel beveiligingslek en Beveiligingsrisicobeperking](https://github.com/blog/1068-public-key-security-vulnerability-and-mitigation), [beveiligingsgids tooMass toewijzing in ASP.NET MVC](http://odetocode.com/Blogs/scott/archive/2012/03/11/complete-guide-to-mass-assignment-in-asp-net-mvc.aspx), [aan de slag met EF met MVC](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application#overpost)</span><span class="sxs-lookup"><span data-stu-id="edb10-324">[Metadata Attributes](http://msdn.microsoft.com/library/system.componentmodel.dataannotations.metadatatypeattribute), [Public Key Security Vulnerability And Mitigation](https://github.com/blog/1068-public-key-security-vulnerability-and-mitigation), [Complete Guide tooMass Assignment in ASP.NET MVC](http://odetocode.com/Blogs/scott/archive/2012/03/11/complete-guide-to-mass-assignment-in-asp-net-mvc.aspx), [Getting Started with EF using MVC](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application#overpost)</span></span> |
| <span data-ttu-id="edb10-325">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-325">**Steps**</span></span> | <ul><li><span data-ttu-id="edb10-326">**Wanneer moet ik letten te veel boeken beveiligingslekken? -** Te veel boeken beveiligingsproblemen kan optreden als een willekeurige plaats u modelklassen binding uit de invoer van de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="edb10-326">**When should I look for over-posting vulnerabilities? -** Over-posting vulnerabilities can occur any place you bind model classes from user input.</span></span> <span data-ttu-id="edb10-327">Frameworks zoals MVC kunnen gebruikersgegevens in aangepaste .NET-klassen, met inbegrip van gewone oude CLR-objecten (POCOs) vertegenwoordigen.</span><span class="sxs-lookup"><span data-stu-id="edb10-327">Frameworks like MVC can represent user data in custom .NET classes, including Plain Old CLR Objects (POCOs).</span></span> <span data-ttu-id="edb10-328">MVC wordt automatisch gevuld deze modelklassen met de gegevens van de aanvraag hello, bieden een handige weergave voor het omgaan met invoer van gebruiker.</span><span class="sxs-lookup"><span data-stu-id="edb10-328">MVC automatically populates these model classes with data from hello request, providing a convenient representation for dealing with user input.</span></span> <span data-ttu-id="edb10-329">Wanneer deze klassen eigenschappen die niet moeten worden ingesteld door de gebruiker hello bevatten, kan de toepassing hello kwetsbaar tooover boeken-aanvallen Gebruikersbeheer van gegevens die nooit toepassing hello bedoeld zijn.</span><span class="sxs-lookup"><span data-stu-id="edb10-329">When these classes include properties that should not be set by hello user, hello application can be vulnerable tooover-posting attacks, which allow user control of data that hello application never intended.</span></span> <span data-ttu-id="edb10-330">Net als modelbinding MVC ondersteuning database technologieën zoals object relationele mappers zoals Entity Framework vaak ook voor het gebruik POCO objecten toorepresent databasegegevens.</span><span class="sxs-lookup"><span data-stu-id="edb10-330">Like MVC model binding, database access technologies such as object/relational mappers like Entity Framework often also support using POCO objects toorepresent database data.</span></span> <span data-ttu-id="edb10-331">Deze gegevens modelklassen Hallo bieden dezelfde gebruiksgemak omgaan met gegevens uit een database, zoals MVC in omgaan met invoer van gebruiker.</span><span class="sxs-lookup"><span data-stu-id="edb10-331">These data model classes provide hello same convenience in dealing with database data as MVC does in dealing with user input.</span></span> <span data-ttu-id="edb10-332">Omdat zowel MVC en Hallo database ondersteunt soortgelijke modellen, zoals POCO-objecten, lijkt het eenvoudig tooreuse Hallo dezelfde voor beide doeleinden klassen.</span><span class="sxs-lookup"><span data-stu-id="edb10-332">Because both MVC and hello database support similar models, like POCO objects, it seems easy tooreuse hello same classes for both purposes.</span></span> <span data-ttu-id="edb10-333">Deze praktijk mislukt toopreserve scheiding van problemen en is een algemene gebied waar onbedoelde eigenschappen zijn blootgesteld toomodel binding, het inschakelen van te veel boeken aanvallen.</span><span class="sxs-lookup"><span data-stu-id="edb10-333">This practice fails toopreserve separation of concerns, and it is one common area where unintended properties are exposed toomodel binding, enabling over-posting attacks.</span></span></li><li><span data-ttu-id="edb10-334">**Waarom mag niet ik mijn modelklassen ongefilterde database gebruiken als parameters toomy MVC acties? -** Omdat MVC modelbinding in deze klasse wordt gebonden.</span><span class="sxs-lookup"><span data-stu-id="edb10-334">**Why shouldn't I use my unfiltered database model classes as parameters toomy MVC actions? -** Because MVC model binding will bind anything in that class.</span></span> <span data-ttu-id="edb10-335">Zelfs als hello gegevens worden niet weergegeven in de weergave dat een kwaadwillende gebruiker kan een HTTP-aanvraag verzenden met deze gegevens worden opgenomen en MVC graag binden wordt omdat de actie wordt gemeld dat database klasse Hallo vorm van gegevens moet deze accepteren voor invoer van gebruiker.</span><span class="sxs-lookup"><span data-stu-id="edb10-335">Even if hello data does not appear in your view, a malicious user can send an HTTP request with this data included, and MVC will gladly bind it because your action says that database class is hello shape of data it should accept for user input.</span></span></li><li><span data-ttu-id="edb10-336">**Waarom moet ik Hallo vorm gebruikt voor het modelbinding interesseren? -** Met behulp van ASP.NET MVC modelbinding met makkelijk modellen beschrijft een toepassing tooover boeken aanvallen.</span><span class="sxs-lookup"><span data-stu-id="edb10-336">**Why should I care about hello shape used for model binding? -** Using ASP.NET MVC model binding with overly broad models exposes an application tooover-posting attacks.</span></span> <span data-ttu-id="edb10-337">Te veel boeken aanvallers toochange toepassingsgegevens afgezien van wat Hallo ontwikkelaars is bedoeld, zoals het overschrijven van Hallo prijs voor een artikel of Hallo beveiligingsbevoegdheden voor een account kan worden ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="edb10-337">Over-posting could enable attackers toochange application data beyond what hello developer intended, such as overriding hello price for an item or hello security privileges for an account.</span></span> <span data-ttu-id="edb10-338">Toepassingen voor welke niet-vertrouwde invoer tooallow via modelbinding specifieke acties binding modellen (of specifieke toegestane filter eigenschappenlijsten) tooprovide een expliciete contract gebruiken.</span><span class="sxs-lookup"><span data-stu-id="edb10-338">Applications should use action-specific binding models (or specific allowed property filter lists) tooprovide an explicit contract for what untrusted input tooallow via model binding.</span></span></li><li><span data-ttu-id="edb10-339">**Afzonderlijke binding modellen NET dupliceren code heeft? -** Nee, is een kwestie van scheiding van problemen.</span><span class="sxs-lookup"><span data-stu-id="edb10-339">**Is having separate binding models just duplicating code? -** No, it is a matter of separation of concerns.</span></span> <span data-ttu-id="edb10-340">Als u de databasemodellen in actiemethoden hergebruikt, wordt u een eigenschap (of een onderliggende eigenschap) gezegd in deze klasse kan worden ingesteld door de gebruiker Hallo in een HTTP-aanvraag.</span><span class="sxs-lookup"><span data-stu-id="edb10-340">If you reuse database models in action methods, you are saying any property (or sub-property) in that class can be set by hello user in an HTTP request.</span></span> <span data-ttu-id="edb10-341">Als u niet wilt dat MVC toodo, moet u een filterlijst of een afzonderlijke klasse vorm tooshow MVC welke gegevens afkomstig van gebruikersinvoer in plaats daarvan zijn kunnen.</span><span class="sxs-lookup"><span data-stu-id="edb10-341">If that is not what you want MVC toodo, you need a filter list or a separate class shape tooshow MVC what data can come from user input instead.</span></span></li><li><span data-ttu-id="edb10-342">**Als ik afzonderlijke binding modellen voor invoer van de gebruiker hebt, heb ik tooduplicate mijn kenmerken voor de aantekening gegevens? -** Niet noodzakelijkerwijs.</span><span class="sxs-lookup"><span data-stu-id="edb10-342">**If I have separate binding models for user input, do I have tooduplicate all my data annotation attributes? -** Not necessarily.</span></span> <span data-ttu-id="edb10-343">U kunt MetadataTypeAttribute op Hallo model klasse toolink toohello databasemetagegevens voor een model binding-klasse.</span><span class="sxs-lookup"><span data-stu-id="edb10-343">You can use MetadataTypeAttribute on hello database model class toolink toohello metadata on a model binding class.</span></span> <span data-ttu-id="edb10-344">Alleen Let Hallo type waarnaar wordt verwezen door Hallo MetadataTypeAttribute moet een subset van Hallo die verwijzen naar type (mogelijk minder eigenschappen, maar niet meer).</span><span class="sxs-lookup"><span data-stu-id="edb10-344">Just note that hello type referenced by hello MetadataTypeAttribute must be a subset of hello referencing type (it can have fewer properties, but not more).</span></span></li><li><span data-ttu-id="edb10-345">**Verplaatsen van gegevens heen en weer tussen de gebruiker invoer modellen en databasemodellen is omslachtig. Kan ik alleen kopiëren via alle eigenschappen met reflectie? -** Ja.</span><span class="sxs-lookup"><span data-stu-id="edb10-345">**Moving data back and forth between user input models and database models is tedious. Can I just copy over all properties using reflection? -** Yes.</span></span> <span data-ttu-id="edb10-346">Hallo zijn alleen eigenschappen die worden weergegeven in Hallo binding modellen Hallo die u hebt vastgesteld toobe veilig voor invoer van de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="edb10-346">hello only properties that appear in hello binding models are hello ones you have determined toobe safe for user input.</span></span> <span data-ttu-id="edb10-347">Er is geen reden beveiliging waarmee wordt voorkomen dat via reflectie toocopy over alle eigenschappen die gemeenschappelijk tussen deze twee modellen bestaan.</span><span class="sxs-lookup"><span data-stu-id="edb10-347">There is no security reason that prevents using reflection toocopy over all properties that exist in common between these two models.</span></span></li><li><span data-ttu-id="edb10-348">**Hoe zit [binden (uitsluiten = "¦ â €")]. Kan ik die in plaats van afzonderlijke binding modellen gebruiken? -** Deze methode wordt niet aanbevolen.</span><span class="sxs-lookup"><span data-stu-id="edb10-348">**What about [Bind(Exclude ="â€¦")]. Can I use that instead of having separate binding models? -** This approach is not recommended.</span></span> <span data-ttu-id="edb10-349">Met behulp van [binden (uitsluiten = "¦ â €")] betekent dat een nieuwe eigenschap bindbare standaard.</span><span class="sxs-lookup"><span data-stu-id="edb10-349">Using [Bind(Exclude ="â€¦")] means that any new property is bindable by default.</span></span> <span data-ttu-id="edb10-350">Wanneer een nieuwe eigenschap wordt toegevoegd, er is een extra stap tooremember tookeep dingen veilige plaats Hallo ontwerp zijn standaard veilig.</span><span class="sxs-lookup"><span data-stu-id="edb10-350">When a new property is added, there is an extra step tooremember tookeep things secure, rather than having hello design be secure by default.</span></span> <span data-ttu-id="edb10-351">Afhankelijk van het Hallo-ontwikkelaars is het riskant deze lijst controleren telkens wanneer een eigenschap wordt toegevoegd.</span><span class="sxs-lookup"><span data-stu-id="edb10-351">Depending on hello developer checking this list every time a property is added is risky.</span></span></li><li><span data-ttu-id="edb10-352">**Is [binden (inclusief = "¦ â €")] handig voor het bewerken? -** Nee.</span><span class="sxs-lookup"><span data-stu-id="edb10-352">**Is [Bind(Include ="â€¦")] useful for Edit operations? -** No.</span></span> <span data-ttu-id="edb10-353">[Binden (inclusief = "¦ â €")] is alleen geschikt voor INSERT-stijl-bewerkingen (toevoegen van nieuwe gegevens).</span><span class="sxs-lookup"><span data-stu-id="edb10-353">[Bind(Include ="â€¦")] is only suitable for INSERT-style operations (adding new data).</span></span> <span data-ttu-id="edb10-354">Voor bewerkingen van UPDATE-stijl (herziening van bestaande gegevens), gebruikt u een andere methode, zoals afzonderlijke binding modellen hebben of een expliciete lijst van toegestane eigenschappen tooUpdateModel of TryUpdateModel wordt doorgegeven.</span><span class="sxs-lookup"><span data-stu-id="edb10-354">For UPDATE-style operations (revising existing data), use another approach, like having separate binding models or passing an explicit list of allowed properties tooUpdateModel or TryUpdateModel.</span></span> <span data-ttu-id="edb10-355">Toevoegen van een [binden (opnemen = 'â €¦')] kenmerk voor een bewerking betekent dat MVC wordt een objectexemplaar maken en ingesteld alleen Hallo vermelde eigenschappen van alle andere gebruikers op hun standaardwaarden verlaten.</span><span class="sxs-lookup"><span data-stu-id="edb10-355">Adding a [Bind(Include ="â€¦")] attribute on an Edit operation means that MVC will create an object instance and set only hello listed properties, leaving all others at their default values.</span></span> <span data-ttu-id="edb10-356">Wanneer het Hallo-gegevens worden bewaard, wordt volledig Hallo bestaande entiteit, opnieuw instellen van waarden voor elk weggelaten eigenschappen tootheir standaardinstellingen Hallo vervangen.</span><span class="sxs-lookup"><span data-stu-id="edb10-356">When hello data is persisted, it will entirely replace hello existing entity, resetting hello values for any omitted properties tootheir defaults.</span></span> <span data-ttu-id="edb10-357">Bijvoorbeeld, als IsAdmin is weggelaten uit een [binden (opnemen = "â €¦")]-kenmerk op een bewerking, een gebruiker waarvan de naam is bewerkt via deze actie reset tooIsAdmin zou zijn = false (elke gebruiker bewerkte verliezen status van de administrator).</span><span class="sxs-lookup"><span data-stu-id="edb10-357">For example, if IsAdmin was omitted from a [Bind(Include ="â€¦")] attribute on an Edit operation, any user whose name was edited via this action would be reset tooIsAdmin = false (any edited user would lose administrator status).</span></span> <span data-ttu-id="edb10-358">Als u tooprevent updates toocertain eigenschappen wilt, gebruik een van de Hallo andere benaderingen hierboven.</span><span class="sxs-lookup"><span data-stu-id="edb10-358">If you want tooprevent updates toocertain properties, use one of hello other approaches above.</span></span> <span data-ttu-id="edb10-359">Houd er rekening mee dat sommige versies van MVC-tooling Controllerklassen met genereren [binden (inclusief = 'â €¦')] acties bewerken en impliceren dat een eigenschap te verwijderen uit de lijst u te veel boeken aanvallen voorkomt.</span><span class="sxs-lookup"><span data-stu-id="edb10-359">Note that some versions of MVC tooling generate controller classes with [Bind(Include ="â€¦")] on Edit actions and imply that removing a property from that list will prevent over-posting attacks.</span></span> <span data-ttu-id="edb10-360">Echter zoals hierboven wordt beschreven, die benadering niet naar behoren werkt en in plaats daarvan wordt opnieuw ingesteld gegevens in Hallo weggelaten eigenschappen tootheir standaardwaarden.</span><span class="sxs-lookup"><span data-stu-id="edb10-360">However, as described above, that approach does not work as intended and instead will reset any data in hello omitted properties tootheir default values.</span></span></li><li><span data-ttu-id="edb10-361">**Voor de bewerkingen maken, zijn er aanvullende opmerkingen met [binden (opnemen = "¦ â €")] in plaats van afzonderlijke binding modellen? -** Ja.</span><span class="sxs-lookup"><span data-stu-id="edb10-361">**For Create operations, are there any caveats using [Bind(Include ="â€¦")] rather than separate binding models? -** Yes.</span></span> <span data-ttu-id="edb10-362">Deze methode werkt eerst niet voor scenario's bewerken, vereisen van twee afzonderlijke methoden voor alle te veel boeken zwakke plekken beperkende onderhouden.</span><span class="sxs-lookup"><span data-stu-id="edb10-362">First this approach does not work for Edit scenarios, requiring maintaining two separate approaches for mitigating all over-posting vulnerabilities.</span></span> <span data-ttu-id="edb10-363">Tweede, afzonderlijk binding modellen Dwing scheiding van zorgen tussen Hallo vorm gebruikt voor de gebruiker invoer- en Hallo vorm gebruikt voor persistentie, af iets [binden (inclusief = "â €¦")] wordt niet.</span><span class="sxs-lookup"><span data-stu-id="edb10-363">Second, separate binding models enforce separation of concerns between hello shape used for user input and hello shape used for persistence, something [Bind(Include ="â€¦")] does not do.</span></span> <span data-ttu-id="edb10-364">Derde, houd er rekening mee dat [binden (inclusief = 'â €¦')] zijn alleen geschikt voor eigenschappen op het hoogste niveau. u mag geen alleen gedeelten van de onderliggende eigenschappen (zoals 'Details.Name') in het Hallo-kenmerk.</span><span class="sxs-lookup"><span data-stu-id="edb10-364">Third, note that [Bind(Include ="â€¦")] can only handle top-level properties; you cannot allow only portions of sub-properties (such as "Details.Name") in hello attribute.</span></span> <span data-ttu-id="edb10-365">Tot slot en mogelijk belangrijker is, met behulp van [binden (opnemen = "¦ â €")] voegt een extra stap dat elke keer Hallo-klasse wordt gebruikt voor het modelbinding moet onthouden.</span><span class="sxs-lookup"><span data-stu-id="edb10-365">Finally, and perhaps most importantly, using [Bind(Include ="â€¦")] adds an extra step that must be remembered any time hello class is used for model binding.</span></span> <span data-ttu-id="edb10-366">Als een nieuwe actiemethode toohello gegevensklasse rechtstreeks wordt gekoppeld en tooinclude vergeet een [binden (opnemen = "â €¦")]-kenmerk, dit kan zijn kwetsbaar tooover boeken aanvallen, dus Hallo [binden (opnemen = 'â €¦')] benadering standaard wat minder veilig is.</span><span class="sxs-lookup"><span data-stu-id="edb10-366">If a new action method binds toohello data class directly and forgets tooinclude a [Bind(Include ="â€¦")] attribute, it can be vulnerable tooover-posting attacks, so hello [Bind(Include ="â€¦")] approach is somewhat less secure by default.</span></span> <span data-ttu-id="edb10-367">Als u [binden (inclusief = 'â €¦')], behandelen altijd tooremember toospecify deze telkens wanneer de gegevensklassen van uw worden weergegeven als actie-methodeparameters.</span><span class="sxs-lookup"><span data-stu-id="edb10-367">If you use [Bind(Include ="â€¦")], take care always tooremember toospecify it every time your data classes appear as action method parameters.</span></span></li><li><span data-ttu-id="edb10-368">**Voor bewerkingen maken, wat over het samenvoegen van Hallo [binden (inclusief = 'â €¦')]-kenmerk op Hallo modelklasse zelf? Voorkomt dat niet van deze benadering Hallo nodig tooremember stellen Hallo-kenmerk op elke actiemethode? -** Deze benadering in sommige gevallen werkt.</span><span class="sxs-lookup"><span data-stu-id="edb10-368">**For Create operations, what about putting hello [Bind(Include ="â€¦")] attribute on hello model class itself? Does not this approach avoid hello need tooremember putting hello attribute on every action method? -** This approach works in some cases.</span></span> <span data-ttu-id="edb10-369">Met behulp van [binden (opnemen = 'â €¦')] op Hallo modeltype zelf (in plaats van op Actieparameters in met behulp van deze klasse), voorkomt dat Hallo nodig tooremember tooinclude Hallo [binden (opnemen = 'â €¦')] kenmerk voor elke methode in te grijpen.</span><span class="sxs-lookup"><span data-stu-id="edb10-369">Using [Bind(Include ="â€¦")] on hello model type itself (rather than on action parameters using this class), does avoid hello need tooremember tooinclude hello [Bind(Include ="â€¦")] attribute on every action method.</span></span> <span data-ttu-id="edb10-370">Met behulp van Hallo kenmerk rechtstreeks op Hallo klasse effectief, maakt een afzonderlijke surface area van deze klasse voor model binding doeleinden.</span><span class="sxs-lookup"><span data-stu-id="edb10-370">Using hello attribute directly on hello class effectively creates a separate surface area of this class for model binding purposes.</span></span> <span data-ttu-id="edb10-371">Deze methode kan echter slechts voor één model binding vorm per modelklasse.</span><span class="sxs-lookup"><span data-stu-id="edb10-371">However, this approach only allows for one model binding shape per model class.</span></span> <span data-ttu-id="edb10-372">Als één actiemethode moet tooallow modelbinding van een veld (bijvoorbeeld een alleen-lezen beheerder actie die gebruikersrollen updates) en andere acties tooprevent modelbinding van dit veld moeten, werkt deze methode niet.</span><span class="sxs-lookup"><span data-stu-id="edb10-372">If one action method needs tooallow model binding of a field (for example, an administrator-only action that updates user roles) and other actions need tooprevent model binding of this field, this approach will not work.</span></span> <span data-ttu-id="edb10-373">Elke klasse kan slechts één vorm van binding; hebben. Als u verschillende acties moeten een ander model binding vormen, moeten ze toorepresent deze scheiden met een afzonderlijke model binding-klassen vormen of afzonderlijke [binden (opnemen = "¦ â €")] kenmerken op Hallo actiemethoden.</span><span class="sxs-lookup"><span data-stu-id="edb10-373">Each class can only have one model binding shape; if different actions need different model binding shapes, they need toorepresent these separate shapes using either separate model binding classes or separate [Bind(Include ="â€¦")] attributes on hello action methods.</span></span></li><li><span data-ttu-id="edb10-374">**Wat zijn het binden van modellen? Zijn dat ze Hallo hetzelfde is als modellen weergeven? -** Dit twee verwante concepten zijn.</span><span class="sxs-lookup"><span data-stu-id="edb10-374">**What are binding models? Are they hello same thing as view models? -** These are two related concepts.</span></span> <span data-ttu-id="edb10-375">Hallo-term binding model tooa modelklasse gebruikt in een actie verwijst is parameterlijst (Hallo vorm van MVC-model binding toohello actiemethode doorgegeven).</span><span class="sxs-lookup"><span data-stu-id="edb10-375">hello term binding model refers tooa model class used in an action is parameter list (hello shape passed from MVC model binding toohello action method).</span></span> <span data-ttu-id="edb10-376">Hallo term weergave model verwijst tooa modelklasse van weergave met een actie methode tooa doorgegeven.</span><span class="sxs-lookup"><span data-stu-id="edb10-376">hello term view model refers tooa model class passed from an action method tooa view.</span></span> <span data-ttu-id="edb10-377">Met behulp van een weergave-specifieke model is een algemene benadering voor het doorgeven van gegevens uit een actie methode tooa weergave.</span><span class="sxs-lookup"><span data-stu-id="edb10-377">Using a view-specific model is a common approach for passing data from an action method tooa view.</span></span> <span data-ttu-id="edb10-378">Vaak worden deze vorm is ook geschikt voor modelbinding en Hallo term weergave model kan worden gebruikt toorefer Hallo hetzelfde model op beide plaatsen worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="edb10-378">Often, this shape is also suitable for model binding, and hello term view model can be used toorefer hello same model used in both places.</span></span> <span data-ttu-id="edb10-379">toobe nauwkeurige, deze procedure wordt gesproken over de binding van modellen, te focussen op Hallo vorm doorgegeven toohello-actie is wat belangrijk is voor massaopslag toewijzing doeleinden.</span><span class="sxs-lookup"><span data-stu-id="edb10-379">toobe precise, this procedure talks specifically about binding models, focusing on hello shape passed toohello action, which is what matters for mass assignment purposes.</span></span></li></ul>| 

## <span data-ttu-id="edb10-380"><a id="rendering"></a>Niet-vertrouwde web uitvoer voorafgaande toorendering coderen</span><span class="sxs-lookup"><span data-stu-id="edb10-380"><a id="rendering"></a>Encode untrusted web output prior toorendering</span></span>

| <span data-ttu-id="edb10-381">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-381">Title</span></span>                   | <span data-ttu-id="edb10-382">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-382">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-383">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-383">**Component**</span></span>               | <span data-ttu-id="edb10-384">Webtoepassing</span><span class="sxs-lookup"><span data-stu-id="edb10-384">Web Application</span></span> | 
| <span data-ttu-id="edb10-385">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-385">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-386">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-386">Build</span></span> |  
| <span data-ttu-id="edb10-387">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-387">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-388">Algemeen, Web Forms, MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="edb10-388">Generic, Web Forms, MVC5, MVC6</span></span> |
| <span data-ttu-id="edb10-389">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-389">**Attributes**</span></span>              | <span data-ttu-id="edb10-390">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-390">N/A</span></span>  |
| <span data-ttu-id="edb10-391">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-391">**References**</span></span>              | <span data-ttu-id="edb10-392">[Hoe tooprevent Cross-site scripting in ASP.NET](http://msdn.microsoft.com/library/ms998274.aspx), [Cross-site Scripting](http://cwe.mitre.org/data/definitions/79.html), [XSS (Cross-Site Scripting) preventie cheats blad](https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet)</span><span class="sxs-lookup"><span data-stu-id="edb10-392">[How tooprevent Cross-site scripting in ASP.NET](http://msdn.microsoft.com/library/ms998274.aspx), [Cross-site Scripting](http://cwe.mitre.org/data/definitions/79.html), [XSS (Cross Site Scripting) Prevention Cheat Sheet](https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet)</span></span> |
| <span data-ttu-id="edb10-393">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-393">**Steps**</span></span> | <span data-ttu-id="edb10-394">Cross-site scripting (vaak afgekort als XSS) is een aanvalsvector voor online services of een toepassing/onderdeel is dat invoer van Hallo web verbruikt.</span><span class="sxs-lookup"><span data-stu-id="edb10-394">Cross-site scripting (commonly abbreviated as XSS) is an attack vector for online services or any application/component that consumes input from hello web.</span></span> <span data-ttu-id="edb10-395">XSS beveiligingsproblemen kunnen een aanvaller tooexecute script op de computer een andere gebruiker via een kwetsbaar webtoepassing.</span><span class="sxs-lookup"><span data-stu-id="edb10-395">XSS vulnerabilities may allow an attacker tooexecute script on another user's machine through a vulnerable web application.</span></span> <span data-ttu-id="edb10-396">Schadelijke scripts worden cookies gebruikt toosteal en anders kunnen knoeien met de machine van een slachtoffer via JavaScript.</span><span class="sxs-lookup"><span data-stu-id="edb10-396">Malicious scripts can be used toosteal cookies and otherwise tamper with a victim's machine through JavaScript.</span></span> <span data-ttu-id="edb10-397">XSS wordt voorkomen door het valideren van invoer van gebruiker, zodat is opgemaakt en codering voordat deze wordt weergegeven in een webpagina.</span><span class="sxs-lookup"><span data-stu-id="edb10-397">XSS is prevented by validating user input, ensuring it is well formed and encoding before it is rendered in a web page.</span></span> <span data-ttu-id="edb10-398">Validatie voor invoer en uitvoercodering kunnen worden gedaan met behulp van Web-bibliotheek voor beveiliging.</span><span class="sxs-lookup"><span data-stu-id="edb10-398">Input validation and output encoding can be done by using Web Protection Library.</span></span> <span data-ttu-id="edb10-399">Voor beheerde code (C\#, VB.net, enz.), gebruikt u een of meer codering methoden van Hallo Web beveiliging (Anti-XSS)-bibliotheek, afhankelijk van waar de gebruikersinvoer Hallo opgehaald gemanifesteerd Hallo-context van toepassing:</span><span class="sxs-lookup"><span data-stu-id="edb10-399">For Managed code (C\#, VB.net, etc.), use one or more appropriate encoding methods from hello Web Protection (Anti-XSS) Library, depending on hello context where hello user input gets manifested:</span></span>| 

### <a name="example"></a><span data-ttu-id="edb10-400">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-400">Example</span></span>

```C#
* Encoder.HtmlEncode 
* Encoder.HtmlAttributeEncode 
* Encoder.JavaScriptEncode 
* Encoder.UrlEncode
* Encoder.VisualBasicScriptEncode 
* Encoder.XmlEncode 
* Encoder.XmlAttributeEncode 
* Encoder.CssEncode 
* Encoder.LdapEncode 
```

## <span data-ttu-id="edb10-401"><a id="typemodel"></a>Validatie voor invoer- en filteren op alle tekenreekstype modeleigenschappen uitvoeren</span><span class="sxs-lookup"><span data-stu-id="edb10-401"><a id="typemodel"></a>Perform input validation and filtering on all string type Model properties</span></span>

| <span data-ttu-id="edb10-402">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-402">Title</span></span>                   | <span data-ttu-id="edb10-403">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-403">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-404">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-404">**Component**</span></span>               | <span data-ttu-id="edb10-405">Webtoepassing</span><span class="sxs-lookup"><span data-stu-id="edb10-405">Web Application</span></span> | 
| <span data-ttu-id="edb10-406">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-406">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-407">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-407">Build</span></span> |  
| <span data-ttu-id="edb10-408">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-408">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-409">Algemeen, MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="edb10-409">Generic, MVC5, MVC6</span></span> |
| <span data-ttu-id="edb10-410">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-410">**Attributes**</span></span>              | <span data-ttu-id="edb10-411">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-411">N/A</span></span>  |
| <span data-ttu-id="edb10-412">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-412">**References**</span></span>              | <span data-ttu-id="edb10-413">[Toe te voegen validatie](http://www.asp.net/mvc/overview/getting-started/introduction/adding-validation), [modelgegevens valideren in een MVC-toepassing](http://msdn.microsoft.com/library/dd410404(v=vs.90).aspx), [richtsnoer voor uw ASP.NET MVC-toepassingen](http://msdn.microsoft.com/magazine/dd942822.aspx)</span><span class="sxs-lookup"><span data-stu-id="edb10-413">[Adding Validation](http://www.asp.net/mvc/overview/getting-started/introduction/adding-validation), [Validating Model Data in an MVC Application](http://msdn.microsoft.com/library/dd410404(v=vs.90).aspx), [Guiding Principles For Your ASP.NET MVC Applications](http://msdn.microsoft.com/magazine/dd942822.aspx)</span></span> |
| <span data-ttu-id="edb10-414">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-414">**Steps**</span></span> | <p><span data-ttu-id="edb10-415">Alle Hallo invoerparameters moeten worden gevalideerd voordat ze worden gebruikt in Hallo toepassing tooensure dat de toepassing hello zijn beveiligd tegen schadelijke gebruikersinvoer.</span><span class="sxs-lookup"><span data-stu-id="edb10-415">All hello input parameters must be validated before they are used in hello application tooensure that hello application is safeguarded against malicious user inputs.</span></span> <span data-ttu-id="edb10-416">Hallo invoerwaarden met reguliere expressie validaties aan serverzijde met een strategie voor een lijst met geaccepteerde validatie valideren.</span><span class="sxs-lookup"><span data-stu-id="edb10-416">Validate hello input values using regular expression validations on server side with a whitelist validation strategy.</span></span> <span data-ttu-id="edb10-417">Gebruikersinvoer unsanitized / parameters doorgegeven toohello methoden kunnen leiden tot code injectie beveiligingsproblemen.</span><span class="sxs-lookup"><span data-stu-id="edb10-417">Unsanitized user inputs / parameters passed toohello methods can cause code injection vulnerabilities.</span></span></p><p><span data-ttu-id="edb10-418">Voor webtoepassingen bevatten toegangspunten ook formuliervelden, QueryStrings, cookies, HTTP-headers en web serviceparameters.</span><span class="sxs-lookup"><span data-stu-id="edb10-418">For web applications, entry points can also include form fields, QueryStrings, cookies, HTTP headers, and web service parameters.</span></span></p><p><span data-ttu-id="edb10-419">Hallo moeten controles van de volgende validatie voor invoer worden uitgevoerd bij modelbinding:</span><span class="sxs-lookup"><span data-stu-id="edb10-419">hello following input validation checks must be performed upon model binding:</span></span></p><ul><li><span data-ttu-id="edb10-420">Hallo modeleigenschappen moeten worden gemarkeerd met RegularExpression aantekening, voor het accepteren van toegestane aantal tekens en maximaal toegestane lengte</span><span class="sxs-lookup"><span data-stu-id="edb10-420">hello model properties should be annotated with RegularExpression annotation, for accepting allowed characters and maximum permissible length</span></span></li><li><span data-ttu-id="edb10-421">Hallo-controllermethoden ModelState geldigheid moeten worden uitgevoerd</span><span class="sxs-lookup"><span data-stu-id="edb10-421">hello controller methods should perform ModelState validity</span></span></li></ul>|

## <span data-ttu-id="edb10-422"><a id="richtext"></a>Opschoning moet worden toegepast op formuliervelden die tekens, bijvoorbeeld, RTF-editor accepteren</span><span class="sxs-lookup"><span data-stu-id="edb10-422"><a id="richtext"></a>Sanitization should be applied on form fields that accept all characters, e.g, rich text editor</span></span>

| <span data-ttu-id="edb10-423">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-423">Title</span></span>                   | <span data-ttu-id="edb10-424">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-424">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-425">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-425">**Component**</span></span>               | <span data-ttu-id="edb10-426">Webtoepassing</span><span class="sxs-lookup"><span data-stu-id="edb10-426">Web Application</span></span> | 
| <span data-ttu-id="edb10-427">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-427">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-428">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-428">Build</span></span> |  
| <span data-ttu-id="edb10-429">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-429">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-430">Algemene</span><span class="sxs-lookup"><span data-stu-id="edb10-430">Generic</span></span> |
| <span data-ttu-id="edb10-431">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-431">**Attributes**</span></span>              | <span data-ttu-id="edb10-432">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-432">N/A</span></span>  |
| <span data-ttu-id="edb10-433">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-433">**References**</span></span>              | <span data-ttu-id="edb10-434">[Onveilige invoer coderen](https://msdn.microsoft.com/library/ff647397.aspx#paght000003_step3), [HTML Sanitizer](https://github.com/mganss/HtmlSanitizer)</span><span class="sxs-lookup"><span data-stu-id="edb10-434">[Encode Unsafe Input](https://msdn.microsoft.com/library/ff647397.aspx#paght000003_step3), [HTML Sanitizer](https://github.com/mganss/HtmlSanitizer)</span></span> |
| <span data-ttu-id="edb10-435">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-435">**Steps**</span></span> | <p><span data-ttu-id="edb10-436">Identificeer alle statische markup labels die u toouse wilt.</span><span class="sxs-lookup"><span data-stu-id="edb10-436">Identify all static markup tags that you want toouse.</span></span> <span data-ttu-id="edb10-437">Een gebruikelijk is toorestrict opmaak toosafe HTML-elementen, zoals `<b>` (vet weergegeven) en `<i>` (cursief).</span><span class="sxs-lookup"><span data-stu-id="edb10-437">A common practice is toorestrict formatting toosafe HTML elements, such as `<b>` (bold) and `<i>` (italic).</span></span></p><p><span data-ttu-id="edb10-438">Hallo-gegevens, HTML en coderen gebufferd voordat deze.</span><span class="sxs-lookup"><span data-stu-id="edb10-438">Before writing hello data, HTML-encode it.</span></span> <span data-ttu-id="edb10-439">Dit zorgt ervoor dat eventuele schadelijke scripts veilig waardoor toobe behandeld als tekst, niet als uitvoerbare code.</span><span class="sxs-lookup"><span data-stu-id="edb10-439">This makes any malicious script safe by causing it toobe handled as text, not as executable code.</span></span></p><ol><li><span data-ttu-id="edb10-440">Schakel ASP.NET-aanvraag validatie door Hallo toe te voegen Hallo ValidateRequest = 'false' kenmerk toohello @ pagina-instructie</span><span class="sxs-lookup"><span data-stu-id="edb10-440">Disable ASP.NET request validation by hello adding hello ValidateRequest="false" attribute toohello @ Page directive</span></span></li><li><span data-ttu-id="edb10-441">Hallo tekenreeksinvoer met Hallo HtmlEncode methode coderen</span><span class="sxs-lookup"><span data-stu-id="edb10-441">Encode hello string input with hello HtmlEncode method</span></span></li><li><span data-ttu-id="edb10-442">Gebruik een StringBuilder en de aanroep van de methode vervangen tooselectively Hallo codering op Hallo HTML-elementen die u wilt dat toopermit verwijderen</span><span class="sxs-lookup"><span data-stu-id="edb10-442">Use a StringBuilder and call its Replace method tooselectively remove hello encoding on hello HTML elements that you want toopermit</span></span></li></ol><p><span data-ttu-id="edb10-443">Hallo Hallo-pagina in verwijzingen wordt uitgeschakeld ASP.NET aanvraag gevalideerd door `ValidateRequest="false"`.</span><span class="sxs-lookup"><span data-stu-id="edb10-443">hello page-in hello references disables ASP.NET request validation by setting `ValidateRequest="false"`.</span></span> <span data-ttu-id="edb10-444">Het HTML-codeert Hallo invoer- en kunt u selectief Hallo `<b>` en `<i>` ook een .NET-bibliotheek voor HTML-opschoning kan ook worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="edb10-444">It HTML-encodes hello input and selectively allows hello `<b>` and `<i>` Alternatively, a .NET library for HTML sanitization may also be used.</span></span></p><p><span data-ttu-id="edb10-445">HtmlSanitizer is een .NET-bibliotheek voor het reinigen HTML-fragmenten en documenten van constructies die tooXSS aanvallen kunnen leiden.</span><span class="sxs-lookup"><span data-stu-id="edb10-445">HtmlSanitizer is a .NET library for cleaning HTML fragments and documents from constructs that can lead tooXSS attacks.</span></span> <span data-ttu-id="edb10-446">Het AngleSharp tooparse gebruikt, bewerken en HTML en CSS weergeven.</span><span class="sxs-lookup"><span data-stu-id="edb10-446">It uses AngleSharp tooparse, manipulate, and render HTML and CSS.</span></span> <span data-ttu-id="edb10-447">HtmlSanitizer kan worden geïnstalleerd als een NuGet-pakket en gebruikersinvoer Hallo kan worden doorgegeven via relevante HTML of CSS-opschoning methoden, indien van toepassing op Hallo serverzijde.</span><span class="sxs-lookup"><span data-stu-id="edb10-447">HtmlSanitizer can be installed as a NuGet package, and hello user input can be passed through relevant HTML or CSS sanitization methods, as applicable, on hello server side.</span></span> <span data-ttu-id="edb10-448">Houd er rekening mee dat opschoning als een beveiligingscontrole alleen als een laatste optie moet worden beschouwd.</span><span class="sxs-lookup"><span data-stu-id="edb10-448">Please note that Sanitization as a security control should be considered only as a last option.</span></span></p><p><span data-ttu-id="edb10-449">Validatie voor invoer en uitvoercodering worden beschouwd als de besturingselementen voor betere beveiliging.</span><span class="sxs-lookup"><span data-stu-id="edb10-449">Input validation and Output Encoding are considered better security controls.</span></span></p> |

## <span data-ttu-id="edb10-450"><a id="inbuilt-encode"></a>DOM elementen toosinks waarvoor geen ingebouwde codering niet toe te wijzen</span><span class="sxs-lookup"><span data-stu-id="edb10-450"><a id="inbuilt-encode"></a>Do not assign DOM elements toosinks that do not have inbuilt encoding</span></span>

| <span data-ttu-id="edb10-451">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-451">Title</span></span>                   | <span data-ttu-id="edb10-452">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-452">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-453">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-453">**Component**</span></span>               | <span data-ttu-id="edb10-454">Webtoepassing</span><span class="sxs-lookup"><span data-stu-id="edb10-454">Web Application</span></span> | 
| <span data-ttu-id="edb10-455">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-455">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-456">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-456">Build</span></span> |  
| <span data-ttu-id="edb10-457">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-457">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-458">Algemene</span><span class="sxs-lookup"><span data-stu-id="edb10-458">Generic</span></span> |
| <span data-ttu-id="edb10-459">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-459">**Attributes**</span></span>              | <span data-ttu-id="edb10-460">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-460">N/A</span></span>  |
| <span data-ttu-id="edb10-461">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-461">**References**</span></span>              | <span data-ttu-id="edb10-462">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-462">N/A</span></span>  |
| <span data-ttu-id="edb10-463">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-463">**Steps**</span></span> | <span data-ttu-id="edb10-464">Veel javascript-functies doen niet codering standaard.</span><span class="sxs-lookup"><span data-stu-id="edb10-464">Many javascript functions don't do encoding by default.</span></span> <span data-ttu-id="edb10-465">Als u niet-vertrouwde invoer tooDOM elementen via dergelijke functies toewijst, kan leiden tot cross-site-script (XSS) uitvoeringen.</span><span class="sxs-lookup"><span data-stu-id="edb10-465">When assigning untrusted input tooDOM elements via such functions, may result in cross site script (XSS) executions.</span></span>| 

### <a name="example"></a><span data-ttu-id="edb10-466">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-466">Example</span></span>
<span data-ttu-id="edb10-467">Hieronder vindt u onveilige voorbeelden:</span><span class="sxs-lookup"><span data-stu-id="edb10-467">Following are insecure examples:</span></span> 

```
document.getElementByID("div1").innerHtml = value;
$("#userName").html(res.Name);
return $('<div/>').html(value)
$('body').append(resHTML);   
```
<span data-ttu-id="edb10-468">Gebruik geen `innerHtml`; gebruik in plaats daarvan `innerText`.</span><span class="sxs-lookup"><span data-stu-id="edb10-468">Don't use `innerHtml`; instead use `innerText`.</span></span> <span data-ttu-id="edb10-469">Op deze manier in plaats van `$("#elm").html()`, gebruiken`$("#elm").text()`</span><span class="sxs-lookup"><span data-stu-id="edb10-469">Similarly, instead of `$("#elm").html()`, use `$("#elm").text()`</span></span> 

## <span data-ttu-id="edb10-470"><a id="redirect-safe"></a>Valideer alle omleidingen in toepassing hello zijn gesloten of veilig gedaan</span><span class="sxs-lookup"><span data-stu-id="edb10-470"><a id="redirect-safe"></a>Validate all redirects within hello application are closed or done safely</span></span>

| <span data-ttu-id="edb10-471">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-471">Title</span></span>                   | <span data-ttu-id="edb10-472">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-472">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-473">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-473">**Component**</span></span>               | <span data-ttu-id="edb10-474">Webtoepassing</span><span class="sxs-lookup"><span data-stu-id="edb10-474">Web Application</span></span> | 
| <span data-ttu-id="edb10-475">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-475">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-476">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-476">Build</span></span> |  
| <span data-ttu-id="edb10-477">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-477">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-478">Algemene</span><span class="sxs-lookup"><span data-stu-id="edb10-478">Generic</span></span> |
| <span data-ttu-id="edb10-479">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-479">**Attributes**</span></span>              | <span data-ttu-id="edb10-480">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-480">N/A</span></span>  |
| <span data-ttu-id="edb10-481">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-481">**References**</span></span>              | [<span data-ttu-id="edb10-482">Hallo Framework voor autorisatie van OAuth 2.0 - Open Redirectors</span><span class="sxs-lookup"><span data-stu-id="edb10-482">hello OAuth 2.0 Authorization Framework - Open Redirectors</span></span>](http://tools.ietf.org/html/rfc6749#section-10.15) |
| <span data-ttu-id="edb10-483">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-483">**Steps**</span></span> | <p><span data-ttu-id="edb10-484">Ontwerp van de toepassing waarvoor omleiding tooa gebruiker opgegeven locatie moet Hallo mogelijke omleiding doelen tooa vooraf gedefinieerde "veilig" lijst met sites of domeinen beperken.</span><span class="sxs-lookup"><span data-stu-id="edb10-484">Application design requiring redirection tooa user-supplied location must constrain hello possible redirection targets tooa predefined "safe" list of sites or domains.</span></span> <span data-ttu-id="edb10-485">Alle omleidingen in Hallo toepassing moeten worden gesloten/veilig.</span><span class="sxs-lookup"><span data-stu-id="edb10-485">All redirects in hello application must be closed/safe.</span></span></p><p><span data-ttu-id="edb10-486">toodo dit:</span><span class="sxs-lookup"><span data-stu-id="edb10-486">toodo this:</span></span></p><ul><li><span data-ttu-id="edb10-487">Alle omleidingen identificeren</span><span class="sxs-lookup"><span data-stu-id="edb10-487">Identify all redirects</span></span></li><li><span data-ttu-id="edb10-488">Een juiste Risicobeperking voor het omleiden van elke implementeren.</span><span class="sxs-lookup"><span data-stu-id="edb10-488">Implement an appropriate mitigation for each redirect.</span></span> <span data-ttu-id="edb10-489">Juiste oplossingen omvatten omleiding goedgekeurde IP-adressen of gebruiker bevestigen.</span><span class="sxs-lookup"><span data-stu-id="edb10-489">Appropriate mitigations include redirect whitelist or user confirmation.</span></span> <span data-ttu-id="edb10-490">Als een website of de service met een beveiligingslek open omleiding identiteitsproviders OAuth-Facebook/OpenID gebruikt, kan een aanvaller stelen van een gebruiker aanmeldingstokens en die gebruiker imiteren.</span><span class="sxs-lookup"><span data-stu-id="edb10-490">If a web site or service with an open redirect vulnerability uses Facebook/OAuth/OpenID identity providers, an attacker can steal a user's logon token and impersonate that user.</span></span> <span data-ttu-id="edb10-491">Dit risico is wanneer met behulp van OAuth, die wordt beschreven in RFC 6749 'Hallo OAuth 2.0 autorisatie Framework', sectie 10.15 'Open leidt' op dezelfde manier, referenties van gebruikers kunnen worden aangetast door spear phishing-aanvallen met open omleidingen</span><span class="sxs-lookup"><span data-stu-id="edb10-491">This is an inherent risk when using OAuth, which is documented in RFC 6749 "hello OAuth 2.0 Authorization Framework", Section 10.15 "Open Redirects" Similarly, users' credentials can be compromised by spear phishing attacks using open redirects</span></span></li></ul>|

## <span data-ttu-id="edb10-492"><a id="string-method"></a>Validatie voor invoer op alle tekenreeks typeparameters geaccepteerd door de methoden van de domeincontroller implementeren</span><span class="sxs-lookup"><span data-stu-id="edb10-492"><a id="string-method"></a>Implement input validation on all string type parameters accepted by Controller methods</span></span>

| <span data-ttu-id="edb10-493">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-493">Title</span></span>                   | <span data-ttu-id="edb10-494">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-494">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-495">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-495">**Component**</span></span>               | <span data-ttu-id="edb10-496">Webtoepassing</span><span class="sxs-lookup"><span data-stu-id="edb10-496">Web Application</span></span> | 
| <span data-ttu-id="edb10-497">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-497">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-498">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-498">Build</span></span> |  
| <span data-ttu-id="edb10-499">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-499">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-500">Algemeen, MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="edb10-500">Generic, MVC5, MVC6</span></span> |
| <span data-ttu-id="edb10-501">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-501">**Attributes**</span></span>              | <span data-ttu-id="edb10-502">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-502">N/A</span></span>  |
| <span data-ttu-id="edb10-503">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-503">**References**</span></span>              | <span data-ttu-id="edb10-504">[Valideren van modelgegevens in een MVC-toepassing](http://msdn.microsoft.com/library/dd410404(v=vs.90).aspx), [richtsnoer voor uw ASP.NET MVC-toepassingen](http://msdn.microsoft.com/magazine/dd942822.aspx)</span><span class="sxs-lookup"><span data-stu-id="edb10-504">[Validating Model Data in an MVC Application](http://msdn.microsoft.com/library/dd410404(v=vs.90).aspx), [Guiding Principles For Your ASP.NET MVC Applications](http://msdn.microsoft.com/magazine/dd942822.aspx)</span></span> |
| <span data-ttu-id="edb10-505">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-505">**Steps**</span></span> | <span data-ttu-id="edb10-506">Methoden die primitief gegevenstype en geen modellen als argument accepteert, moet met een reguliere expressie voor validatie voor invoer worden gedaan.</span><span class="sxs-lookup"><span data-stu-id="edb10-506">For methods that just accept primitive data type, and not models as argument,input validation using Regular Expression should be done.</span></span> <span data-ttu-id="edb10-507">Hier moet Regex.IsMatch worden gebruikt met een geldige regex-patroon.</span><span class="sxs-lookup"><span data-stu-id="edb10-507">Here Regex.IsMatch should be used with a valid regex pattern.</span></span> <span data-ttu-id="edb10-508">Hallo invoer komt niet overeen met Hallo opgegeven reguliere expressie, besturingselement moet niet verder als een passende waarschuwing met betrekking tot mislukte validatie moet worden weergegeven.</span><span class="sxs-lookup"><span data-stu-id="edb10-508">If hello input doesn't match hello specified Regular Expression, control should not proceed further, and an adequate warning regarding validation failure should be displayed.</span></span>| 

## <span data-ttu-id="edb10-509"><a id="dos-expression"></a>Time-out voor bovengrens instellen voor reguliere expressie voor het verwerken van tooprevent DoS vanwege toobad reguliere expressies</span><span class="sxs-lookup"><span data-stu-id="edb10-509"><a id="dos-expression"></a>Set upper limit timeout for regular expression processing tooprevent DoS due toobad regular expressions</span></span>

| <span data-ttu-id="edb10-510">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-510">Title</span></span>                   | <span data-ttu-id="edb10-511">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-511">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-512">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-512">**Component**</span></span>               | <span data-ttu-id="edb10-513">Webtoepassing</span><span class="sxs-lookup"><span data-stu-id="edb10-513">Web Application</span></span> | 
| <span data-ttu-id="edb10-514">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-514">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-515">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-515">Build</span></span> |  
| <span data-ttu-id="edb10-516">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-516">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-517">Algemeen, Web Forms, MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="edb10-517">Generic, Web Forms, MVC5, MVC6</span></span>  |
| <span data-ttu-id="edb10-518">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-518">**Attributes**</span></span>              | <span data-ttu-id="edb10-519">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-519">N/A</span></span>  |
| <span data-ttu-id="edb10-520">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-520">**References**</span></span>              | [<span data-ttu-id="edb10-521">De eigenschap DefaultRegexMatchTimeout</span><span class="sxs-lookup"><span data-stu-id="edb10-521">DefaultRegexMatchTimeout Property </span></span>](https://msdn.microsoft.com/library/system.web.configuration.httpruntimesection.defaultregexmatchtimeout.aspx) |
| <span data-ttu-id="edb10-522">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-522">**Steps**</span></span> | <span data-ttu-id="edb10-523">tooensure denial-of service-aanvallen op onjuist gemaakt reguliere expressies, waardoor een groot aantal backtracing als Hallo globale standaardtime-out ingesteld.</span><span class="sxs-lookup"><span data-stu-id="edb10-523">tooensure denial of service attacks against badly created regular expressions, that cause a lot of backtracking, set hello global default timeout.</span></span> <span data-ttu-id="edb10-524">Als de verwerkingstijd van Hallo langer duurt dan Hallo bovengrens gedefinieerd, zou deze time-out-uitzondering genereren.</span><span class="sxs-lookup"><span data-stu-id="edb10-524">If hello processing time takes longer than hello defined upper limit, it would throw a Timeout exception.</span></span> <span data-ttu-id="edb10-525">Als er niets is geconfigureerd, zou Hallo time-out oneindig zijn.</span><span class="sxs-lookup"><span data-stu-id="edb10-525">If nothing is configured, hello timeout would be infinite.</span></span>| 

### <a name="example"></a><span data-ttu-id="edb10-526">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-526">Example</span></span>
<span data-ttu-id="edb10-527">Bijvoorbeeld: hello volgende configuratie genereert een RegexMatchTimeoutException als Hallo verwerking langer dan 5 seconden duurt:</span><span class="sxs-lookup"><span data-stu-id="edb10-527">For example, hello following configuration will throw a RegexMatchTimeoutException, if hello processing takes more than 5 seconds:</span></span> 

```C#
<httpRuntime targetFramework="4.5" defaultRegexMatchTimeout="00:00:05" />
```

## <span data-ttu-id="edb10-528"><a id="html-razor"></a>Vermijd het gebruik van Html.Raw in Razor weergaven</span><span class="sxs-lookup"><span data-stu-id="edb10-528"><a id="html-razor"></a>Avoid using Html.Raw in Razor views</span></span>

| <span data-ttu-id="edb10-529">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-529">Title</span></span>                   | <span data-ttu-id="edb10-530">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-530">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-531">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-531">**Component**</span></span>               | <span data-ttu-id="edb10-532">Webtoepassing</span><span class="sxs-lookup"><span data-stu-id="edb10-532">Web Application</span></span> | 
| <span data-ttu-id="edb10-533">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-533">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-534">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-534">Build</span></span> |  
| <span data-ttu-id="edb10-535">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-535">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-536">MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="edb10-536">MVC5, MVC6</span></span> |
| <span data-ttu-id="edb10-537">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-537">**Attributes**</span></span>              | <span data-ttu-id="edb10-538">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-538">N/A</span></span>  |
| <span data-ttu-id="edb10-539">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-539">**References**</span></span>              | <span data-ttu-id="edb10-540">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-540">N/A</span></span>  |
| <span data-ttu-id="edb10-541">Stap</span><span class="sxs-lookup"><span data-stu-id="edb10-541">Step</span></span> | <span data-ttu-id="edb10-542">ASP.Net-webpagina's (Razor) uitvoeren van automatische HTML-codering.</span><span class="sxs-lookup"><span data-stu-id="edb10-542">ASP.Net WebPages (Razor) perform automatic HTML encoding.</span></span> <span data-ttu-id="edb10-543">Alle tekenreeksen die worden afgedrukt door ingesloten code nuggets (@ blokken) zijn automatisch HTML-codering.</span><span class="sxs-lookup"><span data-stu-id="edb10-543">All strings printed by embedded code nuggets (@ blocks) are automatically HTML-encoded.</span></span> <span data-ttu-id="edb10-544">Echter, wanneer `HtmlHelper.Raw` methode wordt aangeroepen, resulteert dit in de opmaak die is geen HTML-codering.</span><span class="sxs-lookup"><span data-stu-id="edb10-544">However, when `HtmlHelper.Raw` Method is invoked, it returns markup that is not HTML encoded.</span></span> <span data-ttu-id="edb10-545">Als `Html.Raw()` Help-methode wordt gebruikt, wordt omzeild Hallo automatische codering bescherming die Razor biedt.</span><span class="sxs-lookup"><span data-stu-id="edb10-545">If `Html.Raw()` helper method is used, it bypasses hello automatic encoding protection that Razor provides.</span></span>|

### <a name="example"></a><span data-ttu-id="edb10-546">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-546">Example</span></span>
<span data-ttu-id="edb10-547">Hieronder volgt een onbeveiligde voorbeeld:</span><span class="sxs-lookup"><span data-stu-id="edb10-547">Following is an insecure example:</span></span> 

```C#
<div class="form-group">
            @Html.Raw(Model.AccountConfirmText)
        </div>
        <div class="form-group">
            @Html.Raw(Model.PaymentConfirmText)
        </div>
</div>
```
<span data-ttu-id="edb10-548">Gebruik geen `Html.Raw()` tenzij u toodisplay opmaak nodig.</span><span class="sxs-lookup"><span data-stu-id="edb10-548">Do not use `Html.Raw()` unless you need toodisplay markup.</span></span> <span data-ttu-id="edb10-549">Deze methode voert geen uitvoer impliciet codering.</span><span class="sxs-lookup"><span data-stu-id="edb10-549">This method does not perform output encoding implicitly.</span></span> <span data-ttu-id="edb10-550">Gebruik andere helpers ASP.NET bijv.`@Html.DisplayFor()`</span><span class="sxs-lookup"><span data-stu-id="edb10-550">Use other ASP.NET helpers e.g., `@Html.DisplayFor()`</span></span> 

## <span data-ttu-id="edb10-551"><a id="stored-proc"></a>Gebruik geen dynamische query's in de opgeslagen procedures</span><span class="sxs-lookup"><span data-stu-id="edb10-551"><a id="stored-proc"></a>Do not use dynamic queries in stored procedures</span></span>

| <span data-ttu-id="edb10-552">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-552">Title</span></span>                   | <span data-ttu-id="edb10-553">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-553">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-554">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-554">**Component**</span></span>               | <span data-ttu-id="edb10-555">Database</span><span class="sxs-lookup"><span data-stu-id="edb10-555">Database</span></span> | 
| <span data-ttu-id="edb10-556">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-556">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-557">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-557">Build</span></span> |  
| <span data-ttu-id="edb10-558">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-558">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-559">Algemene</span><span class="sxs-lookup"><span data-stu-id="edb10-559">Generic</span></span> |
| <span data-ttu-id="edb10-560">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-560">**Attributes**</span></span>              | <span data-ttu-id="edb10-561">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-561">N/A</span></span>  |
| <span data-ttu-id="edb10-562">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-562">**References**</span></span>              | <span data-ttu-id="edb10-563">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-563">N/A</span></span>  |
| <span data-ttu-id="edb10-564">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-564">**Steps**</span></span> | <p><span data-ttu-id="edb10-565">Een SQL-injectieaanvallen gebruikmaakt van kwetsbaarheden in validatie voor invoer toorun willekeurige opdrachten in Hallo-database.</span><span class="sxs-lookup"><span data-stu-id="edb10-565">A SQL injection attack exploits vulnerabilities in input validation toorun arbitrary commands in hello database.</span></span> <span data-ttu-id="edb10-566">Dit kan optreden wanneer de toepassing gebruikmaakt van invoer tooconstruct dynamische SQL-instructies tooaccess Hallo database.</span><span class="sxs-lookup"><span data-stu-id="edb10-566">It can occur when your application uses input tooconstruct dynamic SQL statements tooaccess hello database.</span></span> <span data-ttu-id="edb10-567">Het kan ook optreden als opgeslagen procedures die zijn doorgegeven tekenreeksen met onbewerkte gebruikersinvoer wordt gebruikt in uw code.</span><span class="sxs-lookup"><span data-stu-id="edb10-567">It can also occur if your code uses stored procedures that are passed strings that contain raw user input.</span></span> <span data-ttu-id="edb10-568">Met behulp van SQL-injectieaanvallen Hallo uitvoeren Hallo aanvaller willekeurige opdrachten in Hallo-database.</span><span class="sxs-lookup"><span data-stu-id="edb10-568">Using hello SQL injection attack, hello attacker can execute arbitrary commands in hello database.</span></span> <span data-ttu-id="edb10-569">De parameters van alle SQL-instructies (inclusief Hallo SQL-instructies in de opgeslagen procedures) moeten worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="edb10-569">All SQL statements (including hello SQL statements in stored procedures) must be parameterized.</span></span> <span data-ttu-id="edb10-570">SQL-instructies met parameters accepteert tekens die op een speciale betekenis tooSQL (zoals enkel aanhalingsteken) zonder problemen omdat ze sterk getypeerd zijn.</span><span class="sxs-lookup"><span data-stu-id="edb10-570">Parameterized SQL statements will accept characters that have special meaning tooSQL (like single quote) without problems because they are strongly typed.</span></span> |

### <a name="example"></a><span data-ttu-id="edb10-571">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-571">Example</span></span>
<span data-ttu-id="edb10-572">Hieronder volgt een voorbeeld van onbeveiligde dynamische opgeslagen Procedure:</span><span class="sxs-lookup"><span data-stu-id="edb10-572">Following is an example of insecure dynamic Stored Procedure:</span></span> 

```C#
CREATE PROCEDURE [dbo].[uspGetProductsByCriteria]
(
  @productName nvarchar(200) = NULL,
  @startPrice float = NULL,
  @endPrice float = NULL
)
AS
 BEGIN
  DECLARE @sql nvarchar(max)
  SELECT @sql = ' SELECT ProductID, ProductName, Description, UnitPrice, ImagePath' +
       ' FROM dbo.Products WHERE 1 = 1 '
       PRINT @sql
  IF @productName IS NOT NULL
     SELECT @sql = @sql + ' AND ProductName LIKE ''%' + @productName + '%'''
  IF @startPrice IS NOT NULL
     SELECT @sql = @sql + ' AND UnitPrice > ''' + CONVERT(VARCHAR(10),@startPrice) + ''''
  IF @endPrice IS NOT NULL
     SELECT @sql = @sql + ' AND UnitPrice < ''' + CONVERT(VARCHAR(10),@endPrice) + ''''

  PRINT @sql
  EXEC(@sql)
 END
```

### <a name="example"></a><span data-ttu-id="edb10-573">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-573">Example</span></span>
<span data-ttu-id="edb10-574">Hieronder vindt u Hallo dezelfde opgeslagen procedure veilig geïmplementeerd:</span><span class="sxs-lookup"><span data-stu-id="edb10-574">Following is hello same stored procedure implemented securely:</span></span> 
```C#
CREATE PROCEDURE [dbo].[uspGetProductsByCriteriaSecure]
(
             @productName nvarchar(200) = NULL,
             @startPrice float = NULL,
             @endPrice float = NULL
)
AS
       BEGIN
             SELECT ProductID, ProductName, Description, UnitPrice, ImagePath
             FROM dbo.Products where
             (@productName IS NULL or ProductName like '%'+ @productName +'%')
             AND
             (@startPrice IS NULL or UnitPrice > @startPrice)
             AND
             (@endPrice IS NULL or UnitPrice < @endPrice)         
       END
```

## <span data-ttu-id="edb10-575"><a id="validation-api"></a>Zorg ervoor dat de validatie is uitgevoerd voor Web-API-methoden</span><span class="sxs-lookup"><span data-stu-id="edb10-575"><a id="validation-api"></a>Ensure that model validation is done on Web API methods</span></span>

| <span data-ttu-id="edb10-576">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-576">Title</span></span>                   | <span data-ttu-id="edb10-577">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-577">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-578">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-578">**Component**</span></span>               | <span data-ttu-id="edb10-579">Web-API</span><span class="sxs-lookup"><span data-stu-id="edb10-579">Web API</span></span> | 
| <span data-ttu-id="edb10-580">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-580">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-581">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-581">Build</span></span> |  
| <span data-ttu-id="edb10-582">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-582">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-583">MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="edb10-583">MVC5, MVC6</span></span> |
| <span data-ttu-id="edb10-584">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-584">**Attributes**</span></span>              | <span data-ttu-id="edb10-585">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-585">N/A</span></span>  |
| <span data-ttu-id="edb10-586">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-586">**References**</span></span>              | [<span data-ttu-id="edb10-587">Modelvalidatie van het in ASP.NET-Web-API</span><span class="sxs-lookup"><span data-stu-id="edb10-587">Model Validation in ASP.NET Web API </span></span>](http://www.asp.net/web-api/overview/formats-and-model-binding/model-validation-in-aspnet-web-api) |
| <span data-ttu-id="edb10-588">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-588">**Steps**</span></span> | <span data-ttu-id="edb10-589">Wanneer een client gegevens tooa web-API verzendt, is het verplichte toovalidate Hallo gegevens voordat u de verwerking.</span><span class="sxs-lookup"><span data-stu-id="edb10-589">When a client sends data tooa web API, it is mandatory toovalidate hello data before doing any processing.</span></span> <span data-ttu-id="edb10-590">Gebruik gegevens aantekeningen op modellen tooset validatieregels voor Hallo eigenschappen van het Hallo-model voor ASP.NET Web-API's die modellen als invoer accepteren.</span><span class="sxs-lookup"><span data-stu-id="edb10-590">For ASP.NET Web APIs which accept models as input, use data annotations on models tooset validation rules on hello properties of hello model.</span></span>|

### <a name="example"></a><span data-ttu-id="edb10-591">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-591">Example</span></span>
<span data-ttu-id="edb10-592">Hallo volgende code toont dezelfde Hallo:</span><span class="sxs-lookup"><span data-stu-id="edb10-592">hello following code demonstrates hello same:</span></span> 

```C#
using System.ComponentModel.DataAnnotations;

namespace MyApi.Models
{
    public class Product
    {
        public int Id { get; set; }
        [Required]
        [RegularExpression(@"^[a-zA-Z0-9]*$", ErrorMessage="Only alphanumeric characters are allowed.")]
        public string Name { get; set; }
        public decimal Price { get; set; }
        [Range(0, 999)]
        public double Weight { get; set; }
    }
}
```

### <a name="example"></a><span data-ttu-id="edb10-593">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-593">Example</span></span>
<span data-ttu-id="edb10-594">In actiemethode Hallo Hallo API-controllers heeft de geldigheid van Hallo model toobe expliciet gecontroleerd zoals hieronder wordt weergegeven:</span><span class="sxs-lookup"><span data-stu-id="edb10-594">In hello action method of hello API controllers, validity of hello model has toobe explicitly checked as shown below:</span></span> 

```C#
namespace MyApi.Controllers
{
    public class ProductsController : ApiController
    {
        public HttpResponseMessage Post(Product product)
        {
            if (ModelState.IsValid)
            {
                // Do something with hello product (not shown).

                return new HttpResponseMessage(HttpStatusCode.OK);
            }
            else
            {
                return Request.CreateErrorResponse(HttpStatusCode.BadRequest, ModelState);
            }
        }
    }
}
```

## <span data-ttu-id="edb10-595"><a id="string-api"></a>Validatie voor invoer op alle tekenreeks typeparameters geaccepteerd door de methoden van de Web-API implementeren</span><span class="sxs-lookup"><span data-stu-id="edb10-595"><a id="string-api"></a>Implement input validation on all string type parameters accepted by Web API methods</span></span>

| <span data-ttu-id="edb10-596">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-596">Title</span></span>                   | <span data-ttu-id="edb10-597">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-597">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-598">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-598">**Component**</span></span>               | <span data-ttu-id="edb10-599">Web-API</span><span class="sxs-lookup"><span data-stu-id="edb10-599">Web API</span></span> | 
| <span data-ttu-id="edb10-600">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-600">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-601">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-601">Build</span></span> |  
| <span data-ttu-id="edb10-602">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-602">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-603">Algemene MVC 5, 6 MVC</span><span class="sxs-lookup"><span data-stu-id="edb10-603">Generic, MVC 5, MVC 6</span></span> |
| <span data-ttu-id="edb10-604">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-604">**Attributes**</span></span>              | <span data-ttu-id="edb10-605">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-605">N/A</span></span>  |
| <span data-ttu-id="edb10-606">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-606">**References**</span></span>              | <span data-ttu-id="edb10-607">[Valideren van modelgegevens in een MVC-toepassing](http://msdn.microsoft.com/library/dd410404(v=vs.90).aspx), [richtsnoer voor uw ASP.NET MVC-toepassingen](http://msdn.microsoft.com/magazine/dd942822.aspx)</span><span class="sxs-lookup"><span data-stu-id="edb10-607">[Validating Model Data in an MVC Application](http://msdn.microsoft.com/library/dd410404(v=vs.90).aspx), [Guiding Principles For Your ASP.NET MVC Applications](http://msdn.microsoft.com/magazine/dd942822.aspx)</span></span> |
| <span data-ttu-id="edb10-608">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-608">**Steps**</span></span> | <span data-ttu-id="edb10-609">Methoden die primitief gegevenstype en geen modellen als argument accepteert, moet met een reguliere expressie voor validatie voor invoer worden gedaan.</span><span class="sxs-lookup"><span data-stu-id="edb10-609">For methods that just accept primitive data type, and not models as argument,input validation using Regular Expression should be done.</span></span> <span data-ttu-id="edb10-610">Hier moet Regex.IsMatch worden gebruikt met een geldige regex-patroon.</span><span class="sxs-lookup"><span data-stu-id="edb10-610">Here Regex.IsMatch should be used with a valid regex pattern.</span></span> <span data-ttu-id="edb10-611">Hallo invoer komt niet overeen met Hallo opgegeven reguliere expressie, besturingselement moet niet verder als een passende waarschuwing met betrekking tot mislukte validatie moet worden weergegeven.</span><span class="sxs-lookup"><span data-stu-id="edb10-611">If hello input doesn't match hello specified Regular Expression, control should not proceed further, and an adequate warning regarding validation failure should be displayed.</span></span>|

## <span data-ttu-id="edb10-612"><a id="typesafe-api"></a>Zorg ervoor dat type veilig parameters in Web-API worden gebruikt voor toegang tot gegevens</span><span class="sxs-lookup"><span data-stu-id="edb10-612"><a id="typesafe-api"></a>Ensure that type-safe parameters are used in Web API for data access</span></span>

| <span data-ttu-id="edb10-613">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-613">Title</span></span>                   | <span data-ttu-id="edb10-614">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-614">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-615">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-615">**Component**</span></span>               | <span data-ttu-id="edb10-616">Web-API</span><span class="sxs-lookup"><span data-stu-id="edb10-616">Web API</span></span> | 
| <span data-ttu-id="edb10-617">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-617">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-618">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-618">Build</span></span> |  
| <span data-ttu-id="edb10-619">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-619">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-620">Algemene</span><span class="sxs-lookup"><span data-stu-id="edb10-620">Generic</span></span> |
| <span data-ttu-id="edb10-621">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-621">**Attributes**</span></span>              | <span data-ttu-id="edb10-622">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-622">N/A</span></span>  |
| <span data-ttu-id="edb10-623">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-623">**References**</span></span>              | <span data-ttu-id="edb10-624">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-624">N/A</span></span>  |
| <span data-ttu-id="edb10-625">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-625">**Steps**</span></span> | <p><span data-ttu-id="edb10-626">Als u de parameterverzameling Hallo gebruikt, is SQL beschouwen Hallo invoer als een letterlijke waarde in plaats als uitvoerbare code.</span><span class="sxs-lookup"><span data-stu-id="edb10-626">If you use hello Parameters collection, SQL treats hello input is as a literal value rather then as executable code.</span></span> <span data-ttu-id="edb10-627">Hallo parameterverzameling kan gebruikte tooenforce type en de lengte-beperkingen voor de invoergegevens zijn.</span><span class="sxs-lookup"><span data-stu-id="edb10-627">hello Parameters collection can be used tooenforce type and length constraints on input data.</span></span> <span data-ttu-id="edb10-628">Waarden die buiten het bereik van Hallo activeren een uitzondering.</span><span class="sxs-lookup"><span data-stu-id="edb10-628">Values outside of hello range trigger an exception.</span></span> <span data-ttu-id="edb10-629">Als u geen type-safe SQL-parameters gebruikt, mogelijk aanvallers kunnen tooexecute injectieaanvallen die zijn ingesloten in de invoer Hallo niet gefilterd.</span><span class="sxs-lookup"><span data-stu-id="edb10-629">If type-safe SQL parameters are not used, attackers might be able tooexecute injection attacks that are embedded in hello unfiltered input.</span></span></p><p><span data-ttu-id="edb10-630">Gebruik veilige typeparameters wanneer tooavoid mogelijk SQL-injectieaanvallen die zich met ongefilterde invoer voordoen kunnen construeren SQL query.</span><span class="sxs-lookup"><span data-stu-id="edb10-630">Use type safe parameters when constructing SQL queries tooavoid possible SQL injection attacks that can occur with unfiltered input.</span></span> <span data-ttu-id="edb10-631">U kunt veilig typeparameters met opgeslagen procedures en dynamische SQL-instructies.</span><span class="sxs-lookup"><span data-stu-id="edb10-631">You can use type safe parameters with stored procedures and with dynamic SQL statements.</span></span> <span data-ttu-id="edb10-632">Parameters worden behandeld als letterlijke waarden door Hallo-database en niet als uitvoerbare code.</span><span class="sxs-lookup"><span data-stu-id="edb10-632">Parameters are treated as literal values by hello database and not as executable code.</span></span> <span data-ttu-id="edb10-633">Parameters zijn ook gecontroleerd op type en de lengte.</span><span class="sxs-lookup"><span data-stu-id="edb10-633">Parameters are also checked for type and length.</span></span></p>|

### <a name="example"></a><span data-ttu-id="edb10-634">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="edb10-634">Example</span></span>
<span data-ttu-id="edb10-635">Hallo volgende code toont hoe toouse Typ veilige parameters Hello SqlParameterCollection bij het aanroepen van een opgeslagen procedure.</span><span class="sxs-lookup"><span data-stu-id="edb10-635">hello following code shows how toouse type safe parameters with hello SqlParameterCollection when calling a stored procedure.</span></span> 

```C#
using System.Data;
using System.Data.SqlClient;

using (SqlConnection connection = new SqlConnection(connectionString))
{ 
DataSet userDataset = new DataSet(); 
SqlDataAdapter myCommand = new SqlDataAdapter(LoginStoredProcedure", connection); 
myCommand.SelectCommand.CommandType = CommandType.StoredProcedure; 
myCommand.SelectCommand.Parameters.Add("@au_id", SqlDbType.VarChar, 11); 
myCommand.SelectCommand.Parameters["@au_id"].Value = SSN.Text; 
myCommand.Fill(userDataset);
}  
```
<span data-ttu-id="edb10-636">Hallo voorgaande codevoorbeeld, mag Hallo invoerwaarde niet langer zijn dan 11 tekens.</span><span class="sxs-lookup"><span data-stu-id="edb10-636">In hello preceding code example, hello input value cannot be longer than 11 characters.</span></span> <span data-ttu-id="edb10-637">Als Hallo gegevens niet overeen komen toohello type of de lengte die zijn gedefinieerd door de parameter hello, er Hallo SqlParameter klasse een uitzondering gegenereerd.</span><span class="sxs-lookup"><span data-stu-id="edb10-637">If hello data does not conform toohello type or length defined by hello parameter, hello SqlParameter class throws an exception.</span></span> 

## <span data-ttu-id="edb10-638"><a id="sql-docdb"></a>SQL-query's constructorreeks mag gebruiken voor Cosmos-DB</span><span class="sxs-lookup"><span data-stu-id="edb10-638"><a id="sql-docdb"></a>Use parametrized SQL queries for Cosmos DB</span></span>

| <span data-ttu-id="edb10-639">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-639">Title</span></span>                   | <span data-ttu-id="edb10-640">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-640">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-641">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-641">**Component**</span></span>               | <span data-ttu-id="edb10-642">Azure Documentdb</span><span class="sxs-lookup"><span data-stu-id="edb10-642">Azure Document DB</span></span> | 
| <span data-ttu-id="edb10-643">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-643">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-644">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-644">Build</span></span> |  
| <span data-ttu-id="edb10-645">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-645">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-646">Algemene</span><span class="sxs-lookup"><span data-stu-id="edb10-646">Generic</span></span> |
| <span data-ttu-id="edb10-647">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-647">**Attributes**</span></span>              | <span data-ttu-id="edb10-648">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-648">N/A</span></span>  |
| <span data-ttu-id="edb10-649">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-649">**References**</span></span>              | [<span data-ttu-id="edb10-650">SQL-Parameterisering in DocumentDB aangekondigd</span><span class="sxs-lookup"><span data-stu-id="edb10-650">Announcing SQL Parameterization in DocumentDB</span></span>](https://azure.microsoft.com/blog/announcing-sql-parameterization-in-documentdb/) |
| <span data-ttu-id="edb10-651">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-651">**Steps**</span></span> | <span data-ttu-id="edb10-652">Hoewel DocumentDB biedt alleen ondersteuning voor alleen-lezen-query's, is SQL-injectie nog steeds mogelijk als de query's worden gemaakt met cookievalidatie met invoer van gebruiker.</span><span class="sxs-lookup"><span data-stu-id="edb10-652">Although DocumentDB only supports read-only queries, SQL injection is still possible if queries are constructed by concatenating with user input.</span></span> <span data-ttu-id="edb10-653">Het is mogelijk dat een gebruiker toogain toegang toodata ze toegang binnen Hallo mag niet tot dezelfde verzameling door schadelijke SQL-query's.</span><span class="sxs-lookup"><span data-stu-id="edb10-653">It might be possible for a user toogain access toodata they shouldn’t be accessing within hello same collection by crafting malicious SQL queries.</span></span> <span data-ttu-id="edb10-654">Gebruik SQL-query's met parameters als de query's zijn samengesteld op basis van gebruikersinvoer.</span><span class="sxs-lookup"><span data-stu-id="edb10-654">Use parameterized SQL queries if queries are constructed based on user input.</span></span> |

## <span data-ttu-id="edb10-655"><a id="schema-binding"></a>Validatie van de WCF-invoer via schemabinding</span><span class="sxs-lookup"><span data-stu-id="edb10-655"><a id="schema-binding"></a>WCF Input validation through Schema binding</span></span>

| <span data-ttu-id="edb10-656">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-656">Title</span></span>                   | <span data-ttu-id="edb10-657">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-657">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-658">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-658">**Component**</span></span>               | <span data-ttu-id="edb10-659">WCF</span><span class="sxs-lookup"><span data-stu-id="edb10-659">WCF</span></span> | 
| <span data-ttu-id="edb10-660">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-660">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-661">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-661">Build</span></span> |  
| <span data-ttu-id="edb10-662">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-662">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-663">Algemeen, NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="edb10-663">Generic, NET Framework 3</span></span> |
| <span data-ttu-id="edb10-664">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-664">**Attributes**</span></span>              | <span data-ttu-id="edb10-665">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-665">N/A</span></span>  |
| <span data-ttu-id="edb10-666">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-666">**References**</span></span>              | [<span data-ttu-id="edb10-667">MSDN</span><span class="sxs-lookup"><span data-stu-id="edb10-667">MSDN</span></span>](https://msdn.microsoft.com/library/ff647820.aspx) |
| <span data-ttu-id="edb10-668">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-668">**Steps**</span></span> | <p><span data-ttu-id="edb10-669">Gebrek aan validatie leidt toodifferent type injectieaanvallen.</span><span class="sxs-lookup"><span data-stu-id="edb10-669">Lack of validation leads toodifferent type injection attacks.</span></span></p><p><span data-ttu-id="edb10-670">Berichtverificatie vertegenwoordigt één regel verdediging in Hallo beveiliging van uw WCF-toepassing.</span><span class="sxs-lookup"><span data-stu-id="edb10-670">Message validation represents one line of defense in hello protection of your WCF application.</span></span> <span data-ttu-id="edb10-671">Met deze methode kunt u berichten met behulp van schema's tooprotect WCF servicebewerkingen tegen een aanval door een schadelijke client valideren.</span><span class="sxs-lookup"><span data-stu-id="edb10-671">With this approach, you validate messages using schemas tooprotect WCF service operations from attack by a malicious client.</span></span> <span data-ttu-id="edb10-672">Alle berichten ontvangen door Hallo tooprotect Hallo cliënt tegen een aanval door een kwaadwillende service valideren.</span><span class="sxs-lookup"><span data-stu-id="edb10-672">Validate all messages received by hello client tooprotect hello client from attack by a malicious service.</span></span> <span data-ttu-id="edb10-673">Berichtverificatie maakt het mogelijk toovalidate berichten wanneer bewerkingen verbruiken bericht contracten of gegevenscontracten, kunnen niet worden uitgevoerd met behulp van de validatie van parameters.</span><span class="sxs-lookup"><span data-stu-id="edb10-673">Message validation makes it possible toovalidate messages when operations consume message contracts or data contracts, which cannot be done using parameter validation.</span></span> <span data-ttu-id="edb10-674">Berichtverificatie kunt u toocreate validatielogica binnen schema's, waardoor meer flexibiliteit en minder tijd.</span><span class="sxs-lookup"><span data-stu-id="edb10-674">Message validation allows you toocreate validation logic inside schemas, thereby providing more flexibility and reducing development time.</span></span> <span data-ttu-id="edb10-675">Schema's kunnen opnieuw worden gebruikt door verschillende toepassingen binnen de organisatie hello, standaarden voor weergave van gegevens maken.</span><span class="sxs-lookup"><span data-stu-id="edb10-675">Schemas can be reused across different applications inside hello organization, creating standards for data representation.</span></span> <span data-ttu-id="edb10-676">Bovendien kunt berichtverificatie u bewerkingen tooprotect wanneer ze complexe gegevenstypen met betrekking tot contracten die zakelijke logica verbruiken.</span><span class="sxs-lookup"><span data-stu-id="edb10-676">Additionally, message validation allows you tooprotect operations when they consume more complex data types involving contracts representing business logic.</span></span></p><p><span data-ttu-id="edb10-677">Berichtverificatie tooperform, u opbouwen eerst een schema dat Hallo bewerkingen van uw service en Hallo gegevenstypen die door deze bewerkingen worden gebruikt vertegenwoordigt.</span><span class="sxs-lookup"><span data-stu-id="edb10-677">tooperform message validation, you first build a schema that represents hello operations of your service and hello data types consumed by those operations.</span></span> <span data-ttu-id="edb10-678">Vervolgens maakt u een .NET-klasse die een aangepaste clientinstellingen bericht inspector en aangepaste dispatcher bericht inspector toovalidate Hallo-berichten verzonden/ontvangen van Hallo service implementeert.</span><span class="sxs-lookup"><span data-stu-id="edb10-678">You then create a .NET class that implements a custom client message inspector and custom dispatcher message inspector toovalidate hello messages sent/received to/from hello service.</span></span> <span data-ttu-id="edb10-679">U kunt vervolgens een aangepaste eindpunt gedrag tooenable bericht validatie implementeren op Hallo-client en service Hallo.</span><span class="sxs-lookup"><span data-stu-id="edb10-679">Next, you implement a custom endpoint behavior tooenable message validation on both hello client and hello service.</span></span> <span data-ttu-id="edb10-680">Ten slotte implementeren u een aangepaste configuratie-element op Hallo klasse waarmee u tooexpose Hallo uitgebreid aangepaste eindpuntgedrag in het configuratiebestand Hallo Hallo service of client Hallo'</span><span class="sxs-lookup"><span data-stu-id="edb10-680">Finally, you implement a custom configuration element on hello class that allows you tooexpose hello extended custom endpoint behavior in hello configuration file of hello service or hello client"</span></span></p>|

## <span data-ttu-id="edb10-681"><a id="parameters"></a>Validatie van de WCF - invoer via Parameter Inspectors</span><span class="sxs-lookup"><span data-stu-id="edb10-681"><a id="parameters"></a>WCF- Input validation through Parameter Inspectors</span></span>

| <span data-ttu-id="edb10-682">Titel</span><span class="sxs-lookup"><span data-stu-id="edb10-682">Title</span></span>                   | <span data-ttu-id="edb10-683">Details</span><span class="sxs-lookup"><span data-stu-id="edb10-683">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="edb10-684">**Onderdeel**</span><span class="sxs-lookup"><span data-stu-id="edb10-684">**Component**</span></span>               | <span data-ttu-id="edb10-685">WCF</span><span class="sxs-lookup"><span data-stu-id="edb10-685">WCF</span></span> | 
| <span data-ttu-id="edb10-686">**SDL-fase**</span><span class="sxs-lookup"><span data-stu-id="edb10-686">**SDL Phase**</span></span>               | <span data-ttu-id="edb10-687">Ontwikkelen</span><span class="sxs-lookup"><span data-stu-id="edb10-687">Build</span></span> |  
| <span data-ttu-id="edb10-688">**Van toepassing technologieën**</span><span class="sxs-lookup"><span data-stu-id="edb10-688">**Applicable Technologies**</span></span> | <span data-ttu-id="edb10-689">Algemeen, NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="edb10-689">Generic, NET Framework 3</span></span> |
| <span data-ttu-id="edb10-690">**Kenmerken**</span><span class="sxs-lookup"><span data-stu-id="edb10-690">**Attributes**</span></span>              | <span data-ttu-id="edb10-691">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="edb10-691">N/A</span></span>  |
| <span data-ttu-id="edb10-692">**Verwijzingen**</span><span class="sxs-lookup"><span data-stu-id="edb10-692">**References**</span></span>              | [<span data-ttu-id="edb10-693">MSDN</span><span class="sxs-lookup"><span data-stu-id="edb10-693">MSDN</span></span>](https://msdn.microsoft.com/library/ff647875.aspx) |
| <span data-ttu-id="edb10-694">**Stappen**</span><span class="sxs-lookup"><span data-stu-id="edb10-694">**Steps**</span></span> | <p><span data-ttu-id="edb10-695">Invoer en gegevensvalidatie vertegenwoordigt een belangrijke line-of ingrijpende Hallo beveiliging van uw WCF-toepassing.</span><span class="sxs-lookup"><span data-stu-id="edb10-695">Input and data validation represents one important line of defense in hello protection of your WCF application.</span></span> <span data-ttu-id="edb10-696">U moet alle parameters die worden weergegeven in de WCF-service operations tooprotect Hallo service tegen een aanval door een schadelijke client valideren.</span><span class="sxs-lookup"><span data-stu-id="edb10-696">You should validate all parameters exposed in WCF service operations tooprotect hello service from attack by a malicious client.</span></span> <span data-ttu-id="edb10-697">Als u daarentegen, moet u ook alle retourwaarden ontvangen door Hallo tooprotect Hallo cliënt tegen een aanval door een kwaadwillende service valideren</span><span class="sxs-lookup"><span data-stu-id="edb10-697">Conversely, you should also validate all return values received by hello client tooprotect hello client from attack by a malicious service</span></span></p><p><span data-ttu-id="edb10-698">WCF biedt andere uitbreidbaarheidspunten waarmee u toocustomize Hallo WCF runtimegedrag door het maken van aangepaste extensies.</span><span class="sxs-lookup"><span data-stu-id="edb10-698">WCF provides different extensibility points that allow you toocustomize hello WCF runtime behavior by creating custom extensions.</span></span> <span data-ttu-id="edb10-699">Bericht Inspectors en Parameter Inspectors zijn twee uitbreidbaarheid mechanismen gebruikt toogain meer controle over Hallo gegevens tussen een client en een service wordt doorgegeven.</span><span class="sxs-lookup"><span data-stu-id="edb10-699">Message Inspectors and Parameter Inspectors are two extensibility mechanisms used toogain greater control over hello data passing between a client and a service.</span></span> <span data-ttu-id="edb10-700">U moet de parameter inspectors gebruiken voor validatie voor invoer en inspectors bericht alleen gebruiken wanneer u tooinspect Hallo hele bericht dat naar en vanuit een service nodig hebt.</span><span class="sxs-lookup"><span data-stu-id="edb10-700">You should use parameter inspectors for input validation and use message inspectors only when you need tooinspect hello entire message flowing in and out of a service.</span></span></p><p><span data-ttu-id="edb10-701">tooperform Invoervalidatie, u bouwt u een .NET-klasse en een aangepaste parameter inspector in volgorde toovalidate parameters van bewerkingen in uw service implementeren.</span><span class="sxs-lookup"><span data-stu-id="edb10-701">tooperform input validation, you will build a .NET class and implement a custom parameter inspector in order toovalidate parameters on operations in your service.</span></span> <span data-ttu-id="edb10-702">Vervolgens implementeert u een aangepaste eindpunt gedrag tooenable validatie op Hallo-client en Hallo-service.</span><span class="sxs-lookup"><span data-stu-id="edb10-702">You will then implement a custom endpoint behavior tooenable validation on both hello client and hello service.</span></span> <span data-ttu-id="edb10-703">Ten slotte wilt u een aangepaste configuratie-element op Hallo klasse waarmee u tooexpose Hallo uitgebreid aangepaste eindpuntgedrag in het configuratiebestand Hallo Hallo service of client hello implementeren</span><span class="sxs-lookup"><span data-stu-id="edb10-703">Finally, you will implement a custom configuration element on hello class that allows you tooexpose hello extended custom endpoint behavior in hello configuration file of hello service or hello client</span></span></p>|
