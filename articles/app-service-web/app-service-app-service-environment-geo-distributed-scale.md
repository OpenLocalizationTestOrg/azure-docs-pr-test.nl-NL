---
title: aaaGeo gedistribueerde schaal met App Service-omgevingen
description: Meer informatie over hoe toohorizontally schalen voor apps met behulp van geo-distributie met Traffic Manager en App Service-omgevingen.
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: c1b05ca8-3703-4d87-a9ae-819d741787fb
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/07/2016
ms.author: stefsch
ms.openlocfilehash: 9b441f637d8b7f679b3d83240baf99b8ee57e8f3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="geo-distributed-scale-with-app-service-environments"></a><span data-ttu-id="85ce9-103">Geografisch gedistribueerde schaal met App Service-omgevingen</span><span class="sxs-lookup"><span data-stu-id="85ce9-103">Geo Distributed Scale with App Service Environments</span></span>
## <a name="overview"></a><span data-ttu-id="85ce9-104">Overzicht</span><span class="sxs-lookup"><span data-stu-id="85ce9-104">Overview</span></span>
<span data-ttu-id="85ce9-105">Toepassingsscenario's waarvoor zeer grote schaal kunnen Hallo compute resource capaciteit beschikbaar tooa één implementatie van een app overschrijden.</span><span class="sxs-lookup"><span data-stu-id="85ce9-105">Application scenarios which require very high scale can exceed hello compute resource capacity available tooa single deployment of an app.</span></span>  <span data-ttu-id="85ce9-106">Uw stem toepassingen, zijn sportevenementen en televisie entertainment gebeurtenissen alle voorbeelden van scenario's waarvoor zeer grote schaal.</span><span class="sxs-lookup"><span data-stu-id="85ce9-106">Voting applications, sporting events, and televised entertainment events are all examples of scenarios that require extremely high scale.</span></span> <span data-ttu-id="85ce9-107">Grote schaal vereisten kan worden voldaan door apps, horizontaal uitbreiden met meerdere app-implementaties binnen één regio, evenals tussen regio's, toohandle extreme belastingsvereisten wordt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="85ce9-107">High scale requirements can be met by horizontally scaling out apps, with multiple app deployments being made within a single region, as well as across regions, toohandle extreme load requirements.</span></span>

<span data-ttu-id="85ce9-108">App Service-omgevingen zijn een ideaal platform voor horizontale scale-out.  Nadat de configuratie van een App Service-omgeving is geselecteerd die een bekende aanvraagsnelheid kan ondersteunen, ontwikkelaars extra-App Service-omgevingen in 'deegvorm' wijze tooattain een gewenste piek load capaciteit kunnen implementeren.</span><span class="sxs-lookup"><span data-stu-id="85ce9-108">App Service Environments are an ideal platform for horizontal scale out.  Once an App Service Environment configuration has been selected that can support a known request rate, developers can deploy additional App Service Environments in "cookie cutter" fashion tooattain a desired peak load capacity.</span></span>

<span data-ttu-id="85ce9-109">Stel bijvoorbeeld dat een app uitgevoerd op de configuratie van een App Service-omgeving is geteste toohandle 20K aanvragen per seconde (RPS).</span><span class="sxs-lookup"><span data-stu-id="85ce9-109">For example suppose an app running on an App Service Environment configuration has been tested toohandle 20K requests per second (RPS).</span></span>  <span data-ttu-id="85ce9-110">Als de gewenste piek Hallo laden capaciteit is 100K RPS, vijf (5)-App Service-omgevingen kunnen worden gemaakt en geconfigureerde tooensure Hallo toepassing hello maximale verwachte belasting kan verwerken.</span><span class="sxs-lookup"><span data-stu-id="85ce9-110">If hello desired peak load capacity is 100K RPS, then five (5) App Service Environments can be created and configured tooensure hello application can handle hello maximum projected load.</span></span>

<span data-ttu-id="85ce9-111">Aangezien klanten doorgaans toegang te krijgen tot apps met behulp van een aangepast (of vanity)-domein, moeten ontwikkelaars een manier toodistribute app-aanvragen voor alle exemplaren van Hallo-App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="85ce9-111">Since customers typically access apps using a custom (or vanity) domain, developers need a way toodistribute app requests across all of hello App Service Environment instances.</span></span>  <span data-ttu-id="85ce9-112">Een uitstekende manier tooaccomplish dit tooresolve Hallo aangepast domein gebruiken een [Azure Traffic Manager-profiel][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="85ce9-112">A great way tooaccomplish this is tooresolve hello custom domain using an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="85ce9-113">Hallo Traffic Manager-profiel geconfigureerde toopoint alle zijn kan Hallo afzonderlijke App Service-omgevingen.</span><span class="sxs-lookup"><span data-stu-id="85ce9-113">hello Traffic Manager profile can be configured toopoint at all of hello individual App Service Environments.</span></span>  <span data-ttu-id="85ce9-114">Traffic Manager verwerkt automatisch door klanten over alle Hallo die App Service-omgevingen op basis van de instellingen in Hallo Traffic Manager-profiel voor taakverdeling Hallo verdeeld.</span><span class="sxs-lookup"><span data-stu-id="85ce9-114">Traffic Manager will automatically handle distributing customers across all of hello App Service Environments based on hello load balancing settings in hello Traffic Manager profile.</span></span>  <span data-ttu-id="85ce9-115">Deze methode werkt ongeacht of alle Hallo-App Service-omgevingen zijn geïmplementeerd in één Azure-regio, of wereldwijd over meerdere Azure-regio's.</span><span class="sxs-lookup"><span data-stu-id="85ce9-115">This approach works regardless of whether all of hello App Service Environments are deployed in a single Azure region, or deployed worldwide across multiple Azure regions.</span></span>

<span data-ttu-id="85ce9-116">Klanten zich niet bewust zijn Hallo-nummer van App Service-omgevingen met een app, zelfs nadat u klanten toegang krijgen tot apps via Hallo vanity domein.</span><span class="sxs-lookup"><span data-stu-id="85ce9-116">Furthermore, since customers access apps through hello vanity domain, customers are unaware of hello number of App Service Environments running an app.</span></span>  <span data-ttu-id="85ce9-117">Als gevolg hiervan kunnen ontwikkelaars snel en eenvoudig toevoegen en verwijderen, App Service-omgevingen op basis van waargenomen belasting.</span><span class="sxs-lookup"><span data-stu-id="85ce9-117">As a result developers can quickly and easily add, and remove, App Service Environments based on observed traffic load.</span></span>

<span data-ttu-id="85ce9-118">Hallo conceptueel diagram hieronder ziet u een app horizontaal uitgebreid tussen de drie App Service-omgevingen in één regio.</span><span class="sxs-lookup"><span data-stu-id="85ce9-118">hello conceptual diagram below depicts an app horizontally scaled out across three App Service Environments within a single region.</span></span>

![Conceptionele architectuur][ConceptualArchitecture] 

<span data-ttu-id="85ce9-120">Hallo rest van dit onderwerp leert Hallo die betrokken zijn bij het instellen van een gedistribueerde topologie voor Hallo voorbeeld-app met behulp van meerdere App Service-omgevingen.</span><span class="sxs-lookup"><span data-stu-id="85ce9-120">hello remainder of this topic walks through hello steps involved with setting up a distributed topology for hello sample app using multiple App Service Environments.</span></span>

## <a name="planning-hello-topology"></a><span data-ttu-id="85ce9-121">Hallo topologie plannen</span><span class="sxs-lookup"><span data-stu-id="85ce9-121">Planning hello Topology</span></span>
<span data-ttu-id="85ce9-122">Voordat u het opzetten van een gedistribueerde app footprint helpt het toohave enkele softwareonderdelen informatie tevoren.</span><span class="sxs-lookup"><span data-stu-id="85ce9-122">Before building out a distributed app footprint, it helps toohave a few pieces information ahead of time.</span></span>

* <span data-ttu-id="85ce9-123">**Aangepast domein voor Hallo app:** wat is er aangepaste domeinnaam Hallo dat klanten tooaccess Hallo app gebruiken?</span><span class="sxs-lookup"><span data-stu-id="85ce9-123">**Custom domain for hello app:**  What is hello custom domain name that customers will use tooaccess hello app?</span></span>  <span data-ttu-id="85ce9-124">Hallo voorbeeld-app Hallo aangepaste domein de naam is *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="85ce9-124">For hello sample app hello custom domain name is *www.scalableasedemo.com*</span></span>
* <span data-ttu-id="85ce9-125">**Traffic Manager-domein:** een domeinnaam moet toobe gekozen bij het maken van een [Azure Traffic Manager-profiel][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="85ce9-125">**Traffic Manager domain:**  A domain name needs toobe chosen when creating an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="85ce9-126">Deze naam wordt gecombineerd met Hallo *trafficmanager.net* achtervoegsel tooregister de vermelding van een domein dat wordt beheerd door Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="85ce9-126">This name will be combined with hello *trafficmanager.net* suffix tooregister a domain entry that is managed by Traffic Manager.</span></span>  <span data-ttu-id="85ce9-127">Voor de voorbeeld-app Hallo Hallo naam gekozen is *schaalbare-as-omgeving-demo*.</span><span class="sxs-lookup"><span data-stu-id="85ce9-127">For hello sample app, hello name chosen is *scalable-ase-demo*.</span></span>  <span data-ttu-id="85ce9-128">Als gevolg hiervan Hallo volledige domeinnaam die wordt beheerd door Traffic Manager is *schaalbare op as-omgeving demo.trafficmanager.net*.</span><span class="sxs-lookup"><span data-stu-id="85ce9-128">As a result hello full domain name that is managed by Traffic Manager is *scalable-ase-demo.trafficmanager.net*.</span></span>
* <span data-ttu-id="85ce9-129">**Strategie voor het schalen van Hallo app footprint:** Hallo toepassing footprint worden verdeeld over meerdere App Service-omgevingen in één regio?</span><span class="sxs-lookup"><span data-stu-id="85ce9-129">**Strategy for scaling hello app footprint:**  Will hello application footprint be distributed across multiple App Service Environments in a single region?</span></span>  <span data-ttu-id="85ce9-130">Meerdere regio's?</span><span class="sxs-lookup"><span data-stu-id="85ce9-130">Multiple regions?</span></span>  <span data-ttu-id="85ce9-131">Een combinatie-and-match van beide benaderingen?</span><span class="sxs-lookup"><span data-stu-id="85ce9-131">A mix-and-match of both approaches?</span></span>  <span data-ttu-id="85ce9-132">Hallo beschikking moet worden gebaseerd op de verwachtingen van waar klantverkeer worden verzonden, evenals hoe goed Hallo rest van een app ondersteunende infrastructuur voor back-end kunt schalen.</span><span class="sxs-lookup"><span data-stu-id="85ce9-132">hello decision should be based on expectations of where customer traffic will originate, as well as how well hello rest of an app's supporting back-end infrastructure can scale.</span></span>  <span data-ttu-id="85ce9-133">Bijvoorbeeld, met een stateless toepassing 100% kan een app worden massively uitgebreid met een combinatie van meerdere App Service-omgevingen per Azure-regio, vermenigvuldigd met App Service-omgevingen is geïmplementeerd op meerdere Azure-regio's.</span><span class="sxs-lookup"><span data-stu-id="85ce9-133">For example, with a 100% stateless application, an app can be massively scaled using a combination of multiple App Service Environments per Azure region,  multiplied by App Service Environments deployed across multiple Azure regions.</span></span>  <span data-ttu-id="85ce9-134">Met 15 + openbare Azure-regio's beschikbaar toochoose uit, kunnen klanten echt een footprint wereldwijd hyperschaal toepassing bouwen.</span><span class="sxs-lookup"><span data-stu-id="85ce9-134">With 15+ public Azure regions available toochoose from, customers can truly build a world-wide hyper-scale application footprint.</span></span>  <span data-ttu-id="85ce9-135">Hallo voorbeeld-app gebruikt voor dit artikel zijn drie App Service-omgevingen gemaakt in één Azure-regio (Zuid-centraal VS).</span><span class="sxs-lookup"><span data-stu-id="85ce9-135">For hello sample app used for this article, three App Service Environments were created in a single Azure region (South Central US).</span></span>
* <span data-ttu-id="85ce9-136">**Hallo-App Service-omgevingen naamgevingsconventie:** elke App Service-omgeving vereist een unieke naam op.</span><span class="sxs-lookup"><span data-stu-id="85ce9-136">**Naming convention for hello App Service Environments:**  Each App Service Environment requires a unique name.</span></span>  <span data-ttu-id="85ce9-137">Afgezien van één of twee App Service-omgevingen is het handig toohave een naamgevingsconventie toohelp identificeren elke App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="85ce9-137">Beyond one or two App Service Environments it is helpful toohave a naming convention toohelp identify each App Service Environment.</span></span>  <span data-ttu-id="85ce9-138">Voor Hallo voorbeeld-app is een eenvoudige naamgevingsconventie gebruikt.</span><span class="sxs-lookup"><span data-stu-id="85ce9-138">For hello sample app a simple naming convention was used.</span></span>  <span data-ttu-id="85ce9-139">Hallo namen van Hallo drie App Service-omgevingen zijn *fe1ase*, *fe2ase*, en *fe3ase*.</span><span class="sxs-lookup"><span data-stu-id="85ce9-139">hello names of hello three App Service Environments are *fe1ase*, *fe2ase*, and *fe3ase*.</span></span>
* <span data-ttu-id="85ce9-140">**Naamgevingsregels voor Hallo apps:** omdat meerdere exemplaren van Hallo app worden geïmplementeerd, een naam is vereist voor elk exemplaar van de app Hallo geïmplementeerd.</span><span class="sxs-lookup"><span data-stu-id="85ce9-140">**Naming convention for hello apps:**  Since multiple instances of hello app will be deployed, a name is needed for each instance of hello deployed app.</span></span>  <span data-ttu-id="85ce9-141">Een minder bekende maar zeer handige functie van App Service-omgevingen is die dezelfde appnaam kan worden gebruikt voor meerdere App Service-omgevingen Hallo.</span><span class="sxs-lookup"><span data-stu-id="85ce9-141">One little-known but very convenient feature of App Service Environments is that hello same app name can be used across multiple App Service Environments.</span></span>  <span data-ttu-id="85ce9-142">Aangezien elke App Service-omgeving een unieke domeinachtervoegsel heeft, kunnen ontwikkelaars toore gebruik Hallo exact dezelfde appnaam kunnen kiezen in elke omgeving.</span><span class="sxs-lookup"><span data-stu-id="85ce9-142">Since each App Service Environment has a unique domain suffix, developers can choose toore-use hello exact same app name in each environment.</span></span>  <span data-ttu-id="85ce9-143">Zo zou een ontwikkelaar apps als volgt met de naam kan hebben: *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, enzovoort.  Voor de voorbeeld-app Hallo echter elke app-exemplaar heeft ook een unieke naam op.</span><span class="sxs-lookup"><span data-stu-id="85ce9-143">For example a developer could have apps named as follows:  *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, etc.  For hello sample app though each app instance also has a unique name.</span></span>  <span data-ttu-id="85ce9-144">Hallo app exemplaarnamen die worden gebruikt zijn *webfrontend1*, *webfrontend2*, en *webfrontend3*.</span><span class="sxs-lookup"><span data-stu-id="85ce9-144">hello app instance names used are *webfrontend1*, *webfrontend2*, and *webfrontend3*.</span></span>

## <a name="setting-up-hello-traffic-manager-profile"></a><span data-ttu-id="85ce9-145">Hallo Traffic Manager-profiel instellen</span><span class="sxs-lookup"><span data-stu-id="85ce9-145">Setting up hello Traffic Manager Profile</span></span>
<span data-ttu-id="85ce9-146">Als meerdere exemplaren van een app zijn geïmplementeerd op meerdere App Service-omgevingen, kunnen afzonderlijke app-exemplaren Hallo met Traffic Manager worden geregistreerd.</span><span class="sxs-lookup"><span data-stu-id="85ce9-146">Once multiple instances of an app are deployed on multiple App Service Environments, hello  individual app instances can be registered with Traffic Manager.</span></span>  <span data-ttu-id="85ce9-147">Voor Hallo voorbeeld-app een Traffic Manager-profiel is nodig voor *schaalbare op as-omgeving demo.trafficmanager.net* die klanten tooany Hallo na geïmplementeerd app-exemplaren kunt versturen:</span><span class="sxs-lookup"><span data-stu-id="85ce9-147">For hello sample app a Traffic Manager profile is needed for *scalable-ase-demo.trafficmanager.net* that can route customers tooany of hello following deployed app instances:</span></span>

* <span data-ttu-id="85ce9-148">**webfrontend1.fe1ase.p.azurewebsites.NET:** een exemplaar van Hallo voorbeeld-app is geïmplementeerd op Hallo eerste App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="85ce9-148">**webfrontend1.fe1ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello first App Service Environment.</span></span>
* <span data-ttu-id="85ce9-149">**webfrontend2.fe2ase.p.azurewebsites.NET:** een exemplaar van Hallo voorbeeld-app is geïmplementeerd op Hallo tweede App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="85ce9-149">**webfrontend2.fe2ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello second App Service Environment.</span></span>
* <span data-ttu-id="85ce9-150">**webfrontend3.fe3ase.p.azurewebsites.NET:** een exemplaar van Hallo voorbeeld-app is geïmplementeerd op Hallo derde App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="85ce9-150">**webfrontend3.fe3ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello third App Service Environment.</span></span>

<span data-ttu-id="85ce9-151">Hallo gemakkelijkste manier tooregister meerdere Azure App Service-eindpunten, alle actieve in Hallo **dezelfde** Azure-regio is Hello Powershell [ondersteuning van Azure Resource Manager Traffic Manager] [ ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="85ce9-151">hello easiest way tooregister multiple Azure App Service endpoints, all running in hello **same** Azure region, is with hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

<span data-ttu-id="85ce9-152">de eerste stap Hallo is toocreate een Azure Traffic Manager-profiel.</span><span class="sxs-lookup"><span data-stu-id="85ce9-152">hello first step is toocreate an Azure Traffic Manager profile.</span></span>  <span data-ttu-id="85ce9-153">Hallo-code hieronder ziet u hoe Hallo-profiel is gemaakt voor Hallo voorbeeld-app:</span><span class="sxs-lookup"><span data-stu-id="85ce9-153">hello code below shows how hello profile was created for hello sample app:</span></span>

    $profile = New-AzureTrafficManagerProfile –Name scalableasedemo -ResourceGroupName yourRGNameHere -TrafficRoutingMethod Weighted -RelativeDnsName scalable-ase-demo -Ttl 30 -MonitorProtocol HTTP -MonitorPort 80 -MonitorPath "/"

<span data-ttu-id="85ce9-154">U ziet hoe Hallo *RelativeDnsName* is parameterset te*schaalbare-as-omgeving-demo*.</span><span class="sxs-lookup"><span data-stu-id="85ce9-154">Notice how hello *RelativeDnsName* parameter was set too*scalable-ase-demo*.</span></span>  <span data-ttu-id="85ce9-155">Dit is hoe domeinnaam Hallo *schaalbare op as-omgeving demo.trafficmanager.net* is gemaakt en gekoppeld aan een Traffic Manager-profiel.</span><span class="sxs-lookup"><span data-stu-id="85ce9-155">This is how hello domain name *scalable-ase-demo.trafficmanager.net* is created and associated with a Traffic Manager profile.</span></span>

<span data-ttu-id="85ce9-156">Hallo *TrafficRoutingMethod* parameter beleid Traffic Manager toodetermine hoe toospread klant geladen voor alle beschikbare eindpunten hello wordt gebruikt voor taakverdeling Hallo definieert.</span><span class="sxs-lookup"><span data-stu-id="85ce9-156">hello *TrafficRoutingMethod* parameter defines hello load balancing policy Traffic Manager will use toodetermine how toospread customer load across all of hello available endpoints.</span></span>  <span data-ttu-id="85ce9-157">In dit voorbeeld Hallo *gewogen* methode hebt gekozen.</span><span class="sxs-lookup"><span data-stu-id="85ce9-157">In this example hello *Weighted* method was chosen.</span></span>  <span data-ttu-id="85ce9-158">Dit leidt ertoe dat de aanvragen van klanten wordt verdeeld over alle eindpunten Hallo geregistreerd op basis van de relatieve gewicht Hallo die zijn gekoppeld aan elk eindpunt.</span><span class="sxs-lookup"><span data-stu-id="85ce9-158">This will result in customer requests being spread across all of hello registered application endpoints based on hello relative weights associated with each endpoint.</span></span> 

<span data-ttu-id="85ce9-159">Hallo-profiel is gemaakt, wordt elk exemplaar van de app toohello profiel toegevoegd als systeemeigen Azure-eindpunt.</span><span class="sxs-lookup"><span data-stu-id="85ce9-159">With hello profile created, each app instance is added toohello profile as a native Azure endpoint.</span></span>  <span data-ttu-id="85ce9-160">Hallo-code hieronder een verwijzing tooeach front-end web-app kan worden opgehaald en worden vervolgens elke app toegevoegd als een Traffic Manager-eindpunt in Hallo *TargetResourceId* parameter.</span><span class="sxs-lookup"><span data-stu-id="85ce9-160">hello code below fetches a reference tooeach front end web app, and then adds each app as a Traffic Manager endpoint by way of hello *TargetResourceId* parameter.</span></span>

    $webapp1 = Get-AzureRMWebApp -Name webfrontend1
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend1 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp1.Id –EndpointStatus Enabled –Weight 10

    $webapp2 = Get-AzureRMWebApp -Name webfrontend2
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend2 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp2.Id –EndpointStatus Enabled –Weight 10

    $webapp3 = Get-AzureRMWebApp -Name webfrontend3
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend3 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp3.Id –EndpointStatus Enabled –Weight 10

    Set-AzureTrafficManagerProfile –TrafficManagerProfile $profile

<span data-ttu-id="85ce9-161">Zoals u ziet, is er één aanroep te*toevoegen AzureTrafficManagerEndpointConfig* voor elke afzonderlijke app-exemplaar.</span><span class="sxs-lookup"><span data-stu-id="85ce9-161">Notice how there is one call too*Add-AzureTrafficManagerEndpointConfig* for each individual app instance.</span></span>  <span data-ttu-id="85ce9-162">Hallo *TargetResourceId* parameter in elke Powershell-opdracht verwijst naar een van drie Hallo-geïmplementeerde app-exemplaren.</span><span class="sxs-lookup"><span data-stu-id="85ce9-162">hello *TargetResourceId* parameter in each Powershell command references one of hello three deployed app instances.</span></span>  <span data-ttu-id="85ce9-163">Hallo Traffic Manager-profiel wordt load verdeeld over alle drie eindpunten geregistreerd in het Hallo-profiel.</span><span class="sxs-lookup"><span data-stu-id="85ce9-163">hello Traffic Manager profile will spread load across all three endpoints registered in hello profile.</span></span>

<span data-ttu-id="85ce9-164">Alle Hallo drie eindpunten gebruiken dezelfde waarde (10) voor Hallo Hallo *gewicht* parameter.</span><span class="sxs-lookup"><span data-stu-id="85ce9-164">All of hello three endpoints use hello same value (10) for hello *Weight* parameter.</span></span>  <span data-ttu-id="85ce9-165">Dit resulteert in Traffic Manager verspreiding klantaanvragen over alle exemplaren van de drie app relatief gelijkmatig.</span><span class="sxs-lookup"><span data-stu-id="85ce9-165">This results in Traffic Manager spreading customer requests across all three app instances relatively evenly.</span></span> 

## <a name="pointing-hello-apps-custom-domain-at-hello-traffic-manager-domain"></a><span data-ttu-id="85ce9-166">Hallo-App aangepast domein op Hallo Traffic Manager-domein aan te wijzen</span><span class="sxs-lookup"><span data-stu-id="85ce9-166">Pointing hello App's Custom Domain at hello Traffic Manager Domain</span></span>
<span data-ttu-id="85ce9-167">laatste stap Hallo nodig is toopoint Hallo aangepast domein van de app Hallo op Hallo Traffic Manager-domein.</span><span class="sxs-lookup"><span data-stu-id="85ce9-167">hello final step necessary is toopoint hello custom domain of hello app at hello Traffic Manager domain.</span></span>  <span data-ttu-id="85ce9-168">Voor de voorbeeld-app Hallo betekent dit dat wijzen *www.scalableasedemo.com* op *schaalbare op as-omgeving demo.trafficmanager.net*.</span><span class="sxs-lookup"><span data-stu-id="85ce9-168">For hello sample app this means pointing *www.scalableasedemo.com* at *scalable-ase-demo.trafficmanager.net*.</span></span>  <span data-ttu-id="85ce9-169">Deze stap moet toobe voltooid met Hallo domeinregistrar die Hallo aangepast domein beheert.</span><span class="sxs-lookup"><span data-stu-id="85ce9-169">This step needs toobe completed with hello domain registrar that manages hello custom domain.</span></span>  

<span data-ttu-id="85ce9-170">Met behulp van uw registrar domein beheerhulpprogramma's, een CNAME-records behoeften toobe welke punten Hallo aangepast domein gemaakt op Hallo Traffic Manager-domein.</span><span class="sxs-lookup"><span data-stu-id="85ce9-170">Using your registrar's domain management tools, a CNAME records needs toobe created which points hello custom domain at hello Traffic Manager domain.</span></span>  <span data-ttu-id="85ce9-171">Hallo in de volgende afbeelding toont een voorbeeld van hoe deze configuratie CNAME uitziet:</span><span class="sxs-lookup"><span data-stu-id="85ce9-171">hello picture below shows an example of what this CNAME configuration looks like:</span></span>

![CNAME voor een aangepast domein][CNAMEforCustomDomain] 

<span data-ttu-id="85ce9-173">Hoewel niet behandeld in dit onderwerp, houd er rekening mee dat elk exemplaar van de afzonderlijke Apps toohave Hallo aangepast domein geregistreerd bij deze ook nodig.</span><span class="sxs-lookup"><span data-stu-id="85ce9-173">Although not covered in this topic, remember that each individual app instance needs toohave hello custom domain registered with it as well.</span></span>  <span data-ttu-id="85ce9-174">Anders als een aanvraag het tooan app-exemplaar maakt en Hallo-toepassing heeft geen Hallo aangepast domein met Hallo app geregistreerd, mislukt Hallo aanvraag.</span><span class="sxs-lookup"><span data-stu-id="85ce9-174">Otherwise if a request makes it tooan app instance, and hello application does not have hello custom domain registered with hello app, hello request will fail.</span></span>  

<span data-ttu-id="85ce9-175">In dit voorbeeld Hallo aangepaste domein is *www.scalableasedemo.com*, en elk toepassingsexemplaar heeft Hallo aangepast domein gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="85ce9-175">In this example hello custom domain is *www.scalableasedemo.com*, and each application instance has hello custom domain associated with it.</span></span>

![Aangepast domain][CustomDomain] 

<span data-ttu-id="85ce9-177">Zie voor een samenvatting van een aangepast domein registreren met Azure App Service-apps, Hallo volgende artikel op [registreren van aangepaste domeinen][RegisterCustomDomain].</span><span class="sxs-lookup"><span data-stu-id="85ce9-177">For a recap of of registering a custom domain with Azure App Service apps, see hello following article on [registering custom domains][RegisterCustomDomain].</span></span>

## <a name="trying-out-hello-distributed-topology"></a><span data-ttu-id="85ce9-178">Uitprobeert Hallo gedistribueerde topologie</span><span class="sxs-lookup"><span data-stu-id="85ce9-178">Trying out hello Distributed Topology</span></span>
<span data-ttu-id="85ce9-179">Hallo eindresultaat van Hallo Traffic Manager- en DNS-configuratie is die aanvragen voor *www.scalableasedemo.com* worden overgebracht via Hallo volgende volgorde:</span><span class="sxs-lookup"><span data-stu-id="85ce9-179">hello end result of hello Traffic Manager and DNS configuration is that requests for *www.scalableasedemo.com* will flow through hello following sequence:</span></span>

1. <span data-ttu-id="85ce9-180">Een browser of een apparaat wordt een DNS-zoekopdracht maken voor *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="85ce9-180">A browser or device will make a DNS lookup for *www.scalableasedemo.com*</span></span>
2. <span data-ttu-id="85ce9-181">Hallo CNAME-vermelding bij Hallo domeinregistrar zorgt ervoor dat Hallo DNS-lookup toobe omgeleid tooAzure Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="85ce9-181">hello CNAME entry at hello domain registrar causes hello DNS lookup toobe redirected tooAzure Traffic Manager.</span></span>
3. <span data-ttu-id="85ce9-182">Een DNS-zoekopdracht wordt uitgevoerd voor *schaalbare op as-omgeving demo.trafficmanager.net* tegen een hello Azure Traffic Manager-DNS-servers.</span><span class="sxs-lookup"><span data-stu-id="85ce9-182">A DNS lookup is made for *scalable-ase-demo.trafficmanager.net* against one of hello Azure Traffic Manager DNS servers.</span></span>
4. <span data-ttu-id="85ce9-183">Op basis van beleid voor taakverdeling hello (Hallo *TrafficRoutingMethod* parameter eerder gebruikt bij het maken van Hallo Traffic Manager-profiel), krijgt een Traffic Manager Selecteer een Hallo geconfigureerd eindpunten en retourneren Hallo FQDN-naam van die eindpunt toohello browsers en apparaten.</span><span class="sxs-lookup"><span data-stu-id="85ce9-183">Based on hello load balancing policy (hello *TrafficRoutingMethod* parameter used earlier when creating hello Traffic Manager profile), Traffic Manager will select one of hello configured endpoints and return hello FQDN of that endpoint toohello browser or device.</span></span>
5. <span data-ttu-id="85ce9-184">Omdat Hallo FQDN-naam van het eindpunt Hallo Hallo-Url van een app-exemplaar op een App Service-omgeving, wordt hello browsers en apparaten gevraagd een Microsoft Azure DNS-server tooresolve Hallo FQDN tooan IP-adres.</span><span class="sxs-lookup"><span data-stu-id="85ce9-184">Since hello FQDN of hello endpoint is hello Url of an app instance running on an App Service Environment, hello browser or device will ask a Microsoft Azure DNS server tooresolve hello FQDN tooan IP address.</span></span> 
6. <span data-ttu-id="85ce9-185">Hallo browsers en apparaten stuurt Hallo HTTP/S aanvraag toohello IP-adres.</span><span class="sxs-lookup"><span data-stu-id="85ce9-185">hello browser or device will send hello HTTP/S request toohello IP address.</span></span>  
7. <span data-ttu-id="85ce9-186">Hallo-aanvraag aankomt in een van de app-exemplaren Hallo uitgevoerd op een van de App Service-omgevingen Hallo.</span><span class="sxs-lookup"><span data-stu-id="85ce9-186">hello request will arrive at one of hello app instances running on one of hello App Service Environments.</span></span>

<span data-ttu-id="85ce9-187">Hallo console volgende afbeelding ziet u een DNS-zoekopdracht voor Hallo voorbeeld-app van het aangepaste domein is het omzetten van tooan app-exemplaar wordt uitgevoerd op één van drie Hallo voorbeeld-App Service-omgevingen (in dit geval Hallo seconde van Hallo drie App Service-omgevingen):</span><span class="sxs-lookup"><span data-stu-id="85ce9-187">hello console picture below shows a DNS lookup for hello sample app's custom domain successfully resolving tooan app instance running on one of hello three sample App Service Environments (in this case hello second of hello three App Service Environments):</span></span>

![DNS-zoekopdracht][DNSLookup] 

## <a name="additional-links-and-information"></a><span data-ttu-id="85ce9-189">Aanvullende koppelingen en informatie</span><span class="sxs-lookup"><span data-stu-id="85ce9-189">Additional Links and Information</span></span>
<span data-ttu-id="85ce9-190">Alle artikelen en hoe-aan de voor App Service-omgevingen beschikbaar in Hallo zijn [Leesmij-bestand voor Toepassingsserviceomgevingen](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="85ce9-190">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="85ce9-191">Documentatie over Hallo Powershell [ondersteuning van Azure Resource Manager Traffic Manager][ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="85ce9-191">Documentation on hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[AzureTrafficManagerProfile]: ../traffic-manager/traffic-manager-manage-profiles.md
[ARMTrafficManager]: ../traffic-manager/traffic-manager-powershell-arm.md
[RegisterCustomDomain]: app-service-web-tutorial-custom-domain.md


<!-- IMAGES -->
[ConceptualArchitecture]: ./media/app-service-app-service-environment-geo-distributed-scale/ConceptualArchitecture-1.png
[CNAMEforCustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CNAMECustomDomain-1.png
[DNSLookup]:  ./media/app-service-app-service-environment-geo-distributed-scale/DNSLookup-1.png
[CustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CustomDomain-1.png 
