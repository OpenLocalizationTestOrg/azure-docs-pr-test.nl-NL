---
title: Inrichten en microservices zoals verwacht in Azure implementeren
description: "Informatie over het implementeren van een toepassing die bestaat uit microservices in Azure App Service als één eenheid en in een voorspelbare wijze met JSON resource group-sjablonen en PowerShell-scripts."
services: app-service
documentationcenter: 
author: cephalin
manager: erikre
editor: jimbe
ms.assetid: bb51e565-e462-4c60-929a-2ff90121f41d
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/06/2016
ms.author: cephalin
ms.openlocfilehash: 844f42e61ba443a4b74a52f622113e87a7781913
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/11/2017
---
# <a name="provision-and-deploy-microservices-predictably-in-azure"></a><span data-ttu-id="90bd2-103">Inrichten en microservices zoals verwacht in Azure implementeren</span><span class="sxs-lookup"><span data-stu-id="90bd2-103">Provision and deploy microservices predictably in Azure</span></span>
<span data-ttu-id="90bd2-104">Deze zelfstudie laat zien hoe inrichten en implementeren van een toepassing die bestaat uit [microservices](https://en.wikipedia.org/wiki/Microservices) in [Azure App Service](/services/app-service/) als één eenheid en in een voorspelbare wijze JSON resource group-sjablonen en PowerShell-scripts.</span><span class="sxs-lookup"><span data-stu-id="90bd2-104">This tutorial shows how to provision and deploy an application composed of [microservices](https://en.wikipedia.org/wiki/Microservices) in [Azure App Service](/services/app-service/) as a single unit and in a predictable manner using JSON resource group templates and PowerShell scripting.</span></span> 

<span data-ttu-id="90bd2-105">Bij het inrichten en implementeren van toepassingen met hoge schaalbaarheid die bestaan uit maximaal losgekoppeld zijn microservices, herhaalbaarheid en voorspelbaarheid essentieel voor succes.</span><span class="sxs-lookup"><span data-stu-id="90bd2-105">When provisioning and deploying high-scale applications that are composed of highly decoupled microservices, repeatability and predictability are crucial to success.</span></span> <span data-ttu-id="90bd2-106">[Azure App Service](/services/app-service/) kunt u microservices met web-apps, mobiele apps, API-apps en logic apps maken.</span><span class="sxs-lookup"><span data-stu-id="90bd2-106">[Azure App Service](/services/app-service/) enables you to create microservices that include web apps, mobile apps, API apps, and logic apps.</span></span> <span data-ttu-id="90bd2-107">[Azure Resource Manager](../azure-resource-manager/resource-group-overview.md) kunt u alle microservices beheren als één eenheid, samen met bronafhankelijkheden zoals database en controle-instellingen van de gegevensbron.</span><span class="sxs-lookup"><span data-stu-id="90bd2-107">[Azure Resource Manager](../azure-resource-manager/resource-group-overview.md) enables you to manage all the microservices as a unit, together with resource dependencies such as database and source control settings.</span></span> <span data-ttu-id="90bd2-108">U kunt nu ook dergelijke toepassing met behulp van JSON-sjablonen en eenvoudig PowerShell-scripts implementeren.</span><span class="sxs-lookup"><span data-stu-id="90bd2-108">Now, you can also deploy such an application using JSON templates and simple PowerShell scripting.</span></span> 

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

## <a name="what-you-will-do"></a><span data-ttu-id="90bd2-109">Wat u doet</span><span class="sxs-lookup"><span data-stu-id="90bd2-109">What you will do</span></span>
<span data-ttu-id="90bd2-110">In de zelfstudie implementeert u een toepassing die gebruikmaakt van:</span><span class="sxs-lookup"><span data-stu-id="90bd2-110">In the tutorial, you will deploy an application that includes:</span></span>

* <span data-ttu-id="90bd2-111">Twee web-apps (dat wil zeggen twee microservices)</span><span class="sxs-lookup"><span data-stu-id="90bd2-111">Two web apps (i.e. two microservices)</span></span>
* <span data-ttu-id="90bd2-112">Een back-end SQL-Database</span><span class="sxs-lookup"><span data-stu-id="90bd2-112">A backend SQL Database</span></span>
* <span data-ttu-id="90bd2-113">App-instellingen, verbindingsreeksen en bronbeheer</span><span class="sxs-lookup"><span data-stu-id="90bd2-113">App settings, connection strings, and source control</span></span>
* <span data-ttu-id="90bd2-114">Application insights, waarschuwingen, instellingen voor automatisch schalen</span><span class="sxs-lookup"><span data-stu-id="90bd2-114">Application insights, alerts, autoscaling settings</span></span>

## <a name="tools-you-will-use"></a><span data-ttu-id="90bd2-115">Hulpprogramma's die u wilt gebruiken</span><span class="sxs-lookup"><span data-stu-id="90bd2-115">Tools you will use</span></span>
<span data-ttu-id="90bd2-116">In deze zelfstudie gebruikt u de volgende hulpprogramma's.</span><span class="sxs-lookup"><span data-stu-id="90bd2-116">In this tutorial, you will use the following tools.</span></span> <span data-ttu-id="90bd2-117">Omdat het geen uitgebreide bespreking van de hulpprogramma's, ga ik blijven op het end-to-end-scenario en net bieden een korte inleiding tot elk, en vindt u meer informatie over deze.</span><span class="sxs-lookup"><span data-stu-id="90bd2-117">Since it’s not comprehensive discussion on tools, I’m going to stick to the end-to-end scenario and just give you a brief intro to each, and where you can find more information on it.</span></span> 

### <a name="azure-resource-manager-templates-json"></a><span data-ttu-id="90bd2-118">Azure Resource Manager-sjablonen (JSON)</span><span class="sxs-lookup"><span data-stu-id="90bd2-118">Azure Resource Manager templates (JSON)</span></span>
<span data-ttu-id="90bd2-119">Telkens wanneer u een web-app in Azure App Service maakt, Azure Resource Manager gebruikt bijvoorbeeld een JSON-sjabloon maken van de hele resourcegroep met de onderdeel-resources.</span><span class="sxs-lookup"><span data-stu-id="90bd2-119">Every time you create a web app in Azure App Service, for example, Azure Resource Manager uses a JSON template to create the entire resource group with the component resources.</span></span> <span data-ttu-id="90bd2-120">Een complexe sjabloon van de [Azure Marketplace](/marketplace) zoals de [schaalbare WordPress](/marketplace/partners/wordpress/scalablewordpress/) app kan bevatten de MySQL-database, storage-accounts, het App Service-abonnement, WebApp zelf, waarschuwingsregels, app-instellingen instellingen voor automatisch schalen en meer en alle deze sjablonen zijn beschikbaar via PowerShell.</span><span class="sxs-lookup"><span data-stu-id="90bd2-120">A complex template from the [Azure Marketplace](/marketplace) like the [Scalable WordPress](/marketplace/partners/wordpress/scalablewordpress/) app can include the MySQL database, storage accounts, the App Service plan, the web app itself, alert rules, app settings, autoscale settings, and more, and all these templates are available to you through PowerShell.</span></span> <span data-ttu-id="90bd2-121">Zie voor meer informatie over het downloaden en gebruiken van deze sjablonen [Azure PowerShell gebruiken met Azure Resource Manager](../powershell-azure-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="90bd2-121">For information on how to download and use these templates, see [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md).</span></span>

<span data-ttu-id="90bd2-122">Zie voor meer informatie over de Azure Resource Manager-sjablonen [Azure Resource Manager-sjablonen ontwerpen](../azure-resource-manager/resource-group-authoring-templates.md)</span><span class="sxs-lookup"><span data-stu-id="90bd2-122">For more information on the Azure Resource Manager templates, see [Authoring Azure Resource Manager Templates](../azure-resource-manager/resource-group-authoring-templates.md)</span></span>

### <a name="azure-sdk-26-for-visual-studio"></a><span data-ttu-id="90bd2-123">2.6 Azure SDK voor Visual Studio</span><span class="sxs-lookup"><span data-stu-id="90bd2-123">Azure SDK 2.6 for Visual Studio</span></span>
<span data-ttu-id="90bd2-124">De nieuwste SDK bevat verbeteringen in de sjabloonondersteuning voor de Resource Manager-in de JSON-editor.</span><span class="sxs-lookup"><span data-stu-id="90bd2-124">The newest SDK contains improvements to the Resource Manager template support in the JSON editor.</span></span> <span data-ttu-id="90bd2-125">Gebruik deze optie om snel te maken van een sjabloon van de groep resource vanaf het begin of open een bestaande JSON-sjabloon (zoals een gedownloade gallery-sjabloon) voor de wijziging, het parameterbestand vullen en zelfs de resourcegroep rechtstreeks vanuit een Azure-Resource implementeren Groep oplossing.</span><span class="sxs-lookup"><span data-stu-id="90bd2-125">You can use this to quickly create a resource group template from scratch or open an existing JSON template (such as a downloaded gallery template) for modification, populate the parameters file, and even deploy the resource group directly from an Azure Resource Group solution.</span></span>

<span data-ttu-id="90bd2-126">Zie voor meer informatie [2.6 van de Azure SDK voor Visual Studio](https://azure.microsoft.com/blog/2015/04/29/announcing-the-azure-sdk-2-6-for-net/).</span><span class="sxs-lookup"><span data-stu-id="90bd2-126">For more information, see [Azure SDK 2.6 for Visual Studio](https://azure.microsoft.com/blog/2015/04/29/announcing-the-azure-sdk-2-6-for-net/).</span></span>

### <a name="azure-powershell-080-or-later"></a><span data-ttu-id="90bd2-127">Azure PowerShell 0.8.0 of hoger</span><span class="sxs-lookup"><span data-stu-id="90bd2-127">Azure PowerShell 0.8.0 or later</span></span>
<span data-ttu-id="90bd2-128">Vanaf versie 0.8.0, omvat de Azure PowerShell-installatie de module Azure Resource Manager naast de Azure-module.</span><span class="sxs-lookup"><span data-stu-id="90bd2-128">Beginning in version 0.8.0, the Azure PowerShell installation includes the Azure Resource Manager module in addition to the Azure module.</span></span> <span data-ttu-id="90bd2-129">Deze nieuwe module kunt u de implementatie van resourcegroepen met een script.</span><span class="sxs-lookup"><span data-stu-id="90bd2-129">This new module enables you to script the deployment of resource groups.</span></span>

<span data-ttu-id="90bd2-130">Zie voor meer informatie [Azure PowerShell gebruiken met Azure Resource Manager](../powershell-azure-resource-manager.md)</span><span class="sxs-lookup"><span data-stu-id="90bd2-130">For more information, see [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md)</span></span>

### <a name="azure-resource-explorer"></a><span data-ttu-id="90bd2-131">Azure Resource Explorer</span><span class="sxs-lookup"><span data-stu-id="90bd2-131">Azure Resource Explorer</span></span>
<span data-ttu-id="90bd2-132">Dit [voorbeeldfunctie](https://resources.azure.com) kunt u de definities van de JSON van de resourcegroepen in uw abonnement en de afzonderlijke resources verkennen.</span><span class="sxs-lookup"><span data-stu-id="90bd2-132">This [preview tool](https://resources.azure.com) enables you to explore the JSON definitions of all the resource groups in your subscription and the individual resources.</span></span> <span data-ttu-id="90bd2-133">In het hulpprogramma kunt u de JSON-definities van een resource bewerken, verwijderen van de gehele hiërarchie van resources en maken van nieuwe resources.</span><span class="sxs-lookup"><span data-stu-id="90bd2-133">In the tool, you can edit the JSON definitions of a resource, delete an entire hierarchy of resources, and create new resources.</span></span>  <span data-ttu-id="90bd2-134">De informatie die direct beschikbaar is in dit hulpprogramma is erg handig voor het ontwerpen van een sjabloon omdat er wordt aangegeven welke eigenschappen u moet instellen voor een bepaald type resource, de juiste waarden, enzovoort. U kunt zelfs maken met de resourcegroep in de [Azure Portal](https://portal.azure.com/), Controleer de definities van JSON in het hulpprogramma explorer kunt u de resourcegroep templatize.</span><span class="sxs-lookup"><span data-stu-id="90bd2-134">The information readily available in this tool is very helpful for template authoring because it shows you what properties you need to set for a particular type of resource, the correct values, etc. You can even create your resource group in the [Azure Portal](https://portal.azure.com/), then inspect its JSON definitions in the explorer tool to help you templatize the resource group.</span></span>

### <a name="deploy-to-azure-button"></a><span data-ttu-id="90bd2-135">Implementeren naar Azure-knop</span><span class="sxs-lookup"><span data-stu-id="90bd2-135">Deploy to Azure button</span></span>
<span data-ttu-id="90bd2-136">Als u GitHub voor broncodebeheer gebruikt, kunt u plaatsen een [implementeren in Azure knop](https://azure.microsoft.com/blog/2014/11/13/deploy-to-azure-button-for-azure-websites-2/) in de Leesmij-bestand. MD, waardoor de implementatie van een directe UI naar Azure.</span><span class="sxs-lookup"><span data-stu-id="90bd2-136">If you use GitHub for source control, you can put a [Deploy to Azure button](https://azure.microsoft.com/blog/2014/11/13/deploy-to-azure-button-for-azure-websites-2/) into your README.MD, which enables a turn-key deployment UI to Azure.</span></span> <span data-ttu-id="90bd2-137">Terwijl u dit voor een eenvoudige web-app doen kunt, kunt u deze optie als u wilt inschakelen voor het implementeren van een hele resourcegroep de toevoeging van een bestand azuredeploy.json in de hoofdmap van de opslagplaats kunt uitbreiden.</span><span class="sxs-lookup"><span data-stu-id="90bd2-137">While you can do this for any simple web app, you can extend this to enable deploying an entire resource group by putting an azuredeploy.json file in the repository root.</span></span> <span data-ttu-id="90bd2-138">Deze JSON-bestand dat de resource-group-sjabloon bevat, wordt gebruikt door de implementeren in Azure-knop om de resourcegroep te maken.</span><span class="sxs-lookup"><span data-stu-id="90bd2-138">This JSON file, which contains the resource group template, will be used by the Deploy to Azure button to create the resource group.</span></span> <span data-ttu-id="90bd2-139">Zie voor een voorbeeld de [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) voorbeeld, gaat u in deze zelfstudie.</span><span class="sxs-lookup"><span data-stu-id="90bd2-139">For an example, see the [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) sample, which you will use in this tutorial.</span></span>

## <a name="get-the-sample-resource-group-template"></a><span data-ttu-id="90bd2-140">Ophalen van de voorbeeldsjabloon voor de resource-groep</span><span class="sxs-lookup"><span data-stu-id="90bd2-140">Get the sample resource group template</span></span>
<span data-ttu-id="90bd2-141">Nu gaan we direct aan het.</span><span class="sxs-lookup"><span data-stu-id="90bd2-141">So now let’s get right to it.</span></span>

1. <span data-ttu-id="90bd2-142">Navigeer naar de [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) voorbeeld-App Service.</span><span class="sxs-lookup"><span data-stu-id="90bd2-142">Navigate to the [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) App Service sample.</span></span>
2. <span data-ttu-id="90bd2-143">Klik in de readme.md, **implementeren in Azure**.</span><span class="sxs-lookup"><span data-stu-id="90bd2-143">In readme.md, click **Deploy to Azure**.</span></span>
3. <span data-ttu-id="90bd2-144">U hebt uitgevoerd om de [implementeren naar azure](https://deploy.azure.com) site en wordt gevraagd implementatie invoerparameters.</span><span class="sxs-lookup"><span data-stu-id="90bd2-144">You’re taken to the [deploy-to-azure](https://deploy.azure.com) site and asked to input deployment parameters.</span></span> <span data-ttu-id="90bd2-145">U ziet dat de meeste velden zijn gevuld met de naam van de opslagplaats en sommige willekeurige tekenreeksen voor u.</span><span class="sxs-lookup"><span data-stu-id="90bd2-145">Notice that most of the fields are populated with the repository name and some random strings for you.</span></span> <span data-ttu-id="90bd2-146">U kunt alle velden wijzigen als u wilt, maar alleen wat u moet invoeren zijn de aanmelding van SQL Server-beheerdersrechten en het wachtwoord en klik vervolgens op **volgende**.</span><span class="sxs-lookup"><span data-stu-id="90bd2-146">You can change all the fields if you want, but the only things you have to enter are the SQL Server administrative login and the password, then click **Next**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-1-deploybuttonui.png)
4. <span data-ttu-id="90bd2-147">Klik vervolgens op **implementeren** starten van het implementatieproces.</span><span class="sxs-lookup"><span data-stu-id="90bd2-147">Next, click **Deploy** to start the deployment process.</span></span> <span data-ttu-id="90bd2-148">Nadat het proces wordt uitgevoerd worden voltooid, klikt u op de http://todoapp*XXXX*. azurewebsites.net koppeling naar de geïmplementeerde toepassing bladeren.</span><span class="sxs-lookup"><span data-stu-id="90bd2-148">Once the process runs to completion, click the http://todoapp*XXXX*.azurewebsites.net link to browse the deployed application.</span></span> 
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-2-deployprogress.png)
   
   <span data-ttu-id="90bd2-149">De gebruikersinterface zou een beetje traag zijn wanneer u eerst het niet doorzoeken, omdat de apps alleen worden gestart, maar zelf te overtuigen dat het een toepassing volledig functioneel is.</span><span class="sxs-lookup"><span data-stu-id="90bd2-149">The UI would be a little slow when you first browse to it because the apps are just starting up, but convince yourself that it’s a fully-functional application.</span></span>
5. <span data-ttu-id="90bd2-150">Klik in de pagina implementeren op de **beheren** koppeling om te zien van de nieuwe toepassing in de Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="90bd2-150">Back in the Deploy page, click the **Manage** link to see the new application in the Azure Portal.</span></span>
6. <span data-ttu-id="90bd2-151">In de **Essentials** vervolgkeuzelijst, klik op de koppeling van de groep resource.</span><span class="sxs-lookup"><span data-stu-id="90bd2-151">In the **Essentials** dropdown, click the resource group link.</span></span> <span data-ttu-id="90bd2-152">U ziet ook dat de web-app al is verbonden met de GitHub-opslagplaats onder **extern Project**.</span><span class="sxs-lookup"><span data-stu-id="90bd2-152">Note also that the web app is already connected to the GitHub repository under **External Project**.</span></span> 
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-3-portalresourcegroup.png)
7. <span data-ttu-id="90bd2-153">Houd er rekening mee dat er al twee web-apps en één SQL-Database in de resourcegroep zijn in de resourcegroepblade.</span><span class="sxs-lookup"><span data-stu-id="90bd2-153">In the resource group blade, note that there are already two web apps and one SQL Database in the resource group.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-4-portalresourcegroupclicked.png)

<span data-ttu-id="90bd2-154">Alles wat u hebt gezien in enkele korte minuten is een volledig geïmplementeerde twee-microservice-toepassing, met alle onderdelen, afhankelijkheden, instellingen, database en continue publicatie ingesteld door een geautomatiseerde orchestration in Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="90bd2-154">Everything that you just saw in a few short minutes is a fully deployed two-microservice application, with all the components, dependencies, settings, database, and continuous publishing, set up by an automated orchestration in Azure Resource Manager.</span></span> <span data-ttu-id="90bd2-155">Dit alles is uitgevoerd door twee dingen:</span><span class="sxs-lookup"><span data-stu-id="90bd2-155">All this was done by two things:</span></span>

* <span data-ttu-id="90bd2-156">De implementeren in Azure-knop</span><span class="sxs-lookup"><span data-stu-id="90bd2-156">The Deploy to Azure button</span></span>
* <span data-ttu-id="90bd2-157">azuredeploy.JSON in de hoofdmap van de opslagplaats</span><span class="sxs-lookup"><span data-stu-id="90bd2-157">azuredeploy.json in the repo root</span></span>

<span data-ttu-id="90bd2-158">U kunt deze dezelfde toepassing implementeren tientallen, honderden of duizenden malen en de exacte dezelfde configuratie elke keer hebben.</span><span class="sxs-lookup"><span data-stu-id="90bd2-158">You can deploy this same application tens, hundreds, or thousands of times and have the exact same configuration every time.</span></span> <span data-ttu-id="90bd2-159">De herhaalbaarheid en de voorspelbaarheid van deze benadering kunt u hoge schaalbaarheid toepassingen implementeren met gemak en betrouwbaarheid.</span><span class="sxs-lookup"><span data-stu-id="90bd2-159">The repeatability and the predictability of this approach enables you to deploy high-scale applications with ease and confidence.</span></span>

## <a name="examine-or-edit-azuredeployjson"></a><span data-ttu-id="90bd2-160">Bekijk AZUREDEPLOY (of bewerken). JSON</span><span class="sxs-lookup"><span data-stu-id="90bd2-160">Examine (or edit) AZUREDEPLOY.JSON</span></span>
<span data-ttu-id="90bd2-161">Nu gaan we kijken hoe de GitHub-opslagplaats is ingesteld.</span><span class="sxs-lookup"><span data-stu-id="90bd2-161">Now let’s look at how the GitHub repository was set up.</span></span> <span data-ttu-id="90bd2-162">U de JSON-editor gebruikt in de Azure .NET SDK, dus als u nog niet hebt geïnstalleerd [Azure .NET SDK 2.6](/downloads/), dat nu doen.</span><span class="sxs-lookup"><span data-stu-id="90bd2-162">You will be using the JSON editor in the Azure .NET SDK, so if you haven’t already installed [Azure .NET SDK 2.6](/downloads/), do it now.</span></span>

1. <span data-ttu-id="90bd2-163">Kloon de [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) opslagplaats met uw favoriete git-hulpprogramma.</span><span class="sxs-lookup"><span data-stu-id="90bd2-163">Clone the [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) repository using your favorite git tool.</span></span> <span data-ttu-id="90bd2-164">In de onderstaande schermafbeelding ben ik dit doen in het Team Explorer in Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="90bd2-164">In the screenshot below, I’m doing this in the Team Explorer in Visual Studio 2013.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/examinejson-1-vsclone.png)
2. <span data-ttu-id="90bd2-165">Open in de hoofdmap van de opslagplaats azuredeploy.json in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="90bd2-165">From the repository root, open azuredeploy.json in Visual Studio.</span></span> <span data-ttu-id="90bd2-166">Als u het overzichtsvenster van JSON niet ziet, moet u de Azure .NET SDK installeren.</span><span class="sxs-lookup"><span data-stu-id="90bd2-166">If you don’t see the JSON Outline pane, you need to install Azure .NET SDK.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/examinejson-2-vsjsoneditor.png)

<span data-ttu-id="90bd2-167">Ik ga niet te beschrijven elk detail van de JSON-indeling, maar de [meer bronnen](#resources) sectie bevat koppelingen voor het leren van de sjabloontaal van de resource-groep.</span><span class="sxs-lookup"><span data-stu-id="90bd2-167">I’m not going to describe every detail of the JSON format, but the [More Resources](#resources) section has links for learning the resource group template language.</span></span> <span data-ttu-id="90bd2-168">Hier Ga alleen ik om weer te geven de interessante functies die u kunnen helpen bij het maken van uw eigen aangepaste sjabloon voor app-implementatie aan de slag.</span><span class="sxs-lookup"><span data-stu-id="90bd2-168">Here, I’m just going to show you the interesting features that can help you get started in making your own custom template for app deployment.</span></span>

### <a name="parameters"></a><span data-ttu-id="90bd2-169">Parameters</span><span class="sxs-lookup"><span data-stu-id="90bd2-169">Parameters</span></span>
<span data-ttu-id="90bd2-170">Bekijk het gedeelte parameters om te zien dat de meeste van deze parameters wat zijn de **implementeren in Azure** knop vraagt u om in te voeren.</span><span class="sxs-lookup"><span data-stu-id="90bd2-170">Take a look at the parameters section to see that most of these parameters are what the **Deploy to Azure** button prompts you to input.</span></span> <span data-ttu-id="90bd2-171">De site achter de **implementeren in Azure** knop vult de gebruikersinterface van de gedefinieerde parameters in azuredeploy.json met behulp van de invoer.</span><span class="sxs-lookup"><span data-stu-id="90bd2-171">The site behind the **Deploy to Azure** button populates the input UI using the parameters defined in azuredeploy.json.</span></span> <span data-ttu-id="90bd2-172">Deze parameters worden gebruikt in de resourcedefinities zoals resourcenamen, eigenschapswaarden, enz.</span><span class="sxs-lookup"><span data-stu-id="90bd2-172">These parameters are used throughout the resource definitions, such as resource names, property values, etc.</span></span>

### <a name="resources"></a><span data-ttu-id="90bd2-173">Resources</span><span class="sxs-lookup"><span data-stu-id="90bd2-173">Resources</span></span>
<span data-ttu-id="90bd2-174">U ziet in het knooppunt resources dat 4 op het hoogste niveau resources zijn gedefinieerd, met inbegrip van een SQL Server-exemplaar, een App Service-plan en twee web-apps.</span><span class="sxs-lookup"><span data-stu-id="90bd2-174">In the resources node, you can see that 4 top-level resources are defined, including a SQL Server instance, an App Service plan, and two web apps.</span></span> 

#### <a name="app-service-plan"></a><span data-ttu-id="90bd2-175">App Service-plan</span><span class="sxs-lookup"><span data-stu-id="90bd2-175">App Service plan</span></span>
<span data-ttu-id="90bd2-176">Laten we beginnen met een eenvoudige hoofdniveau resource in de JSON.</span><span class="sxs-lookup"><span data-stu-id="90bd2-176">Let’s start with a simple root-level resource in the JSON.</span></span> <span data-ttu-id="90bd2-177">Klik op de App Service-abonnement met de naam in de JSON-overzicht **[hostingPlanName]** Markeer de bijbehorende JSON-code.</span><span class="sxs-lookup"><span data-stu-id="90bd2-177">In the JSON Outline, click the App Service plan named **[hostingPlanName]** to highlight the corresponding JSON code.</span></span> 

![](./media/app-service-deploy-complex-application-predictably/examinejson-3-appserviceplan.png)

<span data-ttu-id="90bd2-178">Houd er rekening mee dat de `type` element geeft de tekenreeks voor een App Service-abonnement (het is wel een serverfarm een lange, lange tijd geleden), en andere elementen en eigenschappen worden ingevuld met de parameters die zijn gedefinieerd in het JSON-bestand en deze bron niet beschikt over een geneste bronnen.</span><span class="sxs-lookup"><span data-stu-id="90bd2-178">Note that the `type` element specifies the string for an App Service plan (it was called a server farm a long, long time ago), and other elements and properties are filled in using the parameters defined in the JSON file, and this resource doesn’t have any nested resources.</span></span>

> [!NOTE]
> <span data-ttu-id="90bd2-179">U ziet ook dat de waarde van `apiVersion` vertelt Azure welke versie van de REST-API voor het gebruik van de resourcedefinitie JSON met, maar hoe de bron moet zijn geformatteerd beïnvloeden kan in de `{}`.</span><span class="sxs-lookup"><span data-stu-id="90bd2-179">Note also that the value of `apiVersion` tells Azure which version of the REST API to use the JSON resource definition with, and it can affect how the resource should be formatted inside the `{}`.</span></span> 
> 
> 

#### <a name="sql-server"></a><span data-ttu-id="90bd2-180">SQL Server</span><span class="sxs-lookup"><span data-stu-id="90bd2-180">SQL Server</span></span>
<span data-ttu-id="90bd2-181">Klik op de SQL Server-resource met de naam **SQLServer** in het JSON-overzicht.</span><span class="sxs-lookup"><span data-stu-id="90bd2-181">Next, click on the SQL Server resource named **SQLServer** in the JSON Outline.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-4-sqlserver.png)

<span data-ttu-id="90bd2-182">Houd rekening met de volgende met betrekking tot de gemarkeerde JSON-code:</span><span class="sxs-lookup"><span data-stu-id="90bd2-182">Note the following about the highlighted JSON code:</span></span>

* <span data-ttu-id="90bd2-183">Het gebruik van parameters zorgt ervoor dat de gemaakte resources met de naam en geconfigureerd op een manier die zorgt ervoor dat ze consistent zijn met elkaar.</span><span class="sxs-lookup"><span data-stu-id="90bd2-183">The use of parameters ensures that the created resources are named and configured in a way that makes them consistent with one another.</span></span>
* <span data-ttu-id="90bd2-184">De SQL Server-bron heeft twee ingesloten resources, elk een andere waarde voor `type`.</span><span class="sxs-lookup"><span data-stu-id="90bd2-184">The SQLServer resource has two nested resources, each has a different value for `type`.</span></span>
* <span data-ttu-id="90bd2-185">De ingesloten resources binnen `“resources”: […]`, waarbij de database en de firewallregels zijn gedefinieerd, hebben een `dependsOn` element waarmee de resource-ID van de bron van de SQL Server op hoofdniveau.</span><span class="sxs-lookup"><span data-stu-id="90bd2-185">The nested resources inside `“resources”: […]`, where the database and the firewall rules are defined, have a `dependsOn` element that specifies the resource ID of the root-level SQLServer resource.</span></span> <span data-ttu-id="90bd2-186">Dit vertelt Azure Resource Manager 'voordat u deze resource die andere resources moet al bestaan; maken en als die andere resource vervolgens in de sjabloon is gedefinieerd maken dat een eerst'.</span><span class="sxs-lookup"><span data-stu-id="90bd2-186">This tells Azure Resource Manager, “before you create this resource, that other resource must already exist; and if that other resource is defined in the template, then create that one first”.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="90bd2-187">Voor gedetailleerde informatie over het gebruik van de `resourceId()` werkt, Zie [Azure Resource Manager-sjabloonfuncties](../azure-resource-manager/resource-group-template-functions-resource.md#resourceid).</span><span class="sxs-lookup"><span data-stu-id="90bd2-187">For detailed information on how to use the `resourceId()` function, see [Azure Resource Manager Template Functions](../azure-resource-manager/resource-group-template-functions-resource.md#resourceid).</span></span>
  > 
  > 
* <span data-ttu-id="90bd2-188">Het effect van de `dependsOn` -element is dat Azure Resource Manager weten kunt welke resources parallel kunnen worden gemaakt en welke resources moeten opeenvolgend worden gemaakt.</span><span class="sxs-lookup"><span data-stu-id="90bd2-188">The effect of the `dependsOn` element is that Azure Resource Manager can know which resources can be created in parallel and which resources must be created sequentially.</span></span> 

#### <a name="web-app"></a><span data-ttu-id="90bd2-189">Web-app</span><span class="sxs-lookup"><span data-stu-id="90bd2-189">Web app</span></span>
<span data-ttu-id="90bd2-190">Nu gaan we naar de werkelijke web-apps zelf, die gecompliceerder zijn.</span><span class="sxs-lookup"><span data-stu-id="90bd2-190">Now, let’s move on to the actual web apps themselves, which are more complicated.</span></span> <span data-ttu-id="90bd2-191">Klik op de web-app [variables('apiSiteName')] in het JSON-overzicht markeren de JSON-code.</span><span class="sxs-lookup"><span data-stu-id="90bd2-191">Click the [variables(‘apiSiteName’)] web app in the JSON Outline to highlight its JSON code.</span></span> <span data-ttu-id="90bd2-192">U zult zien dat dingen zijn het veel meer interessant.</span><span class="sxs-lookup"><span data-stu-id="90bd2-192">You’ll notice that things are getting much more interesting.</span></span> <span data-ttu-id="90bd2-193">Voor dit doel leert ik over de functies één voor één:</span><span class="sxs-lookup"><span data-stu-id="90bd2-193">For this purpose, I’ll talk about the features one by one:</span></span>

##### <a name="root-resource"></a><span data-ttu-id="90bd2-194">Basis-resource</span><span class="sxs-lookup"><span data-stu-id="90bd2-194">Root resource</span></span>
<span data-ttu-id="90bd2-195">De web-app, is afhankelijk van twee verschillende bronnen.</span><span class="sxs-lookup"><span data-stu-id="90bd2-195">The web app depends on two different resources.</span></span> <span data-ttu-id="90bd2-196">Dit betekent dat dat Azure Resource Manager de web-app maakt alleen als zowel de App Service-abonnement als de SQL Server-exemplaar worden gemaakt.</span><span class="sxs-lookup"><span data-stu-id="90bd2-196">This means that Azure Resource Manager will create the web app only after both the App Service plan and the SQL Server instance are created.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-5-webapproot.png)

##### <a name="app-settings"></a><span data-ttu-id="90bd2-197">App-instellingen</span><span class="sxs-lookup"><span data-stu-id="90bd2-197">App settings</span></span>
<span data-ttu-id="90bd2-198">De app-instellingen zijn ook gedefinieerd als een geneste resource.</span><span class="sxs-lookup"><span data-stu-id="90bd2-198">The app settings are also defined as a nested resource.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-6-webappsettings.png)

<span data-ttu-id="90bd2-199">In de `properties` element voor `config/appsettings`, hebt u twee appinstellingen in de indeling `“<name>” : “<value>”`.</span><span class="sxs-lookup"><span data-stu-id="90bd2-199">In the `properties` element for `config/appsettings`, you have two app settings in the format `“<name>” : “<value>”`.</span></span>

* <span data-ttu-id="90bd2-200">`PROJECT`is een [KUDU instelling](https://github.com/projectkudu/kudu/wiki/Customizing-deployments) die vertelt Azure-implementatie project moet worden gebruikt in een meerdere project Visual Studio-oplossing.</span><span class="sxs-lookup"><span data-stu-id="90bd2-200">`PROJECT` is a [KUDU setting](https://github.com/projectkudu/kudu/wiki/Customizing-deployments) that tells Azure deployment which project to use in a multi-project Visual Studio solution.</span></span> <span data-ttu-id="90bd2-201">Leest u hoe broncodebeheer is geconfigureerd, maar omdat de code ToDoApp zich in een meerdere project Visual Studio-oplossing, moet deze instelling.</span><span class="sxs-lookup"><span data-stu-id="90bd2-201">I will show you later how source control is configured, but since the ToDoApp code is in a multi-project Visual Studio solution, we need this setting.</span></span>
* <span data-ttu-id="90bd2-202">`clientUrl`is gewoon een instelling die de toepassingscode app gebruikt.</span><span class="sxs-lookup"><span data-stu-id="90bd2-202">`clientUrl` is simply an app setting that the application code uses.</span></span>

##### <a name="connection-strings"></a><span data-ttu-id="90bd2-203">Verbindingsreeksen</span><span class="sxs-lookup"><span data-stu-id="90bd2-203">Connection strings</span></span>
<span data-ttu-id="90bd2-204">De verbindingsreeksen zijn ook gedefinieerd als een geneste resource.</span><span class="sxs-lookup"><span data-stu-id="90bd2-204">The connection strings are also defined as a nested resource.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-7-webappconnstr.png)

<span data-ttu-id="90bd2-205">In de `properties` element voor `config/connectionstrings`, elke verbindingsreeks ook is gedefinieerd als een combinatie van naam: waarde, met de specifieke notatie `“<name>” : {“value”: “…”, “type”: “…”}`.</span><span class="sxs-lookup"><span data-stu-id="90bd2-205">In the `properties` element for `config/connectionstrings`, each connection string is also defined as a name:value pair, with the specific format of `“<name>” : {“value”: “…”, “type”: “…”}`.</span></span> <span data-ttu-id="90bd2-206">Voor de `type` element mogelijke waarden zijn `MySql`, `SQLServer`, `SQLAzure`, en `Custom`.</span><span class="sxs-lookup"><span data-stu-id="90bd2-206">For the `type` element, possible values are `MySql`, `SQLServer`, `SQLAzure`, and `Custom`.</span></span>

> [!TIP]
> <span data-ttu-id="90bd2-207">Voor een definitieve lijst van de tekenreeks verbindingstypen, kunt u de volgende opdracht uitvoeren in Azure PowerShell: \[Enum]::GetNames("Microsoft.WindowsAzure.Commands.Utilities.Websites.Services.WebEntities.DatabaseType")</span><span class="sxs-lookup"><span data-stu-id="90bd2-207">For a definitive list of the connection string types, run the following command in Azure PowerShell: \[Enum]::GetNames("Microsoft.WindowsAzure.Commands.Utilities.Websites.Services.WebEntities.DatabaseType")</span></span>
> 
> 

##### <a name="source-control"></a><span data-ttu-id="90bd2-208">Resourcebeheer</span><span class="sxs-lookup"><span data-stu-id="90bd2-208">Source control</span></span>
<span data-ttu-id="90bd2-209">De instellingen voor bronbeheer zijn ook gedefinieerd als een geneste resource.</span><span class="sxs-lookup"><span data-stu-id="90bd2-209">The source control settings are also defined as a nested resource.</span></span> <span data-ttu-id="90bd2-210">Azure Resource Manager gebruikt deze bron voor het configureren van continue publicatie (Zie voorbehoud op `IsManualIntegration` later) en ook ere van de implementatie van toepassingscode automatisch tijdens de verwerking van het JSON-bestand.</span><span class="sxs-lookup"><span data-stu-id="90bd2-210">Azure Resource Manager uses this resource to configure continuous publishing (see caveat on `IsManualIntegration` later) and also to kick off the deployment of application code automatically during the processing of the JSON file.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-8-webappsourcecontrol.png)

<span data-ttu-id="90bd2-211">`RepoUrl`en `branch` moet vrij intuïtieve en moet verwijzen naar de Git-opslagplaats en de naam van de vertakking vanuit publiceren.</span><span class="sxs-lookup"><span data-stu-id="90bd2-211">`RepoUrl` and `branch` should be pretty intuitive and should point to the Git repository and the name of the branch to publish from.</span></span> <span data-ttu-id="90bd2-212">Deze worden opnieuw, gedefinieerd door de invoerparameters.</span><span class="sxs-lookup"><span data-stu-id="90bd2-212">Again, these are defined by input parameters.</span></span> 

<span data-ttu-id="90bd2-213">Houd er rekening mee de `dependsOn` element dat naast de webbron app zelf, `sourcecontrols/web` ook afhankelijk van `config/appsettings` en `config/connectionstrings`.</span><span class="sxs-lookup"><span data-stu-id="90bd2-213">Note in the `dependsOn` element that, in addition to the web app resource itself, `sourcecontrols/web` also depends on `config/appsettings` and `config/connectionstrings`.</span></span> <span data-ttu-id="90bd2-214">Dit is omdat zodra `sourcecontrols/web` is geconfigureerd, het proces van het Azure-implementatie wordt automatisch geprobeerd te implementeren, bouwen en de toepassingscode te starten.</span><span class="sxs-lookup"><span data-stu-id="90bd2-214">This is because once `sourcecontrols/web` is configured, the Azure deployment process will automatically attempt to deploy, build, and start the application code.</span></span> <span data-ttu-id="90bd2-215">Daarom kunt u ervoor zorgen dat de toepassing toegang tot de vereiste app-instellingen en verbindingsreeksen heeft voordat de toepassingscode wordt uitgevoerd voor het invoegen van deze afhankelijkheid.</span><span class="sxs-lookup"><span data-stu-id="90bd2-215">Therefore, inserting this dependency helps you make sure that the application has access to the required app settings and connection strings before the application code is run.</span></span> 

> [!NOTE]
> <span data-ttu-id="90bd2-216">U ziet ook dat `IsManualIntegration` is ingesteld op `true`.</span><span class="sxs-lookup"><span data-stu-id="90bd2-216">Note also that `IsManualIntegration` is set to `true`.</span></span> <span data-ttu-id="90bd2-217">Deze eigenschap is in deze zelfstudie nodig omdat u de GitHub-opslagplaats niet daadwerkelijk in bezit en dus kan niet daadwerkelijk machtigingen aan Azure toekennen voor het configureren van continue publiceren vanaf [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) (dat wil zeggen</span><span class="sxs-lookup"><span data-stu-id="90bd2-217">This property is necessary in this tutorial because you do not actually own the GitHub repository, and thus cannot actually grant permission to Azure to configure continuous publishing from [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) (i.e.</span></span> <span data-ttu-id="90bd2-218">updates voor automatische opslagplaats pushen naar Azure).</span><span class="sxs-lookup"><span data-stu-id="90bd2-218">push automatic repository updates to Azure).</span></span> <span data-ttu-id="90bd2-219">U kunt de standaardwaarde `false` voor de opgegeven bibliotheek alleen als u de GitHub-referenties van de eigenaar in hebt geconfigureerd de [Azure-portal](https://portal.azure.com/) voordat.</span><span class="sxs-lookup"><span data-stu-id="90bd2-219">You can use the default value `false` for the specified repository only if you have configured the owner’s GitHub credentials in the [Azure portal](https://portal.azure.com/) before.</span></span> <span data-ttu-id="90bd2-220">Met andere woorden, als u hebt ingesteld met broncodebeheer GitHub of BitBucket voor een app in de [Azure Portal](https://portal.azure.com/) voorheen werd door gebruik te maken van uw referenties, vervolgens Azure worden de referenties onthouden en ze gebruiken wanneer u een app van implementeren GitHub of BitBucket in de toekomst.</span><span class="sxs-lookup"><span data-stu-id="90bd2-220">In other words, if you have set up source control to GitHub or BitBucket for any app in the [Azure Portal](https://portal.azure.com/) previously, using your user credentials, then Azure will remember the credentials and use them whenever you deploy any app from GitHub or BitBucket in the future.</span></span> <span data-ttu-id="90bd2-221">Echter, als u dit nog niet hebt gedaan, implementatie van het JSON-sjabloon mislukken wanneer Azure Resource Manager probeert te configureren van instellingen voor de web-app bronbeheer omdat deze niet kan op GitHub of BitBucket met referenties van de eigenaar van de opslagplaats aanmelden.</span><span class="sxs-lookup"><span data-stu-id="90bd2-221">However, if you haven’t done this already, deployment of the JSON template will fail when Azure Resource Manager tries to configure the web app’s source control settings because it cannot log into GitHub or BitBucket with the repository owner’s credentials.</span></span>
> 
> 

## <a name="compare-the-json-template-with-deployed-resource-group"></a><span data-ttu-id="90bd2-222">De JSON-sjabloon met de geïmplementeerde resourcegroep vergelijken</span><span class="sxs-lookup"><span data-stu-id="90bd2-222">Compare the JSON template with deployed resource group</span></span>
<span data-ttu-id="90bd2-223">Hier, doorloopt u de blades alle de van web-app in de [Azure Portal](https://portal.azure.com/), maar er is een ander hulpprogramma dat net zoals handig als niet meer.</span><span class="sxs-lookup"><span data-stu-id="90bd2-223">Here, you can go through all the web app’s blades in the [Azure Portal](https://portal.azure.com/), but there’s another tool that’s just as useful, if not more.</span></span> <span data-ttu-id="90bd2-224">Ga naar de [Azure Resource Explorer](https://resources.azure.com) voorbeeldfunctie waarmee u een JSON-weergave van de resourcegroepen in uw abonnementen, omdat ze werkelijk bestaan in de Azure back-end.</span><span class="sxs-lookup"><span data-stu-id="90bd2-224">Go to the [Azure Resource Explorer](https://resources.azure.com) preview tool, which gives you a JSON representation of all the resource groups in your subscriptions, as they actually exist in the Azure backend.</span></span> <span data-ttu-id="90bd2-225">U ziet ook hoe de resourcegroep JSON hiërarchie in Azure komt overeen met de hiërarchie in de sjabloonbestand dat wordt gebruikt om deze te maken.</span><span class="sxs-lookup"><span data-stu-id="90bd2-225">You can also see how the resource group’s JSON hierarchy in Azure corresponds with the hierarchy in the template file that’s used to create it.</span></span>

<span data-ttu-id="90bd2-226">Bijvoorbeeld, wanneer ik ga naar de [Azure Resource Explorer](https://resources.azure.com) hulpprogramma en vouw de knooppunten in de Verkenner, ik ziet u de resourcegroep en de bronnen op hoofdniveau die worden verzameld onder hun respectieve resourcetypen.</span><span class="sxs-lookup"><span data-stu-id="90bd2-226">For example, when I go to the [Azure Resource Explorer](https://resources.azure.com) tool and expand the nodes in the explorer, I can see the resource group and the root-level resources that are collected under their respective resource types.</span></span>

![](./media/app-service-deploy-complex-application-predictably/ARM-1-treeview.png)

<span data-ttu-id="90bd2-227">Als u een web-app bereiken, moet u kunnen voor een overzicht van web-app-configuratiedetails vergelijkbaar met de onderstaande schermafbeelding:</span><span class="sxs-lookup"><span data-stu-id="90bd2-227">If you drill down to a web app, you should be able to see web app configuration details similar to the below screenshot:</span></span>

![](./media/app-service-deploy-complex-application-predictably/ARM-2-jsonview.png)

<span data-ttu-id="90bd2-228">Opnieuw ingesloten resources moeten een vergelijkbaar met die in het JSON-sjabloonbestand hiërarchie hebt en ziet u de app-instellingen, verbindingsreeksen, enzovoort, juist weergegeven in het deelvenster JSON.</span><span class="sxs-lookup"><span data-stu-id="90bd2-228">Again, the nested resources should have a hierarchy very similar to those in your JSON template file, and you should see the app settings, connection strings, etc., properly reflected in the JSON pane.</span></span> <span data-ttu-id="90bd2-229">Het ontbreken van instellingen hier kan wijzen op een probleem met uw JSON-bestand en kunt u uw JSON-sjabloonbestand oplossen.</span><span class="sxs-lookup"><span data-stu-id="90bd2-229">The absence of settings here may indicate an issue with your JSON file and can help you troubleshoot your JSON template file.</span></span>

## <a name="deploy-the-resource-group-template-yourself"></a><span data-ttu-id="90bd2-230">Implementatie van de resource-group-sjabloon</span><span class="sxs-lookup"><span data-stu-id="90bd2-230">Deploy the resource group template yourself</span></span>
<span data-ttu-id="90bd2-231">De **implementeren in Azure** knop is een goede maar kunt u voor het implementeren van de resource-group-sjabloon in azuredeploy.json alleen als u al azuredeploy.json met GitHub gepusht hebt.</span><span class="sxs-lookup"><span data-stu-id="90bd2-231">The **Deploy to Azure** button is great, but it allows you to deploy the resource group template in azuredeploy.json only if you have already pushed azuredeploy.json to GitHub.</span></span> <span data-ttu-id="90bd2-232">De Azure .NET SDK biedt ook de hulpprogramma's voor u voor het implementeren van een bestand JSON-sjabloon rechtstreeks vanuit uw lokale computer.</span><span class="sxs-lookup"><span data-stu-id="90bd2-232">The Azure .NET SDK also provides the tools for you to deploy any JSON template file directly from your local machine.</span></span> <span data-ttu-id="90bd2-233">U doet dit door de volgende stappen uit te voeren:</span><span class="sxs-lookup"><span data-stu-id="90bd2-233">To do this, follow the steps below:</span></span>

1. <span data-ttu-id="90bd2-234">Klik in Visual Studio **bestand** > **nieuw** > **Project**.</span><span class="sxs-lookup"><span data-stu-id="90bd2-234">In Visual Studio, click **File** > **New** > **Project**.</span></span>
2. <span data-ttu-id="90bd2-235">Klik op **Visual C#** > **Cloud** > **Azure-resourcegroep**, klikt u vervolgens op **OK**.</span><span class="sxs-lookup"><span data-stu-id="90bd2-235">Click **Visual C#** > **Cloud** > **Azure Resource Group**, then click **OK**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-1-vsproject.png)
3. <span data-ttu-id="90bd2-236">In **Azure-sjabloon selecteren**, selecteer **lege sjabloon** en klik op **OK**.</span><span class="sxs-lookup"><span data-stu-id="90bd2-236">In **Select Azure Template**, select **Blank Template** and click **OK**.</span></span>
4. <span data-ttu-id="90bd2-237">Sleep azuredeploy.json in de **sjabloon** map van het nieuwe project.</span><span class="sxs-lookup"><span data-stu-id="90bd2-237">Drag azuredeploy.json into the **Template** folder of your new project.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-2-copyjson.png)
5. <span data-ttu-id="90bd2-238">Open de gekopieerde azuredeploy.json in Solution Explorer.</span><span class="sxs-lookup"><span data-stu-id="90bd2-238">From Solution Explorer, open the copied azuredeploy.json.</span></span>
6. <span data-ttu-id="90bd2-239">Alleen voor de demonstratie we enkele standaard Application Insight resources toevoegen aan onze JSON-bestand door te klikken op **Resource toevoegen**.</span><span class="sxs-lookup"><span data-stu-id="90bd2-239">Just for the sake of the demonstration, let’s add some standard Application Insight resources to our JSON file, by clicking **Add Resource**.</span></span> <span data-ttu-id="90bd2-240">Als u alleen geïnteresseerd bent in het JSON-bestand te implementeren, gaat u naar de stappen implementeren.</span><span class="sxs-lookup"><span data-stu-id="90bd2-240">If you’re just interested in deploying the JSON file, skip to the deploy steps.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-3-newresource.png)
7. <span data-ttu-id="90bd2-241">Selecteer **Application Insights voor Web-Apps**, Controleer of een bestaande App Service-plan en web app is geselecteerd en klik vervolgens op **toevoegen**.</span><span class="sxs-lookup"><span data-stu-id="90bd2-241">Select **Application Insights for Web Apps**, then make sure an existing App Service plan and web app is selected, and then click **Add**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-4-newappinsight.png)
   
   <span data-ttu-id="90bd2-242">U hebt nu mogelijk om te bekijken van verschillende nieuwe resources die, afhankelijk van de bron en wat het doet, zijn afhankelijk van de App Service-abonnement of de web-app.</span><span class="sxs-lookup"><span data-stu-id="90bd2-242">You’ll now be able to see several new resources that, depending on the resource and what it does, have dependencies on either the App Service plan or the web app.</span></span> <span data-ttu-id="90bd2-243">Deze resources niet zijn ingeschakeld in hun bestaande definitie en gaat u deze instelling wijzigen.</span><span class="sxs-lookup"><span data-stu-id="90bd2-243">These resources are not enabled by their existing definition and you’re going to change that.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-5-appinsightresources.png)
8. <span data-ttu-id="90bd2-244">Klik in de JSON-overzicht op **appInsights automatisch schalen** Markeer de JSON-code.</span><span class="sxs-lookup"><span data-stu-id="90bd2-244">In the JSON Outline, click **appInsights AutoScale** to highlight its JSON code.</span></span> <span data-ttu-id="90bd2-245">Dit is de instelling voor vergroten/verkleinen voor uw App Service-abonnement.</span><span class="sxs-lookup"><span data-stu-id="90bd2-245">This is the scaling setting for your App Service plan.</span></span>
9. <span data-ttu-id="90bd2-246">Zoek in de gemarkeerde JSON-code, de `location` en `enabled` eigenschappen en ze te stellen zoals hieronder wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="90bd2-246">In the highlighted JSON code, locate the `location` and `enabled` properties and set them as shown below.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-6-autoscalesettings.png)
10. <span data-ttu-id="90bd2-247">Klik in de JSON-overzicht op **CPUHigh appInsights** Markeer de JSON-code.</span><span class="sxs-lookup"><span data-stu-id="90bd2-247">In the JSON Outline, click **CPUHigh appInsights** to highlight its JSON code.</span></span> <span data-ttu-id="90bd2-248">Dit is een waarschuwing.</span><span class="sxs-lookup"><span data-stu-id="90bd2-248">This is an alert.</span></span>
11. <span data-ttu-id="90bd2-249">Zoek de `location` en `isEnabled` eigenschappen en ze te stellen zoals hieronder wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="90bd2-249">Locate the `location` and `isEnabled` properties and set them as shown below.</span></span> <span data-ttu-id="90bd2-250">Doe hetzelfde voor de andere drie waarschuwingen (paarse bollen).</span><span class="sxs-lookup"><span data-stu-id="90bd2-250">Do the same for the other three alerts (purple bulbs).</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-7-alerts.png)
12. <span data-ttu-id="90bd2-251">U bent nu klaar om te implementeren.</span><span class="sxs-lookup"><span data-stu-id="90bd2-251">You’re now ready to deploy.</span></span> <span data-ttu-id="90bd2-252">Met de rechtermuisknop op het project en selecteer **implementeren** > **nieuwe implementatie**.</span><span class="sxs-lookup"><span data-stu-id="90bd2-252">Right-click the project and select **Deploy** > **New Deployment**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-8-newdeployment.png)
13. <span data-ttu-id="90bd2-253">Meld u aan bij uw Azure-account als u dat nog niet hebt gedaan.</span><span class="sxs-lookup"><span data-stu-id="90bd2-253">Log into your Azure account if you haven’t already done so.</span></span>
14. <span data-ttu-id="90bd2-254">Selecteer een bestaande resourcegroep in uw abonnement of maak een nieuwe één, selecteer **azuredeploy.json**, en klik vervolgens op **Parameters bewerken**.</span><span class="sxs-lookup"><span data-stu-id="90bd2-254">Select an existing resource group in your subscription or create a new one, select **azuredeploy.json**, and then click **Edit Parameters**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-9-deployconfig.png)
    
    <span data-ttu-id="90bd2-255">U hebt nu mogelijk om te bewerken van de parameters die zijn gedefinieerd in het sjabloonbestand in een tabel nice.</span><span class="sxs-lookup"><span data-stu-id="90bd2-255">You’ll now be able to edit all the parameters defined in the template file in a nice table.</span></span> <span data-ttu-id="90bd2-256">Parameters die standaardwaarden definiëren al hun standaardwaarden en parameters die een lijst van toegestane waarden te definiëren als opgegeven waarin dropdowns worden weergegeven.</span><span class="sxs-lookup"><span data-stu-id="90bd2-256">Parameters that define defaults will already have their default values, and parameters that define a list of allowed values will be shown as dropdowns.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-10-parametereditor.png)
15. <span data-ttu-id="90bd2-257">Vul de lege parameters en gebruik de [GitHub-repo-adres voor ToDoApp](https://github.com/azure-appservice-samples/ToDoApp.git) in **repoUrl**.</span><span class="sxs-lookup"><span data-stu-id="90bd2-257">Fill in all the empty parameters, and use the [GitHub repo address for ToDoApp](https://github.com/azure-appservice-samples/ToDoApp.git) in **repoUrl**.</span></span> <span data-ttu-id="90bd2-258">Klik vervolgens op **opslaan**.</span><span class="sxs-lookup"><span data-stu-id="90bd2-258">Then, click **Save**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-11-parametereditorfilled.png)
    
    > [!NOTE]
    > <span data-ttu-id="90bd2-259">Automatisch schalen is een functie die wordt aangeboden op **standaard** laag of hoger en plan niveau waarschuwingen zijn functies die worden aangeboden **Basic** servicetier of hoger, moet u om in te stellen de **sku** parameter naar **standaard** of **Premium** om te zien van al uw nieuwe App Insights resources lichte up.</span><span class="sxs-lookup"><span data-stu-id="90bd2-259">Autoscaling is a feature offered in **Standard** tier or higher, and plan-level alerts are features offered in **Basic** tier or higher, you’ll need to set the **sku** parameter to **Standard** or **Premium** in order to see all your new App Insights resources light up.</span></span>
    > 
    > 
16. <span data-ttu-id="90bd2-260">Klik op **implementeren**.</span><span class="sxs-lookup"><span data-stu-id="90bd2-260">Click **Deploy**.</span></span> <span data-ttu-id="90bd2-261">Als u hebt geselecteerd **wachtwoorden opslaan**, het wachtwoord wordt opgeslagen in het parameterbestand **als tekst zonder opmaak**.</span><span class="sxs-lookup"><span data-stu-id="90bd2-261">If you selected **Save passwords**, the password will be saved in the parameter file **in plain text**.</span></span> <span data-ttu-id="90bd2-262">Anders wordt u gevraagd het wachtwoord invoeren tijdens de implementatie.</span><span class="sxs-lookup"><span data-stu-id="90bd2-262">Otherwise, you’ll be asked to input the database password during the deployment process.</span></span>

<span data-ttu-id="90bd2-263">Dat is alles.</span><span class="sxs-lookup"><span data-stu-id="90bd2-263">That’s it!</span></span> <span data-ttu-id="90bd2-264">Nu u alleen hoeft te gaat u naar de [Azure Portal](https://portal.azure.com/) en de [Azure Resource Explorer](https://resources.azure.com) hulpprogramma om te zien van de nieuwe waarschuwingen en de instellingen voor automatisch schalen toegevoegd aan uw JSON-toepassing geïmplementeerd.</span><span class="sxs-lookup"><span data-stu-id="90bd2-264">Now you just need to go to the [Azure Portal](https://portal.azure.com/) and the [Azure Resource Explorer](https://resources.azure.com) tool to see the new alerts and autoscale settings added to your JSON deployed application.</span></span>

<span data-ttu-id="90bd2-265">De stappen in deze sectie doen hoofdzakelijk het volgende:</span><span class="sxs-lookup"><span data-stu-id="90bd2-265">Your steps in this section mainly accomplished the following:</span></span>

1. <span data-ttu-id="90bd2-266">Het sjabloonbestand voorbereid</span><span class="sxs-lookup"><span data-stu-id="90bd2-266">Prepared the template file</span></span>
2. <span data-ttu-id="90bd2-267">Een parameterbestand te gaan met het sjabloonbestand gemaakt</span><span class="sxs-lookup"><span data-stu-id="90bd2-267">Created a parameter file to go with the template file</span></span>
3. <span data-ttu-id="90bd2-268">Het sjabloonbestand met het parameterbestand geïmplementeerd</span><span class="sxs-lookup"><span data-stu-id="90bd2-268">Deployed the template file with the parameter file</span></span>

<span data-ttu-id="90bd2-269">De laatste stap wordt eenvoudig uitgevoerd door een PowerShell-cmdlet.</span><span class="sxs-lookup"><span data-stu-id="90bd2-269">The last step is easily done by a PowerShell cmdlet.</span></span> <span data-ttu-id="90bd2-270">Als u wilt zien wat Visual Studio gedaan wanneer uw toepassing is geïmplementeerd, open Scripts\Deploy AzureResourceGroup.ps1.</span><span class="sxs-lookup"><span data-stu-id="90bd2-270">To see what Visual Studio did when it deployed your application, open Scripts\Deploy-AzureResourceGroup.ps1.</span></span> <span data-ttu-id="90bd2-271">Er is veel code er, maar ik Ga net Markeer de relevante code moet u het sjabloonbestand met de parameterbestand te implementeren.</span><span class="sxs-lookup"><span data-stu-id="90bd2-271">There’s a lot of code there, but I’m just going to highlight all the pertinent code you need to deploy the template file with the parameter file.</span></span>

![](./media/app-service-deploy-complex-application-predictably/deploy-12-powershellsnippet.png)

<span data-ttu-id="90bd2-272">De laatste cmdlet `New-AzureResourceGroup`, is het adres waarmee de actie uitvoert.</span><span class="sxs-lookup"><span data-stu-id="90bd2-272">The last cmdlet, `New-AzureResourceGroup`, is the one that actually performs the action.</span></span> <span data-ttu-id="90bd2-273">Dit alles moet aan u aantonen dat met behulp van tooling, relatief eenvoudig is voor het implementeren van uw cloudtoepassing zoals verwacht.</span><span class="sxs-lookup"><span data-stu-id="90bd2-273">All this should demonstrate to you that, with the help of tooling, it is relatively straightforward to deploy your cloud application predictably.</span></span> <span data-ttu-id="90bd2-274">Telkens wanneer u de cmdlet op dezelfde sjabloon met de dezelfde parameter-bestand uitvoert, gaat u hetzelfde resultaat.</span><span class="sxs-lookup"><span data-stu-id="90bd2-274">Every time you run the cmdlet on the same template with the same parameter file, you’re going to get the same result.</span></span>

## <a name="summary"></a><span data-ttu-id="90bd2-275">Samenvatting</span><span class="sxs-lookup"><span data-stu-id="90bd2-275">Summary</span></span>
<span data-ttu-id="90bd2-276">In de DevOps zijn herhaalbaarheid en voorspelbaarheid sleutels voor een geslaagde implementatie van een toepassing met hoge schaalbaarheid van microservices bestaan.</span><span class="sxs-lookup"><span data-stu-id="90bd2-276">In DevOps, repeatability and predictability are keys to any successful deployment of a high-scale application composed of microservices.</span></span> <span data-ttu-id="90bd2-277">In deze zelfstudie maakt hebt u een twee-microservice-toepassing in Azure als één resourcegroep met de Azure Resource Manager-sjabloon geïmplementeerd.</span><span class="sxs-lookup"><span data-stu-id="90bd2-277">In this tutorial, you have deployed a two-microservice application to Azure as a single resource group using the Azure Resource Manager template.</span></span> <span data-ttu-id="90bd2-278">Het gegeven in het ideale geval, heeft de kennis die u nodig hebt om te beginnen met het converteren van uw toepassing in Azure in een sjabloon en kunt inrichten en zoals verwacht implementeren.</span><span class="sxs-lookup"><span data-stu-id="90bd2-278">Hopefully, it has given you the knowledge you need in order to start converting your application in Azure into a template and can provision and deploy it predictably.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="90bd2-279">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="90bd2-279">Next Steps</span></span>
<span data-ttu-id="90bd2-280">Ontdek hoe [flexibele methoden toepassen en uw toepassing microservices continu publiceren met gemak](app-service-agile-software-development.md) en technieken voor toepassingsimplementatie zoals geavanceerde [zeker implementatie](app-service-web-test-in-production-controlled-test-flight.md) eenvoudig.</span><span class="sxs-lookup"><span data-stu-id="90bd2-280">Find out how to [apply agile methodologies and continuously publish your microservices application with ease](app-service-agile-software-development.md) and advanced deployment techniques like [flighting deployment](app-service-web-test-in-production-controlled-test-flight.md) easily.</span></span>

<a name="resources"></a>

## <a name="more-resources"></a><span data-ttu-id="90bd2-281">Meer bronnen</span><span class="sxs-lookup"><span data-stu-id="90bd2-281">More resources</span></span>
* [<span data-ttu-id="90bd2-282">Taal van Azure Resource Manager-sjabloon</span><span class="sxs-lookup"><span data-stu-id="90bd2-282">Azure Resource Manager Template Language</span></span>](../azure-resource-manager/resource-group-authoring-templates.md)
* [<span data-ttu-id="90bd2-283">Azure Resource Manager-sjablonen ontwerpen</span><span class="sxs-lookup"><span data-stu-id="90bd2-283">Authoring Azure Resource Manager Templates</span></span>](../azure-resource-manager/resource-group-authoring-templates.md)
* [<span data-ttu-id="90bd2-284">Azure Resource Manager-sjabloonfuncties</span><span class="sxs-lookup"><span data-stu-id="90bd2-284">Azure Resource Manager Template Functions</span></span>](../azure-resource-manager/resource-group-template-functions.md)
* [<span data-ttu-id="90bd2-285">Implementeer een toepassing met Azure Resource Manager-sjabloon</span><span class="sxs-lookup"><span data-stu-id="90bd2-285">Deploy an application with Azure Resource Manager template</span></span>](../azure-resource-manager/resource-group-template-deploy.md)
* [<span data-ttu-id="90bd2-286">Azure PowerShell gebruiken met Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="90bd2-286">Using Azure PowerShell with Azure Resource Manager</span></span>](../azure-resource-manager/powershell-azure-resource-manager.md)
* [<span data-ttu-id="90bd2-287">Implementaties van de resourcegroep in Azure oplossen</span><span class="sxs-lookup"><span data-stu-id="90bd2-287">Troubleshooting Resource Group Deployments in Azure</span></span>](../azure-resource-manager/resource-manager-common-deployment-errors.md)

