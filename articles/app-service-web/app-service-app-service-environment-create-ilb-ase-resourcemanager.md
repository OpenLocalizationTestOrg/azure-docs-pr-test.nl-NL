---
title: Het maken van een as ILB-omgeving met behulp van Azure Resource Manager-sjablonen | Microsoft Docs
description: Informatie over het maken van een interne load balancer as-omgeving met behulp van Azure Resource Manager-sjablonen.
services: app-service
documentationcenter: 
author: stefsch
manager: nirma
editor: 
ms.assetid: 091decb6-b0de-42a1-9f2f-c18d9b2e67df
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/11/2017
ms.author: stefsch
ms.openlocfilehash: 147ab76d38c8bbbf34d35ed6c2a194d97fe711ab
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/03/2017
---
# <a name="how-to-create-an-ilb-ase-using-azure-resource-manager-templates"></a><span data-ttu-id="f8cfa-103">Een ILB ASE maken met behulp van Azure Resource Manager-sjablonen</span><span class="sxs-lookup"><span data-stu-id="f8cfa-103">How To Create an ILB ASE Using Azure Resource Manager Templates</span></span>

> [!NOTE] 
> <span data-ttu-id="f8cfa-104">In dit artikel gaat over de v1 App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-104">This article is about the App Service Environment v1.</span></span> <span data-ttu-id="f8cfa-105">Er is een nieuwere versie van de App Service-omgeving die eenvoudiger te gebruiken en wordt uitgevoerd op krachtiger infrastructuur.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-105">There is a newer version of the App Service Environment that is easier to use and runs on more powerful infrastructure.</span></span> <span data-ttu-id="f8cfa-106">Voor meer informatie over de nieuwe versie begin met het [Inleiding tot de App-serviceomgeving](../app-service/app-service-environment/intro.md).</span><span class="sxs-lookup"><span data-stu-id="f8cfa-106">To learn more about the new version start with the [Introduction to the App  Service Environment](../app-service/app-service-environment/intro.md).</span></span>
>

## <a name="overview"></a><span data-ttu-id="f8cfa-107">Overzicht</span><span class="sxs-lookup"><span data-stu-id="f8cfa-107">Overview</span></span>
<span data-ttu-id="f8cfa-108">App Service-omgevingen kunnen worden gemaakt met de interne adres van een virtueel netwerk in plaats van een openbare VIP.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-108">App Service Environments can be created with a virtual network internal address instead of a public VIP.</span></span>  <span data-ttu-id="f8cfa-109">Deze interne adres is verstrekt door een Azure onderdeel met de naam van de interne load balancer (ILB).</span><span class="sxs-lookup"><span data-stu-id="f8cfa-109">This internal address is provided by an Azure component called the internal load balancer (ILB).</span></span>  <span data-ttu-id="f8cfa-110">Een as ILB-omgeving kunnen worden gemaakt met de Azure portal.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-110">An ILB ASE can be created using the Azure portal.</span></span>  <span data-ttu-id="f8cfa-111">Ook kunnen worden gemaakt met behulp van automatisering in Azure Resource Manager-sjablonen.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-111">It can also be created using automation by way of Azure Resource Manager templates.</span></span>  <span data-ttu-id="f8cfa-112">In dit artikel wordt uitgelegd welke stappen en de syntaxis voor het maken van een as ILB-omgeving met Azure Resource Manager-sjablonen.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-112">This article walks through the steps and syntax needed to create an ILB ASE with Azure Resource Manager templates.</span></span>

<span data-ttu-id="f8cfa-113">Er zijn drie stappen die betrokken zijn bij de automatisering van het maken van een as ILB-omgeving:</span><span class="sxs-lookup"><span data-stu-id="f8cfa-113">There are three steps involved in automating creation of an ILB ASE:</span></span>

1. <span data-ttu-id="f8cfa-114">Eerst wordt de base as-omgeving gemaakt in een virtueel netwerk met een interne load balancer-adres in plaats van een openbare VIP.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-114">First the base ASE is created in a virtual network using an internal load balancer address instead of a public VIP.</span></span>  <span data-ttu-id="f8cfa-115">Als onderdeel van deze stap wordt een hoofddomeinnaam toegewezen aan de as ILB-omgeving.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-115">As part of this step, a root domain name is assigned to the ILB ASE.</span></span>
2. <span data-ttu-id="f8cfa-116">Zodra de as ILB-omgeving is gemaakt, wordt een SSL-certificaat geüpload.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-116">Once the ILB ASE is created, an SSL certificate is uploaded.</span></span>  
3. <span data-ttu-id="f8cfa-117">Het geüploade SSL-certificaat als het SSL-certificaat 'standaard' expliciet toegewezen aan de as ILB-omgeving.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-117">The uploaded SSL certificate is explicitly assigned to the ILB ASE as its "default" SSL certificate.</span></span>  <span data-ttu-id="f8cfa-118">Dit SSL-certificaat wordt gebruikt voor SSL-verkeer voor apps op de as ILB-omgeving wanneer de apps worden aangepakt met behulp van het algemene hoofddomein toegewezen aan de as-omgeving (bijvoorbeeld https://someapp.mycustomrootcomain.com)</span><span class="sxs-lookup"><span data-stu-id="f8cfa-118">This SSL certificate will be used for SSL traffic to apps on the ILB ASE when the apps are addressed using the common root domain assigned to the ASE (e.g. https://someapp.mycustomrootcomain.com)</span></span>

## <a name="creating-the-base-ilb-ase"></a><span data-ttu-id="f8cfa-119">De Base ILB as-omgeving maken</span><span class="sxs-lookup"><span data-stu-id="f8cfa-119">Creating the Base ILB ASE</span></span>
<span data-ttu-id="f8cfa-120">Een voorbeeld van Azure Resource Manager-sjabloon en de bijbehorende parameterbestand zijn beschikbaar op GitHub [hier][quickstartilbasecreate].</span><span class="sxs-lookup"><span data-stu-id="f8cfa-120">An example Azure Resource Manager template, and its associated parameters file, are available on GitHub [here][quickstartilbasecreate].</span></span>

<span data-ttu-id="f8cfa-121">De meeste van de parameters in de *azuredeploy.parameters.json* bestand voor het maken van zowel ILB ASEs, evenals ASEs gebonden aan een openbare VIP gelden.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-121">Most of the parameters in the *azuredeploy.parameters.json* file are common to creating both ILB ASEs, as well as ASEs bound to a public VIP.</span></span>  <span data-ttu-id="f8cfa-122">De lijst hieronder aanroepen van speciale Opmerking uitvoerparameters of die zijn uniek, bij het maken van een as ILB-omgeving:</span><span class="sxs-lookup"><span data-stu-id="f8cfa-122">The list below calls out parameters of special note, or that are unique, when creating an ILB ASE:</span></span>

* <span data-ttu-id="f8cfa-123">*interalLoadBalancingMode*: Stel deze optie om 3, wat betekent dat zowel HTTPS-verkeer op poort 80/443 en de controlegegevens channel-poorten te hebben geluisterd naar door de FTP-service op de as-omgeving In de meeste gevallen wordt gebonden aan een ILB toegewezen virtueel netwerk interne adres.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-123">*interalLoadBalancingMode*:  In most cases set this to 3, which means both HTTP/HTTPS traffic on ports 80/443, and the control/data channel ports listened to by the FTP service on the ASE, will be bound to an ILB allocated virtual network internal address.</span></span>  <span data-ttu-id="f8cfa-124">Als deze eigenschap wordt in plaats daarvan ingesteld op 2, gerelateerd alleen de FTP-service poorten (zowel besturings- als kanalen) wordt gebonden aan een ILB-adres, terwijl het HTTP/HTTPS-verkeer op het openbare VIP blijft.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-124">If this property is instead set to 2, then only the FTP service related ports (both control and data channels) will be bound to an ILB address, while the HTTP/HTTPS traffic will remain on the public VIP.</span></span>
* <span data-ttu-id="f8cfa-125">*dnsSuffix*: deze parameter bepaalt de standaard-hoofddomein dat wordt toegewezen aan de as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-125">*dnsSuffix*:  This parameter defines the default root domain that will be assigned to the ASE.</span></span>  <span data-ttu-id="f8cfa-126">In de openbare variatie van Azure App Service, het hoofddomein standaard voor alle web-apps is *azurewebsites.net*.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-126">In the public variation of Azure App Service, the default root domain for all web apps is *azurewebsites.net*.</span></span>  <span data-ttu-id="f8cfa-127">Maar omdat een ILB-as-omgeving voor het virtuele netwerk van een klant interne, niet dat u de openbare dienst standaard hoofddomein gebruiken.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-127">However since an ILB ASE is internal to a customer's virtual network, it doesn't make sense to use the public service's default root domain.</span></span>  <span data-ttu-id="f8cfa-128">Een as ILB-omgeving moet in plaats daarvan een standaard-hoofddomein die zinvol voor gebruik binnen een bedrijf intern virtueel netwerk hebben.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-128">Instead, an ILB ASE should have a default root domain that makes sense for use within a company's internal virtual network.</span></span>  <span data-ttu-id="f8cfa-129">Bijvoorbeeld, een hypothetische Contoso Corporation gebruiken een hoofddomein standaard van *interne contoso.com* voor apps die zijn bedoeld om alleen worden omgezet en toegankelijk zijn in het virtuele netwerk van Contoso.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-129">For example, a hypothetical Contoso Corporation might use a default root domain of *internal-contoso.com* for apps that are intended to only be resolvable and accessible within Contoso's virtual network.</span></span> 
* <span data-ttu-id="f8cfa-130">*ipSslAddressCount*: deze parameter is automatisch standaard ingesteld op een waarde van 0 in de *azuredeploy.json* bestand omdat ILB ASEs slechts één ILB-adres hebben.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-130">*ipSslAddressCount*:  This parameter is automatically defaulted to a value of 0 in the *azuredeploy.json* file because ILB ASEs only have a single ILB address.</span></span>  <span data-ttu-id="f8cfa-131">Er zijn geen expliciete SSL IP-adressen voor een as ILB-omgeving, en daarom de IP-SSL-adresgroep voor een as ILB-omgeving moet worden ingesteld op nul, anders een inrichting fout zal optreden.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-131">There are no explicit IP-SSL addresses for an ILB ASE, and hence the IP-SSL address pool for an ILB ASE must be set to zero, otherwise a provisioning error will occur.</span></span> 

<span data-ttu-id="f8cfa-132">Eenmaal de *azuredeploy.parameters.json* bestand voor een as ILB-omgeving is ingevuld, de as ILB-omgeving kunnen vervolgens worden gemaakt met het volgende Powershell-codefragment.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-132">Once the *azuredeploy.parameters.json* file has been filled in for an ILB ASE, the ILB ASE can then be created using the following Powershell code snippet.</span></span>  <span data-ttu-id="f8cfa-133">Het bestand paden overeen waar de Azure Resource Manager-sjabloon-bestanden bevinden zich op uw computer te wijzigen.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-133">Change the file PATHs to match where the Azure Resource Manager template files are located on your machine.</span></span>  <span data-ttu-id="f8cfa-134">Ook moet u uw eigen waarden voor de naam van de Azure Resource Manager deployment en de naam van resourcegroep.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-134">Also remember to supply your own values for the Azure Resource Manager deployment name, and resource group name.</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="f8cfa-135">Nadat de Azure Resource Manager sjabloon wordt ingediend duurt het enkele uren voor de ILB as-omgeving moet worden gemaakt.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-135">After the Azure Resource Manager template is submitted it will take a few hours for the ILB ASE to be created.</span></span>  <span data-ttu-id="f8cfa-136">Nadat het maken is voltooid, wordt de as ILB-omgeving in de portal UX in de lijst met App Service-omgevingen voor het abonnement dat de implementatie geactiveerd weergegeven.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-136">Once the creation completes, the ILB ASE will show up in the portal UX in the list of App Service Environments for the subscription that triggered the deployment.</span></span>

## <a name="uploading-and-configuring-the-default-ssl-certificate"></a><span data-ttu-id="f8cfa-137">Uploaden en configureren van het SSL-certificaat 'Standaard'</span><span class="sxs-lookup"><span data-stu-id="f8cfa-137">Uploading and Configuring the "Default" SSL Certificate</span></span>
<span data-ttu-id="f8cfa-138">Zodra de as ILB-omgeving is gemaakt, moet een SSL-certificaat worden gekoppeld aan het as-omgeving zoals 'standaard' SSL-certificaat voor SSL-verbindingen naar apps.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-138">Once the ILB ASE is created, an SSL certificate should be associated with the ASE as the "default" SSL certificate use for establishing SSL connections to apps.</span></span>  <span data-ttu-id="f8cfa-139">U doorgaat met het voorbeeld hypothetische Contoso Corporation als van de as-omgeving standaard DNS-achtervoegsel is *interne contoso.com*, klikt u vervolgens een verbinding met *https://some-random-app.internal-contoso.com* vereist een SSL-certificaat is geldig voor **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-139">Continuing with the hypothetical Contoso Corporation example, if the ASE's default DNS suffix is *internal-contoso.com*, then a connection to *https://some-random-app.internal-contoso.com* requires an SSL certificate that is valid for **.internal-contoso.com*.</span></span> 

<span data-ttu-id="f8cfa-140">Er zijn tal van manieren om een geldig SSL-certificaat waaronder interne CA's, het aanschaffen van een certificaat van een externe verlener en met behulp van een zelfondertekend certificaat verkrijgen.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-140">There are a variety of ways to obtain a valid SSL certificate including internal CAs, purchasing a certificate from an external issuer, and using a self-signed certificate.</span></span>  <span data-ttu-id="f8cfa-141">Ongeacht de bron van het SSL-certificaat moeten de volgende kenmerken van de certificaten correct worden geconfigureerd:</span><span class="sxs-lookup"><span data-stu-id="f8cfa-141">Regardless of the source of the SSL certificate, the following certificate attributes need to be configured properly:</span></span>

* <span data-ttu-id="f8cfa-142">*Onderwerp*: dit kenmerk moet worden ingesteld op **.your-hoofdmap-domain-here.com*</span><span class="sxs-lookup"><span data-stu-id="f8cfa-142">*Subject*:  This attribute must be set to **.your-root-domain-here.com*</span></span>
* <span data-ttu-id="f8cfa-143">*Alternatieve onderwerpnaam*: dit kenmerk moet bevatten beide **.your-hoofdmap-domain-here.com*, en **.scm.your-hoofdmap-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-143">*Subject Alternative Name*:  This attribute must include both **.your-root-domain-here.com*, and **.scm.your-root-domain-here.com*.</span></span>  <span data-ttu-id="f8cfa-144">De reden voor de tweede vermelding is dat SSL-verbindingen naar de SCM/Kudu-site die is gekoppeld aan elke app worden gemaakt met een adres van het formulier *your-app-name.scm.your-root-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-144">The reason for the second entry is that SSL connections to the SCM/Kudu site associated with each app will be made using an address of the form *your-app-name.scm.your-root-domain-here.com*.</span></span>

<span data-ttu-id="f8cfa-145">Met een geldig SSL-certificaat in de hand, worden twee aanvullende voorbereidende stappen uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-145">With a valid SSL certificate in hand, two additional preparatory steps are needed.</span></span>  <span data-ttu-id="f8cfa-146">Het SSL-certificaat moet worden geconverteerd en opgeslagen als een .pfx-bestand.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-146">The SSL certificate needs to be converted/saved as a .pfx file.</span></span>  <span data-ttu-id="f8cfa-147">Houd er rekening mee dat het .pfx-bestand moet alle tussenliggende bevatten en de hoofd-certificaten en ook moet worden beveiligd met een wachtwoord.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-147">Remember that the .pfx file needs to include all intermediate and root certificates, and also needs to be secured with a password.</span></span>

<span data-ttu-id="f8cfa-148">Het resulterende pfx-bestand moet worden geconverteerd naar een base64-tekenreeks omdat het SSL-certificaat worden geüpload met een Azure Resource Manager-sjabloon.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-148">Then the resultant .pfx file needs to be converted into a base64 string because the SSL certificate will be uploaded using an Azure Resource Manager template.</span></span>  <span data-ttu-id="f8cfa-149">Aangezien Azure Resource Manager-sjablonen tekstbestanden zijn, wordt het .pfx-bestand moet worden geconverteerd naar een base64-tekenreeks zodat deze opgenomen als een parameter van de sjabloon worden kan.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-149">Since Azure Resource Manager templates are text files, the .pfx file needs to be converted into a base64 string so it can be included as a parameter of the template.</span></span>

<span data-ttu-id="f8cfa-150">Het onderstaande codefragment Powershell toont een voorbeeld van een zelfondertekend certificaat genereren, exporteren van het certificaat als een .pfx-bestand voor het converteren van het pfx-bestand in een met base64-gecodeerde tekenreeks en vervolgens opslaan van het base64-gecodeerde tekenreeks naar een afzonderlijk bestand.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-150">The Powershell code snippet below shows an example of generating a self-signed certificate, exporting the certificate as a .pfx file, converting the .pfx file into a base64 encoded string, and then saving the base64 encoded string to a separate file.</span></span>  <span data-ttu-id="f8cfa-151">De Powershell-code voor base64-codering is gebaseerd op de [Powershell-Scripts Blog][examplebase64encoding].</span><span class="sxs-lookup"><span data-stu-id="f8cfa-151">The Powershell code for base64 encoding was adapted from the [Powershell Scripts Blog][examplebase64encoding].</span></span>

    $certificate = New-SelfSignedCertificate -certstorelocation cert:\localmachine\my -dnsname "*.internal-contoso.com","*.scm.internal-contoso.com"

    $certThumbprint = "cert:\localMachine\my\" + $certificate.Thumbprint
    $password = ConvertTo-SecureString -String "CHANGETHISPASSWORD" -Force -AsPlainText

    $fileName = "exportedcert.pfx"
    Export-PfxCertificate -cert $certThumbprint -FilePath $fileName -Password $password     

    $fileContentBytes = get-content -encoding byte $fileName
    $fileContentEncoded = [System.Convert]::ToBase64String($fileContentBytes)
    $fileContentEncoded | set-content ($fileName + ".b64")

<span data-ttu-id="f8cfa-152">Zodra het SSL-certificaat is is gegenereerd en geconverteerd naar een base64-gecodeerde tekenreeks, de sjabloon van de Azure Resource Manager voorbeeld op GitHub voor [het standaard SSL-certificaat configureren] [ configuringDefaultSSLCertificate] kan worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-152">Once the SSL certificate has been successfully generated and converted to a base64 encoded string, the example Azure Resource Manager template on GitHub for [configuring the default SSL certificate][configuringDefaultSSLCertificate] can be used.</span></span>

<span data-ttu-id="f8cfa-153">De parameters in de *azuredeploy.parameters.json* bestand worden hieronder weergegeven:</span><span class="sxs-lookup"><span data-stu-id="f8cfa-153">The parameters in the *azuredeploy.parameters.json* file are listed below:</span></span>

* <span data-ttu-id="f8cfa-154">*appServiceEnvironmentName*: de naam van de as ILB-omgeving wordt geconfigureerd.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-154">*appServiceEnvironmentName*:  The name of the ILB ASE being configured.</span></span>
* <span data-ttu-id="f8cfa-155">*existingAseLocation*: tekenreeks met de Azure-regio waar de as ILB-omgeving is geïmplementeerd.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-155">*existingAseLocation*:  Text string containing the Azure region where the ILB ASE was deployed.</span></span>  <span data-ttu-id="f8cfa-156">Bijvoorbeeld: 'Zuid-centraal VS'.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-156">For example:  "South Central US".</span></span>
* <span data-ttu-id="f8cfa-157">*pfxBlobString*: de based64 gecodeerd tekenreeksweergave van het pfx-bestand.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-157">*pfxBlobString*:  The based64 encoded string representation of the .pfx file.</span></span>  <span data-ttu-id="f8cfa-158">Met behulp van het bovenstaande codefragment, zou u de tekenreeks in 'exportedcert.pfx.b64' kopieert en plakt u deze in als de waarde van de *pfxBlobString* kenmerk.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-158">Using the code snippet shown earlier, you would copy the string contained in "exportedcert.pfx.b64" and paste it in as the value of the *pfxBlobString* attribute.</span></span>
* <span data-ttu-id="f8cfa-159">*wachtwoord*: het wachtwoord dat wordt gebruikt voor het beveiligen van het pfx-bestand.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-159">*password*:  The password used to secure the .pfx file.</span></span>
* <span data-ttu-id="f8cfa-160">*certificateThumbprint*: vingerafdruk van het certificaat.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-160">*certificateThumbprint*:  The certificate's thumbprint.</span></span>  <span data-ttu-id="f8cfa-161">Als u deze waarde wordt opgehaald uit Powershell (bijvoorbeeld *$certificate. Vingerafdruk* van het vorige codefragment), kunt u de waarde-is.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-161">If you retrieve this value from Powershell (e.g. *$certificate.Thumbprint* from the earlier code snippet), you can use the value as-is.</span></span>  <span data-ttu-id="f8cfa-162">Echter als u de waarde van het dialoogvenster Windows-certificaat kopieert, moet u het verwijderen van overbodige spaties.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-162">However if you copy the value from the Windows certificate dialog, remember to strip out the extraneous spaces.</span></span>  <span data-ttu-id="f8cfa-163">De *certificateThumbprint* moet als volgt uitzien: AF3143EB61D43F6727842115BB7F17BBCECAECAE</span><span class="sxs-lookup"><span data-stu-id="f8cfa-163">The *certificateThumbprint* should look something like:  AF3143EB61D43F6727842115BB7F17BBCECAECAE</span></span>
* <span data-ttu-id="f8cfa-164">*Certificaatnaam*: een beschrijvende tekenreeks-id van uw eigen keuze die worden gebruikt voor de identiteit van het certificaat.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-164">*certificateName*:  A friendly string identifier of your own choosing used to identity the certificate.</span></span>  <span data-ttu-id="f8cfa-165">De naam wordt gebruikt als onderdeel van de unieke id van de Azure Resource Manager voor de *Microsoft.Web/certificates* entiteit geeft het SSL-certificaat.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-165">The name is used as part of the unique Azure Resource Manager identifier for the *Microsoft.Web/certificates* entity representing the SSL certificate.</span></span>  <span data-ttu-id="f8cfa-166">De naam van de **moet** eindigen met het volgende achtervoegsel: \_yourASENameHere_InternalLoadBalancingASE.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-166">The name **must** end with the following suffix:  \_yourASENameHere_InternalLoadBalancingASE.</span></span>  <span data-ttu-id="f8cfa-167">Dit achtervoegsel wordt gebruikt door de portal als een indicatie dat het certificaat wordt gebruikt voor het beveiligen van een as ingeschakeld met een ILB-omgeving.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-167">This suffix is used by the portal as an indicator that the certificate is used for securing an ILB-enabled ASE.</span></span>

<span data-ttu-id="f8cfa-168">Een afgekorte voorbeeld van *azuredeploy.parameters.json* worden hieronder weergegeven:</span><span class="sxs-lookup"><span data-stu-id="f8cfa-168">An abbreviated example of *azuredeploy.parameters.json* is shown below:</span></span>

    {
         "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json",
         "contentVersion": "1.0.0.0",
         "parameters": {
              "appServiceEnvironmentName": {
                   "value": "yourASENameHere"
              },
              "existingAseLocation": {
                   "value": "East US 2"
              },
              "pfxBlobString": {
                   "value": "MIIKcAIBAz...snip...snip...pkCAgfQ"
              },
              "password": {
                   "value": "PASSWORDGOESHERE"
              },
              "certificateThumbprint": {
                   "value": "AF3143EB61D43F6727842115BB7F17BBCECAECAE"
              },
              "certificateName": {
                   "value": "DefaultCertificateFor_yourASENameHere_InternalLoadBalancingASE"
              }
         }
    }

<span data-ttu-id="f8cfa-169">Eenmaal de *azuredeploy.parameters.json* bestand is ingevuld, wordt het standaard SSL-certificaat kan worden geconfigureerd met het volgende Powershell-codefragment.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-169">Once the *azuredeploy.parameters.json* file has been filled in, the default SSL certificate can be configured using the following Powershell code snippet.</span></span>  <span data-ttu-id="f8cfa-170">Het bestand paden overeen waar de Azure Resource Manager-sjabloon-bestanden bevinden zich op uw computer te wijzigen.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-170">Change the file PATHs to match where the Azure Resource Manager template files are located on your machine.</span></span>  <span data-ttu-id="f8cfa-171">Ook moet u uw eigen waarden voor de naam van de Azure Resource Manager deployment en de naam van resourcegroep.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-171">Also remember to supply your own values for the Azure Resource Manager deployment name, and resource group name.</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="f8cfa-172">Nadat de Azure Resource Manager-sjabloon is ingediend dat het duurt ongeveer 40 minuten minuten per as-front-omgeving de wijziging toepassen.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-172">After the Azure Resource Manager template is submitted it will take roughly forty minutes minutes per ASE front-end to apply the change.</span></span>  <span data-ttu-id="f8cfa-173">Bijvoorbeeld, met een standaard aangepast as-omgeving met behulp van twee front-ends, duurt de sjabloon ongeveer één uur en 20 minuten om te voltooien.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-173">For example, with a default sized ASE using two front-ends, the template will take around one hour and twenty minutes to complete.</span></span>  <span data-ttu-id="f8cfa-174">Terwijl de sjabloon die wordt uitgevoerd de as-omgeving kan niet worden geschaald.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-174">While the template is running the ASE will not be able to scaled.</span></span>  

<span data-ttu-id="f8cfa-175">Nadat de sjabloon is voltooid, apps op de as ILB-omgeving kunnen worden geopend via HTTPS en de verbindingen worden beveiligd met het standaard SSL-certificaat.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-175">Once the template completes, apps on the ILB ASE can be accessed over HTTPS and the connections will be secured using the default SSL certificate.</span></span>  <span data-ttu-id="f8cfa-176">Het standaard SSL-certificaat wordt gebruikt wanneer de apps op de as ILB-omgeving met een combinatie van naam van de toepassing plus de hostnaam van de standaard worden aangepakt.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-176">The default SSL certificate will be used when apps on the ILB ASE are addressed using a combination of the application name plus the default hostname.</span></span>  <span data-ttu-id="f8cfa-177">Bijvoorbeeld *https://mycustomapp.internal-contoso.com* zou gebruiken de standaard SSL-certificaat voor **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-177">For example *https://mycustomapp.internal-contoso.com* would use the default SSL certificate for **.internal-contoso.com*.</span></span>

<span data-ttu-id="f8cfa-178">Echter, net als bij apps die worden uitgevoerd op de openbare multitenant-service, ontwikkelaars kunnen ook aangepaste hostnamen voor afzonderlijke apps configureren, en configureer vervolgens unieke SNI-SSL-certificaatbindingen voor afzonderlijke apps.</span><span class="sxs-lookup"><span data-stu-id="f8cfa-178">However, just like apps running on the public multi-tenant service, developers can also configure custom host names for individual apps, and then configure unique SNI SSL certificate bindings for individual apps.</span></span>  

## <a name="getting-started"></a><span data-ttu-id="f8cfa-179">Aan de slag</span><span class="sxs-lookup"><span data-stu-id="f8cfa-179">Getting started</span></span>
<span data-ttu-id="f8cfa-180">Om aan de slag met App Service-omgevingen, Zie [Inleiding tot de App Service-omgeving](app-service-app-service-environment-intro.md)</span><span class="sxs-lookup"><span data-stu-id="f8cfa-180">To get started with App Service Environments, see [Introduction to App Service Environment](app-service-app-service-environment-intro.md)</span></span>

<span data-ttu-id="f8cfa-181">Alle artikelen en hoe-aan de voor App Service-omgevingen zijn beschikbaar in de [Leesmij-bestand voor Toepassingsserviceomgevingen](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="f8cfa-181">All articles and How-To's for App Service Environments are available in the [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[quickstartilbasecreate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-create/
[examplebase64encoding]: http://powershellscripts.blogspot.com/2007/02/base64-encode-file.html 
[configuringDefaultSSLCertificate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl/ 

