---
title: Overzicht van de netwerkarchitectuur van App Service-omgevingen
description: Overzicht van de architectuur van netwerk-topologie ofApp Service-omgevingen.
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: 13d03a37-1fe2-4e3e-9d57-46dfb330ba52
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/04/2016
ms.author: stefsch
ms.openlocfilehash: b2afe86d8774b449a257312d4e60b5f6125336ca
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/11/2017
---
# <a name="network-architecture-overview-of-app-service-environments"></a><span data-ttu-id="8e3de-103">Overzicht van de netwerkarchitectuur van App Service-omgevingen</span><span class="sxs-lookup"><span data-stu-id="8e3de-103">Network Architecture Overview of App Service Environments</span></span>
## <a name="introduction"></a><span data-ttu-id="8e3de-104">Inleiding</span><span class="sxs-lookup"><span data-stu-id="8e3de-104">Introduction</span></span>
<span data-ttu-id="8e3de-105">App Service-omgevingen worden altijd gemaakt binnen een subnet van een [virtueel netwerk] [ virtualnetwork] -apps die worden uitgevoerd in een App Service-omgeving kunnen communiceren met de persoonlijke eindpunten zich binnen de virtuele netwerktopologie.</span><span class="sxs-lookup"><span data-stu-id="8e3de-105">App Service Environments are always created within a subnet of a [virtual network][virtualnetwork] - apps running in an App Service Environment can communicate with private endpoints located within the same virtual network topology.</span></span>  <span data-ttu-id="8e3de-106">Aangezien klanten delen van hun virtuele netwerkinfrastructuur vergrendelen kunnen, is het belangrijk om te begrijpen welke typen netwerk communicatie stromen die bij een App Service-omgeving optreden.</span><span class="sxs-lookup"><span data-stu-id="8e3de-106">Since customers may lock down parts of their virtual network infrastructure, it is important to understand the types of network communication flows that occur with an App Service Environment.</span></span>

## <a name="general-network-flow"></a><span data-ttu-id="8e3de-107">Algemene netwerk stroom</span><span class="sxs-lookup"><span data-stu-id="8e3de-107">General Network Flow</span></span>
<span data-ttu-id="8e3de-108">Wanneer een as-omgeving (App Service omgeving) een openbare virtuele IP-adres (VIP) voor apps gebruikt, worden alle binnenkomend verkeer binnenkomt op die openbare VIP.</span><span class="sxs-lookup"><span data-stu-id="8e3de-108">When an App Service Environment (ASE) uses a public virtual IP address (VIP) for apps, all inbound traffic arrives on that public VIP.</span></span>  <span data-ttu-id="8e3de-109">Dit omvat HTTP en HTTPS-verkeer voor apps, evenals het andere verkeer voor FTP-functionaliteit voor foutopsporing op afstand en Azure beheerbewerkingen.</span><span class="sxs-lookup"><span data-stu-id="8e3de-109">This includes HTTP and HTTPS traffic for apps, as well as other traffic for FTP, remote debugging functionality, and Azure management operations.</span></span>  <span data-ttu-id="8e3de-110">Zie het artikel op voor een volledige lijst van de specifieke poorten (vereiste en optionele) die beschikbaar op het openbare VIP zijn [binnenkomend verkeer te regelen] [ controllinginboundtraffic] naar een App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="8e3de-110">For a full list of the specific ports (both required and optional) that are available on the public VIP see the article on [controlling inbound traffic][controllinginboundtraffic] to an App Service Environment.</span></span> 

<span data-ttu-id="8e3de-111">App Service-omgevingen ondersteunen ook actief apps die afhankelijk zijn van alleen de interne adres van een virtueel netwerk, ook wel een ILB-adres (interne load balancer).</span><span class="sxs-lookup"><span data-stu-id="8e3de-111">App Service Environments also support running apps that are bound only to a virtual network internal address, also referred to as an ILB (internal load balancer) address.</span></span>  <span data-ttu-id="8e3de-112">Op een ILB ingeschakelde as-omgeving, HTTP en HTTPS-verkeer voor apps en externe foutopsporing oproepen, op het adres ILB binnenkomen.</span><span class="sxs-lookup"><span data-stu-id="8e3de-112">On an ILB enabled ASE, HTTP and HTTPS traffic for apps as well as remote debugging calls, arrive on the ILB address.</span></span>  <span data-ttu-id="8e3de-113">Voor de meest voorkomende configuraties ILB-as-omgeving aankomt FTP-/ FTPS-verkeer ook op het adres ILB.</span><span class="sxs-lookup"><span data-stu-id="8e3de-113">For most common ILB-ASE configurations, FTP/FTPS traffic will also arrive on the ILB address.</span></span>  <span data-ttu-id="8e3de-114">Azure beheerbewerkingen nog steeds worden overgebracht naar poorten 454/455 op het openbare VIP van een ILB ingeschakeld echter as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="8e3de-114">However Azure management operations will still flow to ports 454/455 on the public VIP of an ILB enabled ASE.</span></span>

<span data-ttu-id="8e3de-115">Het onderstaande diagram ziet u een overzicht van de verschillende binnenkomende en uitgaande tenantnetwerkstromen voor een App Service-omgeving waar de apps die zijn gebonden aan een openbare virtuele IP-adres:</span><span class="sxs-lookup"><span data-stu-id="8e3de-115">The diagram below shows an overview of the various inbound and outbound network flows for an App Service Environment where the apps are bound to a public virtual IP address:</span></span>

![Algemene Tenantnetwerkstromen][GeneralNetworkFlows]

<span data-ttu-id="8e3de-117">Een App Service-omgeving kunnen communiceren met tal van persoonlijke klant eindpunten.</span><span class="sxs-lookup"><span data-stu-id="8e3de-117">An App Service Environment can communicate with a variety of private customer endpoints.</span></span>  <span data-ttu-id="8e3de-118">Bijvoorbeeld: apps die worden uitgevoerd in App Service-omgeving kunnen verbinden met database server (s) die worden uitgevoerd op IaaS virtuele machines in de virtuele netwerktopologie.</span><span class="sxs-lookup"><span data-stu-id="8e3de-118">For example, apps running in the App Service Environment can connect to database server(s) running on IaaS virtual machines in the same virtual network topology.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="8e3de-119">Het netwerkdiagram bekijkt, de 'andere Compute Resources' worden geïmplementeerd in een ander Subnet uit de App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="8e3de-119">Looking at the network diagram, the "Other Compute Resources" are deployed in a different Subnet from the App Service Environment.</span></span> <span data-ttu-id="8e3de-120">Implementatie van resources in hetzelfde Subnet met de as-omgeving, wordt de verbinding tussen de as-omgeving en deze bronnen (met uitzondering van specifieke intra-as-omgeving routering) geblokkeerd.</span><span class="sxs-lookup"><span data-stu-id="8e3de-120">Deploying resources in the same Subnet with the ASE will block connectivity from ASE to those resources (except for specific intra-ASE routing).</span></span> <span data-ttu-id="8e3de-121">Implementeer in plaats daarvan op een ander Subnet (in hetzelfde VNET).</span><span class="sxs-lookup"><span data-stu-id="8e3de-121">Deploy to a different Subnet instead (in the same VNET).</span></span> <span data-ttu-id="8e3de-122">De App Service-omgeving zijn vervolgens verbinding kunnen maken.</span><span class="sxs-lookup"><span data-stu-id="8e3de-122">The App Service Environment will then be able to connect.</span></span> <span data-ttu-id="8e3de-123">Er is geen aanvullende configuratie nodig.</span><span class="sxs-lookup"><span data-stu-id="8e3de-123">No additional configuration is necessary.</span></span>
> 
> 

<span data-ttu-id="8e3de-124">App Service-omgevingen ook worden gecommuniceerd met Sql-database en Azure Storage bronnen nodig voor het beheren van en het gebruik van een App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="8e3de-124">App Service Environments also communicate with Sql DB and Azure Storage resources necessary for managing and operating an App Service Environment.</span></span>  <span data-ttu-id="8e3de-125">Sommige van de Sql- en Storage-resources die een App-serviceomgeving met communiceert bevinden zich in dezelfde regio bevinden als de App Service-omgeving, terwijl anderen bevinden zich in de externe Azure-regio's.</span><span class="sxs-lookup"><span data-stu-id="8e3de-125">Some of the Sql and Storage resources that an App Service Environment communicates with are located in the same region as the App Service Environment, while others are located in remote Azure regions.</span></span>  <span data-ttu-id="8e3de-126">Als gevolg hiervan is uitgaande verbinding met Internet altijd vereist voor een App Service-omgeving te laten functioneren.</span><span class="sxs-lookup"><span data-stu-id="8e3de-126">As a result, outbound connectivity to the Internet is always required for an App Service Environment to function properly.</span></span> 

<span data-ttu-id="8e3de-127">Aangezien een App Service-omgeving is geïmplementeerd in een subnet, kunnen netwerkbeveiligingsgroepen waarmee binnenkomend verkeer op het subnet worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="8e3de-127">Since an App Service Environment is deployed in a subnet, network security groups can be used to control inbound traffic to the subnet.</span></span>  <span data-ttu-id="8e3de-128">Zie voor meer informatie over het beheren van inkomend verkeer naar een App Service-omgeving de volgende [artikel][controllinginboundtraffic].</span><span class="sxs-lookup"><span data-stu-id="8e3de-128">For details on how to control inbound traffic to an App Service Environment, see the following [article][controllinginboundtraffic].</span></span>

<span data-ttu-id="8e3de-129">Zie voor meer informatie over het toestaan van uitgaande internetverbinding vanaf een App Service-omgeving het volgende artikel over het werken met [Express Route][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="8e3de-129">For details on how to allow outbound Internet connectivity from an App Service Environment, see the following article about working with [Express Route][ExpressRoute].</span></span>  <span data-ttu-id="8e3de-130">Dezelfde aanpak beschreven in het artikel is van toepassing als u werkt met Site-naar-Site-connectiviteit en gebruik van geforceerde tunneling.</span><span class="sxs-lookup"><span data-stu-id="8e3de-130">The same approach described in the article applies when working with Site-to-Site connectivity and using forced tunneling.</span></span>

## <a name="outbound-network-addresses"></a><span data-ttu-id="8e3de-131">Uitgaande netwerkadressen</span><span class="sxs-lookup"><span data-stu-id="8e3de-131">Outbound Network Addresses</span></span>
<span data-ttu-id="8e3de-132">Wanneer een App Service-omgeving uitgaande oproepen maakt, is een IP-adres altijd gekoppeld aan de uitgaande aanroepen.</span><span class="sxs-lookup"><span data-stu-id="8e3de-132">When an App Service Environment makes outbound calls, an IP Address is always associated with the outbound calls.</span></span>  <span data-ttu-id="8e3de-133">Het specifieke IP-adres dat wordt gebruikt, is afhankelijk van of het eindpunt wordt aangeroepen zich binnen de virtuele netwerktopologie of buiten de virtuele netwerktopologie bevindt.</span><span class="sxs-lookup"><span data-stu-id="8e3de-133">The specific IP address that is used depends on whether the endpoint being called is located within the virtual network topology, or outside of the virtual network topology.</span></span>

<span data-ttu-id="8e3de-134">Als het eindpunt wordt aangeroepen **buiten** van de virtuele netwerktopologie vervolgens het uitgaande adres (ook wel de uitgaande NAT-adres) dat wordt gebruikt is het openbare VIP van de App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="8e3de-134">If the endpoint being called is **outside** of the virtual network topology, then the outbound address (aka the outbound NAT address) that is used is the public VIP of the App Service Environment.</span></span>  <span data-ttu-id="8e3de-135">Dit adres vindt u in de gebruikersinterface van de portal voor de App Service-omgeving in eigenschappenblade.</span><span class="sxs-lookup"><span data-stu-id="8e3de-135">This address can be found in the portal user interface for the App Service Environment in Properties blade.</span></span>

![Uitgaande IP-adres][OutboundIPAddress]

<span data-ttu-id="8e3de-137">Dit adres kan ook worden bepaald voor ASEs waarvoor alleen openbare VIP door het maken van een app in App Service-omgeving en vervolgens uit te voeren een *nslookup* op adres van de app.</span><span class="sxs-lookup"><span data-stu-id="8e3de-137">This address can also be determined for ASEs that only have a public VIP by creating an app in the App Service Environment, and then performing an *nslookup* on the app's address.</span></span> <span data-ttu-id="8e3de-138">Het resulterende IP-adres is zowel het openbare VIP, evenals uitgaande NAT-adres van de App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="8e3de-138">The resultant IP address is both the public VIP, as well as the App Service Environment's outbound NAT address.</span></span>

<span data-ttu-id="8e3de-139">Als het eindpunt wordt aangeroepen **binnen** van de virtuele netwerktopologie het uitgaande adres van de aanroepende app worden de interne IP-adres van de afzonderlijke rekenbron uitvoeren van de app.</span><span class="sxs-lookup"><span data-stu-id="8e3de-139">If the endpoint being called is **inside** of the virtual network topology, the outbound address of the calling app will be the internal IP address of the individual compute resource running the app.</span></span>  <span data-ttu-id="8e3de-140">Er is echter geen permanente toewijzing van virtueel netwerk interne IP-adressen voor apps.</span><span class="sxs-lookup"><span data-stu-id="8e3de-140">However there is not a persistent mapping of virtual network internal IP addresses to apps.</span></span>  <span data-ttu-id="8e3de-141">Apps kunnen verplaatsen tussen verschillende rekenresources en de groep met beschikbare compute bronnen in een App Service-omgeving vanwege schalen bewerkingen kunnen wijzigen.</span><span class="sxs-lookup"><span data-stu-id="8e3de-141">Apps can move around across different compute resources, and the pool of available compute resources in an App Service Environment can change due to scaling operations.</span></span>

<span data-ttu-id="8e3de-142">Echter, omdat er nog steeds een App Service-omgeving zich in een subnet, wordt gegarandeerd dat het interne IP-adres van een berekeningsresource uitvoeren van een app altijd wordt liggen binnen het CIDR-bereik van het subnet.</span><span class="sxs-lookup"><span data-stu-id="8e3de-142">However, since an App Service Environment is always located within a subnet, you are guaranteed that the internal IP address of a compute resource running an app will always lie within the CIDR range of the subnet.</span></span>  <span data-ttu-id="8e3de-143">Als gevolg hiervan als fijnmazig ACL's of netwerkbeveiligingsgroepen worden gebruikt voor beveiligde toegang tot de andere eindpunten in het virtuele netwerk, moet het bereik van subnet met de App-serviceomgeving toegang te krijgen.</span><span class="sxs-lookup"><span data-stu-id="8e3de-143">As a result, when fine-grained ACLs or network security groups are used to secure access to other endpoints within the virtual network, the subnet range containing the App Service Environment needs to be granted access.</span></span>

<span data-ttu-id="8e3de-144">Het volgende diagram toont deze begrippen in meer detail:</span><span class="sxs-lookup"><span data-stu-id="8e3de-144">The following diagram shows these concepts in more detail:</span></span>

![Uitgaande netwerkadressen][OutboundNetworkAddresses]

<span data-ttu-id="8e3de-146">In het bovenstaande diagram:</span><span class="sxs-lookup"><span data-stu-id="8e3de-146">In the above diagram:</span></span>

* <span data-ttu-id="8e3de-147">Omdat het openbare VIP van de App-serviceomgeving 192.23.1.2, dat het uitgaande IP-adres gebruikt bij het aanroepen naar 'Internet' eindpunten is.</span><span class="sxs-lookup"><span data-stu-id="8e3de-147">Since the public VIP of the App Service Environment is 192.23.1.2, that is the outbound IP address used when making calls to "Internet" endpoints.</span></span>
* <span data-ttu-id="8e3de-148">De CIDR-bereik van het insluitende subnet voor de App-serviceomgeving is 10.0.1.0/26.</span><span class="sxs-lookup"><span data-stu-id="8e3de-148">The CIDR range of the containing subnet for the App Service Environment is 10.0.1.0/26.</span></span>  <span data-ttu-id="8e3de-149">Andere eindpunten in dezelfde virtuele-netwerkinfrastructuur ziet aanroepen vanuit apps als zijnde afkomstig van ergens binnen dit adresbereik.</span><span class="sxs-lookup"><span data-stu-id="8e3de-149">Other endpoints within the same virtual network infrastructure will see calls from apps as originating from somewhere within this address range.</span></span>

## <a name="calls-between-app-service-environments"></a><span data-ttu-id="8e3de-150">Aanroepen tussen App Service-omgevingen</span><span class="sxs-lookup"><span data-stu-id="8e3de-150">Calls Between App Service Environments</span></span>
<span data-ttu-id="8e3de-151">Een complexere kan gebeuren als u meerdere App Service-omgevingen in hetzelfde virtuele netwerk implementeert, en uitgaande aanroepen vanuit een App Service-omgeving naar een andere App Service-omgeving te maken.</span><span class="sxs-lookup"><span data-stu-id="8e3de-151">A more complex scenario can occur if you deploy multiple App Service Environments in the same virtual network, and make outbound calls from one App Service Environment to another App Service Environment.</span></span>  <span data-ttu-id="8e3de-152">Deze typen cross-App Service-omgeving aanroepen, ook worden behandeld als 'Internet' aanroepen.</span><span class="sxs-lookup"><span data-stu-id="8e3de-152">These types of cross App Service Environment calls will also be treated as "Internet" calls.</span></span>

<span data-ttu-id="8e3de-153">Het volgende diagram toont een voorbeeld van een gelaagde architectuur met apps op één App Service-omgeving (bijvoorbeeld) 'Voordeur' web-apps) voor het aanroepen van apps op een tweede App Service-omgeving (bijvoorbeeld interne back-end-API-apps niet moeten toegankelijk zijn vanaf Internet).</span><span class="sxs-lookup"><span data-stu-id="8e3de-153">The following diagram shows an example of a layered architecture with apps on one App Service Environment (e.g. "Front door" web apps) calling apps on a second App Service Environment (e.g. internal back-end API apps not intended to be accessible from the Internet).</span></span> 

![Aanroepen tussen App Service-omgevingen][CallsBetweenAppServiceEnvironments] 

<span data-ttu-id="8e3de-155">In het bovenstaande voorbeeld heeft de App-serviceomgeving 'As-omgeving een' een uitgaande IP-adres van 192.23.1.2.</span><span class="sxs-lookup"><span data-stu-id="8e3de-155">In the example above the App Service Environment "ASE One" has an outbound IP address of 192.23.1.2.</span></span>  <span data-ttu-id="8e3de-156">Als een app uitgevoerd op deze wordt App Service-omgeving maakt een uitgaande aanroep van een app uitgevoerd op een tweede App Service-omgeving ('as-omgeving twee') zich in hetzelfde virtuele netwerk, de uitgaande aanroep worden beschouwd als een aanroep van 'Internet'.</span><span class="sxs-lookup"><span data-stu-id="8e3de-156">If an app running on this App Service Environment makes an outbound call to an app running on a second App Service Environment ("ASE Two") located in the same virtual network, the outbound call will be treated as an "Internet" call.</span></span>  <span data-ttu-id="8e3de-157">Als gevolg hiervan het netwerkverkeer dat binnenkomt op de tweede App Service-omgeving wordt weergegeven als zijnde afkomstig van 192.23.1.2 (d.w.z. niet het subnet adresbereik van de eerste App Service-omgeving).</span><span class="sxs-lookup"><span data-stu-id="8e3de-157">As a result the network traffic arriving on the second App Service Environment will show as originating from 192.23.1.2 (i.e. not the subnet address range of the first App Service Environment).</span></span>

<span data-ttu-id="8e3de-158">Hoewel aanroepen tussen verschillende App Service-omgevingen worden behandeld als 'Internet'-aanroepen wanneer beide App Service-omgevingen bevinden zich in dezelfde Azure-regio wordt het netwerkverkeer blijft op de regionale Azure-netwerk en niet fysiek worden overgebracht via het openbare Internet.</span><span class="sxs-lookup"><span data-stu-id="8e3de-158">Even though calls between different App Service Environments are treated as "Internet" calls, when both App Service Environments are located in the same Azure region the network traffic will remain on the regional Azure network and will not physically flow over the public Internet.</span></span>  <span data-ttu-id="8e3de-159">Als gevolg hiervan kunt u een netwerkbeveiligingsgroep op het subnet van de tweede App Service-omgeving toe te staan dat inkomende aanroepen van de eerste App Service-omgeving (192.23.1.2 waarvan uitgaande IP-adres is), zodat een veilige communicatie tussen de App Service-omgevingen.</span><span class="sxs-lookup"><span data-stu-id="8e3de-159">As a result you can use a network security group on the subnet of the second App Service Environment to only allow inbound calls from the first App Service Environment (whose outbound IP address is 192.23.1.2), thus ensuring secure communication between the App Service Environments.</span></span>

## <a name="additional-links-and-information"></a><span data-ttu-id="8e3de-160">Aanvullende koppelingen en informatie</span><span class="sxs-lookup"><span data-stu-id="8e3de-160">Additional Links and Information</span></span>
<span data-ttu-id="8e3de-161">Alle artikelen en hoe-aan de voor App Service-omgevingen zijn beschikbaar in de [Leesmij-bestand voor Toepassingsserviceomgevingen](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="8e3de-161">All articles and How-To's for App Service Environments are available in the [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="8e3de-162">Meer informatie over binnenkomende poorten gebruikt door App Service-omgevingen en binnenkomend verkeer te beheren met behulp van netwerkbeveiligingsgroepen is beschikbaar [hier][controllinginboundtraffic].</span><span class="sxs-lookup"><span data-stu-id="8e3de-162">Details on inbound ports used by App Service Environments and using network security groups to control inbound traffic is available [here][controllinginboundtraffic].</span></span>

<span data-ttu-id="8e3de-163">Informatie over het gebruik van de gebruiker gedefinieerde routes toe te kennen uitgaande internettoegang tot de App Service-omgevingen zijn beschikbaar in deze [artikel][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="8e3de-163">Details on using user defined routes to grant outbound Internet access to App Service Environments is available in this [article][ExpressRoute].</span></span> 

<!-- LINKS -->
[virtualnetwork]: http://azure.microsoft.com/services/virtual-network/
[controllinginboundtraffic]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-control-inbound-traffic/
[ExpressRoute]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-network-configuration-expressroute/

<!-- IMAGES -->
[GeneralNetworkFlows]: ./media/app-service-app-service-environment-network-architecture-overview/NetworkOverview-1.png
[OutboundIPAddress]: ./media/app-service-app-service-environment-network-architecture-overview/OutboundIPAddress-1.png
[OutboundNetworkAddresses]: ./media/app-service-app-service-environment-network-architecture-overview/OutboundNetworkAddresses-1.png
[CallsBetweenAppServiceEnvironments]: ./media/app-service-app-service-environment-network-architecture-overview/CallsBetweenEnvironments-1.png

