---
title: aaaHow tooControl binnenkomend verkeer tooan App Service-omgeving
description: Meer informatie over hoe tooconfigure network security regels toocontrol inkomend verkeer tooan App Service-omgeving.
services: app-service
documentationcenter: 
author: ccompy
manager: erikre
editor: 
ms.assetid: 4cc82439-8791-48a4-9485-de6d8e1d1a08
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/11/2017
ms.author: stefsch
ms.openlocfilehash: e7c6e6201db6a1ea77f7a2eee29a3b5445175495
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="how-toocontrol-inbound-traffic-tooan-app-service-environment"></a><span data-ttu-id="a2a6d-103">Hoe tooControl binnenkomend verkeer tooan App Service-omgeving</span><span class="sxs-lookup"><span data-stu-id="a2a6d-103">How tooControl Inbound Traffic tooan App Service Environment</span></span>
## <a name="overview"></a><span data-ttu-id="a2a6d-104">Overzicht</span><span class="sxs-lookup"><span data-stu-id="a2a6d-104">Overview</span></span>
<span data-ttu-id="a2a6d-105">Een App Service-omgeving kunnen worden gemaakt in **beide** een virtueel netwerk van Azure Resource Manager, **of** een klassieke implementatiemodel [virtueel netwerk] [ virtualnetwork].</span><span class="sxs-lookup"><span data-stu-id="a2a6d-105">An App Service Environment can be created in **either** an Azure Resource Manager virtual network, **or** a classic deployment model [virtual network][virtualnetwork].</span></span>  <span data-ttu-id="a2a6d-106">Een nieuw virtueel netwerk en een nieuw subnet kunnen worden gedefinieerd op Hallo moment die een App Service-omgeving wordt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-106">A new virtual network and new subnet can be defined at hello time an App Service Environment is created.</span></span>  <span data-ttu-id="a2a6d-107">U kunt ook kunnen een App Service-omgeving worden gemaakt in een bestaand virtueel netwerk en de bestaande subnet.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-107">Alternatively, an App Service Environment can be created in a pre-existing virtual network and pre-existing subnet.</span></span>  <span data-ttu-id="a2a6d-108">Met een wijziging in juni 2016, worden ASEs ook ge√Ømplementeerd in virtuele netwerken die gebruikmaken van openbare-adresbereiken of RFC1918 adresruimten (dat wil zeggen particuliere adressen).</span><span class="sxs-lookup"><span data-stu-id="a2a6d-108">With a change made in June 2016, ASEs can also be deployed into virtual networks that use either public address ranges, or RFC1918 address spaces (i.e. private addresses).</span></span>  <span data-ttu-id="a2a6d-109">Zie voor meer informatie over het maken van een App-serviceomgeving [hoe tooCreate een App-serviceomgeving][HowToCreateAnAppServiceEnvironment].</span><span class="sxs-lookup"><span data-stu-id="a2a6d-109">For more details on creating an App Service Environment see [How tooCreate an App Service Environment][HowToCreateAnAppServiceEnvironment].</span></span>

<span data-ttu-id="a2a6d-110">Een App-serviceomgeving moet altijd worden gemaakt binnen een subnet omdat een subnet biedt een netwerkgrens bevindt die gebruikt toolock omlaag binnenkomend verkeer achter upstream netwerkapparaten en -services worden kan zodanig dat HTTP en HTTPS-verkeer alleen wordt geaccepteerd vanuit specifieke stroomopwaarts IP-adressen.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-110">An App Service Environment must always be created within a subnet because a subnet provides a network boundary which can be used toolock down inbound traffic behind upstream devices and services such that HTTP and HTTPS traffic is only accepted from specific upstream IP addresses.</span></span>

<span data-ttu-id="a2a6d-111">Binnenkomende en uitgaande netwerkverkeer op een subnet wordt beheerd met behulp van een [netwerkbeveiligingsgroep][NetworkSecurityGroups].</span><span class="sxs-lookup"><span data-stu-id="a2a6d-111">Inbound and outbound network traffic on a subnet is controlled using a [network security group][NetworkSecurityGroups].</span></span> <span data-ttu-id="a2a6d-112">Binnenkomend verkeer te beheren, moet netwerkbeveiligingsregels in een netwerkbeveiligingsgroep maken en vervolgens toewijzen Hallo network security groep Hallo subnet met Hallo App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-112">Controlling inbound traffic requires creating network security rules in a network security group, and then assigning hello network security group hello subnet containing hello App Service Environment.</span></span>

<span data-ttu-id="a2a6d-113">Zodra een netwerkbeveiligingsgroep is tooa subnet worden toegewezen, wordt binnenkomend verkeer tooapps in App Service-omgeving toegestaan/geblokkeerd op basis van Hallo is Hallo toestaan en weigeren van regels die zijn gedefinieerd in Hallo netwerkbeveiligingsgroep.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-113">Once a network security group is assigned tooa subnet, inbound traffic tooapps in hello App Service Environment is allowed/blocked based on hello allow and deny rules defined in hello network security group.</span></span>

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

## <a name="inbound-network-ports-used-in-an-app-service-environment"></a><span data-ttu-id="a2a6d-114">Inkomende netwerkpoorten worden gebruikt in een App Service-omgeving</span><span class="sxs-lookup"><span data-stu-id="a2a6d-114">Inbound Network Ports Used in an App Service Environment</span></span>
<span data-ttu-id="a2a6d-115">Voordat het vergrendelen van binnenkomend netwerkverkeer koppelen aan een netwerkbeveiligingsgroep is het belangrijk tooknow Hallo reeks vereiste en optionele netwerkpoorten die wordt gebruikt door een App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-115">Before locking down inbound network traffic with a network security group, it is important tooknow hello set of required and optional network ports used by an App Service Environment.</span></span>  <span data-ttu-id="a2a6d-116">Per ongeluk uit verkeer toosome poorten sluiten, kan dit leiden tot verlies aan functionaliteit in een App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-116">Accidentally closing off traffic toosome ports can result in loss of functionality in an App Service Environment.</span></span>

<span data-ttu-id="a2a6d-117">Hallo Hieronder volgt een lijst met poorten die worden gebruikt door een App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-117">hello following is a list of ports used by an App Service Environment.</span></span> <span data-ttu-id="a2a6d-118">Alle poorten zijn **TCP**, tenzij anders wordt duidelijk vermeld:</span><span class="sxs-lookup"><span data-stu-id="a2a6d-118">All ports are **TCP**, unless otherwise clearly noted:</span></span>

* <span data-ttu-id="a2a6d-119">454: **poort vereist** gebruikt door de Azure-infrastructuur voor het beheren en onderhouden van App Service-omgevingen met SSL-beveiliging.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-119">454:  **Required port** used by Azure infrastructure for managing and maintaining App Service Environments via SSL.</span></span>  <span data-ttu-id="a2a6d-120">Verkeer toothis poort niet blokkeren.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-120">Do not block traffic toothis port.</span></span>  <span data-ttu-id="a2a6d-121">Deze poort is altijd gebonden toohello openbare VIP van een as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-121">This port is always bound toohello public VIP of an ASE.</span></span>
* <span data-ttu-id="a2a6d-122">455: **poort vereist** gebruikt door de Azure-infrastructuur voor het beheren en onderhouden van App Service-omgevingen met SSL-beveiliging.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-122">455:  **Required port** used by Azure infrastructure for managing and maintaining App Service Environments via SSL.</span></span>  <span data-ttu-id="a2a6d-123">Verkeer toothis poort niet blokkeren.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-123">Do not block traffic toothis port.</span></span>  <span data-ttu-id="a2a6d-124">Deze poort is altijd gebonden toohello openbare VIP van een as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-124">This port is always bound toohello public VIP of an ASE.</span></span>
* <span data-ttu-id="a2a6d-125">80: standaard poort voor inkomende HTTP-verkeer tooapps uitgevoerd in App Service-plannen in een App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-125">80:  Default port for inbound HTTP traffic tooapps running in App Service Plans in an App Service Environment.</span></span>  <span data-ttu-id="a2a6d-126">Op een as ingeschakeld met een ILB-omgeving is deze poort gebonden toohello ILB adres Hallo as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-126">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="a2a6d-127">443: standaard poort voor inkomende SSL-verkeer tooapps uitgevoerd in App Service-plannen in een App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-127">443: Default port for inbound SSL traffic tooapps running in App Service Plans in an App Service Environment.</span></span>  <span data-ttu-id="a2a6d-128">Op een as ingeschakeld met een ILB-omgeving is deze poort gebonden toohello ILB adres Hallo as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-128">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="a2a6d-129">21: besturingskanaal voor FTP.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-129">21:  Control channel for FTP.</span></span>  <span data-ttu-id="a2a6d-130">Deze poort kan veilig worden geblokkeerd als FTP niet wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-130">This port can be safely blocked if FTP is not being used.</span></span>  <span data-ttu-id="a2a6d-131">Op een as ingeschakeld met een ILB-omgeving, kan deze poort worden gebonden toohello ILB adres voor een as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-131">On an ILB-enabled ASE, this port can be bound toohello ILB address for an ASE.</span></span>
* <span data-ttu-id="a2a6d-132">990: besturingskanaal voor FTPS.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-132">990:  Control channel for FTPS.</span></span>  <span data-ttu-id="a2a6d-133">Deze poort kan veilig worden geblokkeerd als FTPS niet wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-133">This port can be safely blocked if FTPS is not being used.</span></span>  <span data-ttu-id="a2a6d-134">Op een as ingeschakeld met een ILB-omgeving, kan deze poort worden gebonden toohello ILB adres voor een as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-134">On an ILB-enabled ASE, this port can be bound toohello ILB address for an ASE.</span></span>
* <span data-ttu-id="a2a6d-135">10001 10020: kanalen voor FTP-gegevens.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-135">10001-10020: Data channels for FTP.</span></span>  <span data-ttu-id="a2a6d-136">Als met besturingskanaal hello, kunnen deze poorten worden veilig geblokkeerd als FTP niet wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-136">As with hello control channel, these ports can be safely blocked if FTP is not being used.</span></span>  <span data-ttu-id="a2a6d-137">Op een as ingeschakeld met een ILB-omgeving, kan deze poort gebonden toohello as-omgeving van ILB adres zijn.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-137">On an ILB-enabled ASE, this port can be bound toohello ASE's ILB address.</span></span>
* <span data-ttu-id="a2a6d-138">4016: gebruikt voor foutopsporing op afstand met Visual Studio 2012.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-138">4016: Used for remote debugging with Visual Studio 2012.</span></span>  <span data-ttu-id="a2a6d-139">Deze poort kan veilig worden geblokkeerd als het Hallo-functie niet wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-139">This port can be safely blocked if hello feature is not being used.</span></span>  <span data-ttu-id="a2a6d-140">Op een as ingeschakeld met een ILB-omgeving is deze poort gebonden toohello ILB adres Hallo as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-140">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="a2a6d-141">4018: gebruikt voor foutopsporing op afstand met Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-141">4018: Used for remote debugging with Visual Studio 2013.</span></span>  <span data-ttu-id="a2a6d-142">Deze poort kan veilig worden geblokkeerd als het Hallo-functie niet wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-142">This port can be safely blocked if hello feature is not being used.</span></span>  <span data-ttu-id="a2a6d-143">Op een as ingeschakeld met een ILB-omgeving is deze poort gebonden toohello ILB adres Hallo as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-143">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="a2a6d-144">4020: gebruikt voor foutopsporing op afstand met Visual Studio 2015.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-144">4020: Used for remote debugging with Visual Studio 2015.</span></span>  <span data-ttu-id="a2a6d-145">Deze poort kan veilig worden geblokkeerd als het Hallo-functie niet wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-145">This port can be safely blocked if hello feature is not being used.</span></span>  <span data-ttu-id="a2a6d-146">Op een as ingeschakeld met een ILB-omgeving is deze poort gebonden toohello ILB adres Hallo as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-146">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>

## <a name="outbound-connectivity-and-dns-requirements"></a><span data-ttu-id="a2a6d-147">Uitgaande verbinding en DNS-vereisten</span><span class="sxs-lookup"><span data-stu-id="a2a6d-147">Outbound Connectivity and DNS Requirements</span></span>
<span data-ttu-id="a2a6d-148">Voor een App Service-omgeving toofunction correct, het is ook vereist uitgaande toegang toovarious eindpunten.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-148">For an App Service Environment toofunction properly, it also requires outbound access toovarious endpoints.</span></span> <span data-ttu-id="a2a6d-149">Een volledige lijst met externe Hallo-eindpunten die worden gebruikt door een as-omgeving zich in de sectie 'Netwerkverbinding vereist' Hallo Hallo [netwerkconfiguratie voor ExpressRoute](app-service-app-service-environment-network-configuration-expressroute.md#required-network-connectivity) artikel.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-149">A full list of hello external endpoints used by an ASE is in hello "Required Network Connectivity" section of hello [Network Configuration for ExpressRoute](app-service-app-service-environment-network-configuration-expressroute.md#required-network-connectivity) article.</span></span>

<span data-ttu-id="a2a6d-150">App Service-omgevingen moeten een geldige DNS-infrastructuur is geconfigureerd voor het virtuele netwerk Hallo.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-150">App Service Environments require a valid DNS infrastructure configured for hello virtual network.</span></span>  <span data-ttu-id="a2a6d-151">Als voor een Hallo reden worden DNS-configuratie is gewijzigd nadat een App-serviceomgeving is gemaakt, kunnen ontwikkelaars een App Service-omgeving toopick Hallo nieuwe DNS-configuratie van afdwingen.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-151">If for any reason hello DNS configuration is changed after an App Service Environment has been created, developers can force an App Service Environment toopick up hello new DNS configuration.</span></span>  <span data-ttu-id="a2a6d-152">Activering van rolling omgeving opgestart met behulp van Hallo pictogram "Restart" hello boven aan het Hallo-App Service-omgeving management blade in Hallo [Azure-portal] [ NewPortal] zullen Hallo omgeving toopick Hallo nieuwe DNS-configuratie.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-152">Triggering a rolling environment reboot using hello "Restart" icon located at hello top of hello App Service Environment management blade in hello [Azure portal][NewPortal] will cause hello environment toopick up hello new DNS configuration.</span></span>

<span data-ttu-id="a2a6d-153">Het is ook aanbevolen of aangepaste DNS-servers op Hallo vnet ingesteld voor tijd voorafgaande toocreating een App Service-omgeving worden.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-153">It is also recommended that any custom DNS servers on hello vnet be setup ahead of time prior toocreating an App Service Environment.</span></span>  <span data-ttu-id="a2a6d-154">Als een virtueel netwerk DNS-configuratie wordt gewijzigd terwijl een App Service-omgeving wordt gemaakt, wordt die leiden tot Hallo App Service-omgeving maken proces mislukken.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-154">If a virtual network's DNS configuration is changed while an App Service Environment is being created, that will result in hello App Service Environment creation process failing.</span></span>  <span data-ttu-id="a2a6d-155">Als een aangepaste DNS-server op Hallo bestaat is andere einde van een VPN-gateway en Hallo DNS-server in een vergelijkbare vein niet bereikbaar is of niet beschikbaar is, Hallo App Service-omgeving maakproces ook mislukken.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-155">In a similar vein, if a custom DNS server exists on hello other end of a VPN gateway, and hello DNS server is unreachable or unavailable, hello App Service Environment creation process will also fail.</span></span>

## <a name="creating-a-network-security-group"></a><span data-ttu-id="a2a6d-156">Een Netwerkbeveiligingsgroep maken</span><span class="sxs-lookup"><span data-stu-id="a2a6d-156">Creating a Network Security Group</span></span>
<span data-ttu-id="a2a6d-157">Volledige Raadpleeg voor informatie over hoe netwerk werk beveiligingsgroepen Hallo volgende [informatie][NetworkSecurityGroups].</span><span class="sxs-lookup"><span data-stu-id="a2a6d-157">For full details on how network security groups work see hello following [information][NetworkSecurityGroups].</span></span>  <span data-ttu-id="a2a6d-158">onderstaande verbeterd op Hallo Azure Service Management-voorbeeld illustreert van netwerkbeveiligingsgroepen en een focus over het configureren en toepassen van een security group tooa netwerksubnet waarin een App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-158">hello Azure Service Management example below touches on highlights of network security groups, with a focus on configuring and applying a network security group tooa subnet that contains an App Service Environment.</span></span>

<span data-ttu-id="a2a6d-159">**Opmerking:** netwerkbeveiligingsgroepen worden geconfigureerd met grafisch Hallo [Azure Portal](https://portal.azure.com) of via Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-159">**Note:** Network security groups can be configured graphically using hello [Azure Portal](https://portal.azure.com) or through Azure PowerShell.</span></span>

<span data-ttu-id="a2a6d-160">Netwerkbeveiligingsgroepen worden eerst gemaakt als een zelfstandige entiteit die is gekoppeld aan een abonnement.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-160">Network security groups are first created as a standalone entity associated with a subscription.</span></span> <span data-ttu-id="a2a6d-161">Aangezien netwerkbeveiligingsgroepen in een Azure-regio worden gemaakt, zorg ervoor dat die beveiligingsgroep Hallo-netwerk wordt gemaakt in Hallo dezelfde regio als Hallo App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-161">Since network security groups are created in an Azure region, ensure that hello network security group is created in hello same region as hello App Service Environment.</span></span>

<span data-ttu-id="a2a6d-162">Hallo hieronder ziet u een netwerkbeveiligingsgroep maken:</span><span class="sxs-lookup"><span data-stu-id="a2a6d-162">hello following demonstrates creating a network security group:</span></span>

    New-AzureNetworkSecurityGroup -Name "testNSGexample" -Location "South Central US" -Label "Example network security group for an app service environment"

<span data-ttu-id="a2a6d-163">Zodra een netwerkbeveiligingsgroep is gemaakt, worden een of meer netwerkbeveiligingsregels tooit toegevoegd.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-163">Once a network security group is created, one or more network security rules are added tooit.</span></span>  <span data-ttu-id="a2a6d-164">Aangezien Hallo reeks regels kan worden gewijzigd na verloop van tijd, wordt u aangeraden toospace uit Hallo nummering schema gebruikt voor regel prioriteiten toomake eenvoudig tooinsert extra regels gedurende een bepaalde periode.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-164">Since hello set of rules may change over time, it is recommended toospace out hello numbering scheme used for rule priorities toomake it easy tooinsert additional rules over time.</span></span>

<span data-ttu-id="a2a6d-165">Hallo in het volgende voorbeeld ziet u een regel die expliciet verleent toegang toohello management poorten die nodig is voor hello Azure-infrastructuur toomanage en onderhouden van een App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-165">hello example below shows a rule that explicitly grants access toohello management ports needed by hello Azure infrastructure toomanage and maintain an App Service Environment.</span></span>  <span data-ttu-id="a2a6d-166">Houd er rekening mee dat alle beheerverkeer via SSL loopt en wordt beveiligd door clientcertificaten, dus Hoewel Hallo poorten zijn geopend niet toegankelijk door een andere entiteit dan Azure beheerinfrastructuur zijn.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-166">Note that all management traffic flows over SSL and is secured by client certificates, so even though hello ports are opened they are inaccessible by any entity other than Azure management infrastructure.</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "ALLOW AzureMngmt" -Type Inbound -Priority 100 -Action Allow -SourceAddressPrefix 'INTERNET'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '454-455' -Protocol TCP


<span data-ttu-id="a2a6d-167">Wanneer vergrendelen toegang tooport 80 en 443 te 'verbergen' een App-serviceomgeving achter upstream apparaten of services, moet u tooknow Hallo upstream IP-adres.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-167">When locking down access tooport 80 and 443 too"hide" an App Service Environment behind upstream devices or services, you will need tooknow hello upstream IP address.</span></span>  <span data-ttu-id="a2a6d-168">Bijvoorbeeld, als u een web application firewall (WAF) gebruikt, Hallo WAF heeft een eigen IP-adres (of adressen) die worden gebruikt bij via een proxy verkeer tooa downstream-App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-168">For example, if you are using a web application firewall (WAF), hello WAF will have its own IP address (or addresses) which it uses when proxying traffic tooa downstream App Service Environment.</span></span>  <span data-ttu-id="a2a6d-169">U moet toouse dit IP-adres in Hallo *SourceAddressPrefix* parameter van een netwerkbeveiligingsregel.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-169">You will need toouse this IP address in hello *SourceAddressPrefix* parameter of a network security rule.</span></span>

<span data-ttu-id="a2a6d-170">In onderstaande Hallo voorbeeld, is inkomend verkeer van een specifiek IP-adres upstream expliciet toegestaan.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-170">In hello example below, inbound traffic from a specific upstream IP address is explicitly allowed.</span></span>  <span data-ttu-id="a2a6d-171">Hallo adres *1.2.3.4* wordt gebruikt als een tijdelijke aanduiding voor Hallo IP-adres van een upstream WAF.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-171">hello address *1.2.3.4* is used as a placeholder for hello IP address of an upstream WAF.</span></span>  <span data-ttu-id="a2a6d-172">Hallo waarde toomatch Hallo adres dat wordt gebruikt door een upstream-apparaat of de service wijzigen.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-172">Change hello value toomatch hello address used by your upstream device or service.</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT HTTP" -Type Inbound -Priority 200 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '80' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT HTTPS" -Type Inbound -Priority 300 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '443' -Protocol TCP

<span data-ttu-id="a2a6d-173">Als u FTP-ondersteuning, kan Hallo volgens de regels worden gebruikt als een sjabloon toogrant toohello FTP-besturingselement toegangspoort en gegevens channel-poorten.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-173">If FTP support is desired, hello following rules can be used as a template toogrant access toohello FTP control port and data channel ports.</span></span>  <span data-ttu-id="a2a6d-174">Omdat FTP een stateful protocol, mogelijk niet kunnen tooroute FTP-verkeer via een traditionele HTTP/HTTPS-firewall of proxyserver apparaat.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-174">Since FTP is a stateful protocol, you may not be able tooroute FTP traffic through a traditional HTTP/HTTPS firewall or proxy device.</span></span>  <span data-ttu-id="a2a6d-175">In dit geval moet u tooset hello *SourceAddressPrefix* tooa andere waarde - bijvoorbeeld Hallo IP-adresbereik van ontwikkelaars of implementatie machines op waarmee FTP-clients worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-175">In this case you will need tooset hello *SourceAddressPrefix* tooa different value - for example hello IP address range of developer or deployment machines on which FTP clients are running.</span></span> 

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT FTPCtrl" -Type Inbound -Priority 400 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '21' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT FTPDataRange" -Type Inbound -Priority 500 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '10001-10020' -Protocol TCP

<span data-ttu-id="a2a6d-176">(**Opmerking:** hello gegevenskanaalpoortbereik kan worden gewijzigd tijdens de evaluatieperiode Hallo.)</span><span class="sxs-lookup"><span data-stu-id="a2a6d-176">(**Note:**  hello data channel port range may change during hello preview period.)</span></span>

<span data-ttu-id="a2a6d-177">Als u foutopsporing op afstand met Visual Studio gebruikt, Hallo volgens de regels voor laten zien hoe toogrant toegang tot.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-177">If remote debugging with Visual Studio is used, hello following rules demonstrate how toogrant access.</span></span>  <span data-ttu-id="a2a6d-178">Er is een afzonderlijke regel voor elke ondersteunde versie van Visual Studio aangezien elke versie een andere poort voor foutopsporing op afstand gebruikt.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-178">There is a separate rule for each supported version of Visual Studio since each version uses a different port for remote debugging.</span></span>  <span data-ttu-id="a2a6d-179">Net zoals bij FTP-toegang mogelijk niet correct externe foutopsporing verkeer stromen via een traditionele WAF of de proxyapparaat.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-179">As with FTP access, remote debugging traffic may not flow properly through a traditional WAF or proxy device.</span></span>  <span data-ttu-id="a2a6d-180">Hallo *SourceAddressPrefix* kan in plaats daarvan toohello IP-adresbereik van Visual Studio developer machines worden ingesteld.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-180">hello *SourceAddressPrefix* can instead be set toohello IP address range of developer machines running Visual Studio.</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT RemoteDebuggingVS2012" -Type Inbound -Priority 600 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '4016' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT RemoteDebuggingVS2013" -Type Inbound -Priority 700 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '4018' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT RemoteDebuggingVS2015" -Type Inbound -Priority 800 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '4020' -Protocol TCP

## <a name="assigning-a-network-security-group-tooa-subnet"></a><span data-ttu-id="a2a6d-181">Een Netwerkbeveiligingsgroep tooa Subnet toewijzen</span><span class="sxs-lookup"><span data-stu-id="a2a6d-181">Assigning a Network Security Group tooa Subnet</span></span>
<span data-ttu-id="a2a6d-182">Een netwerkbeveiligingsgroep heeft een standaardbeveiligingsregel waarmee externe toegang tooall-verkeer.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-182">A network security group has a default security rule which denies access tooall external traffic.</span></span>  <span data-ttu-id="a2a6d-183">resultaat van het combineren van Hallo netwerkbeveiligingsregels hierboven beschreven, Hallo en Hallo standaardbeveiligingsregel inkomend verkeer blokkeert, wordt alleen verkeer van de bron-adresbereiken die zijn gekoppeld aan een *toestaan* actie kan worden toosend verkeer tooapps uitvoert in een App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-183">hello result from combining hello network security rules described above, and hello default security rule blocking inbound traffic, is that only traffic from source address ranges associated with an *Allow* action will be able toosend traffic tooapps running in an App Service Environment.</span></span>

<span data-ttu-id="a2a6d-184">Nadat een netwerkbeveiligingsgroep is gevuld met beveiligingsregels, moet deze toobe toegewezen toohello subnet met Hallo App Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-184">After a network security group is populated with security rules, it needs toobe assigned toohello subnet containing hello App Service Environment.</span></span>  <span data-ttu-id="a2a6d-185">Hallo toewijzing opdracht verwijst naar de naam van beide Hallo Hallo virtuele netwerk waarin Hallo App Service-omgeving zich bevindt, evenals de naam Hallo van Hallo subnet waar Hallo App Service-omgeving is gemaakt.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-185">hello assignment command references both hello name of hello virtual network where hello App Service Environment resides, as well as hello name of hello subnet where hello App Service Environment was created.</span></span>  

<span data-ttu-id="a2a6d-186">Hallo in het volgende voorbeeld ziet u een netwerkbeveiligingsgroep tooa subnet en virtueel netwerk worden toegewezen:</span><span class="sxs-lookup"><span data-stu-id="a2a6d-186">hello example below shows a network security group being assigned tooa subnet and virtual network:</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityGroupToSubnet -VirtualNetworkName 'testVNet' -SubnetName 'Subnet-test'

<span data-ttu-id="a2a6d-187">Zodra het Hallo network security groepstoewijzing is gelukt (Hallo-toewijzing is een langlopende bewerkingen en kan een paar minuten toocomplete), alleen inkomend verkeer die overeenkomt met *toestaan* regels wordt apps in App Hallo is bereikt Service-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-187">Once hello network security group assignment succeeds (hello assignment is a long-running operations and can take a few minutes toocomplete), only inbound traffic matching *Allow* rules will successfully reach apps in hello App Service Environment.</span></span>

<span data-ttu-id="a2a6d-188">Voor de volledigheid Hallo ziet volgende voorbeeld u hoe tooremove en dus DIS koppelen Hallo netwerkbeveiliging groep uit Hallo subnet:</span><span class="sxs-lookup"><span data-stu-id="a2a6d-188">For completeness hello following example shows how tooremove and thus dis-associate hello network security group from hello subnet:</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Remove-AzureNetworkSecurityGroupFromSubnet -VirtualNetworkName 'testVNet' -SubnetName 'Subnet-test'

## <a name="special-considerations-for-explicit-ip-ssl"></a><span data-ttu-id="a2a6d-189">Speciale overwegingen voor expliciete IP-SSL</span><span class="sxs-lookup"><span data-stu-id="a2a6d-189">Special Considerations for Explicit IP-SSL</span></span>
<span data-ttu-id="a2a6d-190">Als een app is geconfigureerd met een expliciete SSL IP-adres (toepasselijke *alleen* tooASEs waarvoor een openbare VIP), in plaats van Hallo standaard IP-adres van Hallo App Service-omgeving, HTTP en HTTPS-verkeer stroomt in Hallo subnet via een andere set van poorten dan de poorten 80 en 443.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-190">If an app is configured with an explicit IP-SSL address (applicable *only* tooASEs that have a public VIP), instead of using hello default IP address of hello App Service Environment, both HTTP and HTTPS traffic flows into hello subnet over a different set of ports other than ports 80 and 443.</span></span>

<span data-ttu-id="a2a6d-191">Hallo afzonderlijke set van poorten gebruikt door elk IP-SSL-adres vindt u in de portal gebruikersinterface Hallo Hallo App Service-omgeving van details UX-blade.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-191">hello individual pair of ports used by each IP-SSL address can be found in hello portal user interface from hello App Service Environment's details UX blade.</span></span>  <span data-ttu-id="a2a6d-192">Selecteer 'alle instellingen'--> 'IP-adressen'.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-192">Select "All settings" --> "IP addresses".</span></span>  <span data-ttu-id="a2a6d-193">Hallo 'IP-adressen' blade ziet u een tabel met alle expliciet geconfigureerd IP-SSL-adressen voor Hallo App Service-omgeving, samen met de Hallo speciale poort paar dat wordt gebruikt tooroute HTTP en HTTPS-verkeer met de bijbehorende IP-SSL.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-193">hello "IP addresses" blade shows a table of all explicitly configured IP-SSL addresses for hello App Service Environment, along with hello special port pair that is used tooroute HTTP and HTTPS traffic associated with each IP-SSL address.</span></span>  <span data-ttu-id="a2a6d-194">Deze poort paar die toobe voor Hallo DestinationPortRange parameters worden gebruikt bij het configureren van regels in een netwerkbeveiligingsgroep nodig is.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-194">It is this port pair that needs toobe used for hello DestinationPortRange parameters when configuring rules in a network security group.</span></span>

<span data-ttu-id="a2a6d-195">Wanneer een app op een as-omgeving geconfigureerde toouse IP-SSL is, is externe klanten niet zien en hoeft niet tooworry over speciale poorttoewijzing paar Hallo.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-195">When an app on an ASE is configured toouse IP-SSL, external customers will not see and do not need tooworry about hello special port pair mapping.</span></span>  <span data-ttu-id="a2a6d-196">Verkeer toohello apps stromen normaal toohello geconfigureerd SSL IP-adres.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-196">Traffic toohello apps will flow normally toohello configured IP-SSL address.</span></span>  <span data-ttu-id="a2a6d-197">Hallo vertaling toohello speciale poort paar automatisch uitgevoerd intern tijdens de laatste fase van het routeren van verkeer Hallo in Hallo subnet met Hallo as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="a2a6d-197">hello translation toohello special port pair automatically happens internally during hello final leg of routing traffic into hello subnet containing hello ASE.</span></span> 

## <a name="getting-started"></a><span data-ttu-id="a2a6d-198">Aan de slag</span><span class="sxs-lookup"><span data-stu-id="a2a6d-198">Getting started</span></span>
<span data-ttu-id="a2a6d-199">tooget de slag met App Service-omgevingen, Zie [inleiding tooApp Service-omgeving][IntroToAppServiceEnvironment]</span><span class="sxs-lookup"><span data-stu-id="a2a6d-199">tooget started with App Service Environments, see [Introduction tooApp Service Environment][IntroToAppServiceEnvironment]</span></span>

<span data-ttu-id="a2a6d-200">Alle artikelen en hoe-aan de voor App Service-omgevingen beschikbaar in Hallo zijn [Leesmij-bestand voor Toepassingsserviceomgevingen](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="a2a6d-200">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="a2a6d-201">Zie voor meer informatie over apps die gebruikmaken van veilig toobackend resource van een App-serviceomgeving [tooBackend resources veilig verbinding te maken van een App-serviceomgeving][SecurelyConnecttoBackend]</span><span class="sxs-lookup"><span data-stu-id="a2a6d-201">For details around apps securely connecting toobackend resource from an App Service Environment, see [Securely connecting tooBackend resources from an App Service Environment][SecurelyConnecttoBackend]</span></span>

<span data-ttu-id="a2a6d-202">Zie voor meer informatie over hello Azure App Service-platform, [Azure App Service][AzureAppService].</span><span class="sxs-lookup"><span data-stu-id="a2a6d-202">For more information about hello Azure App Service platform, see [Azure App Service][AzureAppService].</span></span>

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[virtualnetwork]: https://azure.microsoft.com/documentation/articles/virtual-networks-faq/
[HowToCreateAnAppServiceEnvironment]: http://azure.microsoft.com/documentation/articles/app-service-web-how-to-create-an-app-service-environment/
[NetworkSecurityGroups]: https://azure.microsoft.com/documentation/articles/virtual-networks-nsg/
[AzureAppService]: http://azure.microsoft.com/documentation/articles/app-service-value-prop-what-is/
[IntroToAppServiceEnvironment]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-intro/
[SecurelyConnecttoBackend]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-securely-connecting-to-backend-resources/
[NewPortal]:  https://portal.azure.com  

<!-- IMAGES -->

