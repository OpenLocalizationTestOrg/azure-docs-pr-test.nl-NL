---
title: Best practices en gids voor probleemoplossing voor knooppunt toepassingen op Azure-Web-Apps
description: Informatie over de aanbevolen procedures en stappen voor probleemoplossing voor knooppunt toepassingen op Azure-Web-Apps.
services: app-service\web
documentationcenter: nodejs
author: ranjithr
manager: wadeh
editor: 
ms.assetid: 387ea217-7910-4468-8987-9a1022a99bef
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 06/06/2016
ms.author: ranjithr
ms.openlocfilehash: d820ef3438e13332657641b06b57fa277e79f811
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/29/2017
---
# <a name="best-practices-and-troubleshooting-guide-for-node-applications-on-azure-web-apps"></a><span data-ttu-id="4eadc-103">Best practices en gids voor probleemoplossing voor knooppunt toepassingen op Azure-Web-Apps</span><span class="sxs-lookup"><span data-stu-id="4eadc-103">Best practices and troubleshooting guide for node applications on Azure Web Apps</span></span>
[!INCLUDE [tabs](../../includes/app-service-web-get-started-nav-tabs.md)]

<span data-ttu-id="4eadc-104">In dit artikel leert u de aanbevolen procedures en de stappen voor probleemoplossing voor [knooppunt toepassingen](app-service-web-get-started-nodejs.md) uitgevoerd op Azure Webapps (met [iisnode](https://github.com/azure/iisnode)).</span><span class="sxs-lookup"><span data-stu-id="4eadc-104">In this article, you will learn the best practices and troubleshooting steps for [node applications](app-service-web-get-started-nodejs.md) running on Azure Webapps (with [iisnode](https://github.com/azure/iisnode)).</span></span>

> [!WARNING]
> <span data-ttu-id="4eadc-105">Wees voorzichtig wanneer u stappen op uw productiesite.</span><span class="sxs-lookup"><span data-stu-id="4eadc-105">Use caution when using troubleshooting steps on your production site.</span></span> <span data-ttu-id="4eadc-106">U wordt aangeraden voor het oplossen van uw app voor de installatie van een niet-productieve bijvoorbeeld uw faseringssleuf gewisseld wanneer het probleem wordt opgelost, de faseringssleuf met uw productiesite wisselen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-106">Recommendation is to troubleshoot your app on a non-production setup for example your staging slot and when the issue is fixed, swap your staging slot with your production slot.</span></span>
> 
> 

## <a name="iisnode-configuration"></a><span data-ttu-id="4eadc-107">IISNODE-configuratie</span><span class="sxs-lookup"><span data-stu-id="4eadc-107">IISNODE configuration</span></span>
<span data-ttu-id="4eadc-108">Dit [schemabestand](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) ziet u de instellingen die kunnen worden geconfigureerd voor iisnode.</span><span class="sxs-lookup"><span data-stu-id="4eadc-108">This [schema file](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) shows all the settings that can be configured for iisnode.</span></span> <span data-ttu-id="4eadc-109">Enkele van de instellingen die handig als uw toepassing zijn zijn:</span><span class="sxs-lookup"><span data-stu-id="4eadc-109">Some of the settings that will be useful for your application are:</span></span>

* <span data-ttu-id="4eadc-110">nodeProcessCountPerApplication</span><span class="sxs-lookup"><span data-stu-id="4eadc-110">nodeProcessCountPerApplication</span></span>
  
    <span data-ttu-id="4eadc-111">Deze instelling bepaalt het aantal knooppunt processen die per IIS-toepassing worden gestart.</span><span class="sxs-lookup"><span data-stu-id="4eadc-111">This setting controls the number of node processes that are launched per IIS application.</span></span> <span data-ttu-id="4eadc-112">Standaardwaarde is 1.</span><span class="sxs-lookup"><span data-stu-id="4eadc-112">Default value is 1.</span></span> <span data-ttu-id="4eadc-113">U kunt zoveel node.exe als uw VM core-telling starten door in te stellen op 0.</span><span class="sxs-lookup"><span data-stu-id="4eadc-113">You can launch as many node.exe’s as your VM core count by setting this to 0.</span></span> <span data-ttu-id="4eadc-114">Aanbevolen waarde is 0 voor de meeste toepassing zodat u van alle van de kernen op uw computer gebruikmaken kunt.</span><span class="sxs-lookup"><span data-stu-id="4eadc-114">Recommended value is 0 for most application so you can utilize all of the cores on your machine.</span></span> <span data-ttu-id="4eadc-115">Node.exe is één thread, zodat één node.exe een maximum van 1 core en voor maximale prestaties buiten uw knooppunttoepassing die u wilt gebruikmaken van alle kernen verbruikt.</span><span class="sxs-lookup"><span data-stu-id="4eadc-115">Node.exe is single threaded so one node.exe will consume a maximum of 1 core and to get maximum performance out of your node application you would want to utilize all cores.</span></span>
* <span data-ttu-id="4eadc-116">nodeProcessCommandLine</span><span class="sxs-lookup"><span data-stu-id="4eadc-116">nodeProcessCommandLine</span></span>
  
    <span data-ttu-id="4eadc-117">Deze instelling bepaalt het pad naar de node.exe.</span><span class="sxs-lookup"><span data-stu-id="4eadc-117">This setting controls the path to the node.exe.</span></span> <span data-ttu-id="4eadc-118">U kunt deze waarde om te verwijzen naar uw versie node.exe instellen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-118">You can set this value to point to your node.exe version.</span></span>
* <span data-ttu-id="4eadc-119">maxConcurrentRequestsPerProcess</span><span class="sxs-lookup"><span data-stu-id="4eadc-119">maxConcurrentRequestsPerProcess</span></span>
  
    <span data-ttu-id="4eadc-120">Deze instelling bepaalt het maximum aantal gelijktijdige aanvragen door iisnode naar elke node.exe verzonden.</span><span class="sxs-lookup"><span data-stu-id="4eadc-120">This setting controls the maximum number of concurrent requests sent by iisnode to each node.exe.</span></span> <span data-ttu-id="4eadc-121">Op azure webapps is de standaardwaarde voor deze oneindig.</span><span class="sxs-lookup"><span data-stu-id="4eadc-121">On azure webapps, the default value for this is Infinite.</span></span> <span data-ttu-id="4eadc-122">U geen zorgen te hoeven maken over deze instelling.</span><span class="sxs-lookup"><span data-stu-id="4eadc-122">You will not have to worry about this setting.</span></span> <span data-ttu-id="4eadc-123">De standaardwaarde is buiten azure webapps 1024.</span><span class="sxs-lookup"><span data-stu-id="4eadc-123">Outside azure webapps, the default value is 1024.</span></span> <span data-ttu-id="4eadc-124">Mogelijk wilt dit wilt configureren, afhankelijk van hoeveel aanvragen opgehaald voor uw toepassing en hoe snel elke aanvraag wordt verwerkt door uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="4eadc-124">You might want to configure this depending on how many requests your application gets and how fast your application processes each request.</span></span>
* <span data-ttu-id="4eadc-125">maxNamedPipeConnectionRetry</span><span class="sxs-lookup"><span data-stu-id="4eadc-125">maxNamedPipeConnectionRetry</span></span>
  
    <span data-ttu-id="4eadc-126">Deze instelling bepaalt het maximum aantal keren iisnode aanbrengen verbinding op de named pipe in de aanvraag probeert via naar node.exe verzonden.</span><span class="sxs-lookup"><span data-stu-id="4eadc-126">This setting controls the maximum number of times iisnode will retry making connection on the named pipe to send the request over to node.exe.</span></span> <span data-ttu-id="4eadc-127">Deze instelling in combinatie met namedPipeConnectionRetryDelay bepaalt de totale time van elke aanvraag binnen iisnode.</span><span class="sxs-lookup"><span data-stu-id="4eadc-127">This setting in combination with namedPipeConnectionRetryDelay determines the total timeout of each request within iisnode.</span></span> <span data-ttu-id="4eadc-128">Standaardwaarde is 200 op Azure Webapps.</span><span class="sxs-lookup"><span data-stu-id="4eadc-128">Default value is 200 on Azure Webapps.</span></span> <span data-ttu-id="4eadc-129">Totaal aantal time-out in seconden = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="4eadc-129">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
* <span data-ttu-id="4eadc-130">namedPipeConnectionRetryDelay</span><span class="sxs-lookup"><span data-stu-id="4eadc-130">namedPipeConnectionRetryDelay</span></span>
  
    <span data-ttu-id="4eadc-131">Deze instelling bepaalt u de hoeveelheid tijd (in ms) iisnode wacht tussen nieuwe pogingen aanvraag verzenden naar node.exe via de named pipe.</span><span class="sxs-lookup"><span data-stu-id="4eadc-131">This setting controls the amount of time (in ms) iisnode will wait for between each retry to send request to node.exe over the named pipe.</span></span> <span data-ttu-id="4eadc-132">Standaardwaarde is 250ms.</span><span class="sxs-lookup"><span data-stu-id="4eadc-132">Default value is 250ms.</span></span>
    <span data-ttu-id="4eadc-133">Totaal aantal time-out in seconden = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="4eadc-133">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
  
    <span data-ttu-id="4eadc-134">Standaard is de totale time-out in iisnode op azure webapps 200 \* 250ms = 50 seconden.</span><span class="sxs-lookup"><span data-stu-id="4eadc-134">By default the total timeout in iisnode on azure webapps is 200 \* 250ms = 50 seconds.</span></span>
* <span data-ttu-id="4eadc-135">logDirectory</span><span class="sxs-lookup"><span data-stu-id="4eadc-135">logDirectory</span></span>
  
    <span data-ttu-id="4eadc-136">Deze instelling bepaalt de map waar iisnode stdout/stderr worden geregistreerd.</span><span class="sxs-lookup"><span data-stu-id="4eadc-136">This setting controls the directory where iisnode will log stdout/stderr.</span></span> <span data-ttu-id="4eadc-137">Standaardwaarde is iisnode die ten opzichte van de belangrijkste script-map (directory waarin de belangrijkste server.js aanwezig is)</span><span class="sxs-lookup"><span data-stu-id="4eadc-137">Default value is iisnode which is relative to the main script directory (directory where main server.js is present)</span></span>
* <span data-ttu-id="4eadc-138">debuggerExtensionDll</span><span class="sxs-lookup"><span data-stu-id="4eadc-138">debuggerExtensionDll</span></span>
  
    <span data-ttu-id="4eadc-139">Deze instelling bepaalt welke versie van de iisnode knooppunt-inspector wordt gebruikt als u fouten opspoort in uw knooppunttoepassing.</span><span class="sxs-lookup"><span data-stu-id="4eadc-139">This setting controls what version of node-inspector iisnode will use when debugging your node application.</span></span> <span data-ttu-id="4eadc-140">Iisnode-inspector-0.7.3.dll en iisnode inspector.dll zijn momenteel alleen 2 geldige waarden voor deze instelling.</span><span class="sxs-lookup"><span data-stu-id="4eadc-140">Currently iisnode-inspector-0.7.3.dll and iisnode-inspector.dll are the only 2 valid values for this setting.</span></span> <span data-ttu-id="4eadc-141">Standaardwaarde is iisnode-inspector-0.7.3.dll.</span><span class="sxs-lookup"><span data-stu-id="4eadc-141">Default value is iisnode-inspector-0.7.3.dll.</span></span> <span data-ttu-id="4eadc-142">versie van de iisnode-inspector-0.7.3.dll knooppunt-inspector-0.7.3 en gebruikt websockets, dus u inschakelen websockets op uw azure webapp moet voor gebruik van deze versie.</span><span class="sxs-lookup"><span data-stu-id="4eadc-142">iisnode-inspector-0.7.3.dll version uses node-inspector-0.7.3 and uses websockets, so you will need to enable websockets on your azure webapp to use this version.</span></span> <span data-ttu-id="4eadc-143">Zie <http://www.ranjithr.com/?p=98> voor meer informatie over het configureren van iisnode voor het gebruik van het nieuwe knooppunt-inspector.</span><span class="sxs-lookup"><span data-stu-id="4eadc-143">See <http://www.ranjithr.com/?p=98> for more details on how to configure iisnode to use the new node-inspector.</span></span>
* <span data-ttu-id="4eadc-144">flushResponse</span><span class="sxs-lookup"><span data-stu-id="4eadc-144">flushResponse</span></span>
  
    <span data-ttu-id="4eadc-145">Het standaardgedrag van IIS is dat deze antwoordgegevens buffert up tot 4MB voordat of tot het einde van het antwoord, afhankelijk van wat zich het eerste voordoet.</span><span class="sxs-lookup"><span data-stu-id="4eadc-145">The default behavior of IIS is that it buffers response data up to 4MB before flushing, or until the end of the response, whichever comes first.</span></span> <span data-ttu-id="4eadc-146">iisnode biedt een configuratie-instelling voor het onderdrukken van dit gedrag: een fragment van de entiteit antwoordtekst leeggemaakt zodra iisnode deze van node.exe ontvangt, moet u de iisnode/@flushResponse kenmerk in het bestand web.config op 'true':</span><span class="sxs-lookup"><span data-stu-id="4eadc-146">iisnode offers a configuration setting to override this behavior: to flush a fragment of the response entity body as soon as iisnode receives it from node.exe, you need to set the iisnode/@flushResponse attribute in web.config to 'true':</span></span>
  
    ```
    <configuration>    
        <system.webServer>    
            <!-- ... -->    
            <iisnode flushResponse="true" />    
        </system.webServer>    
    </configuration>
    ```
  
    <span data-ttu-id="4eadc-147">Inschakelen van domeincontrollerlocaties leeg van elke fragment van de entiteit antwoordtekst beïnvloedt de systeemprestaties die de doorvoer van het systeem vermindert ~ 5% (vanaf v0.1.13), is het verstandig als bereik voor deze instelling alleen voor eindpunten waarvoor antwoord streaming (bijvoorbeeld met de <location> -element in het bestand web.config)</span><span class="sxs-lookup"><span data-stu-id="4eadc-147">Enabling flushing of every fragment of the response entity body adds performance overhead that reduces the throughput of the system by ~5% (as of v0.1.13), so it is best to scope this setting only to endpoints that require response streaming (e.g. using the <location> element in the web.config)</span></span>
  
    <span data-ttu-id="4eadc-148">Hiernaast moet voor streaming van toepassingen, u ook responseBufferLimit van uw iisnode-handler ingesteld op 0.</span><span class="sxs-lookup"><span data-stu-id="4eadc-148">In addition to this, for streaming applications, you will need to also set responseBufferLimit of your iisnode handler to 0.</span></span>
  
    ```
    <handlers>    
        <add name="iisnode" path="app.js" verb="\*" modules="iisnode" responseBufferLimit="0"/>    
    </handlers>
    ```
* <span data-ttu-id="4eadc-149">watchedFiles</span><span class="sxs-lookup"><span data-stu-id="4eadc-149">watchedFiles</span></span>
  
    <span data-ttu-id="4eadc-150">Dit is een puntkomma's gescheiden lijst met bestanden die zal worden gecontroleerd op wijzigingen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-150">This is a semi-colon separated list of files that will be watched for changes.</span></span> <span data-ttu-id="4eadc-151">Een wijziging in een bestand zorgt ervoor dat de toepassing te recyclen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-151">A change to a file causes the application to recycle.</span></span> <span data-ttu-id="4eadc-152">Elke vermelding bestaat uit een optionele mapnaam plus de vereiste bestandsnaam die zijn ten opzichte van de map waar het hoofdvenster van de toepassing toegangspunt dat zich bevindt.</span><span class="sxs-lookup"><span data-stu-id="4eadc-152">Each entry consists of an optional directory name plus required file name which are relative to the directory where the main application entry point is located.</span></span> <span data-ttu-id="4eadc-153">Jokertekens zijn toegestaan in het bestand alleen naamgedeelte.</span><span class="sxs-lookup"><span data-stu-id="4eadc-153">Wild cards are allowed in the file name portion only.</span></span> <span data-ttu-id="4eadc-154">Standaardwaarde is "\*. js;web.config '</span><span class="sxs-lookup"><span data-stu-id="4eadc-154">Default value is “\*.js;web.config”</span></span>
* <span data-ttu-id="4eadc-155">recycleSignalEnabled</span><span class="sxs-lookup"><span data-stu-id="4eadc-155">recycleSignalEnabled</span></span>
  
    <span data-ttu-id="4eadc-156">Standaard is ingesteld op false.</span><span class="sxs-lookup"><span data-stu-id="4eadc-156">Default value is false.</span></span> <span data-ttu-id="4eadc-157">Bij inschakeling uw knooppunttoepassing verbinding kan maken met een named pipe (omgevingsvariabele IISNODE\_BESTURINGSELEMENT\_PIPE) en een 'recyclen van'-bericht te verzenden.</span><span class="sxs-lookup"><span data-stu-id="4eadc-157">If enabled, your node application can connect to a named pipe (environment variable IISNODE\_CONTROL\_PIPE) and send a “recycle” message.</span></span> <span data-ttu-id="4eadc-158">Hierdoor wordt het w3wp wilt recyclen probleemloos.</span><span class="sxs-lookup"><span data-stu-id="4eadc-158">This will cause the w3wp to recycle gracefully.</span></span>
* <span data-ttu-id="4eadc-159">idlePageOutTimePeriod</span><span class="sxs-lookup"><span data-stu-id="4eadc-159">idlePageOutTimePeriod</span></span>
  
    <span data-ttu-id="4eadc-160">Standaardwaarde is 0, wat betekent dat deze functie is uitgeschakeld.</span><span class="sxs-lookup"><span data-stu-id="4eadc-160">Default value is 0 which means this feature is disabled.</span></span> <span data-ttu-id="4eadc-161">Als de waarde voor een bepaalde waarde groter dan 0, iisnode wordt de pagina uit alle onderliggende processen elke milliseconden 'idlePageOutTimePeriod'.</span><span class="sxs-lookup"><span data-stu-id="4eadc-161">When set to some value greater than 0, iisnode will page out all its child processes every ‘idlePageOutTimePeriod’ milliseconds.</span></span> <span data-ttu-id="4eadc-162">Om te begrijpen wat pagina out betekent, raadpleegt u dit [documentatie](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span><span class="sxs-lookup"><span data-stu-id="4eadc-162">To understand what page out means, please refer to this [documentation](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span></span> <span data-ttu-id="4eadc-163">Deze instelling is nuttig voor toepassingen die veel geheugen in beslag nemen en pageout geheugen op schijf zo nu en dan wilt vrijmaken RAM-geheugen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-163">This setting will be useful for applications that consume a lot of memory and want to pageout memory to disk occasionally to free up some RAM.</span></span>

> [!WARNING]
> <span data-ttu-id="4eadc-164">Wees voorzichtig bij het inschakelen van de volgende configuratie-instellingen voor productietoepassingen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-164">Use caution when enabling the following configuration settings on production applications.</span></span> <span data-ttu-id="4eadc-165">Aanbevolen wordt deze niet inschakelen voor live productietoepassingen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-165">Recommendation is to not enable them on live production applications.</span></span>
> 
> 

* <span data-ttu-id="4eadc-166">debugHeaderEnabled</span><span class="sxs-lookup"><span data-stu-id="4eadc-166">debugHeaderEnabled</span></span>
  
    <span data-ttu-id="4eadc-167">De standaardwaarde is ingesteld op false.</span><span class="sxs-lookup"><span data-stu-id="4eadc-167">The default value is false.</span></span> <span data-ttu-id="4eadc-168">Als is ingesteld op true, iisnode een HTTP-antwoord header iisnode-debug toegevoegd aan elke HTTP-antwoord wordt verzonden de waarde van de iisnode-debug-header is een URL.</span><span class="sxs-lookup"><span data-stu-id="4eadc-168">If set to true, iisnode will add an HTTP response header iisnode-debug to every HTTP response it sends the iisnode-debug header value is a URL.</span></span> <span data-ttu-id="4eadc-169">Afzonderlijke stukjes diagnostische gegevens door te kijken-fragment van de URL kunnen worden achterhaald, maar een veel betere visualisatie wordt bereikt door het openen van de URL in de browser.</span><span class="sxs-lookup"><span data-stu-id="4eadc-169">Individual pieces of diagnostic information can be gleaned by looking at the URL fragment, but a much better visualization is achieved by opening the URL in the browser.</span></span>
* <span data-ttu-id="4eadc-170">loggingEnabled</span><span class="sxs-lookup"><span data-stu-id="4eadc-170">loggingEnabled</span></span>
  
    <span data-ttu-id="4eadc-171">Deze instelling bepaalt de logboekregistratie van stdout en stderr door iisnode.</span><span class="sxs-lookup"><span data-stu-id="4eadc-171">This setting controls the logging of stdout and stderr by iisnode.</span></span> <span data-ttu-id="4eadc-172">Iisnode wordt stdout/stderr van knooppunt processen wordt het vastleggen en schrijven naar de map die is opgegeven in de instelling 'logDirectory'.</span><span class="sxs-lookup"><span data-stu-id="4eadc-172">Iisnode will capture stdout/stderr from node processes it launches and write to the directory specified in the ‘logDirectory’ setting.</span></span> <span data-ttu-id="4eadc-173">Zodra dit is ingeschakeld, wordt uw toepassing wordt logboeken worden geschreven naar het bestandssysteem en afhankelijk van de hoeveelheid logboekregistratie gedaan door de toepassing, kan er prestatie van netwerkbestandsscenario.</span><span class="sxs-lookup"><span data-stu-id="4eadc-173">Once this is enable, your application will be writing logs to the file system and depending on the amount of logging done by the application, there could be performance implications.</span></span>
* <span data-ttu-id="4eadc-174">devErrorsEnabled</span><span class="sxs-lookup"><span data-stu-id="4eadc-174">devErrorsEnabled</span></span>
  
    <span data-ttu-id="4eadc-175">Standaard is ingesteld op false.</span><span class="sxs-lookup"><span data-stu-id="4eadc-175">Default value is false.</span></span> <span data-ttu-id="4eadc-176">Wanneer ingesteld op true, iisnode de HTTP-statuscode en de Win32-foutcode op uw browser weergegeven wordt.</span><span class="sxs-lookup"><span data-stu-id="4eadc-176">When set to true, iisnode will display the HTTP status code and Win32 error code on your browser.</span></span> <span data-ttu-id="4eadc-177">De win32-code is handig bij de foutopsporing van bepaalde typen problemen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-177">The win32 code will be helpful in debugging certain types of issues.</span></span>
* <span data-ttu-id="4eadc-178">debuggingEnabled (niet inschakelen op live productiesite)</span><span class="sxs-lookup"><span data-stu-id="4eadc-178">debuggingEnabled (do not enable on live production site)</span></span>
  
    <span data-ttu-id="4eadc-179">Deze instelling bepaalt de functie voor foutopsporing.</span><span class="sxs-lookup"><span data-stu-id="4eadc-179">This setting controls debugging feature.</span></span> <span data-ttu-id="4eadc-180">Iisnode is geïntegreerd met node-inspector.</span><span class="sxs-lookup"><span data-stu-id="4eadc-180">Iisnode is integrated with node-inspector.</span></span> <span data-ttu-id="4eadc-181">Als u deze instelling inschakelt, kunt u inschakelen foutopsporing van uw knooppunttoepassing.</span><span class="sxs-lookup"><span data-stu-id="4eadc-181">By enabling this setting, you enable debugging of your node application.</span></span> <span data-ttu-id="4eadc-182">Zodra deze instelling is ingeschakeld, wordt iisnode indeling van de bestanden nodig knooppunt-inspector in 'debuggerVirtualDir' directory op de eerste aanvraag voor foutopsporing voor uw knooppunttoepassing.</span><span class="sxs-lookup"><span data-stu-id="4eadc-182">Once this setting is enabled, iisnode will layout the necessary node-inspector files in ‘debuggerVirtualDir’ directory on the first debug request to your node application.</span></span> <span data-ttu-id="4eadc-183">U kunt de knooppunt-inspector laden door het verzenden van een aanvraag naar http://yoursite/server.js/debug.</span><span class="sxs-lookup"><span data-stu-id="4eadc-183">You can load the node-inspector by sending a request to http://yoursite/server.js/debug.</span></span> <span data-ttu-id="4eadc-184">U kunt het URL-segment foutopsporing beheren met de instelling 'debuggerPathSegment'.</span><span class="sxs-lookup"><span data-stu-id="4eadc-184">You can control the debug URL segment with ‘debuggerPathSegment’ setting.</span></span> <span data-ttu-id="4eadc-185">Door standaard debuggerPathSegment = 'debug'.</span><span class="sxs-lookup"><span data-stu-id="4eadc-185">By default debuggerPathSegment=’debug’.</span></span> <span data-ttu-id="4eadc-186">U kunt dit instellen op een GUID bijvoorbeeld zodat het moeilijker is om te worden gedetecteerd door anderen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-186">You can set this to a GUID for example so that it is more difficult to be discovered by others.</span></span>
  
    <span data-ttu-id="4eadc-187">Dit selectievakje inschakelt [koppeling](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) voor meer informatie over foutopsporing.</span><span class="sxs-lookup"><span data-stu-id="4eadc-187">Check this [link](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) for more details on debugging.</span></span>

## <a name="scenarios-and-recommendationstroubleshooting"></a><span data-ttu-id="4eadc-188">Scenario's en aanbevelingen/probleemoplossing</span><span class="sxs-lookup"><span data-stu-id="4eadc-188">Scenarios and recommendations/troubleshooting</span></span>
### <a name="my-node-application-is-making-too-many-outbound-calls"></a><span data-ttu-id="4eadc-189">Mijn knooppunttoepassing brengen te veel uitgaande aanroepen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-189">My node application is making too many outbound calls.</span></span>
<span data-ttu-id="4eadc-190">Veel toepassingen zou willen uitgaande verbindingen als onderdeel van hun normale werking.</span><span class="sxs-lookup"><span data-stu-id="4eadc-190">Many applications would want to make outbound connections as part of their regular operation.</span></span> <span data-ttu-id="4eadc-191">Als een aanvraag binnenkomt, wordt door uw app knooppunt wilt contact opnemen met een REST-API elders en sommige informatie aan het verzoek niet verwerken.</span><span class="sxs-lookup"><span data-stu-id="4eadc-191">For example, when a request comes in, your node app would want to contact a REST API elsewhere and get some information to process the request.</span></span> <span data-ttu-id="4eadc-192">U zou willen een keep alive-agent te gebruiken bij het aanroepen van http of https.</span><span class="sxs-lookup"><span data-stu-id="4eadc-192">You would want to use a keep alive agent when making http or https calls.</span></span> <span data-ttu-id="4eadc-193">Bijvoorbeeld, kunt u de module agentkeepalive als uw alive agent behouden bij het maken van deze uitgaande aanroepen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-193">For example, you could use the agentkeepalive module as your keep alive agent when making these outbound calls.</span></span> <span data-ttu-id="4eadc-194">Dit zorgt ervoor dat de sockets opnieuw worden gebruikt op uw azure VM-webapp, waardoor de overhead voor het maken van nieuwe sockets voor elke uitgaande aanvraag.</span><span class="sxs-lookup"><span data-stu-id="4eadc-194">This makes sure that the sockets are reused on your azure webapp VM and reducing the overhead of creating new sockets for every outbound request.</span></span> <span data-ttu-id="4eadc-195">Dit zorgt ook ervoor dat u kleiner aantal sockets uitgaande aanvragen verzenden en daarom u de maxSockets die zijn toegewezen per VM niet overschrijdt.</span><span class="sxs-lookup"><span data-stu-id="4eadc-195">Also, this makes sure that you are using less number of sockets to make many outbound requests and therefore you don’t exceed the maxSockets that are allocated per VM.</span></span> <span data-ttu-id="4eadc-196">Aanbeveling op Azure Webapps kan worden de agentKeepAlive maxSockets waarde instelt op een totaal van 160 sockets per VM.</span><span class="sxs-lookup"><span data-stu-id="4eadc-196">Recommendation on Azure Webapps would be to set the agentKeepAlive maxSockets value to a total of 160 sockets per VM.</span></span> <span data-ttu-id="4eadc-197">Dit betekent dat als u 4 node.exe uitgevoerd op de virtuele machine hebt, u wilt de maxSockets agentKeepAlive ingesteld op 40 per node.exe die 160 totaal per VM.</span><span class="sxs-lookup"><span data-stu-id="4eadc-197">This means that if you have 4 node.exe running on the VM, you would want to set the agentKeepAlive maxSockets to 40 per node.exe which is 160 total per VM.</span></span>

<span data-ttu-id="4eadc-198">Voorbeeld [agentKeepALive](https://www.npmjs.com/package/agentkeepalive) configuratie:</span><span class="sxs-lookup"><span data-stu-id="4eadc-198">Example [agentKeepALive](https://www.npmjs.com/package/agentkeepalive) configuration:</span></span>

```
var keepaliveAgent = new Agent({    
    maxSockets: 40,    
    maxFreeSockets: 10,    
    timeout: 60000,    
    keepAliveTimeout: 300000    
});
```

<span data-ttu-id="4eadc-199">In dit voorbeeld wordt ervan uitgegaan dat u hebt 4 node.exe uitgevoerd op de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="4eadc-199">This example assumes you have 4 node.exe running on your VM.</span></span> <span data-ttu-id="4eadc-200">Als u een verschillend aantal node.exe uitgevoerd op de virtuele machine hebt, moet u de maxSockets instelling dienovereenkomstig wijzigen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-200">If you have a different number of node.exe running on the VM, you will have to modify the maxSockets setting accordingly.</span></span>

### <a name="my-node-application-is-consuming-too-much-cpu"></a><span data-ttu-id="4eadc-201">Mijn knooppunttoepassing is te veel CPU verbruikt.</span><span class="sxs-lookup"><span data-stu-id="4eadc-201">My node application is consuming too much CPU.</span></span>
<span data-ttu-id="4eadc-202">Mogelijk krijgt u een aanbeveling van Azure Webapps op uw portal over hoog cpu-verbruik.</span><span class="sxs-lookup"><span data-stu-id="4eadc-202">You will probably get a recommendation from Azure Webapps on your portal about high cpu consumption.</span></span> <span data-ttu-id="4eadc-203">U kunt ook instellen dat monitors bekijkt voor bepaalde [metrische gegevens](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="4eadc-203">You can also setup monitors to watch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="4eadc-204">Bij het controleren van het CPU-gebruik op de [Azure Portal-Dashboard](../application-insights/app-insights-web-monitor-performance.md), Controleer de MAX-waarden voor CPU zodat u niet de piek-waarden vergeten.</span><span class="sxs-lookup"><span data-stu-id="4eadc-204">When checking the CPU usage on the [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check the MAX values for CPU so you don’t miss out the peak values.</span></span>
<span data-ttu-id="4eadc-205">In gevallen waarin u denkt dat uw toepassing worden te veel CPU verbruikt en u kunt geen reden, moet u uw knooppunttoepassing profiel.</span><span class="sxs-lookup"><span data-stu-id="4eadc-205">In cases where you think your application is consuming too much CPU and you cannot explain why, you will need to profile your node application.</span></span>

### 
#### <a name="profiling-your-node-application-on-azure-webapps-with-v8-profiler"></a><span data-ttu-id="4eadc-206">Profileren van uw knooppunttoepassing op azure webapps met V8 Profiler</span><span class="sxs-lookup"><span data-stu-id="4eadc-206">Profiling your node application on azure webapps with V8-Profiler</span></span>
<span data-ttu-id="4eadc-207">Bijvoorbeeld, kunt Stel dat u hebt een Hallo wereld-app die u profiel wilt zoals hieronder wordt weergegeven:</span><span class="sxs-lookup"><span data-stu-id="4eadc-207">For example, lets say you have a hello world app that you want to profile as shown below:</span></span>

```
var http = require('http');    
function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    WriteConsoleLog();    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="4eadc-208">Ga naar uw site scm https://yoursite.scm.azurewebsites.net/DebugConsole</span><span class="sxs-lookup"><span data-stu-id="4eadc-208">Go to your scm site https://yoursite.scm.azurewebsites.net/DebugConsole</span></span>

<span data-ttu-id="4eadc-209">U ziet een opdrachtprompt zoals hieronder wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="4eadc-209">You will see a command prompt as shown below.</span></span> <span data-ttu-id="4eadc-210">Ga naar de map van uw site/wwwroot</span><span class="sxs-lookup"><span data-stu-id="4eadc-210">Go into your site/wwwroot directory</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_install_v8.png)

<span data-ttu-id="4eadc-211">Voer de opdracht 'npm installeren v8 profiler'</span><span class="sxs-lookup"><span data-stu-id="4eadc-211">Run the command “npm install v8-profiler”</span></span>

<span data-ttu-id="4eadc-212">Dit moet v8-profiler onder het knooppunt installeren\_modules directory en alle bijbehorende afhankelijkheden.</span><span class="sxs-lookup"><span data-stu-id="4eadc-212">This should install v8-profiler under node\_modules directory and all of its dependencies.</span></span>
<span data-ttu-id="4eadc-213">Nu uw server.js voor het profiel van uw toepassing bewerken.</span><span class="sxs-lookup"><span data-stu-id="4eadc-213">Now, edit your server.js to profile your application.</span></span>

```
var http = require('http');    
var profiler = require('v8-profiler');    
var fs = require('fs');

function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    profiler.startProfiling('HandleRequest');    
    WriteConsoleLog();    
    fs.writeFileSync('profile.cpuprofile', JSON.stringify(profiler.stopProfiling('HandleRequest')));    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="4eadc-214">De bovenstaande wijzigingen wordt de functie WriteConsoleLog profiel en vervolgens de profiel-uitvoer schrijven naar bestand onder uw site wwwroot 'profile.cpuprofile'.</span><span class="sxs-lookup"><span data-stu-id="4eadc-214">The above changes will profile the WriteConsoleLog function and then write the profile output to ‘profile.cpuprofile’ file under your site wwwroot.</span></span> <span data-ttu-id="4eadc-215">Een aanvraag verzenden voor uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="4eadc-215">Send a request to your application.</span></span> <span data-ttu-id="4eadc-216">Hier ziet u een 'profile.cpuprofile'-bestand gemaakt voor uw site wwwroot.</span><span class="sxs-lookup"><span data-stu-id="4eadc-216">You will see a ‘profile.cpuprofile’ file created under your site wwwroot.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_profile.cpuprofile.png)

<span data-ttu-id="4eadc-217">Dit bestand downloaden en u moet dit bestand te openen met Chrome F12 hulpprogramma's.</span><span class="sxs-lookup"><span data-stu-id="4eadc-217">Download this file and you will need to open this file with Chrome F12 Tools.</span></span> <span data-ttu-id="4eadc-218">Klik op F12 op chrome en klik vervolgens op het tabblad' profielen'.</span><span class="sxs-lookup"><span data-stu-id="4eadc-218">Hit F12 on chrome, then click on the “Profiles Tab”.</span></span> <span data-ttu-id="4eadc-219">Klik op de knop 'Laden'.</span><span class="sxs-lookup"><span data-stu-id="4eadc-219">Click on “Load” Button.</span></span> <span data-ttu-id="4eadc-220">Selecteer uw profile.cpuprofile-bestand dat u zojuist hebt gedownload.</span><span class="sxs-lookup"><span data-stu-id="4eadc-220">Select your profile.cpuprofile file that you just downloaded.</span></span> <span data-ttu-id="4eadc-221">Klik op het profiel dat u zojuist hebt geladen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-221">Click on the profile you just loaded.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/chrome_tools_view.png)

<span data-ttu-id="4eadc-222">U ziet dat 95% van de tijd is verbruikt door WriteConsoleLog functie, zoals hieronder wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="4eadc-222">You will see that 95% of the time was consumed by WriteConsoleLog function as shown below.</span></span> <span data-ttu-id="4eadc-223">Dit ziet u ook de exacte regelnummers en bronbestanden die ertoe leiden het probleem dat.</span><span class="sxs-lookup"><span data-stu-id="4eadc-223">This also shows you the exact line numbers and source files that cause the issue.</span></span>

### <a name="my-node-application-is-consuming-too-much-memory"></a><span data-ttu-id="4eadc-224">Mijn knooppunttoepassing is er te veel geheugen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-224">My node application is consuming too much memory.</span></span>
<span data-ttu-id="4eadc-225">Mogelijk krijgt u een aanbeveling van Azure Webapps op uw portal over veel geheugen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-225">You will probably get a recommendation from Azure Webapps on your portal about high memory consumption.</span></span> <span data-ttu-id="4eadc-226">U kunt ook instellen dat monitors bekijkt voor bepaalde [metrische gegevens](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="4eadc-226">You can also setup monitors to watch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="4eadc-227">Bij het controleren van het geheugengebruik op de [Azure Portal-Dashboard](../application-insights/app-insights-web-monitor-performance.md), Controleer de MAX-waarden voor het geheugen zodat u niet de piek-waarden vergeten.</span><span class="sxs-lookup"><span data-stu-id="4eadc-227">When checking the memory usage on the [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check the MAX values for memory so you don’t miss out the peak values.</span></span>

#### <a name="leak-detection-and-heap-diffing-for-nodejs"></a><span data-ttu-id="4eadc-228">Detectie- en Heap vergelijken lekken voor node.js</span><span class="sxs-lookup"><span data-stu-id="4eadc-228">Leak detection and Heap Diffing for node.js</span></span>
<span data-ttu-id="4eadc-229">U kunt [knooppunt memwatch](https://github.com/lloyd/node-memwatch) voor hulp bij het identificeren van geheugen lekt.</span><span class="sxs-lookup"><span data-stu-id="4eadc-229">You could use [node-memwatch](https://github.com/lloyd/node-memwatch) to help you identify memory leaks.</span></span>
<span data-ttu-id="4eadc-230">U kunt memwatch net als v8 profiler installeren en bewerken van uw code te worden vastgelegd en diff heaps voor het identificeren van het geheugen lekt in uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="4eadc-230">You can install memwatch just like v8-profiler and edit your code to capture and diff heaps to identify the memory leaks in your application.</span></span>

### <a name="my-nodeexes-are-getting-killed-randomly"></a><span data-ttu-id="4eadc-231">Mijn node.exe zijn willekeurig ophalen afgesloten.</span><span class="sxs-lookup"><span data-stu-id="4eadc-231">My node.exe’s are getting killed randomly</span></span>
<span data-ttu-id="4eadc-232">Er zijn enkele redenen waarom u dit kan gebeuren:</span><span class="sxs-lookup"><span data-stu-id="4eadc-232">There are a few reasons why this could be happening:</span></span>

1. <span data-ttu-id="4eadc-233">Uw toepassing die niet-onderschepte uitzonderingen – Voer selectievakje d:\\thuis\\logboekbestanden\\toepassing\\logboekregistratie errors.txt-bestand op de uitzondering voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="4eadc-233">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for the details on the exception thrown.</span></span> <span data-ttu-id="4eadc-234">Dit bestand heeft de stack-trace zodat u uw toepassing op basis hiervan kunt oplossen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-234">This file has the stack trace so you can fix your application based on this.</span></span>
2. <span data-ttu-id="4eadc-235">Uw toepassing is er te veel geheugen die van invloed op andere processen uit aan de slag.</span><span class="sxs-lookup"><span data-stu-id="4eadc-235">Your application is consuming too much memory which is affecting other processes from getting started.</span></span> <span data-ttu-id="4eadc-236">Als het totale geheugen van de VM dicht bij 100% is, kan uw node.exe worden beëindigd door het proces manager zodat andere processen gaan werken.</span><span class="sxs-lookup"><span data-stu-id="4eadc-236">If the total VM memory is close to 100%, your node.exe’s could be killed by the process manager to let other processes get a chance to do some work.</span></span> <span data-ttu-id="4eadc-237">U kunt dit verhelpen, zorg ervoor dat uw toepassing geheugen lekt niet. of als uw toepassing heel veel geheugen gebruiken moet, geef opschalen naar een grotere virtuele machine met veel meer RAM-geheugen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-237">To fix this, either make sure your application is not leaking memory OR if you application really needs to use a lot of memory, please scale up to a larger VM with a lot more RAM.</span></span>

### <a name="my-node-application-does-not-start"></a><span data-ttu-id="4eadc-238">Mijn knooppunttoepassing niet wordt gestart</span><span class="sxs-lookup"><span data-stu-id="4eadc-238">My node application does not start</span></span>
<span data-ttu-id="4eadc-239">Als uw toepassing als 500 fouten bij het opstarten resultaat, kan er een aantal oorzaken hebben:</span><span class="sxs-lookup"><span data-stu-id="4eadc-239">If your application is returning 500 Errors at startup, there could be a few reasons:</span></span>

1. <span data-ttu-id="4eadc-240">Node.exe is niet aanwezig op de juiste locatie.</span><span class="sxs-lookup"><span data-stu-id="4eadc-240">Node.exe is not present at the correct location.</span></span> <span data-ttu-id="4eadc-241">Controleer de instelling nodeProcessCommandLine.</span><span class="sxs-lookup"><span data-stu-id="4eadc-241">Check nodeProcessCommandLine setting.</span></span>
2. <span data-ttu-id="4eadc-242">Belangrijkste scriptbestand is niet aanwezig op de juiste locatie.</span><span class="sxs-lookup"><span data-stu-id="4eadc-242">Main script file is not present at the correct location.</span></span> <span data-ttu-id="4eadc-243">Controleer web.config en zorg ervoor dat de naam van de belangrijkste scriptbestand in de sectie-handlers overeenkomt met de belangrijkste scriptbestand.</span><span class="sxs-lookup"><span data-stu-id="4eadc-243">Check web.config and make sure the name of the main script file in the handlers section matches the main script file.</span></span>
3. <span data-ttu-id="4eadc-244">Configuratie van web.config is niet correct: Controleer de instellingen van de namen en-waarden.</span><span class="sxs-lookup"><span data-stu-id="4eadc-244">Web.config configuration is not correct – check the settings names/values.</span></span>
4. <span data-ttu-id="4eadc-245">Koude Start – de toepassing is te lang duurt worden gestart.</span><span class="sxs-lookup"><span data-stu-id="4eadc-245">Cold Start – Your application is taking too long to startup.</span></span> <span data-ttu-id="4eadc-246">Als uw toepassing langer dan duurt (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000 seconden iisnode 500 fout retourneert.</span><span class="sxs-lookup"><span data-stu-id="4eadc-246">If your application takes longer than (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000 seconds, iisnode will return 500 error.</span></span> <span data-ttu-id="4eadc-247">Verhoogt u de waarden van deze instellingen overeenkomen met de starttijd van de toepassing om te voorkomen dat iisnode van een time-out opgetreden en de 500 fout geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="4eadc-247">Increase the values of these settings to match your application start time to prevent iisnode from timing out and returning the 500 error.</span></span>

### <a name="my-node-application-crashed"></a><span data-ttu-id="4eadc-248">Mijn gecrasht knooppunttoepassing</span><span class="sxs-lookup"><span data-stu-id="4eadc-248">My node application crashed</span></span>
<span data-ttu-id="4eadc-249">Uw toepassing die niet-onderschepte uitzonderingen – Voer selectievakje d:\\thuis\\logboekbestanden\\toepassing\\logboekregistratie errors.txt-bestand op de uitzondering voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="4eadc-249">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for the details on the exception thrown.</span></span> <span data-ttu-id="4eadc-250">Dit bestand heeft de stack-trace zodat u uw toepassing op basis hiervan kunt oplossen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-250">This file has the stack trace so you can fix your application based on this.</span></span>

### <a name="my-node-application-takes-too-much-time-to-startup-cold-start"></a><span data-ttu-id="4eadc-251">Mijn knooppunttoepassing duurt te lang om te starten (koude Start)</span><span class="sxs-lookup"><span data-stu-id="4eadc-251">My node application takes too much time to startup (Cold Start)</span></span>
<span data-ttu-id="4eadc-252">Meest voorkomende reden hiervoor is dat de toepassing een groot aantal bestanden in het knooppunt heeft\_modules en de toepassing probeert te laden van de meeste van deze bestanden tijdens het opstarten.</span><span class="sxs-lookup"><span data-stu-id="4eadc-252">Most common reason for this is that the application has a lot of files in the node\_modules and the application tries to load most of these files during startup.</span></span> <span data-ttu-id="4eadc-253">Standaard omdat uw bestanden bevinden zich op de netwerkshare op Azure-Webapps kan laden zo veel bestanden enige tijd duren.</span><span class="sxs-lookup"><span data-stu-id="4eadc-253">By default, since your files reside on the network share on Azure Webapps, loading so many files can take some time.</span></span>
<span data-ttu-id="4eadc-254">Sommige oplossingen om dit te sneller zijn:</span><span class="sxs-lookup"><span data-stu-id="4eadc-254">Some solutions to make this faster are:</span></span>

1. <span data-ttu-id="4eadc-255">Zorg ervoor dat u hebt een platte afhankelijkheidsstructuur en geen dubbele afhankelijkheden met behulp van npm3 uw modules installeren.</span><span class="sxs-lookup"><span data-stu-id="4eadc-255">Make sure you have a flat dependency structure and no duplicate dependencies by using npm3 to install your modules.</span></span>
2. <span data-ttu-id="4eadc-256">Probeer te langzaam laden uw knooppunt\_modules en alle modules in bij het opstarten niet worden geladen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-256">Try to lazy load your node\_modules and not load all of the modules at startup.</span></span> <span data-ttu-id="4eadc-257">Dit betekent dat de aanroep van require('module') wanneer u daadwerkelijk binnen de functie die u probeert moet te gebruiken van de module moet worden gedaan.</span><span class="sxs-lookup"><span data-stu-id="4eadc-257">This means that the call to require(‘module’) should be done when you actually need it within the function you try to use the module.</span></span>
3. <span data-ttu-id="4eadc-258">Azure Webapps biedt een functie met de naam van de lokale cache.</span><span class="sxs-lookup"><span data-stu-id="4eadc-258">Azure Webapps offers a feature called local cache.</span></span> <span data-ttu-id="4eadc-259">Deze functie kopieert de inhoud van de netwerkshare naar de lokale schijf op de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="4eadc-259">This feature copies your content from the network share to the local disk on the VM.</span></span> <span data-ttu-id="4eadc-260">Aangezien de bestanden lokale computer, de laadtijd van knooppunt zijn\_modules is veel sneller.</span><span class="sxs-lookup"><span data-stu-id="4eadc-260">Since the files are local, the load time of node\_modules is much faster.</span></span> <span data-ttu-id="4eadc-261">-Dit [documentatie](../app-service/app-service-local-cache.md) wordt uitgelegd hoe u de lokale Cache in meer detail.</span><span class="sxs-lookup"><span data-stu-id="4eadc-261">- This [documentation](../app-service/app-service-local-cache.md) explains how to use Local Cache in more detail.</span></span>

## <a name="iisnode-http-status-and-substatus"></a><span data-ttu-id="4eadc-262">IISNODE HTTP-status en substatus</span><span class="sxs-lookup"><span data-stu-id="4eadc-262">IISNODE http status and substatus</span></span>
<span data-ttu-id="4eadc-263">Dit [bronbestand](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) geeft een lijst van alle de mogelijke status/substatus combinatie iisnode kan worden geretourneerd in geval van een fout.</span><span class="sxs-lookup"><span data-stu-id="4eadc-263">This [source file](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) lists all the possible status/substatus combination iisnode can return in case of error.</span></span>

<span data-ttu-id="4eadc-264">FREB voor uw toepassing om te zien van de win32-foutcode inschakelen (Controleer of u FREB alleen op niet-productieve sites Prestatieoverwegingen inschakelen).</span><span class="sxs-lookup"><span data-stu-id="4eadc-264">Enable FREB for your application to see the win32 error code (please make sure you enable FREB only on non-production sites for performance reasons).</span></span>

| <span data-ttu-id="4eadc-265">HTTP-Status</span><span class="sxs-lookup"><span data-stu-id="4eadc-265">Http Status</span></span> | <span data-ttu-id="4eadc-266">HTTP-substatuscode</span><span class="sxs-lookup"><span data-stu-id="4eadc-266">Http SubStatus</span></span> | <span data-ttu-id="4eadc-267">Mogelijke reden?</span><span class="sxs-lookup"><span data-stu-id="4eadc-267">Possible Reason?</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4eadc-268">500</span><span class="sxs-lookup"><span data-stu-id="4eadc-268">500</span></span> |<span data-ttu-id="4eadc-269">1000</span><span class="sxs-lookup"><span data-stu-id="4eadc-269">1000</span></span> |<span data-ttu-id="4eadc-270">Er is een probleem tijdens het verzenden van de aanvraag voor IISNODE – controleren als node.exe is gestart.</span><span class="sxs-lookup"><span data-stu-id="4eadc-270">There was some issue dispatching the request to IISNODE – check if node.exe was started up.</span></span> <span data-ttu-id="4eadc-271">Node.exe kan bij het opstarten zijn vastgelopen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-271">Node.exe could have crashed on startup.</span></span> <span data-ttu-id="4eadc-272">Controleer uw configuratie web.config op fouten.</span><span class="sxs-lookup"><span data-stu-id="4eadc-272">Check your web.config configuration for errors.</span></span> |
| <span data-ttu-id="4eadc-273">500</span><span class="sxs-lookup"><span data-stu-id="4eadc-273">500</span></span> |<span data-ttu-id="4eadc-274">1001</span><span class="sxs-lookup"><span data-stu-id="4eadc-274">1001</span></span> |<span data-ttu-id="4eadc-275">-Win32Error 0x2 - App reageert niet op de URL.</span><span class="sxs-lookup"><span data-stu-id="4eadc-275">- Win32Error 0x2 - App is not responding to the URL.</span></span> <span data-ttu-id="4eadc-276">Controleer de regels voor het herschrijven van URL of als uw app in express de juiste routes gedefinieerd heeft.</span><span class="sxs-lookup"><span data-stu-id="4eadc-276">Check URL rewrite rules or if your express app has the correct routes defined.</span></span> <span data-ttu-id="4eadc-277">-Win32Error 0x6d – benoemde pijp is bezet – Node.exe accepteert geen aanvragen omdat de pipe bezet is.</span><span class="sxs-lookup"><span data-stu-id="4eadc-277">- Win32Error 0x6d – named pipe is busy – Node.exe is not accepting requests because the pipe is busy.</span></span> <span data-ttu-id="4eadc-278">Controleer hoog cpu-gebruik.</span><span class="sxs-lookup"><span data-stu-id="4eadc-278">Check high cpu usage.</span></span> <span data-ttu-id="4eadc-279">-Andere fouten – controleren als node.exe gecrasht.</span><span class="sxs-lookup"><span data-stu-id="4eadc-279">- Other errors – check if node.exe crashed.</span></span> |
| <span data-ttu-id="4eadc-280">500</span><span class="sxs-lookup"><span data-stu-id="4eadc-280">500</span></span> |<span data-ttu-id="4eadc-281">1002</span><span class="sxs-lookup"><span data-stu-id="4eadc-281">1002</span></span> |<span data-ttu-id="4eadc-282">Node.exe gecrasht – d: controleren\\thuis\\logboekbestanden\\logboekregistratie-errors.txt voor stack-trace.</span><span class="sxs-lookup"><span data-stu-id="4eadc-282">Node.exe crashed – check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="4eadc-283">500</span><span class="sxs-lookup"><span data-stu-id="4eadc-283">500</span></span> |<span data-ttu-id="4eadc-284">1003</span><span class="sxs-lookup"><span data-stu-id="4eadc-284">1003</span></span> |<span data-ttu-id="4eadc-285">Pipe-configuratie probleem: U nooit ziet dit, maar als u dit doet, de configuratie van de benoemde pipe is onjuist.</span><span class="sxs-lookup"><span data-stu-id="4eadc-285">Pipe configuration Issue – You should never see this but if you do, the named pipe configuration is incorrect.</span></span> |
| <span data-ttu-id="4eadc-286">500</span><span class="sxs-lookup"><span data-stu-id="4eadc-286">500</span></span> |<span data-ttu-id="4eadc-287">1004-1018</span><span class="sxs-lookup"><span data-stu-id="4eadc-287">1004-1018</span></span> |<span data-ttu-id="4eadc-288">Er is een fout tijdens het verzenden van de aanvraag of het antwoord van node.exe verwerken.</span><span class="sxs-lookup"><span data-stu-id="4eadc-288">There was some error while sending the request or processing the response to/from node.exe.</span></span> <span data-ttu-id="4eadc-289">Controleer of node.exe gecrasht.</span><span class="sxs-lookup"><span data-stu-id="4eadc-289">Check if node.exe crashed.</span></span> <span data-ttu-id="4eadc-290">Controleer d:\\thuis\\logboekbestanden\\logboekregistratie-errors.txt voor stack-trace.</span><span class="sxs-lookup"><span data-stu-id="4eadc-290">check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="4eadc-291">503</span><span class="sxs-lookup"><span data-stu-id="4eadc-291">503</span></span> |<span data-ttu-id="4eadc-292">1000</span><span class="sxs-lookup"><span data-stu-id="4eadc-292">1000</span></span> |<span data-ttu-id="4eadc-293">Niet voldoende geheugen toewijzen meer benoemde pipe-verbindingen.</span><span class="sxs-lookup"><span data-stu-id="4eadc-293">Not enough memory to allocate more named pipe connections.</span></span> <span data-ttu-id="4eadc-294">Controle van uw app waarom zo veel geheugen verbruikt.</span><span class="sxs-lookup"><span data-stu-id="4eadc-294">Check why your app is consuming so much memory.</span></span> <span data-ttu-id="4eadc-295">Controleer de waarde van de instelling maxConcurrentRequestsPerProcess.</span><span class="sxs-lookup"><span data-stu-id="4eadc-295">Check maxConcurrentRequestsPerProcess setting value.</span></span> <span data-ttu-id="4eadc-296">Als het is niet oneindig en u hebt een groot aantal aanvragen, hier een hogere waarde om te voorkomen dat deze fout.</span><span class="sxs-lookup"><span data-stu-id="4eadc-296">If its not infinite and you have a lot of requests, increase this value to prevent this error.</span></span> |
| <span data-ttu-id="4eadc-297">503</span><span class="sxs-lookup"><span data-stu-id="4eadc-297">503</span></span> |<span data-ttu-id="4eadc-298">1001</span><span class="sxs-lookup"><span data-stu-id="4eadc-298">1001</span></span> |<span data-ttu-id="4eadc-299">Aanvraag kan niet worden verzonden naar node.exe omdat het recyclen van de toepassing.</span><span class="sxs-lookup"><span data-stu-id="4eadc-299">Request could not be dispatched to node.exe because the application is recycling.</span></span> <span data-ttu-id="4eadc-300">Nadat de toepassing is gerecycled, moeten normaal gesproken aanvragen worden geleverd.</span><span class="sxs-lookup"><span data-stu-id="4eadc-300">After the application has recycled, requests should be served normally.</span></span> |
| <span data-ttu-id="4eadc-301">503</span><span class="sxs-lookup"><span data-stu-id="4eadc-301">503</span></span> |<span data-ttu-id="4eadc-302">1002</span><span class="sxs-lookup"><span data-stu-id="4eadc-302">1002</span></span> |<span data-ttu-id="4eadc-303">Controle van win32-foutcode voor de werkelijke reden: de aanvraag kan niet worden verzonden naar een node.exe.</span><span class="sxs-lookup"><span data-stu-id="4eadc-303">Check win32 error code for actual reason – Request could not be dispatched to a node.exe.</span></span> |
| <span data-ttu-id="4eadc-304">503</span><span class="sxs-lookup"><span data-stu-id="4eadc-304">503</span></span> |<span data-ttu-id="4eadc-305">1003</span><span class="sxs-lookup"><span data-stu-id="4eadc-305">1003</span></span> |<span data-ttu-id="4eadc-306">Benoemde pipe is bezet – als knooppunt veel CPU verbruikt controleren</span><span class="sxs-lookup"><span data-stu-id="4eadc-306">Named pipe is too Busy – Check if node is consuming a lot of CPU</span></span> |

<span data-ttu-id="4eadc-307">Er is een instelling in het knooppunt aangeroepen NODE.exe\_in behandeling\_PIPE\_exemplaren.</span><span class="sxs-lookup"><span data-stu-id="4eadc-307">There is a setting within NODE.exe called NODE\_PENDING\_PIPE\_INSTANCES.</span></span> <span data-ttu-id="4eadc-308">Deze waarde is standaard buiten azure webapps 4.</span><span class="sxs-lookup"><span data-stu-id="4eadc-308">By default outside of azure webapps this value is 4.</span></span> <span data-ttu-id="4eadc-309">Dit betekent dat node.exe accepteert alleen 4 aanvragen tegelijk op de named pipe.</span><span class="sxs-lookup"><span data-stu-id="4eadc-309">This means that node.exe can only accept 4 requests at a time on the named pipe.</span></span> <span data-ttu-id="4eadc-310">Deze waarde is ingesteld op 5000 op Azure Webapps, en deze waarde moet voldoende voor de meeste knooppunt toepassingen uitgevoerd op azure webapps.</span><span class="sxs-lookup"><span data-stu-id="4eadc-310">On Azure Webapps, this value is set to 5000 and this value should be good enough for most node applications running on azure webapps.</span></span> <span data-ttu-id="4eadc-311">Zie niet 503.1003 op azure webapps omdat we een hoge waarde voor het knooppunt hebben\_in behandeling\_PIPE\_exemplaren.</span><span class="sxs-lookup"><span data-stu-id="4eadc-311">You should not see 503.1003 on azure webapps because we have a high value for the NODE\_PENDING\_PIPE\_INSTANCES.</span></span>  |

## <a name="more-resources"></a><span data-ttu-id="4eadc-312">Meer bronnen</span><span class="sxs-lookup"><span data-stu-id="4eadc-312">More resources</span></span>
<span data-ttu-id="4eadc-313">Volg deze koppelingen voor meer informatie over node.js-toepassingen in Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="4eadc-313">Follow these links to learn more about node.js applications on Azure App Service.</span></span>

* [<span data-ttu-id="4eadc-314">Aan de slag met Node.js-web-apps in Azure App Service</span><span class="sxs-lookup"><span data-stu-id="4eadc-314">Get started with Node.js web apps in Azure App Service</span></span>](app-service-web-get-started-nodejs.md)
* [<span data-ttu-id="4eadc-315">Fouten opsporen in een Node.js web-app in Azure App Service</span><span class="sxs-lookup"><span data-stu-id="4eadc-315">How to debug a Node.js web app in Azure App Service</span></span>](web-sites-nodejs-debug.md)
* [<span data-ttu-id="4eadc-316">Node.js-modules gebruiken met Azure-toepassingen</span><span class="sxs-lookup"><span data-stu-id="4eadc-316">Using Node.js Modules with Azure applications</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="4eadc-317">Web-apps van Azure App Service: Node.js</span><span class="sxs-lookup"><span data-stu-id="4eadc-317">Azure App Service Web Apps: Node.js</span></span>](https://blogs.msdn.microsoft.com/silverlining/2012/06/14/windows-azure-websites-node-js/)
* [<span data-ttu-id="4eadc-318">Node.js Developer Center</span><span class="sxs-lookup"><span data-stu-id="4eadc-318">Node.js Developer Center</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="4eadc-319">De geheimen van de Kudu-console voor foutopsporing</span><span class="sxs-lookup"><span data-stu-id="4eadc-319">Exploring the Super Secret Kudu Debug Console</span></span>](https://azure.microsoft.com/documentation/videos/super-secret-kudu-debug-console-for-azure-web-sites/)

