---
title: Azure PowerShell-voorbeeldscript - taakverdeling toe te passen meerdere websites met Azure PowerShell | Microsoft Docs
description: Azure PowerShell-voorbeeldscript - taakverdeling toe te passen meerdere websites op de virtuele machine
services: load-balancer
documentationcenter: load-balancer
author: georgewallace
manager: timlt
editor: tysonn
tags: 
ms.assetid: 
ms.service: load-balancer
ms.devlang: powershell
ms.topic: article
ms.tgt_pltfrm: 
ms.workload: infrastructure
ms.date: 05/16/2017
ms.author: gwallace
ms.openlocfilehash: d73cdc98ff279c3ee1b93443abe4b6c7c97786a2
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/11/2017
---
# <a name="load-balance-multiple-websites"></a><span data-ttu-id="652e9-103">Taakverdeling maken voor meerdere websites</span><span class="sxs-lookup"><span data-stu-id="652e9-103">Load balance multiple websites</span></span>

<span data-ttu-id="652e9-104">Dit voorbeeldscript wordt een virtueel netwerk maakt met twee virtuele machines (VM) die lid van een beschikbaarheidsset zijn.</span><span class="sxs-lookup"><span data-stu-id="652e9-104">This script sample creates a virtual network with two virtual machines (VM) that are members of an availability set.</span></span> <span data-ttu-id="652e9-105">Een load balancer wordt doorgestuurd verkeer voor twee afzonderlijke IP-adressen naar de twee virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="652e9-105">A load balancer directs traffic for two separate IP addresses to the two VMs.</span></span> <span data-ttu-id="652e9-106">Nadat het script is uitgevoerd, kan u implementeren web server-software aan de virtuele machines en de host meerdere websites, elk met een eigen IP-adres.</span><span class="sxs-lookup"><span data-stu-id="652e9-106">After running the script, you could deploy web server software to the VMs and host multiple web sites, each with its own IP address.</span></span>

<span data-ttu-id="652e9-107">Installeer zo nodig de Azure PowerShell met de instructie gevonden in de [Azure PowerShell handleiding](https://docs.microsoft.com/powershell/azureps-cmdlets-docs/), en voer vervolgens `Login-AzureRmAccount` geen verbinding maken met Azure.</span><span class="sxs-lookup"><span data-stu-id="652e9-107">If needed, install the Azure PowerShell using the instruction found in the [Azure PowerShell guide](https://docs.microsoft.com/powershell/azureps-cmdlets-docs/), and then run `Login-AzureRmAccount` to create a connection with Azure.</span></span>

[!INCLUDE [quickstarts-free-trial-note](../../../includes/quickstarts-free-trial-note.md)]

## <a name="sample-script"></a><span data-ttu-id="652e9-108">Voorbeeld van een script</span><span class="sxs-lookup"><span data-stu-id="652e9-108">Sample script</span></span>

<span data-ttu-id="652e9-109">[!code-powershell[belangrijkste](../../../powershell_scripts/load-balancer/load-balance-multiple-web-sites-vm/load-balance-multiple-web-sites-vm.ps1  "taakverdelingen voor meerdere sites")]</span><span class="sxs-lookup"><span data-stu-id="652e9-109">[!code-powershell[main](../../../powershell_scripts/load-balancer/load-balance-multiple-web-sites-vm/load-balance-multiple-web-sites-vm.ps1  "Load balance multiple web sites")]</span></span>

## <a name="clean-up-deployment"></a><span data-ttu-id="652e9-110">Opschonen van implementatie</span><span class="sxs-lookup"><span data-stu-id="652e9-110">Clean up deployment</span></span> 

<span data-ttu-id="652e9-111">Voer de volgende opdracht om de resourcegroep, VM en alle gerelateerde resources te verwijderen.</span><span class="sxs-lookup"><span data-stu-id="652e9-111">Run the following command to remove the resource group, VM, and all related resources.</span></span>

```powershell
Remove-AzureRmResourceGroup -Name myResourceGroup
```

## <a name="script-explanation"></a><span data-ttu-id="652e9-112">Script uitleg</span><span class="sxs-lookup"><span data-stu-id="652e9-112">Script explanation</span></span>

<span data-ttu-id="652e9-113">Dit script maakt gebruik van de volgende opdrachten voor het maken van een resourcegroep, virtueel netwerk, load balancer en alle gerelateerde resources.</span><span class="sxs-lookup"><span data-stu-id="652e9-113">This script uses the following commands to create a resource group, virtual network, load balancer, and all related resources.</span></span> <span data-ttu-id="652e9-114">Elke opdracht in de tabel is gekoppeld aan de specifieke documentatie opdracht.</span><span class="sxs-lookup"><span data-stu-id="652e9-114">Each command in the table links to command specific documentation.</span></span>

| <span data-ttu-id="652e9-115">Opdracht</span><span class="sxs-lookup"><span data-stu-id="652e9-115">Command</span></span> | <span data-ttu-id="652e9-116">Opmerkingen</span><span class="sxs-lookup"><span data-stu-id="652e9-116">Notes</span></span> |
|---|---|
| [<span data-ttu-id="652e9-117">Nieuwe AzureRmResourceGroup</span><span class="sxs-lookup"><span data-stu-id="652e9-117">New-AzureRmResourceGroup</span></span>](/powershell/module/azurerm.resources/new-azurermresourcegroup) | <span data-ttu-id="652e9-118">Maakt een resourcegroep waarin alle resources worden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="652e9-118">Creates a resource group in which all resources are stored.</span></span> |
| [<span data-ttu-id="652e9-119">Nieuwe AzureRmAvailabilitySet</span><span class="sxs-lookup"><span data-stu-id="652e9-119">New-AzureRmAvailabilitySet</span></span>](/powershell/module/azurerm.compute/new-azurermavailabilityset) | <span data-ttu-id="652e9-120">Hiermee maakt u een Azure beschikbaarheidsset voor maximale beschikbaarheid.</span><span class="sxs-lookup"><span data-stu-id="652e9-120">Creates an Azure availability set to provide high availability.</span></span> |
| [<span data-ttu-id="652e9-121">Nieuwe AzureRmVirtualNetworkSubnetConfig</span><span class="sxs-lookup"><span data-stu-id="652e9-121">New-AzureRmVirtualNetworkSubnetConfig</span></span>](/powershell/module/azurerm.network/new-azurermvirtualnetworksubnetconfig) | <span data-ttu-id="652e9-122">Hiermee maakt u de subnetconfiguratie van een.</span><span class="sxs-lookup"><span data-stu-id="652e9-122">Creates a subnet configuration.</span></span> <span data-ttu-id="652e9-123">Deze configuratie wordt gebruikt met het proces voor het virtueel netwerk maken.</span><span class="sxs-lookup"><span data-stu-id="652e9-123">This configuration is used with the virtual network creation process.</span></span> |
| [<span data-ttu-id="652e9-124">Nieuwe-AzureRmVirtualNetwork</span><span class="sxs-lookup"><span data-stu-id="652e9-124">New-AzureRmVirtualNetwork</span></span>](/powershell/module/azurerm.network/new-azurermvirtualnetwork) | <span data-ttu-id="652e9-125">Hiermee maakt u een virtueel netwerk.</span><span class="sxs-lookup"><span data-stu-id="652e9-125">Creates a virtual network.</span></span> |
| [<span data-ttu-id="652e9-126">Nieuwe AzureRmPublicIpAddress</span><span class="sxs-lookup"><span data-stu-id="652e9-126">New-AzureRmPublicIpAddress</span></span>](/powershell/module/azurerm.network/new-azurermpublicipaddress) | <span data-ttu-id="652e9-127">Hiermee maakt u een openbaar IP-adres.</span><span class="sxs-lookup"><span data-stu-id="652e9-127">Creates a public IP address.</span></span> |
| [<span data-ttu-id="652e9-128">Nieuwe AzureRmLoadBalancerFrontendIpConfig</span><span class="sxs-lookup"><span data-stu-id="652e9-128">New-AzureRmLoadBalancerFrontendIpConfig</span></span>](/powershell/module/azurerm.network/new-azurermloadbalancerfrontendipconfig) | <span data-ttu-id="652e9-129">Maakt een front-end-IP-configuratie voor een load balancer.</span><span class="sxs-lookup"><span data-stu-id="652e9-129">Creates a front end IP config for a load balancer.</span></span> |
| [<span data-ttu-id="652e9-130">Nieuwe AzureRmLoadBalancerBackendAddressPoolConfig</span><span class="sxs-lookup"><span data-stu-id="652e9-130">New-AzureRmLoadBalancerBackendAddressPoolConfig</span></span>](/powershell/module/azurerm.network/new-azurermloadbalancerbackendaddresspoolconfig) | <span data-ttu-id="652e9-131">Maakt een back-end-pool-adresconfiguratie voor een load balancer.</span><span class="sxs-lookup"><span data-stu-id="652e9-131">Creates a backend address pool configuration for a load balancer.</span></span> |
| [<span data-ttu-id="652e9-132">Nieuwe AzureRmLoadBalancerProbeConfig</span><span class="sxs-lookup"><span data-stu-id="652e9-132">New-AzureRmLoadBalancerProbeConfig</span></span>](/powershell/module/azurerm.network/new-azurermloadbalancerprobeconfig) | <span data-ttu-id="652e9-133">Maakt een NLB-test.</span><span class="sxs-lookup"><span data-stu-id="652e9-133">Creates an NLB probe.</span></span> <span data-ttu-id="652e9-134">Een NLB-test wordt gebruikt voor het bewaken van elke virtuele machine in de set met NLB.</span><span class="sxs-lookup"><span data-stu-id="652e9-134">An NLB probe is used to monitor each VM in the NLB set.</span></span> <span data-ttu-id="652e9-135">Als een virtuele machine niet meer toegankelijk is, wordt verkeer niet doorgestuurd naar de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="652e9-135">If any VM becomes inaccessible, traffic is not routed to the VM.</span></span> |
| [<span data-ttu-id="652e9-136">Nieuwe AzureRmLoadBalancerRuleConfig</span><span class="sxs-lookup"><span data-stu-id="652e9-136">New-AzureRmLoadBalancerRuleConfig</span></span>](/powershell/module/azurerm.network/new-azurermloadbalancerruleconfig) | <span data-ttu-id="652e9-137">Maakt een regel voor NLB.</span><span class="sxs-lookup"><span data-stu-id="652e9-137">Creates an NLB rule.</span></span> <span data-ttu-id="652e9-138">In dit voorbeeld wordt een regel gemaakt voor poort 80.</span><span class="sxs-lookup"><span data-stu-id="652e9-138">In this sample, a rule is created for port 80.</span></span> <span data-ttu-id="652e9-139">Als HTTP-verkeer bij de NLB aankomt, wordt deze doorgestuurd naar poort 80 een van de virtuele machines in de set met NLB.</span><span class="sxs-lookup"><span data-stu-id="652e9-139">As HTTP traffic arrives at the NLB, it is routed to port 80 one of the VMs in the NLB set.</span></span> |
| [<span data-ttu-id="652e9-140">Nieuwe AzureRmLoadBalancer</span><span class="sxs-lookup"><span data-stu-id="652e9-140">New-AzureRmLoadBalancer</span></span>](/powershell/module/azurerm.network/new-azurermloadbalancer) | <span data-ttu-id="652e9-141">Hiermee maakt u een load balancer.</span><span class="sxs-lookup"><span data-stu-id="652e9-141">Creates a load balancer.</span></span> |
| [<span data-ttu-id="652e9-142">Nieuwe AzureRmNetworkInterfaceIpConfig</span><span class="sxs-lookup"><span data-stu-id="652e9-142">New-AzureRmNetworkInterfaceIpConfig</span></span>](/powershell/module/azurerm.network/new-azurermnetworkinterfaceipconfig) | <span data-ttu-id="652e9-143">Hiermee definieert u geavanceerde functies voor de virtuele netwerkinterface.</span><span class="sxs-lookup"><span data-stu-id="652e9-143">Defines advanced features for a virtual network interface.</span></span> |
| [<span data-ttu-id="652e9-144">Nieuwe AzureRmNetworkInterface</span><span class="sxs-lookup"><span data-stu-id="652e9-144">New-AzureRmNetworkInterface</span></span>](/powershell/module/azurerm.network/new-azurermnetworkinterface) | <span data-ttu-id="652e9-145">Maakt een netwerkinterface.</span><span class="sxs-lookup"><span data-stu-id="652e9-145">Creates a network interface.</span></span> |
| [<span data-ttu-id="652e9-146">Nieuwe AzureRmVMConfig</span><span class="sxs-lookup"><span data-stu-id="652e9-146">New-AzureRmVMConfig</span></span>](/powershell/module/azurerm.compute/new-azurermvmconfig) | <span data-ttu-id="652e9-147">Maakt een VM-configuratie.</span><span class="sxs-lookup"><span data-stu-id="652e9-147">Creates a VM configuration.</span></span> <span data-ttu-id="652e9-148">Deze configuratie bevat informatie zoals de naam, het besturingssysteem en de beheerdersreferenties VM.</span><span class="sxs-lookup"><span data-stu-id="652e9-148">This configuration includes information such as VM name, operating system, and administrative credentials.</span></span> <span data-ttu-id="652e9-149">De configuratie wordt gebruikt tijdens het maken van VM.</span><span class="sxs-lookup"><span data-stu-id="652e9-149">The configuration is used during VM creation.</span></span> |
| [<span data-ttu-id="652e9-150">Nieuwe-AzureRmVM</span><span class="sxs-lookup"><span data-stu-id="652e9-150">New-AzureRmVM</span></span>](/powershell/module/azurerm.compute/new-azurermvm) | <span data-ttu-id="652e9-151">Maak een virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="652e9-151">Create a virtual machine.</span></span> |
|[<span data-ttu-id="652e9-152">Remove-AzureRmResourceGroup</span><span class="sxs-lookup"><span data-stu-id="652e9-152">Remove-AzureRmResourceGroup</span></span>](/powershell/module/azurerm.resources/remove-azurermresourcegroup) | <span data-ttu-id="652e9-153">Hiermee verwijdert u een resourcegroep en alle resources binnen.</span><span class="sxs-lookup"><span data-stu-id="652e9-153">Removes a resource group and all resources contained within.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="652e9-154">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="652e9-154">Next steps</span></span>

<span data-ttu-id="652e9-155">Zie voor meer informatie over Azure PowerShell [documentatie van Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="652e9-155">For more information on the Azure PowerShell, see [Azure PowerShell documentation](https://docs.microsoft.com/powershell/azure/overview).</span></span>

<span data-ttu-id="652e9-156">Aanvullende voorbeelden voor netwerken PowerShell-script kunnen worden gevonden in de [overzicht van Azure-netwerken documentatie](../powershell-samples.md?toc=%2fazure%2fnetworking%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="652e9-156">Additional networking PowerShell script samples can be found in the [Azure Networking Overview documentation](../powershell-samples.md?toc=%2fazure%2fnetworking%2ftoc.json).</span></span>
