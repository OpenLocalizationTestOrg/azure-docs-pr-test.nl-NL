---
title: Hoge beschikbaarheid met data management gateway in Azure Data Factory | Microsoft Docs
description: Dit artikel wordt uitgelegd hoe u uit een data management gateway kunt schalen door het toevoegen van meer knooppunten en schaal omhoog door het aantal gelijktijdige taken die kunnen worden uitgevoerd op een knooppunt te verhogen.
services: data-factory
documentationcenter: 
author: nabhishek
manager: jhubbard
editor: 
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: abnarain
ms.openlocfilehash: b6bf353a2bad28b0db3a88e971e5c6b209b7ab2b
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/18/2017
---
# <a name="data-management-gateway---high-availability-and-scalability-preview"></a><span data-ttu-id="0eff2-103">Data Management Gateway - hoge beschikbaarheid en schaalbaarheid (Preview)</span><span class="sxs-lookup"><span data-stu-id="0eff2-103">Data Management Gateway - high availability and scalability (Preview)</span></span>
<span data-ttu-id="0eff2-104">In dit artikel kunt u hoge beschikbaarheid en schaalbaarheid oplossing configureren met Data Management Gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-104">This article helps you configure high availability and scalability solution with Data Management Gateway.</span></span>    

> [!NOTE]
> <span data-ttu-id="0eff2-105">In dit artikel wordt ervan uitgegaan dat u al bekend met de basisprincipes van Data Management Gateway bent.</span><span class="sxs-lookup"><span data-stu-id="0eff2-105">This article assumes that you are already familiar with basics of Data Management Gateway.</span></span> <span data-ttu-id="0eff2-106">Als u niet het geval is, Zie [Data Management Gateway](data-factory-data-management-gateway.md).</span><span class="sxs-lookup"><span data-stu-id="0eff2-106">If you are not, see [Data Management Gateway](data-factory-data-management-gateway.md).</span></span>

><span data-ttu-id="0eff2-107">**Deze preview-functie wordt officieel ondersteund op Data Management Gateway versie 2.12.xxxx.x en hoger**.</span><span class="sxs-lookup"><span data-stu-id="0eff2-107">**This preview feature is officially supported on Data Management Gateway version 2.12.xxxx.x and above**.</span></span> <span data-ttu-id="0eff2-108">Zorg ervoor dat u versie 2.12.xxxx.x of hoger.</span><span class="sxs-lookup"><span data-stu-id="0eff2-108">Please make sure you are using version 2.12.xxxx.x or above.</span></span> <span data-ttu-id="0eff2-109">Download de nieuwste versie van Data Management Gateway [hier](https://www.microsoft.com/download/details.aspx?id=39717).</span><span class="sxs-lookup"><span data-stu-id="0eff2-109">Download the latest version of Data Management Gateway [here](https://www.microsoft.com/download/details.aspx?id=39717).</span></span>

## <a name="overview"></a><span data-ttu-id="0eff2-110">Overzicht</span><span class="sxs-lookup"><span data-stu-id="0eff2-110">Overview</span></span>
<span data-ttu-id="0eff2-111">U kunt gegevens management gateways die zijn geïnstalleerd op meerdere lokale computers met een enkele logische gateway vanuit de portal kunt koppelen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-111">You can associate data management gateways that are installed on multiple on-premises machines with a single logical gateway from the portal.</span></span> <span data-ttu-id="0eff2-112">Deze machines heten **knooppunten**.</span><span class="sxs-lookup"><span data-stu-id="0eff2-112">These machines are called **nodes**.</span></span> <span data-ttu-id="0eff2-113">U kunt maximaal hebben **vier knooppunten** die zijn gekoppeld aan een logische gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-113">You can have up to **four nodes** associated with a logical gateway.</span></span> <span data-ttu-id="0eff2-114">De voordelen van meerdere knooppunten (op lokale computers met de gateway is geïnstalleerd) voor een logische gateway zijn:</span><span class="sxs-lookup"><span data-stu-id="0eff2-114">The benefits of having multiple nodes (on-premises machines with gateway installed) for a logical gateway are:</span></span>  

- <span data-ttu-id="0eff2-115">Prestaties van de verplaatsing van gegevens tussen on-premises en cloud gegevensarchieven.</span><span class="sxs-lookup"><span data-stu-id="0eff2-115">Improve performance of data movement between on-premises and cloud data stores.</span></span>  
- <span data-ttu-id="0eff2-116">Als een van de knooppunten uitgeschakeld voor een bepaalde reden wordt, nog andere knooppunten steeds beschikbaar voor het verplaatsen van de gegevens.</span><span class="sxs-lookup"><span data-stu-id="0eff2-116">If one of the nodes goes down for some reason, other nodes are still available for moving the data.</span></span> 
- <span data-ttu-id="0eff2-117">Als een van de knooppunten offline worden gehaald voor onderhoud moet, nog andere knooppunten steeds beschikbaar voor het verplaatsen van de gegevens.</span><span class="sxs-lookup"><span data-stu-id="0eff2-117">If one of the nodes need to be taken offline for maintenance, other nodes are still available for moving the data.</span></span>

<span data-ttu-id="0eff2-118">U kunt ook configureren met het aantal **gelijktijdige data movement taken** die kunnen worden uitgevoerd op een knooppunt als de mogelijkheid om gegevens te verplaatsen tussen on-premises en cloud opschalen gegevensarchieven.</span><span class="sxs-lookup"><span data-stu-id="0eff2-118">You can also configure the number of **concurrent data movement jobs** that can run on a node to scale up the capability of moving data between on-premises and cloud data stores.</span></span> 

<span data-ttu-id="0eff2-119">De Azure-portal kunt u de status van deze knooppunten, waardoor u beslissen of u wilt toevoegen of verwijderen van een knooppunt van de logische gateway bewaken.</span><span class="sxs-lookup"><span data-stu-id="0eff2-119">Using the Azure portal, you can monitor the status of these nodes, which helps you decide whether to add or remove a node from the logical gateway.</span></span> 

## <a name="architecture"></a><span data-ttu-id="0eff2-120">Architectuur</span><span class="sxs-lookup"><span data-stu-id="0eff2-120">Architecture</span></span> 
<span data-ttu-id="0eff2-121">Het volgende diagram biedt een architectuuroverzicht van de van schaalbaarheid en beschikbaarheid van onderdeel van Data Management Gateway:</span><span class="sxs-lookup"><span data-stu-id="0eff2-121">The following diagram provides the architecture overview of scalability and availability feature of the Data Management Gateway:</span></span> 

![Data Management Gateway - hoge beschikbaarheid en schaalbaarheid](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-high-availability-and-scalability.png)

<span data-ttu-id="0eff2-123">Een **logische gateway** is van de gateway die u aan een gegevensfactory in de Azure portal toevoegt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-123">A **logical gateway** is the gateway you add to a data factory in the Azure portal.</span></span> <span data-ttu-id="0eff2-124">Eerder, kan u slechts één lokale Windows-machine met Data Management Gateway is geïnstalleerd met een logische gateway koppelen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-124">Earlier, you could associate only one on-premises Windows machine with Data Management Gateway installed with a logical gateway.</span></span> <span data-ttu-id="0eff2-125">Dit lokale gateway-apparaat wordt een knooppunt genoemd.</span><span class="sxs-lookup"><span data-stu-id="0eff2-125">This on-premises gateway machine is called a node.</span></span> <span data-ttu-id="0eff2-126">Nu u maximaal kunt koppelen **vier fysieke knooppunten** met een logische gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-126">Now, you can associate up to **four physical nodes** with a logical gateway.</span></span> <span data-ttu-id="0eff2-127">Een logische gateway met meerdere knooppunten heet een **met meerdere knooppunten gateway**.</span><span class="sxs-lookup"><span data-stu-id="0eff2-127">A logical gateway with multiple nodes is called a **multi-node gateway**.</span></span>  

<span data-ttu-id="0eff2-128">Alle deze knooppunten zijn **active**.</span><span class="sxs-lookup"><span data-stu-id="0eff2-128">All these nodes are **active**.</span></span> <span data-ttu-id="0eff2-129">Alle data movement taken om gegevens te verplaatsen tussen on-premises en cloud kunnen verwerken gegevensarchieven.</span><span class="sxs-lookup"><span data-stu-id="0eff2-129">They all can process data movement jobs to move data between on-premises and cloud data stores.</span></span> <span data-ttu-id="0eff2-130">Een van de knooppunten fungeren als de dispatcher- en werkrollen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-130">One of the nodes act as both dispatcher and worker.</span></span> <span data-ttu-id="0eff2-131">Andere knooppunten in de groepen zijn worker-knooppunten.</span><span class="sxs-lookup"><span data-stu-id="0eff2-131">Other nodes in the groups are worker nodes.</span></span> <span data-ttu-id="0eff2-132">Een **dispatcher** knooppunt data movement taken/taken van de cloudservice ophaalt en verzendt ze naar worker-knooppunten (inclusief zelf).</span><span class="sxs-lookup"><span data-stu-id="0eff2-132">A **dispatcher** node pulls data movement tasks/jobs from the cloud service and dispatches them to worker nodes (including itself).</span></span> <span data-ttu-id="0eff2-133">Een **worker** knooppunt wordt uitgevoerd gegevens gegevensverplaatsing taken om gegevens te verplaatsen tussen on-premises en cloud gegevensarchieven.</span><span class="sxs-lookup"><span data-stu-id="0eff2-133">A **worker** node executes data movement jobs to move data between on-premises and cloud data stores.</span></span> <span data-ttu-id="0eff2-134">Alle knooppunten zijn werknemers.</span><span class="sxs-lookup"><span data-stu-id="0eff2-134">All nodes are workers.</span></span> <span data-ttu-id="0eff2-135">Slechts één knooppunt kan worden dispatch- en werkrollen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-135">Only one node can be both dispatch and worker.</span></span>    

<span data-ttu-id="0eff2-136">Kan u doorgaans begint met één knooppunt en **uitschalen** meer knooppunten, zoals de bestaande knooppunten worden overbelast met het laden van de verplaatsing van gegevens toevoegen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-136">You may typically start with one node and **scale out** to add more nodes as the existing node(s) are overwhelmed with the data movement load.</span></span> <span data-ttu-id="0eff2-137">U kunt ook **opschalen** de mogelijkheid van de verplaatsing van gegevens van een gateway-knooppunt door het aantal gelijktijdige taken die mogen worden uitgevoerd op het knooppunt te verhogen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-137">You can also **scale up** the data movement capability of a gateway node by increasing the number of concurrent jobs that are allowed to run on the node.</span></span> <span data-ttu-id="0eff2-138">Deze mogelijkheid is ook beschikbaar met één knooppunt gateway (zelfs wanneer de functie voor schaalbaarheid en beschikbaarheid is niet ingeschakeld).</span><span class="sxs-lookup"><span data-stu-id="0eff2-138">This capability is also available with a single-node gateway (even when the scalability and availability feature is not enabled).</span></span> 

<span data-ttu-id="0eff2-139">Een gateway met meerdere knooppunten houdt u de referenties voor gegevensopslag synchroon op alle knooppunten.</span><span class="sxs-lookup"><span data-stu-id="0eff2-139">A gateway with multiple nodes keeps the data store credentials in sync across all nodes.</span></span> <span data-ttu-id="0eff2-140">Als er een knooppunt naar verbindingsprobleem is, kunnen de referenties zijn niet gesynchroniseerd. Als u referenties voor een lokale gegevensarchief die gebruikmaakt van een gateway instelt, worden referenties opgeslagen op het knooppunt dispatcher/worker.</span><span class="sxs-lookup"><span data-stu-id="0eff2-140">If there is a node-to-node connectivity issue, the credentials may be out of sync. When you set credentials for an on-premises data store that uses a gateway, it saves credentials on the dispatcher/worker node.</span></span> <span data-ttu-id="0eff2-141">De dispatcher-knooppunt wordt gesynchroniseerd met andere worker-knooppunten.</span><span class="sxs-lookup"><span data-stu-id="0eff2-141">The dispatcher node syncs with other worker nodes.</span></span> <span data-ttu-id="0eff2-142">Dit proces wordt ook wel **referenties sync**. Het communicatiekanaal tussen knooppunten kan worden **versleutelde** door een openbare SSL/TLS-certificaat.</span><span class="sxs-lookup"><span data-stu-id="0eff2-142">This process is known as **credentials sync**. The communication channel between nodes can be **encrypted** by a public SSL/TLS certificate.</span></span> 

## <a name="set-up-a-multi-node-gateway"></a><span data-ttu-id="0eff2-143">Instellen van een gateway met meerdere knooppunten</span><span class="sxs-lookup"><span data-stu-id="0eff2-143">Set up a multi-node gateway</span></span>
<span data-ttu-id="0eff2-144">Deze sectie wordt ervan uitgegaan dat u hebt doorlopen de volgende twee artikelen of bekend bent met concepten in deze artikelen:</span><span class="sxs-lookup"><span data-stu-id="0eff2-144">This section assumes that you have gone through the following two articles or familiar with concepts in these articles:</span></span> 

- <span data-ttu-id="0eff2-145">[Data Management Gateway](data-factory-data-management-gateway.md) -bevat een gedetailleerd overzicht van de gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-145">[Data Management Gateway](data-factory-data-management-gateway.md) - provides a detailed overview of the gateway.</span></span>
- <span data-ttu-id="0eff2-146">[Gegevens verplaatsen tussen on-premises en cloud gegevensarchieven](data-factory-move-data-between-onprem-and-cloud.md) -bevat een overzicht met stapsgewijze instructies voor het gebruik van een gateway met één knooppunt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-146">[Move data between on-premises and cloud data stores](data-factory-move-data-between-onprem-and-cloud.md) - contains a walkthrough with step-by-step instructions for using a gateway with a single node.</span></span>  

> [!NOTE]
> <span data-ttu-id="0eff2-147">Raadpleeg voordat u een data management gateway op een lokale Windows-machine installeert, vereisten die worden vermeld [het belangrijkste artikel](data-factory-data-management-gateway.md#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="0eff2-147">Before you install a data management gateway on an on-premises Windows machine, see prerequisites listed in [the main article](data-factory-data-management-gateway.md#prerequisites).</span></span>

1. <span data-ttu-id="0eff2-148">In de [scenario](data-factory-move-data-between-onprem-and-cloud.md#create-gateway), tijdens het maken van een logische gateway inschakelen de **hoge beschikbaarheid en schaalbaarheid** functie.</span><span class="sxs-lookup"><span data-stu-id="0eff2-148">In the [walkthrough](data-factory-move-data-between-onprem-and-cloud.md#create-gateway), while creating a logical gateway, enable the **High Availability & Scalability** feature.</span></span> 

    ![Data Management Gateway - enable hoge beschikbaarheid en schaalbaarheid](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-enable-high-availability-scalability.png)
2. <span data-ttu-id="0eff2-150">In de **configureren** pagina, gebruikt u een **snelle installatie** of **handmatige installatie** koppelen aan een gateway installeren op het eerste knooppunt (een lokale Windows-machine).</span><span class="sxs-lookup"><span data-stu-id="0eff2-150">In the **Configure** page, use either **Express Setup** or **Manual Setup** link to install a gateway on the first node (an on-premises Windows machine).</span></span>

    ![Data Management Gateway - expliciete of handmatige installatie](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-express-manual-setup.png)

    > [!NOTE]
    > <span data-ttu-id="0eff2-152">Als u de snelle installatie-optie gebruikt, wordt de communicatie knooppunt naar uitgevoerd zonder versleuteling.</span><span class="sxs-lookup"><span data-stu-id="0eff2-152">If you use the express setup option, the node-to-node communication is done without encryption.</span></span> <span data-ttu-id="0eff2-153">Naam van het knooppunt is hetzelfde als de naam van de machine.</span><span class="sxs-lookup"><span data-stu-id="0eff2-153">The node name is same as the machine name.</span></span> <span data-ttu-id="0eff2-154">Handmatige installatie gebruiken als de communicatie van de knooppunten moet worden versleuteld of u wilt dat de knooppuntnaam van een van uw keuze op te geven.</span><span class="sxs-lookup"><span data-stu-id="0eff2-154">Use manual setup if the node-node communication needs to be encrypted or you want to specify a node name of your choice.</span></span> <span data-ttu-id="0eff2-155">Knooppuntnamen kunnen niet later worden bewerkt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-155">Node names cannot be edited later.</span></span>
3. <span data-ttu-id="0eff2-156">Als u ervoor kiest **snelle installatie**</span><span class="sxs-lookup"><span data-stu-id="0eff2-156">If you choose **express setup**</span></span>
    1. <span data-ttu-id="0eff2-157">U ziet het volgende bericht nadat de gateway is geïnstalleerd:</span><span class="sxs-lookup"><span data-stu-id="0eff2-157">You see the following message after the gateway is successfully installed:</span></span>

        ![Data Management Gateway - snelle installatie geslaagd](media/data-factory-data-management-gateway-high-availability-scalability/express-setup-success.png)
    2. <span data-ttu-id="0eff2-159">Data Management Configuration Manager voor de gateway starten door [deze instructies](data-factory-data-management-gateway.md#configuration-manager).</span><span class="sxs-lookup"><span data-stu-id="0eff2-159">Launch Data Management Configuration Manager for the gateway by following [these instructions](data-factory-data-management-gateway.md#configuration-manager).</span></span> <span data-ttu-id="0eff2-160">Ziet u de gatewaynaam, knooppuntnaam, status, enzovoort.</span><span class="sxs-lookup"><span data-stu-id="0eff2-160">You see the gateway name, node name, status, etc.</span></span>

        ![Data Management Gateway - installatie is geslaagd](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-installation-success.png)
4. <span data-ttu-id="0eff2-162">Als u ervoor kiest **handmatige installatie**:</span><span class="sxs-lookup"><span data-stu-id="0eff2-162">If you choose **manual setup**:</span></span>
    1. <span data-ttu-id="0eff2-163">Download het installatiepakket van het Microsoft Download Center, deze gateway installeren op uw computer uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="0eff2-163">Download the installation package from the Microsoft Download Center, run it to install gateway on your machine.</span></span>
    2. <span data-ttu-id="0eff2-164">Gebruik de **verificatiesleutel** van de **configureren** pagina om de gateway te registreren.</span><span class="sxs-lookup"><span data-stu-id="0eff2-164">Use the **authentication key** from the **Configure** page to register the gateway.</span></span>
    
        ![Data Management Gateway - installatie is geslaagd](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-authentication-key.png)
    3. <span data-ttu-id="0eff2-166">In de **nieuwe gateway-knooppunt** pagina kunt u een aangepaste bieden **naam** naar het gateway-knooppunt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-166">In the **New gateway node** page, you can provide a custom **name** to the gateway node.</span></span> <span data-ttu-id="0eff2-167">Naam van het knooppunt is standaard hetzelfde als de naam van de machine.</span><span class="sxs-lookup"><span data-stu-id="0eff2-167">By default, node name is same as the machine name.</span></span>    

        ![Data Management Gateway - naam opgeven](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-name.png)
    4. <span data-ttu-id="0eff2-169">In de volgende pagina kunt u kiezen of u wilt **Schakel versleuteling voor communicatie van knooppunt naar**.</span><span class="sxs-lookup"><span data-stu-id="0eff2-169">In the next page, you can choose whether to **enable encryption for node-to-node communication**.</span></span> <span data-ttu-id="0eff2-170">Klik op **overslaan** uitschakelen codering (standaard).</span><span class="sxs-lookup"><span data-stu-id="0eff2-170">Click **Skip** to disable encryption (default).</span></span>

        ![Data Management Gateway - codering inschakelen](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-node-encryption.png)  
    
        > [!NOTE]
        > <span data-ttu-id="0eff2-172">Wijzigen van de versleuteling wordt alleen ondersteund als er een enkele gateway-knooppunt in de logische gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-172">Changing of encryption mode is only supported when you have a single gateway node in the logical gateway.</span></span> <span data-ttu-id="0eff2-173">Te wilt wijzigen dat de modus versleuteling wanneer een gateway meerdere knooppunten heeft in de volgende stappen: verwijderen van alle knooppunten behalve één knooppunt, wijzig de modus voor versleuteling en voegt u de knooppunten opnieuw toe.</span><span class="sxs-lookup"><span data-stu-id="0eff2-173">To change the encryption mode when a gateway has multiple nodes, do the following steps: delete all the nodes except one node, change the encryption mode, and then add the nodes again.</span></span>
        > 
        > <span data-ttu-id="0eff2-174">Zie [vereisten voor TLS/SSL-certificaten](#tlsssl-certificate-requirements) sectie voor een lijst met vereisten voor het gebruik van een TLS/SSL-certificaat.</span><span class="sxs-lookup"><span data-stu-id="0eff2-174">See [TLS/SSL certificate requirements](#tlsssl-certificate-requirements) section for a list of requirements for using an TLS/SSL certificate.</span></span> 
    5. <span data-ttu-id="0eff2-175">Nadat de gateway is geïnstalleerd, klikt u op Start Configuration Manager:</span><span class="sxs-lookup"><span data-stu-id="0eff2-175">After the gateway is successfully installed, click Launch Configuration Manager:</span></span>
    
        ![Handmatige installatie - launch configuration manager](media/data-factory-data-management-gateway-high-availability-scalability/manual-setup-launch-configuration-manager.png)   
    6. <span data-ttu-id="0eff2-177">u ziet Data Management Gateway Configuration Manager op het knooppunt (lokale Windows-computer) waarin verbindingsstatus **gatewaynaam**, en **knooppuntnaam**.</span><span class="sxs-lookup"><span data-stu-id="0eff2-177">you see Data Management Gateway Configuration Manager on the node (on-premises Windows machine), which shows connectivity status, **gateway name**, and **node name**.</span></span>  

        ![Data Management Gateway - installatie is geslaagd](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-installation-success.png)

        > [!NOTE]
        > <span data-ttu-id="0eff2-179">Als u de gateway op een Azure VM inricht, kunt u [deze Azure Resource Manager-sjabloon op GitHub](https://github.com/xiaoyingLJ/vms-with-multiple-data-management-gateway).</span><span class="sxs-lookup"><span data-stu-id="0eff2-179">If you are provisioning the gateway on an Azure VM, you can use [this Azure Resource Manager template on GitHub](https://github.com/xiaoyingLJ/vms-with-multiple-data-management-gateway).</span></span> <span data-ttu-id="0eff2-180">Dit script maakt een logische gateway, stelt u de virtuele machines met Data Management Gateway-software is geïnstalleerd en registreert ze met de logische gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-180">This script creates a logical gateway, sets up VMs with Data Management Gateway software installed, and registers them with the logical gateway.</span></span> 
6. <span data-ttu-id="0eff2-181">Start in de Azure-portal, de **Gateway** pagina:</span><span class="sxs-lookup"><span data-stu-id="0eff2-181">In Azure portal, launch the **Gateway** page:</span></span> 
    1. <span data-ttu-id="0eff2-182">Klik op de data factory startpagina in de portal op **gekoppelde Services**.</span><span class="sxs-lookup"><span data-stu-id="0eff2-182">On the data factory home page in the portal, click **Linked Services**.</span></span>
    
        ![Startpagina van de gegevensfactory](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-home-page.png)
    2. <span data-ttu-id="0eff2-184">Selecteer de **gateway** om te zien de **Gateway** pagina:</span><span class="sxs-lookup"><span data-stu-id="0eff2-184">select the **gateway** to see the **Gateway** page:</span></span>
    
        ![Startpagina van de gegevensfactory](media/data-factory-data-management-gateway-high-availability-scalability/linked-services-gateway.png)
    4. <span data-ttu-id="0eff2-186">U ziet de **Gateway** pagina:</span><span class="sxs-lookup"><span data-stu-id="0eff2-186">You see the **Gateway** page:</span></span>   

        ![Gateway met één knooppunt weergeven](media/data-factory-data-management-gateway-high-availability-scalability/gateway-first-node-portal-view.png) 
7. <span data-ttu-id="0eff2-188">Klik op **knooppunt toevoegen** op de werkbalk om een knooppunt toevoegen aan de logische gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-188">Click **Add Node** on the toolbar to add a node to the logical gateway.</span></span> <span data-ttu-id="0eff2-189">Als u van plan bent de snelle installatie gebruiken, moet u deze stap doen vanuit de on-premises machine die worden toegevoegd als een knooppunt met de gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-189">If you are planning to use express setup, do this step from the on-premises machine that will be added as a node to the gateway.</span></span> 

    ![Data Management Gateway - knooppunt menu toevoegen](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-add-node-menu.png)
8. <span data-ttu-id="0eff2-191">Stappen zijn vergelijkbaar met het instellen van het eerste knooppunt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-191">Steps are similar to setting up the first node.</span></span> <span data-ttu-id="0eff2-192">De Configuration Manager-UI kunt u de knooppuntnaam niet instellen als u de optie voor handmatige installatie:</span><span class="sxs-lookup"><span data-stu-id="0eff2-192">The Configuration Manager UI lets you set the node name if you choose the manual installation option:</span></span> 

    ![Configuration Manager - tweede gateway installeren](media/data-factory-data-management-gateway-high-availability-scalability/install-second-gateway.png)
9. <span data-ttu-id="0eff2-194">Nadat de gateway is geïnstalleerd op het knooppunt, wordt het volgende scherm weergegeven in het hulpprogramma Configuration Manager:</span><span class="sxs-lookup"><span data-stu-id="0eff2-194">After the gateway is installed successfully on the node, the Configuration Manager tool displays the following screen:</span></span>  

    ![Configuration Manager - installatie tweede gateway geslaagd](media/data-factory-data-management-gateway-high-availability-scalability/second-gateway-installation-successful.png)
10. <span data-ttu-id="0eff2-196">Als u opent de **Gateway** pagina in de portal ziet u twee knooppunten van de gateway nu:</span><span class="sxs-lookup"><span data-stu-id="0eff2-196">If you open the **Gateway** page in the portal, you see two gateway nodes now:</span></span> 

    ![Gateway met twee knooppunten in de portal](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring.png)
11. <span data-ttu-id="0eff2-198">Als u wilt verwijderen een gateway-knooppunt, klikt u op **knooppunt verwijderen** op de werkbalk, selecteert u het knooppunt dat u wilt verwijderen en klik vervolgens op **verwijderen** van de werkbalk.</span><span class="sxs-lookup"><span data-stu-id="0eff2-198">To delete a gateway node, click **Delete Node** on the toolbar, select the node you want to delete, and then click **Delete** from the toolbar.</span></span> <span data-ttu-id="0eff2-199">Deze actie wordt het geselecteerde knooppunt verwijderd uit de groep.</span><span class="sxs-lookup"><span data-stu-id="0eff2-199">This action deletes the selected node from the group.</span></span> <span data-ttu-id="0eff2-200">Houd er rekening mee dat deze actie niet de data management gateway-software uit het knooppunt (lokale Windows-machine verwijderen).</span><span class="sxs-lookup"><span data-stu-id="0eff2-200">Note that this action does not uninstall the data management gateway software from the node (on-premises Windows machine).</span></span> <span data-ttu-id="0eff2-201">Gebruik **software** in het Configuratiescherm op de on-premises verwijderen van de gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-201">Use **Add or remove programs** in Control Panel on the on-premises to uninstall the gateway.</span></span> <span data-ttu-id="0eff2-202">Wanneer u gateway vanuit het knooppunt verwijdert, wordt deze automatisch verwijderd in de portal.</span><span class="sxs-lookup"><span data-stu-id="0eff2-202">When you uninstall gateway from the node, it's automatically deleted in the portal.</span></span>   

## <a name="upgrade-an-existing-gateway"></a><span data-ttu-id="0eff2-203">Upgrade van een bestaande gateway</span><span class="sxs-lookup"><span data-stu-id="0eff2-203">Upgrade an existing gateway</span></span>
<span data-ttu-id="0eff2-204">U kunt een bestaande gateway voor het gebruik van de functie voor hoge beschikbaarheid en schaalbaarheid upgraden.</span><span class="sxs-lookup"><span data-stu-id="0eff2-204">You can upgrade an existing gateway to use the high availability and scalability feature.</span></span> <span data-ttu-id="0eff2-205">Deze functie werkt alleen met knooppunten met de data management gateway met versie > = 2.12.xxxx.</span><span class="sxs-lookup"><span data-stu-id="0eff2-205">This feature works only with nodes that have the data management gateway of version >= 2.12.xxxx.</span></span> <span data-ttu-id="0eff2-206">U kunt zien dat de versie van data management gateway is geïnstalleerd op een computer in de **Help** tabblad van de Data Management Gateway Configuration Manager.</span><span class="sxs-lookup"><span data-stu-id="0eff2-206">You can see the version of data management gateway installed on a machine in the **Help** tab of the Data Management Gateway Configuration Manager.</span></span> 

1. <span data-ttu-id="0eff2-207">Bijwerken van de gateway op de on-premises machine naar de nieuwste versie door de volgende door te downloaden en uitvoeren van een MSI setup-pakket van de [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).</span><span class="sxs-lookup"><span data-stu-id="0eff2-207">Update the gateway on the on-premises machine to the latest version by following by downloading and running an MSI setup package from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).</span></span> <span data-ttu-id="0eff2-208">Zie [installatie](data-factory-data-management-gateway.md#installation) sectie voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="0eff2-208">See [installation](data-factory-data-management-gateway.md#installation) section for details.</span></span>  
2. <span data-ttu-id="0eff2-209">Navigeer naar de Azure-portal.</span><span class="sxs-lookup"><span data-stu-id="0eff2-209">Navigate to the Azure portal.</span></span> <span data-ttu-id="0eff2-210">Start de **Data Factory pagina** van uw gegevensfactory.</span><span class="sxs-lookup"><span data-stu-id="0eff2-210">Launch the **Data Factory page** for your data factory.</span></span> <span data-ttu-id="0eff2-211">Klik op de tegel van de gekoppelde services starten de **gekoppelde servicepagina**.</span><span class="sxs-lookup"><span data-stu-id="0eff2-211">Click Linked services tile to launch the **linked services page**.</span></span> <span data-ttu-id="0eff2-212">Selecteer de gateway starten de **pagina gateway**.</span><span class="sxs-lookup"><span data-stu-id="0eff2-212">Select the gateway to launch the **gateway page**.</span></span> <span data-ttu-id="0eff2-213">Klik op en schakel **Preview-functie** zoals weergegeven in de volgende afbeelding:</span><span class="sxs-lookup"><span data-stu-id="0eff2-213">Click and enable **Preview Feature** as shown in the following image:</span></span> 

    ![Data Management Gateway - preview-functie inschakelen](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-existing-gateway-enable-high-availability.png)   
2. <span data-ttu-id="0eff2-215">Zodra de preview-functie is ingeschakeld in de portal, sluit u alle pagina's.</span><span class="sxs-lookup"><span data-stu-id="0eff2-215">Once the preview feature is enabled in the portal, close all pages.</span></span> <span data-ttu-id="0eff2-216">Open de **pagina gateway** om te zien van de nieuwe preview-gebruikersinterface (UI).</span><span class="sxs-lookup"><span data-stu-id="0eff2-216">Reopen the **gateway page** to see the new preview user interface (UI).</span></span>
 
    ![Data Management Gateway - enable preview-functie geslaagd](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-preview-success.png)

    ![Data Management Gateway - preview-gebruikersinterface](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-preview.png)

    > [!NOTE]
    > <span data-ttu-id="0eff2-219">Naam van het eerste knooppunt is tijdens de upgrade is de naam van de machine.</span><span class="sxs-lookup"><span data-stu-id="0eff2-219">During the upgrade, name of the first node is the name of the machine.</span></span> 
3. <span data-ttu-id="0eff2-220">Voeg nu een knooppunt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-220">Now, add a node.</span></span> <span data-ttu-id="0eff2-221">In de **Gateway** pagina, klikt u op **knooppunt toevoegen**.</span><span class="sxs-lookup"><span data-stu-id="0eff2-221">In the **Gateway** page, click **Add Node**.</span></span>  

    ![Data Management Gateway - knooppunt menu toevoegen](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-add-node-menu.png)

    <span data-ttu-id="0eff2-223">Volg de instructies uit de vorige sectie voor het instellen van het knooppunt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-223">Follow instructions from the previous section to set up the node.</span></span> 

### <a name="installation-best-practices"></a><span data-ttu-id="0eff2-224">Best practices voor installatie</span><span class="sxs-lookup"><span data-stu-id="0eff2-224">Installation best practices</span></span>

- <span data-ttu-id="0eff2-225">Energiebeheerschema op de hostcomputer voor de gateway zodanig configureren dat de machine sluimerstand niet.</span><span class="sxs-lookup"><span data-stu-id="0eff2-225">Configure power plan on the host machine for the gateway so that the machine does not hibernate.</span></span> <span data-ttu-id="0eff2-226">Als de hostmachine in de slaapstand, reageert de gateway niet op gegevensaanvragen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-226">If the host machine hibernates, the gateway does not respond to data requests.</span></span>
- <span data-ttu-id="0eff2-227">Back-up van het certificaat dat hoort bij de gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-227">Back up the certificate associated with the gateway.</span></span>
- <span data-ttu-id="0eff2-228">Zorg ervoor dat alle knooppunten van vergelijkbare configuratie (aanbevolen) voor ideaal prestaties zijn.</span><span class="sxs-lookup"><span data-stu-id="0eff2-228">Ensure all nodes are of similar configuration (recommended) for ideal performance.</span></span> 
- <span data-ttu-id="0eff2-229">Voeg ten minste twee knooppunten voor hoge beschikbaarheid garanderen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-229">Add at least two nodes to ensure high availability.</span></span>  

### <a name="tlsssl-certificate-requirements"></a><span data-ttu-id="0eff2-230">Vereisten voor TLS/SSL-certificaten</span><span class="sxs-lookup"><span data-stu-id="0eff2-230">TLS/SSL certificate requirements</span></span>
<span data-ttu-id="0eff2-231">Hier volgen de vereisten voor het TLS/SSL-certificaat dat wordt gebruikt voor het beveiligen van communicatie tussen de gateway-knooppunten:</span><span class="sxs-lookup"><span data-stu-id="0eff2-231">Here are the requirements for the TLS/SSL certificate that is used for securing communications between gateway nodes:</span></span>

- <span data-ttu-id="0eff2-232">Het certificaat moet een openbaar vertrouwde X509 v3-certificaat.</span><span class="sxs-lookup"><span data-stu-id="0eff2-232">The certificate must be a publicly trusted X509 v3 certificate.</span></span>
- <span data-ttu-id="0eff2-233">Alle knooppunten van de gateway, moeten dit certificaat vertrouwen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-233">All gateway nodes must trust this certificate.</span></span> 
- <span data-ttu-id="0eff2-234">Het is raadzaam om gebruik te maken van certificaten die zijn uitgegeven door een openbare (derde) certificeringsinstantie (CA).</span><span class="sxs-lookup"><span data-stu-id="0eff2-234">We recommend that you use certificates that are issued by a public (third-party) certification authority (CA).</span></span>
- <span data-ttu-id="0eff2-235">Ondersteunt sleutelgrootte voor SSL-certificaten wordt ondersteund door Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="0eff2-235">Supports any key size supported by Windows Server 2012 R2 for SSL certificates.</span></span>
- <span data-ttu-id="0eff2-236">Ondersteunt geen certificaten met CNG-sleutels.</span><span class="sxs-lookup"><span data-stu-id="0eff2-236">Does not support certificates that use CNG keys.</span></span>
- <span data-ttu-id="0eff2-237">Jokertekens certificaten worden ondersteund.</span><span class="sxs-lookup"><span data-stu-id="0eff2-237">Wild-card certificates are supported.</span></span> 


## <a name="monitor-a-multi-node-gateway"></a><span data-ttu-id="0eff2-238">Monitor voor een gateway met meerdere knooppunten</span><span class="sxs-lookup"><span data-stu-id="0eff2-238">Monitor a multi-node gateway</span></span>
### <a name="multi-node-gateway-monitoring"></a><span data-ttu-id="0eff2-239">Bewaking van de gateway met meerdere knooppunten</span><span class="sxs-lookup"><span data-stu-id="0eff2-239">Multi-node gateway monitoring</span></span>
<span data-ttu-id="0eff2-240">U kunt vrijwel in realtime momentopname van Resourcegebruik (CPU, geheugen, network(in/out), enz.) op elk knooppunt samen met de status van gateway-knooppunten weergeven in de Azure portal.</span><span class="sxs-lookup"><span data-stu-id="0eff2-240">In the Azure portal, you can view near-real time snapshot of resource utilization (CPU, memory, network(in/out), etc.) on each node along with statuses of gateway nodes.</span></span> 

![Data Management Gateway - bewaking van meerdere knooppunten](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring.png)

<span data-ttu-id="0eff2-242">U kunt inschakelen **geavanceerde instellingen** in de **Gateway** pagina voor geavanceerde metrische gegevens zoals **netwerk**(in/uit), **rol & Status van de referentie**, die u kan helpen bij foutopsporing gateway-problemen en **gelijktijdige taken** (actief / beperken) die kan worden gewijzigd / gewijzigde dienovereenkomstig tijdens prestaties afstemmen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-242">You can enable **Advanced Settings** in the **Gateway** page to see advanced metrics like **Network**(in/out), **Role & Credential Status**, which is helpful in debugging gateway issues, and **Concurrent Jobs** (Running/ Limit) which can be modified/ changed accordingly during performance tuning.</span></span> <span data-ttu-id="0eff2-243">De volgende tabel bevat beschrijvingen van kolommen in de **Gateway-knooppunten** lijst:</span><span class="sxs-lookup"><span data-stu-id="0eff2-243">The following table provides descriptions of columns in the **Gateway Nodes** list:</span></span>  

<span data-ttu-id="0eff2-244">Bewaking van eigenschap</span><span class="sxs-lookup"><span data-stu-id="0eff2-244">Monitoring Property</span></span> | <span data-ttu-id="0eff2-245">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="0eff2-245">Description</span></span>
:------------------ | :---------- 
<span data-ttu-id="0eff2-246">Naam</span><span class="sxs-lookup"><span data-stu-id="0eff2-246">Name</span></span> | <span data-ttu-id="0eff2-247">Naam van de logische gateway en de knooppunten die zijn gekoppeld aan de gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-247">Name of the logical gateway and nodes associated with the gateway.</span></span>  
<span data-ttu-id="0eff2-248">Status</span><span class="sxs-lookup"><span data-stu-id="0eff2-248">Status</span></span> | <span data-ttu-id="0eff2-249">Status van de logische gateway en de gateway-knooppunten.</span><span class="sxs-lookup"><span data-stu-id="0eff2-249">Status of the logical gateway and the gateway nodes.</span></span> <span data-ttu-id="0eff2-250">Voorbeeld: Online/Offline/Limited/enz. Zie voor meer informatie over deze statussen [gatewaystatus](#gateway-status) sectie.</span><span class="sxs-lookup"><span data-stu-id="0eff2-250">Example: Online/Offline/Limited/etc. For information about these statuses, See [Gateway status](#gateway-status) section.</span></span> 
<span data-ttu-id="0eff2-251">Versie</span><span class="sxs-lookup"><span data-stu-id="0eff2-251">Version</span></span> | <span data-ttu-id="0eff2-252">Toont de versie van de logische gateway en elk gateway-knooppunt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-252">Shows the version of the logical gateway and each gateway node.</span></span> <span data-ttu-id="0eff2-253">De versie van de logische gateway wordt bepaald op basis van de versie van het merendeel van de knooppunten in de groep.</span><span class="sxs-lookup"><span data-stu-id="0eff2-253">The version of the logical gateway is determined based on version of majority of nodes in the group.</span></span> <span data-ttu-id="0eff2-254">Als er knooppunten met verschillende versies in de logische gateway setup alleen de knooppunten met hetzelfde versienummer als de functie logische gateway correct zijn.</span><span class="sxs-lookup"><span data-stu-id="0eff2-254">If there are nodes with different versions in the logical gateway setup, only the nodes with the same version number as the logical gateway function properly.</span></span> <span data-ttu-id="0eff2-255">Anderen in de beperkte modus zijn en moeten handmatig worden bijgewerkt (alleen als automatische updates is mislukt).</span><span class="sxs-lookup"><span data-stu-id="0eff2-255">Others are in the limited mode and need to be manually updated (only in case auto-update fails).</span></span> 
<span data-ttu-id="0eff2-256">Beschikbaar geheugen</span><span class="sxs-lookup"><span data-stu-id="0eff2-256">Available memory</span></span> | <span data-ttu-id="0eff2-257">Beschikbaar geheugen op een gateway-knooppunt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-257">Available memory on a gateway node.</span></span> <span data-ttu-id="0eff2-258">Deze waarde is een momentopname van een bijna realtime.</span><span class="sxs-lookup"><span data-stu-id="0eff2-258">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="0eff2-259">CPU-gebruik</span><span class="sxs-lookup"><span data-stu-id="0eff2-259">CPU utilization</span></span> | <span data-ttu-id="0eff2-260">CPU-gebruik van een gateway-knooppunt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-260">CPU utilization of a gateway node.</span></span> <span data-ttu-id="0eff2-261">Deze waarde is een momentopname van een bijna realtime.</span><span class="sxs-lookup"><span data-stu-id="0eff2-261">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="0eff2-262">Networking (In/Out)</span><span class="sxs-lookup"><span data-stu-id="0eff2-262">Networking (In/Out)</span></span> | <span data-ttu-id="0eff2-263">Netwerkgebruik van een gateway-knooppunt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-263">Network utilization of a gateway node.</span></span> <span data-ttu-id="0eff2-264">Deze waarde is een momentopname van een bijna realtime.</span><span class="sxs-lookup"><span data-stu-id="0eff2-264">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="0eff2-265">Gelijktijdige taken (actief / beperken)</span><span class="sxs-lookup"><span data-stu-id="0eff2-265">Concurrent Jobs (Running/ Limit)</span></span> | <span data-ttu-id="0eff2-266">Het aantal taken of taken die op elk knooppunt worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="0eff2-266">Number of jobs or tasks running on each node.</span></span> <span data-ttu-id="0eff2-267">Deze waarde is een momentopname van een bijna realtime.</span><span class="sxs-lookup"><span data-stu-id="0eff2-267">This value is a near real-time snapshot.</span></span> <span data-ttu-id="0eff2-268">Limiet geeft aan dat het maximum aantal gelijktijdige taken voor elk knooppunt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-268">Limit signifies the maximum concurrent jobs for each node.</span></span> <span data-ttu-id="0eff2-269">Deze waarde is gedefinieerd op basis van de grootte van de machine.</span><span class="sxs-lookup"><span data-stu-id="0eff2-269">This value is defined based on the machine size.</span></span> <span data-ttu-id="0eff2-270">U kunt de limiet voor gelijktijdige taakuitvoering in geavanceerde scenario's, opschalen verhogen waar CPU / geheugen / netwerk is onder gebruikt, maar de activiteiten worden een time-out opgetreden. Deze mogelijkheid is ook beschikbaar met één knooppunt gateway (zelfs wanneer de functie voor schaalbaarheid en beschikbaarheid is niet ingeschakeld).</span><span class="sxs-lookup"><span data-stu-id="0eff2-270">You can increase the limit to scale up concurrent job execution in advanced scenarios, where CPU/ memory/ network is under-utilized, but activities are timing out. This capability is also available with a single-node gateway (even when the scalability and availability feature is not enabled).</span></span> <span data-ttu-id="0eff2-271">Zie voor meer informatie [schalen overwegingen](#scale-considerations) sectie.</span><span class="sxs-lookup"><span data-stu-id="0eff2-271">For more information, see [scale considerations](#scale-considerations) section.</span></span> 
<span data-ttu-id="0eff2-272">Rol</span><span class="sxs-lookup"><span data-stu-id="0eff2-272">Role</span></span> | <span data-ttu-id="0eff2-273">Er zijn twee typen rollen – Dispatcher- en werkrollen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-273">There are two types of roles – Dispatcher and worker.</span></span> <span data-ttu-id="0eff2-274">Alle knooppunten zijn werknemers, wat betekent dat ze kunnen alle worden gebruikt om uit te voeren taken.</span><span class="sxs-lookup"><span data-stu-id="0eff2-274">All nodes are workers, which means they can all be used to execute jobs.</span></span> <span data-ttu-id="0eff2-275">Er is slechts één dispatcher knooppunt, die wordt gebruikt voor het pull-taken/taken van cloudservices en ze verzenden naar andere worker-knooppunten (inclusief zelf).</span><span class="sxs-lookup"><span data-stu-id="0eff2-275">There is only one dispatcher node, which is used to pull tasks/jobs from cloud services and dispatch them to different worker nodes (including itself).</span></span> 

![Data Management Gateway - geavanceerde bewaking van meerdere knooppunten](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring-advanced.png)

### <a name="gateway-status"></a><span data-ttu-id="0eff2-277">Status van gateway</span><span class="sxs-lookup"><span data-stu-id="0eff2-277">Gateway status</span></span>

<span data-ttu-id="0eff2-278">De volgende tabel bevat de mogelijke statussen van een **gateway-knooppunt**:</span><span class="sxs-lookup"><span data-stu-id="0eff2-278">The following table provides possible statuses of a **gateway node**:</span></span> 

<span data-ttu-id="0eff2-279">Status</span><span class="sxs-lookup"><span data-stu-id="0eff2-279">Status</span></span>  | <span data-ttu-id="0eff2-280">Opmerkingen/scenario 's</span><span class="sxs-lookup"><span data-stu-id="0eff2-280">Comments/Scenarios</span></span>
:------- | :------------------
<span data-ttu-id="0eff2-281">Online</span><span class="sxs-lookup"><span data-stu-id="0eff2-281">Online</span></span> | <span data-ttu-id="0eff2-282">Knooppunt verbonden met Data Factory-service.</span><span class="sxs-lookup"><span data-stu-id="0eff2-282">Node connected to Data Factory service.</span></span>
<span data-ttu-id="0eff2-283">Off line</span><span class="sxs-lookup"><span data-stu-id="0eff2-283">Offline</span></span> | <span data-ttu-id="0eff2-284">Knooppunt is offline.</span><span class="sxs-lookup"><span data-stu-id="0eff2-284">Node is offline.</span></span>
<span data-ttu-id="0eff2-285">Een upgrade</span><span class="sxs-lookup"><span data-stu-id="0eff2-285">Upgrading</span></span> | <span data-ttu-id="0eff2-286">Het knooppunt wordt automatisch bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-286">The node is being auto-updated.</span></span>
<span data-ttu-id="0eff2-287">Beperkt</span><span class="sxs-lookup"><span data-stu-id="0eff2-287">Limited</span></span> | <span data-ttu-id="0eff2-288">Vanwege een verbindingsprobleem.</span><span class="sxs-lookup"><span data-stu-id="0eff2-288">Due to Connectivity issue.</span></span> <span data-ttu-id="0eff2-289">Kan worden veroorzaakt door HTTP-poort 8050 probleem, service bus-verbindingsprobleem of synchronisatieprobleem in de referentie.</span><span class="sxs-lookup"><span data-stu-id="0eff2-289">May be due to HTTP port 8050 issue, service bus connectivity issue, or credential sync issue.</span></span> 
<span data-ttu-id="0eff2-290">Inactieve</span><span class="sxs-lookup"><span data-stu-id="0eff2-290">Inactive</span></span> | <span data-ttu-id="0eff2-291">Er is een knooppunt in een configuratie van de configuratie van andere knooppunten van de meeste andere.</span><span class="sxs-lookup"><span data-stu-id="0eff2-291">Node is in a configuration different from the configuration of other majority nodes.</span></span><br/><br/> <span data-ttu-id="0eff2-292">Een knooppunt mag inactief zijn als er geen verbinding met andere knooppunten maken.</span><span class="sxs-lookup"><span data-stu-id="0eff2-292">A node can be inactive when it cannot connect to other nodes.</span></span> 


<span data-ttu-id="0eff2-293">De volgende tabel bevat de mogelijke statussen van een **logische gateway**.</span><span class="sxs-lookup"><span data-stu-id="0eff2-293">The following table provides possible statuses of a **logical gateway**.</span></span> <span data-ttu-id="0eff2-294">De status van de gateway is afhankelijk van de status van de gateway-knooppunten.</span><span class="sxs-lookup"><span data-stu-id="0eff2-294">The gateway status depends on statuses of the gateway nodes.</span></span> 

<span data-ttu-id="0eff2-295">Status</span><span class="sxs-lookup"><span data-stu-id="0eff2-295">Status</span></span> | <span data-ttu-id="0eff2-296">Opmerkingen</span><span class="sxs-lookup"><span data-stu-id="0eff2-296">Comments</span></span>
:----- | :-------
<span data-ttu-id="0eff2-297">Moet worden geregistreerd</span><span class="sxs-lookup"><span data-stu-id="0eff2-297">Needs Registration</span></span> | <span data-ttu-id="0eff2-298">Er is geen knooppunt is nog aan deze logische gateway geregistreerd</span><span class="sxs-lookup"><span data-stu-id="0eff2-298">No node is yet registered to this logical gateway</span></span>
<span data-ttu-id="0eff2-299">Online</span><span class="sxs-lookup"><span data-stu-id="0eff2-299">Online</span></span> | <span data-ttu-id="0eff2-300">Gateway-knooppunten zijn online.</span><span class="sxs-lookup"><span data-stu-id="0eff2-300">Gateway Nodes are online</span></span>
<span data-ttu-id="0eff2-301">Off line</span><span class="sxs-lookup"><span data-stu-id="0eff2-301">Offline</span></span> | <span data-ttu-id="0eff2-302">Er is geen knooppunt online status.</span><span class="sxs-lookup"><span data-stu-id="0eff2-302">No node in online status.</span></span>
<span data-ttu-id="0eff2-303">Beperkt</span><span class="sxs-lookup"><span data-stu-id="0eff2-303">Limited</span></span> | <span data-ttu-id="0eff2-304">Niet alle knooppunten in deze gateway zijn in orde.</span><span class="sxs-lookup"><span data-stu-id="0eff2-304">Not all nodes in this gateway are in healthy state.</span></span> <span data-ttu-id="0eff2-305">Deze status is een waarschuwing dat een bepaald knooppunt niet beschikbaar.</span><span class="sxs-lookup"><span data-stu-id="0eff2-305">This status is a warning that some node might be down!</span></span> <br/><br/><span data-ttu-id="0eff2-306">Kan worden veroorzaakt door referentie synchronisatieprobleem op dispatcher/werkrolknooppunt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-306">Could be due to credential sync issue on dispatcher/worker node.</span></span> 

### <a name="pipeline-activities-monitoring"></a><span data-ttu-id="0eff2-307">Pijplijn / activiteiten bewaken</span><span class="sxs-lookup"><span data-stu-id="0eff2-307">Pipeline/ activities monitoring</span></span>
<span data-ttu-id="0eff2-308">De Azure portal biedt een pijplijn implementatiebewakingservaring met gedetailleerde knooppunt mate van details.</span><span class="sxs-lookup"><span data-stu-id="0eff2-308">The Azure portal provides a pipeline monitoring experience with granular node level details.</span></span> <span data-ttu-id="0eff2-309">Bijvoorbeeld: er wordt weergegeven welke activiteiten uitgevoerd op welk knooppunt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-309">For example, it shows which activities ran on which node.</span></span> <span data-ttu-id="0eff2-310">Deze informatie kan nuttig zijn bij het begrijpen van prestatieproblemen op een bepaald knooppunt, spreken vanwege netwerkbeperking.</span><span class="sxs-lookup"><span data-stu-id="0eff2-310">This information can be helpful in understanding performance issues on a particular node, say due to network throttling.</span></span> 

![Data Management Gateway - bewaking voor pijplijnen van meerdere knooppunten](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring-pipelines.png)

![Data Management Gateway - pipeline-details](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-pipeline-details.png)

## <a name="scale-considerations"></a><span data-ttu-id="0eff2-313">Overwegingen met betrekking tot schaal</span><span class="sxs-lookup"><span data-stu-id="0eff2-313">Scale considerations</span></span>

### <a name="scale-out"></a><span data-ttu-id="0eff2-314">Uitschalen</span><span class="sxs-lookup"><span data-stu-id="0eff2-314">Scale out</span></span>
<span data-ttu-id="0eff2-315">Wanneer de **beschikbaar geheugen laag is** en de **CPU-gebruik is hoog**, een nieuw knooppunt toevoegen helpt u scale-out van de belasting op computers.</span><span class="sxs-lookup"><span data-stu-id="0eff2-315">When the **available memory is low** and the **CPU usage is high**, adding a new node helps scale out the load across machines.</span></span> <span data-ttu-id="0eff2-316">Als activiteiten vanwege time-out- of gateway-knooppunt offline mislukken, is het handig als u een knooppunt aan de gateway toevoegt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-316">If activities are failing due to time-out or gateway node being offline, it helps if you add a node to the gateway.</span></span>
 
### <a name="scale-up"></a><span data-ttu-id="0eff2-317">Omhoog schalen</span><span class="sxs-lookup"><span data-stu-id="0eff2-317">Scale up</span></span>
<span data-ttu-id="0eff2-318">Wanneer het beschikbare geheugen en de CPU niet goed worden benut, maar de niet-actieve capaciteit 0 is, moet u opschalen door het aantal gelijktijdige taken die kunnen worden uitgevoerd op een knooppunt te verhogen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-318">When the available memory and CPU are not utilized well, but the idle capacity is 0, you should scale up by increasing the number of concurrent jobs that can run on a node.</span></span> <span data-ttu-id="0eff2-319">U kunt ook opschalen activiteiten zijn een time-out opgetreden omdat de gateway is overbelast.</span><span class="sxs-lookup"><span data-stu-id="0eff2-319">You may also want to scale up when activities are timing out because the gateway is overloaded.</span></span> <span data-ttu-id="0eff2-320">Zoals u in de volgende afbeelding, verhoogt u de maximale capaciteit van een knooppunt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-320">As shown in the following image, you can increase the maximum capacity for a node.</span></span> <span data-ttu-id="0eff2-321">Het is raadzaam om eerst verdubbelen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-321">We suggest doubling it to start with.</span></span>  

![Data Management Gateway - scale-overwegingen](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-scale-considerations.png)


## <a name="known-issuesbreaking-changes"></a><span data-ttu-id="0eff2-323">Bekende problemen/recente wijzigingen</span><span class="sxs-lookup"><span data-stu-id="0eff2-323">Known issues/breaking changes</span></span>

- <span data-ttu-id="0eff2-324">U kunt op dit moment kunnen maximaal vier fysieke gateway knooppunten voor één logische gateway hebben.</span><span class="sxs-lookup"><span data-stu-id="0eff2-324">Currently, you can have up to four physical gateway nodes for a single logical gateway.</span></span> <span data-ttu-id="0eff2-325">Als u meer dan vier knooppunten nodig voor betere prestaties, een e-mail sturen naar [ DMGHelp@microsoft.com ](mailto:DMGHelp@microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="0eff2-325">If you need more than four nodes for performance reasons, send an email to [DMGHelp@microsoft.com](mailto:DMGHelp@microsoft.com).</span></span>
- <span data-ttu-id="0eff2-326">Een gateway-knooppunt kan niet opnieuw registreren met de verificatiesleutel van een andere logische gateway overschakelen van de huidige logische gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-326">You cannot re-register a gateway node with the authentication key from another logical gateway to switch from the current logical gateway.</span></span> <span data-ttu-id="0eff2-327">Verwijder de gateway van het knooppunt, installeer de gateway opnieuw als opnieuw wilt registreren, en bij de verificatiesleutel voor de logische gateway registreren.</span><span class="sxs-lookup"><span data-stu-id="0eff2-327">To re-register, uninstall the gateway from the node, reinstall the gateway, and register it with the authentication key for the other logical gateway.</span></span> 
- <span data-ttu-id="0eff2-328">Als HTTP-proxy vereist voor alle gateway-knooppunten is, instellen van de proxy in diahost.exe.config en diawp.exe.config en Serverbeheer gebruiken om ervoor te zorgen dat alle knooppunten dezelfde diahost.exe.config en diawip.exe.config hebben. Zie [proxy-instellingen configureren](data-factory-data-management-gateway.md#configure-proxy-server-settings) sectie voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="0eff2-328">If HTTP proxy is required for all your gateway nodes, set the proxy in diahost.exe.config and diawp.exe.config, and use the server manager to make sure all nodes have the same diahost.exe.config and diawip.exe.config. See [configure proxy settings](data-factory-data-management-gateway.md#configure-proxy-server-settings) section for details.</span></span> 
- <span data-ttu-id="0eff2-329">Als u wilt wijzigen versleuteling modus voor knooppunt naar communicatie in Gateway Configuration Manager, alle knooppunten in de portal, behalve een te verwijderen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-329">To change encryption mode for node-to-node communication in Gateway Configuration Manager, delete all the nodes in the portal except one.</span></span> <span data-ttu-id="0eff2-330">Vervolgens voegt u knooppunten terug na het wijzigen van de modus voor versleuteling.</span><span class="sxs-lookup"><span data-stu-id="0eff2-330">Then, add nodes back after changing the encryption mode.</span></span>
- <span data-ttu-id="0eff2-331">Gebruik van een officiële SSL-certificaat als u kiest voor het versleutelen van het knooppunt naar communicatiekanaal.</span><span class="sxs-lookup"><span data-stu-id="0eff2-331">Use an official SSL certificate if you choose to encrypt the node-to-node communication channel.</span></span> <span data-ttu-id="0eff2-332">Zelf-ondertekend certificaat mogelijk problemen met de netwerkverbinding zoals hetzelfde certificaat kan niet worden vertrouwd in certificeren lijst met op andere computers.</span><span class="sxs-lookup"><span data-stu-id="0eff2-332">Self-signed certificate may cause connectivity issues as the same certificate may not be trusted in certifying authority list on other machines.</span></span> 
- <span data-ttu-id="0eff2-333">U kunt een gateway-knooppunt naar een logische gateway niet registreren wanneer de knooppunt-versie lager dan de versie van de logische gateway is.</span><span class="sxs-lookup"><span data-stu-id="0eff2-333">You cannot register a gateway node to a logical gateway when the node version is lower than the logical gateway version.</span></span> <span data-ttu-id="0eff2-334">Alle knooppunten van de logische gateway verwijderen uit portal, zodat u kunt een lagere versie node(downgrade) registreren deze.</span><span class="sxs-lookup"><span data-stu-id="0eff2-334">Delete all nodes of the logical gateway from portal so that you can register a lower version node(downgrade) it.</span></span> <span data-ttu-id="0eff2-335">Als u alle knooppunten van een logische gateway verwijdert, handmatig installeren en registreren van nieuwe knooppunten op dat logische gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-335">If you delete all nodes of a logical gateway, manually install and register new nodes to that logical gateway.</span></span> <span data-ttu-id="0eff2-336">Snelle installatie wordt in dit geval niet ondersteund.</span><span class="sxs-lookup"><span data-stu-id="0eff2-336">Express setup is not supported in this case.</span></span>
- <span data-ttu-id="0eff2-337">U niet de snelle installatie gebruiken voor het installeren van knooppunten aan een bestaande logische gateway cloud referenties nog wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-337">You cannot use express setup to install nodes to an existing logical gateway, which is still using cloud credentials.</span></span> <span data-ttu-id="0eff2-338">U kunt controleren waar de referenties van de Gateway Configuration Manager op het tabblad instellingen worden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-338">You can check where the credentials are stored from the Gateway Configuration Manager on the Settings tab.</span></span>
- <span data-ttu-id="0eff2-339">U niet de snelle installatie gebruiken voor het installeren van de knooppunten naar een bestaande logische gateway met knooppunt naar versleuteling ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="0eff2-339">You cannot use express setup to install nodes to an existing logical gateway, which has node-to-node encryption enabled.</span></span> <span data-ttu-id="0eff2-340">Als de instelling van de modus voor versleuteling omvat het handmatig toevoegen van certificaten, is snelle installatie optie niet meer een.</span><span class="sxs-lookup"><span data-stu-id="0eff2-340">As setting the encryption mode involves manually adding certificates, express install is no more an option.</span></span> 
- <span data-ttu-id="0eff2-341">Voor het kopiëren van een bestand vanaf on-premises omgeving, moet niet u \\localhost of C:\files meer sinds localhost of een lokaal station mogelijk niet toegankelijk is via alle knooppunten.</span><span class="sxs-lookup"><span data-stu-id="0eff2-341">For a file copy from on-premises environment, you should not use \\localhost or C:\files anymore since localhost or local drive might not be accessible via all nodes.</span></span> <span data-ttu-id="0eff2-342">Gebruik in plaats daarvan \\ServerName\files bestanden locatie op te geven.</span><span class="sxs-lookup"><span data-stu-id="0eff2-342">Instead, use \\ServerName\files to specify files’ location.</span></span>


## <a name="rolling-back-from-the-preview"></a><span data-ttu-id="0eff2-343">Terugdraaien van de Preview-versie</span><span class="sxs-lookup"><span data-stu-id="0eff2-343">Rolling back from the preview</span></span> 
<span data-ttu-id="0eff2-344">Als u wilt terugdraaien vanuit de evaluatieversie van alle knooppunten maar één knooppunt te verwijderen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-344">To roll back from the preview, delete all nodes but one node.</span></span> <span data-ttu-id="0eff2-345">Het maakt niet uit welke knooppunten verwijderen, maar zorg ervoor dat er ten minste één knooppunt in de logische gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-345">It doesn’t matter which nodes you delete, but ensure you have at least one node in the logical gateway.</span></span> <span data-ttu-id="0eff2-346">U kunt een knooppunt verwijderen door de gateway op de computer verwijderen of door met de Azure portal.</span><span class="sxs-lookup"><span data-stu-id="0eff2-346">You can delete a node either by uninstalling gateway on the machine or by using the Azure portal.</span></span> <span data-ttu-id="0eff2-347">In de Azure-portal in de **Data Factory** gekoppelde services te starten klikt u op de **gekoppelde services** pagina.</span><span class="sxs-lookup"><span data-stu-id="0eff2-347">In the Azure portal, in the **Data Factory** page, click Linked services to launch the **Linked services** page.</span></span> <span data-ttu-id="0eff2-348">Selecteer de gateway starten de **Gateway** pagina.</span><span class="sxs-lookup"><span data-stu-id="0eff2-348">Select the gateway to launch the **Gateway** page.</span></span> <span data-ttu-id="0eff2-349">Op de pagina Gateway ziet u de knooppunten die zijn gekoppeld aan de gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-349">In the Gateway page, you can see the nodes associated with the gateway.</span></span> <span data-ttu-id="0eff2-350">De pagina kunt u een knooppunt verwijderen van de gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-350">The page lets you delete a node from the gateway.</span></span>
 
<span data-ttu-id="0eff2-351">Na het verwijderen, klikt u op **preview-functies** in de dezelfde Azure portal-pagina, en schakel de preview-functie.</span><span class="sxs-lookup"><span data-stu-id="0eff2-351">After deleting, click **preview features** in the same Azure portal page, and disable the preview feature.</span></span> <span data-ttu-id="0eff2-352">U hebt uw gateway uit naar één knooppunt GA (algemene beschikbaarheid) gateway opnieuw instellen.</span><span class="sxs-lookup"><span data-stu-id="0eff2-352">You have reset your gateway to one node GA (general availability) gateway.</span></span>


## <a name="next-steps"></a><span data-ttu-id="0eff2-353">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="0eff2-353">Next steps</span></span>
<span data-ttu-id="0eff2-354">Raadpleeg de volgende artikelen:</span><span class="sxs-lookup"><span data-stu-id="0eff2-354">Review the following articles:</span></span>
- <span data-ttu-id="0eff2-355">[Data Management Gateway](data-factory-data-management-gateway.md) -bevat een gedetailleerd overzicht van de gateway.</span><span class="sxs-lookup"><span data-stu-id="0eff2-355">[Data Management Gateway](data-factory-data-management-gateway.md) - provides a detailed overview of the gateway.</span></span>
- <span data-ttu-id="0eff2-356">[Gegevens verplaatsen tussen on-premises en cloud gegevensarchieven](data-factory-move-data-between-onprem-and-cloud.md) -bevat een overzicht met stapsgewijze instructies voor het gebruik van een gateway met één knooppunt.</span><span class="sxs-lookup"><span data-stu-id="0eff2-356">[Move data between on-premises and cloud data stores](data-factory-move-data-between-onprem-and-cloud.md) - contains a walkthrough with step-by-step instructions for using a gateway with a single node.</span></span> 
