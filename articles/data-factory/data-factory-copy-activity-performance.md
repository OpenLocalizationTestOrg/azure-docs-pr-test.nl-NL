---
title: aaaCopy activiteit prestaties en prestatieafstemming handleiding | Microsoft Docs
description: Meer informatie over de belangrijkste factoren die invloed hebben op prestaties van de gegevensverplaatsing in Azure Data Factory Hallo wanneer u Kopieeractiviteit gebruiken.
services: data-factory
documentationcenter: 
author: linda33wj
manager: jhubbard
editor: monicar
ms.assetid: 4b9a6a4f-8cf5-4e0a-a06f-8133a2b7bc58
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/10/2017
ms.author: jingwang
ms.openlocfilehash: b0fb5a76c34752d07e8ddfffbb799a05fb5d6be6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="copy-activity-performance-and-tuning-guide"></a><span data-ttu-id="f5cc0-103">Prestaties van de activiteit en prestatieafstemming handleiding kopiëren</span><span class="sxs-lookup"><span data-stu-id="f5cc0-103">Copy Activity performance and tuning guide</span></span>
<span data-ttu-id="f5cc0-104">Azure Data Factory-Kopieeractiviteit biedt een uitstekende gegevens veilig, betrouwbaar en hoge prestaties bij het laden van oplossing.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-104">Azure Data Factory Copy Activity delivers a first-class secure, reliable, and high-performance data loading solution.</span></span> <span data-ttu-id="f5cc0-105">Deze Hiermee kunt u toocopy tientallen terabytes aan gegevens elke dag op uitgebreide tal van cloud en het on-premises gegevensopslagexemplaren.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-105">It enables you toocopy tens of terabytes of data every day across a rich variety of cloud and on-premises data stores.</span></span> <span data-ttu-id="f5cc0-106">Razendsnelle snel gegevens laden van prestaties is sleutel tooensure u zich op Hallo core 'big data' probleem richten kunt: bouwen van oplossingen voor geavanceerde analyses om inzichten te verkrijgen grondige van die gegevens.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-106">Blazing-fast data loading performance is key tooensure you can focus on hello core “big data” problem: building advanced analytics solutions and getting deep insights from all that data.</span></span>

<span data-ttu-id="f5cc0-107">Azure biedt een reeks bedrijfsniveau oplossingen voor opslag en data warehouse en Kopieeractiviteit biedt een maximaal geoptimaliseerd gegevens te laden ervaring die eenvoudig tooconfigure en instellen.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-107">Azure provides a set of enterprise-grade data storage and data warehouse solutions, and Copy Activity offers a highly optimized data loading experience that is easy tooconfigure and set up.</span></span> <span data-ttu-id="f5cc0-108">Met slechts één exemplaar-activiteit, kunt u bereiken:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-108">With just a single copy activity, you can achieve:</span></span>

* <span data-ttu-id="f5cc0-109">Laden van gegevens in **Azure SQL Data Warehouse** op **1,2 GBps**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-109">Loading data into **Azure SQL Data Warehouse** at **1.2 GBps**.</span></span> <span data-ttu-id="f5cc0-110">Zie voor een overzicht met een gebruiksvoorbeeld [1 TB laden in Azure SQL Data Warehouse onder 15 minuten met Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-110">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>
* <span data-ttu-id="f5cc0-111">Laden van gegevens in **Azure Blob storage** op **1.0 GBps**</span><span class="sxs-lookup"><span data-stu-id="f5cc0-111">Loading data into **Azure Blob storage** at **1.0 GBps**</span></span>
* <span data-ttu-id="f5cc0-112">Laden van gegevens in **Azure Data Lake Store** op **1.0 GBps**</span><span class="sxs-lookup"><span data-stu-id="f5cc0-112">Loading data into **Azure Data Lake Store** at **1.0 GBps**</span></span>

<span data-ttu-id="f5cc0-113">Dit artikel wordt beschreven:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-113">This article describes:</span></span>

* <span data-ttu-id="f5cc0-114">[Prestaties nummers](#performance-reference) voor ondersteunde bron- en sink gegevens winkels toohelp u van plan bent uw project.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-114">[Performance reference numbers](#performance-reference) for supported source and sink data stores toohelp you plan your project;</span></span>
* <span data-ttu-id="f5cc0-115">Functies die kunnen stimuleren Hallo kopie doorvoer in verschillende scenario's, met inbegrip van [cloud data movement eenheden](#cloud-data-movement-units), [kopie parallelle](#parallel-copy), en [kopie gefaseerde](#staged-copy);</span><span class="sxs-lookup"><span data-stu-id="f5cc0-115">Features that can boost hello copy throughput in different scenarios, including [cloud data movement units](#cloud-data-movement-units), [parallel copy](#parallel-copy), and [staged Copy](#staged-copy);</span></span>
* <span data-ttu-id="f5cc0-116">[Prestaties afstemmen richtlijnen](#performance-tuning-steps) op hoe tootune Hallo prestaties en Hallo belangrijkste factoren die kunnen invloed hebben op prestaties kopiëren.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-116">[Performance tuning guidance](#performance-tuning-steps) on how tootune hello performance and hello key factors that can impact copy performance.</span></span>

> [!NOTE]
> <span data-ttu-id="f5cc0-117">Als u niet bekend met de Kopieeractiviteit in het algemeen bent, Zie [verplaatsen van gegevens met behulp van de Kopieeractiviteit](data-factory-data-movement-activities.md) voordat u dit artikel leest.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-117">If you are not familiar with Copy Activity in general, see [Move data by using Copy Activity](data-factory-data-movement-activities.md) before reading this article.</span></span>
>

## <a name="performance-reference"></a><span data-ttu-id="f5cc0-118">Verwijzing voor prestaties</span><span class="sxs-lookup"><span data-stu-id="f5cc0-118">Performance reference</span></span>

<span data-ttu-id="f5cc0-119">Bevat onderstaande tabel als referentie, Hallo kopie doorvoer het nummer in MBps voor Hallo gegeven bron- en sink-paren op basis van een intern testen.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-119">As a reference, below table shows hello copy throughput number in MBps for hello given source and sink pairs based on in-house testing.</span></span> <span data-ttu-id="f5cc0-120">Ter vergelijking: u ziet ook hoe verschillende instellingen van [cloud data movement eenheden](#cloud-data-movement-units) of [Data Management Gateway-schaalbaarheid](data-factory-data-management-gateway-high-availability-scalability.md) (meerdere gateway knooppunten) kunt u op de prestaties van de kopie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-120">For comparison, it also demonstrates how different settings of [cloud data movement units](#cloud-data-movement-units) or [Data Management Gateway scalability](data-factory-data-management-gateway-high-availability-scalability.md) (multiple gateway nodes) can help on copy performance.</span></span>

![Matrix van prestaties](./media/data-factory-copy-activity-performance/CopyPerfRef.png)


<span data-ttu-id="f5cc0-122">**Toonote punten:**</span><span class="sxs-lookup"><span data-stu-id="f5cc0-122">**Points toonote:**</span></span>
* <span data-ttu-id="f5cc0-123">Doorvoer wordt berekend met behulp van de volgende formule Hallo: [grootte van de gegevens lezen uit bron] / [Kopieeractiviteit uitvoeren duur].</span><span class="sxs-lookup"><span data-stu-id="f5cc0-123">Throughput is calculated by using hello following formula: [size of data read from source]/[Copy Activity run duration].</span></span>
* <span data-ttu-id="f5cc0-124">Hallo prestaties nummers in de tabel Hallo zijn gemeten met behulp van [TPC-H](http://www.tpc.org/tpch/) gegevensset in een activiteit die één exemplaar wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-124">hello performance reference numbers in hello table were measured using [TPC-H](http://www.tpc.org/tpch/) data set in a single copy activity run.</span></span>
* <span data-ttu-id="f5cc0-125">In Azure gegevensarchieven, Hallo bron- en sink zijn in Hallo dezelfde Azure-regio.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-125">In Azure data stores, hello source and sink are in hello same Azure region.</span></span>
* <span data-ttu-id="f5cc0-126">Voor hybride exemplaar tussen on-premises en cloud gegevensarchieven, elk gateway-knooppunt wordt uitgevoerd op een machine die gescheiden van Hallo on-premises gegevensopslag met hieronder specificatie is.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-126">For hybrid copy between on-premises and cloud data stores, each gateway node was running on a machine that was separate from hello on-premises data store with below specification.</span></span> <span data-ttu-id="f5cc0-127">Wanneer een enkele activiteit werd uitgevoerd op de gateway, verbruikt Hallo kopieerbewerking slechts een klein deel van de CPU, geheugen of netwerkbandbreedte Hallo testmachine.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-127">When a single activity was running on gateway, hello copy operation consumed only a small portion of hello test machine's CPU, memory, or network bandwidth.</span></span> <span data-ttu-id="f5cc0-128">Klik hier als u meer wilt weten van [overweging voor Data Management Gateway](#considerations-for-data-management-gateway).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-128">Learn more from [consideration for Data Management Gateway](#considerations-for-data-management-gateway).</span></span>
    <table>
    <tr>
        <td><span data-ttu-id="f5cc0-129">CPU</span><span class="sxs-lookup"><span data-stu-id="f5cc0-129">CPU</span></span></td>
        <td><span data-ttu-id="f5cc0-130">32 cores 2,20 GHz Intel Xeon E5-2660 v2</span><span class="sxs-lookup"><span data-stu-id="f5cc0-130">32 cores 2.20 GHz Intel Xeon E5-2660 v2</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="f5cc0-131">Geheugen</span><span class="sxs-lookup"><span data-stu-id="f5cc0-131">Memory</span></span></td>
        <td><span data-ttu-id="f5cc0-132">128 GB</span><span class="sxs-lookup"><span data-stu-id="f5cc0-132">128 GB</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="f5cc0-133">Netwerk</span><span class="sxs-lookup"><span data-stu-id="f5cc0-133">Network</span></span></td>
        <td><span data-ttu-id="f5cc0-134">Internet-interface: 10 Gbps; intranet-interface: 40 Gbps</span><span class="sxs-lookup"><span data-stu-id="f5cc0-134">Internet interface: 10 Gbps; intranet interface: 40 Gbps</span></span></td>
    </tr>
    </table>


> [!TIP]
> <span data-ttu-id="f5cc0-135">U kunt hogere doorvoer bereiken door gebruik te maken van meer gegevens gegevensverplaatsing eenheden (DMUs) dan Hallo standaard maximale DMUs is 32 voor een exemplaar van cloud-naar-cloud activiteit die wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-135">You can achieve higher throughput by leveraging more data movement units (DMUs) than hello default maximum DMUs, which is 32 for a cloud-to-cloud copy activity run.</span></span> <span data-ttu-id="f5cc0-136">Bijvoorbeeld, met 100 DMUs bereikt u kopiëren van gegevens van Azure-Blob in Azure Data Lake Store op **1.0GBps**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-136">For example, with 100 DMUs, you can achieve copying data from Azure Blob into Azure Data Lake Store at **1.0GBps**.</span></span> <span data-ttu-id="f5cc0-137">Zie Hallo [Cloud data movement eenheden](#cloud-data-movement-units) sectie voor meer informatie over deze functie en het Hallo ondersteund scenario.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-137">See hello [Cloud data movement units](#cloud-data-movement-units) section for details about this feature and hello supported scenario.</span></span> <span data-ttu-id="f5cc0-138">Neem contact op met [ondersteuning van Azure](https://azure.microsoft.com/support/) toorequest meer DMUs.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-138">Contact [Azure support](https://azure.microsoft.com/support/) toorequest more DMUs.</span></span>

## <a name="parallel-copy"></a><span data-ttu-id="f5cc0-139">Parallelle kopie</span><span class="sxs-lookup"><span data-stu-id="f5cc0-139">Parallel copy</span></span>
<span data-ttu-id="f5cc0-140">U kunt lezen gegevensbron van Hallo of gegevens toohello bestemming te schrijven **parallel in een Kopieeractiviteit uitvoeren**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-140">You can read data from hello source or write data toohello destination **in parallel within a Copy Activity run**.</span></span> <span data-ttu-id="f5cc0-141">Deze functie verbetert de doorvoer van een kopieerbewerking Hallo en Hallo duurt toomove gegevens vermindert.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-141">This feature enhances hello throughput of a copy operation and reduces hello time it takes toomove data.</span></span>

<span data-ttu-id="f5cc0-142">Deze instelling verschilt van Hallo **gelijktijdigheid** eigenschap in de definitie van de activiteit Hallo.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-142">This setting is different from hello **concurrency** property in hello activity definition.</span></span> <span data-ttu-id="f5cc0-143">Hallo **gelijktijdigheid** eigenschap bepaalt Hallo aantal **gelijktijdige Kopieeractiviteit wordt uitgevoerd** tooprocess gegevens uit verschillende activiteit windows (1 uur too2 AM, 2 uur too3 BEN, 3 uur too4 BEN, enzovoort).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-143">hello **concurrency** property determines hello number of **concurrent Copy Activity runs** tooprocess data from different activity windows (1 AM too2 AM, 2 AM too3 AM, 3 AM too4 AM, and so on).</span></span> <span data-ttu-id="f5cc0-144">Deze mogelijkheid is handig wanneer u een historisch belasting uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-144">This capability is helpful when you perform a historical load.</span></span> <span data-ttu-id="f5cc0-145">Hallo parallelle kopie mogelijkheid geldt tooa **één activiteit die wordt uitgevoerd**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-145">hello parallel copy capability applies tooa **single activity run**.</span></span>

<span data-ttu-id="f5cc0-146">Bekijk een voorbeeldscenario.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-146">Let's look at a sample scenario.</span></span> <span data-ttu-id="f5cc0-147">In de Hallo voorbeeld te volgen, moeten meerdere segmenten van afgelopen Hallo toobe verwerkt.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-147">In hello following example, multiple slices from hello past need toobe processed.</span></span> <span data-ttu-id="f5cc0-148">Data Factory uitvoert een exemplaar van de Kopieeractiviteit (een activiteit uitvoeren) voor elk segment:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-148">Data Factory runs an instance of Copy Activity (an activity run) for each slice:</span></span>

* <span data-ttu-id="f5cc0-149">Hallo gegevenssegment uit de eerste activiteitvenster hello (1 uur too2 BEN) == > activiteit uitgevoerd 1</span><span class="sxs-lookup"><span data-stu-id="f5cc0-149">hello data slice from hello first activity window (1 AM too2 AM) ==> Activity run 1</span></span>
* <span data-ttu-id="f5cc0-150">Hallo gegevenssegment uit de tweede activiteitvenster hello (2 uur too3 BEN) == > activiteit uitgevoerd 2</span><span class="sxs-lookup"><span data-stu-id="f5cc0-150">hello data slice from hello second activity window (2 AM too3 AM) ==> Activity run 2</span></span>
* <span data-ttu-id="f5cc0-151">Hallo gegevenssegment uit de tweede activiteitvenster hello (3 uur too4 BEN) == > activiteit 3 uitvoeren</span><span class="sxs-lookup"><span data-stu-id="f5cc0-151">hello data slice from hello second activity window (3 AM too4 AM) ==> Activity run 3</span></span>

<span data-ttu-id="f5cc0-152">Enzovoort.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-152">And so on.</span></span>

<span data-ttu-id="f5cc0-153">In dit voorbeeld wanneer hello **gelijktijdigheid** waarde is ingesteld too2, **activiteit uitgevoerd 1** en **activiteit uitgevoerd 2** gegevens gekopieerd van de twee activiteitsvensters **gelijktijdig**  tooimprove data movement prestaties.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-153">In this example, when hello **concurrency** value is set too2, **Activity run 1** and **Activity run 2** copy data from two activity windows **concurrently** tooimprove data movement performance.</span></span> <span data-ttu-id="f5cc0-154">Echter als meerdere bestanden gekoppeld aan activiteit 1 uitvoert zijn, kopieert Hallo data movement service bestanden van Hallo bron toohello bestemming één bestand tegelijk.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-154">However, if multiple files are associated with Activity run 1, hello data movement service copies files from hello source toohello destination one file at a time.</span></span>

### <a name="cloud-data-movement-units"></a><span data-ttu-id="f5cc0-155">Cloud data movement-eenheden</span><span class="sxs-lookup"><span data-stu-id="f5cc0-155">Cloud data movement units</span></span>
<span data-ttu-id="f5cc0-156">Een **cloud gegevensverplaatsing gegevenseenheid (DMU)** meting Hallo power (een combinatie van CPU, geheugen en netwerkresourcetoewijzing) van één eenheid in de Data Factory vertegenwoordigt.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-156">A **cloud data movement unit (DMU)** is a measure that represents hello power (a combination of CPU, memory, and network resource allocation) of a single unit in Data Factory.</span></span> <span data-ttu-id="f5cc0-157">Een DMU kan worden gebruikt in een cloud-naar-cloud kopieerbewerking, maar niet in een hybride-exemplaar.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-157">A DMU might be used in a cloud-to-cloud copy operation, but not in a hybrid copy.</span></span>

<span data-ttu-id="f5cc0-158">Data Factory gebruikt standaard een één cloud DMU tooperform één exemplaar activiteit uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-158">By default, Data Factory uses a single cloud DMU tooperform a single Copy Activity run.</span></span> <span data-ttu-id="f5cc0-159">toooverride deze standaardinstelling, een waarde opgeven voor Hallo **cloudDataMovementUnits** eigenschap als volgt.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-159">toooverride this default, specify a value for hello **cloudDataMovementUnits** property as follows.</span></span> <span data-ttu-id="f5cc0-160">Zie voor informatie over Hallo niveau van prestatieverbetering krijgt u mogelijk wanneer u meer eenheden voor een specifieke kopieerbron en sink configureert Hallo [prestaties verwijzing](#performance-reference).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-160">For information about hello level of performance gain you might get when you configure more units for a specific copy source and sink, see hello [performance reference](#performance-reference).</span></span>

```json
"activities":[  
    {
        "name": "Sample copy activity",
        "description": "",
        "type": "Copy",
        "inputs": [{ "name": "InputDataset" }],
        "outputs": [{ "name": "OutputDataset" }],
        "typeProperties": {
            "source": {
                "type": "BlobSource",
            },
            "sink": {
                "type": "AzureDataLakeStoreSink"
            },
            "cloudDataMovementUnits": 32
        }
    }
]
```
<span data-ttu-id="f5cc0-161">Hallo **toegestane waarden** voor Hallo **cloudDataMovementUnits** eigenschap 1 (standaard), 2, 4, 8, 16, 32 zijn.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-161">hello **allowed values** for hello **cloudDataMovementUnits** property are 1 (default), 2, 4, 8, 16, 32.</span></span> <span data-ttu-id="f5cc0-162">Hallo **werkelijke aantal cloud DMUs** dat Hallo kopieerbewerking tijdens de uitvoering gebruikt is gelijk tooor kleiner is dan Hallo geconfigureerd waarde, afhankelijk van het patroon van uw gegevens.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-162">hello **actual number of cloud DMUs** that hello copy operation uses at run time is equal tooor less than hello configured value, depending on your data pattern.</span></span>

> [!NOTE]
> <span data-ttu-id="f5cc0-163">Als u meer cloud DMUs voor een hogere doorvoer moet, neem dan contact op met [ondersteuning van Azure](https://azure.microsoft.com/support/).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-163">If you need more cloud DMUs for a higher throughput, contact [Azure support](https://azure.microsoft.com/support/).</span></span> <span data-ttu-id="f5cc0-164">Instellen van 8 en hoger momenteel werkt alleen als u **meerdere bestanden kopiëren van tooBlob in Blob Data Lake Store-opslag/Amazon S3/cloud FTP-/ cloud SFTP-opslag/Data Lake Store/Azure SQL Database**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-164">Setting of 8 and above currently works only when you **copy multiple files from Blob storage/Data Lake Store/Amazon S3/cloud FTP/cloud SFTP tooBlob storage/Data Lake Store/Azure SQL Database**.</span></span>
>

### <a name="parallelcopies"></a><span data-ttu-id="f5cc0-165">parallelCopies</span><span class="sxs-lookup"><span data-stu-id="f5cc0-165">parallelCopies</span></span>
<span data-ttu-id="f5cc0-166">U kunt Hallo **parallelCopies** eigenschap tooindicate Hallo parallelle uitvoering die u wilt dat Kopieeractiviteit toouse.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-166">You can use hello **parallelCopies** property tooindicate hello parallelism that you want Copy Activity toouse.</span></span> <span data-ttu-id="f5cc0-167">U kunt deze eigenschap beschouwen als Hallo kunt u het maximum aantal threads in de Kopieeractiviteit die kunnen lezen uit de bron- of tooyour sink gegevensarchieven parallel schrijven.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-167">You can think of this property as hello maximum number of threads within Copy Activity that can read from your source or write tooyour sink data stores in parallel.</span></span>

<span data-ttu-id="f5cc0-168">Voor elke kopie-activiteit is uitgevoerd, bepaalt Data Factory Hallo aantal parallelle toouse toocopy gegevens gekopieerd van brongegevensarchief hello toohello doelgegevensopslagplaats.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-168">For each Copy Activity run, Data Factory determines hello number of parallel copies toouse toocopy data from hello source data store and toohello destination data store.</span></span> <span data-ttu-id="f5cc0-169">Hallo standaardaantal parallelle exemplaren die worden gebruikt, is afhankelijk van Hallo-type van de bron en sink die u gebruikt.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-169">hello default number of parallel copies that it uses depends on hello type of source and sink that you are using.</span></span>  

| <span data-ttu-id="f5cc0-170">Bron- en sink</span><span class="sxs-lookup"><span data-stu-id="f5cc0-170">Source and sink</span></span> | <span data-ttu-id="f5cc0-171">Standaard parallelle kopie aantal bepaald door de service</span><span class="sxs-lookup"><span data-stu-id="f5cc0-171">Default parallel copy count determined by service</span></span> |
| --- | --- |
| <span data-ttu-id="f5cc0-172">Gegevens kopiëren tussen winkels op basis van bestanden (Blob-opslag; Data Lake Store; Amazon S3; een on-premises bestandssysteem; een lokale HDFS)</span><span class="sxs-lookup"><span data-stu-id="f5cc0-172">Copy data between file-based stores (Blob storage; Data Lake Store; Amazon S3; an on-premises file system; an on-premises HDFS)</span></span> |<span data-ttu-id="f5cc0-173">Tussen 1 en 32.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-173">Between 1 and 32.</span></span> <span data-ttu-id="f5cc0-174">Afhankelijk van de grootte van de Hallo Hallo bestanden en Hallo cloud data movement eenheden (DMUs) aantal gebruikte toocopy gegevens tussen twee cloud gegevensarchieven of Hallo fysieke configuratie van de Gateway-apparaat gebruikt voor een hybride-exemplaar (toocopy gegevens tooor uit een on-premises gegevensopslag Hallo ).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-174">Depends on hello size of hello files and hello number of cloud data movement units (DMUs) used toocopy data between two cloud data stores, or hello physical configuration of hello Gateway machine used for a hybrid copy (toocopy data tooor from an on-premises data store).</span></span> |
| <span data-ttu-id="f5cc0-175">Kopiëren van gegevens van **alle brongegevens tooAzure Table storage opslaan**</span><span class="sxs-lookup"><span data-stu-id="f5cc0-175">Copy data from **any source data store tooAzure Table storage**</span></span> |<span data-ttu-id="f5cc0-176">4</span><span class="sxs-lookup"><span data-stu-id="f5cc0-176">4</span></span> |
| <span data-ttu-id="f5cc0-177">Alle andere bron en sink paren</span><span class="sxs-lookup"><span data-stu-id="f5cc0-177">All other source and sink pairs</span></span> |<span data-ttu-id="f5cc0-178">1</span><span class="sxs-lookup"><span data-stu-id="f5cc0-178">1</span></span> |

<span data-ttu-id="f5cc0-179">Normaal gesproken Hallo standaardgedrag geeft u het beste doorvoer Hallo.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-179">Usually, hello default behavior should give you hello best throughput.</span></span> <span data-ttu-id="f5cc0-180">Echter toocontrol Hallo laden op computers die als host fungeren uw gegevensarchieven of tootune kopiëren prestaties, u kunt kiezen toooverride Hallo standaardwaarde en een waarde opgeven voor Hallo **parallelCopies** eigenschap.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-180">However, toocontrol hello load on machines that host your data stores, or tootune copy performance, you may choose toooverride hello default value and specify a value for hello **parallelCopies** property.</span></span> <span data-ttu-id="f5cc0-181">Hallo-waarde moet tussen 1 en 32 liggen (zowel liggen).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-181">hello value must be between 1 and 32 (both inclusive).</span></span> <span data-ttu-id="f5cc0-182">Tijdens de runtime voor de beste prestaties Hallo Kopieeractiviteit maakt gebruik van een waarde die kleiner is dan of gelijk toohello-waarde die u instelt.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-182">At run time, for hello best performance, Copy Activity uses a value that is less than or equal toohello value that you set.</span></span>

```json
"activities":[  
    {
        "name": "Sample copy activity",
        "description": "",
        "type": "Copy",
        "inputs": [{ "name": "InputDataset" }],
        "outputs": [{ "name": "OutputDataset" }],
        "typeProperties": {
            "source": {
                "type": "BlobSource",
            },
            "sink": {
                "type": "AzureDataLakeStoreSink"
            },
            "parallelCopies": 8
        }
    }
]
```
<span data-ttu-id="f5cc0-183">Toonote punten:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-183">Points toonote:</span></span>

* <span data-ttu-id="f5cc0-184">Bij het kopiëren van gegevens tussen winkels bestandsgebaseerde Hallo **parallelCopies** Hallo parallelle uitvoering op bestandsniveau Hallo bepalen.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-184">When you copy data between file-based stores, hello **parallelCopies** determine hello parallelism at hello file level.</span></span> <span data-ttu-id="f5cc0-185">Hallo verdeling in segmenten binnen één bestand gebeurt onder automatisch en transparant en ontworpen toouse Hallo best geschikte chunkgrootte voor de gegevensopslag voor een bepaalde bron tooload gegevens in parallelle en rechthoekige tooparallelCopies typen.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-185">hello chunking within a single file would happen underneath automatically and transparently, and it's designed toouse hello best suitable chunk size for a given source data store type tooload data in parallel and orthogonal tooparallelCopies.</span></span> <span data-ttu-id="f5cc0-186">Hallo werkelijke aantal parallelle exemplaren Hallo data movement service gebruikt voor Hallo kopieerbewerking tijdens de uitvoering is niet meer dan het aantal bestanden die u hebt Hallo.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-186">hello actual number of parallel copies hello data movement service uses for hello copy operation at run time is no more than hello number of files you have.</span></span> <span data-ttu-id="f5cc0-187">Als Hallo kopie gedrag **mergeFile**, Kopieeractiviteit kan niet profiteren van bestandsniveau parallelle uitvoering.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-187">If hello copy behavior is **mergeFile**, Copy Activity cannot take advantage of file-level parallelism.</span></span>
* <span data-ttu-id="f5cc0-188">Wanneer u een waarde opgeven voor Hallo **parallelCopies** eigenschap, moet u overwegen Hallo load toename op het bron- en sink gegevensarchieven en toogateway als dit een hybride-kopie is.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-188">When you specify a value for hello **parallelCopies** property, consider hello load increase on your source and sink data stores, and toogateway if it is a hybrid copy.</span></span> <span data-ttu-id="f5cc0-189">Dit gebeurt, vooral wanneer er meerdere activiteiten of gelijktijdige uitvoert Hallo dezelfde activiteiten die worden uitgevoerd tegen Hallo hetzelfde gegevensarchief.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-189">This happens especially when you have multiple activities or concurrent runs of hello same activities that run against hello same data store.</span></span> <span data-ttu-id="f5cc0-190">Als u merkt dat Hallo gegevensarchief of Gateway met Hallo belasting wordt overbelast, verkleinen Hallo **parallelCopies** waarde toorelieve Hallo laden.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-190">If you notice that either hello data store or Gateway is overwhelmed with hello load, decrease hello **parallelCopies** value toorelieve hello load.</span></span>
* <span data-ttu-id="f5cc0-191">Wanneer u gegevens van winkels die niet op basis van bestanden toostores bestanden zijn gebaseerd kopiëren, Hallo data movement service Hallo negeert **parallelCopies** eigenschap.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-191">When you copy data from stores that are not file-based toostores that are file-based, hello data movement service ignores hello **parallelCopies** property.</span></span> <span data-ttu-id="f5cc0-192">Zelfs als parallelle uitvoering is opgegeven, wordt deze niet toegepast in dit geval.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-192">Even if parallelism is specified, it's not applied in this case.</span></span>

> [!NOTE]
> <span data-ttu-id="f5cc0-193">Moet u Data Management Gateway versie 1.11 of hoger toouse hello **parallelCopies** functie als u een kopie van de hybride doet.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-193">You must use Data Management Gateway version 1.11 or later toouse hello **parallelCopies** feature when you do a hybrid copy.</span></span>
>
>

<span data-ttu-id="f5cc0-194">toobetter gebruiken van deze twee eigenschappen en tooenhance uw gegevensdoorvoer voor verkeer, raadpleegt u Hallo [steekproef gebruiksvoorbeelden](#case-study-use-parallel-copy).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-194">toobetter use these two properties, and tooenhance your data movement throughput, see hello [sample use cases](#case-study-use-parallel-copy).</span></span> <span data-ttu-id="f5cc0-195">U hoeft niet tooconfigure **parallelCopies** tootake profiteren van het standaardgedrag Hallo.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-195">You don't need tooconfigure **parallelCopies** tootake advantage of hello default behavior.</span></span> <span data-ttu-id="f5cc0-196">Als u configureert en **parallelCopies** is te klein, meerdere cloud DMUs mogelijk niet volledig worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-196">If you do configure and **parallelCopies** is too small, multiple cloud DMUs might not be fully utilized.</span></span>  

### <a name="billing-impact"></a><span data-ttu-id="f5cc0-197">Gevolgen van facturering</span><span class="sxs-lookup"><span data-stu-id="f5cc0-197">Billing impact</span></span>
<span data-ttu-id="f5cc0-198">Deze heeft **belangrijke** tooremember die u in rekening gebracht op basis van de totale tijd Hallo van Hallo kopieerbewerking.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-198">It's **important** tooremember that you are charged based on hello total time of hello copy operation.</span></span> <span data-ttu-id="f5cc0-199">Als een taak kopiëren tootake één uur aan één cloud-eenheid gebruikt en nu het met vier cloud eenheden 15 minuten duurt, Hallo hello algehele factuur blijft bijna dezelfde.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-199">If a copy job used tootake one hour with one cloud unit and now it takes 15 minutes with four cloud units, hello overall bill remains almost hello same.</span></span> <span data-ttu-id="f5cc0-200">Bijvoorbeeld, u vier eenheden van de cloud.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-200">For example, you use four cloud units.</span></span> <span data-ttu-id="f5cc0-201">Hallo eerste cloud unit 10 minuten nodig heeft, hello tweede één, 10 minuten Hallo van een derde, 5 minuten en Hallo vierde één, 5 minuten, allemaal in één exemplaar activiteit die wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-201">hello first cloud unit spends 10 minutes, hello second one, 10 minutes, hello third one, 5 minutes, and hello fourth one, 5 minutes, all in one Copy Activity run.</span></span> <span data-ttu-id="f5cc0-202">Worden in rekening gebracht voor Hallo totaal aantal copy (gegevensverplaatsing) gebruikt, 10 + 10 + 5 + 5 = 30 minuten.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-202">You are charged for hello total copy (data movement) time, which is 10 + 10 + 5 + 5 = 30 minutes.</span></span> <span data-ttu-id="f5cc0-203">Met behulp van **parallelCopies** heeft geen invloed op de facturering.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-203">Using **parallelCopies** does not affect billing.</span></span>

## <a name="staged-copy"></a><span data-ttu-id="f5cc0-204">Gefaseerde kopiëren</span><span class="sxs-lookup"><span data-stu-id="f5cc0-204">Staged copy</span></span>
<span data-ttu-id="f5cc0-205">Wanneer u gegevens uit een data store tooa sink brongegevensarchief kopiëren, kiest u mogelijk toouse Blob storage als een tussentijdse staging store.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-205">When you copy data from a source data store tooa sink data store, you might choose toouse Blob storage as an interim staging store.</span></span> <span data-ttu-id="f5cc0-206">Fasering is vooral nuttig in de volgende gevallen Hallo:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-206">Staging is especially useful in hello following cases:</span></span>

1. <span data-ttu-id="f5cc0-207">**Gewenste tooingest gegevens uit verschillende gegevensarchieven in SQL Data Warehouse met PolyBase**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-207">**You want tooingest data from various data stores into SQL Data Warehouse via PolyBase**.</span></span> <span data-ttu-id="f5cc0-208">SQL Data Warehouse gebruikmaakt van PolyBase als een mechanisme voor hoge gegevensdoorvoer tooload een grote hoeveelheid gegevens in SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-208">SQL Data Warehouse uses PolyBase as a high-throughput mechanism tooload a large amount of data into SQL Data Warehouse.</span></span> <span data-ttu-id="f5cc0-209">Echter Hallo brongegevens moet zich in de Blob-opslag en het moet voldoen aan de aanvullende criteria.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-209">However, hello source data must be in Blob storage, and it must meet additional criteria.</span></span> <span data-ttu-id="f5cc0-210">Wanneer u gegevens uit een ander gegevensarchief dan Blob-opslag laden, kunt u gegevens kopiëren via fasering tussentijdse Blob-opslag kunt activeren.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-210">When you load data from a data store other than Blob storage, you can activate data copying via interim staging Blob storage.</span></span> <span data-ttu-id="f5cc0-211">In dat geval voert Data Factory Hallo vereist gegevens transformaties tooensure dat het voldoet aan de vereisten Hallo van PolyBase.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-211">In that case, Data Factory performs hello required data transformations tooensure that it meets hello requirements of PolyBase.</span></span> <span data-ttu-id="f5cc0-212">Vervolgens wordt PolyBase tooload gegevens in SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-212">Then it uses PolyBase tooload data into SQL Data Warehouse.</span></span> <span data-ttu-id="f5cc0-213">Zie voor meer informatie [gebruik PolyBase tooload gegevens in Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-213">For more details, see [Use PolyBase tooload data into Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse).</span></span> <span data-ttu-id="f5cc0-214">Zie voor een overzicht met een gebruiksvoorbeeld [1 TB laden in Azure SQL Data Warehouse onder 15 minuten met Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-214">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>
2. <span data-ttu-id="f5cc0-215">**Soms even duurt voordat een hybride verplaatsing van gegevens (dat wil zeggen toocopy tussen een on-premises gegevensopslag en cloud gegevensopslag) via een trage netwerkverbinding tooperform**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-215">**Sometimes it takes a while tooperform a hybrid data movement (that is, toocopy between an on-premises data store and a cloud data store) over a slow network connection**.</span></span> <span data-ttu-id="f5cc0-216">tooimprove prestaties, kunt u gegevens die lokaal zodat kost het minder tijd toomove gegevens toohello staging gegevens opslaan in de cloud Hallo Hallo comprimeren.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-216">tooimprove performance, you can compress hello data on-premises so that it takes less time toomove data toohello staging data store in hello cloud.</span></span> <span data-ttu-id="f5cc0-217">Vervolgens kunt u Hallo-gegevens in de store voor gefaseerde installatie voordat u de gegevens in doelgegevensopslagplaats Hallo laadt Hallo decomprimeren.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-217">Then you can decompress hello data in hello staging store before you load it into hello destination data store.</span></span>
3. <span data-ttu-id="f5cc0-218">**U niet wilt dat andere dan poort 80 en poort 443 in uw firewall vanwege bedrijfsbeleid IT tooopen poorten**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-218">**You don't want tooopen ports other than port 80 and port 443 in your firewall, because of corporate IT policies**.</span></span> <span data-ttu-id="f5cc0-219">Bijvoorbeeld, wanneer u gegevens uit een lokale gegevens store tooan Azure SQL Database sink of een Azure SQL Data Warehouse sink kopiëren, moet u tooactivate uitgaande TCP-communicatie op poort 1433 voor Hallo Windows firewall- en de firewall van uw bedrijf.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-219">For example, when you copy data from an on-premises data store tooan Azure SQL Database sink or an Azure SQL Data Warehouse sink, you need tooactivate outbound TCP communication on port 1433 for both hello Windows firewall and your corporate firewall.</span></span> <span data-ttu-id="f5cc0-220">In dit scenario kan gebruikmaken van Hallo toofirst kopie gegevens tooa Blob storage staging gatewayexemplaar via HTTP of HTTPS op poort 443.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-220">In this scenario, take advantage of hello gateway toofirst copy data tooa Blob storage staging instance over HTTP or HTTPS on port 443.</span></span> <span data-ttu-id="f5cc0-221">Vervolgens Hallo gegevens laden in SQL-Database of SQL Data Warehouse van fasering van Blob-opslag.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-221">Then, load hello data into SQL Database or SQL Data Warehouse from Blob storage staging.</span></span> <span data-ttu-id="f5cc0-222">In deze stroom hoeft u geen tooenable-poort 1433.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-222">In this flow, you don't need tooenable port 1433.</span></span>

### <a name="how-staged-copy-works"></a><span data-ttu-id="f5cc0-223">Hoe gefaseerde kopiëren werkt</span><span class="sxs-lookup"><span data-stu-id="f5cc0-223">How staged copy works</span></span>
<span data-ttu-id="f5cc0-224">Wanneer u Hallo staging-functie activeert, eerste Hallo-gegevens worden gekopieerd van Hallo bron data store toohello staging-gegevensarchief (bring uw eigen).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-224">When you activate hello staging feature, first hello data is copied from hello source data store toohello staging data store (bring your own).</span></span> <span data-ttu-id="f5cc0-225">Hallo-gegevens worden vervolgens van Hallo fasering data store toohello sink-gegevensarchief gekopieerd.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-225">Next, hello data is copied from hello staging data store toohello sink data store.</span></span> <span data-ttu-id="f5cc0-226">Hallo twee fasen stroom voor u worden beheerd, Data Factory.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-226">Data Factory automatically manages hello two-stage flow for you.</span></span> <span data-ttu-id="f5cc0-227">Data Factory ruimt ook tijdelijke gegevens van Hallo tijdelijke opslag nadat Hallo gegevensverplaatsing voltooid is.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-227">Data Factory also cleans up temporary data from hello staging storage after hello data movement is complete.</span></span>

<span data-ttu-id="f5cc0-228">Gateway wordt niet gebruikt in Hallo cloud kopie scenario (bron- en sink gegevens winkels in de cloud Hallo zijn).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-228">In hello cloud copy scenario (both source and sink data stores are in hello cloud), gateway is not used.</span></span> <span data-ttu-id="f5cc0-229">Hallo Data Factory-service kunt Hallo kopieerbewerkingen uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-229">hello Data Factory service performs hello copy operations.</span></span>

![Gefaseerde kopiëren: cloudscenario](media/data-factory-copy-activity-performance/staged-copy-cloud-scenario.png)

<span data-ttu-id="f5cc0-231">In het scenario voor Hallo hybride kopiëren (bron op lokale en sink is in de cloud Hallo), Hallo gateway verplaatst gegevensarchief van de brongegevens Hallo tooa staging-gegevensarchief.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-231">In hello hybrid copy scenario (source is on-premises and sink is in hello cloud), hello gateway moves data from hello source data store tooa staging data store.</span></span> <span data-ttu-id="f5cc0-232">Data Factory-service wordt verplaatst gegevensarchief van gegevens in staging Hallo toohello sink-gegevensarchief.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-232">Data Factory service moves data from hello staging data store toohello sink data store.</span></span> <span data-ttu-id="f5cc0-233">Kopiëren van gegevens uit een cloud data store tooan lokale gegevensarchief via fasering ook wordt ondersteund met Hallo omgekeerd stroom.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-233">Copying data from a cloud data store tooan on-premises data store via staging also is supported with hello reversed flow.</span></span>

![Gefaseerde kopiëren: hybride scenario](media/data-factory-copy-activity-performance/staged-copy-hybrid-scenario.png)

<span data-ttu-id="f5cc0-235">Wanneer u verplaatsing van gegevens met behulp van een gefaseerde installatie archief activeert, kunt u opgeven of u wilt dat Hallo gegevens toobe gecomprimeerd voordat de gegevens te verplaatsen van bron Hallo gegevens tooan interim of staging-gegevensopslag opslaan en vervolgens gedecomprimeerd voordat het verplaatsen van gegevens vanuit een tussentijdse of Fasering gegevensopslag toohello sink-gegevensarchief.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-235">When you activate data movement by using a staging store, you can specify whether you want hello data toobe compressed before moving data from hello source data store tooan interim or staging data store, and then decompressed before moving data from an interim or staging data store toohello sink data store.</span></span>

<span data-ttu-id="f5cc0-236">Op dit moment kunt kopiëren u gegevens tussen twee on-premises gegevensopslagexemplaren met behulp van een gefaseerde installatie archief niet.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-236">Currently, you can't copy data between two on-premises data stores by using a staging store.</span></span> <span data-ttu-id="f5cc0-237">Deze optie toobe beschikbaar verwachting snel.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-237">We expect this option toobe available soon.</span></span>

### <a name="configuration"></a><span data-ttu-id="f5cc0-238">Configuratie</span><span class="sxs-lookup"><span data-stu-id="f5cc0-238">Configuration</span></span>
<span data-ttu-id="f5cc0-239">Hallo configureren **enableStaging** instellen in de kopieerbewerking toospecify of u Hallo gegevens toobe tijdelijk opgeslagen in blobopslag wilt voordat u deze naar een doelgegevensopslagplaats laden.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-239">Configure hello **enableStaging** setting in Copy Activity toospecify whether you want hello data toobe staged in Blob storage before you load it into a destination data store.</span></span> <span data-ttu-id="f5cc0-240">Als u instelt **enableStaging** tooTRUE, Hallo extra eigenschappen die worden vermeld in de volgende tabel Hallo opgeven.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-240">When you set **enableStaging** tooTRUE, specify hello additional properties listed in hello next table.</span></span> <span data-ttu-id="f5cc0-241">Als u niet hebt, moet u ook een Azure Storage toocreate of opslag gedeelde handtekening-gekoppelde access-service voor fasering.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-241">If you don’t have one, you also need toocreate an Azure Storage or Storage shared access signature-linked service for staging.</span></span>

| <span data-ttu-id="f5cc0-242">Eigenschap</span><span class="sxs-lookup"><span data-stu-id="f5cc0-242">Property</span></span> | <span data-ttu-id="f5cc0-243">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="f5cc0-243">Description</span></span> | <span data-ttu-id="f5cc0-244">Standaardwaarde</span><span class="sxs-lookup"><span data-stu-id="f5cc0-244">Default value</span></span> | <span data-ttu-id="f5cc0-245">Vereist</span><span class="sxs-lookup"><span data-stu-id="f5cc0-245">Required</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f5cc0-246">**enableStaging**</span><span class="sxs-lookup"><span data-stu-id="f5cc0-246">**enableStaging**</span></span> |<span data-ttu-id="f5cc0-247">Opgeven of u wilt dat toocopy gegevens via een tussentijdse staging-store.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-247">Specify whether you want toocopy data via an interim staging store.</span></span> |<span data-ttu-id="f5cc0-248">False</span><span class="sxs-lookup"><span data-stu-id="f5cc0-248">False</span></span> |<span data-ttu-id="f5cc0-249">Nee</span><span class="sxs-lookup"><span data-stu-id="f5cc0-249">No</span></span> |
| <span data-ttu-id="f5cc0-250">**linkedServiceName**</span><span class="sxs-lookup"><span data-stu-id="f5cc0-250">**linkedServiceName**</span></span> |<span data-ttu-id="f5cc0-251">Hallo naam opgeven van een [AzureStorage](data-factory-azure-blob-connector.md#azure-storage-linked-service) of [AzureStorageSas](data-factory-azure-blob-connector.md#azure-storage-sas-linked-service) gekoppelde service die toohello exemplaar van de opslag die u als een tussentijdse staging store gebruikt verwijst.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-251">Specify hello name of an [AzureStorage](data-factory-azure-blob-connector.md#azure-storage-linked-service) or [AzureStorageSas](data-factory-azure-blob-connector.md#azure-storage-sas-linked-service) linked service, which refers toohello instance of Storage that you use as an interim staging store.</span></span> <br/><br/> <span data-ttu-id="f5cc0-252">U kunt geen opslag gebruiken een shared access signature tooload gegevens in SQL Data Warehouse met PolyBase.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-252">You cannot use Storage with a shared access signature tooload data into SQL Data Warehouse via PolyBase.</span></span> <span data-ttu-id="f5cc0-253">U kunt deze gebruiken in alle andere scenario's.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-253">You can use it in all other scenarios.</span></span> |<span data-ttu-id="f5cc0-254">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-254">N/A</span></span> |<span data-ttu-id="f5cc0-255">Ja, wanneer **enableStaging** tooTRUE is ingesteld</span><span class="sxs-lookup"><span data-stu-id="f5cc0-255">Yes, when **enableStaging** is set tooTRUE</span></span> |
| <span data-ttu-id="f5cc0-256">**pad**</span><span class="sxs-lookup"><span data-stu-id="f5cc0-256">**path**</span></span> |<span data-ttu-id="f5cc0-257">Hallo Blob storage pad dat u wilt dat toocontain Hallo gefaseerde gegevens opgeven.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-257">Specify hello Blob storage path that you want toocontain hello staged data.</span></span> <span data-ttu-id="f5cc0-258">Als u niet een pad opgeeft, maakt Hallo-service een tijdelijke container toostore-gegevens.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-258">If you do not provide a path, hello service creates a container toostore temporary data.</span></span> <br/><br/> <span data-ttu-id="f5cc0-259">Geef een pad op als u opslag met een shared access signature, of u tijdelijke gegevens toobe op een specifieke locatie nodig hebt.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-259">Specify a path only if you use Storage with a shared access signature, or you require temporary data toobe in a specific location.</span></span> |<span data-ttu-id="f5cc0-260">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-260">N/A</span></span> |<span data-ttu-id="f5cc0-261">Nee</span><span class="sxs-lookup"><span data-stu-id="f5cc0-261">No</span></span> |
| <span data-ttu-id="f5cc0-262">**enableCompression**</span><span class="sxs-lookup"><span data-stu-id="f5cc0-262">**enableCompression**</span></span> |<span data-ttu-id="f5cc0-263">Hiermee geeft u op of gegevens worden gecomprimeerd voordat deze gekopieerde toohello bestemming.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-263">Specifies whether data should be compressed before it is copied toohello destination.</span></span> <span data-ttu-id="f5cc0-264">Deze instelling beperkt Hallo hoeveelheid gegevens die worden overgedragen.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-264">This setting reduces hello volume of data being transferred.</span></span> |<span data-ttu-id="f5cc0-265">False</span><span class="sxs-lookup"><span data-stu-id="f5cc0-265">False</span></span> |<span data-ttu-id="f5cc0-266">Nee</span><span class="sxs-lookup"><span data-stu-id="f5cc0-266">No</span></span> |

<span data-ttu-id="f5cc0-267">Hier volgt een voorbeeld-definitie van de Kopieeractiviteit met Hallo-eigenschappen die worden beschreven in de voorgaande tabel Hallo:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-267">Here's a sample definition of Copy Activity with hello properties that are described in hello preceding table:</span></span>

```json
"activities":[  
{
    "name": "Sample copy activity",
    "type": "Copy",
    "inputs": [{ "name": "OnpremisesSQLServerInput" }],
    "outputs": [{ "name": "AzureSQLDBOutput" }],
    "typeProperties": {
        "source": {
            "type": "SqlSource",
        },
        "sink": {
            "type": "SqlSink"
        },
        "enableStaging": true,
        "stagingSettings": {
            "linkedServiceName": "MyStagingBlob",
            "path": "stagingcontainer/path",
            "enableCompression": true
        }
    }
}
]
```

### <a name="billing-impact"></a><span data-ttu-id="f5cc0-268">Gevolgen van facturering</span><span class="sxs-lookup"><span data-stu-id="f5cc0-268">Billing impact</span></span>
<span data-ttu-id="f5cc0-269">U kosten in rekening gebracht op basis van twee stappen: kopieer duur en type kopiëren.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-269">You are charged based on two steps: copy duration and copy type.</span></span>

* <span data-ttu-id="f5cc0-270">Wanneer u in een cloud gekopieerde (gegevens kopiëren van een gegevensarchief cloud data store tooanother cloud) voor fasering u in rekening worden gebracht Hallo [totale duur van de kopie voor stap 1 en 2] x [cloud kopie eenheidsprijs].</span><span class="sxs-lookup"><span data-stu-id="f5cc0-270">When you use staging during a cloud copy (copying data from a cloud data store tooanother cloud data store), you are charged hello [sum of copy duration for step 1 and step 2] x [cloud copy unit price].</span></span>
* <span data-ttu-id="f5cc0-271">Wanneer u in een hybride gekopieerde (kopiëren van gegevens uit een on-premises store tooa cloud gegevens gegevensopslag) voor fasering u in rekening worden gebracht [duur hybride kopiëren] x [hybride kopie eenheidsprijs] + [cloud kopie duur] x [cloud kopie eenheidsprijs].</span><span class="sxs-lookup"><span data-stu-id="f5cc0-271">When you use staging during a hybrid copy (copying data from an on-premises data store tooa cloud data store), you are charged for [hybrid copy duration] x [hybrid copy unit price] + [cloud copy duration] x [cloud copy unit price].</span></span>

## <a name="performance-tuning-steps"></a><span data-ttu-id="f5cc0-272">Prestaties afstemmen stappen</span><span class="sxs-lookup"><span data-stu-id="f5cc0-272">Performance tuning steps</span></span>
<span data-ttu-id="f5cc0-273">We raden aan dat u deze stappen tootune Hallo prestaties van uw Data Factory-service met de Kopieeractiviteit ondernemen:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-273">We suggest that you take these steps tootune hello performance of your Data Factory service with Copy Activity:</span></span>

1. <span data-ttu-id="f5cc0-274">**Stel een basislijn vast**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-274">**Establish a baseline**.</span></span> <span data-ttu-id="f5cc0-275">Test uw pijplijn met behulp van de Kopieeractiviteit tegen een representatieve steekproef tijdens Hallo ontwikkelingsfase.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-275">During hello development phase, test your pipeline by using Copy Activity against a representative data sample.</span></span> <span data-ttu-id="f5cc0-276">Kunt u Data Factory Hallo [segmentering model](data-factory-scheduling-and-execution.md) toolimit Hallo hoeveelheid gegevens waarmee u werkt.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-276">You can use hello Data Factory [slicing model](data-factory-scheduling-and-execution.md) toolimit hello amount of data you work with.</span></span>

   <span data-ttu-id="f5cc0-277">Uitvoeringstijd en prestatiekenmerken verzamelen met behulp van Hallo **bewaking en beheer-App**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-277">Collect execution time and performance characteristics by using hello **Monitoring and Management App**.</span></span> <span data-ttu-id="f5cc0-278">Kies **Monitor & beheren** op de startpagina van de Data Factory.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-278">Choose **Monitor & Manage** on your Data Factory home page.</span></span> <span data-ttu-id="f5cc0-279">Kies in de structuurweergave Hallo Hallo **uitvoergegevensset**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-279">In hello tree view, choose hello **output dataset**.</span></span> <span data-ttu-id="f5cc0-280">In Hallo **Activiteitsvensters** Kies Hallo Kopieeractiviteit uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-280">In hello **Activity Windows** list, choose hello Copy Activity run.</span></span> <span data-ttu-id="f5cc0-281">**Activiteit Windows** bevat Hallo Kopieeractiviteit duur en Hallo-grootte van het Hallo-gegevens die worden gekopieerd.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-281">**Activity Windows** lists hello Copy Activity duration and hello size of hello data that's copied.</span></span> <span data-ttu-id="f5cc0-282">Hallo doorvoer wordt vermeld in **activiteit venster Explorer**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-282">hello throughput is listed in **Activity Window Explorer**.</span></span> <span data-ttu-id="f5cc0-283">toolearn meer informatie over het Hallo-app, Zie [bewaken en beheren van Azure Data Factory-pijplijnen met behulp van Hallo bewaking en beheer-App](data-factory-monitor-manage-app.md).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-283">toolearn more about hello app, see [Monitor and manage Azure Data Factory pipelines by using hello Monitoring and Management App](data-factory-monitor-manage-app.md).</span></span>

   ![Details uitvoering van activiteit](./media/data-factory-copy-activity-performance/mmapp-activity-run-details.png)

   <span data-ttu-id="f5cc0-285">Verderop in Hallo artikel, kunt u vergelijken Hallo prestatie- en configuratie van uw scenario tooCopy activiteit van [prestaties verwijzing](#performance-reference) van onze tests.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-285">Later in hello article, you can compare hello performance and configuration of your scenario tooCopy Activity’s [performance reference](#performance-reference) from our tests.</span></span>
2. <span data-ttu-id="f5cc0-286">**Diagnose en prestaties te optimaliseren**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-286">**Diagnose and optimize performance**.</span></span> <span data-ttu-id="f5cc0-287">Als u merkt Hallo-prestaties niet voldoet aan uw verwachtingen, moet u tooidentify prestatieknelpunten.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-287">If hello performance you observe doesn't meet your expectations, you need tooidentify performance bottlenecks.</span></span> <span data-ttu-id="f5cc0-288">Vervolgens tooremove prestaties optimaliseren of Hallo effect van knelpunten wordt beperkt.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-288">Then, optimize performance tooremove or reduce hello effect of bottlenecks.</span></span> <span data-ttu-id="f5cc0-289">Een volledige beschrijving van de prestatiediagnose van valt buiten bereik Hallo van dit artikel, maar hier volgen enkele algemene overwegingen:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-289">A full description of performance diagnosis is beyond hello scope of this article, but here are some common considerations:</span></span>

   * <span data-ttu-id="f5cc0-290">Prestatiefuncties:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-290">Performance features:</span></span>
     * [<span data-ttu-id="f5cc0-291">Parallelle kopie</span><span class="sxs-lookup"><span data-stu-id="f5cc0-291">Parallel copy</span></span>](#parallel-copy)
     * [<span data-ttu-id="f5cc0-292">Cloud data movement-eenheden</span><span class="sxs-lookup"><span data-stu-id="f5cc0-292">Cloud data movement units</span></span>](#cloud-data-movement-units)
     * [<span data-ttu-id="f5cc0-293">Gefaseerde kopiëren</span><span class="sxs-lookup"><span data-stu-id="f5cc0-293">Staged copy</span></span>](#staged-copy)
     * [<span data-ttu-id="f5cc0-294">Data Management Gateway-schaalbaarheid</span><span class="sxs-lookup"><span data-stu-id="f5cc0-294">Data Management Gateway scalability</span></span>](data-factory-data-management-gateway-high-availability-scalability.md)
   * [<span data-ttu-id="f5cc0-295">Gegevensbeheergateway</span><span class="sxs-lookup"><span data-stu-id="f5cc0-295">Data Management Gateway</span></span>](#considerations-for-data-management-gateway)
   * [<span data-ttu-id="f5cc0-296">Bron</span><span class="sxs-lookup"><span data-stu-id="f5cc0-296">Source</span></span>](#considerations-for-the-source)
   * [<span data-ttu-id="f5cc0-297">Sink</span><span class="sxs-lookup"><span data-stu-id="f5cc0-297">Sink</span></span>](#considerations-for-the-sink)
   * [<span data-ttu-id="f5cc0-298">Serialisatie en deserialisatie</span><span class="sxs-lookup"><span data-stu-id="f5cc0-298">Serialization and deserialization</span></span>](#considerations-for-serialization-and-deserialization)
   * [<span data-ttu-id="f5cc0-299">Compressie</span><span class="sxs-lookup"><span data-stu-id="f5cc0-299">Compression</span></span>](#considerations-for-compression)
   * [<span data-ttu-id="f5cc0-300">Kolomtoewijzing</span><span class="sxs-lookup"><span data-stu-id="f5cc0-300">Column mapping</span></span>](#considerations-for-column-mapping)
   * [<span data-ttu-id="f5cc0-301">Andere overwegingen</span><span class="sxs-lookup"><span data-stu-id="f5cc0-301">Other considerations</span></span>](#other-considerations)
3. <span data-ttu-id="f5cc0-302">**Vouw Hallo configuratie tooyour volledige gegevensset**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-302">**Expand hello configuration tooyour entire data set**.</span></span> <span data-ttu-id="f5cc0-303">Wanneer u tevreden met resultaten Hallo en prestaties bent, kunt u Hallo definitie uitvouwen en uw volledige gegevensset met actieve periode toocover pipeline.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-303">When you're satisfied with hello execution results and performance, you can expand hello definition and pipeline active period toocover your entire data set.</span></span>

## <a name="considerations-for-data-management-gateway"></a><span data-ttu-id="f5cc0-304">Overwegingen voor Data Management Gateway</span><span class="sxs-lookup"><span data-stu-id="f5cc0-304">Considerations for Data Management Gateway</span></span>
<span data-ttu-id="f5cc0-305">**Gateway setup**: het is raadzaam dat u een toegewezen machine toohost Data Management Gateway.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-305">**Gateway setup**: We recommend that you use a dedicated machine toohost Data Management Gateway.</span></span> <span data-ttu-id="f5cc0-306">Zie [overwegingen voor het gebruik van Data Management Gateway](data-factory-data-management-gateway.md#considerations-for-using-gateway).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-306">See [Considerations for using Data Management Gateway](data-factory-data-management-gateway.md#considerations-for-using-gateway).</span></span>  

<span data-ttu-id="f5cc0-307">**Bewaking van de gateway en scale-up/out**: één logische gateway met een of meer knooppunten van de gateway kan meerdere Kopieeractiviteit dienen wordt uitgevoerd op Hallo dezelfde tijd gelijktijdig.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-307">**Gateway monitoring and scale-up/out**: A single logical gateway with one or more gateway nodes can serve multiple Copy Activity runs at hello same time concurrently.</span></span> <span data-ttu-id="f5cc0-308">U kunt vrijwel in realtime momentopname van Resourcegebruik (CPU, geheugen, network(in/out), enz.) weergeven op een computer met de gateway en Hallo aantal gelijktijdige taken uitgevoerd versus limiet in hello Azure-portal, Zie [Monitor-gateway in Hallo portal](data-factory-data-management-gateway.md#monitor-gateway-in-the-portal).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-308">You can view near-real time snapshot of resource utilization (CPU, memory, network(in/out), etc.) on a gateway machine as well as hello number of concurrent jobs running versus limit in hello Azure portal, see [Monitor gateway in hello portal](data-factory-data-management-gateway.md#monitor-gateway-in-the-portal).</span></span> <span data-ttu-id="f5cc0-309">Als u zware nodig op hybride gegevensverplaatsing met een groot aantal gelijktijdige kopie activiteit wordt uitgevoerd of grote hoeveelheid gegevens toocopy hebt, kunt u overwegen te[omhoog schalen of uitschalen gateway](data-factory-data-management-gateway-high-availability-scalability.md#scale-considerations) dus als toobetter gebruikmaken van de bron of tooprovision meer resource tooempower kopiëren.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-309">If you have heavy need on hybrid data movement either with large number of concurrent copy activity runs or with large volume of data toocopy, consider too[scale up or scale out gateway](data-factory-data-management-gateway-high-availability-scalability.md#scale-considerations) so as toobetter utilize your resource or tooprovision more resource tooempower copy.</span></span> 

## <a name="considerations-for-hello-source"></a><span data-ttu-id="f5cc0-310">Overwegingen voor het Hallo-bron</span><span class="sxs-lookup"><span data-stu-id="f5cc0-310">Considerations for hello source</span></span>
### <a name="general"></a><span data-ttu-id="f5cc0-311">Algemeen</span><span class="sxs-lookup"><span data-stu-id="f5cc0-311">General</span></span>
<span data-ttu-id="f5cc0-312">Zorg ervoor dat Hallo onderliggende gegevensarchief niet wordt overbelast door andere werkbelastingen die worden uitgevoerd op of tegen het.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-312">Be sure that hello underlying data store is not overwhelmed by other workloads that are running on or against it.</span></span>

<span data-ttu-id="f5cc0-313">Zie voor Microsoft-gegevensarchieven, [controleren en afstemmen van onderwerpen](#performance-reference) die zijn specifieke toodata winkels en u gegevens opslaan prestatiekenmerken, reactietijden minimaliseren en maximaliseren van doorvoer laten zien.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-313">For Microsoft data stores, see [monitoring and tuning topics](#performance-reference) that are specific toodata stores, and help you understand data store performance characteristics, minimize response times, and maximize throughput.</span></span>

<span data-ttu-id="f5cc0-314">Als u gegevens van Blob storage tooSQL Data Warehouse kopiëren, overweeg dan **PolyBase** tooboost prestaties.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-314">If you copy data from Blob storage tooSQL Data Warehouse, consider using **PolyBase** tooboost performance.</span></span> <span data-ttu-id="f5cc0-315">Zie [gebruik PolyBase tooload gegevens in Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-315">See [Use PolyBase tooload data into Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) for details.</span></span> <span data-ttu-id="f5cc0-316">Zie voor een overzicht met een gebruiksvoorbeeld [1 TB laden in Azure SQL Data Warehouse onder 15 minuten met Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-316">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>

### <a name="file-based-data-stores"></a><span data-ttu-id="f5cc0-317">Opgeslagen gegevens op basis van bestanden</span><span class="sxs-lookup"><span data-stu-id="f5cc0-317">File-based data stores</span></span>
<span data-ttu-id="f5cc0-318">*(Inclusief Blob storage, Data Lake Store, Amazon S3, on-premises bestandssystemen en lokale HDFS)*</span><span class="sxs-lookup"><span data-stu-id="f5cc0-318">*(Includes Blob storage, Data Lake Store, Amazon S3, on-premises file systems, and on-premises HDFS)*</span></span>

* <span data-ttu-id="f5cc0-319">**Gemiddelde grootte en het aantal bestanden**: Kopieeractiviteit overgedragen gegevens één bestand tegelijk.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-319">**Average file size and file count**: Copy Activity transfers data one file at a time.</span></span> <span data-ttu-id="f5cc0-320">Met de Hallo dezelfde hoeveelheid gegevens toobe verplaatst, is hello totale doorvoer lager als Hallo gegevens uit veel kleine bestanden in plaats van enkele grote bestanden vanwege toohello bootstrap fase voor elk bestand bestaat.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-320">With hello same amount of data toobe moved, hello overall throughput is lower if hello data consists of many small files rather than a few large files due toohello bootstrap phase for each file.</span></span> <span data-ttu-id="f5cc0-321">Indien mogelijk, daarom kleine bestanden combineren in grotere bestanden toogain hogere doorvoer.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-321">Therefore, if possible, combine small files into larger files toogain higher throughput.</span></span>
* <span data-ttu-id="f5cc0-322">**Bestand-indeling en compressie**: Zie voor meer manieren tooimprove prestaties Hallo [overwegingen voor serialisatie en deserialisatie](#considerations-for-serialization-and-deserialization) en [overwegingen voor compressie](#considerations-for-compression) secties.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-322">**File format and compression**: For more ways tooimprove performance, see hello [Considerations for serialization and deserialization](#considerations-for-serialization-and-deserialization) and [Considerations for compression](#considerations-for-compression) sections.</span></span>
* <span data-ttu-id="f5cc0-323">Voor Hallo **lokaal bestandssysteem** scenario waarin **Data Management Gateway** is vereist, Zie Hallo [overwegingen voor Data Management Gateway](#considerations-for-data-management-gateway) sectie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-323">For hello **on-premises file system** scenario, in which **Data Management Gateway** is required, see hello [Considerations for Data Management Gateway](#considerations-for-data-management-gateway) section.</span></span>

### <a name="relational-data-stores"></a><span data-ttu-id="f5cc0-324">Opgeslagen relationele gegevens</span><span class="sxs-lookup"><span data-stu-id="f5cc0-324">Relational data stores</span></span>
<span data-ttu-id="f5cc0-325">*(Inclusief SQL-Database. SQL datawarehouse; Amazon Redshift; SQL Server-databases. (en Oracle, MySQL, DB2 Teradata, Sybase en PostgreSQL-databases, enz.)*</span><span class="sxs-lookup"><span data-stu-id="f5cc0-325">*(Includes SQL Database; SQL Data Warehouse; Amazon Redshift; SQL Server databases; and Oracle, MySQL, DB2, Teradata, Sybase, and PostgreSQL databases, etc.)*</span></span>

* <span data-ttu-id="f5cc0-326">**Patroon voor gegevens**: uw tabelschema is van invloed op de doorvoer van de kopie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-326">**Data pattern**: Your table schema affects copy throughput.</span></span> <span data-ttu-id="f5cc0-327">Een grote rijgrootte beschikt u over een betere prestaties dan kleine rijgrootte, toocopy Hallo dezelfde hoeveelheid gegevens.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-327">A large row size gives you a better performance than small row size, toocopy hello same amount of data.</span></span> <span data-ttu-id="f5cc0-328">Hallo reden is dat die database Hallo kan efficiënter ophalen minder batches van gegevens die minder rijen bevatten.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-328">hello reason is that hello database can more efficiently retrieve fewer batches of data that contain fewer rows.</span></span>
* <span data-ttu-id="f5cc0-329">**Query of opgeslagen procedure**: Hallo logica van Hallo query of een opgeslagen procedure die u in Hallo Kopieeractiviteit brongegevens toofetch efficiënter opgeeft te optimaliseren.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-329">**Query or stored procedure**: Optimize hello logic of hello query or stored procedure you specify in hello Copy Activity source toofetch data more efficiently.</span></span>
* <span data-ttu-id="f5cc0-330">Voor **lokale relationele databases**, zoals SQL Server en Oracle waarvoor gebruik van Hallo **Data Management Gateway**, Zie Hallo [overwegingen voor Data Management Gateway](#considerations-on-data-management-gateway) sectie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-330">For **on-premises relational databases**, such as SQL Server and Oracle, which require hello use of **Data Management Gateway**, see hello [Considerations for Data Management Gateway](#considerations-on-data-management-gateway) section.</span></span>

## <a name="considerations-for-hello-sink"></a><span data-ttu-id="f5cc0-331">Overwegingen voor Hallo sink</span><span class="sxs-lookup"><span data-stu-id="f5cc0-331">Considerations for hello sink</span></span>
### <a name="general"></a><span data-ttu-id="f5cc0-332">Algemeen</span><span class="sxs-lookup"><span data-stu-id="f5cc0-332">General</span></span>
<span data-ttu-id="f5cc0-333">Zorg ervoor dat Hallo onderliggende gegevensarchief niet wordt overbelast door andere werkbelastingen die worden uitgevoerd op of tegen het.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-333">Be sure that hello underlying data store is not overwhelmed by other workloads that are running on or against it.</span></span>

<span data-ttu-id="f5cc0-334">Raadpleeg te voor Microsoft-gegevensarchieven,[controleren en afstemmen van onderwerpen](#performance-reference) die specifieke toodata winkels zijn.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-334">For Microsoft data stores, refer too[monitoring and tuning topics](#performance-reference) that are specific toodata stores.</span></span> <span data-ttu-id="f5cc0-335">Deze onderwerpen vindt u gegevens store prestatiekenmerken en begrijpen hoe toominimize responstijden en het maximaliseren van doorvoer.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-335">These topics can help you understand data store performance characteristics and how toominimize response times and maximize throughput.</span></span>

<span data-ttu-id="f5cc0-336">Als u gegevens van kopieert **Blob storage** te**SQL Data Warehouse**, kunt u overwegen **PolyBase** tooboost prestaties.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-336">If you are copying data from **Blob storage** too**SQL Data Warehouse**, consider using **PolyBase** tooboost performance.</span></span> <span data-ttu-id="f5cc0-337">Zie [gebruik PolyBase tooload gegevens in Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-337">See [Use PolyBase tooload data into Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) for details.</span></span> <span data-ttu-id="f5cc0-338">Zie voor een overzicht met een gebruiksvoorbeeld [1 TB laden in Azure SQL Data Warehouse onder 15 minuten met Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-338">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>

### <a name="file-based-data-stores"></a><span data-ttu-id="f5cc0-339">Opgeslagen gegevens op basis van bestanden</span><span class="sxs-lookup"><span data-stu-id="f5cc0-339">File-based data stores</span></span>
<span data-ttu-id="f5cc0-340">*(Inclusief Blob storage, Data Lake Store, Amazon S3, on-premises bestandssystemen en lokale HDFS)*</span><span class="sxs-lookup"><span data-stu-id="f5cc0-340">*(Includes Blob storage, Data Lake Store, Amazon S3, on-premises file systems, and on-premises HDFS)*</span></span>

* <span data-ttu-id="f5cc0-341">**Kopieer gedrag**: als u gegevens in een store, andere bestandsgebaseerde gegevens kopieert, Kopieeractiviteit heeft drie opties via Hallo **copyBehavior** eigenschap.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-341">**Copy behavior**: If you copy data from a different file-based data store, Copy Activity has three options via hello **copyBehavior** property.</span></span> <span data-ttu-id="f5cc0-342">Deze hiërarchie van bewaart, hiërarchie worden samengevoegd of bestanden worden samengevoegd.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-342">It preserves hierarchy, flattens hierarchy, or merges files.</span></span> <span data-ttu-id="f5cc0-343">Voor het behouden of plat hiërarchie een weinig of geen prestatieoverhead, maar performance overhead tooincrease samenvoegen van bestanden veroorzaakt.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-343">Either preserving or flattening hierarchy has little or no performance overhead, but merging files causes performance overhead tooincrease.</span></span>
* <span data-ttu-id="f5cc0-344">**Bestand-indeling en compressie**: Zie Hallo [overwegingen voor serialisatie en deserialisatie](#considerations-for-serialization-and-deserialization) en [overwegingen voor compressie](#considerations-for-compression) secties voor meer manieren tooimprove prestaties .</span><span class="sxs-lookup"><span data-stu-id="f5cc0-344">**File format and compression**: See hello [Considerations for serialization and deserialization](#considerations-for-serialization-and-deserialization) and [Considerations for compression](#considerations-for-compression) sections for more ways tooimprove performance.</span></span>
* <span data-ttu-id="f5cc0-345">**BLOB-opslag**: op dit moment Blob storage ondersteunt alleen blok-blobs voor geoptimaliseerde gegevensoverdracht en doorvoer.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-345">**Blob storage**: Currently, Blob storage supports only block blobs for optimized data transfer and throughput.</span></span>
* <span data-ttu-id="f5cc0-346">Voor **lokale bestandssystemen** scenario's waarvoor gebruik van Hallo **Data Management Gateway**, Zie Hallo [overwegingen voor Data Management Gateway](#considerations-for-data-management-gateway) sectie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-346">For **on-premises file systems** scenarios that require hello use of **Data Management Gateway**, see hello [Considerations for Data Management Gateway](#considerations-for-data-management-gateway) section.</span></span>

### <a name="relational-data-stores"></a><span data-ttu-id="f5cc0-347">Opgeslagen relationele gegevens</span><span class="sxs-lookup"><span data-stu-id="f5cc0-347">Relational data stores</span></span>
<span data-ttu-id="f5cc0-348">*(Inclusief SQL-Database, SQL Data Warehouse, SQL Server-databases en Oracle-databases)*</span><span class="sxs-lookup"><span data-stu-id="f5cc0-348">*(Includes SQL Database, SQL Data Warehouse, SQL Server databases, and Oracle databases)*</span></span>

* <span data-ttu-id="f5cc0-349">**Kopieer gedrag**: afhankelijk van het Hallo-eigenschappen die u hebt ingesteld voor **sqlSink**, Kopieeractiviteit schrijft gegevens toohello doeldatabase op verschillende manieren.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-349">**Copy behavior**: Depending on hello properties you've set for **sqlSink**, Copy Activity writes data toohello destination database in different ways.</span></span>
  * <span data-ttu-id="f5cc0-350">Standaard Hallo Hallo data movement service gebruikt Hallo bulksgewijs kopiëren API tooinsert gegevens in de modus, die biedt toevoegen de beste prestaties.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-350">By default, hello data movement service uses hello Bulk Copy API tooinsert data in append mode, which provides hello best performance.</span></span>
  * <span data-ttu-id="f5cc0-351">Als u een opgeslagen procedure in Hallo sink is geconfigureerd, geldt Hallo database één gegevensrij Hallo op een tijdstip in plaats van als bulksgewijs laden.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-351">If you configure a stored procedure in hello sink, hello database applies hello data one row at a time instead of as a bulk load.</span></span> <span data-ttu-id="f5cc0-352">Prestaties aanzienlijk verwijderd.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-352">Performance drops significantly.</span></span> <span data-ttu-id="f5cc0-353">Als uw gegevensset groot is, indien van toepassing, overweeg over te schakelen toousing hello **sqlWriterCleanupScript** eigenschap.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-353">If your data set is large, when applicable, consider switching toousing hello **sqlWriterCleanupScript** property.</span></span>
  * <span data-ttu-id="f5cc0-354">Als u Hallo configureert **sqlWriterCleanupScript** eigenschap voor elke kopie-activiteit uitgevoerd en u Hallo bulksgewijs kopiëren API tooinsert Hallo gegevens Hallo service triggers Hallo script.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-354">If you configure hello **sqlWriterCleanupScript** property for each Copy Activity run, hello service triggers hello script, and then you use hello Bulk Copy API tooinsert hello data.</span></span> <span data-ttu-id="f5cc0-355">Bijvoorbeeld: toooverwrite Hallo gehele tabel met de meest recente gegevens hello, kunt u een script toofirst alle records voordat nieuwe gegevens voor bulksgewijs laden Hallo van Hallo bron verwijderen.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-355">For example, toooverwrite hello entire table with hello latest data, you can specify a script toofirst delete all records before bulk-loading hello new data from hello source.</span></span>
* <span data-ttu-id="f5cc0-356">**Gegevensgrootte patroon en batch**:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-356">**Data pattern and batch size**:</span></span>
  * <span data-ttu-id="f5cc0-357">Uw tabelschema is van invloed op de doorvoer van de kopie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-357">Your table schema affects copy throughput.</span></span> <span data-ttu-id="f5cc0-358">toocopy Hallo dezelfde hoeveelheid gegevens, een grote rijgrootte biedt u betere prestaties dan een kleine rijgrootte omdat Hallo database efficiënter minder batches van gegevens kan worden doorgevoerd.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-358">toocopy hello same amount of data, a large row size gives you better performance than a small row size because hello database can more efficiently commit fewer batches of data.</span></span>
  * <span data-ttu-id="f5cc0-359">Kopieeractiviteit voegt de gegevens in een reeks van batches.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-359">Copy Activity inserts data in a series of batches.</span></span> <span data-ttu-id="f5cc0-360">U kunt Hallo aantal rijen in een batch instellen met behulp van Hallo **writeBatchSize** eigenschap.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-360">You can set hello number of rows in a batch by using hello **writeBatchSize** property.</span></span> <span data-ttu-id="f5cc0-361">Als uw gegevens altijd kleine rijen, kunt u instellen Hallo **writeBatchSize** eigenschap met een hogere waarde toobenefit van lagere overhead van de batch- en hogere doorvoer.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-361">If your data has small rows, you can set hello **writeBatchSize** property with a higher value toobenefit from lower batch overhead and higher throughput.</span></span> <span data-ttu-id="f5cc0-362">Als de rijgrootte Hallo van uw gegevens te groot is, Wees voorzichtig wanneer u verhogen **writeBatchSize**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-362">If hello row size of your data is large, be careful when you increase **writeBatchSize**.</span></span> <span data-ttu-id="f5cc0-363">Een hoge waarde kan tooa kopiëren is mislukt vanwege database Hallo overbelasting leiden.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-363">A high value might lead tooa copy failure caused by overloading hello database.</span></span>
* <span data-ttu-id="f5cc0-364">Voor **lokale relationele databases** , zoals SQL Server en Oracle, waarvoor gebruik van Hallo **Data Management Gateway**, Zie Hallo [overwegingen voor Data Management Gateway](#considerations-for-data-management-gateway) sectie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-364">For **on-premises relational databases** like SQL Server and Oracle, which require hello use of **Data Management Gateway**, see hello [Considerations for Data Management Gateway](#considerations-for-data-management-gateway) section.</span></span>

### <a name="nosql-stores"></a><span data-ttu-id="f5cc0-365">NoSQL-opslag</span><span class="sxs-lookup"><span data-stu-id="f5cc0-365">NoSQL stores</span></span>
<span data-ttu-id="f5cc0-366">*(Inclusief Table storage en Azure Cosmos DB)*</span><span class="sxs-lookup"><span data-stu-id="f5cc0-366">*(Includes Table storage and Azure Cosmos DB )*</span></span>

* <span data-ttu-id="f5cc0-367">Voor **tabel opslag**:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-367">For **Table storage**:</span></span>
  * <span data-ttu-id="f5cc0-368">**Partitie**: vermindert de prestaties aanzienlijk schrijven van gegevens toointerleaved partities.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-368">**Partition**: Writing data toointerleaved partitions dramatically degrades performance.</span></span> <span data-ttu-id="f5cc0-369">Sorteren van de brongegevens op partitiesleutel zodat Hallo gegevens efficiënt in één partitie wordt ingevoegd na de andere, of aanpassen van Hallo logica toowrite Hallo gegevens tooa één partitie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-369">Sort your source data by partition key so that hello data is inserted efficiently into one partition after another, or adjust hello logic toowrite hello data tooa single partition.</span></span>
* <span data-ttu-id="f5cc0-370">Voor **Azure Cosmos DB**:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-370">For **Azure Cosmos DB**:</span></span>
  * <span data-ttu-id="f5cc0-371">**Batchgrootte**: Hallo **writeBatchSize** eigenschap stelt u het aantal parallelle aanvragen Hallo toohello Azure Cosmos DB service toocreate documenten.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-371">**Batch size**: hello **writeBatchSize** property sets hello number of parallel requests toohello Azure Cosmos DB service toocreate documents.</span></span> <span data-ttu-id="f5cc0-372">U kunt betere prestaties verwachten wanneer u verhogen **writeBatchSize** omdat meer parallelle aanvragen tooAzure Cosmos DB worden verzonden.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-372">You can expect better performance when you increase **writeBatchSize** because more parallel requests are sent tooAzure Cosmos DB.</span></span> <span data-ttu-id="f5cc0-373">Let echter beperking bij het schrijven van tooAzure Cosmos-DB (Hallo foutbericht is "Aanvragen snelheid is groot").</span><span class="sxs-lookup"><span data-stu-id="f5cc0-373">However, watch for throttling when you write tooAzure Cosmos DB (hello error message is "Request rate is large").</span></span> <span data-ttu-id="f5cc0-374">Verschillende factoren kunnen veroorzaken beperking, met inbegrip van de grootte van het document Hallo aantal termen in Hallo-documenten en Hallo indexeringsbeleid van de doelverzameling.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-374">Various factors can cause throttling, including document size, hello number of terms in hello documents, and hello target collection's indexing policy.</span></span> <span data-ttu-id="f5cc0-375">tooachieve hoger kopie doorvoer, overweeg het gebruik van een betere verzameling, bijvoorbeeld S3.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-375">tooachieve higher copy throughput, consider using a better collection, for example, S3.</span></span>

## <a name="considerations-for-serialization-and-deserialization"></a><span data-ttu-id="f5cc0-376">Overwegingen voor serialisatie en deserialisatie</span><span class="sxs-lookup"><span data-stu-id="f5cc0-376">Considerations for serialization and deserialization</span></span>
<span data-ttu-id="f5cc0-377">Serialisatie en deserialisatie kunnen optreden wanneer uw gegevensset invoer of uitvoer gegevensset een bestand is.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-377">Serialization and deserialization can occur when your input data set or output data set is a file.</span></span> <span data-ttu-id="f5cc0-378">Zie [ondersteunde indelingen voor bestands- en compressie](data-factory-supported-file-and-compression-formats.md) met meer informatie over ondersteunde bestandsindelingen door Kopieeractiviteit.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-378">See [Supported file and compression formats](data-factory-supported-file-and-compression-formats.md) with details on supported file formats by Copy Activity.</span></span>

<span data-ttu-id="f5cc0-379">**Kopieer gedrag**:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-379">**Copy behavior**:</span></span>

* <span data-ttu-id="f5cc0-380">Kopiëren van bestanden tussen gegevensarchieven op basis van bestanden:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-380">Copying files between file-based data stores:</span></span>
  * <span data-ttu-id="f5cc0-381">Een binaire kopiëren zonder een serialiseren of deserialiseren als invoer en uitvoer gegevenssets beide hebben dezelfde of geen bestandsindelingsinstellingen, Hallo data movement service Hallo worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-381">When input and output data sets both have hello same or no file format settings, hello data movement service executes a binary copy without any serialization or deserialization.</span></span> <span data-ttu-id="f5cc0-382">Er is een hogere doorvoer vergeleken toohello scenario, in welke Hallo bron- en sink-bestandsindelingsinstellingen van elkaar verschillen zijn.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-382">You see a higher throughput compared toohello scenario, in which hello source and sink file format settings are different from each other.</span></span>
  * <span data-ttu-id="f5cc0-383">Als invoer en uitvoer gegevenssets beide zijn in tekstindeling en alleen Hallo codering type anders is, Hallo data movement service biedt alleen codering conversie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-383">When input and output data sets both are in text format and only hello encoding type is different, hello data movement service only does encoding conversion.</span></span> <span data-ttu-id="f5cc0-384">Deze bevat niet alle serialisatie en deserialisatie, waardoor de prestaties overhead vergeleken tooa binaire kopiëren.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-384">It doesn't do any serialization and deserialization, which causes some performance overhead compared tooa binary copy.</span></span>
  * <span data-ttu-id="f5cc0-385">Als invoer en uitvoer gegevenssets beide hebben verschillende bestandsindelingen of verschillende configuraties, zoals scheidingstekens Hallo data movement service deserializes bron gegevens toostream, transformeren en deze vervolgens in de indeling van de uitvoer Hallo die u aangegeven te serialiseren.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-385">When input and output data sets both have different file formats or different configurations, like delimiters, hello data movement service deserializes source data toostream, transform, and then serialize it into hello output format you indicated.</span></span> <span data-ttu-id="f5cc0-386">Deze bewerking resulteert in een veel grotere rol performance overhead vergeleken tooother scenario's.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-386">This operation results in a much more significant performance overhead compared tooother scenarios.</span></span>
* <span data-ttu-id="f5cc0-387">Als u kopieert bestanden naar een gegevensopslag die niet op basis van bestanden (bijvoorbeeld in een archief op basis van het bestand tooa relationele store), wordt stap voor het serialiseren of deserialiseren van Hallo is vereist.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-387">When you copy files to/from a data store that is not file-based (for example, from a file-based store tooa relational store), hello serialization or deserialization step is required.</span></span> <span data-ttu-id="f5cc0-388">Deze stap resulteert in belangrijke prestatieverbetering overhead.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-388">This step results in significant performance overhead.</span></span>

<span data-ttu-id="f5cc0-389">**Bestandsindeling**: Hallo-bestandsindeling die u kiest kan invloed hebben op prestaties van de kopie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-389">**File format**: hello file format you choose might affect copy performance.</span></span> <span data-ttu-id="f5cc0-390">Avro is bijvoorbeeld een compacte binaire indeling die de metagegevens met gegevens opslaat.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-390">For example, Avro is a compact binary format that stores metadata with data.</span></span> <span data-ttu-id="f5cc0-391">Heeft de brede ondersteuning Hallo Hadoop-ecosysteem voor het verwerken en het uitvoeren van query's.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-391">It has broad support in hello Hadoop ecosystem for processing and querying.</span></span> <span data-ttu-id="f5cc0-392">Avro is echter kostbaar voor serialisatie en deserialisatie, lagere kopie wordt doorgevoerd tootext-indeling vergeleken.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-392">However, Avro is more expensive for serialization and deserialization, which results in lower copy throughput compared tootext format.</span></span> <span data-ttu-id="f5cc0-393">Maken van uw keuze van de bestandsindeling in de gehele Hallo holistische stroom verwerken.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-393">Make your choice of file format throughout hello processing flow holistically.</span></span> <span data-ttu-id="f5cc0-394">Starten met welke vorm Hallo-gegevens worden opgeslagen door gegevensarchieven of toobe opgehaald uit externe systemen; Hallo beste indeling voor opslag, analytische verwerking en doorzoeken; en in welke indeling Hallo gegevens moeten worden geëxporteerd naar de datamarts voor hulpprogramma's voor rapportage en visualisatie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-394">Start with what form hello data is stored in, source data stores or toobe extracted from external systems; hello best format for storage, analytical processing, and querying; and in what format hello data should be exported into data marts for reporting and visualization tools.</span></span> <span data-ttu-id="f5cc0-395">Soms een bestandsindeling die is suboptimale voor lezen en schrijven van de prestaties mogelijk zijn een goede keuze wanneer u rekening houden met Hallo algemene analytische proces.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-395">Sometimes a file format that is suboptimal for read and write performance might be a good choice when you consider hello overall analytical process.</span></span>

## <a name="considerations-for-compression"></a><span data-ttu-id="f5cc0-396">Overwegingen voor compressie</span><span class="sxs-lookup"><span data-stu-id="f5cc0-396">Considerations for compression</span></span>
<span data-ttu-id="f5cc0-397">Als uw gegevensset invoer of uitvoer een bestand is, kunt u Kopieeractiviteit tooperform compressie of decompressie instellen als gegevens toohello bestemming worden geschreven.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-397">When your input or output data set is a file, you can set Copy Activity tooperform compression or decompression as it writes data toohello destination.</span></span> <span data-ttu-id="f5cc0-398">Wanneer u compressie kiest, maakt u een afweging tussen het input/output (I/O) en de CPU.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-398">When you choose compression, you make a tradeoff between input/output (I/O) and CPU.</span></span> <span data-ttu-id="f5cc0-399">Comprimeren van gegevens Hallo berekenen in extra kosten verbonden bronnen.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-399">Compressing hello data costs extra in compute resources.</span></span> <span data-ttu-id="f5cc0-400">Maar in ruil vermindert het i/o-netwerk en opslag.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-400">But in return, it reduces network I/O and storage.</span></span> <span data-ttu-id="f5cc0-401">Afhankelijk van uw gegevens ziet u een verbetering van de totale doorvoer van de kopie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-401">Depending on your data, you may see a boost in overall copy throughput.</span></span>

<span data-ttu-id="f5cc0-402">**Codec**: Kopieeractiviteit gzip, bzip2 en Deflate compressietypen ondersteunt.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-402">**Codec**: Copy Activity supports gzip, bzip2, and Deflate compression types.</span></span> <span data-ttu-id="f5cc0-403">Azure HDInsight gebruiken alle drie typen voor verwerking.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-403">Azure HDInsight can consume all three types for processing.</span></span> <span data-ttu-id="f5cc0-404">Elke compressiecodec heeft voordelen.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-404">Each compression codec has advantages.</span></span> <span data-ttu-id="f5cc0-405">Bijvoorbeeld, bzip2 Hallo laagste kopie doorvoer is, maar u Hallo best Hive queryprestaties bzip2 niet ophalen omdat u deze voor verwerking verdelen kunt.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-405">For example, bzip2 has hello lowest copy throughput, but you get hello best Hive query performance with bzip2 because you can split it for processing.</span></span> <span data-ttu-id="f5cc0-406">Gzip Hallo meest met gelijke taakverdeling optie, en Hiermee meest Hallo.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-406">Gzip is hello most balanced option, and it is used hello most often.</span></span> <span data-ttu-id="f5cc0-407">Kies Hallo codec die het beste past bij uw scenario end-to-end.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-407">Choose hello codec that best suits your end-to-end scenario.</span></span>

<span data-ttu-id="f5cc0-408">**Niveau**: U kunt kiezen uit twee opties voor elke compressiecodec: snelste gecomprimeerd en optimaal gecomprimeerd.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-408">**Level**: You can choose from two options for each compression codec: fastest compressed and optimally compressed.</span></span> <span data-ttu-id="f5cc0-409">Hallo snelste gecomprimeerde optie Hallo gegevens comprimeren zo snel mogelijk, zelfs als Hallo resulterende bestand is niet optimaal gecomprimeerd.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-409">hello fastest compressed option compresses hello data as quickly as possible, even if hello resulting file is not optimally compressed.</span></span> <span data-ttu-id="f5cc0-410">Hallo optimaal gecomprimeerde optie meer tijd besteedt op compressie en een minimale hoeveelheid gegevens levert.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-410">hello optimally compressed option spends more time on compression and yields a minimal amount of data.</span></span> <span data-ttu-id="f5cc0-411">U kunt beide opties toosee die biedt betere algehele prestaties in uw geval testen.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-411">You can test both options toosee which provides better overall performance in your case.</span></span>

<span data-ttu-id="f5cc0-412">**Overweging**: toocopy een grote hoeveelheid gegevens tussen een winkel lokale en cloud hello, overweeg het gebruik van tussentijdse blob-opslag met compressie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-412">**A consideration**: toocopy a large amount of data between an on-premises store and hello cloud, consider using interim blob storage with compression.</span></span> <span data-ttu-id="f5cc0-413">Tijdelijke opslag is nuttig wanneer Hallo bandbreedte van het bedrijfsnetwerk en uw Azure-services Hallo beperkende factor is en u wilt dat Hallo gegevensset invoer- en uitvoergegevens beide toobe instellen in niet-gecomprimeerde vorm.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-413">Using interim storage is helpful when hello bandwidth of your corporate network and your Azure services is hello limiting factor, and you want hello input data set and output data set both toobe in uncompressed form.</span></span> <span data-ttu-id="f5cc0-414">U kunt meer specifiek, een enkel kopieeractiviteit opsplitsen in twee kopie activiteiten.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-414">More specifically, you can break a single copy activity into two copy activities.</span></span> <span data-ttu-id="f5cc0-415">Hallo eerste kopie activiteit kopieën van Hallo bron tooan interim of staging blob in gecomprimeerde vorm.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-415">hello first copy activity copies from hello source tooan interim or staging blob in compressed form.</span></span> <span data-ttu-id="f5cc0-416">tweede kopieeractiviteit Hallo Hallo gecomprimeerde gegevens worden gekopieerd van fasering, en vervolgens decomprimeert terwijl toohello sink worden geschreven.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-416">hello second copy activity copies hello compressed data from staging, and then decompresses while it writes toohello sink.</span></span>

## <a name="considerations-for-column-mapping"></a><span data-ttu-id="f5cc0-417">Overwegingen voor kolomtoewijzing</span><span class="sxs-lookup"><span data-stu-id="f5cc0-417">Considerations for column mapping</span></span>
<span data-ttu-id="f5cc0-418">U kunt instellen Hallo **columnMappings** eigenschap in de kopieerbewerking toomap alle of een subset van Hallo invoer kolommen toohello uitvoerkolommen.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-418">You can set hello **columnMappings** property in Copy Activity toomap all or a subset of hello input columns toohello output columns.</span></span> <span data-ttu-id="f5cc0-419">Nadat Hallo data movement service Hallo gegevens van Hallo bron leest, moet de kolomtoewijzing tooperform op Hallo gegevens voordat het Hallo gegevens toohello sink schrijft.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-419">After hello data movement service reads hello data from hello source, it needs tooperform column mapping on hello data before it writes hello data toohello sink.</span></span> <span data-ttu-id="f5cc0-420">Deze extra verwerking, vermindert kopie doorvoer.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-420">This extra processing reduces copy throughput.</span></span>

<span data-ttu-id="f5cc0-421">Als uw brongegevensarchief waarop, bijvoorbeeld als het een relationele archief zoals SQL-Database of SQL Server of als het een NoSQL-archief zoals Table storage of Azure Cosmos DB, kunt u pushen Hallo kolom filteren en logica toohello volgorde **query**  eigenschap in plaats van de kolomtoewijzing.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-421">If your source data store is queryable, for example, if it's a relational store like SQL Database or SQL Server, or if it's a NoSQL store like Table storage or Azure Cosmos DB, consider pushing hello column filtering and reordering logic toohello **query** property instead of using column mapping.</span></span> <span data-ttu-id="f5cc0-422">Op deze manier Hallo projectie treedt op tijdens het Hallo data movement service leest gegevens uit de brongegevens Hallo opslaat, waar het is veel efficiënter.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-422">This way, hello projection occurs while hello data movement service reads data from hello source data store, where it is much more efficient.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="f5cc0-423">Andere overwegingen</span><span class="sxs-lookup"><span data-stu-id="f5cc0-423">Other considerations</span></span>
<span data-ttu-id="f5cc0-424">Als hello grootte van gegevens die u wilt toocopy groot is, kunt u uw zakelijke logica toofurther partitie Hallo gegevens met behulp van Hallo mechanisme segmenteren in Data Factory.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-424">If hello size of data you want toocopy is large, you can adjust your business logic toofurther partition hello data using hello slicing mechanism in Data Factory.</span></span> <span data-ttu-id="f5cc0-425">Plan de Kopieeractiviteit toorun vaker tooreduce Hallo gegevensgrootte voor elke activiteit kopiëren uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-425">Then, schedule Copy Activity toorun more frequently tooreduce hello data size for each Copy Activity run.</span></span>

<span data-ttu-id="f5cc0-426">Worden voorzichtig Hallo aantal gegevenssets en kopiëren activiteiten vereisen Data Factory tooconnector toohello dezelfde gegevens opslaan op Hallo dezelfde tijd.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-426">Be cautious about hello number of data sets and copy activities requiring Data Factory tooconnector toohello same data store at hello same time.</span></span> <span data-ttu-id="f5cc0-427">Veel gelijktijdige kopie taken mogelijk een gegevensarchief beperken en lead toodegraded prestaties, taak interne nieuwe pogingen, kopiëren en in sommige gevallen, fouten bij de uitvoering.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-427">Many concurrent copy jobs might throttle a data store and lead toodegraded performance, copy job internal retries, and in some cases, execution failures.</span></span>

## <a name="sample-scenario-copy-from-an-on-premises-sql-server-tooblob-storage"></a><span data-ttu-id="f5cc0-428">Voorbeeldscenario: kopiëren uit een lokale SQL Server tooBlob opslag</span><span class="sxs-lookup"><span data-stu-id="f5cc0-428">Sample scenario: Copy from an on-premises SQL Server tooBlob storage</span></span>
<span data-ttu-id="f5cc0-429">**Scenario**: een pijplijn toocopy gegevens uit een lokale SQL Server tooBlob opslag in CSV-indeling is gebouwd.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-429">**Scenario**: A pipeline is built toocopy data from an on-premises SQL Server tooBlob storage in CSV format.</span></span> <span data-ttu-id="f5cc0-430">toomake kopieertaak sneller Hallo, Hallo CSV-bestanden moeten worden gecomprimeerd naar bzip2-indeling.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-430">toomake hello copy job faster, hello CSV files should be compressed into bzip2 format.</span></span>

<span data-ttu-id="f5cc0-431">**Test- en analyse**: Hallo doorvoer van de kopieerbewerking is minder dan 2 MBps veel lager is dan Hallo prestaties benchmark.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-431">**Test and analysis**: hello throughput of Copy Activity is less than 2 MBps, which is much slower than hello performance benchmark.</span></span>

<span data-ttu-id="f5cc0-432">**Analyse van prestaties en het afstemmen**: tootroubleshoot prestatieprobleem Hallo, bekijk hoe Hallo gegevens wordt verwerkt en verplaatst.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-432">**Performance analysis and tuning**: tootroubleshoot hello performance issue, let’s look at how hello data is processed and moved.</span></span>

1. <span data-ttu-id="f5cc0-433">**Gegevens lezen**: Gateway opent een verbinding tooSQL Server en verzendt Hallo query.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-433">**Read data**: Gateway opens a connection tooSQL Server and sends hello query.</span></span> <span data-ttu-id="f5cc0-434">SQL Server reageert op door te sturen Hallo gegevensstroom tooGateway via Hallo intranet.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-434">SQL Server responds by sending hello data stream tooGateway via hello intranet.</span></span>
2. <span data-ttu-id="f5cc0-435">**Serialiseren en gegevens comprimeren**: Gateway serialiseert Hallo gegevensstroomindeling tooCSV en comprimeert Hallo gegevensstroom tooa bzip2.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-435">**Serialize and compress data**: Gateway serializes hello data stream tooCSV format, and compresses hello data tooa bzip2 stream.</span></span>
3. <span data-ttu-id="f5cc0-436">**Schrijven van gegevens**: Gateway Hallo bzip2 stroom tooBlob bestandsopslag via Internet Hallo uploadt.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-436">**Write data**: Gateway uploads hello bzip2 stream tooBlob storage via hello Internet.</span></span>

<span data-ttu-id="f5cc0-437">Zoals u ziet, Hallo gegevens worden verwerkt en verplaatst streaming redirector: SQL Server > LAN > Gateway > WAN > Blob storage.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-437">As you can see, hello data is being processed and moved in a streaming sequential manner: SQL Server > LAN > Gateway > WAN > Blob storage.</span></span> <span data-ttu-id="f5cc0-438">**Hallo algehele prestaties worden geregeld door Hallo minimaal doorvoer via Hallo pijplijn**.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-438">**hello overall performance is gated by hello minimum throughput across hello pipeline**.</span></span>

![Gegevensstroom](./media/data-factory-copy-activity-performance/case-study-pic-1.png)

<span data-ttu-id="f5cc0-440">Een of meer van de volgende factoren Hallo mogelijk Hallo prestatieknelpunt:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-440">One or more of hello following factors might cause hello performance bottleneck:</span></span>

* <span data-ttu-id="f5cc0-441">**Bron**: SQL-Server zelf lage doorvoer is vanwege een zware belasting.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-441">**Source**: SQL Server itself has low throughput because of heavy loads.</span></span>
* <span data-ttu-id="f5cc0-442">**Data Management Gateway**:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-442">**Data Management Gateway**:</span></span>
  * <span data-ttu-id="f5cc0-443">**LAN**: Gateway bevindt deze formule Hallo SQL Server-computer en een lage bandbreedte verbinding heeft.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-443">**LAN**: Gateway is located far from hello SQL Server machine and has a low-bandwidth connection.</span></span>
  * <span data-ttu-id="f5cc0-444">**Gateway**: Gateway heeft de belasting beperkingen tooperform Hallo volgende bewerkingen bereikt:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-444">**Gateway**: Gateway has reached its load limitations tooperform hello following operations:</span></span>
    * <span data-ttu-id="f5cc0-445">**Serialisatie**: serialiseren Hallo gegevensstroom tooCSV indeling heeft trage doorvoer.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-445">**Serialization**: Serializing hello data stream tooCSV format has slow throughput.</span></span>
    * <span data-ttu-id="f5cc0-446">**Compressie**: U hebt ervoor gekozen een trage compressiecodec (bijvoorbeeld, bzip2, namelijk 2,8 MBps met Core i7).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-446">**Compression**: You chose a slow compression codec (for example, bzip2, which is 2.8 MBps with Core i7).</span></span>
  * <span data-ttu-id="f5cc0-447">**WAN**: Hallo bandbreedte tussen Hallo bedrijfsnetwerk en uw Azure-services is laag (bijvoorbeeld T1 = 1,544 kbps. T2 = 6,312 kbps).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-447">**WAN**: hello bandwidth between hello corporate network and your Azure services is low (for example, T1 = 1,544 kbps; T2 = 6,312 kbps).</span></span>
* <span data-ttu-id="f5cc0-448">**Sink**: Blob-opslag heeft lage doorvoer.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-448">**Sink**: Blob storage has low throughput.</span></span> <span data-ttu-id="f5cc0-449">(Dit scenario is niet waarschijnlijk omdat een minimum van 60 MBps wordt gegarandeerd dat de SLA.)</span><span class="sxs-lookup"><span data-stu-id="f5cc0-449">(This scenario is unlikely because its SLA guarantees a minimum of 60 MBps.)</span></span>

<span data-ttu-id="f5cc0-450">In dit geval bzip2 gegevenscompressie mogelijk worden vertraagd Hallo gehele pijplijn.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-450">In this case, bzip2 data compression might be slowing down hello entire pipeline.</span></span> <span data-ttu-id="f5cc0-451">Tooa gzip compressiecodec overschakelen, kan dit knelpunt vereenvoudigen.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-451">Switching tooa gzip compression codec might ease this bottleneck.</span></span>

## <a name="sample-scenarios-use-parallel-copy"></a><span data-ttu-id="f5cc0-452">Voorbeeld van scenario's: parallelle kopie gebruiken</span><span class="sxs-lookup"><span data-stu-id="f5cc0-452">Sample scenarios: Use parallel copy</span></span>
<span data-ttu-id="f5cc0-453">**Scenario I:** 1000 1 MB bestanden kopiëren van Hallo lokale systeem tooBlob bestandsopslag.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-453">**Scenario I:** Copy 1,000 1-MB files from hello on-premises file system tooBlob storage.</span></span>

<span data-ttu-id="f5cc0-454">**Analyse en prestatieafstemming**: voor een voorbeeld: als u gateway hebt geïnstalleerd op een machine quad-core, Data Factory maakt gebruik van 16 parallelle kopieën toomove bestanden van systeem Hallo-tooBlob bestandsopslag gelijktijdig.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-454">**Analysis and performance tuning**: For an example, if you have installed gateway on a quad core machine, Data Factory uses 16 parallel copies toomove files from hello file system tooBlob storage concurrently.</span></span> <span data-ttu-id="f5cc0-455">Deze parallelle uitvoering moet resulteren in hoge doorvoersnelheden.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-455">This parallel execution should result in high throughput.</span></span> <span data-ttu-id="f5cc0-456">U kunt ook expliciet opgeven Hallo parallelle kopieën count.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-456">You also can explicitly specify hello parallel copies count.</span></span> <span data-ttu-id="f5cc0-457">Wanneer u veel kleine bestanden kopieert, helpen parallelle kopieën doorvoer aanzienlijk bij het effectiever gebruik van bronnen.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-457">When you copy many small files, parallel copies dramatically help throughput by using resources more effectively.</span></span>

![Scenario 1](./media/data-factory-copy-activity-performance/scenario-1.png)

<span data-ttu-id="f5cc0-459">**Scenario II**: 20 blobs van 500 MB van Blob storage tooData Lake Store Analytics kopiëren en vervolgens prestaties afstemmen.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-459">**Scenario II**: Copy 20 blobs of 500 MB each from Blob storage tooData Lake Store Analytics, and then tune performance.</span></span>

<span data-ttu-id="f5cc0-460">**Analyse en prestatieafstemming**: In dit scenario Data Factory Hallo gegevens kopiëren van Blob storage tooData Lake Store met behulp van één exemplaar (**parallelCopies** too1 ingesteld) en één cloud data movement eenheden.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-460">**Analysis and performance tuning**: In this scenario, Data Factory copies hello data from Blob storage tooData Lake Store by using single-copy (**parallelCopies** set too1) and single-cloud data movement units.</span></span> <span data-ttu-id="f5cc0-461">Hallo doorvoer u merkt zal worden sluiten toothat beschreven in Hallo [prestaties verwijzing sectie](#performance-reference).</span><span class="sxs-lookup"><span data-stu-id="f5cc0-461">hello throughput you observe will be close toothat described in hello [performance reference section](#performance-reference).</span></span>   

![Scenario 2](./media/data-factory-copy-activity-performance/scenario-2.png)

<span data-ttu-id="f5cc0-463">**Scenario III**: afzonderlijk bestand is groter dan tientallen MB en het totale volume is groot.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-463">**Scenario III**: Individual file size is greater than dozens of MBs and total volume is large.</span></span>

<span data-ttu-id="f5cc0-464">**Analyse en prestaties schakelen**: verhogen **parallelCopies** vanwege resourcebeperkingen Hallo van een één-cloud-DMU niet resulteren in betere prestaties van de kopie.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-464">**Analysis and performance turning**: Increasing **parallelCopies** doesn't result in better copy performance because of hello resource limitations of a single-cloud DMU.</span></span> <span data-ttu-id="f5cc0-465">In plaats daarvan moet u meer cloud DMUs tooget meer resources tooperform Hallo verplaatsing van gegevens.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-465">Instead, you should specify more cloud DMUs tooget more resources tooperform hello data movement.</span></span> <span data-ttu-id="f5cc0-466">Geef een waarde voor Hallo **parallelCopies** eigenschap.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-466">Do not specify a value for hello **parallelCopies** property.</span></span> <span data-ttu-id="f5cc0-467">Data Factory verwerkt Hallo parallelle uitvoering voor u.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-467">Data Factory handles hello parallelism for you.</span></span> <span data-ttu-id="f5cc0-468">In dit geval als u instelt **cloudDataMovementUnits** too4, een doorvoer van over vier keer optreedt.</span><span class="sxs-lookup"><span data-stu-id="f5cc0-468">In this case, if you set **cloudDataMovementUnits** too4, a throughput of about four times occurs.</span></span>

![Scenario 3](./media/data-factory-copy-activity-performance/scenario-3.png)

## <a name="reference"></a><span data-ttu-id="f5cc0-470">Naslaginformatie</span><span class="sxs-lookup"><span data-stu-id="f5cc0-470">Reference</span></span>
<span data-ttu-id="f5cc0-471">Hier zijn prestaties controleren en afstemmen van referenties voor een aantal gegevensarchieven Hallo ondersteund:</span><span class="sxs-lookup"><span data-stu-id="f5cc0-471">Here are performance monitoring and tuning references for some of hello supported data stores:</span></span>

* <span data-ttu-id="f5cc0-472">Azure-opslag (inclusief Blob storage en Table storage): [schaalbaarheidsdoelen van Azure Storage](../storage/common/storage-scalability-targets.md) en [controlelijst voor prestaties en schaalbaarheid van Azure Storage](../storage/common/storage-performance-checklist.md)</span><span class="sxs-lookup"><span data-stu-id="f5cc0-472">Azure Storage (including Blob storage and Table storage): [Azure Storage scalability targets](../storage/common/storage-scalability-targets.md) and [Azure Storage performance and scalability checklist](../storage/common/storage-performance-checklist.md)</span></span>
* <span data-ttu-id="f5cc0-473">Azure SQL Database: U kunt [Hallo prestaties bewaken](../sql-database/sql-database-single-database-monitor.md) en Hallo database transaction unit (DTU) percentage controleren</span><span class="sxs-lookup"><span data-stu-id="f5cc0-473">Azure SQL Database: You can [monitor hello performance](../sql-database/sql-database-single-database-monitor.md) and check hello database transaction unit (DTU) percentage</span></span>
* <span data-ttu-id="f5cc0-474">Azure SQL datawarehouse: De mogelijkheid wordt gemeten in datawarehouse units (dwu's); Zie [beheren rekencapaciteit in Azure SQL Data Warehouse (overzicht)](../sql-data-warehouse/sql-data-warehouse-manage-compute-overview.md)</span><span class="sxs-lookup"><span data-stu-id="f5cc0-474">Azure SQL Data Warehouse: Its capability is measured in data warehouse units (DWUs); see [Manage compute power in Azure SQL Data Warehouse (Overview)](../sql-data-warehouse/sql-data-warehouse-manage-compute-overview.md)</span></span>
* <span data-ttu-id="f5cc0-475">Azure Cosmos DB: [prestatieniveaus in Azure Cosmos-DB](../documentdb/documentdb-performance-levels.md)</span><span class="sxs-lookup"><span data-stu-id="f5cc0-475">Azure Cosmos DB: [Performance levels in Azure Cosmos DB](../documentdb/documentdb-performance-levels.md)</span></span>
* <span data-ttu-id="f5cc0-476">Lokale SQL Server: [bewaakt en geoptimaliseerd voor prestaties](https://msdn.microsoft.com/library/ms189081.aspx)</span><span class="sxs-lookup"><span data-stu-id="f5cc0-476">On-premises SQL Server: [Monitor and tune for performance](https://msdn.microsoft.com/library/ms189081.aspx)</span></span>
* <span data-ttu-id="f5cc0-477">Lokale bestandsserver: [prestaties afstemmen voor bestandsservers](https://msdn.microsoft.com/library/dn567661.aspx)</span><span class="sxs-lookup"><span data-stu-id="f5cc0-477">On-premises file server: [Performance tuning for file servers](https://msdn.microsoft.com/library/dn567661.aspx)</span></span>
