---
title: verkeersrouteringsmethoden voor Traffic Manager - aaaAzure | Microsoft Docs
description: Hiermee artikelen geeft die u inzicht in Hallo verschillende verkeersrouteringsmethoden gebruikt door Traffic Manager
services: traffic-manager
documentationcenter: 
author: KumudD
manager: timlt
editor: 
ms.assetid: db1efbf6-6762-4c7a-ac99-675d4eeb54d0
ms.service: traffic-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/13/2017
ms.author: kumud
ms.openlocfilehash: b3eeca63ab5f2b9cd4a3a6b6a8fd3e40059e32b5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="traffic-manager-routing-methods"></a><span data-ttu-id="9a33b-103">Methoden voor het doorsturen van Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="9a33b-103">Traffic Manager routing methods</span></span>

<span data-ttu-id="9a33b-104">Azure Traffic Manager ondersteunt vier verkeersroutering methoden toodetermine hoe tooroute netwerk verkeer toohello verschillende service-eindpunten.</span><span class="sxs-lookup"><span data-stu-id="9a33b-104">Azure Traffic Manager supports four traffic-routing methods toodetermine how tooroute network traffic toohello various service endpoints.</span></span> <span data-ttu-id="9a33b-105">Traffic Manager is van toepassing hello verkeersroutering methode tooeach DNS-query die wordt ontvangen.</span><span class="sxs-lookup"><span data-stu-id="9a33b-105">Traffic Manager applies hello traffic-routing method tooeach DNS query it receives.</span></span> <span data-ttu-id="9a33b-106">Hallo verkeersroutering methode bepaalt welk eindpunt in Hallo DNS-antwoord geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="9a33b-106">hello traffic-routing method determines which endpoint returned in hello DNS response.</span></span>

<span data-ttu-id="9a33b-107">Er zijn vier methoden voor het doorsturen van verkeer beschikbaar in Traffic Manager:</span><span class="sxs-lookup"><span data-stu-id="9a33b-107">There are four traffic routing methods available in Traffic Manager:</span></span>

* <span data-ttu-id="9a33b-108">**[Prioriteit](#priority):** Selecteer **prioriteit** als u wilt toouse een primaire service-eindpunt voor al het verkeer en back-ups bieden voor het geval Hallo primaire of back-up Hallo-eindpunten niet beschikbaar zijn.</span><span class="sxs-lookup"><span data-stu-id="9a33b-108">**[Priority](#priority):** Select **Priority** when you want toouse a primary service endpoint for all traffic, and provide backups in case hello primary or hello backup endpoints are unavailable.</span></span>
* <span data-ttu-id="9a33b-109">**[Gewogen](#weighted):** Selecteer **gewogen** als u wilt dat toodistribute verkeer van een set eindpunten, ofwel gelijkmatig of volgens tooweights die u definieert.</span><span class="sxs-lookup"><span data-stu-id="9a33b-109">**[Weighted](#weighted):** Select **Weighted** when you want toodistribute traffic across a set of endpoints, either evenly or according tooweights, which you define.</span></span>
* <span data-ttu-id="9a33b-110">**[Prestaties](#performance):** Selecteer **prestaties** wanneer u eindpunten op verschillende geografische locaties en u wilt dat eindgebruikers toouse Hallo 'dichtstbijzijnde' eindpunt in termen van de laagste netwerklatentie Hallo.</span><span class="sxs-lookup"><span data-stu-id="9a33b-110">**[Performance](#performance):** Select **Performance** when you have endpoints in different geographic locations and you want end users toouse hello "closest" endpoint in terms of hello lowest network latency.</span></span>
* <span data-ttu-id="9a33b-111">**[Geografische](#geographic):** Selecteer **geografische** zodat gebruikers gerichte toospecific eindpunten (Azure, extern of geneste) op basis van welke geografische locatie hun DNS-query is afkomstig uit.</span><span class="sxs-lookup"><span data-stu-id="9a33b-111">**[Geographic](#geographic):** Select **Geographic** so that users are directed toospecific endpoints (Azure, External, or Nested) based on which geographic location their DNS query originates from.</span></span> <span data-ttu-id="9a33b-112">Dit machtigt Traffic Manager klanten tooenable scenario's waarin de geografische regio van de gebruiker weet en routering toe op basis van die belangrijke.</span><span class="sxs-lookup"><span data-stu-id="9a33b-112">This empowers Traffic Manager customers tooenable scenarios where knowing a user’s geographic region and routing them based on that is important.</span></span> <span data-ttu-id="9a33b-113">Voorbeelden zijn die voldoet aan gegevens onafhankelijkheid vereist, lokalisatie van inhoud & gebruiker ervaring en verkeer vanuit verschillende regio's te meten.</span><span class="sxs-lookup"><span data-stu-id="9a33b-113">Examples include complying with data sovereignty mandates, localization of content & user experience and measuring traffic from different regions.</span></span>

<span data-ttu-id="9a33b-114">Alle Traffic Manager-profielen bevatten bewaking van endpoint-status- en eindpunt automatische failover.</span><span class="sxs-lookup"><span data-stu-id="9a33b-114">All Traffic Manager profiles include monitoring of endpoint health and automatic endpoint failover.</span></span> <span data-ttu-id="9a33b-115">Zie voor meer informatie [Traffic Manager-eindpunt bewaking](traffic-manager-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="9a33b-115">For more information, see [Traffic Manager Endpoint Monitoring](traffic-manager-monitoring.md).</span></span> <span data-ttu-id="9a33b-116">Een enkele Traffic Manager-profiel kunt slechts één methode voor het doorsturen van verkeer.</span><span class="sxs-lookup"><span data-stu-id="9a33b-116">A single Traffic Manager profile can use only one traffic routing method.</span></span> <span data-ttu-id="9a33b-117">U kunt een andere verkeersrouteringsmethode selecteren voor uw profiel op elk gewenst moment.</span><span class="sxs-lookup"><span data-stu-id="9a33b-117">You can select a different traffic routing method for your profile at any time.</span></span> <span data-ttu-id="9a33b-118">Wijzigingen worden toegepast binnen één minuut en er geen uitvaltijd is ontstaan.</span><span class="sxs-lookup"><span data-stu-id="9a33b-118">Changes are applied within one minute, and no downtime is incurred.</span></span> <span data-ttu-id="9a33b-119">Voor verkeersroutering methoden kunnen worden gecombineerd met behulp van geneste Traffic Manager-profielen.</span><span class="sxs-lookup"><span data-stu-id="9a33b-119">Traffic-routing methods can be combined by using nested Traffic Manager profiles.</span></span> <span data-ttu-id="9a33b-120">Geneste kunt geavanceerde en flexibele verkeersroutering configuraties die behoeften van Hallo van grotere, complexe toepassingen.</span><span class="sxs-lookup"><span data-stu-id="9a33b-120">Nesting enables sophisticated and flexible traffic-routing configurations that meet hello needs of larger, complex applications.</span></span> <span data-ttu-id="9a33b-121">Zie voor meer informatie [Traffic Manager-profielen genest](traffic-manager-nested-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="9a33b-121">For more information, see [nested Traffic Manager profiles](traffic-manager-nested-profiles.md).</span></span>

## <span data-ttu-id="9a33b-122"><a name = "priority"></a>Prioriteit voor verkeersroutering methode</span><span class="sxs-lookup"><span data-stu-id="9a33b-122"><a name = "priority"></a>Priority traffic-routing method</span></span>

<span data-ttu-id="9a33b-123">Een organisatie wil vaak tooprovide betrouwbaarheid voor de services door het implementeren van een of meer back-services als hun primaire service uitvalt.</span><span class="sxs-lookup"><span data-stu-id="9a33b-123">Often an organization wants tooprovide reliability for its services by deploying one or more backup services in case their primary service goes down.</span></span> <span data-ttu-id="9a33b-124">Hallo 'Prioriteit' verkeersroutering methode Azure kunnen klanten tooeasily dit patroon failover implementeren.</span><span class="sxs-lookup"><span data-stu-id="9a33b-124">hello 'Priority' traffic-routing method allows Azure customers tooeasily implement this failover pattern.</span></span>

![Azure Traffic Manager 'Prioriteit' verkeersroutering methode][1]

<span data-ttu-id="9a33b-126">Hallo Traffic Manager-profiel bevat een geprioriteerde lijst van de service-eindpunten.</span><span class="sxs-lookup"><span data-stu-id="9a33b-126">hello Traffic Manager profile contains a prioritized list of service endpoints.</span></span> <span data-ttu-id="9a33b-127">Traffic Manager verzendt standaard alle verkeer toohello primaire (hoogste prioriteit) eindpunt.</span><span class="sxs-lookup"><span data-stu-id="9a33b-127">By default, Traffic Manager sends all traffic toohello primary (highest-priority) endpoint.</span></span> <span data-ttu-id="9a33b-128">Als de primaire Hallo-eindpunt is niet beschikbaar, Hallo Traffic Manager routes verkeer toohello tweede eindpunt.</span><span class="sxs-lookup"><span data-stu-id="9a33b-128">If hello primary endpoint is not available, Traffic Manager routes hello traffic toohello second endpoint.</span></span> <span data-ttu-id="9a33b-129">Als beide Hallo primaire en secundaire eindpunten niet beschikbaar zijn, gaat het Hallo-verkeer toohello derde, enzovoort.</span><span class="sxs-lookup"><span data-stu-id="9a33b-129">If both hello primary and secondary endpoints are not available, hello traffic goes toohello third, and so on.</span></span> <span data-ttu-id="9a33b-130">Beschikbaarheid van het Hallo-eindpunt is gebaseerd op Hallo geconfigureerd status (ingeschakeld of uitgeschakeld) en Hallo lopende eindpuntcontrole.</span><span class="sxs-lookup"><span data-stu-id="9a33b-130">Availability of hello endpoint is based on hello configured status (enabled or disabled) and hello ongoing endpoint monitoring.</span></span>

### <a name="configuring-endpoints"></a><span data-ttu-id="9a33b-131">Eindpunten configureren</span><span class="sxs-lookup"><span data-stu-id="9a33b-131">Configuring endpoints</span></span>

<span data-ttu-id="9a33b-132">Met Azure Resource Manager u Hallo eindpuntprioriteit expliciet met behulp van de eigenschap 'prioriteit' Hallo voor elk eindpunt configureren.</span><span class="sxs-lookup"><span data-stu-id="9a33b-132">With Azure Resource Manager, you configure hello endpoint priority explicitly using hello 'priority' property for each endpoint.</span></span> <span data-ttu-id="9a33b-133">Deze eigenschap is een waarde tussen 1 en 1000.</span><span class="sxs-lookup"><span data-stu-id="9a33b-133">This property is a value between 1 and 1000.</span></span> <span data-ttu-id="9a33b-134">Lagere waarden vertegenwoordigen een hogere prioriteit.</span><span class="sxs-lookup"><span data-stu-id="9a33b-134">Lower values represent a higher priority.</span></span> <span data-ttu-id="9a33b-135">Eindpunten kunnen geen prioriteitswaarden delen.</span><span class="sxs-lookup"><span data-stu-id="9a33b-135">Endpoints cannot share priority values.</span></span> <span data-ttu-id="9a33b-136">Hallo-eigenschap is optioneel.</span><span class="sxs-lookup"><span data-stu-id="9a33b-136">Setting hello property is optional.</span></span> <span data-ttu-id="9a33b-137">Wanneer u dit weglaat, wordt een standaardprioriteit op basis van Hallo eindpunt volgorde gebruikt.</span><span class="sxs-lookup"><span data-stu-id="9a33b-137">When omitted, a default priority based on hello endpoint order is used.</span></span>

##<span data-ttu-id="9a33b-138"><a name = "weighted"></a>Gewogen verkeersroutering methode</span><span class="sxs-lookup"><span data-stu-id="9a33b-138"><a name = "weighted"></a>Weighted traffic-routing method</span></span>
<span data-ttu-id="9a33b-139">Hallo 'Gewogen' verkeersroutering methode kunt u toodistribute verkeer gelijkmatig of een vooraf gedefinieerde weging toouse.</span><span class="sxs-lookup"><span data-stu-id="9a33b-139">hello 'Weighted' traffic-routing method allows you toodistribute traffic evenly or toouse a pre-defined weighting.</span></span>

![Azure Traffic Manager-'Gewogen' methode verkeer routering][2]

<span data-ttu-id="9a33b-141">In Hallo gewogen verkeersroutering methode, moet u een eindpunt van de tooeach gewicht in Hallo Traffic Manager-profielconfiguratie toewijzen.</span><span class="sxs-lookup"><span data-stu-id="9a33b-141">In hello Weighted traffic-routing method, you assign a weight tooeach endpoint in hello Traffic Manager profile configuration.</span></span> <span data-ttu-id="9a33b-142">Hallo gewicht is een geheel getal tussen 1 too1000.</span><span class="sxs-lookup"><span data-stu-id="9a33b-142">hello weight is an integer from 1 too1000.</span></span> <span data-ttu-id="9a33b-143">Deze parameter is optioneel.</span><span class="sxs-lookup"><span data-stu-id="9a33b-143">This parameter is optional.</span></span> <span data-ttu-id="9a33b-144">Als u dit weglaat, wordt verkeer Managers een standaardgewicht van '1'.</span><span class="sxs-lookup"><span data-stu-id="9a33b-144">If omitted, Traffic Managers uses a default weight of '1'.</span></span>

<span data-ttu-id="9a33b-145">Voor elke DNS-query heeft ontvangen, kiest de Traffic Manager willekeurig een beschikbare eindpunt.</span><span class="sxs-lookup"><span data-stu-id="9a33b-145">For each DNS query received, Traffic Manager randomly chooses an available endpoint.</span></span> <span data-ttu-id="9a33b-146">Hallo waarschijnlijkheid van het kiezen van een eindpunt is gebaseerd op Hallo gewichten tooall beschikbare eindpunten toegewezen.</span><span class="sxs-lookup"><span data-stu-id="9a33b-146">hello probability of choosing an endpoint is based on hello weights assigned tooall available endpoints.</span></span> <span data-ttu-id="9a33b-147">Hallo met hetzelfde gewicht over alle eindpunten resulteert in een zelfs distributie van verkeer.</span><span class="sxs-lookup"><span data-stu-id="9a33b-147">Using hello same weight across all endpoints results in an even traffic distribution.</span></span> <span data-ttu-id="9a33b-148">Met behulp van hogere of lagere gewichten op specifieke eindpunten zorgt ervoor dat deze eindpunten toobe meer of minder vaak in Hallo DNS-antwoorden worden geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="9a33b-148">Using higher or lower weights on specific endpoints causes those endpoints toobe returned more or less frequently in hello DNS responses.</span></span>

<span data-ttu-id="9a33b-149">Hallo gewogen maakt een nuttig scenario's:</span><span class="sxs-lookup"><span data-stu-id="9a33b-149">hello weighted method enables some useful scenarios:</span></span>

* <span data-ttu-id="9a33b-150">Upgrade van de toepassing geleidelijk: een percentage van het verkeer tooroute tooa nieuwe eindpunt toewijzen en Hallo verkeer geleidelijk te verhogen over tijd too100%.</span><span class="sxs-lookup"><span data-stu-id="9a33b-150">Gradual application upgrade: Allocate a percentage of traffic tooroute tooa new endpoint, and gradually increase hello traffic over time too100%.</span></span>
* <span data-ttu-id="9a33b-151">Toepassing migratie tooAzure: een profiel maken met Azure en externe eindpunten.</span><span class="sxs-lookup"><span data-stu-id="9a33b-151">Application migration tooAzure: Create a profile with both Azure and external endpoints.</span></span> <span data-ttu-id="9a33b-152">Hallo-gewicht van Hallo eindpunten tooprefer Hallo nieuwe eindpunten aanpassen.</span><span class="sxs-lookup"><span data-stu-id="9a33b-152">Adjust hello weight of hello endpoints tooprefer hello new endpoints.</span></span>
* <span data-ttu-id="9a33b-153">Cloud sturen voor extra capaciteit: snel een on-premises implementatie naar cloud Hallo uitbreiden door de gegevens achter een Traffic Manager-profiel.</span><span class="sxs-lookup"><span data-stu-id="9a33b-153">Cloud-bursting for additional capacity: Quickly expand an on-premises deployment into hello cloud by putting it behind a Traffic Manager profile.</span></span> <span data-ttu-id="9a33b-154">Wanneer u extra capaciteit in de cloud hello, kunt u toevoegen of meer eindpunten inschakelen en geef op welk gedeelte van het verkeer gaat tooeach eindpunt.</span><span class="sxs-lookup"><span data-stu-id="9a33b-154">When you need extra capacity in hello cloud, you can add or enable more endpoints and specify what portion of traffic goes tooeach endpoint.</span></span>

<span data-ttu-id="9a33b-155">Hello Azure Resource Manager-portal ondersteunt de configuratie van Hallo gewogen verkeer routering.</span><span class="sxs-lookup"><span data-stu-id="9a33b-155">hello Resource Manager Azure portal supports hello configuration of weighted traffic routing.</span></span>  <span data-ttu-id="9a33b-156">U kunt gewichten Hallo Resource Manager-versies van Azure PowerShell, CLI en Hallo REST-API's configureren.</span><span class="sxs-lookup"><span data-stu-id="9a33b-156">You can configure weights using hello Resource Manager versions of Azure PowerShell, CLI, and hello REST APIs.</span></span>

<span data-ttu-id="9a33b-157">Het is belangrijk toounderstand dat DNS-antwoorden in de cache zijn opgeslagen door clients en door Hallo recursieve DNS-servers die clients Hallo tooresolve DNS-namen gebruiken.</span><span class="sxs-lookup"><span data-stu-id="9a33b-157">It is important toounderstand that DNS responses are cached by clients and by hello recursive DNS servers that hello clients use tooresolve DNS names.</span></span> <span data-ttu-id="9a33b-158">Deze cache, kan een invloed hebben op gewogen verkeer distributies.</span><span class="sxs-lookup"><span data-stu-id="9a33b-158">This caching can have an impact on weighted traffic distributions.</span></span> <span data-ttu-id="9a33b-159">Wanneer Hallo aantal clients en de recursieve DNS-servers groot is, wordt verkeer distributie werkt zoals verwacht.</span><span class="sxs-lookup"><span data-stu-id="9a33b-159">When hello number of clients and recursive DNS servers is large, traffic distribution works as expected.</span></span> <span data-ttu-id="9a33b-160">Echter, als Hallo aantal clients of recursieve DNS-servers klein is, caching kan aanzienlijk laten uitvallen Hallo verkeer distributie.</span><span class="sxs-lookup"><span data-stu-id="9a33b-160">However, when hello number of clients or recursive DNS servers is small, caching can significantly skew hello traffic distribution.</span></span>

<span data-ttu-id="9a33b-161">Algemene gebruiksvoorbeelden zijn onder andere:</span><span class="sxs-lookup"><span data-stu-id="9a33b-161">Common use cases include:</span></span>

* <span data-ttu-id="9a33b-162">Ontwikkeling en testomgevingen</span><span class="sxs-lookup"><span data-stu-id="9a33b-162">Development and testing environments</span></span>
* <span data-ttu-id="9a33b-163">Toepassingen communicatie</span><span class="sxs-lookup"><span data-stu-id="9a33b-163">Application-to-application communications</span></span>
* <span data-ttu-id="9a33b-164">Toepassingen die gericht is op een beperkte-gebruikersgroep die delen een gemeenschappelijke recursieve DNS-infrastructuur (bijvoorbeeld medewerkers van de bedrijfsportal verbinding maken via een proxy)</span><span class="sxs-lookup"><span data-stu-id="9a33b-164">Applications aimed at a narrow user-base that share a common recursive DNS infrastructure (for example, employees of company connecting through a proxy)</span></span>

<span data-ttu-id="9a33b-165">Deze DNS-cache-effecten zijn algemene tooall DNS-verkeer routeren systemen, niet alleen Azure Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="9a33b-165">These DNS caching effects are common tooall DNS-based traffic routing systems, not just Azure Traffic Manager.</span></span> <span data-ttu-id="9a33b-166">In sommige gevallen kan expliciet wissen Hallo DNS-cache bieden een tijdelijke oplossing.</span><span class="sxs-lookup"><span data-stu-id="9a33b-166">In some cases, explicitly clearing hello DNS cache may provide a workaround.</span></span> <span data-ttu-id="9a33b-167">In andere gevallen is zijn een alternatieve methode voor verkeersroutering geschikter.</span><span class="sxs-lookup"><span data-stu-id="9a33b-167">In other cases, an alternative traffic-routing method may be more appropriate.</span></span>

## <span data-ttu-id="9a33b-168"><a name = "performance"></a>Prestaties voor verkeersroutering methode</span><span class="sxs-lookup"><span data-stu-id="9a33b-168"><a name = "performance"></a>Performance traffic-routing method</span></span>

<span data-ttu-id="9a33b-169">Eindpunten in twee of meer locaties implementeren via Hallo wereld kan Hallo reactiesnelheid van veel toepassingen met behulp van routing verkeer toohello locatie die is 'dichtstbijzijnde' tooyou verbeteren.</span><span class="sxs-lookup"><span data-stu-id="9a33b-169">Deploying endpoints in two or more locations across hello globe can improve hello responsiveness of many applications by routing traffic toohello location that is 'closest' tooyou.</span></span> <span data-ttu-id="9a33b-170">Hallo 'Prestaties' verkeersroutering methode biedt deze mogelijkheid.</span><span class="sxs-lookup"><span data-stu-id="9a33b-170">hello 'Performance' traffic-routing method provides this capability.</span></span>

![Azure Traffic Manager 'Prestaties' verkeersroutering methode][3]

<span data-ttu-id="9a33b-172">'dichtstbijzijnde' Hallo-eindpunt is niet noodzakelijkerwijs dichtstbijzijnde door geografische afstand wordt gemeten.</span><span class="sxs-lookup"><span data-stu-id="9a33b-172">hello 'closest' endpoint is not necessarily closest as measured by geographic distance.</span></span> <span data-ttu-id="9a33b-173">In plaats daarvan bepaalt Hallo 'Prestaties' verkeersroutering methode Hallo dichtstbijzijnde eindpunt door te meten netwerklatentie.</span><span class="sxs-lookup"><span data-stu-id="9a33b-173">Instead, hello 'Performance' traffic-routing method determines hello closest endpoint by measuring network latency.</span></span> <span data-ttu-id="9a33b-174">Traffic Manager onderhoudt een Internet latentie tabel tootrack Hallo round trip tijd tussen het IP-adresbereiken en elke Azure-datacenter.</span><span class="sxs-lookup"><span data-stu-id="9a33b-174">Traffic Manager maintains an Internet Latency Table tootrack hello round-trip time between IP address ranges and each Azure datacenter.</span></span>

<span data-ttu-id="9a33b-175">Traffic Manager worden opgezocht Hallo IP-bronadres van Hallo inkomende DNS-aanvraag in Hallo Internet latentie tabel.</span><span class="sxs-lookup"><span data-stu-id="9a33b-175">Traffic Manager looks up hello source IP address of hello incoming DNS request in hello Internet Latency Table.</span></span> <span data-ttu-id="9a33b-176">Traffic Manager kiest een beschikbare eindpunt in hello Azure-datacenter die heeft de laagste latentie Hallo voor deze IP-adresbereik, en vervolgens dat eindpunt in Hallo DNS-antwoord geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="9a33b-176">Traffic Manager chooses an available endpoint in hello Azure datacenter that has hello lowest latency for that IP address range, then returns that endpoint in hello DNS response.</span></span>

<span data-ttu-id="9a33b-177">Zoals uitgelegd in [hoe Traffic Manager werkt](traffic-manager-overview.md#how-traffic-manager-works), Traffic Manager ontvangt geen DNS-query's rechtstreeks van clients.</span><span class="sxs-lookup"><span data-stu-id="9a33b-177">As explained in [How Traffic Manager Works](traffic-manager-overview.md#how-traffic-manager-works), Traffic Manager does not receive DNS queries directly from clients.</span></span> <span data-ttu-id="9a33b-178">In plaats daarvan DNS-query's zijn afkomstig Hallo recursieve DNS-service dat Hallo-clients geconfigureerde toouse zijn.</span><span class="sxs-lookup"><span data-stu-id="9a33b-178">Rather, DNS queries come from hello recursive DNS service that hello clients are configured toouse.</span></span> <span data-ttu-id="9a33b-179">Daarom hello IP-adres dat wordt gebruikt toodetermine Hallo 'dichtstbijzijnde' eindpunt is niet van de client Hallo IP-adres, maar het Hallo IP-adres van Hallo recursieve DNS-service is.</span><span class="sxs-lookup"><span data-stu-id="9a33b-179">Therefore, hello IP address used toodetermine hello 'closest' endpoint is not hello client's IP address, but it is hello IP address of hello recursive DNS service.</span></span> <span data-ttu-id="9a33b-180">Dit IP-adres is in de praktijk kan een goede proxy voor Hallo-client.</span><span class="sxs-lookup"><span data-stu-id="9a33b-180">In practice, this IP address is a good proxy for hello client.</span></span>


<span data-ttu-id="9a33b-181">Traffic Manager regelmatig updates Hallo Internet latentie tabel tooaccount voor wijzigingen in Hallo globale Internet en nieuwe Azure-regio's.</span><span class="sxs-lookup"><span data-stu-id="9a33b-181">Traffic Manager regularly updates hello Internet Latency Table tooaccount for changes in hello global Internet and new Azure regions.</span></span> <span data-ttu-id="9a33b-182">Echter afhankelijk de prestaties van toepassingen van realtime variaties in load over Hallo Internet.</span><span class="sxs-lookup"><span data-stu-id="9a33b-182">However, application performance varies based on real-time variations in load across hello Internet.</span></span> <span data-ttu-id="9a33b-183">Verkeer routeren bewaakt belasting van een bepaalde service-eindpunt niet.</span><span class="sxs-lookup"><span data-stu-id="9a33b-183">Performance traffic-routing does not monitor load on a given service endpoint.</span></span> <span data-ttu-id="9a33b-184">Echter, als een eindpunt niet beschikbaar is, Traffic Manager biedt niet opnemen in reacties op DNS-query's.</span><span class="sxs-lookup"><span data-stu-id="9a33b-184">However, if an endpoint becomes unavailable, Traffic Manager does not include it in DNS query responses.</span></span>


<span data-ttu-id="9a33b-185">Toonote punten:</span><span class="sxs-lookup"><span data-stu-id="9a33b-185">Points toonote:</span></span>

* <span data-ttu-id="9a33b-186">Als uw profiel bevat meerdere eindpunten in dezelfde Azure-regio, Hallo vervolgens Traffic Manager verkeer gelijkmatig over Hallo beschikbare eindpunten in deze regio wordt.</span><span class="sxs-lookup"><span data-stu-id="9a33b-186">If your profile contains multiple endpoints in hello same Azure region, then Traffic Manager distributes traffic evenly across hello available endpoints in that region.</span></span> <span data-ttu-id="9a33b-187">Als u liever een ander verkeer distributie binnen een regio, kunt u [Traffic Manager-profielen genest](traffic-manager-nested-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="9a33b-187">If you prefer a different traffic distribution within a region, you can use [nested Traffic Manager profiles](traffic-manager-nested-profiles.md).</span></span>
* <span data-ttu-id="9a33b-188">Als alle eindpunten in de dichtstbijzijnde Hallo ingeschakeld Azure-regio worden gedegradeerd, Traffic Manager wordt verplaatst als verkeer toohello eindpunten Hallo volgende dichtstbijzijnde Azure-regio.</span><span class="sxs-lookup"><span data-stu-id="9a33b-188">If all enabled endpoints in hello closest Azure region are degraded, Traffic Manager moves traffic toohello endpoints in hello next closest Azure region.</span></span> <span data-ttu-id="9a33b-189">Als u een reeks voorkeur failover toodefine wilt, gebruikt [Traffic Manager-profielen genest](traffic-manager-nested-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="9a33b-189">If you want toodefine a preferred failover sequence, use [nested Traffic Manager profiles](traffic-manager-nested-profiles.md).</span></span>
* <span data-ttu-id="9a33b-190">Als u de verkeersrouteringsmethode prestaties Hallo met externe eindpunten of geneste eindpunten, moet u toospecify Hallo locatie van deze eindpunten.</span><span class="sxs-lookup"><span data-stu-id="9a33b-190">When using hello Performance traffic routing method with external endpoints or nested endpoints, you need toospecify hello location of those endpoints.</span></span> <span data-ttu-id="9a33b-191">Kies hello Azure-regio die het dichtst tooyour implementatie.</span><span class="sxs-lookup"><span data-stu-id="9a33b-191">Choose hello Azure region closest tooyour deployment.</span></span> <span data-ttu-id="9a33b-192">Deze locaties zijn Hallo waarden die worden ondersteund door Hallo Internet latentie tabel.</span><span class="sxs-lookup"><span data-stu-id="9a33b-192">Those locations are hello values supported by hello Internet Latency Table.</span></span>
* <span data-ttu-id="9a33b-193">Hallo-algoritme dat Hallo-eindpunt kiest is deterministisch.</span><span class="sxs-lookup"><span data-stu-id="9a33b-193">hello algorithm that chooses hello endpoint is deterministic.</span></span> <span data-ttu-id="9a33b-194">DNS-query's uit Hallo dezelfde client wordt omgeleid toohello herhaald hetzelfde eindpunt.</span><span class="sxs-lookup"><span data-stu-id="9a33b-194">Repeated DNS queries from hello same client are directed toohello same endpoint.</span></span> <span data-ttu-id="9a33b-195">Clients gebruiken doorgaans verschillende recursieve DNS-servers als onderweg.</span><span class="sxs-lookup"><span data-stu-id="9a33b-195">Typically, clients use different recursive DNS servers when traveling.</span></span> <span data-ttu-id="9a33b-196">Hallo-client mogelijk gerouteerde tooa ander endpoint.</span><span class="sxs-lookup"><span data-stu-id="9a33b-196">hello client may be routed tooa different endpoint.</span></span> <span data-ttu-id="9a33b-197">Routering kan ook worden beïnvloed door updates toohello Internet latentie tabel.</span><span class="sxs-lookup"><span data-stu-id="9a33b-197">Routing can also be affected by updates toohello Internet Latency Table.</span></span> <span data-ttu-id="9a33b-198">Daarom Hallo prestaties voor verkeersroutering methode wordt niet gegarandeerd dat een client altijd toohello gerouteerd hetzelfde eindpunt.</span><span class="sxs-lookup"><span data-stu-id="9a33b-198">Therefore, hello Performance traffic-routing method does not guarantee that a client is always routed toohello same endpoint.</span></span>
* <span data-ttu-id="9a33b-199">Als de Hallo Internet latentie tabel verandert, merkt u wellicht dat sommige clients gerichte tooa eindpunt zijn.</span><span class="sxs-lookup"><span data-stu-id="9a33b-199">When hello Internet Latency Table changes, you may notice that some clients are directed tooa different endpoint.</span></span> <span data-ttu-id="9a33b-200">Deze wijziging routering is nauwkeuriger op basis van latentiegegevens van de huidige.</span><span class="sxs-lookup"><span data-stu-id="9a33b-200">This routing change is more accurate based on current latency data.</span></span> <span data-ttu-id="9a33b-201">Deze updates zijn essentieel toomaintain Hallo nauwkeurigheid van het verkeer routeren als Hallo die Internet voortdurend zich verder ontwikkelen.</span><span class="sxs-lookup"><span data-stu-id="9a33b-201">These updates are essential toomaintain hello accuracy of Performance traffic-routing as hello Internet continually evolves.</span></span>

## <span data-ttu-id="9a33b-202"><a name = "geographic"></a>Geografische verkeersroutering methode</span><span class="sxs-lookup"><span data-stu-id="9a33b-202"><a name = "geographic"></a>Geographic traffic-routing method</span></span>

<span data-ttu-id="9a33b-203">Traffic Manager-profielen kunnen geconfigureerde toouse Hallo geografisch routeringsmethode zodat gebruikers worden omgeleid toospecific eindpunten (Azure, extern of geneste) op basis van welke geografische locatie hun DNS-query afkomstig zijn.</span><span class="sxs-lookup"><span data-stu-id="9a33b-203">Traffic Manager profiles can be configured toouse hello Geographic routing method so that users are directed toospecific endpoints (Azure, External or Nested) based on which geographic location their DNS query originates from.</span></span> <span data-ttu-id="9a33b-204">Dit machtigt Traffic Manager klanten tooenable scenario's waarin de geografische regio van de gebruiker weet en routering toe op basis van die belangrijke.</span><span class="sxs-lookup"><span data-stu-id="9a33b-204">This empowers Traffic Manager customers tooenable scenarios where knowing a user’s geographic region and routing them based on that is important.</span></span> <span data-ttu-id="9a33b-205">Voorbeelden zijn die voldoet aan gegevens onafhankelijkheid vereist, lokalisatie van inhoud & gebruiker ervaring en verkeer vanuit verschillende regio's te meten.</span><span class="sxs-lookup"><span data-stu-id="9a33b-205">Examples include complying with data sovereignty mandates, localization of content & user experience and measuring traffic from different regions.</span></span>
<span data-ttu-id="9a33b-206">Wanneer een profiel is geconfigureerd voor het doorsturen van geografische, elk eindpunt gekoppeld dat profiel toohave een reeks tooit geografische regio's die zijn toegewezen moet.</span><span class="sxs-lookup"><span data-stu-id="9a33b-206">When a profile is configured for geographic routing, each endpoint associated with that profile needs toohave a set of geographic regions assigned tooit.</span></span> <span data-ttu-id="9a33b-207">Een geografische regio kan zich op de volgende detailniveaus</span><span class="sxs-lookup"><span data-stu-id="9a33b-207">A geographic region can be at following levels of granularity</span></span> 
- <span data-ttu-id="9a33b-208">World – elke regio</span><span class="sxs-lookup"><span data-stu-id="9a33b-208">World– any region</span></span>
- <span data-ttu-id="9a33b-209">Regionale groepering – bijvoorbeeld Afrika Midden-Oosten, Australië/Pacific enzovoort.</span><span class="sxs-lookup"><span data-stu-id="9a33b-209">Regional Grouping – for example, Africa, Middle East, Australia/Pacific etc.</span></span> 
- <span data-ttu-id="9a33b-210">Land/regio – bijvoorbeeld Ierland Peru, Hongkong SAR enzovoort.</span><span class="sxs-lookup"><span data-stu-id="9a33b-210">Country/Region – for example, Ireland, Peru, Hong Kong SAR etc.</span></span> 
- <span data-ttu-id="9a33b-211">Staat/provincie – bijvoorbeeld Verenigde Staten Californië, Australië-Queensland, Canada Alberta enz. (Opmerking: deze granulariteitsniveau wordt alleen ondersteund voor staten / provincies in Australië, Canada VK en Verenigde Staten).</span><span class="sxs-lookup"><span data-stu-id="9a33b-211">State/Province – for example, USA-California, Australia-Queensland, Canada-Alberta etc. (note: this granularity level is supported only for states / provinces in Australia, Canada, UK, and USA).</span></span>

<span data-ttu-id="9a33b-212">Wanneer een regio of een set van regio's wordt toegewezen tooan eindpunt, haalt alle aanvragen van deze gebieden gerouteerde alleen toothat-eindpunt.</span><span class="sxs-lookup"><span data-stu-id="9a33b-212">When a region or a set of regions is assigned tooan endpoint, any requests from those regions gets routed only toothat endpoint.</span></span> <span data-ttu-id="9a33b-213">Traffic Manager maakt gebruik van Hallo IP-bronadres van Hallo DNS-query toodetermine Hallo regio van waaruit het opvragen van een gebruiker uit – meestal is dit Hallo IP-adres van Hallo lokale DNS-resolver Hallo query namens de gebruiker Hallo doen.</span><span class="sxs-lookup"><span data-stu-id="9a33b-213">Traffic Manager uses hello source IP address of hello DNS query toodetermine hello region from which a user is querying from – usually this is hello IP address of hello local DNS resolver doing hello query on behalf of hello user.</span></span>  

![Azure Traffic Manager-'Geografische' methode verkeer routering](./media/traffic-manager-routing-methods/geographic.png)

<span data-ttu-id="9a33b-215">Traffic Manager leest Hallo IP-bronadres van Hallo DNS-query en besluit welke geografische regio die afkomstig van zijn is.</span><span class="sxs-lookup"><span data-stu-id="9a33b-215">Traffic Manager reads hello source IP address of hello DNS query and decides which geographic region it is originating from.</span></span> <span data-ttu-id="9a33b-216">Vervolgens controleert het toosee als er een eindpunt dat deze tooit geografische regio toegewezen heeft.</span><span class="sxs-lookup"><span data-stu-id="9a33b-216">It then looks toosee if there is an endpoint that has this geographic region mapped tooit.</span></span> <span data-ttu-id="9a33b-217">Deze zoekactie begint bij laagste granulariteitsniveau hello (staat/provincie waar het wordt ondersteund, anders op Hallo land/regio niveau) en probeert alle Hallo manier toohello hoogste niveau, namelijk **World**.</span><span class="sxs-lookup"><span data-stu-id="9a33b-217">This lookup starts at hello lowest granularity level (State/Province where it is supported, else at hello Country/Region level) and goes all hello way up toohello highest level, which is **World**.</span></span> <span data-ttu-id="9a33b-218">Hallo eerste overeenkomst gevonden met behulp van deze verandering is aangewezen als Hallo eindpunt tooreturn in Hallo query-antwoord.</span><span class="sxs-lookup"><span data-stu-id="9a33b-218">hello first match found using this traversal is designated as hello endpoint tooreturn in hello query response.</span></span> <span data-ttu-id="9a33b-219">Als die overeenkomt met een eindpunt binnen die onderliggende profiel van een geneste type eindpunt wordt geretourneerd, gebaseerd op de routeringsmethode voor.</span><span class="sxs-lookup"><span data-stu-id="9a33b-219">When matching with a Nested type endpoint, an endpoint within that child profile is returned, based on its routing method.</span></span> <span data-ttu-id="9a33b-220">Hallo volgende punten zijn van toepassing toothis gedrag:</span><span class="sxs-lookup"><span data-stu-id="9a33b-220">hello following points are applicable toothis behavior:</span></span>

- <span data-ttu-id="9a33b-221">Een geografische regio kan toegewezen alleen tooone eindpunt in een Traffic Manager-profiel zijn wanneer Hallo routeringstype geografische routering is.</span><span class="sxs-lookup"><span data-stu-id="9a33b-221">A geographic region can be mapped only tooone endpoint in a Traffic Manager profile when hello routing type is Geographic Routing.</span></span> <span data-ttu-id="9a33b-222">Dit zorgt ervoor dat gebruikers routering deterministisch is en klanten scenario's waarvoor ondubbelzinnig geografische grenzen kunnen inschakelen.</span><span class="sxs-lookup"><span data-stu-id="9a33b-222">This ensures that routing of users is deterministic, and customers can enable scenarios that require unambiguous geographic boundaries.</span></span>
- <span data-ttu-id="9a33b-223">Als een gebruiker regio afkomstig zijn onder twee verschillende eindpunten geografische toewijzing, Traffic Manager Hallo-eindpunt met de laagste granulatie Hallo selecteert en houdt geen rekening routering aanvragen van die regio toohello andere eindpunt.</span><span class="sxs-lookup"><span data-stu-id="9a33b-223">If a user’s region comes under two different endpoints’ geographic mapping, Traffic Manager selects hello endpoint with hello lowest granularity and does not consider routing requests from that region toohello other endpoint.</span></span> <span data-ttu-id="9a33b-224">Neem bijvoorbeeld een type routering voor geografische profiel met twee eindpunten - 1 en Endpoint2.</span><span class="sxs-lookup"><span data-stu-id="9a33b-224">For example, consider a Geographic Routing type profile with two endpoints - Endpoint1 and Endpoint2.</span></span> <span data-ttu-id="9a33b-225">1 is geconfigureerd tooreceive verkeer van Ierland en Endpoint2 is geconfigureerd tooreceive verkeer van Europa.</span><span class="sxs-lookup"><span data-stu-id="9a33b-225">Endpoint1 is configured tooreceive traffic from Ireland and Endpoint2 is configured tooreceive traffic from Europe.</span></span> <span data-ttu-id="9a33b-226">Als een aanvraag afkomstig uit Ierland is, maar het is altijd gerouteerde tooEndpoint1.</span><span class="sxs-lookup"><span data-stu-id="9a33b-226">If a request originates from Ireland, it is always routed tooEndpoint1.</span></span>
- <span data-ttu-id="9a33b-227">Omdat een regio kan toegewezen alleen tooone eindpunt, wordt het in Traffic Manager retourneert ongeacht of Hallo-eindpunt al dan niet in orde is.</span><span class="sxs-lookup"><span data-stu-id="9a33b-227">Since a region can be mapped only tooone endpoint, Traffic Manager returns it regardless of whether hello endpoint is healthy or not.</span></span>

    >[!IMPORTANT]
    ><span data-ttu-id="9a33b-228">Het is raadzaam dat klanten die gebruikmaken van de geografische routeringsmethode Hallo koppelen aan Hallo geneste type eindpunten die onderliggende profielen met ten minste twee eindpunten binnen elk heeft.</span><span class="sxs-lookup"><span data-stu-id="9a33b-228">It is strongly recommended that customers using hello geographic routing method associate it with hello Nested type endpoints that has child profiles containing at least two endpoints within each.</span></span>
- <span data-ttu-id="9a33b-229">Als een eindpunt overeenkomst is gevonden en is dat eindpunt in Hallo **gestopt** staat, Traffic Manager een GEENGEGEVENS antwoord geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="9a33b-229">If an endpoint match is found and that endpoint is in hello **Stopped** state, Traffic Manager returns a NODATA response.</span></span> <span data-ttu-id="9a33b-230">In dit geval geen verdere zoekacties bestaat hoger staan in de hiërarchie van Hallo geografische regio.</span><span class="sxs-lookup"><span data-stu-id="9a33b-230">In this case, no further lookups is made higher up in hello geographic region hierarchy.</span></span> <span data-ttu-id="9a33b-231">Dit gedrag is ook van toepassing voor geneste eindpunttypen Hallo onderliggende profiel wordt in Hallo **gestopt** of **uitgeschakelde** status.</span><span class="sxs-lookup"><span data-stu-id="9a33b-231">This behavior is also applicable for nested endpoint types when hello child profile is in hello **Stopped** or **Disabled** state.</span></span>
- <span data-ttu-id="9a33b-232">Als een eindpunt wordt weergegeven in een **uitgeschakelde** status, het niet opgenomen in het Hallo-regio die overeenkomt met de proces.</span><span class="sxs-lookup"><span data-stu-id="9a33b-232">If an endpoint displays a **Disabled** status, it won’t be included in hello region matching process.</span></span> <span data-ttu-id="9a33b-233">Dit gedrag is ook van toepassing op geneste eindpunttypen wanneer Hallo-eindpunt in Hallo is **uitgeschakelde** status.</span><span class="sxs-lookup"><span data-stu-id="9a33b-233">This behavior is also applicable for nested endpoint types when hello endpoint is in hello **Disabled** state.</span></span>
- <span data-ttu-id="9a33b-234">Als een query afkomstig is van een geografische regio die niet toegewezen in dit profiel is, retourneert Traffic Manager een antwoord GEENGEGEVENS.</span><span class="sxs-lookup"><span data-stu-id="9a33b-234">If a query is coming from a geographic region that has no mapping in that profile, Traffic Manager returns a NODATA response.</span></span> <span data-ttu-id="9a33b-235">Daarom is het raadzaam dat klanten gebruiken geografische routering met één eindpunt, in het ideale geval van het type geneste met ten minste twee eindpunten binnen Hallo onderliggende profiel Hallo regio **World** tooit toegewezen.</span><span class="sxs-lookup"><span data-stu-id="9a33b-235">Therefore, it is strongly recommended that customers use geographic routing with one endpoint, ideally of type Nested with at least two endpoints within hello child profile, with hello region **World** assigned tooit.</span></span> <span data-ttu-id="9a33b-236">Dit zorgt er ook voor dat alle IP-adressen die niet zijn toegewezen tooa regio worden verwerkt.</span><span class="sxs-lookup"><span data-stu-id="9a33b-236">This also ensures that any IP addresses that do not map tooa region are handled.</span></span>

<span data-ttu-id="9a33b-237">Zoals uitgelegd in [hoe Traffic Manager werkt](traffic-manager-how-traffic-manager-works.md), Traffic Manager ontvangt geen DNS-query's rechtstreeks van clients.</span><span class="sxs-lookup"><span data-stu-id="9a33b-237">As explained in [How Traffic Manager Works](traffic-manager-how-traffic-manager-works.md), Traffic Manager does not receive DNS queries directly from clients.</span></span> <span data-ttu-id="9a33b-238">In plaats daarvan DNS-query's zijn afkomstig Hallo recursieve DNS-service dat Hallo-clients geconfigureerde toouse zijn.</span><span class="sxs-lookup"><span data-stu-id="9a33b-238">Rather, DNS queries come from hello recursive DNS service that hello clients are configured toouse.</span></span> <span data-ttu-id="9a33b-239">Hallo IP-adres dat wordt gebruikt toodetermine Hallo regio is daarom niet Hallo van client-IP-adres, maar het Hallo IP-adres van Hallo recursieve DNS-service is.</span><span class="sxs-lookup"><span data-stu-id="9a33b-239">Therefore, hello IP address used toodetermine hello region is not hello client's IP address, but it is hello IP address of hello recursive DNS service.</span></span> <span data-ttu-id="9a33b-240">Dit IP-adres is in de praktijk kan een goede proxy voor Hallo-client.</span><span class="sxs-lookup"><span data-stu-id="9a33b-240">In practice, this IP address is a good proxy for hello client.</span></span>


## <a name="next-steps"></a><span data-ttu-id="9a33b-241">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="9a33b-241">Next steps</span></span>

<span data-ttu-id="9a33b-242">Meer informatie over hoe toodevelop hoge beschikbaarheid van toepassingen via [eindpuntcontrole Traffic Manager](traffic-manager-monitoring.md)</span><span class="sxs-lookup"><span data-stu-id="9a33b-242">Learn how toodevelop high-availability applications using [Traffic Manager endpoint monitoring](traffic-manager-monitoring.md)</span></span>

<span data-ttu-id="9a33b-243">Meer informatie over hoe te[een Traffic Manager-profiel maken](traffic-manager-create-profile.md)</span><span class="sxs-lookup"><span data-stu-id="9a33b-243">Learn how too[create a Traffic Manager profile](traffic-manager-create-profile.md)</span></span>

<!--Image references-->
[1]: ./media/traffic-manager-routing-methods/priority.png
[2]: ./media/traffic-manager-routing-methods/weighted.png
[3]: ./media/traffic-manager-routing-methods/performance.png



