---
title: aaaBuild een IoT-oplossing met behulp van de Stream Analytics | Microsoft Docs
description: Zelfstudie voor Hallo Stream Analytics IoT-oplossing van een scenario tolhuisje aan de slag
keywords: IOT-oplossing, vensterfuncties
documentationcenter: 
services: stream-analytics
author: samacha
manager: jhubbard
editor: cgronlun
ms.assetid: a473ea0a-3eaa-4e5b-aaa1-fec7e9069f20
ms.service: stream-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-services
ms.date: 03/28/2017
ms.author: samacha
ms.openlocfilehash: e37fc5b56c4ffc4a2d7b820afe0c17631e577ea0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="build-an-iot-solution-by-using-stream-analytics"></a><span data-ttu-id="58606-104">Een IoT-oplossing bouwen met behulp van de Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="58606-104">Build an IoT solution by using Stream Analytics</span></span>
## <a name="introduction"></a><span data-ttu-id="58606-105">Inleiding</span><span class="sxs-lookup"><span data-stu-id="58606-105">Introduction</span></span>
<span data-ttu-id="58606-106">In deze zelfstudie leert u hoe toouse Azure Stream Analytics tooget realtime inzicht in uw gegevens.</span><span class="sxs-lookup"><span data-stu-id="58606-106">In this tutorial, you will learn how toouse Azure Stream Analytics tooget real-time insights from your data.</span></span> <span data-ttu-id="58606-107">Ontwikkelaars kunnen eenvoudig gegevensstromen, zoals Klik streams logboeken en gebeurtenissen die door de apparaten worden gegenereerd met historische records of verwijzing gegevens tooderive zakelijke inzichten combineren.</span><span class="sxs-lookup"><span data-stu-id="58606-107">Developers can easily combine streams of data, such as click-streams, logs, and device-generated events, with historical records or reference data tooderive business insights.</span></span> <span data-ttu-id="58606-108">Als een volledig beheerde, realtime stroom berekening service die wordt gehost in Microsoft Azure, biedt Azure Stream Analytics ingebouwde tolerantie, lage latentie en schaalbaarheid tooget u up en wordt uitgevoerd in minuten.</span><span class="sxs-lookup"><span data-stu-id="58606-108">As a fully managed, real-time stream computation service that's hosted in Microsoft Azure, Azure Stream Analytics provides built-in resiliency, low latency, and scalability tooget you up and running in minutes.</span></span>

<span data-ttu-id="58606-109">Na het voltooien van deze zelfstudie, kunt u zich kunt:</span><span class="sxs-lookup"><span data-stu-id="58606-109">After completing this tutorial, you will be able to:</span></span>

* <span data-ttu-id="58606-110">Maak uzelf bekend met hello Azure Stream Analytics-portal.</span><span class="sxs-lookup"><span data-stu-id="58606-110">Familiarize yourself with hello Azure Stream Analytics portal.</span></span>
* <span data-ttu-id="58606-111">Configureren en implementeren van een streaming-taak.</span><span class="sxs-lookup"><span data-stu-id="58606-111">Configure and deploy a streaming job.</span></span>
* <span data-ttu-id="58606-112">Bewoordingen aan echte problemen en ze op te lossen met behulp van Hallo Stream Analytics query language.</span><span class="sxs-lookup"><span data-stu-id="58606-112">Articulate real-world problems and solve them by using hello Stream Analytics query language.</span></span>
* <span data-ttu-id="58606-113">Ontwikkel streaming van oplossingen voor uw klanten met behulp van de Stream Analytics met vertrouwen.</span><span class="sxs-lookup"><span data-stu-id="58606-113">Develop streaming solutions for your customers by using Stream Analytics with confidence.</span></span>
* <span data-ttu-id="58606-114">Gebruik hello controle en logboekregistratie ervaring tootroubleshoot problemen.</span><span class="sxs-lookup"><span data-stu-id="58606-114">Use hello monitoring and logging experience tootroubleshoot issues.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="58606-115">Vereisten</span><span class="sxs-lookup"><span data-stu-id="58606-115">Prerequisites</span></span>
<span data-ttu-id="58606-116">U wordt moet Hallo na vereisten toocomplete in deze zelfstudie:</span><span class="sxs-lookup"><span data-stu-id="58606-116">You will need hello following prerequisites toocomplete this tutorial:</span></span>

* <span data-ttu-id="58606-117">meest recente versie van Hallo [Azure PowerShell](/powershell/azure/overview)</span><span class="sxs-lookup"><span data-stu-id="58606-117">hello latest version of [Azure PowerShell](/powershell/azure/overview)</span></span>
* <span data-ttu-id="58606-118">Visual Studio 2017 2015 of Hallo gratis [Visual Studio Community](https://www.visualstudio.com/products/visual-studio-community-vs.aspx)</span><span class="sxs-lookup"><span data-stu-id="58606-118">Visual Studio 2017, 2015, or hello free [Visual Studio Community](https://www.visualstudio.com/products/visual-studio-community-vs.aspx)</span></span>
* <span data-ttu-id="58606-119">Een [Azure-abonnement](https://azure.microsoft.com/pricing/free-trial/)</span><span class="sxs-lookup"><span data-stu-id="58606-119">An [Azure subscription](https://azure.microsoft.com/pricing/free-trial/)</span></span>
* <span data-ttu-id="58606-120">Administratorbevoegdheden op Hallo-computer</span><span class="sxs-lookup"><span data-stu-id="58606-120">Administrative privileges on hello computer</span></span>
* <span data-ttu-id="58606-121">Het downloaden van de [TollApp.zip](https://github.com/Azure/azure-stream-analytics/blob/master/Samples/TollApp/TollApp.zip) van Hallo Microsoft Download Center</span><span class="sxs-lookup"><span data-stu-id="58606-121">Download of [TollApp.zip](https://github.com/Azure/azure-stream-analytics/blob/master/Samples/TollApp/TollApp.zip) from hello Microsoft Download Center</span></span>
* <span data-ttu-id="58606-122">Optioneel: De broncode voor Hallo TollApp gebeurtenis generator in [GitHub](https://aka.ms/azure-stream-analytics-toll-source)</span><span class="sxs-lookup"><span data-stu-id="58606-122">Optional: Source code for hello TollApp event generator in [GitHub](https://aka.ms/azure-stream-analytics-toll-source)</span></span>

## <a name="scenario-introduction-hello-toll"></a><span data-ttu-id="58606-123">Scenario Inleiding: "Hallo, Tolstation!"</span><span class="sxs-lookup"><span data-stu-id="58606-123">Scenario introduction: “Hello, Toll!”</span></span>
<span data-ttu-id="58606-124">Een station tolstation is een algemene verschijnsel.</span><span class="sxs-lookup"><span data-stu-id="58606-124">A toll station is a common phenomenon.</span></span> <span data-ttu-id="58606-125">Tijdens deze veel autowegen bruggen en tunnels tussen Hallo wereld.</span><span class="sxs-lookup"><span data-stu-id="58606-125">You encounter them on many expressways, bridges, and tunnels across hello world.</span></span> <span data-ttu-id="58606-126">Elk station tolstation heeft meerdere tolstation stands.</span><span class="sxs-lookup"><span data-stu-id="58606-126">Each toll station has multiple toll booths.</span></span> <span data-ttu-id="58606-127">Bij handmatige stands stoppen u toopay hello tolstation tooan daarmee gepaard gaande.</span><span class="sxs-lookup"><span data-stu-id="58606-127">At manual booths, you stop toopay hello toll tooan attendant.</span></span> <span data-ttu-id="58606-128">Een sensor boven op elke stand scant op geautomatiseerde stands een RFID-kaart is aangebrachte toohello voorruit van uw vehicle verwerkt als u Hallo tolstation stand doorgeven.</span><span class="sxs-lookup"><span data-stu-id="58606-128">At automated booths, a sensor on top of each booth scans an RFID card that's affixed toohello windshield of your vehicle as you pass hello toll booth.</span></span> <span data-ttu-id="58606-129">Het is gemakkelijk toovisualize Hallo passage door middel van deze stations tolstation als een stroom gebeurtenissen waarover interessante bewerkingen kunnen worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="58606-129">It is easy toovisualize hello passage of vehicles through these toll stations as an event stream over which interesting operations can be performed.</span></span>

![Afbeelding van auto's op een tolstation stands](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image1.jpg)

## <a name="incoming-data"></a><span data-ttu-id="58606-131">Binnenkomende gegevens</span><span class="sxs-lookup"><span data-stu-id="58606-131">Incoming data</span></span>
<span data-ttu-id="58606-132">Deze zelfstudie werkt met twee streams gegevens.</span><span class="sxs-lookup"><span data-stu-id="58606-132">This tutorial works with two streams of data.</span></span> <span data-ttu-id="58606-133">Sensoren in Hallo-ingang is geïnstalleerd en afsluiten van Hallo tolstation stations produceren Hallo eerste stroom.</span><span class="sxs-lookup"><span data-stu-id="58606-133">Sensors installed in hello entrance and exit of hello toll stations produce hello first stream.</span></span> <span data-ttu-id="58606-134">tweede Hallo-stroom is een statische lookup gegevensset die vehicle registratiegegevens heeft.</span><span class="sxs-lookup"><span data-stu-id="58606-134">hello second stream is a static lookup dataset that has vehicle registration data.</span></span>

### <a name="entry-data-stream"></a><span data-ttu-id="58606-135">Gegevensstroom van vermelding</span><span class="sxs-lookup"><span data-stu-id="58606-135">Entry data stream</span></span>
<span data-ttu-id="58606-136">gegevensstroom Hallo-vermelding bevat informatie over auto's wanneer deze stations tolstation binnengaat.</span><span class="sxs-lookup"><span data-stu-id="58606-136">hello entry data stream contains information about cars as they enter toll stations.</span></span>

| <span data-ttu-id="58606-137">TollID</span><span class="sxs-lookup"><span data-stu-id="58606-137">TollID</span></span> | <span data-ttu-id="58606-138">EntryTime</span><span class="sxs-lookup"><span data-stu-id="58606-138">EntryTime</span></span> | <span data-ttu-id="58606-139">LicensePlate</span><span class="sxs-lookup"><span data-stu-id="58606-139">LicensePlate</span></span> | <span data-ttu-id="58606-140">Status</span><span class="sxs-lookup"><span data-stu-id="58606-140">State</span></span> | <span data-ttu-id="58606-141">Maken</span><span class="sxs-lookup"><span data-stu-id="58606-141">Make</span></span> | <span data-ttu-id="58606-142">Model</span><span class="sxs-lookup"><span data-stu-id="58606-142">Model</span></span> | <span data-ttu-id="58606-143">VehicleType</span><span class="sxs-lookup"><span data-stu-id="58606-143">VehicleType</span></span> | <span data-ttu-id="58606-144">VehicleWeight</span><span class="sxs-lookup"><span data-stu-id="58606-144">VehicleWeight</span></span> | <span data-ttu-id="58606-145">Gratis</span><span class="sxs-lookup"><span data-stu-id="58606-145">Toll</span></span> | <span data-ttu-id="58606-146">Label</span><span class="sxs-lookup"><span data-stu-id="58606-146">Tag</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="58606-147">1</span><span class="sxs-lookup"><span data-stu-id="58606-147">1</span></span> |<span data-ttu-id="58606-148">2014-09-10 12:01:00.000</span><span class="sxs-lookup"><span data-stu-id="58606-148">2014-09-10 12:01:00.000</span></span> |<span data-ttu-id="58606-149">7001 JNB</span><span class="sxs-lookup"><span data-stu-id="58606-149">JNB 7001</span></span> |<span data-ttu-id="58606-150">NY</span><span class="sxs-lookup"><span data-stu-id="58606-150">NY</span></span> |<span data-ttu-id="58606-151">Honda</span><span class="sxs-lookup"><span data-stu-id="58606-151">Honda</span></span> |<span data-ttu-id="58606-152">CRV</span><span class="sxs-lookup"><span data-stu-id="58606-152">CRV</span></span> |<span data-ttu-id="58606-153">1</span><span class="sxs-lookup"><span data-stu-id="58606-153">1</span></span> |<span data-ttu-id="58606-154">0</span><span class="sxs-lookup"><span data-stu-id="58606-154">0</span></span> |<span data-ttu-id="58606-155">7</span><span class="sxs-lookup"><span data-stu-id="58606-155">7</span></span> | |
| <span data-ttu-id="58606-156">1</span><span class="sxs-lookup"><span data-stu-id="58606-156">1</span></span> |<span data-ttu-id="58606-157">2014-09-10 12:02:00.000</span><span class="sxs-lookup"><span data-stu-id="58606-157">2014-09-10 12:02:00.000</span></span> |<span data-ttu-id="58606-158">YXZ 1001</span><span class="sxs-lookup"><span data-stu-id="58606-158">YXZ 1001</span></span> |<span data-ttu-id="58606-159">NY</span><span class="sxs-lookup"><span data-stu-id="58606-159">NY</span></span> |<span data-ttu-id="58606-160">Toyota</span><span class="sxs-lookup"><span data-stu-id="58606-160">Toyota</span></span> |<span data-ttu-id="58606-161">Camry</span><span class="sxs-lookup"><span data-stu-id="58606-161">Camry</span></span> |<span data-ttu-id="58606-162">1</span><span class="sxs-lookup"><span data-stu-id="58606-162">1</span></span> |<span data-ttu-id="58606-163">0</span><span class="sxs-lookup"><span data-stu-id="58606-163">0</span></span> |<span data-ttu-id="58606-164">4</span><span class="sxs-lookup"><span data-stu-id="58606-164">4</span></span> |<span data-ttu-id="58606-165">123456789</span><span class="sxs-lookup"><span data-stu-id="58606-165">123456789</span></span> |
| <span data-ttu-id="58606-166">3</span><span class="sxs-lookup"><span data-stu-id="58606-166">3</span></span> |<span data-ttu-id="58606-167">2014-09-10 12:02:00.000</span><span class="sxs-lookup"><span data-stu-id="58606-167">2014-09-10 12:02:00.000</span></span> |<span data-ttu-id="58606-168">ABC 1004</span><span class="sxs-lookup"><span data-stu-id="58606-168">ABC 1004</span></span> |<span data-ttu-id="58606-169">CT</span><span class="sxs-lookup"><span data-stu-id="58606-169">CT</span></span> |<span data-ttu-id="58606-170">Ford</span><span class="sxs-lookup"><span data-stu-id="58606-170">Ford</span></span> |<span data-ttu-id="58606-171">Taurus</span><span class="sxs-lookup"><span data-stu-id="58606-171">Taurus</span></span> |<span data-ttu-id="58606-172">1</span><span class="sxs-lookup"><span data-stu-id="58606-172">1</span></span> |<span data-ttu-id="58606-173">0</span><span class="sxs-lookup"><span data-stu-id="58606-173">0</span></span> |<span data-ttu-id="58606-174">5</span><span class="sxs-lookup"><span data-stu-id="58606-174">5</span></span> |<span data-ttu-id="58606-175">456789123</span><span class="sxs-lookup"><span data-stu-id="58606-175">456789123</span></span> |
| <span data-ttu-id="58606-176">2</span><span class="sxs-lookup"><span data-stu-id="58606-176">2</span></span> |<span data-ttu-id="58606-177">2014-09-10 12:03:00.000</span><span class="sxs-lookup"><span data-stu-id="58606-177">2014-09-10 12:03:00.000</span></span> |<span data-ttu-id="58606-178">XYZ 1003</span><span class="sxs-lookup"><span data-stu-id="58606-178">XYZ 1003</span></span> |<span data-ttu-id="58606-179">CT</span><span class="sxs-lookup"><span data-stu-id="58606-179">CT</span></span> |<span data-ttu-id="58606-180">Toyota</span><span class="sxs-lookup"><span data-stu-id="58606-180">Toyota</span></span> |<span data-ttu-id="58606-181">Corolla</span><span class="sxs-lookup"><span data-stu-id="58606-181">Corolla</span></span> |<span data-ttu-id="58606-182">1</span><span class="sxs-lookup"><span data-stu-id="58606-182">1</span></span> |<span data-ttu-id="58606-183">0</span><span class="sxs-lookup"><span data-stu-id="58606-183">0</span></span> |<span data-ttu-id="58606-184">4</span><span class="sxs-lookup"><span data-stu-id="58606-184">4</span></span> | |
| <span data-ttu-id="58606-185">1</span><span class="sxs-lookup"><span data-stu-id="58606-185">1</span></span> |<span data-ttu-id="58606-186">2014-09-10 12:03:00.000</span><span class="sxs-lookup"><span data-stu-id="58606-186">2014-09-10 12:03:00.000</span></span> |<span data-ttu-id="58606-187">1007 BNJ</span><span class="sxs-lookup"><span data-stu-id="58606-187">BNJ 1007</span></span> |<span data-ttu-id="58606-188">NY</span><span class="sxs-lookup"><span data-stu-id="58606-188">NY</span></span> |<span data-ttu-id="58606-189">Honda</span><span class="sxs-lookup"><span data-stu-id="58606-189">Honda</span></span> |<span data-ttu-id="58606-190">CRV</span><span class="sxs-lookup"><span data-stu-id="58606-190">CRV</span></span> |<span data-ttu-id="58606-191">1</span><span class="sxs-lookup"><span data-stu-id="58606-191">1</span></span> |<span data-ttu-id="58606-192">0</span><span class="sxs-lookup"><span data-stu-id="58606-192">0</span></span> |<span data-ttu-id="58606-193">5</span><span class="sxs-lookup"><span data-stu-id="58606-193">5</span></span> |<span data-ttu-id="58606-194">789123456</span><span class="sxs-lookup"><span data-stu-id="58606-194">789123456</span></span> |
| <span data-ttu-id="58606-195">2</span><span class="sxs-lookup"><span data-stu-id="58606-195">2</span></span> |<span data-ttu-id="58606-196">2014-09-10 12:05:00.000</span><span class="sxs-lookup"><span data-stu-id="58606-196">2014-09-10 12:05:00.000</span></span> |<span data-ttu-id="58606-197">CDE 1007</span><span class="sxs-lookup"><span data-stu-id="58606-197">CDE 1007</span></span> |<span data-ttu-id="58606-198">NJ</span><span class="sxs-lookup"><span data-stu-id="58606-198">NJ</span></span> |<span data-ttu-id="58606-199">Toyota</span><span class="sxs-lookup"><span data-stu-id="58606-199">Toyota</span></span> |<span data-ttu-id="58606-200">4 x 4</span><span class="sxs-lookup"><span data-stu-id="58606-200">4x4</span></span> |<span data-ttu-id="58606-201">1</span><span class="sxs-lookup"><span data-stu-id="58606-201">1</span></span> |<span data-ttu-id="58606-202">0</span><span class="sxs-lookup"><span data-stu-id="58606-202">0</span></span> |<span data-ttu-id="58606-203">6</span><span class="sxs-lookup"><span data-stu-id="58606-203">6</span></span> |<span data-ttu-id="58606-204">321987654</span><span class="sxs-lookup"><span data-stu-id="58606-204">321987654</span></span> |

<span data-ttu-id="58606-205">Hier volgt een korte beschrijving van Hallo kolommen:</span><span class="sxs-lookup"><span data-stu-id="58606-205">Here is a short description of hello columns:</span></span>

| <span data-ttu-id="58606-206">Kolom</span><span class="sxs-lookup"><span data-stu-id="58606-206">Column</span></span> | <span data-ttu-id="58606-207">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="58606-207">Description</span></span> |
| --- | --- |
| <span data-ttu-id="58606-208">TollID</span><span class="sxs-lookup"><span data-stu-id="58606-208">TollID</span></span> |<span data-ttu-id="58606-209">Hallo tolstation stand-ID die een unieke identificatie van een stand tolstation</span><span class="sxs-lookup"><span data-stu-id="58606-209">hello toll booth ID that uniquely identifies a toll booth</span></span> |
| <span data-ttu-id="58606-210">EntryTime</span><span class="sxs-lookup"><span data-stu-id="58606-210">EntryTime</span></span> |<span data-ttu-id="58606-211">Hallo-datum en tijd van de vermelding van het Hallo vehicle toohello tolstation stand in UTC</span><span class="sxs-lookup"><span data-stu-id="58606-211">hello date and time of entry of hello vehicle toohello toll booth in UTC</span></span> |
| <span data-ttu-id="58606-212">LicensePlate</span><span class="sxs-lookup"><span data-stu-id="58606-212">LicensePlate</span></span> |<span data-ttu-id="58606-213">Hallo sofi-nummer van Hallo vehicle</span><span class="sxs-lookup"><span data-stu-id="58606-213">hello license plate number of hello vehicle</span></span> |
| <span data-ttu-id="58606-214">Status</span><span class="sxs-lookup"><span data-stu-id="58606-214">State</span></span> |<span data-ttu-id="58606-215">Een status in de Verenigde Staten</span><span class="sxs-lookup"><span data-stu-id="58606-215">A state in United States</span></span> |
| <span data-ttu-id="58606-216">Maken</span><span class="sxs-lookup"><span data-stu-id="58606-216">Make</span></span> |<span data-ttu-id="58606-217">Hallo fabrikant van Hallo auto</span><span class="sxs-lookup"><span data-stu-id="58606-217">hello manufacturer of hello automobile</span></span> |
| <span data-ttu-id="58606-218">Model</span><span class="sxs-lookup"><span data-stu-id="58606-218">Model</span></span> |<span data-ttu-id="58606-219">Hallo modelnummer van Hallo auto</span><span class="sxs-lookup"><span data-stu-id="58606-219">hello model number of hello automobile</span></span> |
| <span data-ttu-id="58606-220">VehicleType</span><span class="sxs-lookup"><span data-stu-id="58606-220">VehicleType</span></span> |<span data-ttu-id="58606-221">1 voor passagiers voertuigen of 2 voor commerciële voertuigen</span><span class="sxs-lookup"><span data-stu-id="58606-221">Either 1 for passenger vehicles or 2 for commercial vehicles</span></span> |
| <span data-ttu-id="58606-222">WeightType</span><span class="sxs-lookup"><span data-stu-id="58606-222">WeightType</span></span> |<span data-ttu-id="58606-223">Toegestaan gewicht in ton; 0 voor passagiers voertuigen</span><span class="sxs-lookup"><span data-stu-id="58606-223">Vehicle weight in tons; 0 for passenger vehicles</span></span> |
| <span data-ttu-id="58606-224">Gratis</span><span class="sxs-lookup"><span data-stu-id="58606-224">Toll</span></span> |<span data-ttu-id="58606-225">Hallo tolstation waarde in USD</span><span class="sxs-lookup"><span data-stu-id="58606-225">hello toll value in USD</span></span> |
| <span data-ttu-id="58606-226">Label</span><span class="sxs-lookup"><span data-stu-id="58606-226">Tag</span></span> |<span data-ttu-id="58606-227">Hallo e-tags op Hallo auto die betaling automatiseert. lege waar Hallo betaling handmatig is uitgevoerd</span><span class="sxs-lookup"><span data-stu-id="58606-227">hello e-Tag on hello automobile that automates payment; blank where hello payment was done manually</span></span> |

### <a name="exit-data-stream"></a><span data-ttu-id="58606-228">De gegevensstroom afsluiten</span><span class="sxs-lookup"><span data-stu-id="58606-228">Exit data stream</span></span>
<span data-ttu-id="58606-229">Hallo afsluiten gegevensstroom bevat informatie over auto's Hallo tolstation station verlaten.</span><span class="sxs-lookup"><span data-stu-id="58606-229">hello exit data stream contains information about cars leaving hello toll station.</span></span>

| <span data-ttu-id="58606-230">**TollId**</span><span class="sxs-lookup"><span data-stu-id="58606-230">**TollId**</span></span> | <span data-ttu-id="58606-231">**ExitTime**</span><span class="sxs-lookup"><span data-stu-id="58606-231">**ExitTime**</span></span> | <span data-ttu-id="58606-232">**LicensePlate**</span><span class="sxs-lookup"><span data-stu-id="58606-232">**LicensePlate**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="58606-233">1</span><span class="sxs-lookup"><span data-stu-id="58606-233">1</span></span> |<span data-ttu-id="58606-234">2014-09-10T12:03:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="58606-234">2014-09-10T12:03:00.0000000Z</span></span> |<span data-ttu-id="58606-235">7001 JNB</span><span class="sxs-lookup"><span data-stu-id="58606-235">JNB 7001</span></span> |
| <span data-ttu-id="58606-236">1</span><span class="sxs-lookup"><span data-stu-id="58606-236">1</span></span> |<span data-ttu-id="58606-237">2014-09-10T12:03:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="58606-237">2014-09-10T12:03:00.0000000Z</span></span> |<span data-ttu-id="58606-238">YXZ 1001</span><span class="sxs-lookup"><span data-stu-id="58606-238">YXZ 1001</span></span> |
| <span data-ttu-id="58606-239">3</span><span class="sxs-lookup"><span data-stu-id="58606-239">3</span></span> |<span data-ttu-id="58606-240">2014-09-10T12:04:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="58606-240">2014-09-10T12:04:00.0000000Z</span></span> |<span data-ttu-id="58606-241">ABC 1004</span><span class="sxs-lookup"><span data-stu-id="58606-241">ABC 1004</span></span> |
| <span data-ttu-id="58606-242">2</span><span class="sxs-lookup"><span data-stu-id="58606-242">2</span></span> |<span data-ttu-id="58606-243">2014-09-10T12:07:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="58606-243">2014-09-10T12:07:00.0000000Z</span></span> |<span data-ttu-id="58606-244">XYZ 1003</span><span class="sxs-lookup"><span data-stu-id="58606-244">XYZ 1003</span></span> |
| <span data-ttu-id="58606-245">1</span><span class="sxs-lookup"><span data-stu-id="58606-245">1</span></span> |<span data-ttu-id="58606-246">2014-09-10T12:08:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="58606-246">2014-09-10T12:08:00.0000000Z</span></span> |<span data-ttu-id="58606-247">1007 BNJ</span><span class="sxs-lookup"><span data-stu-id="58606-247">BNJ 1007</span></span> |
| <span data-ttu-id="58606-248">2</span><span class="sxs-lookup"><span data-stu-id="58606-248">2</span></span> |<span data-ttu-id="58606-249">2014-09-10T12:07:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="58606-249">2014-09-10T12:07:00.0000000Z</span></span> |<span data-ttu-id="58606-250">CDE 1007</span><span class="sxs-lookup"><span data-stu-id="58606-250">CDE 1007</span></span> |

<span data-ttu-id="58606-251">Hier volgt een korte beschrijving van Hallo kolommen:</span><span class="sxs-lookup"><span data-stu-id="58606-251">Here is a short description of hello columns:</span></span>

| <span data-ttu-id="58606-252">Kolom</span><span class="sxs-lookup"><span data-stu-id="58606-252">Column</span></span> | <span data-ttu-id="58606-253">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="58606-253">Description</span></span> |
| --- | --- |
| <span data-ttu-id="58606-254">TollID</span><span class="sxs-lookup"><span data-stu-id="58606-254">TollID</span></span> |<span data-ttu-id="58606-255">Hallo tolstation stand-ID die een unieke identificatie van een stand tolstation</span><span class="sxs-lookup"><span data-stu-id="58606-255">hello toll booth ID that uniquely identifies a toll booth</span></span> |
| <span data-ttu-id="58606-256">ExitTime</span><span class="sxs-lookup"><span data-stu-id="58606-256">ExitTime</span></span> |<span data-ttu-id="58606-257">Hallo-datum en tijd van af te sluiten van Hallo vehicle van tolstation stand in UTC</span><span class="sxs-lookup"><span data-stu-id="58606-257">hello date and time of exit of hello vehicle from toll booth in UTC</span></span> |
| <span data-ttu-id="58606-258">LicensePlate</span><span class="sxs-lookup"><span data-stu-id="58606-258">LicensePlate</span></span> |<span data-ttu-id="58606-259">Hallo sofi-nummer van Hallo vehicle</span><span class="sxs-lookup"><span data-stu-id="58606-259">hello license plate number of hello vehicle</span></span> |

### <a name="commercial-vehicle-registration-data"></a><span data-ttu-id="58606-260">De registratiegegevens commerciële vehicle</span><span class="sxs-lookup"><span data-stu-id="58606-260">Commercial vehicle registration data</span></span>
<span data-ttu-id="58606-261">Hallo-zelfstudie maakt gebruik van een momentopname van een registratiedatabase commerciële vehicle verwerkt.</span><span class="sxs-lookup"><span data-stu-id="58606-261">hello tutorial uses a static snapshot of a commercial vehicle registration database.</span></span>

| <span data-ttu-id="58606-262">LicensePlate</span><span class="sxs-lookup"><span data-stu-id="58606-262">LicensePlate</span></span> | <span data-ttu-id="58606-263">Registratie-id</span><span class="sxs-lookup"><span data-stu-id="58606-263">RegistrationId</span></span> | <span data-ttu-id="58606-264">Verlopen</span><span class="sxs-lookup"><span data-stu-id="58606-264">Expired</span></span> |
| --- | --- | --- |
| <span data-ttu-id="58606-265">SVT 6023</span><span class="sxs-lookup"><span data-stu-id="58606-265">SVT 6023</span></span> |<span data-ttu-id="58606-266">285429838</span><span class="sxs-lookup"><span data-stu-id="58606-266">285429838</span></span> |<span data-ttu-id="58606-267">1</span><span class="sxs-lookup"><span data-stu-id="58606-267">1</span></span> |
| <span data-ttu-id="58606-268">XLZ 3463</span><span class="sxs-lookup"><span data-stu-id="58606-268">XLZ 3463</span></span> |<span data-ttu-id="58606-269">362715656</span><span class="sxs-lookup"><span data-stu-id="58606-269">362715656</span></span> |<span data-ttu-id="58606-270">0</span><span class="sxs-lookup"><span data-stu-id="58606-270">0</span></span> |
| <span data-ttu-id="58606-271">1005 BACK</span><span class="sxs-lookup"><span data-stu-id="58606-271">BAC 1005</span></span> |<span data-ttu-id="58606-272">876133137</span><span class="sxs-lookup"><span data-stu-id="58606-272">876133137</span></span> |<span data-ttu-id="58606-273">1</span><span class="sxs-lookup"><span data-stu-id="58606-273">1</span></span> |
| <span data-ttu-id="58606-274">RIV 8632</span><span class="sxs-lookup"><span data-stu-id="58606-274">RIV 8632</span></span> |<span data-ttu-id="58606-275">992711956</span><span class="sxs-lookup"><span data-stu-id="58606-275">992711956</span></span> |<span data-ttu-id="58606-276">0</span><span class="sxs-lookup"><span data-stu-id="58606-276">0</span></span> |
| <span data-ttu-id="58606-277">SNY 7188</span><span class="sxs-lookup"><span data-stu-id="58606-277">SNY 7188</span></span> |<span data-ttu-id="58606-278">592133890</span><span class="sxs-lookup"><span data-stu-id="58606-278">592133890</span></span> |<span data-ttu-id="58606-279">0</span><span class="sxs-lookup"><span data-stu-id="58606-279">0</span></span> |
| <span data-ttu-id="58606-280">ELH 9896</span><span class="sxs-lookup"><span data-stu-id="58606-280">ELH 9896</span></span> |<span data-ttu-id="58606-281">678427724</span><span class="sxs-lookup"><span data-stu-id="58606-281">678427724</span></span> |<span data-ttu-id="58606-282">1</span><span class="sxs-lookup"><span data-stu-id="58606-282">1</span></span> |

<span data-ttu-id="58606-283">Hier volgt een korte beschrijving van Hallo kolommen:</span><span class="sxs-lookup"><span data-stu-id="58606-283">Here is a short description of hello columns:</span></span>

| <span data-ttu-id="58606-284">Kolom</span><span class="sxs-lookup"><span data-stu-id="58606-284">Column</span></span> | <span data-ttu-id="58606-285">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="58606-285">Description</span></span> |
| --- | --- |
| <span data-ttu-id="58606-286">LicensePlate</span><span class="sxs-lookup"><span data-stu-id="58606-286">LicensePlate</span></span> |<span data-ttu-id="58606-287">Hallo sofi-nummer van Hallo vehicle</span><span class="sxs-lookup"><span data-stu-id="58606-287">hello license plate number of hello vehicle</span></span> |
| <span data-ttu-id="58606-288">Registratie-id</span><span class="sxs-lookup"><span data-stu-id="58606-288">RegistrationId</span></span> |<span data-ttu-id="58606-289">Hallo vehicle van registratie-ID</span><span class="sxs-lookup"><span data-stu-id="58606-289">hello vehicle's registration ID</span></span> |
| <span data-ttu-id="58606-290">Verlopen</span><span class="sxs-lookup"><span data-stu-id="58606-290">Expired</span></span> |<span data-ttu-id="58606-291">de registratiestatus van Hallo vehicle Hallo: 0 of vehicle registratie actief is, is 1 als de registratie is verlopen</span><span class="sxs-lookup"><span data-stu-id="58606-291">hello registration status of hello vehicle: 0 if vehicle registration is active, 1 if registration is expired</span></span> |

## <a name="set-up-hello-environment-for-azure-stream-analytics"></a><span data-ttu-id="58606-292">Hallo-omgeving instellen voor Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="58606-292">Set up hello environment for Azure Stream Analytics</span></span>
<span data-ttu-id="58606-293">toocomplete in deze zelfstudie hebt u een Microsoft Azure-abonnement nodig.</span><span class="sxs-lookup"><span data-stu-id="58606-293">toocomplete this tutorial, you need a Microsoft Azure subscription.</span></span> <span data-ttu-id="58606-294">Microsoft biedt een gratis proefversie van Microsoft Azure-services.</span><span class="sxs-lookup"><span data-stu-id="58606-294">Microsoft offers free trial for Microsoft Azure services.</span></span>

<span data-ttu-id="58606-295">Als u geen Azure-account hebt, kunt u [aanvragen van een gratis evaluatieversie](http://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="58606-295">If you do not have an Azure account, you can [request a free trial version](http://azure.microsoft.com/pricing/free-trial/).</span></span>

> [!NOTE]
> <span data-ttu-id="58606-296">toosign voor een gratis proefversie, moet u een mobiel apparaat dat u kunt tekstberichten en een geldige creditcard ontvangen.</span><span class="sxs-lookup"><span data-stu-id="58606-296">toosign up for a free trial, you need a mobile device that can receive text messages and a valid credit card.</span></span>
> 
> 

<span data-ttu-id="58606-297">Zorg ervoor dat toofollow Hallo stappen in 'Opschonen van uw Azure-account' Hallo-sectie op Hallo einde van dit artikel, zodat u optimaal gebruik van uw Azure-krediet Hallo kunt maken.</span><span class="sxs-lookup"><span data-stu-id="58606-297">Be sure toofollow hello steps in hello “Clean up your Azure account” section at hello end of this article so that you can make hello best use of your Azure credit.</span></span>

## <a name="provision-azure-resources-required-for-hello-tutorial"></a><span data-ttu-id="58606-298">Vereist voor de zelfstudie hello Azure-resources inrichten</span><span class="sxs-lookup"><span data-stu-id="58606-298">Provision Azure resources required for hello tutorial</span></span>
<span data-ttu-id="58606-299">Deze zelfstudie vereist twee event hubs tooreceive *vermelding* en *sluiten* gegevensstromen.</span><span class="sxs-lookup"><span data-stu-id="58606-299">This tutorial requires two event hubs tooreceive *entry* and *exit* data streams.</span></span> <span data-ttu-id="58606-300">Azure SQL Database worden de resultaten Hallo van Hallo Stream Analytics-taken.</span><span class="sxs-lookup"><span data-stu-id="58606-300">Azure SQL Database outputs hello results of hello Stream Analytics jobs.</span></span> <span data-ttu-id="58606-301">Azure Storage worden opgeslagen referentiegegevens over vehicle registraties.</span><span class="sxs-lookup"><span data-stu-id="58606-301">Azure Storage stores reference data about vehicle registrations.</span></span>

<span data-ttu-id="58606-302">U kunt gebruiken Hallo Setup.ps1 script in Hallo TollApp map op GitHub toocreate alle vereiste resources.</span><span class="sxs-lookup"><span data-stu-id="58606-302">You can use hello Setup.ps1 script in hello TollApp folder on GitHub toocreate all required resources.</span></span> <span data-ttu-id="58606-303">In Hallo belang van de tijd, is het raadzaam dat u het uitvoert.</span><span class="sxs-lookup"><span data-stu-id="58606-303">In hello interest of time, we recommend that you run it.</span></span> <span data-ttu-id="58606-304">Als u wilt meer informatie over hoe tooconfigure deze bronnen in hello Azure-portal verwijzen toolearn toohello 'Zelfstudie resources in Azure-portal configureren' bijlage.</span><span class="sxs-lookup"><span data-stu-id="58606-304">If you would like toolearn more about how tooconfigure these resources in hello Azure portal, refer toohello “Configuring tutorial resources in Azure portal” appendix.</span></span>

<span data-ttu-id="58606-305">Download en sla Hallo ondersteunende [TollApp](https://github.com/Azure/azure-stream-analytics/blob/master/Samples/TollApp/TollApp.zip) map en bestanden.</span><span class="sxs-lookup"><span data-stu-id="58606-305">Download and save hello supporting [TollApp](https://github.com/Azure/azure-stream-analytics/blob/master/Samples/TollApp/TollApp.zip) folder and files.</span></span>

<span data-ttu-id="58606-306">Open een **Microsoft Azure PowerShell** venster *als beheerder*.</span><span class="sxs-lookup"><span data-stu-id="58606-306">Open a **Microsoft Azure PowerShell** window *as an administrator*.</span></span> <span data-ttu-id="58606-307">Als u nog geen Azure PowerShell, volgt u de instructies Hallo in [installeren en configureren van Azure PowerShell](/powershell/azure/overview) tooinstall deze.</span><span class="sxs-lookup"><span data-stu-id="58606-307">If you do not yet have Azure PowerShell, follow hello instructions in [Install and configure Azure PowerShell](/powershell/azure/overview) tooinstall it.</span></span>

<span data-ttu-id="58606-308">Omdat Windows wordt automatisch geblokkeerd .ps1-, dll- en .exe-bestanden, moet u tooset Hallo uitvoeringsbeleid voordat u Hallo-script uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="58606-308">Because Windows automatically blocks .ps1, .dll, and .exe files, you need tooset hello execution policy before you run hello script.</span></span> <span data-ttu-id="58606-309">Zorg ervoor dat hello Azure PowerShell-venster wordt uitgevoerd *als beheerder*.</span><span class="sxs-lookup"><span data-stu-id="58606-309">Make sure hello Azure PowerShell window is running *as an administrator*.</span></span> <span data-ttu-id="58606-310">Voer **Set-ExecutionPolicy unrestricted**.</span><span class="sxs-lookup"><span data-stu-id="58606-310">Run **Set-ExecutionPolicy unrestricted**.</span></span> <span data-ttu-id="58606-311">Wanneer u wordt gevraagd, typt u **Y**.</span><span class="sxs-lookup"><span data-stu-id="58606-311">When prompted, type **Y**.</span></span>

![Schermopname van 'Set-ExecutionPolicy unrestricted' uitgevoerd in Azure PowerShell-venster](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image2.png)

<span data-ttu-id="58606-313">Voer **Get-ExecutionPolicy** toomake ervoor dat de opdracht Hallo gewerkt.</span><span class="sxs-lookup"><span data-stu-id="58606-313">Run **Get-ExecutionPolicy** toomake sure that hello command worked.</span></span>

![Schermopname van 'Get-ExecutionPolicy' uitgevoerd in Azure PowerShell-venster](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image3.png)

<span data-ttu-id="58606-315">Ga toohello-map met Hallo scripts en generator-toepassing.</span><span class="sxs-lookup"><span data-stu-id="58606-315">Go toohello directory that has hello scripts and generator application.</span></span>

![Schermopname van 'cd .\TollApp\TollApp' in hello Azure PowerShell-venster](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image4.png)

<span data-ttu-id="58606-317">Type **.\\ Setup.ps1** tooset van uw Azure-account maken en alle vereiste bronnen configureren en starten toogenerate gebeurtenissen.</span><span class="sxs-lookup"><span data-stu-id="58606-317">Type **.\\Setup.ps1** tooset up your Azure account, create and configure all required resources, and start toogenerate events.</span></span> <span data-ttu-id="58606-318">Hallo script willekeurig neemt over een toocreate regio uw resources.</span><span class="sxs-lookup"><span data-stu-id="58606-318">hello script randomly picks up a region toocreate your resources.</span></span> <span data-ttu-id="58606-319">een regio tooexplicitly opgeven, kunt u Hallo doorgeven **-locatie** parameter zoals Hallo volgt in:</span><span class="sxs-lookup"><span data-stu-id="58606-319">tooexplicitly specify a region, you can pass hello **-location** parameter as in hello following example:</span></span>

<span data-ttu-id="58606-320">**. \\Setup.ps1-locatie 'VS-midden'**</span><span class="sxs-lookup"><span data-stu-id="58606-320">**.\\Setup.ps1 -location “Central US”**</span></span>

![Schermafbeelding van pagina hello Azure aanmelden](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image5.png)

<span data-ttu-id="58606-322">Hallo-script wordt geopend Hallo **aanmelden** pagina voor Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="58606-322">hello script opens hello **Sign In** page for Microsoft Azure.</span></span> <span data-ttu-id="58606-323">Voer de referenties van uw account.</span><span class="sxs-lookup"><span data-stu-id="58606-323">Enter your account credentials.</span></span>

> [!NOTE]
> <span data-ttu-id="58606-324">Als uw account toegang toomultiple abonnementen heeft, kunt u zich gestelde tooenter Hallo abonnementsnaam wilt u toouse voor Hallo zelfstudie.</span><span class="sxs-lookup"><span data-stu-id="58606-324">If your account has access toomultiple subscriptions, you will be asked tooenter hello subscription name that you want toouse for hello tutorial.</span></span>
> 
> 

<span data-ttu-id="58606-325">Hallo-script kan toorun van enkele minuten duren.</span><span class="sxs-lookup"><span data-stu-id="58606-325">hello script can take several minutes toorun.</span></span> <span data-ttu-id="58606-326">Nadat deze is voltooid, worden Hallo uitvoer moet eruitzien als Hallo volgende schermopname.</span><span class="sxs-lookup"><span data-stu-id="58606-326">After it finishes, hello output should look like hello following screenshot.</span></span>

![Schermopname van het resultaat van het Hallo-script van hello Azure PowerShell-venster](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image6.PNG)

<span data-ttu-id="58606-328">U ziet ook een ander venster die vergelijkbaar toohello volgende schermopname.</span><span class="sxs-lookup"><span data-stu-id="58606-328">You will also see another window that's similar toohello following screenshot.</span></span> <span data-ttu-id="58606-329">Deze toepassing is het verzenden van gebeurtenissen tooAzure Event Hubs, die is vereist toorun Hallo zelfstudie.</span><span class="sxs-lookup"><span data-stu-id="58606-329">This application is sending events tooAzure Event Hubs, which is required toorun hello tutorial.</span></span> <span data-ttu-id="58606-330">Dus geen stop de toepassing hello of dit venster sluiten totdat u klaar bent met het Hallo-zelfstudie.</span><span class="sxs-lookup"><span data-stu-id="58606-330">So, do not stop hello application or close this window until you finish hello tutorial.</span></span>

![Schermopname van 'Verzenden event hub gegevens'](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image7.png)

<span data-ttu-id="58606-332">U moet kunnen toosee uw resources in Azure-portal nu.</span><span class="sxs-lookup"><span data-stu-id="58606-332">You should be able toosee your resources in Azure portal now.</span></span> <span data-ttu-id="58606-333">Ga te<https://portal.azure.com>, en meld u aan met referenties van uw account.</span><span class="sxs-lookup"><span data-stu-id="58606-333">Go too<https://portal.azure.com>, and sign in with your account credentials.</span></span> <span data-ttu-id="58606-334">Houd er rekening mee dat momenteel bepaalde functionaliteit maakt gebruik van de klassieke portal Hallo.</span><span class="sxs-lookup"><span data-stu-id="58606-334">Note that currently some functionality utilizes hello classic portal.</span></span> <span data-ttu-id="58606-335">Deze stappen worden duidelijk vermeld.</span><span class="sxs-lookup"><span data-stu-id="58606-335">These steps will be clearly indicated.</span></span>

### <a name="azure-event-hubs"></a><span data-ttu-id="58606-336">Azure Event Hubs</span><span class="sxs-lookup"><span data-stu-id="58606-336">Azure Event Hubs</span></span>
<span data-ttu-id="58606-337">Klik in hello Azure-portal, op **meer services** op Hallo Hallo management linker deelvenster onderaan.</span><span class="sxs-lookup"><span data-stu-id="58606-337">In hello Azure portal, click **More services** on hello bottom of hello left management pane.</span></span> <span data-ttu-id="58606-338">Type **Event hubs** in Hallo veld en klikt u op **Event hubs**.</span><span class="sxs-lookup"><span data-stu-id="58606-338">Type **Event hubs** in hello field provided and click **Event hubs**.</span></span> <span data-ttu-id="58606-339">Hiermee wordt een nieuwe browser venster toodisplay Hallo gestart **SERVICE BUS** gebied in Hallo **klassieke portal**.</span><span class="sxs-lookup"><span data-stu-id="58606-339">This launches a new browser window toodisplay hello **SERVICE BUS** area in hello **classic portal**.</span></span> <span data-ttu-id="58606-340">Hier ziet u Hallo Event Hub is gemaakt door Hallo Setup.ps1 script.</span><span class="sxs-lookup"><span data-stu-id="58606-340">Here you can see hello Event Hub created by hello Setup.ps1 script.</span></span>

![Service Bus](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image8.png)

<span data-ttu-id="58606-342">Klik op Hallo die met begint *tolldata*.</span><span class="sxs-lookup"><span data-stu-id="58606-342">Click hello one that starts with *tolldata*.</span></span> <span data-ttu-id="58606-343">Klik op Hallo **EVENT HUBS** tabblad. Ziet u twee event hubs met de naam *vermelding* en *sluiten* gemaakt in deze naamruimte.</span><span class="sxs-lookup"><span data-stu-id="58606-343">Click hello **EVENT HUBS** tab. You will see two event hubs named *entry* and *exit* created in this namespace.</span></span>

![Event Hubs-tabblad in de klassieke portal Hallo](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image9.png)

### <a name="azure-storage-container"></a><span data-ttu-id="58606-345">Azure Storage-container</span><span class="sxs-lookup"><span data-stu-id="58606-345">Azure Storage container</span></span>
1. <span data-ttu-id="58606-346">Ga terug toohello tabblad in uw browser openen tooAzure-portal.</span><span class="sxs-lookup"><span data-stu-id="58606-346">Go back toohello tab in your browser open tooAzure portal.</span></span> <span data-ttu-id="58606-347">Klik op **opslag** op de linkerkant van hello Azure portal toosee hello Azure Storage-container die wordt gebruikt in de zelfstudie Hallo Hallo.</span><span class="sxs-lookup"><span data-stu-id="58606-347">Click **STORAGE** on hello left side of hello Azure portal toosee hello Azure Storage container that's used in hello tutorial.</span></span>
   
    ![Opslag menu-item](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image11.png)
2. <span data-ttu-id="58606-349">Klik op Hallo die beginnen met *tolldata*.</span><span class="sxs-lookup"><span data-stu-id="58606-349">Click hello one that start with *tolldata*.</span></span> <span data-ttu-id="58606-350">Klik op Hallo **CONTAINERS** tabblad toosee Hallo gemaakt container.</span><span class="sxs-lookup"><span data-stu-id="58606-350">Click hello **CONTAINERS** tab toosee hello created container.</span></span>
   
    ![Tabblad containers in hello Azure-portal](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image10.png)
3. <span data-ttu-id="58606-352">Klik op Hallo **tolldata** container toosee Hallo JSON-bestand met de registratiegegevens vehicle geüpload.</span><span class="sxs-lookup"><span data-stu-id="58606-352">Click hello **tolldata** container toosee hello uploaded JSON file that has vehicle registration data.</span></span>
   
    ![Schermopname van Hallo registration.json bestand in container Hallo](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image12.png)

### <a name="azure-sql-database"></a><span data-ttu-id="58606-354">Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="58606-354">Azure SQL Database</span></span>
1. <span data-ttu-id="58606-355">Ga terug toohello Azure-portal op Hallo eerste tabblad dat in de browser Hallo is geopend.</span><span class="sxs-lookup"><span data-stu-id="58606-355">Go back toohello Azure portal on hello first tab that was opened in hello browser.</span></span> <span data-ttu-id="58606-356">Klik op **SQL-DATABASES** op Hallo linkerkant van hello Azure portal toosee Hallo SQL-database die wordt gebruikt in de zelfstudie Hallo en klikt u op **tolldatadb**.</span><span class="sxs-lookup"><span data-stu-id="58606-356">Click **SQL DATABASES** on hello left side of hello Azure portal toosee hello SQL database that will be used in hello tutorial and click **tolldatadb**.</span></span>
   
    ![Schermopname van Hallo SQL-database gemaakt](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image15.png)
2. <span data-ttu-id="58606-358">Het Hallo-servernaam kopiëren zonder Hallo-poortnummer (*servername*. database.windows.net bijvoorbeeld).</span><span class="sxs-lookup"><span data-stu-id="58606-358">Copy hello server name without hello port number (*servername*.database.windows.net, for example).</span></span>
    <span data-ttu-id="58606-359">![Schermopname van Hallo SQL database-database gemaakt](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image15a.png)</span><span class="sxs-lookup"><span data-stu-id="58606-359">![Screenshot of hello created SQL database db](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image15a.png)</span></span>

## <a name="connect-toohello-database-from-visual-studio"></a><span data-ttu-id="58606-360">Verbinding maken met toohello database vanuit Visual Studio</span><span class="sxs-lookup"><span data-stu-id="58606-360">Connect toohello database from Visual Studio</span></span>
<span data-ttu-id="58606-361">Gebruik Visual Studio tooaccess queryresultaten in Hallo Uitvoerdatabase.</span><span class="sxs-lookup"><span data-stu-id="58606-361">Use Visual Studio tooaccess query results in hello output database.</span></span>

<span data-ttu-id="58606-362">Verbinding maken met toohello SQL-database (Hallo doel) vanuit Visual Studio:</span><span class="sxs-lookup"><span data-stu-id="58606-362">Connect toohello SQL database (hello destination) from Visual Studio:</span></span>

1. <span data-ttu-id="58606-363">Open Visual Studio en klik vervolgens op **extra** > **tooDatabase verbinding**.</span><span class="sxs-lookup"><span data-stu-id="58606-363">Open Visual Studio, and then click **Tools** > **Connect tooDatabase**.</span></span>
2. <span data-ttu-id="58606-364">Als u wordt gevraagd, klikt u op **Microsoft SQL Server** als gegevensbron.</span><span class="sxs-lookup"><span data-stu-id="58606-364">If asked, click **Microsoft SQL Server** as a data source.</span></span>
   
    ![Het dialoogvenster gegevensbron wijzigen](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image16.png)
3. <span data-ttu-id="58606-366">In Hallo **servernaam** veld, plak Hallo-naam die u hebt gekopieerd in de vorige sectie Hallo uit hello Azure-portal (dat wil zeggen, *servername*. database.windows.net).</span><span class="sxs-lookup"><span data-stu-id="58606-366">In hello **Server name** field, paste hello name that you copied in hello previous section from hello Azure portal (that is, *servername*.database.windows.net).</span></span>
4. <span data-ttu-id="58606-367">Klik op **SQL Server-verificatie gebruiken**.</span><span class="sxs-lookup"><span data-stu-id="58606-367">Click **Use SQL Server Authentication**.</span></span>
5. <span data-ttu-id="58606-368">Voer **tolladmin** in Hallo **gebruikersnaam** veld en **123toll!**</span><span class="sxs-lookup"><span data-stu-id="58606-368">Enter **tolladmin** in hello **User name** field and **123toll!**</span></span> <span data-ttu-id="58606-369">in Hallo **wachtwoord** veld.</span><span class="sxs-lookup"><span data-stu-id="58606-369">in hello **Password** field.</span></span>
6. <span data-ttu-id="58606-370">Klik op **Selecteer of voer een databasenaam**, en selecteer **TollDataDB** als Hallo-database.</span><span class="sxs-lookup"><span data-stu-id="58606-370">Click **Select or enter a database name**, and select **TollDataDB** as hello database.</span></span>
   
    ![Het dialoogvenster verbinding toevoegen](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image17.jpg)
7. <span data-ttu-id="58606-372">Klik op **OK**.</span><span class="sxs-lookup"><span data-stu-id="58606-372">Click **OK**.</span></span>
8. <span data-ttu-id="58606-373">Open in Server Explorer.</span><span class="sxs-lookup"><span data-stu-id="58606-373">Open Server Explorer.</span></span>
   
    ![Server Explorer](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image18.png)
9. <span data-ttu-id="58606-375">Zie vier tabellen in Hallo TollDataDB database.</span><span class="sxs-lookup"><span data-stu-id="58606-375">See four tables in hello TollDataDB database.</span></span>
   
    ![Tabellen in Hallo TollDataDB database](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image19.jpg)

## <a name="event-generator-tollapp-sample-project"></a><span data-ttu-id="58606-377">Gebeurtenis generator: TollApp-voorbeeldproject</span><span class="sxs-lookup"><span data-stu-id="58606-377">Event generator: TollApp sample project</span></span>
<span data-ttu-id="58606-378">Hallo PowerShell-script wordt automatisch toosend gebeurtenissen met behulp van Hallo TollApp voorbeeldprogramma toepassing wordt gestart.</span><span class="sxs-lookup"><span data-stu-id="58606-378">hello PowerShell script automatically starts toosend events by using hello TollApp sample application program.</span></span> <span data-ttu-id="58606-379">U hoeft niet tooperform eventuele extra stappen.</span><span class="sxs-lookup"><span data-stu-id="58606-379">You don’t need tooperform any additional steps.</span></span>

<span data-ttu-id="58606-380">Als u geïnteresseerd in de implementatiegegevens bent, kunt u de broncode Hallo Hallo TollApp toepassing vinden in GitHub [samples/TollApp](https://aka.ms/azure-stream-analytics-toll-source).</span><span class="sxs-lookup"><span data-stu-id="58606-380">However, if you are interested in implementation details, you can find hello source code of hello TollApp application in GitHub [samples/TollApp](https://aka.ms/azure-stream-analytics-toll-source).</span></span>

![Schermopname van voorbeeldcode weergegeven in Visual Studio](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image20.png)

## <a name="create-a-stream-analytics-job"></a><span data-ttu-id="58606-382">Een Stream Analytics-taak maken</span><span class="sxs-lookup"><span data-stu-id="58606-382">Create a Stream Analytics job</span></span>
1. <span data-ttu-id="58606-383">In hello Azure-portal, klikt u op Hallo groen plusteken in Hallo linkerbovenhoek van Hallo pagina toocreate nieuwe Stream Analytics-taak.</span><span class="sxs-lookup"><span data-stu-id="58606-383">In hello Azure portal, click hello green plus sign in hello top-left corner of hello page toocreate a new Stream Analytics job.</span></span> <span data-ttu-id="58606-384">Selecteer **Intelligence en analyse** en klik vervolgens op **Stream Analytics-taak**.</span><span class="sxs-lookup"><span data-stu-id="58606-384">Select **Intelligence + Analytics** and then click **Stream Analytics job**.</span></span>
   
    ![Knop Nieuw](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image21.png)
2. <span data-ttu-id="58606-386">Geef de taaknaam van een, het valideren van Hallo abonnement juist is en maak vervolgens een nieuwe resourcegroep in Hallo dezelfde regio bevinden als Hallo Event hub-opslag (is standaard Zuid-centraal VS voor Hallo script).</span><span class="sxs-lookup"><span data-stu-id="58606-386">Provide a job name, validate hello subscription is correct and then create a new Resource group in hello same region as hello Event hub storage (default is South Central US for hello script).</span></span>
3. <span data-ttu-id="58606-387">Klik op **pincode toodashboard** en vervolgens **maken** Hallo Hallo pagina onderaan in.</span><span class="sxs-lookup"><span data-stu-id="58606-387">Click **Pin toodashboard** and then **CREATE** at hello bottom of hello page.</span></span>
   
    ![Optie voor Stream Analytics-taak maken](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image22.png)

## <a name="define-input-sources"></a><span data-ttu-id="58606-389">Invoerbronnen definiëren</span><span class="sxs-lookup"><span data-stu-id="58606-389">Define input sources</span></span>
1. <span data-ttu-id="58606-390">Hallo-taak wordt gemaakt en geopend Hallo taak pagina.</span><span class="sxs-lookup"><span data-stu-id="58606-390">hello job will create and open hello job page.</span></span> <span data-ttu-id="58606-391">U kunt ook op Hallo analytics-taak gemaakt op Hallo-portaldashboard.</span><span class="sxs-lookup"><span data-stu-id="58606-391">Or you can click hello created analytics job on hello portal dashboard.</span></span>

2. <span data-ttu-id="58606-392">Klik op Hallo **invoer** toodefine Hallo brongegevens tabblad.</span><span class="sxs-lookup"><span data-stu-id="58606-392">Click hello **INPUTS** tab toodefine hello source data.</span></span>
   
    ![Hallo invoer tabblad](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image24.png)
3. <span data-ttu-id="58606-394">Klik op **invoer toevoegen**.</span><span class="sxs-lookup"><span data-stu-id="58606-394">Click **ADD AN INPUT**.</span></span>
   
    ![Hallo een invoer-optie toevoegen](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image25.png)
4. <span data-ttu-id="58606-396">Voer **EntryStream** als **INVOERALIAS**.</span><span class="sxs-lookup"><span data-stu-id="58606-396">Enter **EntryStream** as **INPUT ALIAS**.</span></span>
5. <span data-ttu-id="58606-397">Brontype is **gegevensstroom**</span><span class="sxs-lookup"><span data-stu-id="58606-397">Source Type is **Data Stream**</span></span>
6. <span data-ttu-id="58606-398">Bron is **Event hub**.</span><span class="sxs-lookup"><span data-stu-id="58606-398">Source is **Event hub**.</span></span>
7. <span data-ttu-id="58606-399">**Service bus-naamruimte** moet Hallo TollData in Hallo vervolgkeuzelijst.</span><span class="sxs-lookup"><span data-stu-id="58606-399">**Service bus namespace** should be hello TollData one in hello drop down.</span></span>
8. <span data-ttu-id="58606-400">**Naam Event hub** te moet worden ingesteld**vermelding**.</span><span class="sxs-lookup"><span data-stu-id="58606-400">**Event hub name** should be set too**entry**.</span></span>
9. <span data-ttu-id="58606-401">**Naam Event hub beleid*is **RootManageSharedAccessKey** (Hallo standaardwaarde).</span><span class="sxs-lookup"><span data-stu-id="58606-401">**Event hub policy name*is **RootManageSharedAccessKey**  (hello default value).</span></span>
10. <span data-ttu-id="58606-402">Selecteer **JSON** voor **GEBEURTENIS SERIALISATIE-indeling** en **UTF8** voor **codering**.</span><span class="sxs-lookup"><span data-stu-id="58606-402">Select **JSON** for **EVENT SERIALIZATION FORMAT** and **UTF8** for **ENCODING**.</span></span>
   
    <span data-ttu-id="58606-403">Uw instellingen, ziet er als:</span><span class="sxs-lookup"><span data-stu-id="58606-403">Your settings will look like:</span></span>
   
    ![Event hub-instellingen](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image28.png)

10. <span data-ttu-id="58606-405">Klik op **maken** Hallo Hallo pagina toofinish Hallo wizard onderaan in.</span><span class="sxs-lookup"><span data-stu-id="58606-405">Click **Create** at hello bottom of hello page toofinish hello wizard.</span></span>
    
    <span data-ttu-id="58606-406">Nu dat u Hallo vermelding stroom hebt gemaakt, wordt u Hallo volgt dezelfde stappen toocreate Hallo afsluiten stream.</span><span class="sxs-lookup"><span data-stu-id="58606-406">Now that you've created hello entry stream, you will follow hello same steps toocreate hello exit stream.</span></span> <span data-ttu-id="58606-407">Ervoor tooenter waarden zijn als op de volgende schermafbeelding Hallo.</span><span class="sxs-lookup"><span data-stu-id="58606-407">Be sure tooenter values as on hello following screenshot.</span></span>
    
    ![Instellingen voor Hallo afsluiten stroom](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image31.png)
    
    <span data-ttu-id="58606-409">U hebt twee invoer streams gedefinieerd:</span><span class="sxs-lookup"><span data-stu-id="58606-409">You have defined two input streams:</span></span>
    
    ![Invoer streams gedefinieerd in hello Azure-portal](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image32.png)
    
    <span data-ttu-id="58606-411">Vervolgens voegt u de gegevensinvoer verwijzing voor Hallo blob-bestand met de registratiegegevens auto.</span><span class="sxs-lookup"><span data-stu-id="58606-411">Next, you will add reference data input for hello blob file that contains car registration data.</span></span>
11. <span data-ttu-id="58606-412">Klik op **toevoegen**, en volg Hallo hetzelfde proces voor Hallo stroom invoer maar selecteren **REFERENTIEGEGEVENS** in plaats van **gegevensstroom** en Hallo **invoer Alias**  is **registratie**.</span><span class="sxs-lookup"><span data-stu-id="58606-412">Click **ADD**, and then follow hello same process for hello stream inputs but select **REFERENCE DATA** instead of **Data Stream** and hello **Input Alias** is **Registration**.</span></span>

12. <span data-ttu-id="58606-413">Storage-account die met begint **tolldata**.</span><span class="sxs-lookup"><span data-stu-id="58606-413">storage account that starts with **tolldata**.</span></span> <span data-ttu-id="58606-414">Hallo-containernaam moet **tolldata**, en Hallo **pad PATROON** moet **registration.json**.</span><span class="sxs-lookup"><span data-stu-id="58606-414">hello container name should be **tolldata**, and hello **PATH PATTERN** should be **registration.json**.</span></span> <span data-ttu-id="58606-415">Deze naam is hoofdlettergevoelig en moet **kleine**.</span><span class="sxs-lookup"><span data-stu-id="58606-415">This file name is case sensitive and should be **lowercase**.</span></span>
    
    ![Instellingen voor de opslag blog](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image34.png)
13. <span data-ttu-id="58606-417">Klik op **maken** toofinish Hallo-wizard.</span><span class="sxs-lookup"><span data-stu-id="58606-417">Click **Create** toofinish hello wizard.</span></span>

<span data-ttu-id="58606-418">Nu worden alle invoer gedefinieerd.</span><span class="sxs-lookup"><span data-stu-id="58606-418">Now all inputs are defined.</span></span>

## <a name="define-output"></a><span data-ttu-id="58606-419">Uitvoer definiëren</span><span class="sxs-lookup"><span data-stu-id="58606-419">Define output</span></span>
1. <span data-ttu-id="58606-420">Selecteer op Hallo Stream Analytics-taak overzichtsvenster **uitvoer**.</span><span class="sxs-lookup"><span data-stu-id="58606-420">On hello Stream Analytics job overview pane, select **OUTPUTS**.</span></span>
   
    ![tabblad uitvoer en de optie 'Add uitvoer' Hallo](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image37.png)
2. <span data-ttu-id="58606-422">Klik op **Add**.</span><span class="sxs-lookup"><span data-stu-id="58606-422">Click **Add**.</span></span>
3. <span data-ttu-id="58606-423">Set Hallo **uitvoeraliassen** too'output' en vervolgens **Sink** te**SQL-database**.</span><span class="sxs-lookup"><span data-stu-id="58606-423">Set hello **Output alias** too'output' and then **Sink** too**SQL database**.</span></span>
3. <span data-ttu-id="58606-424">Selecteer Hallo-servernaam die is gebruikt in Hallo 'Connect tooDatabase vanuit Visual Studio' sectie Hallo artikel.</span><span class="sxs-lookup"><span data-stu-id="58606-424">Select hello server name that was used in hello “Connect tooDatabase from Visual Studio” section of hello article.</span></span> <span data-ttu-id="58606-425">Hallo-databasenaam is **TollDataDB**.</span><span class="sxs-lookup"><span data-stu-id="58606-425">hello database name is **TollDataDB**.</span></span>
4. <span data-ttu-id="58606-426">Voer **tolladmin** in Hallo **gebruikersnaam** veld **123toll!**</span><span class="sxs-lookup"><span data-stu-id="58606-426">Enter **tolladmin** in hello **USERNAME** field, **123toll!**</span></span> <span data-ttu-id="58606-427">in Hallo **wachtwoord** veld en **TollDataRefJoin** in Hallo **tabel** veld.</span><span class="sxs-lookup"><span data-stu-id="58606-427">in hello **PASSWORD** field, and **TollDataRefJoin** in hello **TABLE** field.</span></span>
   
    ![SQL Database-instellingen](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image38.png)
5. <span data-ttu-id="58606-429">Klik op **Create**.</span><span class="sxs-lookup"><span data-stu-id="58606-429">Click **Create**.</span></span>

## <a name="azure-stream-analytics-query"></a><span data-ttu-id="58606-430">Azure Stream analytics query</span><span class="sxs-lookup"><span data-stu-id="58606-430">Azure Stream analytics query</span></span>
<span data-ttu-id="58606-431">Hallo **QUERY** tabblad bevat een SQL-query of transformaties Hallo binnenkomende gegevens.</span><span class="sxs-lookup"><span data-stu-id="58606-431">hello **QUERY** tab contains a SQL query that transforms hello incoming data.</span></span>

![Een query toohello Query tabblad toegevoegd](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image39.png)

<span data-ttu-id="58606-433">Deze zelfstudie probeert verschillende bedrijfsvragen die zijn gerelateerd tootoll gegevens en constructies Stream Analytics query's die kunnen worden gebruikt in Azure Stream Analytics tooprovide tooanswer geen relevant antwoord.</span><span class="sxs-lookup"><span data-stu-id="58606-433">This tutorial attempts tooanswer several business questions that are related tootoll data and constructs Stream Analytics queries that can be used in Azure Stream Analytics tooprovide a relevant answer.</span></span>

<span data-ttu-id="58606-434">Voordat u uw eerste Stream Analytics-taak, gaan we enkele scenario's en Hallo-querysyntaxis verkennen.</span><span class="sxs-lookup"><span data-stu-id="58606-434">Before you start your first Stream Analytics job, let’s explore a few scenarios and hello query syntax.</span></span>

## <a name="introduction-tooazure-stream-analytics-query-language"></a><span data-ttu-id="58606-435">Inleiding tooAzure querytaal van Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="58606-435">Introduction tooAzure Stream Analytics query language</span></span>
- - -
<span data-ttu-id="58606-436">Stel dat u nodig hebt toocount Hallo aantal voertuigen dat een tolstation stand invoeren.</span><span class="sxs-lookup"><span data-stu-id="58606-436">Let’s say that you need toocount hello number of vehicles that enter a toll booth.</span></span> <span data-ttu-id="58606-437">Omdat dit een continue stroom van gebeurtenissen, hebt u toodefine een 'periode van tijd."</span><span class="sxs-lookup"><span data-stu-id="58606-437">Because this is a continuous stream of events, you have toodefine a “period of time.”</span></span> <span data-ttu-id="58606-438">Laten we wijzigen Hallo vraag toobe 'hoeveel voertuigen Geef een tolstation stand elke drie minuten?'.</span><span class="sxs-lookup"><span data-stu-id="58606-438">Let's modify hello question toobe “How many vehicles enter a toll booth every three minutes?”.</span></span> <span data-ttu-id="58606-439">Dit is meestal waarnaar wordt verwezen tooas hello tumbling count.</span><span class="sxs-lookup"><span data-stu-id="58606-439">This is commonly referred tooas hello tumbling count.</span></span>

<span data-ttu-id="58606-440">Bekijk hello Azure Stream Analytics query waarmee deze vraag worden beantwoord:</span><span class="sxs-lookup"><span data-stu-id="58606-440">Let’s look at hello Azure Stream Analytics query that answers this question:</span></span>

    SELECT TollId, System.Timestamp AS WindowEnd, COUNT(*) AS Count
    FROM EntryStream TIMESTAMP BY EntryTime
    GROUP BY TUMBLINGWINDOW(minute, 3), TollId

<span data-ttu-id="58606-441">Zoals u ziet, Azure Stream Analytics maakt gebruik van een querytaal die lijkt op SQL en enkele extensies toospecify tijd gerelateerde aspecten van Hallo query toegevoegd.</span><span class="sxs-lookup"><span data-stu-id="58606-441">As you can see, Azure Stream Analytics uses a query language that's like SQL and adds a few extensions toospecify time-related aspects of hello query.</span></span>

<span data-ttu-id="58606-442">Lees voor meer informatie over [Time Management](https://msdn.microsoft.com/library/azure/mt582045.aspx) en [Windowing](https://msdn.microsoft.com/library/azure/dn835019.aspx) constructies die worden gebruikt in query Hallo van MSDN.</span><span class="sxs-lookup"><span data-stu-id="58606-442">For more details, read about [Time Management](https://msdn.microsoft.com/library/azure/mt582045.aspx) and [Windowing](https://msdn.microsoft.com/library/azure/dn835019.aspx) constructs used in hello query from MSDN.</span></span>

## <a name="testing-azure-stream-analytics-queries"></a><span data-ttu-id="58606-443">Azure Stream Analytics query's testen</span><span class="sxs-lookup"><span data-stu-id="58606-443">Testing Azure Stream Analytics queries</span></span>
<span data-ttu-id="58606-444">Nu u uw eerste Azure Stream Analytics query hebt geschreven, is het tijd tootest deze met behulp van bestanden met voorbeeldgegevens in de map TollApp van Hallo pad bevindt:</span><span class="sxs-lookup"><span data-stu-id="58606-444">Now that you have written your first Azure Stream Analytics query, it is time tootest it by using sample data files located in your TollApp folder in hello following path:</span></span>

<span data-ttu-id="58606-445">**.. \\TollApp\\TollApp\\gegevens**</span><span class="sxs-lookup"><span data-stu-id="58606-445">**..\\TollApp\\TollApp\\Data**</span></span>

<span data-ttu-id="58606-446">Deze map bevat de volgende bestanden Hallo:</span><span class="sxs-lookup"><span data-stu-id="58606-446">This folder contains hello following files:</span></span>

* <span data-ttu-id="58606-447">Entry.JSON</span><span class="sxs-lookup"><span data-stu-id="58606-447">Entry.json</span></span>
* <span data-ttu-id="58606-448">Exit.JSON</span><span class="sxs-lookup"><span data-stu-id="58606-448">Exit.json</span></span>
* <span data-ttu-id="58606-449">Registration.JSON</span><span class="sxs-lookup"><span data-stu-id="58606-449">Registration.json</span></span>

## <a name="question-1-number-of-vehicles-entering-a-toll-booth"></a><span data-ttu-id="58606-450">Vraag 1: Het aantal voertuigen een tolstation stand</span><span class="sxs-lookup"><span data-stu-id="58606-450">Question 1: Number of vehicles entering a toll booth</span></span>
1. <span data-ttu-id="58606-451">Open hello Azure-portal en ga tooyour gemaakt Azure Stream Analytics-taak.</span><span class="sxs-lookup"><span data-stu-id="58606-451">Open hello Azure portal and go tooyour created Azure Stream Analytics job.</span></span> <span data-ttu-id="58606-452">Klik op Hallo **QUERY** tabblad en plak de query uit de vorige sectie Hallo.</span><span class="sxs-lookup"><span data-stu-id="58606-452">Click hello **QUERY** tab and paste query from hello previous section.</span></span>

2. <span data-ttu-id="58606-453">toovalidate deze query op de voorbeeldgegevens, Hallo uploadgegevens in Hallo EntryStream invoer door te klikken op Hallo... symbool en het selecteren van **voorbeeldgegevens uit bestand uploaden**.</span><span class="sxs-lookup"><span data-stu-id="58606-453">toovalidate this query against sample data, upload hello data into hello EntryStream input by clicking hello ... symbol and selecting **Upload sample data from file**.</span></span>

    ![Schermopname van Hallo Entry.json bestand](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image41.png)
3. <span data-ttu-id="58606-455">In Hallo deelvenster verschijnt Selecteer Hallo-bestand (Entry.json) op uw lokale computer en klik op **OK**.</span><span class="sxs-lookup"><span data-stu-id="58606-455">In hello pane that appears select hello file (Entry.json) on your local machine and click **OK**.</span></span> <span data-ttu-id="58606-456">Hallo **Test** pictogram wordt nu verlichten en worden geklikt.</span><span class="sxs-lookup"><span data-stu-id="58606-456">hello **Test** icon will now illuminate and be clickable.</span></span>
   
    ![Schermopname van Hallo Entry.json bestand](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image42.png)
3. <span data-ttu-id="58606-458">Valideren dat Hallo-uitvoer van Hallo-query is zoals verwacht:</span><span class="sxs-lookup"><span data-stu-id="58606-458">Validate that hello output of hello query is as expected:</span></span>
   
    ![Resultaten van Hallo-test](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image43.png)

## <a name="question-2-report-total-time-for-each-car-toopass-through-hello-toll-booth"></a><span data-ttu-id="58606-460">Vraag 2: De totale tijd voor elke toopass auto via Hallo tolstation stand rapporteren</span><span class="sxs-lookup"><span data-stu-id="58606-460">Question 2: Report total time for each car toopass through hello toll booth</span></span>
<span data-ttu-id="58606-461">Hallo gemiddelde tijd die zijn voor een auto-toopass via Hallo tolstation vereist helpt tooassess Hallo efficiëntie van het Hallo-proces en Hallo klantervaring.</span><span class="sxs-lookup"><span data-stu-id="58606-461">hello average time that's required for a car toopass through hello toll helps tooassess hello efficiency of hello process and hello customer experience.</span></span>

<span data-ttu-id="58606-462">totale tijd toofind hello, moet u toojoin hello EntryTime stream met Hallo ExitTime-stroom.</span><span class="sxs-lookup"><span data-stu-id="58606-462">toofind hello total time, you need toojoin hello EntryTime stream with hello ExitTime stream.</span></span> <span data-ttu-id="58606-463">U doet u mee aan Hallo stromen voor TollId en LicencePlate kolommen.</span><span class="sxs-lookup"><span data-stu-id="58606-463">You will join hello streams on TollId and LicencePlate columns.</span></span> <span data-ttu-id="58606-464">Hallo **JOIN** operator moet u tijdelijke eenheidsprofiel toospecify die beschrijft Hallo aanvaardbare tijd verschil tussen Hallo die lid zijn van gebeurtenissen.</span><span class="sxs-lookup"><span data-stu-id="58606-464">hello **JOIN** operator requires you toospecify temporal leeway that describes hello acceptable time difference between hello joined events.</span></span> <span data-ttu-id="58606-465">U gaat gebruiken **DATEDIFF** toospecify gebeurtenissen moet langer zijn dan 15 minuten van elkaar werken.</span><span class="sxs-lookup"><span data-stu-id="58606-465">You will use **DATEDIFF** function toospecify that events should be no more than 15 minutes from each other.</span></span> <span data-ttu-id="58606-466">U wordt ook van toepassing hello **DATEDIFF** functie tooexit en vermelding tijden toocompute Hallo werkelijke tijd waarop een auto in Hallo doorbrengt tolbruggen station.</span><span class="sxs-lookup"><span data-stu-id="58606-466">You will also apply hello **DATEDIFF** function tooexit and entry times toocompute hello actual time that a car spends in hello toll station.</span></span> <span data-ttu-id="58606-467">Houd er rekening mee Hallo verschil van het gebruik van Hallo **DATEDIFF** wanneer het wordt gebruikt in een **Selecteer** instructie in plaats van een **JOIN** voorwaarde.</span><span class="sxs-lookup"><span data-stu-id="58606-467">Note hello difference of hello use of **DATEDIFF** when it's used in a **SELECT** statement rather than a **JOIN** condition.</span></span>

    SELECT EntryStream.TollId, EntryStream.EntryTime, ExitStream.ExitTime, EntryStream.LicensePlate, DATEDIFF (minute , EntryStream.EntryTime, ExitStream.ExitTime) AS DurationInMinutes
    FROM EntryStream TIMESTAMP BY EntryTime
    JOIN ExitStream TIMESTAMP BY ExitTime
    ON (EntryStream.TollId= ExitStream.TollId AND EntryStream.LicensePlate = ExitStream.LicensePlate)
    AND DATEDIFF (minute, EntryStream, ExitStream ) BETWEEN 0 AND 15

1. <span data-ttu-id="58606-468">tootest deze query, update Hallo-query op Hallo **QUERY** voor Hallo-taak.</span><span class="sxs-lookup"><span data-stu-id="58606-468">tootest this query, update hello query on hello **QUERY** for hello job.</span></span> <span data-ttu-id="58606-469">Hallo-testbestand voor toevoegen **ExitStream** net als bij **EntryStream** hierboven is opgegeven.</span><span class="sxs-lookup"><span data-stu-id="58606-469">Add hello test file for **ExitStream** just like **EntryStream** was entered above.</span></span>
   
2. <span data-ttu-id="58606-470">Klik op **Test**.</span><span class="sxs-lookup"><span data-stu-id="58606-470">Click **Test**.</span></span>

3. <span data-ttu-id="58606-471">Selecteer Hallo selectievakje tootest Hallo query en bekijkt hello uitvoer:</span><span class="sxs-lookup"><span data-stu-id="58606-471">Select hello check box tootest hello query and view hello output:</span></span>
   
    ![Uitvoer van Hallo-test](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image45.png)

## <a name="question-3-report-all-commercial-vehicles-with-expired-registration"></a><span data-ttu-id="58606-473">Vraag 3: Alle commerciële voertuigen met verlopen registratie rapporteren</span><span class="sxs-lookup"><span data-stu-id="58606-473">Question 3: Report all commercial vehicles with expired registration</span></span>
<span data-ttu-id="58606-474">Azure Stream Analytics kunt statische momentopnamen van gegevens toojoin met tijdelijke gegevensstromen gebruiken.</span><span class="sxs-lookup"><span data-stu-id="58606-474">Azure Stream Analytics can use static snapshots of data toojoin with temporal data streams.</span></span> <span data-ttu-id="58606-475">toodemonstrate deze mogelijkheid, gebruik Hallo Voorbeeldvraag te volgen.</span><span class="sxs-lookup"><span data-stu-id="58606-475">toodemonstrate this capability, use hello following sample question.</span></span>

<span data-ttu-id="58606-476">Als een commerciële-medium is geregistreerd bij Hallo tolstation bedrijf, kan het Hallo tolstation stand passeren zonder te zijn gestopt voor inspectie.</span><span class="sxs-lookup"><span data-stu-id="58606-476">If a commercial vehicle is registered with hello toll company, it can pass through hello toll booth without being stopped for inspection.</span></span> <span data-ttu-id="58606-477">Gebruikt u registratie commerciële Vehicle lookup table tooidentify alle commerciële voertuigen die registraties zijn verlopen.</span><span class="sxs-lookup"><span data-stu-id="58606-477">You will use Commercial Vehicle Registration lookup table tooidentify all commercial vehicles that have expired registrations.</span></span>

```
SELECT EntryStream.EntryTime, EntryStream.LicensePlate, EntryStream.TollId, Registration.RegistrationId
FROM EntryStream TIMESTAMP BY EntryTime
JOIN Registration
ON EntryStream.LicensePlate = Registration.LicensePlate
WHERE Registration.Expired = '1'
```

<span data-ttu-id="58606-478">een query met behulp van referentiegegevens tootest, moet u een invoerbron toodefine voor Hallo verwijzingsgegevens, die u al hebt gedaan.</span><span class="sxs-lookup"><span data-stu-id="58606-478">tootest a query by using reference data, you need toodefine an input source for hello reference data, which you have done already.</span></span>

<span data-ttu-id="58606-479">tootest deze query plakken Hallo query in Hallo **QUERY** tabblad **Test**, en geef Hallo twee invoerbronnen en Hallo registratie voorbeeldgegevens en klikt u op **Test**.</span><span class="sxs-lookup"><span data-stu-id="58606-479">tootest this query, paste hello query into hello **QUERY** tab, click **Test**, and specify hello two input sources and hello registration sample data and click **Test**.</span></span>  
   
![Uitvoer van Hallo-test](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image46.png)

## <a name="start-hello-stream-analytics-job"></a><span data-ttu-id="58606-481">Hallo Stream Analytics-taak starten</span><span class="sxs-lookup"><span data-stu-id="58606-481">Start hello Stream Analytics job</span></span>
<span data-ttu-id="58606-482">Nu is het tijd toofinish Hallo configuratie en start Hallo taak.</span><span class="sxs-lookup"><span data-stu-id="58606-482">Now it's time toofinish hello configuration and start hello job.</span></span> <span data-ttu-id="58606-483">Hallo query opslaan van de vraag 3, die wordt uitvoer dat overeenkomt met schema Hallo Hallo produceren **TollDataRefJoin** uitvoertabel.</span><span class="sxs-lookup"><span data-stu-id="58606-483">Save hello query from Question 3, which will produce output that matches hello schema of hello **TollDataRefJoin** output table.</span></span>

<span data-ttu-id="58606-484">Ga toohello taak **DASHBOARD**, en klik op **START**.</span><span class="sxs-lookup"><span data-stu-id="58606-484">Go toohello job **DASHBOARD**, and click **START**.</span></span>

![Schermafbeelding van de startknop Hallo in Hallo taak dashboard](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image48.png)

<span data-ttu-id="58606-486">Hallo in het dialoogvenster dat wordt geopend wijzigen Hallo **START uitvoer** tijd te**aangepaste tijd**.</span><span class="sxs-lookup"><span data-stu-id="58606-486">In hello dialog box that opens, change hello **START OUTPUT** time too**CUSTOM TIME**.</span></span> <span data-ttu-id="58606-487">Hallo uur tooone uur vóór de huidige tijd Hallo wijzigen.</span><span class="sxs-lookup"><span data-stu-id="58606-487">Change hello hour tooone hour before hello current time.</span></span> <span data-ttu-id="58606-488">Deze wijziging zorgt ervoor dat alle gebeurtenissen van Hallo event hub worden verwerkt sinds het begin van toogenerate Hallo gebeurtenissen aan begin van de zelfstudie Hallo Hallo.</span><span class="sxs-lookup"><span data-stu-id="58606-488">This change ensures that all events from hello event hub are processed since you started toogenerate hello events at hello beginning of hello tutorial.</span></span> <span data-ttu-id="58606-489">Klik nu op Hallo **Start** knop toostart Hallo taak.</span><span class="sxs-lookup"><span data-stu-id="58606-489">Now click hello **Start** button toostart hello job.</span></span>

![Selectie van aangepaste tijd](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image49.png)

<span data-ttu-id="58606-491">Taak starten Hallo kan enkele minuten duren.</span><span class="sxs-lookup"><span data-stu-id="58606-491">Starting hello job can take a few minutes.</span></span> <span data-ttu-id="58606-492">U ziet op het hoogste niveau pagina Hallo Hallo status voor Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="58606-492">You can see hello status on hello top-level page for Stream Analytics.</span></span>

![Schermafbeelding van de status van taak Hallo Hallo](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image50.png)

## <a name="check-results-in-visual-studio"></a><span data-ttu-id="58606-494">Controleer de resultaten in Visual Studio</span><span class="sxs-lookup"><span data-stu-id="58606-494">Check results in Visual Studio</span></span>
1. <span data-ttu-id="58606-495">Open Visual Studio Server Explorer en met de rechtermuisknop op Hallo **TollDataRefJoin** tabel.</span><span class="sxs-lookup"><span data-stu-id="58606-495">Open Visual Studio Server Explorer, and right-click hello **TollDataRefJoin** table.</span></span>
2. <span data-ttu-id="58606-496">Klik op **tabelgegevens weergeven** toosee Hallo uitvoer van de taak.</span><span class="sxs-lookup"><span data-stu-id="58606-496">Click **Show Table Data** toosee hello output of your job.</span></span>
   
    ![Selectie van 'Tabelgegevens weergeven' in Server Explorer](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image51.jpg)

## <a name="scale-out-azure-stream-analytics-jobs"></a><span data-ttu-id="58606-498">Azure Stream Analytics uitbreiden met taken</span><span class="sxs-lookup"><span data-stu-id="58606-498">Scale out Azure Stream Analytics jobs</span></span>
<span data-ttu-id="58606-499">Azure Stream Analytics is ontworpen tooelastically schalen zodat deze kan grote hoeveelheden gegevens verwerken.</span><span class="sxs-lookup"><span data-stu-id="58606-499">Azure Stream Analytics is designed tooelastically scale so that it can handle a lot of data.</span></span> <span data-ttu-id="58606-500">Hello Azure Stream Analytics query kunt gebruiken een **PARTITION BY** component tootell Hallo systeem dat in deze stap wordt uitgebreid. **PartitionId** is een speciale kolom die het systeem Hallo toomatch Hallo partitie-ID van Hallo-invoer (event hub) wordt toegevoegd.</span><span class="sxs-lookup"><span data-stu-id="58606-500">hello Azure Stream Analytics query can use a **PARTITION BY** clause tootell hello system that this step will scale out. **PartitionId** is a special column that hello system adds toomatch hello partition ID of hello input (event hub).</span></span>

    SELECT TollId, System.Timestamp AS WindowEnd, COUNT(*)AS Count
    FROM EntryStream TIMESTAMP BY EntryTime PARTITION BY PartitionId
    GROUP BY TUMBLINGWINDOW(minute,3), TollId, PartitionId

1. <span data-ttu-id="58606-501">Hallo huidige taak stoppen, update Hallo-query in Hallo **QUERY** tabblad en open Hallo **instellingen** stemmen in Hallo taak dashboard.</span><span class="sxs-lookup"><span data-stu-id="58606-501">Stop hello current job, update hello query in hello **QUERY** tab, and open hello **Settings** gear in hello job dashboard.</span></span> <span data-ttu-id="58606-502">Klik op **Scale**.</span><span class="sxs-lookup"><span data-stu-id="58606-502">Click **Scale**.</span></span>
   
    <span data-ttu-id="58606-503">**STREAMING-eenheden** definiëren Hallo hoeveelheid rekenkracht die taak Hallo kan ontvangen.</span><span class="sxs-lookup"><span data-stu-id="58606-503">**STREAMING UNITS** define hello amount of compute power that hello job can receive.</span></span>
2. <span data-ttu-id="58606-504">Wijziging Hallo voor vervolgkeuzelijst van 1 6.</span><span class="sxs-lookup"><span data-stu-id="58606-504">Change hello drop down from 1 from 6.</span></span>
   
    ![Schermopname van het selecteren van 6 streaming-eenheden](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image52.png)
3. <span data-ttu-id="58606-506">Ga toohello **uitvoer** tabblad en Hallo-naam van de SQL-tabel hello te wijzigen**TollDataTumblingCountPartitioned**.</span><span class="sxs-lookup"><span data-stu-id="58606-506">Go toohello **OUTPUTS** tab and change hello name of hello SQL table too**TollDataTumblingCountPartitioned**.</span></span>

<span data-ttu-id="58606-507">Als u Hallo taak start nu kunt Azure Stream Analytics werk verdelen over meer computerresources en een betere doorvoer behalen.</span><span class="sxs-lookup"><span data-stu-id="58606-507">If you start hello job now, Azure Stream Analytics can distribute work across more compute resources and achieve better throughput.</span></span> <span data-ttu-id="58606-508">Houd er rekening mee dat Hallo TollApp toepassing ook gebeurtenissen gepartitioneerd door TollId verzendt.</span><span class="sxs-lookup"><span data-stu-id="58606-508">Please note that hello TollApp application is also sending events partitioned by TollId.</span></span>

## <a name="monitor"></a><span data-ttu-id="58606-509">Bewaken</span><span class="sxs-lookup"><span data-stu-id="58606-509">Monitor</span></span>
<span data-ttu-id="58606-510">Hallo **MONITOR** gebied bevat statistieken over Hallo taak uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="58606-510">hello **MONITOR** area contains statistics about hello running job.</span></span> <span data-ttu-id="58606-511">Eerste keer dat de configuratie is vereist toouse Hallo storage-account in Hallo dezelfde regio (naam tolstation zoals Hallo rest van dit document).</span><span class="sxs-lookup"><span data-stu-id="58606-511">First time configuration is needed toouse hello storage account in hello same region (name toll like hello rest of this document).</span></span>   

![Schermopname van monitor](media/stream-analytics-build-an-iot-solution-using-stream-analytics/monitoring.png)

<span data-ttu-id="58606-513">U hebt toegang tot **activiteitenlogboeken** vanuit Hallo taak dashboard **instellingen** ook gebied.</span><span class="sxs-lookup"><span data-stu-id="58606-513">You can access **Activity Logs** from hello job dashboard **Settings** area as well.</span></span>


## <a name="conclusion"></a><span data-ttu-id="58606-514">Conclusie</span><span class="sxs-lookup"><span data-stu-id="58606-514">Conclusion</span></span>
<span data-ttu-id="58606-515">Deze zelfstudie geïntroduceerd toohello Azure Stream Analytics-service.</span><span class="sxs-lookup"><span data-stu-id="58606-515">This tutorial introduced you toohello Azure Stream Analytics service.</span></span> <span data-ttu-id="58606-516">Deze gedemonstreerd hoe Hallo tooconfigure invoer en uitvoer voor Stream Analytics-taak.</span><span class="sxs-lookup"><span data-stu-id="58606-516">It demonstrated how tooconfigure inputs and outputs for hello Stream Analytics job.</span></span> <span data-ttu-id="58606-517">Met behulp van Hallo Tolstation gegevens scenario Hallo zelfstudie voorkomende problemen die ontstaan in de ruimte Hallo van gegevens in beweging en hoe ze kunnen worden opgelost met eenvoudige SQL-achtige query's in Azure Stream Analytics uitgelegd.</span><span class="sxs-lookup"><span data-stu-id="58606-517">Using hello Toll Data scenario, hello tutorial explained common types of problems that arise in hello space of data in motion and how they can be solved with simple SQL-like queries in Azure Stream Analytics.</span></span> <span data-ttu-id="58606-518">Hallo-zelfstudie beschreven SQL extensie constructs voor het werken met tijdelijke gegevens.</span><span class="sxs-lookup"><span data-stu-id="58606-518">hello tutorial described SQL extension constructs for working with temporal data.</span></span> <span data-ttu-id="58606-519">Deze hebt u geleerd hoe toojoin gegevensstromen, hoe tooenrich Hallo gegevensstroom met statische referentiegegevens en hoe tooscale uit een query tooachieve hogere doorvoer.</span><span class="sxs-lookup"><span data-stu-id="58606-519">It showed how toojoin data streams, how tooenrich hello data stream with static reference data, and how tooscale out a query tooachieve higher throughput.</span></span>

<span data-ttu-id="58606-520">Hoewel deze zelfstudie een goede inleiding biedt, is het niet voltooid door middel van.</span><span class="sxs-lookup"><span data-stu-id="58606-520">Although this tutorial provides a good introduction, it is not complete by any means.</span></span> <span data-ttu-id="58606-521">U vindt meer querypatronen met Hallo SAQL taal op [voorbeelden voor het algemene gebruikspatronen van de Stream Analytics Query](stream-analytics-stream-analytics-query-patterns.md).</span><span class="sxs-lookup"><span data-stu-id="58606-521">You can find more query patterns using hello SAQL language at [Query examples for common Stream Analytics usage patterns](stream-analytics-stream-analytics-query-patterns.md).</span></span>
<span data-ttu-id="58606-522">Raadpleeg toohello [onlinedocumentatie](https://azure.microsoft.com/documentation/services/stream-analytics/) toolearn meer informatie over Azure Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="58606-522">Refer toohello [online documentation](https://azure.microsoft.com/documentation/services/stream-analytics/) toolearn more about Azure Stream Analytics.</span></span>

## <a name="clean-up-your-azure-account"></a><span data-ttu-id="58606-523">Opschonen van uw Azure-account</span><span class="sxs-lookup"><span data-stu-id="58606-523">Clean up your Azure account</span></span>
1. <span data-ttu-id="58606-524">Stop Hallo Stream Analytics-taak in hello Azure-portal.</span><span class="sxs-lookup"><span data-stu-id="58606-524">Stop hello Stream Analytics job in hello Azure portal.</span></span>
   
    <span data-ttu-id="58606-525">Hallo Setup.ps1 script maakt twee event hubs en een SQL-database.</span><span class="sxs-lookup"><span data-stu-id="58606-525">hello Setup.ps1 script creates two event hubs and a SQL database.</span></span> <span data-ttu-id="58606-526">Hallo instructies help die resources achter Hallo Hallo-zelfstudie opschonen te volgen.</span><span class="sxs-lookup"><span data-stu-id="58606-526">hello following instructions help you clean up resources at hello end of hello tutorial.</span></span>
2. <span data-ttu-id="58606-527">Typ in een PowerShell-venster **.\\ CleanUp.ps1** toostart Hallo script waarmee bronnen die worden gebruikt in de zelfstudie Hallo worden verwijderd.</span><span class="sxs-lookup"><span data-stu-id="58606-527">In a PowerShell window, type **.\\Cleanup.ps1** toostart hello script that deletes resources used in hello tutorial.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="58606-528">Resources worden aangeduid met de naam van de Hallo.</span><span class="sxs-lookup"><span data-stu-id="58606-528">Resources are identified by hello name.</span></span> <span data-ttu-id="58606-529">Zorg ervoor dat u elk item zorgvuldig controleren vóór de verwijdering te bevestigen.</span><span class="sxs-lookup"><span data-stu-id="58606-529">Make sure you carefully review each item before confirming removal.</span></span>
   > 
   > 


