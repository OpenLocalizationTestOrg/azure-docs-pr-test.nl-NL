# <a name="get-started-using-azure-stream-analytics-real-time-fraud-detection"></a><span data-ttu-id="1c1bb-101">Aan de slag met Azure Stream Analytics: realtime-fraudedetectie</span><span class="sxs-lookup"><span data-stu-id="1c1bb-101">Get started using Azure Stream Analytics: Real-time fraud detection</span></span>

<span data-ttu-id="1c1bb-102">Deze zelfstudie biedt een end-to-end-afbeelding van het toouse Azure Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-102">This tutorial provides an end-to-end illustration of how toouse Azure Stream Analytics.</span></span> <span data-ttu-id="1c1bb-103">Procedures voor:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-103">You learn how to:</span></span> 

* <span data-ttu-id="1c1bb-104">Breng streaming-gebeurtenissen in een exemplaar van Azure Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-104">Bring streaming events into an instance of Azure Event Hubs.</span></span> <span data-ttu-id="1c1bb-105">In deze zelfstudie gebruikt u een app die wij verstrekken die een stream van records met metagegevens van de mobiele telefoon simuleert.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-105">In this tutorial, you'll use an app that we provide that simulates a stream of mobile-phone metadata records.</span></span>

* <span data-ttu-id="1c1bb-106">SQL-achtige Stream Analytics query's tootransform gegevens, informatie verzamelen of patronen zoekt schrijven.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-106">Write SQL-like Stream Analytics queries tootransform data, aggregating information or looking for patterns.</span></span> <span data-ttu-id="1c1bb-107">U ziet hoe toouse een query tooexamine stroom inkomende hello en aanroepen die mogelijk frauduleuze zoekt.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-107">You will see how toouse a query tooexamine hello incoming stream and look for calls that might be fraudulent.</span></span>

* <span data-ttu-id="1c1bb-108">Verzenden Hallo resultaten tooan uitvoerlocatie (opslag) die u voor extra inzichten kunt analyseren.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-108">Send hello results tooan output sink (storage) that you can analyze for additional insights.</span></span> <span data-ttu-id="1c1bb-109">In dit geval ontvangt u Hallo verdachte aanroep gegevens tooAzure Blob-opslag.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-109">In this case, you'll send hello suspicious call data tooAzure Blob storage.</span></span>

<span data-ttu-id="1c1bb-110">In deze zelfstudie gebruiken we Hallo voorbeeld van realtime-fraudedetectie, op basis van gegevens voor telefoongesprek.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-110">In  this tutorial, we use hello example of real-time fraud detection based on phone-call data.</span></span> <span data-ttu-id="1c1bb-111">Maar Hallo techniek die laten we zien is ook geschikt voor andere soorten fraude te detecteren, zoals creditcard fraude of identiteitsdiefstal.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-111">But hello technique we illustrate is also suited for other types of fraud detection, such as credit card fraud or identity theft.</span></span> 

## <a name="scenario-telecommunications-and-sim-fraud-detection-in-real-time"></a><span data-ttu-id="1c1bb-112">Scenario: Telecommunicatie en SIM fraudedetectie in realtime</span><span class="sxs-lookup"><span data-stu-id="1c1bb-112">Scenario: Telecommunications and SIM fraud detection in real time</span></span>

<span data-ttu-id="1c1bb-113">Een bedrijf telecommunicatie heeft een grote hoeveelheid gegevens naar binnenkomende oproepen.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-113">A telecommunications company has a large volume of data for incoming calls.</span></span> <span data-ttu-id="1c1bb-114">Hallo bedrijf wil toodetect frauduleuze aanroepen in realtime zodat ze kunnen klanten informeren of -service voor een bepaald aantal afgesloten.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-114">hello company wants toodetect fraudulent calls in real time so that they can notify customers or shut down service for a specific number.</span></span> <span data-ttu-id="1c1bb-115">Een type SIM fraude omvat meerdere aanroepen uit Hallo dezelfde identiteit rond Hallo dezelfde tijd maar geografisch verschillende locaties.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-115">One type of SIM fraud involves multiple calls from hello same identity around hello same time but in geographically different locations.</span></span> <span data-ttu-id="1c1bb-116">toodetect dit soort fraude, Hallo behoeften tooexamine binnenkomende phone bedrijfsgegevens en zoek naar specifieke patronen: in dit geval voor oproepen rond Hallo hetzelfde moment in andere landen.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-116">toodetect this type of fraud, hello company needs tooexamine incoming phone records and look for specific patterns—in this case, for calls made around hello same time in different countries.</span></span> <span data-ttu-id="1c1bb-117">Telefoon records die in deze categorie vallen zijn geschreven toostorage voor verdere analyse.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-117">Any phone records that fall into this category are written toostorage for subsequent analysis.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="1c1bb-118">Vereisten</span><span class="sxs-lookup"><span data-stu-id="1c1bb-118">Prerequisites</span></span>

<span data-ttu-id="1c1bb-119">In deze zelfstudie hebt u telefonische oproep gegevens met behulp van een client-app die voorbeeld telefoongesprek metagegevens genereert simuleren.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-119">In this tutorial, you'll simulate phone-call data by using a client app that generates sample phone call metadata.</span></span> <span data-ttu-id="1c1bb-120">Aantal Hallo-records die Hallo app eruit frauduleuze aanroepen produceert.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-120">Some of hello records that hello app produces look like fraudulent calls.</span></span> 

<span data-ttu-id="1c1bb-121">Zorg voordat u begint, hebt u de volgende Hallo:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-121">Before you start, make sure you have hello following:</span></span>

* <span data-ttu-id="1c1bb-122">Een Azure-account.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-122">An Azure account.</span></span>
* <span data-ttu-id="1c1bb-123">Hallo-aanroep van de gebeurtenis generator-app.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-123">hello call-event generator app.</span></span> <span data-ttu-id="1c1bb-124">U kunt dit downloaden Hallo krijgen [TelcoGenerator.zip bestand](http://download.microsoft.com/download/8/B/D/8BD50991-8D54-4F59-AB83-3354B69C8A7E/TelcoGenerator.zip) van Hallo Microsoft Download Center.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-124">You can get this by downloading hello [TelcoGenerator.zip file](http://download.microsoft.com/download/8/B/D/8BD50991-8D54-4F59-AB83-3354B69C8A7E/TelcoGenerator.zip) from hello Microsoft Download Center.</span></span> <span data-ttu-id="1c1bb-125">Pak het pakket naar een map op uw computer.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-125">Unzip this package into a folder on your computer.</span></span> <span data-ttu-id="1c1bb-126">Als u toosee Hallo broncode en Voer Hallo-app in een foutopsporingsprogramma wilt, kunt u krijgen Hallo app broncode van [GitHub](https://aka.ms/azure-stream-analytics-telcogenerator).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-126">If you want toosee hello source code and run hello app in a debugger, you can get hello app source code from [GitHub](https://aka.ms/azure-stream-analytics-telcogenerator).</span></span> 

    >[!NOTE]
    ><span data-ttu-id="1c1bb-127">Windows hello gedownloade ZIP-bestand kan tot gevolg.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-127">Windows might block hello downloaded .zip file.</span></span> <span data-ttu-id="1c1bb-128">Als u deze kan niet uitpakken, met de rechtermuisknop op het Hallo-bestand en selecteer **eigenschappen**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-128">If you can't unzip it, right-click hello file and select **Properties**.</span></span> <span data-ttu-id="1c1bb-129">Als u Hallo ziet 'dit bestand afkomstig zijn van een andere computer en mogelijk worden geblokkeerde toohelp beveiliging van deze computer'-bericht, selecteer Hallo **blokkering** optie en klik vervolgens op **toepassen**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-129">If you see hello "This file came from another computer and might be blocked toohelp protect this computer" message, select hello **Unblock** option and then click **Apply**.</span></span>

<span data-ttu-id="1c1bb-130">Als u tooexamine Hallo resultaten van Hallo Streaming Analytics-taak wilt, moet u ook een hulpprogramma voor het weergeven van Hallo inhoud van een Azure Blob Storage-container.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-130">If you want tooexamine hello results of hello Streaming Analytics job, you also need a tool for viewing hello contents of a Azure Blob Storage container.</span></span> <span data-ttu-id="1c1bb-131">Als u Visual Studio gebruikt, kunt u [Azure-Tools voor Visual Studio](https://docs.microsoft.com/en-us/azure/vs-azure-tools-storage-resources-server-explorer-browse-manage) of [Visual Studio Cloud Explorer](https://docs.microsoft.com/en-us/azure/vs-azure-tools-resources-managing-with-cloud-explorer).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-131">If you use Visual Studio, you can use [Azure Tools for Visual Studio](https://docs.microsoft.com/en-us/azure/vs-azure-tools-storage-resources-server-explorer-browse-manage) or [Visual Studio Cloud Explorer](https://docs.microsoft.com/en-us/azure/vs-azure-tools-resources-managing-with-cloud-explorer).</span></span> <span data-ttu-id="1c1bb-132">U kunt ook zelfstandige hulpprogramma's zoals installeren [Azure Opslagverkenner](http://storageexplorer.com/) of [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-132">Alternatively, you can install standalone tools like [Azure Storage Explorer](http://storageexplorer.com/) or [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span></span> 

## <a name="create-an-azure-event-hubs-tooingest-events"></a><span data-ttu-id="1c1bb-133">Een Azure event hubs tooingest gebeurtenissen maken</span><span class="sxs-lookup"><span data-stu-id="1c1bb-133">Create an Azure event hubs tooingest events</span></span>

<span data-ttu-id="1c1bb-134">een gegevensstroom tooanalyze u *opnemen* in Azure.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-134">tooanalyze a data stream, you *ingest* it into Azure.</span></span> <span data-ttu-id="1c1bb-135">Een gangbare manier tooingest-gegevens is toouse [Azure Event Hubs](../event-hubs/event-hubs-what-is-event-hubs.md), waarmee u miljoenen gebeurtenissen per seconde opnemen, en vervolgens verwerken en opslaan van informatie over de statuswijzigingsgebeurtenis Hallo.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-135">A typical way tooingest data is toouse [Azure Event Hubs](../event-hubs/event-hubs-what-is-event-hubs.md), which lets you ingest millions of events per second and then process and store hello event information.</span></span> <span data-ttu-id="1c1bb-136">Voor deze zelfstudie die u kunt een event hub maakt en vervolgens hebt Hallo aanroep gebeurtenis generator app verzenden aanroep gegevens toothat event hub.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-136">For this tutorial, you create an event hub and then have hello call-event generator app send call data toothat event hub.</span></span> <span data-ttu-id="1c1bb-137">Zie voor meer informatie over event hubs Hallo [Azure Service Bus-documentatie](https://docs.microsoft.com/en-us/azure/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-137">For more about event hubs, see hello [Azure Service Bus documentation](https://docs.microsoft.com/en-us/azure/service-bus/).</span></span>

>[!NOTE]
><span data-ttu-id="1c1bb-138">Zie voor een meer gedetailleerde versie van deze procedure [maken van een naamruimte Event Hubs en Azure-portal een event hub met Hallo](../event-hubs/event-hubs-create.md).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-138">For a more detailed version of this procedure, see [Create an Event Hubs namespace and an event hub using hello Azure portal](../event-hubs/event-hubs-create.md).</span></span> 

### <a name="create-a-namespace-and-event-hub"></a><span data-ttu-id="1c1bb-139">Een naamruimte en event hub maken</span><span class="sxs-lookup"><span data-stu-id="1c1bb-139">Create a namespace and event hub</span></span>
<span data-ttu-id="1c1bb-140">In deze procedure maakt u eerst een event hub-naamruimte maken en vervolgens voegt u een event hub toothat namepsace toe.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-140">In this procedure, you first create an event hub namespace, and then you add an event hub toothat namepsace.</span></span> <span data-ttu-id="1c1bb-141">Event hub-naamruimten worden gebruikt toologically groep gerelateerde gebeurtenis bus exemplaren.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-141">Event hub namespaces are used toologically group related event bus instances.</span></span> 

1. <span data-ttu-id="1c1bb-142">Meld u aan bij hello Azure-portal en klikt u op **nieuw** > **Internet der dingen** > **Event Hub**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-142">Log  into hello Azure portal and click **New** > **Internet of Things** > **Event Hub**.</span></span> 

2. <span data-ttu-id="1c1bb-143">In Hallo **naamruimte maken** blade, voer de naam van een naamruimte zoals `<yourname>-eh-ns-demo`.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-143">In hello **Create namespace** blade, enter a namespace name such as `<yourname>-eh-ns-demo`.</span></span> <span data-ttu-id="1c1bb-144">Kunt u een naam voor de naamruimte hello, maar Hallo-naam moet geldig zijn voor een URL en deze uniek zijn binnen Azure.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-144">You can use any name for hello namespace, but hello name must be valid for a URL and it must be unique across Azure.</span></span> 
    
3. <span data-ttu-id="1c1bb-145">Selecteer een abonnement maken of een resourcegroep kiezen, en klikt u op **maken**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-145">Select a subscription and create or choose a resource group , then click **Create**.</span></span> 

    ![Een event hub-naamruimte maken](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-eventhub-namespace-new-portal.png)
 
4. <span data-ttu-id="1c1bb-147">Wanneer het Hallo-naamruimte is voltooid implementeren, vinden Hallo event hub naamruimte in uw lijst met Azure-resources.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-147">When hello namespace has finished deploying, find hello event hub namespace in your list of Azure resources.</span></span> 

5. <span data-ttu-id="1c1bb-148">Klik op de nieuwe naamruimte Hallo en op Hallo naamruimte Blade  **+ &nbsp;Event Hub**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-148">Click hello new namespace, and in hello namespace blade, click **+&nbsp;Event Hub**.</span></span> 

    ![<span data-ttu-id="1c1bb-149">Hallo toevoegen Event Hub knop voor het maken van nieuwe event hub</span><span class="sxs-lookup"><span data-stu-id="1c1bb-149">hello Add Event Hub button for creating a new event hub</span></span> ](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-eventhub-button-new-portal.png)    
 
6. <span data-ttu-id="1c1bb-150">Naam Hallo nieuwe event hub `sa-eh-frauddetection-demo`.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-150">Name hello new event hub `sa-eh-frauddetection-demo`.</span></span> <span data-ttu-id="1c1bb-151">U kunt een andere naam gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-151">You can use a different name.</span></span> <span data-ttu-id="1c1bb-152">Als u dit doet, noteer, omdat u de naam van de hello later nodig.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-152">If you do, make a note of it, because you need hello name later.</span></span> <span data-ttu-id="1c1bb-153">U hoeft niet tooset andere opties voor Hallo event hub nu.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-153">You don't need tooset any other options for hello event hub right now.</span></span>

    ![Blade voor het maken van nieuwe event hub](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-eventhub-new-portal.png)
    
 
7. <span data-ttu-id="1c1bb-155">Klik op **Create**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-155">Click **Create**.</span></span>
### <a name="grant-access-toohello-event-hub-and-get-a-connection-string"></a><span data-ttu-id="1c1bb-156">Verleen toegang toohello event hub en een verbindingsreeks ophalen</span><span class="sxs-lookup"><span data-stu-id="1c1bb-156">Grant access toohello event hub and get a connection string</span></span>

<span data-ttu-id="1c1bb-157">Voordat een proces gegevens tooan event hub verzendt kan, moet Hallo event hub een beleid waarmee u de juiste toegang hebben.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-157">Before a process can send data tooan event hub, hello event hub must have a policy that allows appropriate access.</span></span> <span data-ttu-id="1c1bb-158">Hallo toegangsbeleid produceert een verbindingsreeks die autorisatie-informatie bevat.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-158">hello access policy produces a connection string that includes authorization information.</span></span>

1.  <span data-ttu-id="1c1bb-159">Klik op Hallo gebeurtenis naamruimte blade **Event Hubs** en klik vervolgens op Hallo-naam van uw nieuwe event hub.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-159">In hello event namespace blade, click **Event Hubs** and then click hello name of your new event hub.</span></span>

2.  <span data-ttu-id="1c1bb-160">Klik op Hallo event hubblade **gedeeld toegangsbeleid** en klik vervolgens op  **+ &nbsp;toevoegen**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-160">In hello event hub blade, click **Shared access policies** and then click **+&nbsp;Add**.</span></span>

    >[!NOTE]
    ><span data-ttu-id="1c1bb-161">Zorg ervoor dat u werkt met Hallo event hub niet Hallo event hub naamruimte.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-161">Make sure you're working with hello event hub, not hello event hub namespace.</span></span>

3.  <span data-ttu-id="1c1bb-162">Een beleid met de naam toevoegen `sa-policy-manage-demo` en voor **Claim**, selecteer **beheren**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-162">Add a policy named `sa-policy-manage-demo` and for **Claim**, select **Manage**.</span></span>

    ![Blade voor een nieuwe event hub-beleid maken](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-shared-access-policy-manage-new-portal.png)
 
4.  <span data-ttu-id="1c1bb-164">Klik op **Create**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-164">Click **Create**.</span></span>

5.  <span data-ttu-id="1c1bb-165">Nadat Hallo beleid is geïmplementeerd, klikt u op het Hallo-lijst met beleidsregels voor gedeelde toegang.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-165">After hello policy has been deployed, click it in hello list of shared access policies.</span></span>

6.  <span data-ttu-id="1c1bb-166">Hallo-zoekvak met het label **CONNECTION STRING-primaire sleutel** en klik op Hallo kopie knop volgende toohello-verbindingsreeks.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-166">Find hello box labeled **CONNECTION STRING-PRIMARY KEY** and click hello copy button next toohello connection string.</span></span> 
    
    ![Kopiëren van primaire verbindingssleutel tekenreeks Hallo van Hallo-beleid](./media/stream-analytics-real-time-fraud-detection/stream-analytics-shared-access-policy-copy-connection-string-new-portal.png)
 
7.  <span data-ttu-id="1c1bb-168">Hallo-verbindingsreeks in een teksteditor plakken.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-168">Paste hello connection string into a text editor.</span></span> <span data-ttu-id="1c1bb-169">U moet deze verbindingsreeks voor de volgende sectie hello, nadat u een aantal kleine wijzigingen tooit.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-169">You need this connection string for hello next section, after you make some small edits tooit.</span></span>

    <span data-ttu-id="1c1bb-170">Hallo-verbindingsreeks ziet er als volgt:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-170">hello connection string looks like this:</span></span>

        Endpoint=sb://YOURNAME-eh-ns-demo.servicebus.windows.net/;SharedAccessKeyName=sa-policy-manage-demo;SharedAccessKey=Gw2NFZwU1Di+rxA2T+6hJYAtFExKRXaC2oSQa0ZsPkI=;EntityPath=sa-eh-frauddetection-demo

    <span data-ttu-id="1c1bb-171">U ziet dat Hallo-verbindingsreeks meerdere sleutel / waarde-paren bevat, gescheiden door puntkomma's: `Endpoint`, `SharedAccessKeyName`, `SharedAccessKey`, en `EntityPath`.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-171">Notice that hello connection string contains multiple key-value pairs, separated with semicolons: `Endpoint`, `SharedAccessKeyName`, `SharedAccessKey`, and `EntityPath`.</span></span>  

## <a name="configure-and-start-hello-event-generator-application"></a><span data-ttu-id="1c1bb-172">Configureren en Hallo gebeurtenis generator toepassing starten</span><span class="sxs-lookup"><span data-stu-id="1c1bb-172">Configure and start hello event generator application</span></span>

<span data-ttu-id="1c1bb-173">Voordat u Hallo TelcoGenerator app, configureren u deze zo dat wordt verzonden aanroep records toohello event hub die u zojuist hebt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-173">Before you start hello TelcoGenerator app, you configure it so that it will send call records toohello event hub you just created.</span></span>

### <a name="configure-hello-telcogeneratorapp"></a><span data-ttu-id="1c1bb-174">Hallo TelcoGeneratorapp configureren</span><span class="sxs-lookup"><span data-stu-id="1c1bb-174">Configure hello TelcoGeneratorapp</span></span>

1.  <span data-ttu-id="1c1bb-175">In de editor Hallo waar u de verbindingsreeks Hallo gekopieerd Noteer Hallo `EntityPath` waarde, en verwijder vervolgens Hallo `EntityPath` paar (Vergeet niet tooremove Hallo puntkomma voorafgaande).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-175">In hello editor where you copied hello connection string, make a note of hello `EntityPath` value, and then remove hello `EntityPath` pair (don't forget tooremove hello semicolon that precedes it).</span></span> 

2.  <span data-ttu-id="1c1bb-176">Hallo map waar u Hallo TelcoGenerator.zip bestand hebt uitgepakt, Hallo telcodatagen.exe.config bestand in een teksteditor te openen.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-176">In hello folder where you unzipped hello TelcoGenerator.zip file, open hello telcodatagen.exe.config file in an editor.</span></span> <span data-ttu-id="1c1bb-177">(Er is meer dan een .config-bestand, dus zorg ervoor dat u Hallo rechts een opent)</span><span class="sxs-lookup"><span data-stu-id="1c1bb-177">(There is more than one .config file, so be sure that you open hello right one.)</span></span>

3.  <span data-ttu-id="1c1bb-178">In Hallo `<appSettings>` element dit doen:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-178">In hello `<appSettings>` element, do this:</span></span>

    * <span data-ttu-id="1c1bb-179">Hallo-waarde van Hallo `EventHubName` naam key toohello event hub (dat wil zeggen toohello waarde van Hallo entiteit pad).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-179">Set hello value of hello `EventHubName` key toohello event hub name (that is, toohello value of hello entity path).</span></span>
    * <span data-ttu-id="1c1bb-180">Hallo-waarde van Hallo `Microsoft.ServiceBus.ConnectionString` toohello verbindingsreeks sleutel.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-180">Set hello value of hello `Microsoft.ServiceBus.ConnectionString` key toohello connection string.</span></span> 

    <span data-ttu-id="1c1bb-181">Hallo `<appSettings>` sectie eruit Hallo voorbeeld te volgen.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-181">hello `<appSettings>` section will look like hello following example.</span></span> <span data-ttu-id="1c1bb-182">(Voor de duidelijkheid we Hallo regels met tekstterugloop en bepaalde tekens uit verwijderd Hallo-verificatietoken.)</span><span class="sxs-lookup"><span data-stu-id="1c1bb-182">(For clarity, we wrapped hello lines and removed some characters from hello authorization token.)</span></span>

    ![App-configuratiebestand voor de TelcoGenerator Hallo event hub en de verbindingsreeks wordt weergegeven](./media/stream-analytics-real-time-fraud-detection/stream-analytics-telcogenerator-config-file-app-settings.png)
 
4.  <span data-ttu-id="1c1bb-184">Hallo-bestand opslaan.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-184">Save hello file.</span></span> 

### <a name="start-hello-app"></a><span data-ttu-id="1c1bb-185">Hallo-app te starten</span><span class="sxs-lookup"><span data-stu-id="1c1bb-185">Start hello app</span></span>
1.  <span data-ttu-id="1c1bb-186">Open een opdrachtvenster en toohello map waarbij Hallo TelcoGenerator app uitgepakte wijzigen.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-186">Open a command window and change toohello folder where hello TelcoGenerator app is unzipped.</span></span>
2.  <span data-ttu-id="1c1bb-187">Voer Hallo volgende opdracht:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-187">Enter hello following command:</span></span>

        telcodatagen.exe 1000 .2 2

    <span data-ttu-id="1c1bb-188">Hallo-parameters zijn:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-188">hello parameters are:</span></span> 

    * <span data-ttu-id="1c1bb-189">Aantal CDR per uur.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-189">Number of CDRs per hour.</span></span> 
    * <span data-ttu-id="1c1bb-190">SIM-kaart fraude waarschijnlijkheid: Hoe vaak, als een percentage van alle aanroepen die Hallo-app moet simuleren een aanroep van frauduleuze.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-190">SIM Card Fraud Probability: How often, as a percentage of all calls, that hello app should simulate a fraudulent call.</span></span> <span data-ttu-id="1c1bb-191">Hallo waarde.2 betekent dat ongeveer 20% van Hallo aanroep records frauduleuze uitziet.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-191">hello value .2 means that about 20% of hello call records will look fraudulent.</span></span>
    * <span data-ttu-id="1c1bb-192">De duur in uren.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-192">Duration in hours.</span></span> <span data-ttu-id="1c1bb-193">Hallo aantal uren dat Hallo app moet worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-193">hello number of hours that hello app should run.</span></span> <span data-ttu-id="1c1bb-194">U kunt ook Hallo app elk gewenst moment stoppen door op Ctrl + C drukken op Hallo-opdrachtregel.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-194">You can also stop hello app any time by pressing Ctrl+C at hello command line.</span></span>

    <span data-ttu-id="1c1bb-195">Na enkele seconden begint Hallo app weergeven van telefoongesprek records op Hallo scherm, zoals het ze toohello event hub verzendt.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-195">After a few seconds, hello app starts displaying phone call records on hello screen as it sends them toohello event hub.</span></span>

<span data-ttu-id="1c1bb-196">Enkele van Hallo sleutelvelden die u in deze detectie realtime fraude toepassing gebruiken wilt zijn hello volgende:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-196">Some of hello key fields that you will be using in this real-time fraud detection application are hello following:</span></span>

|<span data-ttu-id="1c1bb-197">**Record**</span><span class="sxs-lookup"><span data-stu-id="1c1bb-197">**Record**</span></span>|<span data-ttu-id="1c1bb-198">**Definitie**</span><span class="sxs-lookup"><span data-stu-id="1c1bb-198">**Definition**</span></span>|
|----------|--------------|
|`CallrecTime`|<span data-ttu-id="1c1bb-199">Begintijd Hallo tijdstempel voor Hallo-aanroep.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-199">hello timestamp for hello call start time.</span></span> |
|`SwitchNum`|<span data-ttu-id="1c1bb-200">Hallo telefoon switch gebruikt tooconnect Hallo aanroep.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-200">hello telephone switch used tooconnect hello call.</span></span> <span data-ttu-id="1c1bb-201">In dit voorbeeld zijn Hallo switches tekenreeksen die staan voor Hallo land van oorsprong (VS, China, UK, Duitsland of Australië).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-201">For this example, hello switches are strings that represent hello country of origin (US, China, UK, Germany, or Australia).</span></span> |
|`CallingNum`|<span data-ttu-id="1c1bb-202">telefoonnummer van de aanroepfunctie Hallo Hallo.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-202">hello phone number of hello caller.</span></span> |
|`CallingIMSI`|<span data-ttu-id="1c1bb-203">Hallo International Mobile Subscriber Identity (IMSI).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-203">hello International Mobile Subscriber Identity (IMSI).</span></span> <span data-ttu-id="1c1bb-204">Dit is de unieke id van de aanroepfunctie Hallo Hallo.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-204">This is hello Unique identifier of hello caller.</span></span> |
|`CalledNum`|<span data-ttu-id="1c1bb-205">Hallo telefoonnummer van Hallo aanroep ontvanger.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-205">hello phone number of hello call recipient.</span></span> |
|`CalledIMSI`|<span data-ttu-id="1c1bb-206">International Mobile Subscriber Identity (IMSI).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-206">International Mobile Subscriber Identity (IMSI).</span></span> <span data-ttu-id="1c1bb-207">Dit is de unieke id van de Hallo van Hallo aanroep ontvanger.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-207">This is hello unique identifier of hello call recipient.</span></span> |


## <a name="create-a-stream-analytics-job-toomanage-streaming-data"></a><span data-ttu-id="1c1bb-208">Maken van een Stream Analytics-taak toomanage gegevensstromen</span><span class="sxs-lookup"><span data-stu-id="1c1bb-208">Create a Stream Analytics job toomanage streaming data</span></span>

<span data-ttu-id="1c1bb-209">Nu dat u een stream van de aanroep van gebeurtenissen hebt, kunt u een Stream Analytics-taak instellen.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-209">Now that you have a stream of call events, you can set up a Stream Analytics job.</span></span> <span data-ttu-id="1c1bb-210">Hallo taak leest gegevens van Hallo event hub die u hebt ingesteld.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-210">hello job will read data from hello event hub that you set up.</span></span> 

### <a name="create-hello-job"></a><span data-ttu-id="1c1bb-211">Hallo-taak maken</span><span class="sxs-lookup"><span data-stu-id="1c1bb-211">Create hello job</span></span> 

1. <span data-ttu-id="1c1bb-212">Klik in hello Azure-portal, op **nieuw** > **Internet der dingen** > **Stream Analytics-taak**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-212">In hello Azure portal, click **New** > **Internet of Things** > **Stream Analytics job**.</span></span>

2. <span data-ttu-id="1c1bb-213">Naam Hallo taak `sa_frauddetection_job_demo`, een abonnement, resourcegroep en locatie opgeven.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-213">Name hello job `sa_frauddetection_job_demo`, specify a subscription, resource group, and location.</span></span>

    <span data-ttu-id="1c1bb-214">Het is een goed idee tooplace Hallo taak en Hallo event hub in Hallo dezelfde regio voor optimale prestaties en doet dat niet u tootransfer gegevens tussen regio's betaalt.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-214">It's a good idea tooplace hello job and hello event hub in hello same region for best performance and so that you don't pay tootransfer data between regions.</span></span>

    ![Nieuwe Stream Analytics-taak maken](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-sa-job-new-portal.png)

3. <span data-ttu-id="1c1bb-216">Klik op **Create**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-216">Click **Create**.</span></span>

    <span data-ttu-id="1c1bb-217">Hallo-taak is gemaakt en Hallo portal geeft taakdetails weer.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-217">hello job is created and hello portal displays job details.</span></span> <span data-ttu-id="1c1bb-218">Er is niets echter nog wordt uitgevoerd, u tooconfigure Hallo taak hebben voordat deze kan worden gestart.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-218">Nothing is running yet, though—you have tooconfigure hello job before it can be started.</span></span>

### <a name="configure-job-input"></a><span data-ttu-id="1c1bb-219">Taak invoer configureren</span><span class="sxs-lookup"><span data-stu-id="1c1bb-219">Configure job input</span></span>

1. <span data-ttu-id="1c1bb-220">In het Hallo-dashboard of Hallo **alle resources** blade, zoek en selecteer Hallo `sa_frauddetection_job_demo` Stream Analytics-taak.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-220">In hello dashboard or hello **All resources** blade, find and select hello `sa_frauddetection_job_demo` Stream Analytics job.</span></span> 
2. <span data-ttu-id="1c1bb-221">In Hallo **taak topologie** sectie Hallo blade Stream Analytics-taak, klikt u op Hallo **invoer** vak.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-221">In hello **Job Topology** section of hello Stream Analytics job blade, click hello **Input** box.</span></span>

    ![Invoervak onder topologie in de blade Hallo Streaming Analytics-taak](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-input-box-new-portal.png)
 
3. <span data-ttu-id="1c1bb-223">Klik op  **+ &nbsp;toevoegen** en vult Hallo-blade met deze waarden:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-223">Click **+&nbsp;Add** and then fill out hello blade with these values:</span></span>

    * <span data-ttu-id="1c1bb-224">**Invoeralias**: Gebruik de naam van Hallo `CallStream`.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-224">**Input alias**: Use hello name `CallStream`.</span></span> <span data-ttu-id="1c1bb-225">Als u een andere naam gebruikt, noteer het omdat u hebt deze later nodig.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-225">If you use a different name, make a note of it because you'll need it later.</span></span>
    * <span data-ttu-id="1c1bb-226">**Gegevensbrontype**: Selecteer **gegevensstroom**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-226">**Source type**: Select **Data stream**.</span></span> <span data-ttu-id="1c1bb-227">(**Referentiegegevens** toostatic lookup gegevens, die u niet in deze zelfstudie gebruikt verwijst.)</span><span class="sxs-lookup"><span data-stu-id="1c1bb-227">(**Reference data** refers toostatic lookup data, which you won't use in this tutorial.)</span></span>
    * <span data-ttu-id="1c1bb-228">**Bron**: Selecteer **Event hub**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-228">**Source**: Select **Event hub**.</span></span>
    * <span data-ttu-id="1c1bb-229">**Optie importeren**: Selecteer **gebruik event hub uit het huidige abonnement**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-229">**Import option**: Select **Use event hub from current subscription**.</span></span> 
    * <span data-ttu-id="1c1bb-230">**Service bus-naamruimte**: Selecteer Hallo event hub naamruimte die u eerder hebt gemaakt (`<yourname>-eh-ns-demo`).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-230">**Service bus namespace**: Select hello event hub namespace that you created earlier (`<yourname>-eh-ns-demo`).</span></span>
    * <span data-ttu-id="1c1bb-231">**Event hub**: Selecteer Hallo event hub die u eerder hebt gemaakt (`sa-eh-frauddetection-demo`).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-231">**Event hub**: Select hello event hub that you created earlier (`sa-eh-frauddetection-demo`).</span></span>
    * <span data-ttu-id="1c1bb-232">**Naam Event hub beleid**: Selecteer Hallo-beleid dat u eerder hebt gemaakt (`sa-policy-manage-demo`).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-232">**Event hub policy name**: Select hello access policy that you created earlier (`sa-policy-manage-demo`).</span></span>

    ![Nieuwe invoer voor Streaming Analytics-taak maken](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-sa-input-new-portal.png)

4. <span data-ttu-id="1c1bb-234">Klik op **Create**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-234">Click **Create**.</span></span>

## <a name="create-queries-tootransform-real-time-data"></a><span data-ttu-id="1c1bb-235">Query's realtime gegevens tootransform maken</span><span class="sxs-lookup"><span data-stu-id="1c1bb-235">Create queries tootransform real-time data</span></span>

<span data-ttu-id="1c1bb-236">U hebt op dit moment een Stream Analytics-taak tooread instellen met een binnenkomende gegevensstroom.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-236">At this point, you have a Stream Analytics job set up tooread an incoming data stream.</span></span> <span data-ttu-id="1c1bb-237">de volgende stap Hallo is toocreate een transformatie die Hallo-gegevens in real-time analyseert.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-237">hello next step is toocreate a transformation that analyzes hello data in real time.</span></span> <span data-ttu-id="1c1bb-238">U doen dit door een query te maken.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-238">You do this by creating a query.</span></span> <span data-ttu-id="1c1bb-239">Stream Analytics ondersteunt een eenvoudig, declaratief querymodel die transformaties voor realtime-verwerking beschrijft.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-239">Stream Analytics supports a simple, declarative query model that describes transformations for real-time processing.</span></span> <span data-ttu-id="1c1bb-240">Hallo-query's een SQL-achtige taal gebruiken die een aantal specifieke toostream extensies analytics heeft.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-240">hello queries use a SQL-like language that has some extensions specific toostream analytics.</span></span> 

<span data-ttu-id="1c1bb-241">Een zeer eenvoudige query eventueel gewoon alle inkomende hello-gegevens lezen.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-241">A very simple query might simply read all hello incoming data.</span></span> <span data-ttu-id="1c1bb-242">U maken vaak echter query's die eruit voor specifieke gegevens of relaties in Hallo gegevens zien.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-242">However, you often create queries that look for specific data or for relationships in hello data.</span></span> <span data-ttu-id="1c1bb-243">In deze sectie van de zelfstudie Hallo maakt en enkele query's toolearn een aantal manieren waarop u een invoerstroom voor analyse kunt transformeren testen.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-243">In this section of hello tutorial, you will create and test several queries toolearn a few ways in which you can transform an input stream for analysis.</span></span> 

<span data-ttu-id="1c1bb-244">Hallo-query's die u hier maakt, wordt alleen Hallo getransformeerde gegevens toohello scherm weergegeven.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-244">hello queries you create here will just display hello transformed data toohello screen.</span></span> <span data-ttu-id="1c1bb-245">In een volgende sectie configureert u uitvoerlocatie en een query die Hallo getransformeerde gegevens toothat sink schrijft.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-245">In a later section, you'll configure an output sink and a query that writes hello transformed data toothat sink.</span></span>

<span data-ttu-id="1c1bb-246">toolearn meer informatie over het Hallo-taal, Zie Hallo [Azure Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/dn834998.aspx).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-246">toolearn more about hello language, see hello [Azure Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/dn834998.aspx).</span></span>

### <a name="get-sample-data-for-testing-queries"></a><span data-ttu-id="1c1bb-247">Voorbeeldgegevens ophalen voor het testen van query 's</span><span class="sxs-lookup"><span data-stu-id="1c1bb-247">Get sample data for testing queries</span></span>

<span data-ttu-id="1c1bb-248">Hallo TelcoGenerator app aanroep records toohello event hub verzendt en de Stream Analytics-taak is geconfigureerde tooread van Hallo event hub.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-248">hello TelcoGenerator app is sending call records toohello event hub, and your Stream Analytics job is configured tooread from hello event hub.</span></span> <span data-ttu-id="1c1bb-249">U kunt een query tootest Hallo taak toomake ervoor correct lezen.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-249">You can use a query tootest hello job toomake sure that it's reading correctly.</span></span> <span data-ttu-id="1c1bb-250">een query te testen in hello Azure-console, moet u voorbeeldgegevens.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-250">too test a query in hello Azure console, you need sample data.</span></span> <span data-ttu-id="1c1bb-251">Voor dit scenario moet u voorbeeldgegevens extraheren uit het Hallo-stroom die afkomstig is in Hallo event hub.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-251">For this walkthrough, you'll extract sample data from hello stream that's coming into hello event hub.</span></span>

1. <span data-ttu-id="1c1bb-252">Zorg ervoor dat Hallo TelcoGenerator app wordt uitgevoerd en aanroep records produceren.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-252">Make sure that hello TelcoGenerator app is running and producing call records.</span></span>
2. <span data-ttu-id="1c1bb-253">In de portal voor Hallo retourneren blade toohello Streaming Analytics-taak.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-253">In hello portal, return toohello Streaming Analytics job blade.</span></span> <span data-ttu-id="1c1bb-254">(Als u Hallo blade hebt gesloten, zoekt u naar `sa_frauddetection_job_demo` in Hallo **alle resources** blade.)</span><span class="sxs-lookup"><span data-stu-id="1c1bb-254">(If you closed hello blade, search for `sa_frauddetection_job_demo` in hello **All resources** blade.)</span></span>
3. <span data-ttu-id="1c1bb-255">Klik op Hallo **Query** vak.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-255">Click hello **Query** box.</span></span> <span data-ttu-id="1c1bb-256">Azure bevat Hallo invoer en uitvoer die zijn geconfigureerd voor Hallo taak en kunnen u een query maken die u kunt de invoerstroom Hallo transformeren toohello uitvoer worden verzonden.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-256">Azure lists hello inputs and outputs that are configured for hello job, and lets you create a query that lets you transform hello input stream as it is sent toohello output.</span></span>
4. <span data-ttu-id="1c1bb-257">In Hallo **Query** blade, klikt u op Hallo punten volgende toohello `CallStream` invoer- en selecteer vervolgens **voorbeeldgegevens uit de invoer**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-257">In hello **Query** blade, click hello dots next toohello `CallStream` input and then select **Sample data from input**.</span></span>

    ![Menu Opties toouse voorbeeldgegevens voor Hallo Streaming Analytics-job vermelding met 'Voorbeeldgegevens uit invoer' geselecteerd](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-sample-data-from-input.png)

    <span data-ttu-id="1c1bb-259">Hiermee opent u een blade die u opgeven hoeveel sample data tooget kunt, gedefinieerd in termen van hoe lang tooread Hallo stream invoeren.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-259">This opens a blade that lets you specify how much sample data tooget, defined in terms of how long tooread hello input stream.</span></span>

5. <span data-ttu-id="1c1bb-260">Stel **minuten** too3 en klik vervolgens op **OK**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-260">Set **Minutes** too3 and then click **OK**.</span></span> 
    
    ![Opties voor de invoerstroom hello, een steekproef met '3 minuten' geselecteerd.](./media/stream-analytics-real-time-fraud-detection/stream-analytics-input-create-sample-data.png)

    <span data-ttu-id="1c1bb-262">Azure 3 minuten aan gegevens uit de invoerstroom Hallo voorbeelden en waarschuwt u als voorbeeldgegevens Hallo gereed is.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-262">Azure samples 3 minutes' worth of data from hello input stream and notifies you when hello sample data is ready.</span></span> <span data-ttu-id="1c1bb-263">(Dit duurt even.)</span><span class="sxs-lookup"><span data-stu-id="1c1bb-263">(This takes a short while.)</span></span> 

<span data-ttu-id="1c1bb-264">Hallo voorbeeldgegevens worden tijdelijk opgeslagen en is beschikbaar tijdens het Hallo-query-venster geopend.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-264">hello sample data is stored temporarily and is available while you have hello query window open.</span></span> <span data-ttu-id="1c1bb-265">Als u Hallo query-venster sluit, Hallo voorbeeldgegevens worden genegeerd en hebt u toocreate een nieuwe set met voorbeeldgegevens.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-265">If you close hello query window, hello sample data is discarded, and you'll have toocreate a new set of sample data.</span></span> 

<span data-ttu-id="1c1bb-266">Als alternatief kunt u een .json-bestand met voorbeeldgegevens erin krijgen [vanuit GitHub](https://github.com/Azure/azure-stream-analytics/blob/master/Sample%20Data/telco.json), en vervolgens die toouse .json-bestand uploaden als u voorbeeldgegevens voor Hallo `CallStream` invoer.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-266">As an alternative, you can get a .json file that has sample data in it [from GitHub](https://github.com/Azure/azure-stream-analytics/blob/master/Sample%20Data/telco.json), and then upload that .json file toouse as sample data for hello `CallStream` input .</span></span> 

### <a name="test-using-a-pass-through-query"></a><span data-ttu-id="1c1bb-267">Testen met behulp van een Pass Through-query</span><span class="sxs-lookup"><span data-stu-id="1c1bb-267">Test using a pass-through query</span></span>

<span data-ttu-id="1c1bb-268">Als u tooarchive elke gebeurtenis wilt, kunt u een Pass Through-query tooread alle Hallo velden in de nettolading Hallo van Hallo gebeurtenis.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-268">If you want tooarchive every event, you can use a pass-through query tooread all hello fields in hello payload of hello event.</span></span>

1. <span data-ttu-id="1c1bb-269">Voer deze query in Hallo-query-venster:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-269">In hello query window, enter this query:</span></span>

        SELECT 
            *
        FROM 
            CallStream

    >[!NOTE]
    ><span data-ttu-id="1c1bb-270">Net als bij SQL, trefwoorden zijn niet hoofdlettergevoelig en maakt niet uit witruimte.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-270">As with SQL, keywords are not case sensitive, and whitespace is not significant.</span></span>

    <span data-ttu-id="1c1bb-271">In deze query `CallStream` alias is Hallo die u hebt opgegeven tijdens het maken van Hallo-invoer.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-271">In this query, `CallStream` is hello alias that you specified when you created hello input.</span></span> <span data-ttu-id="1c1bb-272">Als u een andere alias gebruikt, gebruikt u de naam.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-272">If you used a different alias, use that name instead.</span></span>

2. <span data-ttu-id="1c1bb-273">Klik op **Test**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-273">Click **Test**.</span></span>

    <span data-ttu-id="1c1bb-274">Hallo Stream Analytics-taak wordt uitgevoerd Hallo query op Hallo voorbeeldgegevens en Hallo uitvoer wordt weergegeven onder Hallo van Hallo-venster.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-274">hello Stream Analytics job runs hello query against hello sample data and displays hello output at hello bottom of hello window.</span></span> <span data-ttu-id="1c1bb-275">Weet u dat Hallo event hub en Hallo Streaming Analytics-taak juist zijn geconfigureerd.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-275">This tells you that hello event hub and hello Streaming Analytics job are configured correctly.</span></span> <span data-ttu-id="1c1bb-276">(Zoals is aangegeven, later maakt u een uitvoerlocatie die Hallo query kan gegevens te schrijven.)</span><span class="sxs-lookup"><span data-stu-id="1c1bb-276">(As noted, later you'll create an output sink that hello query can write data to.)</span></span>

    ![Stream Analytics-taak uitvoer geproduceerd, 73 records die zijn gegenereerd worden weergegeven](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output.png)

    <span data-ttu-id="1c1bb-278">Hallo kunt u het exacte aantal records dat er afhankelijk van hoeveel records zijn opgenomen in uw voorbeeld 3 minuten.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-278">hello exact number of records you see will depend on how many records were captured in your 3-minute sample.</span></span>
 
### <a name="reduce-hello-number-of-fields-using-a-column-projection"></a><span data-ttu-id="1c1bb-279">Verminder het aantal velden met behulp van een kolom projectie Hallo</span><span class="sxs-lookup"><span data-stu-id="1c1bb-279">Reduce hello number of fields using a column projection</span></span>

<span data-ttu-id="1c1bb-280">In veel gevallen hoeft uw analyse niet alle Hallo kolommen uit de invoerstroom Hallo.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-280">In many cases, your analysis doesn't need all hello columns from hello input stream.</span></span> <span data-ttu-id="1c1bb-281">U kunt een query tooproject een kleiner aantal velden dan geretourneerd in Hallo Pass Through-query.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-281">You can use a query tooproject a smaller set of returned fields than in hello pass-through query.</span></span>

1. <span data-ttu-id="1c1bb-282">Hallo-query in Hallo code-editor toohello volgende wijzigen:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-282">Change hello query in hello code editor toohello following:</span></span>

        SELECT CallRecTime, SwitchNum, CallingIMSI, CallingNum, CalledNum 
        FROM 
            CallStream

2. <span data-ttu-id="1c1bb-283">Klik op **Test** opnieuw.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-283">Click **Test** again.</span></span> 

    ![Stream Analytics-taak uitvoer geproduceerd voor projectie, met 25 records die zijn gegenereerd](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output-projection.png)
 
### <a name="count-incoming-calls-by-region-tumbling-window-with-aggregation"></a><span data-ttu-id="1c1bb-285">Aantal binnenkomende aanroepen per regio: tumblingvenster met aggregatie</span><span class="sxs-lookup"><span data-stu-id="1c1bb-285">Count incoming calls by region: Tumbling window with aggregation</span></span>

<span data-ttu-id="1c1bb-286">Stel dat u wilt dat toocount Hallo aantal binnenkomende aanroepen per regio.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-286">Suppose you want toocount hello number of incoming calls per region.</span></span> <span data-ttu-id="1c1bb-287">In het streamen van gegevens als u wilt dat tooperform statistische functies zoals telling, moet u toosegment Hallo stream in de tijdelijke eenheden (omdat het Hallo-gegevensstroom zelf is effectief eindeloze).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-287">In streaming data, when you want tooperform aggregate functions like counting, you need toosegment hello stream into temporal units (since hello data stream itself is effectively endless).</span></span> <span data-ttu-id="1c1bb-288">Hiervoor gebruikt een Streaming Analytics [venster functie](stream-analytics-window-functions.md).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-288">You do this using a Streaming Analytics [window function](stream-analytics-window-functions.md).</span></span> <span data-ttu-id="1c1bb-289">Vervolgens kunt u werken met Hallo-gegevens in dit venster als eenheid.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-289">You can then work with hello data inside that window as a unit.</span></span>

<span data-ttu-id="1c1bb-290">Voor deze transformatie die u wilt een reeks van tijdelijke windows die elkaar niet overlappen, elk venster heeft een aparte set gegevens die u kunt groeperen en statistische functie.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-290">For this transformation, you want a sequence of temporal windows that don't overlap—each window will have a discrete set of data that you can group and aggregate.</span></span> <span data-ttu-id="1c1bb-291">Dit type venster waarnaar wordt verwezen tooas is een *tumblingvenster* .</span><span class="sxs-lookup"><span data-stu-id="1c1bb-291">This type of window is referred tooas a *Tumbling window* .</span></span> <span data-ttu-id="1c1bb-292">Binnen tumblingvenster hello, krijgt u een aantal van de binnenkomende oproepen Hallo gegroepeerd op `SwitchNum`, die staat voor Hallo land waar Hallo oproep afkomstig is.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-292">Within hello Tumbling window, you can get a count of hello incoming calls grouped by `SwitchNum`, which represents hello country where hello call originated.</span></span> 

1. <span data-ttu-id="1c1bb-293">Hallo-query in Hallo code-editor toohello volgende wijzigen:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-293">Change hello query in hello code editor toohello following:</span></span>

        SELECT 
            System.Timestamp as WindowEnd, SwitchNum, COUNT(*) as CallCount 
        FROM
            CallStream TIMESTAMP BY CallRecTime 
        GROUP BY TUMBLINGWINDOW(s, 5), SwitchNum

    <span data-ttu-id="1c1bb-294">Deze query gebruikt Hallo `Timestamp By` -sleutelwoord in Hallo `FROM` component toospecify welk tijdstempelveld in Hallo stroom toouse toodefine Hallo-tumblingvenster invoer.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-294">This query uses hello `Timestamp By` keyword in hello `FROM` clause toospecify which timestamp field in hello input stream toouse toodefine hello Tumbling window.</span></span> <span data-ttu-id="1c1bb-295">In dit geval Hallo venster Hallo gegevens verdeelt in segmenten door Hallo `CallRecTime` veld in elke record.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-295">In this case, hello window divides hello data into segments by hello `CallRecTime` field in each record.</span></span> <span data-ttu-id="1c1bb-296">(Als er is geen veld is opgegeven, wordt Hallo windowing bewerking gebruikt Hallo tijd dat elke gebeurtenis op Hallo event hub binnenkomt.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-296">(If no field is specified, hello windowing operation uses hello time that each event arrives at hello event hub.</span></span> <span data-ttu-id="1c1bb-297">Zie 'Tijd tegenover toepassing aankomsttijd' in [Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-297">See "Arrival Time Vs Application Time" in [Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx).</span></span> 

    <span data-ttu-id="1c1bb-298">Hallo-projectie omvat `System.Timestamp`, die een tijdstempel voor Hallo einde van elke venster retourneert.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-298">hello projection includes `System.Timestamp`, which returns a timestamp for hello end of each window.</span></span> 

    <span data-ttu-id="1c1bb-299">toospecify dat u wilt dat een tumblingvenster toouse, gebruikt u Hallo [TUMBLINGWINDOW](https://msdn.microsoft.com/library/dn835055.aspx) functie in Hallo `GROUP BY `component.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-299">toospecify that you want toouse a Tumbling window, you use hello [TUMBLINGWINDOW](https://msdn.microsoft.com/library/dn835055.aspx) function in hello `GROUP BY `clause.</span></span> <span data-ttu-id="1c1bb-300">In de functie hello geeft u een tijdseenheid (van een microseconden tooa dag) en een venstergrootte (hoeveel units).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-300">In hello function, you specify a time unit (anywhere from a microsecond tooa day) and a window size (how many units).</span></span> <span data-ttu-id="1c1bb-301">In dit voorbeeld bestaat Hallo tumblingvenster uit 5 seconden intervallen, zodat u een telling per land voor elke vijf seconden aan aanroepen krijgt.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-301">In this example, hello Tumbling window consists of 5-second intervals, so you will get a count by country for every 5 seconds' worth of calls.</span></span>

2. <span data-ttu-id="1c1bb-302">Klik op **Test** opnieuw.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-302">Click **Test** again.</span></span> <span data-ttu-id="1c1bb-303">In Hallo resultaten, ziet u dat tijdstempels Hallo onder **WindowEnd** in stappen van 5 seconden zijn.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-303">In hello results, notice that hello timestamps under **WindowEnd** are in 5-second increments.</span></span>

    ![Stream Analytics-taak uitvoer geproduceerd voor aggregatie, met 13 records die zijn gegenereerd](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output-aggregation.png)
 
### <a name="detect-sim-fraud-using-a-self-join"></a><span data-ttu-id="1c1bb-305">Met behulp van een self-join SIM-fraude te detecteren</span><span class="sxs-lookup"><span data-stu-id="1c1bb-305">Detect SIM fraud using a self-join</span></span>

<span data-ttu-id="1c1bb-306">Bijvoorbeeld, kunnen we frauduleuze gebruik toobe aanroepen die afkomstig uit Hallo dezelfde zijn beschouwen gebruiker, maar in verschillende locaties binnen 5 seconden van elkaar.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-306">For this example, we can consider fraudulent usage toobe calls that originate from hello same user but in different locations within 5 seconds of one another.</span></span> <span data-ttu-id="1c1bb-307">Bijvoorbeeld: hello dezelfde gebruiker niet daadwerkelijk maken een aanroep van Hallo VS en Australië op Hallo hetzelfde moment.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-307">For example, hello same user can't legitimately make a call from hello US and Australia at hello same time.</span></span> 

<span data-ttu-id="1c1bb-308">toocheck voor dergelijke gevallen kunt u een self-join Hallo streaming gegevens toojoin Hallo stroom tooitself op basis van Hallo `CallRecTime` waarde.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-308">toocheck for these cases, you can use a self-join of hello streaming data toojoin hello stream tooitself based on hello `CallRecTime` value.</span></span> <span data-ttu-id="1c1bb-309">U kunt vervolgens zoeken voor aanroep registreert waar hello `CallingIMSI` waarde (hello oorspronkelijk aantal) is Hallo dezelfde, maar Hallo `SwitchNum` waarde (land van oorsprong) is niet dezelfde Hallo.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-309">You can then look for call records where hello `CallingIMSI` value (hello originating number) is hello same, but hello `SwitchNum` value (country of origin) is not hello same.</span></span>

<span data-ttu-id="1c1bb-310">Wanneer u een join gebruikt met het streamen van gegevens, moet een aantal beperkingen met betrekking tot hoe ver Hallo die overeenkomen met rijen in de tijd kunnen worden gescheiden Hallo join opgeven.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-310">When you use a join with streaming data, hello join must provide some limits on how far hello matching rows can be separated in time.</span></span> <span data-ttu-id="1c1bb-311">(Zoals eerder opgemerkt, Hallo gegevensstromen is effectief eindeloze.) Hallo tijd grenzen voor Hallo relatie worden opgegeven in de Hallo `ON` component Hallo join, met behulp van Hallo `DATEDIFF` functie.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-311">(As noted earlier, hello streaming data is effectively endless.) hello time bounds for hello relationship are specified inside hello `ON` clause of hello join, using hello `DATEDIFF` function .</span></span> <span data-ttu-id="1c1bb-312">In dit geval is Hallo join gebaseerd op een interval van 5 seconden van de van aanroepgegevens.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-312">In this case, hello join is based on a 5-second interval of call data .</span></span>

1. <span data-ttu-id="1c1bb-313">Hallo-query in Hallo code-editor toohello volgende wijzigen:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-313">Change hello query in hello code editor toohello following:</span></span> 

        SELECT  System.Timestamp as Time, 
            CS1.CallingIMSI, 
            CS1.CallingNum as CallingNum1, 
            CS2.CallingNum as CallingNum2, 
            CS1.SwitchNum as Switch1, 
            CS2.SwitchNum as Switch2 
        FROM CallStream CS1 TIMESTAMP BY CallRecTime 
            JOIN CallStream CS2 TIMESTAMP BY CallRecTime 
            ON CS1.CallingIMSI = CS2.CallingIMSI 
            AND DATEDIFF(ss, CS1, CS2) BETWEEN 1 AND 5 
        WHERE CS1.SwitchNum != CS2.SwitchNum

    <span data-ttu-id="1c1bb-314">Deze query is vergelijkbaar met een SQL-join, met uitzondering van Hallo `DATEDIFF` functie Hallo join.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-314">This query is like any SQL join except for hello `DATEDIFF` function in hello join.</span></span> <span data-ttu-id="1c1bb-315">Dit is een versie van `DATEDIFF` die specifieke tooStreaming Analytics, en deze moet worden weergegeven in Hallo `ON...BETWEEN` component.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-315">This is a version of `DATEDIFF` that's specific tooStreaming Analytics, and it must appear in hello `ON...BETWEEN` clause.</span></span> <span data-ttu-id="1c1bb-316">Hallo-parameters zijn een tijdseenheid (seconden in dit voorbeeld) en aliassen van twee bronnen voor de join Hallo HALLO hallo.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-316">hello parameters are a time unit (seconds in this example) and hello aliases of hello two sources for hello join.</span></span> <span data-ttu-id="1c1bb-317">(Dit verschilt van standaard SQL Hallo `DATEDIFF` functie.)</span><span class="sxs-lookup"><span data-stu-id="1c1bb-317">(This is different from hello standard SQL `DATEDIFF` function.)</span></span> 

    <span data-ttu-id="1c1bb-318">Hallo `WHERE` -component bevat Hallo-voorwaarde die Hallo frauduleuze aanroep vlaggen: Hallo oorspronkelijke switches zijn niet dezelfde Hallo.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-318">hello `WHERE` clause includes hello condition that flags hello fraudulent call: hello originating switches are not hello same.</span></span> 

2. <span data-ttu-id="1c1bb-319">Klik op **Test** opnieuw.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-319">Click **Test** again.</span></span> 

    ![Stream Analytics-taak uitvoer geproduceerd voor self-join, zichtbaar 6 records gegenereerd](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output-self-join.png)

3. <span data-ttu-id="1c1bb-321">Klik op **Opslaan**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-321">Click **Save**.</span></span> <span data-ttu-id="1c1bb-322">Dit bespaart Hallo zelf join-query als onderdeel van Hallo Streaming Analytics-taak.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-322">This saves hello self-join query as part of hello Streaming Analytics job.</span></span> <span data-ttu-id="1c1bb-323">(Deze kunt Hallo voorbeeldgegevens niet opslaan.)</span><span class="sxs-lookup"><span data-stu-id="1c1bb-323">(It doesn't save hello sample data.)</span></span>

    ![Opslaan van Stream Analytics-taak](./media/stream-analytics-real-time-fraud-detection/stream-analytics-query-editor-save-button-new-portal.png)

## <a name="create-an-output-sink-toostore-transformed-data"></a><span data-ttu-id="1c1bb-325">Maken van een toostore getransformeerd uitvoergegevens van de sink</span><span class="sxs-lookup"><span data-stu-id="1c1bb-325">Create an output sink toostore transformed data</span></span>

<span data-ttu-id="1c1bb-326">U hebt een stroom gebeurtenissen, een event hub invoer tooingest gebeurtenissen en een query tooperform een transformatie gedefinieerd via Hallo-stroom.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-326">You've defined an event stream, an event hub input tooingest events, and a query tooperform a transformation over hello stream.</span></span> <span data-ttu-id="1c1bb-327">de laatste stap Hallo is toodefine uitvoerlocatie voor Hallo taak — dat wil zeggen, een plaats toowrite Hallo stroom moet worden omgezet.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-327">hello last step is toodefine an output sink for hello job—that is, a place toowrite hello transformed stream to.</span></span> 

<span data-ttu-id="1c1bb-328">U kunt veel resources gebruiken als uitvoer put: een SQL Server-database, -tabelopslag Data Lake storage, Power BI en zelfs een ander event hub.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-328">You can use many resources as output sinks—a SQL Server database, table storage, Data Lake storage, Power BI, and even another event hub.</span></span> <span data-ttu-id="1c1bb-329">Voor deze zelfstudie schrijft u Hallo stroom tooAzure Blob-opslag een typische keuze is voor het verzamelen van gebeurtenisgegevens voor latere analyse, omdat het is geschikt voor niet-gestructureerde gegevens.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-329">For this tutorial, you'll write hello stream tooAzure Blob Storage, which is a typical choice for collecting event information for later analysis, since it accommodates unstructured data .</span></span>

<span data-ttu-id="1c1bb-330">Als u een bestaande blob storage-account hebt, kunt u die kunt gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-330">If you have an existing blob storage account, you can use that.</span></span> <span data-ttu-id="1c1bb-331">Voor deze zelfstudie leert u hoe toocreate een nieuwe opslag account alleen voor deze zelfstudie.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-331">For this tutorial, we'll show you how toocreate a new storage account just for this tutorial.</span></span>

### <a name="create-an-azure-blob-storage-account"></a><span data-ttu-id="1c1bb-332">Een Azure Blob Storage-account maken</span><span class="sxs-lookup"><span data-stu-id="1c1bb-332">Create an Azure Blob Storage account</span></span>

1. <span data-ttu-id="1c1bb-333">In de Azure-portal hello, retourneren blade toohello Streaming Analytics-taak.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-333">In hello Azure portal, return toohello Streaming Analytics job blade.</span></span> <span data-ttu-id="1c1bb-334">(Als u Hallo blade hebt gesloten, zoekt u naar `sa_frauddetection_job_demo` in Hallo **alle resources** blade.)</span><span class="sxs-lookup"><span data-stu-id="1c1bb-334">(If you closed hello blade, search for `sa_frauddetection_job_demo` in hello **All resources** blade.)</span></span>
2. <span data-ttu-id="1c1bb-335">In Hallo **taak topologie** sectie, klikt u op Hallo **uitvoer** vak.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-335">In hello **Job Topology** section, click hello **Output** box.</span></span> 
3. <span data-ttu-id="1c1bb-336">In Hallo **uitvoer** blade, klikt u op  **+ &nbsp;toevoegen** en vult Hallo-blade met deze waarden:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-336">In hello **Outputs** blade, click **+&nbsp;Add** and then fill out hello blade with these values:</span></span>

    * <span data-ttu-id="1c1bb-337">**Uitvoeraliassen**: Gebruik de naam van Hallo `CallStream-FraudulentCalls`.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-337">**Output alias**: Use hello name `CallStream-FraudulentCalls`.</span></span> 
    * <span data-ttu-id="1c1bb-338">**Sink**: Selecteer **Blob storage**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-338">**Sink**: Select **Blob storage**.</span></span>
    * <span data-ttu-id="1c1bb-339">**Opties voor het importeren**: Selecteer **gebruik blob storage uit het huidige abonnement**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-339">**Import options**: Select **Use blob storage from current subscription**.</span></span>
    * <span data-ttu-id="1c1bb-340">**Storage-account**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-340">**Storage account**.</span></span> <span data-ttu-id="1c1bb-341">Selecteer **nieuw opslagaccount maken.**</span><span class="sxs-lookup"><span data-stu-id="1c1bb-341">Select **Create new storage account.**</span></span>
    * <span data-ttu-id="1c1bb-342">**Storage-account** (tweede vak).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-342">**Storage account** (second box).</span></span> <span data-ttu-id="1c1bb-343">Voer `YOURNAMEsademo`, waarbij `YOURNAME` uw naam of een andere unieke tekenreeks is.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-343">Enter `YOURNAMEsademo`, where `YOURNAME` is your name or another unique string.</span></span> <span data-ttu-id="1c1bb-344">Hallo-naam kan gebruiken die alleen kleine letters en cijfers en deze uniek zijn binnen Azure.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-344">hello name can use only lowercase letters and numbers, and it must be unique across Azure.</span></span> 
    * <span data-ttu-id="1c1bb-345">**Container**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-345">**Container**.</span></span> <span data-ttu-id="1c1bb-346">Voer `sa-fraudulentcalls-demo`.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-346">Enter `sa-fraudulentcalls-demo`.</span></span>
    <span data-ttu-id="1c1bb-347">Hallo opslagaccountnaam- en containernaam zijn gebruikte samen tooprovide een URI voor Hallo blob storage als volgt:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-347">hello storage account name and container name are used together tooprovide a URI for hello blob storage, like this:</span></span> 

    `http://yournamesademo.blob.core.windows.net/sa-fraudulentcalls-demo/...`
    
    !['Nieuw uitvoer' blade voor Stream Analytics-taak](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-output-blob-storage-new-console.png)
    
4. <span data-ttu-id="1c1bb-349">Klik op **Create**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-349">Click **Create**.</span></span> 

    <span data-ttu-id="1c1bb-350">Azure storage-account Hallo maakt en genereert een sleutel automatisch.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-350">Azure creates hello storage account and generates a key automatically.</span></span> 

5. <span data-ttu-id="1c1bb-351">Sluit Hallo **uitvoer** blade.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-351">Close hello **Outputs** blade.</span></span> 

## <a name="start-hello-streaming-analytics-job"></a><span data-ttu-id="1c1bb-352">Hallo Streaming Analytics-taak starten</span><span class="sxs-lookup"><span data-stu-id="1c1bb-352">Start hello Streaming Analytics job</span></span>

<span data-ttu-id="1c1bb-353">Hallo-taak is nu geconfigureerd.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-353">hello job is now configured.</span></span> <span data-ttu-id="1c1bb-354">U hebt opgegeven invoer (Hallo event hub), een transformatie (Hallo query toolook voor frauduleuze aanroepen) en uitvoer (blobopslag).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-354">You've specified an input (hello event hub), a transformation (hello query toolook for fraudulent calls), and an output (blob storage).</span></span> <span data-ttu-id="1c1bb-355">U kunt nu Hallo taak starten.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-355">You can now start hello job.</span></span> 

1. <span data-ttu-id="1c1bb-356">Zorg ervoor dat Hallo TelcoGenerator app wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-356">Make sure hello TelcoGenerator app is running.</span></span>

2. <span data-ttu-id="1c1bb-357">Klik op Hallo taakblade **Start**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-357">In hello job blade, click **Start**.</span></span>

    ![Hallo Stream Analytics-taak starten](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-start-output.png)

3. <span data-ttu-id="1c1bb-359">In Hallo **starttaak** blade voor de taak uitvoer begintijd, selecteer **nu**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-359">In hello **Start job** blade, for Job output start time, select **Now**.</span></span> 

4. <span data-ttu-id="1c1bb-360">Klik op **Start**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-360">Click **Start**.</span></span> 

    ![Blade 'Start de taak' voor Hallo Stream Analytics-taak](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-start-job-blade.png)

    <span data-ttu-id="1c1bb-362">Azure waarschuwt u als Hallo-taak is gestart en Hallo taak blade Hallo status wordt weergegeven als **met**.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-362">Azure notifies you when hello job has started, and in hello job blade, hello status is displayed as **Running**.</span></span>

    ![Stream Analytics-taakstatus 'Actief' wordt weergegeven](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-running-status.png)
    

## <a name="examine-hello-transformed-data"></a><span data-ttu-id="1c1bb-364">Hallo getransformeerd gegevens controleren</span><span class="sxs-lookup"><span data-stu-id="1c1bb-364">Examine hello transformed data</span></span>

<span data-ttu-id="1c1bb-365">U hebt nu een volledige Streaming Analytics-taak.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-365">You now have a complete Streaming Analytics job.</span></span> <span data-ttu-id="1c1bb-366">Hallo-taak is vindt u in een stream van telefoongesprek metagegevens van frauduleuze telefoongesprekken in realtime zoekt en schrijven van informatie over deze toostorage frauduleuze aanroepen.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-366">hello job is examining a stream of phone call metadata, looking for fraudulent phone calls in real time, and writing information about those fraudulent calls toostorage.</span></span> 

<span data-ttu-id="1c1bb-367">toocomplete in deze zelfstudie kunt u toolook Hallo gegevens wordt vastgelegd door Hallo Streaming Analytics-taak.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-367">toocomplete this tutorial, you might want toolook at hello data being captured by hello Streaming Analytics job.</span></span> <span data-ttu-id="1c1bb-368">Hallo gegevens wordt tooAzure Blog opslag geschreven in segmenten (bestanden).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-368">hello data is being written tooAzure Blog Storage in chunks (files).</span></span> <span data-ttu-id="1c1bb-369">U kunt elk hulpprogramma dat Azure Blob Storage gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-369">You can use any tool that reads Azure Blob Storage.</span></span> <span data-ttu-id="1c1bb-370">Zoals beschreven in de sectie vereisten hello, kunt u Azure-extensies in Visual Studio of kunt u een hulpprogramma zoals [Azure Opslagverkenner](http://storageexplorer.com/) of [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-370">As noted in hello Prerequisites section, you can use Azure extensions in Visual Studio, or you can use a tool like [Azure Storage Explorer](http://storageexplorer.com/) or [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span></span> 

<span data-ttu-id="1c1bb-371">Wanneer u hello inhoud van een bestand in blob storage bekijkt, weergegeven dat lijkt op Hallo volgende:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-371">When you examine hello contents of a file in blob storage, you see something like hello following :</span></span>

![Azure blob storage met Streaming Analytics-uitvoer](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-blob-storage-view.png)
 

## <a name="clean-up-resources"></a><span data-ttu-id="1c1bb-373">Resources opschonen</span><span class="sxs-lookup"><span data-stu-id="1c1bb-373">Clean up resources</span></span>

<span data-ttu-id="1c1bb-374">We hebben meer artikelen die doorgaan met Hallo detecteren van fraude scenario en die Hallo bronnen gebruiken die u in deze zelfstudie hebt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-374">We have additional articles that continue with hello fraud-detection scenario and that use hello resources that you've created in this tutorial.</span></span> <span data-ttu-id="1c1bb-375">Als u toocontinue wilt, raadpleegt u suggesties Hallo onder **Vervolgstappen** later.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-375">If you want toocontinue, see hello suggestions under **Next steps** later.</span></span>

<span data-ttu-id="1c1bb-376">Als u bent klaar en u hoeft niet Hallo-resources die u hebt gemaakt, kunt u echter verwijderen ze zodat u geen onnodige Azure kosten.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-376">However, if you're done and you don't need hello resources you've created, you can delete them so that you don't incur unnecessary Azure charges.</span></span> <span data-ttu-id="1c1bb-377">In dat geval is het raadzaam dat u Hallo te volgen:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-377">In that case, we suggest that you do hello following:</span></span>

1. <span data-ttu-id="1c1bb-378">Hallo Streaming Analytics-taak stoppen.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-378">Stop hello Streaming Analytics job.</span></span> <span data-ttu-id="1c1bb-379">In Hallo **taken** blade, klikt u op **stoppen** Hallo bovenaan.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-379">In hello **Jobs** blade, click **Stop** at hello top.</span></span>
2. <span data-ttu-id="1c1bb-380">Hallo Telco Generator app stoppen.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-380">Stop hello Telco Generator app.</span></span> <span data-ttu-id="1c1bb-381">Hallo-opdrachtvenster waar u Hallo app gestart, klikt u op Ctrl + C.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-381">In hello command window where you started hello app, press Ctrl+C.</span></span>
3. <span data-ttu-id="1c1bb-382">Als u een blob storage-account voor deze zelfstudie hebt gemaakt, verwijderen.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-382">If you created a new blob storage account just for this tutorial, delete it.</span></span> 
4. <span data-ttu-id="1c1bb-383">Hallo Streaming Analytics-taak verwijderen.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-383">Delete hello Streaming Analytics job.</span></span>
5. <span data-ttu-id="1c1bb-384">Verwijder Hallo event hub.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-384">Delete hello event hub.</span></span>
6. <span data-ttu-id="1c1bb-385">Hallo event hub-naamruimte verwijderd.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-385">Delete hello event hub namespace.</span></span>

## <a name="get-support"></a><span data-ttu-id="1c1bb-386">Ondersteuning krijgen</span><span class="sxs-lookup"><span data-stu-id="1c1bb-386">Get support</span></span>

<span data-ttu-id="1c1bb-387">Voor verdere hulp kunt u proberen onze [Azure Stream Analytics-forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-387">For further assistance, try our [Azure Stream Analytics forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span></span>

## <a name="next-steps"></a><span data-ttu-id="1c1bb-388">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="1c1bb-388">Next steps</span></span>

<span data-ttu-id="1c1bb-389">Deze zelfstudie kunt u doorgaan met de Hallo artikelen te volgen:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-389">You can continue this tutorial with hello following articles:</span></span>

* <span data-ttu-id="1c1bb-390">[Stream Analytics en Power BI: een realtime analytics-dashboard voor het streamen van gegevens](stream-analytics-power-bi-dashboard.md).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-390">[Stream Analytics and Power BI: A real-time analytics dashboard for streaming data](stream-analytics-power-bi-dashboard.md).</span></span> <span data-ttu-id="1c1bb-391">Dit artikel laat zien hoe toosend Hallo TelCo uitvoer van de Stream Analytics Hallo taak tooPower BI voor realtime visualisatie en analyse.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-391">This article shows you how toosend hello TelCo output of hello Stream Analytics job tooPower BI for real-time visualization and analysis.</span></span>
* <span data-ttu-id="1c1bb-392">[Hoe toostore gegevens uit Azure Stream Analytics in een Azure Redis-Cache met behulp van Azure Functions](stream-analytics-functions-redis.md).</span><span class="sxs-lookup"><span data-stu-id="1c1bb-392">[How toostore data from Azure Stream Analytics in an Azure Redis Cache using Azure Functions](stream-analytics-functions-redis.md).</span></span> <span data-ttu-id="1c1bb-393">Dit artikel laat zien hoe toouse Azure Functions toowrite frauduleuze tooan Azure Redis-cache via een Service Bus-wachtrij aanroept.</span><span class="sxs-lookup"><span data-stu-id="1c1bb-393">This article shows how toouse Azure Functions toowrite fraudulent calls tooan Azure Redis cache via a Service Bus queue.</span></span>

<span data-ttu-id="1c1bb-394">Voor meer informatie over Stream Analytics in het algemeen proberen deze artikelen:</span><span class="sxs-lookup"><span data-stu-id="1c1bb-394">For more information about Stream Analytics in general, try these articles:</span></span>

* [<span data-ttu-id="1c1bb-395">Inleiding tooAzure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="1c1bb-395">Introduction tooAzure Stream Analytics</span></span>](stream-analytics-introduction.md)
* [<span data-ttu-id="1c1bb-396">Azure Stream Analytics-taken schalen</span><span class="sxs-lookup"><span data-stu-id="1c1bb-396">Scale Azure Stream Analytics jobs</span></span>](stream-analytics-scale-jobs.md)
* [<span data-ttu-id="1c1bb-397">Naslaggids voor Azure Stream Analytics Query</span><span class="sxs-lookup"><span data-stu-id="1c1bb-397">Azure Stream Analytics Query Language Reference</span></span>](https://msdn.microsoft.com/library/azure/dn834998.aspx)
* [<span data-ttu-id="1c1bb-398">REST API-naslaggids voor Azure Stream Analytics Management</span><span class="sxs-lookup"><span data-stu-id="1c1bb-398">Azure Stream Analytics Management REST API Reference</span></span>](https://msdn.microsoft.com/library/azure/dn835031.aspx)
