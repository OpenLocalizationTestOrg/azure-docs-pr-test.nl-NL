---
title: Toegang tot API voor Azure Media Services met Azure Active Directory-verificatie | Microsoft Docs
description: "Meer informatie over concepten en stappen voor het gebruik van Azure Active Directory (Azure AD) verifiëren van toegang tot de API van Azure Media Services."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/17/2017
ms.author: juliako
ms.openlocfilehash: 0e1217afb0a37353793c64ae927b741d9fee4954
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/29/2017
---
# <a name="access-the-azure-media-services-api-with-azure-ad-authentication"></a><span data-ttu-id="31459-103">Toegang tot de API van Azure Media Services met Azure AD-verificatie</span><span class="sxs-lookup"><span data-stu-id="31459-103">Access the Azure Media Services API with Azure AD authentication</span></span>
 
<span data-ttu-id="31459-104">De API van Azure Media Services is een RESTful-API.</span><span class="sxs-lookup"><span data-stu-id="31459-104">The Azure Media Services API is a RESTful API.</span></span> <span data-ttu-id="31459-105">U kunt deze bewerkingen uitvoeren op mediabronnen met behulp van een REST-API of met behulp van de beschikbare client-SDK's.</span><span class="sxs-lookup"><span data-stu-id="31459-105">You can use it to perform operations on media resources by using a REST API or by using available client SDKs.</span></span> <span data-ttu-id="31459-106">Azure Media Services biedt een Media Services-client-SDK voor .NET voor Microsoft.</span><span class="sxs-lookup"><span data-stu-id="31459-106">Azure Media Services offers a Media Services client SDK for Microsoft .NET.</span></span> <span data-ttu-id="31459-107">Als u wilt worden gemachtigd voor toegang tot Media Services-resources en de Media Services-API, moet u eerst worden geverifieerd.</span><span class="sxs-lookup"><span data-stu-id="31459-107">To be authorized to access Media Services resources and the Media Services API, you must first be authenticated.</span></span> 

<span data-ttu-id="31459-108">Media Services ondersteunt [Azure Active Directory (Azure AD)-gebaseerde verificatie](../active-directory/active-directory-whatis.md).</span><span class="sxs-lookup"><span data-stu-id="31459-108">Media Services supports [Azure Active Directory (Azure AD)-based authentication](../active-directory/active-directory-whatis.md).</span></span> <span data-ttu-id="31459-109">De service Azure Media REST vereist dat de gebruiker of toepassing die de REST-API maakt aanvragen hebben ofwel de **Inzender** of **eigenaar** rol voor toegang tot de bronnen.</span><span class="sxs-lookup"><span data-stu-id="31459-109">The Azure Media REST service requires that the user or application that makes the REST API requests have either the **Contributor** or **Owner** role to access the resources.</span></span> <span data-ttu-id="31459-110">Zie voor meer informatie [aan de slag met toegangsbeheer op basis van rollen in Azure portal](../active-directory/role-based-access-control-what-is.md).</span><span class="sxs-lookup"><span data-stu-id="31459-110">For more information, see [Get started with Role-Based Access Control in the Azure portal](../active-directory/role-based-access-control-what-is.md).</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="31459-111">Media Services ondersteunt momenteel, het model van Azure Access Control service-verificatie.</span><span class="sxs-lookup"><span data-stu-id="31459-111">Currently, Media Services supports the Azure Access Control service authentication model.</span></span> <span data-ttu-id="31459-112">Access Control-autorisatie wordt echter op 1 juni 2018 afgeschaft.</span><span class="sxs-lookup"><span data-stu-id="31459-112">However, Access Control authorization will be deprecated on June 1, 2018.</span></span> <span data-ttu-id="31459-113">Het is raadzaam om te migreren naar het model van Azure AD authentication zo snel mogelijk.</span><span class="sxs-lookup"><span data-stu-id="31459-113">We recommend that you migrate to the Azure AD authentication model as soon as possible.</span></span>

<span data-ttu-id="31459-114">Dit document bevat een overzicht van hoe u toegang tot de Media Services-API met REST- of .NET API's.</span><span class="sxs-lookup"><span data-stu-id="31459-114">This document gives an overview of how to access the Media Services API by using REST or .NET APIs.</span></span>

## <a name="access-control"></a><span data-ttu-id="31459-115">Toegangsbeheer</span><span class="sxs-lookup"><span data-stu-id="31459-115">Access control</span></span>

<span data-ttu-id="31459-116">Azure Media REST voor de aanvraag mislukt, moet de aanvragende gebruiker een rol Inzender of -eigenaar voor deze probeert te krijgen tot het Media Services-account hebben.</span><span class="sxs-lookup"><span data-stu-id="31459-116">For the Azure Media REST request to succeed, the calling user must have a Contributor or Owner role for the Media Services account it is trying to access.</span></span>  
<span data-ttu-id="31459-117">Alleen een gebruiker met de rol van eigenaar kan media resource (account) toegang geven tot nieuwe gebruikers- of -apps.</span><span class="sxs-lookup"><span data-stu-id="31459-117">Only a user with the Owner role can give media resource (account) access to new users or apps.</span></span> <span data-ttu-id="31459-118">De rol Inzender hebben toegang tot alleen de mediabron.</span><span class="sxs-lookup"><span data-stu-id="31459-118">The Contributor role can access only the media resource.</span></span>
<span data-ttu-id="31459-119">Ongeautoriseerde aanvragen mislukt met de statuscode 401.</span><span class="sxs-lookup"><span data-stu-id="31459-119">Unauthorized requests fail, with status code of 401.</span></span> <span data-ttu-id="31459-120">Als u deze foutcode ziet, controleert u of de gebruiker de rol van inzender of -eigenaar voor Media Services-account van de gebruiker heeft.</span><span class="sxs-lookup"><span data-stu-id="31459-120">If you see this error code, check whether your user has the Contributor or Owner role assigned for the user's Media Services account.</span></span> <span data-ttu-id="31459-121">U kunt dit controleren in de Azure portal.</span><span class="sxs-lookup"><span data-stu-id="31459-121">You can check this in the Azure portal.</span></span> <span data-ttu-id="31459-122">Zoeken naar uw media-account en klik vervolgens op de **toegangsbeheer** tabblad.</span><span class="sxs-lookup"><span data-stu-id="31459-122">Search for your media account, and then click the **Access control** tab.</span></span> 

![Access control-tabblad](./media/media-services-use-aad-auth-to-access-ams-api/media-services-access-control.png)

## <a name="types-of-authentication"></a><span data-ttu-id="31459-124">Typen verificatie</span><span class="sxs-lookup"><span data-stu-id="31459-124">Types of authentication</span></span> 
 
<span data-ttu-id="31459-125">Wanneer u Azure AD-verificatie met Azure Media Services gebruikt, hebt u twee opties voor verificatie:</span><span class="sxs-lookup"><span data-stu-id="31459-125">When you use Azure AD authentication with Azure Media Services, you have two authentication options:</span></span>

- <span data-ttu-id="31459-126">**Gebruikersverificatie**.</span><span class="sxs-lookup"><span data-stu-id="31459-126">**User authentication**.</span></span> <span data-ttu-id="31459-127">Verifiëren van een persoon die de app wordt gebruikt om te communiceren met Media Services-resources.</span><span class="sxs-lookup"><span data-stu-id="31459-127">Authenticate a person who is using the app to interact with Media Services resources.</span></span> <span data-ttu-id="31459-128">De interactieve toepassing moet eerst de gebruiker gevraagd om referenties van de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="31459-128">The interactive application should first prompt the user for the user's credentials.</span></span> <span data-ttu-id="31459-129">Een voorbeeld is een management console-app gebruikt door gemachtigde gebruikers codering taken bewaken of live streamen.</span><span class="sxs-lookup"><span data-stu-id="31459-129">An example is a management console app used by authorized users to monitor encoding jobs or live streaming.</span></span> 
- <span data-ttu-id="31459-130">**Verificatie van de service-principal**.</span><span class="sxs-lookup"><span data-stu-id="31459-130">**Service principal authentication**.</span></span> <span data-ttu-id="31459-131">Een service verifiëren.</span><span class="sxs-lookup"><span data-stu-id="31459-131">Authenticate a service.</span></span> <span data-ttu-id="31459-132">Toepassingen die gebruikmaken van deze verificatiemethode vaak zijn apps die daemon-services, middelste laag services of geplande taken worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="31459-132">Applications that commonly use this authentication method are apps that run daemon services, middle-tier services, or scheduled jobs.</span></span> <span data-ttu-id="31459-133">Voorbeelden zijn web-apps, apps van de functie logic apps, API en microservices.</span><span class="sxs-lookup"><span data-stu-id="31459-133">Examples are web apps, function apps, logic apps, API, and microservices.</span></span>

### <a name="user-authentication"></a><span data-ttu-id="31459-134">Gebruikersverificatie</span><span class="sxs-lookup"><span data-stu-id="31459-134">User authentication</span></span> 

<span data-ttu-id="31459-135">Toepassingen die gebruikmaken van de verificatiemethode voor de gebruiker moeten zijn management of systeemeigen apps bewaking: mobiele apps, Windows-apps en toepassingen van de Console.</span><span class="sxs-lookup"><span data-stu-id="31459-135">Applications that should use the user authentication method are management or monitoring native apps: mobile apps, Windows apps, and Console applications.</span></span> <span data-ttu-id="31459-136">Dit type oplossing is handig als u wilt dat menselijke tussenkomst met de service in een van de volgende scenario's:</span><span class="sxs-lookup"><span data-stu-id="31459-136">This type of solution is useful when you want human interaction with the service in one of the following scenarios:</span></span>

- <span data-ttu-id="31459-137">Dashboard voor uw codering taken bewaken.</span><span class="sxs-lookup"><span data-stu-id="31459-137">Monitoring dashboard for your encoding jobs.</span></span>
- <span data-ttu-id="31459-138">Het bewakingsdashboard voor uw live-stromen.</span><span class="sxs-lookup"><span data-stu-id="31459-138">Monitoring dashboard for your live streams.</span></span>
- <span data-ttu-id="31459-139">Management-toepassing voor pc's of mobiele gebruikers voor het beheren van resources in een Media Services-account.</span><span class="sxs-lookup"><span data-stu-id="31459-139">Management application for desktop or mobile users to administer resources in a Media Services account.</span></span>

> [!NOTE]
> <span data-ttu-id="31459-140">Deze verificatiemethode moet niet worden gebruikt voor consumententoepassingen.</span><span class="sxs-lookup"><span data-stu-id="31459-140">This authentication method should not be used for consumer-facing applications.</span></span> 

<span data-ttu-id="31459-141">Een systeemeigen toepassing moet eerst een toegangstoken van Azure AD te verkrijgen en vervolgens worden gebruikt wanneer u HTTP-aanvragen voor de REST-API van Media Services.</span><span class="sxs-lookup"><span data-stu-id="31459-141">A native application must first acquire an access token from Azure AD, and then use it when you make HTTP requests to the Media Services REST API.</span></span> <span data-ttu-id="31459-142">Het toegangstoken toevoegen aan de aanvraag-header.</span><span class="sxs-lookup"><span data-stu-id="31459-142">Add the access token to the request header.</span></span> 

<span data-ttu-id="31459-143">Het volgende diagram toont een typische interactieve toepassing authenticatiestroom:</span><span class="sxs-lookup"><span data-stu-id="31459-143">The following diagram shows a typical interactive application authentication flow:</span></span> 

![Diagram van systeemeigen apps](./media/media-services-use-aad-auth-to-access-ams-api/media-services-native-aad-app1.png)

<span data-ttu-id="31459-145">In het voorgaande diagram vertegenwoordigen de nummers in de stroom van de aanvragen in chronologische volgorde.</span><span class="sxs-lookup"><span data-stu-id="31459-145">In the preceding diagram, the numbers represent the flow of the requests in chronological order.</span></span>

> [!NOTE]
> <span data-ttu-id="31459-146">Wanneer u de methode voor gebruikersverificatie, worden alle apps delen de dezelfde (standaard) native client-ID en systeemeigen omleidings-URI.</span><span class="sxs-lookup"><span data-stu-id="31459-146">When you use the user authentication method, all apps share the same (default) native application client ID and native application redirect URI.</span></span> 

1. <span data-ttu-id="31459-147">Een gebruiker om referenties gevraagd.</span><span class="sxs-lookup"><span data-stu-id="31459-147">Prompt a user for credentials.</span></span>
2. <span data-ttu-id="31459-148">Aanvragen van een Azure AD-toegangstoken met de volgende parameters:</span><span class="sxs-lookup"><span data-stu-id="31459-148">Request an Azure AD access token with the following parameters:</span></span>  

    * <span data-ttu-id="31459-149">Azure AD-tenant-eindpunt.</span><span class="sxs-lookup"><span data-stu-id="31459-149">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="31459-150">De tenant-informatie kan worden opgehaald uit de Azure-portal.</span><span class="sxs-lookup"><span data-stu-id="31459-150">The tenant information can be retrieved from the Azure portal.</span></span> <span data-ttu-id="31459-151">Plaats de cursor op de naam van de aangemelde gebruiker in de rechterbovenhoek van de rechterbovenhoek.</span><span class="sxs-lookup"><span data-stu-id="31459-151">Place your cursor over the name of the signed-in user in the top right corner.</span></span>
    * <span data-ttu-id="31459-152">Media Services resource-URI.</span><span class="sxs-lookup"><span data-stu-id="31459-152">Media Services resource URI.</span></span> 

        <span data-ttu-id="31459-153">Deze URI is hetzelfde voor Media Services-accounts die zich in de dezelfde Azure-omgeving (bijvoorbeeld https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="31459-153">This URI is the same for Media Services accounts that are in the same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="31459-154">Media Services (systeemeigen) toepassingsclient-id.</span><span class="sxs-lookup"><span data-stu-id="31459-154">Media Services (native) application client ID.</span></span>
    * <span data-ttu-id="31459-155">Media Services (systeemeigen)-toepassing omleidings-URI.</span><span class="sxs-lookup"><span data-stu-id="31459-155">Media Services (native) application redirect URI.</span></span>
    * <span data-ttu-id="31459-156">Resource-URI voor de REST mediaservices.</span><span class="sxs-lookup"><span data-stu-id="31459-156">Resource URI for REST Media Services.</span></span>
        
        <span data-ttu-id="31459-157">De URI vertegenwoordigt de REST-API-eindpunt (bijvoorbeeld https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="31459-157">The URI represents the REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    <span data-ttu-id="31459-158">Als u de waarden voor deze parameters, Zie [Azure portal gebruiken voor toegang tot Azure AD-verificatie-instellingen](media-services-portal-get-started-with-aad.md) met de optie voor verificatie van gebruiker.</span><span class="sxs-lookup"><span data-stu-id="31459-158">To get values for these parameters, see [Use the Azure portal to access Azure AD authentication settings](media-services-portal-get-started-with-aad.md) using the user authentication option.</span></span>

3. <span data-ttu-id="31459-159">Het toegangstoken van Azure AD wordt verzonden naar de client.</span><span class="sxs-lookup"><span data-stu-id="31459-159">The Azure AD access token is sent to the client.</span></span>
4. <span data-ttu-id="31459-160">De client verzendt een aanvraag naar de Azure Media REST-API met de Azure AD-toegangstoken.</span><span class="sxs-lookup"><span data-stu-id="31459-160">The client sends a request to the Azure Media REST API with the Azure AD access token.</span></span>
5. <span data-ttu-id="31459-161">De client krijgt weer de gegevens van Media Services.</span><span class="sxs-lookup"><span data-stu-id="31459-161">The client gets back the data from Media Services.</span></span>

<span data-ttu-id="31459-162">Zie voor meer informatie over het gebruik van Azure AD-verificatie om te communiceren met de REST-aanvragen via de client met Media Services .NET SDK [gebruik Azure AD-verificatie voor toegang tot de Media Services-API met .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="31459-162">For information about how to use Azure AD authentication to communicate with REST requests by using the Media Services .NET client SDK, see [Use Azure AD authentication to access the Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="31459-163">Als u geen van de client-Media Services .NET SDK gebruikmaakt, moet u handmatig een tokenaanvraag van Azure AD access maken met behulp van de parameters die worden beschreven in stap 2.</span><span class="sxs-lookup"><span data-stu-id="31459-163">If you are not using the Media Services .NET client SDK, you must manually create an Azure AD access token request by using the parameters described in step 2.</span></span> <span data-ttu-id="31459-164">Zie voor meer informatie [hoe de Azure AD-token ophalen met de Azure AD Authentication Library](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="31459-164">For more information, see [How to use the Azure AD Authentication Library to get the Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

### <a name="service-principal-authentication"></a><span data-ttu-id="31459-165">Verificatie van service-principal</span><span class="sxs-lookup"><span data-stu-id="31459-165">Service principal authentication</span></span>

<span data-ttu-id="31459-166">Toepassingen die gebruikmaken van deze verificatiemethode vaak zijn apps die services van de middelste laag en geplande taken uitvoeren: web-apps, apps van de functie logic apps, API's en microservices.</span><span class="sxs-lookup"><span data-stu-id="31459-166">Applications that commonly use this authentication method are apps that run middle-tier services and scheduled jobs: web apps, function apps, logic apps, APIs, and microservices.</span></span> <span data-ttu-id="31459-167">Deze verificatiemethode is ook geschikt zijn voor interactieve toepassingen waar wilt u mogelijk een serviceaccount gebruiken om resources te beheren.</span><span class="sxs-lookup"><span data-stu-id="31459-167">This authentication method also is suitable for interactive applications in which you might want to use a service account to manage resources.</span></span>

<span data-ttu-id="31459-168">Wanneer u de service principal verificatiemethode voor het bouwen van consumentenscenario's gebruikt, wordt verificatie gewoonlijk uitgevoerd in de middelste laag (via een API) en niet rechtstreeks in een toepassing met mobiele of bureaubladtoepassingen.</span><span class="sxs-lookup"><span data-stu-id="31459-168">When you use the service principal authentication method to build consumer scenarios, authentication typically is handled in the middle tier (through some API) and not directly in a mobile or desktop application.</span></span> 

<span data-ttu-id="31459-169">Als u deze methode gebruikt, maak een Azure AD-toepassing en service principal in een eigen tenant.</span><span class="sxs-lookup"><span data-stu-id="31459-169">To use this method, create an Azure AD application and service principal in its own tenant.</span></span> <span data-ttu-id="31459-170">Nadat u de toepassing hebt gemaakt, krijgt u de app Inzender of eigenaar rol de toegang tot het Media Services-account.</span><span class="sxs-lookup"><span data-stu-id="31459-170">After you create the application, give the app Contributor or Owner role access to the Media Services account.</span></span> <span data-ttu-id="31459-171">U kunt dit doen in de Azure portal met behulp van Azure CLI of met een PowerShell-script.</span><span class="sxs-lookup"><span data-stu-id="31459-171">You can do this in the Azure portal, by using Azure CLI, or with a PowerShell script.</span></span> <span data-ttu-id="31459-172">U kunt ook een bestaande Azure AD-toepassing gebruiken.</span><span class="sxs-lookup"><span data-stu-id="31459-172">You also can use an existing Azure AD application.</span></span> <span data-ttu-id="31459-173">U kunt registreren en beheren van uw Azure AD-app en service-principal [in de Azure portal](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="31459-173">You can register and manage your Azure AD app and service principal [in the Azure portal](media-services-portal-get-started-with-aad.md).</span></span> <span data-ttu-id="31459-174">U kunt dit ook doen met behulp van [Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) of [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span><span class="sxs-lookup"><span data-stu-id="31459-174">You also can do this by using [Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) or [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span></span> 

![Middelste laag apps](./media/media-services-use-aad-auth-to-access-ams-api/media-services-principal-service-aad-app1.png)

<span data-ttu-id="31459-176">Nadat u uw Azure AD-toepassing hebt gemaakt, kunt u waarden ophalen voor de volgende instellingen.</span><span class="sxs-lookup"><span data-stu-id="31459-176">After you create your Azure AD application, you get values for the following settings.</span></span> <span data-ttu-id="31459-177">U moet deze waarden voor verificatie:</span><span class="sxs-lookup"><span data-stu-id="31459-177">You need these values for authentication:</span></span>

- <span data-ttu-id="31459-178">Client-ID</span><span class="sxs-lookup"><span data-stu-id="31459-178">Client ID</span></span> 
- <span data-ttu-id="31459-179">Clientgeheim</span><span class="sxs-lookup"><span data-stu-id="31459-179">Client secret</span></span> 

<span data-ttu-id="31459-180">De getallen in de voorgaande afbeelding gelden voor de stroom van de aanvragen in chronologische volgorde:</span><span class="sxs-lookup"><span data-stu-id="31459-180">In the preceding figure, the numbers represent the flow of the requests in chronological order:</span></span>
    
1. <span data-ttu-id="31459-181">Een app middelste laag (web-API of webtoepassing) vraagt een Azure AD-toegangstoken dat de volgende parameters heeft:</span><span class="sxs-lookup"><span data-stu-id="31459-181">A middle-tier app (web API or web application) requests an Azure AD access token that has the following parameters:</span></span>  

    * <span data-ttu-id="31459-182">Azure AD-tenant-eindpunt.</span><span class="sxs-lookup"><span data-stu-id="31459-182">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="31459-183">De tenant-informatie kan worden opgehaald uit de Azure-portal.</span><span class="sxs-lookup"><span data-stu-id="31459-183">The tenant information can be retrieved from the Azure portal.</span></span> <span data-ttu-id="31459-184">Plaats de cursor op de naam van de aangemelde gebruiker in de rechterbovenhoek van de rechterbovenhoek.</span><span class="sxs-lookup"><span data-stu-id="31459-184">Place your cursor over the name of the signed-in user in the top right corner.</span></span>
    * <span data-ttu-id="31459-185">Media Services resource-URI.</span><span class="sxs-lookup"><span data-stu-id="31459-185">Media Services resource URI.</span></span> 

        <span data-ttu-id="31459-186">Deze URI is hetzelfde voor Media Services-accounts die zich in de dezelfde Azure-omgeving (bijvoorbeeld https://rest.media.azure.net bevinden).</span><span class="sxs-lookup"><span data-stu-id="31459-186">This URI is the same for Media Services accounts that are located in the same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="31459-187">Resource-URI voor de REST mediaservices.</span><span class="sxs-lookup"><span data-stu-id="31459-187">Resource URI for REST Media Services.</span></span>

        <span data-ttu-id="31459-188">De URI vertegenwoordigt de REST-API-eindpunt (bijvoorbeeld https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="31459-188">The URI represents the REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    * <span data-ttu-id="31459-189">Waarden van Azure AD-toepassing: de client-ID en clientgeheim.</span><span class="sxs-lookup"><span data-stu-id="31459-189">Azure AD application values: the client ID and client secret.</span></span>
    
    <span data-ttu-id="31459-190">Als u de waarden voor deze parameters, Zie [Azure portal gebruiken voor toegang tot Azure AD-verificatie-instellingen](media-services-portal-get-started-with-aad.md) met behulp van de service principal verificatieoptie.</span><span class="sxs-lookup"><span data-stu-id="31459-190">To get values for these parameters, see [Use the Azure portal to access Azure AD authentication settings](media-services-portal-get-started-with-aad.md) by using the service principal authentication option.</span></span>

2. <span data-ttu-id="31459-191">Het toegangstoken van Azure AD wordt verzonden naar de middelste laag.</span><span class="sxs-lookup"><span data-stu-id="31459-191">The Azure AD access token is sent to the middle tier.</span></span>
4. <span data-ttu-id="31459-192">De middelste laag verzendt een aanvraag naar de Azure Media REST-API met de Azure AD-token.</span><span class="sxs-lookup"><span data-stu-id="31459-192">The middle tier sends request to the Azure Media REST API with the Azure AD token.</span></span>
5. <span data-ttu-id="31459-193">De middelste laag krijgt weer de gegevens van Media Services.</span><span class="sxs-lookup"><span data-stu-id="31459-193">The middle tier gets back the data from Media Services.</span></span>

<span data-ttu-id="31459-194">Zie voor meer informatie over het gebruik van Azure AD-verificatie om te communiceren met de REST-aanvragen via de client met Media Services .NET SDK [gebruik Azure AD-verificatie voor toegang tot API voor Azure Media Services met .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="31459-194">For more information about how to use Azure AD authentication to communicate with REST requests by using the Media Services .NET client SDK, see [Use Azure AD authentication to access Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="31459-195">Als u geen van de client-Media Services .NET SDK gebruikmaakt, moet u handmatig een Azure AD-tokenaanvraag maken met behulp van de parameters die worden beschreven in stap 1.</span><span class="sxs-lookup"><span data-stu-id="31459-195">If you are not using the Media Services .NET client SDK, you must manually create an Azure AD token request by using parameters described in step 1.</span></span> <span data-ttu-id="31459-196">Zie voor meer informatie [hoe de Azure AD-token ophalen met de Azure AD Authentication Library](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="31459-196">For more information, see [How to use the Azure AD Authentication Library to get the Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="31459-197">Problemen oplossen</span><span class="sxs-lookup"><span data-stu-id="31459-197">Troubleshooting</span></span>

<span data-ttu-id="31459-198">Uitzondering: ' de externe server heeft een fout geretourneerd: (401) niet geautoriseerd. "</span><span class="sxs-lookup"><span data-stu-id="31459-198">Exception: "The remote server returned an error: (401) Unauthorized."</span></span>

<span data-ttu-id="31459-199">Oplossing: Media Services REST voor de aanvraag mislukt, de aanvragende gebruiker moet een rol Inzender of eigenaar in de Media Services-account die het probeert te openen.</span><span class="sxs-lookup"><span data-stu-id="31459-199">Solution: For the Media Services REST request to succeed, the calling user must be a Contributor or Owner role in the Media Services account it is trying to access.</span></span> <span data-ttu-id="31459-200">Zie voor meer informatie de [toegangsbeheer](media-services-use-aad-auth-to-access-ams-api.md#access-control) sectie.</span><span class="sxs-lookup"><span data-stu-id="31459-200">For more information, see the [Access control](media-services-use-aad-auth-to-access-ams-api.md#access-control) section.</span></span>

## <a name="resources"></a><span data-ttu-id="31459-201">Resources</span><span class="sxs-lookup"><span data-stu-id="31459-201">Resources</span></span>

<span data-ttu-id="31459-202">De volgende artikelen vindt u overzichten van de concepten van Azure AD-verificatie:</span><span class="sxs-lookup"><span data-stu-id="31459-202">The following articles are overviews of Azure AD authentication concepts:</span></span> 

- [<span data-ttu-id="31459-203">Verificatie scenario's voor toepassingsbeheer door Azure AD</span><span class="sxs-lookup"><span data-stu-id="31459-203">Authentication scenarios addressed by Azure AD</span></span>](../active-directory/develop/active-directory-authentication-scenarios.md#basics-of-authentication-in-azure-ad)
- [<span data-ttu-id="31459-204">Toevoegen, bijwerken of verwijderen van een toepassing in Azure AD</span><span class="sxs-lookup"><span data-stu-id="31459-204">Add, update, or remove an application in Azure AD</span></span>](../active-directory/develop/active-directory-integrating-applications.md)
- [<span data-ttu-id="31459-205">Configureren en beheren van rollen gebaseerd toegangsbeheer met behulp van PowerShell</span><span class="sxs-lookup"><span data-stu-id="31459-205">Configure and manage Role-Based Access Control by using PowerShell</span></span>](../active-directory/role-based-access-control-manage-access-powershell.md)

## <a name="next-steps"></a><span data-ttu-id="31459-206">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="31459-206">Next steps</span></span>

* <span data-ttu-id="31459-207">De Azure portal gebruiken om [toegang hebben tot Azure AD-verificatie gebruiken voor Azure Media Services-API](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="31459-207">Use the Azure portal to [access Azure AD authentication to consume Azure Media Services API](media-services-portal-get-started-with-aad.md).</span></span>
* <span data-ttu-id="31459-208">Verificatie met Azure AD [toegang tot API voor Azure Media Services met .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="31459-208">Use Azure AD authentication to [access Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span>

