---
title: handleiding voor Azure Event Hubs aaaProgramming | Microsoft Docs
description: Code schrijven voor Azure Event Hubs met behulp van hello Azure .NET SDK.
services: event-hubs
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 64cbfd3d-4a0e-4455-a90a-7f3d4f080323
ms.service: event-hubs
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 08/17/2017
ms.author: sethm
ms.openlocfilehash: 43bebd126c2311af9e3daeb52324132b66cf0884
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="event-hubs-programming-guide"></a><span data-ttu-id="c8785-103">Programmeerhandleiding voor Event Hubs</span><span class="sxs-lookup"><span data-stu-id="c8785-103">Event Hubs programming guide</span></span>

<span data-ttu-id="c8785-104">Dit artikel worden enkele algemene scenario's bij het schrijven van code met Azure Event Hubs en hello Azure .NET SDK.</span><span class="sxs-lookup"><span data-stu-id="c8785-104">This article discusses some common scenarios in writing code using Azure Event Hubs and hello Azure .NET SDK.</span></span> <span data-ttu-id="c8785-105">Er wordt uitgegaan van een basisbegrip van Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="c8785-105">It assumes a preliminary understanding of Event Hubs.</span></span> <span data-ttu-id="c8785-106">Zie voor een conceptueel overzicht van Event Hubs Hallo [overzicht van Event Hubs](event-hubs-what-is-event-hubs.md).</span><span class="sxs-lookup"><span data-stu-id="c8785-106">For a conceptual overview of Event Hubs, see hello [Event Hubs overview](event-hubs-what-is-event-hubs.md).</span></span>

## <a name="event-publishers"></a><span data-ttu-id="c8785-107">Gebeurtenisuitgevers</span><span class="sxs-lookup"><span data-stu-id="c8785-107">Event publishers</span></span>

<span data-ttu-id="c8785-108">U verzenden gebeurtenissen tooan event hub via HTTP POST of via een AMQP 1.0-verbinding.</span><span class="sxs-lookup"><span data-stu-id="c8785-108">You send events tooan event hub either using HTTP POST or via an AMQP 1.0 connection.</span></span> <span data-ttu-id="c8785-109">keuze van welke toouse Hallo en wanneer is afhankelijk van Hallo specifieke scenario worden toegepast.</span><span class="sxs-lookup"><span data-stu-id="c8785-109">hello choice of which toouse and when depends on hello specific scenario being addressed.</span></span> <span data-ttu-id="c8785-110">AMQP 1.0-verbindingen zijn brokered verbindingen in Service Bus. Ze zijn met name geschikt voor scenarioâ€˜s met vaak voorkomende hogere berichtvolumes en lagere latentievereisten, omdat ze een permanent berichtenkanaal bieden.</span><span class="sxs-lookup"><span data-stu-id="c8785-110">AMQP 1.0 connections are metered as brokered connections in Service Bus and are more appropriate in scenarios with frequent higher message volumes and lower latency requirements, as they provide a persistent messaging channel.</span></span>

<span data-ttu-id="c8785-111">Maken en beheren van Event Hubs met behulp van Hallo [NamespaceManager][] klasse.</span><span class="sxs-lookup"><span data-stu-id="c8785-111">You create and manage Event Hubs using hello [NamespaceManager][] class.</span></span> <span data-ttu-id="c8785-112">Wanneer met Hallo .NET API's wordt beheerd, Hallo primaire constructs voor het publiceren van gegevens tooEvent Hubs zijn Hallo [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) en [EventData][] klassen.</span><span class="sxs-lookup"><span data-stu-id="c8785-112">When using hello .NET managed APIs, hello primary constructs for publishing data tooEvent Hubs are hello [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) and [EventData][] classes.</span></span> <span data-ttu-id="c8785-113">[EventHubClient][] biedt AMQP-communicatiekanaal Hallo gedurende welke gebeurtenissen toohello event hub worden verzonden.</span><span class="sxs-lookup"><span data-stu-id="c8785-113">[EventHubClient][] provides hello AMQP communication channel over which events are sent toohello event hub.</span></span> <span data-ttu-id="c8785-114">Hallo [EventData][] klasse vertegenwoordigt een gebeurtenis en gebruikte toopublish berichten tooan event hub is.</span><span class="sxs-lookup"><span data-stu-id="c8785-114">hello [EventData][] class represents an event, and is used toopublish messages tooan event hub.</span></span> <span data-ttu-id="c8785-115">Deze klasse bevat Hallo hoofdtekst, bepaalde metagegevens en headerinformatie over Hallo-gebeurtenis.</span><span class="sxs-lookup"><span data-stu-id="c8785-115">This class includes hello body, some metadata, and header information about hello event.</span></span> <span data-ttu-id="c8785-116">Andere eigenschappen toegevoegd toohello [EventData][] object als het een event hub passeert.</span><span class="sxs-lookup"><span data-stu-id="c8785-116">Other properties are added toohello [EventData][] object as it passes through an event hub.</span></span>

## <a name="get-started"></a><span data-ttu-id="c8785-117">Aan de slag</span><span class="sxs-lookup"><span data-stu-id="c8785-117">Get started</span></span>

<span data-ttu-id="c8785-118">Hallo .NET-klassen die ondersteuning bieden voor Event Hubs vindt u in Hallo Microsoft.ServiceBus.dll-assembly.</span><span class="sxs-lookup"><span data-stu-id="c8785-118">hello .NET classes that support Event Hubs are provided in hello Microsoft.ServiceBus.dll assembly.</span></span> <span data-ttu-id="c8785-119">Hallo gemakkelijkste manier tooreference Hallo Service Bus-API en tooconfigure uw toepassing met alle Service Bus-afhankelijkheden Hallo is toodownload hello [Service Bus NuGet-pakket](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span><span class="sxs-lookup"><span data-stu-id="c8785-119">hello easiest way tooreference hello Service Bus API and tooconfigure your application with all of hello Service Bus dependencies is toodownload hello [Service Bus NuGet package](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span></span> <span data-ttu-id="c8785-120">U kunt ook hello gebruiken [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c8785-120">Alternatively, you can use hello [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) in Visual Studio.</span></span> <span data-ttu-id="c8785-121">toodo uitgeven dus Hallo volgende opdracht in Hallo [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) venster:</span><span class="sxs-lookup"><span data-stu-id="c8785-121">toodo so, issue hello following command in hello [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) window:</span></span>

```
Install-Package WindowsAzure.ServiceBus
```

## <a name="create-an-event-hub"></a><span data-ttu-id="c8785-122">Een Event Hub maken</span><span class="sxs-lookup"><span data-stu-id="c8785-122">Create an event hub</span></span>
<span data-ttu-id="c8785-123">U kunt Hallo [NamespaceManager][] klasse toocreate Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="c8785-123">You can use hello [NamespaceManager][] class toocreate Event Hubs.</span></span> <span data-ttu-id="c8785-124">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="c8785-124">For example:</span></span>

```csharp
var manager = new Microsoft.ServiceBus.NamespaceManager("mynamespace.servicebus.windows.net");
var description = manager.CreateEventHub("MyEventHub");
```

<span data-ttu-id="c8785-125">In de meeste gevallen wordt aanbevolen dat u Hallo [CreateEventHubIfNotExists][] methoden tooavoid uitzonderingen worden gegenereerd als Hallo-service opnieuw wordt opgestart.</span><span class="sxs-lookup"><span data-stu-id="c8785-125">In most cases, it is recommended that you use hello [CreateEventHubIfNotExists][] methods tooavoid generating exceptions if hello service restarts.</span></span> <span data-ttu-id="c8785-126">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="c8785-126">For example:</span></span>

```csharp
var description = manager.CreateEventHubIfNotExists("MyEventHub");
```

<span data-ttu-id="c8785-127">Alle Event Hubs maken-bewerkingen, inclusief [CreateEventHubIfNotExists][], vereisen **beheren** machtigingen op Hallo naamruimte in kwestie.</span><span class="sxs-lookup"><span data-stu-id="c8785-127">All Event Hubs creation operations, including [CreateEventHubIfNotExists][], require **Manage** permissions on hello namespace in question.</span></span> <span data-ttu-id="c8785-128">Als u toolimit Hallo machtigingen van uw toepassingen publicatie- of consumertoepassingen wilt, kunt u voorkomen deze bewerking aanroepen in productiecode maken wanneer u referenties met beperkte machtigingen.</span><span class="sxs-lookup"><span data-stu-id="c8785-128">If you want toolimit hello permissions of your publisher or consumer applications, you can avoid these create operation calls in production code when you use credentials with limited permissions.</span></span>

<span data-ttu-id="c8785-129">Hallo [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) klasse bevat details over een event hub, met inbegrip van autorisatieregels hello, bewaarinterval Hallo-bericht, partitie-id's, status en pad.</span><span class="sxs-lookup"><span data-stu-id="c8785-129">hello [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) class contains details about an event hub, including hello authorization rules, hello message retention interval, partition IDs, status, and path.</span></span> <span data-ttu-id="c8785-130">U kunt deze klasse tooupdate Hallo-metagegevens voor een event hub.</span><span class="sxs-lookup"><span data-stu-id="c8785-130">You can use this class tooupdate hello metadata on an event hub.</span></span>

## <a name="create-an-event-hubs-client"></a><span data-ttu-id="c8785-131">Een Event Hubs-client maken</span><span class="sxs-lookup"><span data-stu-id="c8785-131">Create an Event Hubs client</span></span>
<span data-ttu-id="c8785-132">Hallo primaire klasse voor interactie met Event Hubs is [Microsoft.ServiceBus.Messaging.EventHubClient][EventHubClient].</span><span class="sxs-lookup"><span data-stu-id="c8785-132">hello primary class for interacting with Event Hubs is [Microsoft.ServiceBus.Messaging.EventHubClient][EventHubClient].</span></span> <span data-ttu-id="c8785-133">Deze klasse biedt mogelijkheden voor zowel verzenden als ontvangen.</span><span class="sxs-lookup"><span data-stu-id="c8785-133">This class provides both sender and receiver capabilities.</span></span> <span data-ttu-id="c8785-134">U kunt deze klasse met behulp van Hallo instantiÃ«ren [maken](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) methode, zoals wordt weergegeven in het volgende voorbeeld Hallo.</span><span class="sxs-lookup"><span data-stu-id="c8785-134">You can instantiate this class using hello [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) method, as shown in hello following example.</span></span>

```csharp
var client = EventHubClient.Create(description.Path);
```

<span data-ttu-id="c8785-135">Deze methode gebruikt Hallo Service Bus-verbindingsinformatie in Hallo bestand App.config in Hallo `appSettings` sectie.</span><span class="sxs-lookup"><span data-stu-id="c8785-135">This method uses hello Service Bus connection information in hello App.config file, in hello `appSettings` section.</span></span> <span data-ttu-id="c8785-136">Voor een voorbeeld van Hallo `appSettings` XML toostore Hallo Service Bus-verbindingsinformatie gebruikt, Raadpleeg de documentatie Hallo voor Hallo [Microsoft.ServiceBus.Messaging.EventHubClient.Create(System.String)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) methode.</span><span class="sxs-lookup"><span data-stu-id="c8785-136">For an example of hello `appSettings` XML used toostore hello Service Bus connection information, see hello documentation for hello [Microsoft.ServiceBus.Messaging.EventHubClient.Create(System.String)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method.</span></span>

<span data-ttu-id="c8785-137">Een andere optie is toocreate Hallo client vanuit een verbindingsreeks.</span><span class="sxs-lookup"><span data-stu-id="c8785-137">Another option is toocreate hello client from a connection string.</span></span> <span data-ttu-id="c8785-138">Deze optie werkt goed bij het gebruik van Azure-werkrollen, omdat u Hallo tekenreeks kunt opslaan in Hallo configuratie-eigenschappen voor Hallo werknemer.</span><span class="sxs-lookup"><span data-stu-id="c8785-138">This option works well when using Azure worker roles, because you can store hello string in hello configuration properties for hello worker.</span></span> <span data-ttu-id="c8785-139">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="c8785-139">For example:</span></span>

```csharp
EventHubClient.CreateFromConnectionString("your_connection_string");
```

<span data-ttu-id="c8785-140">Hallo-verbindingsreeks niet in dezelfde notatie zoals deze wordt weergegeven in Hallo App.config-bestand voor de vorige methoden Hallo Hallo:</span><span class="sxs-lookup"><span data-stu-id="c8785-140">hello connection string will be in hello same format as it appears in hello App.config file for hello previous methods:</span></span>

```
Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[key]
```

<span data-ttu-id="c8785-141">Ten slotte is het ook mogelijk toocreate een [EventHubClient][] object uit een [MessagingFactory](/dotnet/api/microsoft.servicebus.messaging.messagingfactory) exemplaar, zoals weergegeven in het volgende voorbeeld Hallo.</span><span class="sxs-lookup"><span data-stu-id="c8785-141">Finally, it is also possible toocreate an [EventHubClient][] object from a [MessagingFactory](/dotnet/api/microsoft.servicebus.messaging.messagingfactory) instance, as shown in hello following example.</span></span>

```csharp
var factory = MessagingFactory.CreateFromConnectionString("your_connection_string");
var client = factory.CreateEventHubClient("MyEventHub");
```

<span data-ttu-id="c8785-142">Het is belangrijk dat extra toonote [EventHubClient][] objecten die zijn gemaakt op basis van een messagingfactory-exemplaar opnieuw wilt gebruiken Hallo dezelfde onderliggende TCP-verbinding.</span><span class="sxs-lookup"><span data-stu-id="c8785-142">It is important toonote that additional [EventHubClient][] objects created from a messaging factory instance will reuse hello same underlying TCP connection.</span></span> <span data-ttu-id="c8785-143">Voor deze objecten geldt daarom een doorvoerlimiet aan clientzijde.</span><span class="sxs-lookup"><span data-stu-id="c8785-143">Therefore, these objects have a client-side limit on throughput.</span></span> <span data-ttu-id="c8785-144">Hallo [maken](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) methode wordt gebruikgemaakt van Ã©Ã©n messagingfactory.</span><span class="sxs-lookup"><span data-stu-id="c8785-144">hello [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method reuses a single messaging factory.</span></span> <span data-ttu-id="c8785-145">Als u van Ã©Ã©n afzender een zeer hoge doorvoersnelheid nodig hebt, kunt u meerdere MessagingFactory-exemplaren maken en vervolgens van elk MessagingFactory-exemplaar Ã©Ã©n [EventHubClient][]-object.</span><span class="sxs-lookup"><span data-stu-id="c8785-145">If you need very high throughput from a single sender, then you can create multiple message factories and one [EventHubClient][] object from each messaging factory.</span></span>

## <a name="send-events-tooan-event-hub"></a><span data-ttu-id="c8785-146">Verzenden van gebeurtenissen tooan event hub</span><span class="sxs-lookup"><span data-stu-id="c8785-146">Send events tooan event hub</span></span>
<span data-ttu-id="c8785-147">Verzenden van gebeurtenissen tooan event hub door het maken van een [EventData][] exemplaar en deze te verzenden via Hallo [verzenden](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) methode.</span><span class="sxs-lookup"><span data-stu-id="c8785-147">You send events tooan event hub by creating an [EventData][] instance and sending it via hello [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) method.</span></span> <span data-ttu-id="c8785-148">Deze methode heeft Ã©Ã©n [EventData][] instantieparameter en verzendt deze synchroon tooan event hub.</span><span class="sxs-lookup"><span data-stu-id="c8785-148">This method takes a single [EventData][] instance parameter and synchronously sends it tooan event hub.</span></span>

## <a name="event-serialization"></a><span data-ttu-id="c8785-149">Gebeurtenisserialisatie</span><span class="sxs-lookup"><span data-stu-id="c8785-149">Event serialization</span></span>
<span data-ttu-id="c8785-150">Hallo [EventData][] klasse heeft [vier overbelaste constructors](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) die verschillende parameters, zoals een object en serializer, een bytematrix of een stroom ondernemen.</span><span class="sxs-lookup"><span data-stu-id="c8785-150">hello [EventData][] class has [four overloaded constructors](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) that take a variety of parameters, such as an object and serializer, a byte array, or a stream.</span></span> <span data-ttu-id="c8785-151">Het is ook mogelijk tooinstantiate hello [EventData][] klasse en de hoofdstroom hello later instellen.</span><span class="sxs-lookup"><span data-stu-id="c8785-151">It is also possible tooinstantiate hello [EventData][] class and set hello body stream afterwards.</span></span> <span data-ttu-id="c8785-152">Als u JSON gebruikt met [EventData][], kunt u **Encoding.UTF8.GetBytes()** tooretrieve Hallo bytematrix voor een JSON-gecodeerde tekenreeks.</span><span class="sxs-lookup"><span data-stu-id="c8785-152">When using JSON with [EventData][], you can use **Encoding.UTF8.GetBytes()** tooretrieve hello byte array for a JSON-encoded string.</span></span>

## <a name="partition-key"></a><span data-ttu-id="c8785-153">Partitiesleutel</span><span class="sxs-lookup"><span data-stu-id="c8785-153">Partition key</span></span>
<span data-ttu-id="c8785-154">Hallo [EventData][] klasse heeft een [PartitionKey][] eigenschap waarmee Hallo afzender toospecify een waarde die is gehasht tooproduce de partitietoewijzing van een.</span><span class="sxs-lookup"><span data-stu-id="c8785-154">hello [EventData][] class has a [PartitionKey][] property that enables hello sender toospecify a value that is hashed tooproduce a partition assignment.</span></span> <span data-ttu-id="c8785-155">Met behulp van een partitiesleutel zorgt ervoor dat alle gebeurtenissen met dezelfde sleutel worden verzonden Hallo Hallo toohello dezelfde partitie in Hallo event hub.</span><span class="sxs-lookup"><span data-stu-id="c8785-155">Using a partition key ensures that all hello events with hello same key are sent toohello same partition in hello event hub.</span></span> <span data-ttu-id="c8785-156">Vaak gebruikte partitiesleutels zijn gebruikerssessie-id's en unieke afzender-idâ€˜s.</span><span class="sxs-lookup"><span data-stu-id="c8785-156">Common partition keys include user session IDs and unique sender IDs.</span></span> <span data-ttu-id="c8785-157">Hallo [PartitionKey][] eigenschap is optioneel en kan worden opgegeven wanneer u Hallo [Microsoft.ServiceBus.Messaging.EventHubClient.Send(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) of [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_) methoden.</span><span class="sxs-lookup"><span data-stu-id="c8785-157">hello [PartitionKey][] property is optional and can be provided when using hello [Microsoft.ServiceBus.Messaging.EventHubClient.Send(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) or [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_) methods.</span></span> <span data-ttu-id="c8785-158">Als u geen waarde voor opgeeft [PartitionKey][], verzonden gebeurtenissen gedistribueerd toopartitions met behulp van een round robin-model zijn.</span><span class="sxs-lookup"><span data-stu-id="c8785-158">If you do not provide a value for [PartitionKey][], sent events are distributed toopartitions using a round-robin model.</span></span>

### <a name="availability-considerations"></a><span data-ttu-id="c8785-159">Beschikbaarheidsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c8785-159">Availability considerations</span></span>

<span data-ttu-id="c8785-160">Met behulp van een partitiesleutel is optioneel en u zorgvuldig overwegen of toouse een.</span><span class="sxs-lookup"><span data-stu-id="c8785-160">Using a partition key is optional, and you should consider carefully whether or not toouse one.</span></span> <span data-ttu-id="c8785-161">In veel gevallen is met behulp van een partitiesleutel een goede keuze als ordening van gebeurtenissen belangrijk is.</span><span class="sxs-lookup"><span data-stu-id="c8785-161">In many cases, using a partition key is a good choice if event ordering is important.</span></span> <span data-ttu-id="c8785-162">Wanneer u een partitiesleutel, deze partities vereisen beschikbaarheid op Ã©Ã©n knooppunt en storingen kunnen optreden na verloop van tijd; Wanneer compute bijvoorbeeld patch en knooppunten opnieuw opstarten.</span><span class="sxs-lookup"><span data-stu-id="c8785-162">When you use a partition key, these partitions require availability on a single node, and outages can occur over time; for example, when compute nodes reboot and patch.</span></span> <span data-ttu-id="c8785-163">Als zodanig als u een partitie-ID ingesteld en die partitie niet meer beschikbaar is voor een bepaalde reden, wordt een poging tooaccess Hallo-gegevens in de betreffende partitie mislukken.</span><span class="sxs-lookup"><span data-stu-id="c8785-163">As such, if you set a partition ID and that partition becomes unavailable for some reason, an attempt tooaccess hello data in that partition will fail.</span></span> <span data-ttu-id="c8785-164">Als hoge beschikbaarheid zeer belangrijk is, Geef een partitiesleutel; in dat geval gebeurtenissen verzonden toopartitions met behulp van round robin-model Hallo eerder beschreven.</span><span class="sxs-lookup"><span data-stu-id="c8785-164">If high availability is most important, do not specify a partition key; in that case events will be sent toopartitions using hello round-robin model described previously.</span></span> <span data-ttu-id="c8785-165">In dit scenario maakt u een expliciete keuze tussen beschikbaarheid (geen partitie-ID) en consistentie (vastmaken gebeurtenissen tooa partitie-ID).</span><span class="sxs-lookup"><span data-stu-id="c8785-165">In this scenario, you are making an explicit choice between availability (no partition ID) and consistency (pinning events tooa partition ID).</span></span>

<span data-ttu-id="c8785-166">Een andere overweging verwerkt vertragingen bij de verwerking van gebeurtenissen.</span><span class="sxs-lookup"><span data-stu-id="c8785-166">Another consideration is handling delays in processing events.</span></span> <span data-ttu-id="c8785-167">In sommige gevallen kan het betere toodrop gegevens zijn en probeer dan tootry en blijven van verwerking, die kan verder downstreamverwerking vertragingen veroorzaken.</span><span class="sxs-lookup"><span data-stu-id="c8785-167">In some cases it might be better toodrop data and retry than tootry and keep up with processing, which can potentially cause further downstream processing delays.</span></span> <span data-ttu-id="c8785-168">Bijvoorbeeld, met een aandelenkoersen is het beter toowait voor volledige, actuele gegevens, maar in een live chatten of VOIP-scenario u liever Hallo gegevens snel, zelfs als deze niet volledig.</span><span class="sxs-lookup"><span data-stu-id="c8785-168">For example, with a stock ticker it's better toowait for complete up-to-date data, but in a live chat or VOIP scenario you'd rather have hello data quickly, even if it isn't complete.</span></span>

<span data-ttu-id="c8785-169">Gegeven deze overwegingen beschikbaarheid in deze scenario's kunt u een van de volgende strategieÃ«n voor foutafhandeling Hallo:</span><span class="sxs-lookup"><span data-stu-id="c8785-169">Given these availability considerations, in these scenarios you might choose one of hello following error handling strategies:</span></span>

- <span data-ttu-id="c8785-170">Stoppen (stop lezen uit Event Hubs totdat dingen zijn opgelost)</span><span class="sxs-lookup"><span data-stu-id="c8785-170">Stop (stop reading from Event Hubs until things are fixed)</span></span>
- <span data-ttu-id="c8785-171">Drop (berichten zijn niet belangrijk, neerzetten ze)</span><span class="sxs-lookup"><span data-stu-id="c8785-171">Drop (messages arenâ€™t important, drop them)</span></span>
- <span data-ttu-id="c8785-172">Probeer (nieuwe poging hello berichten, zoals u ziet past)</span><span class="sxs-lookup"><span data-stu-id="c8785-172">Retry (retry hello messages as you see fit)</span></span>
- <span data-ttu-id="c8785-173">[Wachtrij voor onbestelbare](../service-bus-messaging/service-bus-dead-letter-queues.md) (gebruik een wachtrij of een andere event hub toodead letter alleen Hallo-berichten kan niet worden verwerkt)</span><span class="sxs-lookup"><span data-stu-id="c8785-173">[Dead letter](../service-bus-messaging/service-bus-dead-letter-queues.md) (use a queue or another event hub toodead letter only hello messages you couldnâ€™t process)</span></span>

<span data-ttu-id="c8785-174">Zie voor meer informatie en een discussie over Hallo verschillen tussen de beschikbaarheid en consistentie [beschikbaarheid en consistentie in Event Hubs](event-hubs-availability-and-consistency.md).</span><span class="sxs-lookup"><span data-stu-id="c8785-174">For more information and a discussion about hello trade-offs between availability and consistency, see [Availability and consistency in Event Hubs](event-hubs-availability-and-consistency.md).</span></span> 

## <a name="batch-event-send-operations"></a><span data-ttu-id="c8785-175">Batchbewerkingen voor het verzenden van gebeurtenissen</span><span class="sxs-lookup"><span data-stu-id="c8785-175">Batch event send operations</span></span>
<span data-ttu-id="c8785-176">Het verzenden van gebeurtenissen in batches kan de doorvoer aanzienlijk verhogen.</span><span class="sxs-lookup"><span data-stu-id="c8785-176">Sending events in batches can dramatically increase throughput.</span></span> <span data-ttu-id="c8785-177">Hallo [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) methode duurt een **IEnumerable** parameter van het type [EventData][] en verzendt Hallo hele batch als een atomic-bewerking toohello event hub.</span><span class="sxs-lookup"><span data-stu-id="c8785-177">hello [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) method takes an **IEnumerable** parameter of type [EventData][] and sends hello entire batch as an atomic operation toohello event hub.</span></span>

```csharp
public void SendBatch(IEnumerable<EventData> eventDataList);
```

<span data-ttu-id="c8785-178">Houd er rekening mee dat Ã©Ã©n batch mag niet groter zijn dan limiet van 256 KB Hallo van een gebeurtenis.</span><span class="sxs-lookup"><span data-stu-id="c8785-178">Note that a single batch must not exceed hello 256 KB limit of an event.</span></span> <span data-ttu-id="c8785-179">Bovendien elk bericht in een batch Hallo Hallo gebruikmaakt van dezelfde uitgever-ID.</span><span class="sxs-lookup"><span data-stu-id="c8785-179">Additionally, each message in hello batch uses hello same publisher identity.</span></span> <span data-ttu-id="c8785-180">Het is Hallo verantwoordelijkheid van Hallo afzender tooensure die batch Hallo Hallo maximale gebeurtenisgrootte niet overschrijdt.</span><span class="sxs-lookup"><span data-stu-id="c8785-180">It is hello responsibility of hello sender tooensure that hello batch does not exceed hello maximum event size.</span></span> <span data-ttu-id="c8785-181">Als dit wel gebeurt, wordt aan clientzijde een **Verzendfout** gegenereerd.</span><span class="sxs-lookup"><span data-stu-id="c8785-181">If it does, a client **Send** error is generated.</span></span>

## <a name="send-asynchronously-and-send-at-scale"></a><span data-ttu-id="c8785-182">Asynchroon verzenden en op schaal verzenden</span><span class="sxs-lookup"><span data-stu-id="c8785-182">Send asynchronously and send at scale</span></span>
<span data-ttu-id="c8785-183">U kunt ook gebeurtenissen tooan event hub asynchroon verzenden.</span><span class="sxs-lookup"><span data-stu-id="c8785-183">You can also send events tooan event hub asynchronously.</span></span> <span data-ttu-id="c8785-184">Asynchroon verzenden kan sneller Hallo waarop een client kunnen toosend gebeurtenissen is.</span><span class="sxs-lookup"><span data-stu-id="c8785-184">Sending asynchronously can increase hello rate at which a client is able toosend events.</span></span> <span data-ttu-id="c8785-185">Beide Hallo [verzenden](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) en [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) methoden zijn beschikbaar in asynchrone versies die resulteren in een [taak](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx) object.</span><span class="sxs-lookup"><span data-stu-id="c8785-185">Both hello [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) and [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) methods are available in asynchronous versions that return a [Task](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx) object.</span></span> <span data-ttu-id="c8785-186">Terwijl deze doorvoer verhogen kan, het kan ook leiden tot Hallo gebeurtenissen voor clientapparaten toocontinue toosend terwijl deze wordt beperkt door Hallo Event Hubs-service en tot Hallo fouten of verloren berichten leiden kan als dat niet het juiste wijze wordt geÃ¯mplementeerd.</span><span class="sxs-lookup"><span data-stu-id="c8785-186">While this technique can increase throughput, it can also cause hello client toocontinue toosend events even while it is being throttled by hello Event Hubs service and can result in hello client experiencing failures or lost messages if not properly implemented.</span></span> <span data-ttu-id="c8785-187">Bovendien kunt u Hallo [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) -eigenschap op Hallo client toocontrol clientopties-probeer het opnieuw.</span><span class="sxs-lookup"><span data-stu-id="c8785-187">In addition, you can use hello [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) property on hello client toocontrol client retry options.</span></span>

## <a name="create-a-partition-sender"></a><span data-ttu-id="c8785-188">Partitieafzender maken</span><span class="sxs-lookup"><span data-stu-id="c8785-188">Create a partition sender</span></span>
<span data-ttu-id="c8785-189">Hoewel het meest voorkomende toosend gebeurtenissen tooan event hub zonder een partitiesleutel, in sommige gevallen kunt u gebeurtenissen toosend rechtstreeks tooa opgegeven partitie.</span><span class="sxs-lookup"><span data-stu-id="c8785-189">Although it is most common toosend events tooan event hub without a partition key, in some cases you might want toosend events directly tooa given partition.</span></span> <span data-ttu-id="c8785-190">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="c8785-190">For example:</span></span>

```csharp
var partitionedSender = client.CreatePartitionedSender(description.PartitionIds[0]);
```

<span data-ttu-id="c8785-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) retourneert een [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) object waarmee u toopublish gebeurtenissen tooa specifieke event hub-partitie kunt.</span><span class="sxs-lookup"><span data-stu-id="c8785-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) returns an [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) object that you can use toopublish events tooa specific event hub partition.</span></span>

## <a name="event-consumers"></a><span data-ttu-id="c8785-192">Gebeurtenisconsumers</span><span class="sxs-lookup"><span data-stu-id="c8785-192">Event consumers</span></span>
<span data-ttu-id="c8785-193">Event Hubs heeft twee primaire modellen voor gebeurtenisgebruik: directe ontvangers en abstracties van een hoger niveau, zoals [EventProcessorHost][].</span><span class="sxs-lookup"><span data-stu-id="c8785-193">Event Hubs has two primary models for event consumption: direct receivers and higher-level abstractions, such as [EventProcessorHost][].</span></span> <span data-ttu-id="c8785-194">Directe ontvangers zijn verantwoordelijk voor hun eigen coÃ¶rdinatie van toegang toopartitions binnen een consumergroep.</span><span class="sxs-lookup"><span data-stu-id="c8785-194">Direct receivers are responsible for their own coordination of access toopartitions within a consumer group.</span></span>

### <a name="direct-consumer"></a><span data-ttu-id="c8785-195">Directe consumer</span><span class="sxs-lookup"><span data-stu-id="c8785-195">Direct consumer</span></span>
<span data-ttu-id="c8785-196">Hallo meest directe manier tooread van een partitie binnen een consumergroep is toouse hello [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver) klasse.</span><span class="sxs-lookup"><span data-stu-id="c8785-196">hello most direct way tooread from a partition within a consumer group is toouse hello [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver) class.</span></span> <span data-ttu-id="c8785-197">toocreate een instantie van deze klasse, moet u een exemplaar van Hallo [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup) klasse.</span><span class="sxs-lookup"><span data-stu-id="c8785-197">toocreate an instance of this class, you must use an instance of hello [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup) class.</span></span> <span data-ttu-id="c8785-198">Hallo partitie-ID moet Hallo voorbeeld te volgen, worden opgegeven bij het maken van Hallo ontvanger voor Hallo consumergroep.</span><span class="sxs-lookup"><span data-stu-id="c8785-198">In hello following example, hello partition ID must be specified when creating hello receiver for hello consumer group.</span></span>

```csharp
EventHubConsumerGroup group = client.GetDefaultConsumerGroup();
var receiver = group.CreateReceiver(client.GetRuntimeInformation().PartitionIds[0]);
```

<span data-ttu-id="c8785-199">Hallo [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) methode heeft verschillende overloads die vergemakkelijken besturen Hallo lezer die wordt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="c8785-199">hello [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) method has several overloads that facilitate control over hello reader being created.</span></span> <span data-ttu-id="c8785-200">Deze methoden omvatten het opgeven van een offset als een tekenreeks of een tijdstempel en mogelijkheid toospecify of tooinclude deze opgegeven offset Hallo geretourneerd stream of starten nadat het Hallo.</span><span class="sxs-lookup"><span data-stu-id="c8785-200">These methods include specifying an offset as either a string or timestamp, and hello ability toospecify whether tooinclude this specified offset in hello returned stream, or start after it.</span></span> <span data-ttu-id="c8785-201">Nadat u Hallo ontvanger hebt gemaakt, kunt u beginnen gebeurtenissen ontvangen op Hallo object geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="c8785-201">After you create hello receiver, you can start receiving events on hello returned object.</span></span> <span data-ttu-id="c8785-202">Hallo [ontvangen](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) methode heeft vier overloads die Hallo besturingselement ontvangen bewerkingsparameters, zoals batchgrootte en wachttijd.</span><span class="sxs-lookup"><span data-stu-id="c8785-202">hello [Receive](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) method has four overloads that control hello receive operation parameters, such as batch size and wait time.</span></span> <span data-ttu-id="c8785-203">U kunt Hallo asynchrone versies van deze methoden tooincrease Hallo doorvoer van een consumer.</span><span class="sxs-lookup"><span data-stu-id="c8785-203">You can use hello asynchronous versions of these methods tooincrease hello throughput of a consumer.</span></span> <span data-ttu-id="c8785-204">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="c8785-204">For example:</span></span>

```csharp
bool receive = true;
string myOffset;
while(receive)
{
    var message = receiver.Receive();
    myOffset = message.Offset;
    string body = Encoding.UTF8.GetString(message.GetBytes());
    Console.WriteLine(String.Format("Received message offset: {0} \nbody: {1}", myOffset, body));
}
```

<span data-ttu-id="c8785-205">Hallo-berichten worden met opzicht tooa specifieke partitie ontvangen in Hallo volgorde waarin ze toohello event hub zijn verzonden.</span><span class="sxs-lookup"><span data-stu-id="c8785-205">With respect tooa specific partition, hello messages are received in hello order in which they were sent toohello event hub.</span></span> <span data-ttu-id="c8785-206">Hallo-offset is een tekenreeks token gebruikte tooidentify een bericht in een partitie.</span><span class="sxs-lookup"><span data-stu-id="c8785-206">hello offset is a string token used tooidentify a message in a partition.</span></span>

<span data-ttu-id="c8785-207">Let op: een afzonderlijke partitie in een consumergroep mag niet meer dan 5 lezers tegelijk hebben.</span><span class="sxs-lookup"><span data-stu-id="c8785-207">Note that a single partition within a consumer group cannot have more than 5 concurrent readers connected at any time.</span></span> <span data-ttu-id="c8785-208">Wanneer lezers verbinding maken of de verbinding verbroken, kunnen hun sessies enkele minuten duren voordat de service Hallo herkent dat de verbinding is verbroken te blijven actief.</span><span class="sxs-lookup"><span data-stu-id="c8785-208">As readers connect or become disconnected, their sessions might stay active for several minutes before hello service recognizes that they have disconnected.</span></span> <span data-ttu-id="c8785-209">Gedurende deze tijd mislukken opnieuw verbinding te maken tooa partitie.</span><span class="sxs-lookup"><span data-stu-id="c8785-209">During this time, reconnecting tooa partition may fail.</span></span> <span data-ttu-id="c8785-210">Zie voor een compleet voorbeeld van het schrijven van een directe ontvanger voor Event Hubs, Hallo [Event Hubs directe ontvangers](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="c8785-210">For a complete example of writing a direct receiver for Event Hubs, see hello [Event Hubs Direct Receivers](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) sample.</span></span>

### <a name="event-processor-host"></a><span data-ttu-id="c8785-211">Gebeurtenisprocessorhost</span><span class="sxs-lookup"><span data-stu-id="c8785-211">Event processor host</span></span>
<span data-ttu-id="c8785-212">Hallo [EventProcessorHost][] klasse gegevens uit Event Hubs verwerkt.</span><span class="sxs-lookup"><span data-stu-id="c8785-212">hello [EventProcessorHost][] class processes data from Event Hubs.</span></span> <span data-ttu-id="c8785-213">Tijdens het bouwen van gebeurtenislezers op Hallo .NET-platform, moet u deze implementatie gebruiken.</span><span class="sxs-lookup"><span data-stu-id="c8785-213">You should use this implementation when building event readers on hello .NET platform.</span></span> <span data-ttu-id="c8785-214">[EventProcessorHost][] biedt een thread-veilige, beveiligde runtimeomgeving met meerdere processen voor implementaties van gebeurtenisprocessors die ook beheer biedt van controlepunten en partitielease.</span><span class="sxs-lookup"><span data-stu-id="c8785-214">[EventProcessorHost][] provides a thread-safe, multi-process, safe runtime environment for event processor implementations that also provides checkpointing and partition lease management.</span></span>

<span data-ttu-id="c8785-215">Hallo toouse [EventProcessorHost][] klasse, die u kunt implementeren [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span><span class="sxs-lookup"><span data-stu-id="c8785-215">toouse hello [EventProcessorHost][] class, you can implement [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span></span> <span data-ttu-id="c8785-216">Deze interface bevat drie methoden:</span><span class="sxs-lookup"><span data-stu-id="c8785-216">This interface contains three methods:</span></span>

* [<span data-ttu-id="c8785-217">OpenAsync</span><span class="sxs-lookup"><span data-stu-id="c8785-217">OpenAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_OpenAsync_Microsoft_ServiceBus_Messaging_PartitionContext_)
* [<span data-ttu-id="c8785-218">CloseAsync</span><span class="sxs-lookup"><span data-stu-id="c8785-218">CloseAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_CloseAsync_Microsoft_ServiceBus_Messaging_PartitionContext_Microsoft_ServiceBus_Messaging_CloseReason_)
* [<span data-ttu-id="c8785-219">ProcessEventsAsync</span><span class="sxs-lookup"><span data-stu-id="c8785-219">ProcessEventsAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_ProcessEventsAsync_Microsoft_ServiceBus_Messaging_PartitionContext_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__)

<span data-ttu-id="c8785-220">het instantiÃ«ren van toostart gebeurtenisverwerking, [EventProcessorHost][], bieden de juiste parameters Hallo voor uw event hub.</span><span class="sxs-lookup"><span data-stu-id="c8785-220">toostart event processing, instantiate [EventProcessorHost][], providing hello appropriate parameters for your event hub.</span></span> <span data-ttu-id="c8785-221">Roep vervolgens [RegisterEventProcessorAsync](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) tooregister uw [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) implementatie met Hallo-runtime.</span><span class="sxs-lookup"><span data-stu-id="c8785-221">Then, call [RegisterEventProcessorAsync](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) tooregister your [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) implementation with hello runtime.</span></span> <span data-ttu-id="c8785-222">Op dit moment probeert Hallo host tooacquire een lease op elke partitie in Hallo event hub met behulp van een greedy-algoritme.</span><span class="sxs-lookup"><span data-stu-id="c8785-222">At this point, hello host will attempt tooacquire a lease on every partition in hello event hub using a "greedy" algorithm.</span></span> <span data-ttu-id="c8785-223">Deze leases zijn gedurende een bepaald tijdsbestek geldig en moeten daarna worden vernieuwd.</span><span class="sxs-lookup"><span data-stu-id="c8785-223">These leases will last for a given timeframe and must then be renewed.</span></span> <span data-ttu-id="c8785-224">Zodra nieuwe knooppunten worker-exemplaren in dit geval online komen, ze reserveringen voor leases en gedurende een bepaalde periode Hallo load verschuift tussen knooppunten elk tooacquire meer leases proberen.</span><span class="sxs-lookup"><span data-stu-id="c8785-224">As new nodes, worker instances in this case, come online, they place lease reservations and over time hello load shifts between nodes as each attempts tooacquire more leases.</span></span>

![Gebeurtenisprocessorhost](./media/event-hubs-programming-guide/IC759863.png)

<span data-ttu-id="c8785-226">In de loop van de tijd komt er een evenwicht tot stand.</span><span class="sxs-lookup"><span data-stu-id="c8785-226">Over time, an equilibrium is established.</span></span> <span data-ttu-id="c8785-227">Deze dynamische mogelijkheid kan automatisch schalen op basis van CPU toobe toegepast tooconsumers voor schaal omhoog en omlaag schalen.</span><span class="sxs-lookup"><span data-stu-id="c8785-227">This dynamic capability enables CPU-based autoscaling toobe applied tooconsumers for both scale-up and scale-down.</span></span> <span data-ttu-id="c8785-228">Omdat Event Hubs niet over een direct concept voor berichtentelling, is gemiddelde CPU-gebruik vaak Hallo best mechanisme toomeasure back end- of consumerschaling schaal.</span><span class="sxs-lookup"><span data-stu-id="c8785-228">Because Event Hubs do not have a direct concept of message counts, average CPU utilization is often hello best mechanism toomeasure back end or consumer scale.</span></span> <span data-ttu-id="c8785-229">Als uitgevers meer gebeurtenissen dan consumers kunnen verwerken toopublish begint, zijn Hallo CPU toename op consumenten gebruikte toocause een automatisch geschaald aantal werkrolexemplaren.</span><span class="sxs-lookup"><span data-stu-id="c8785-229">If publishers begin toopublish more events than consumers can process, hello CPU increase on consumers can be used toocause an auto-scale on worker instance count.</span></span>

<span data-ttu-id="c8785-230">Hallo [EventProcessorHost][] klasse implementeert ook een mechanisme voor Azure storage gebaseerd plaatsen van controlepunten.</span><span class="sxs-lookup"><span data-stu-id="c8785-230">hello [EventProcessorHost][] class also implements an Azure storage-based checkpointing mechanism.</span></span> <span data-ttu-id="c8785-231">Dit mechanisme winkels Hallo offset op basis van per partitie, zodat elke consumer welke Hallo laatste controlepunt van Hallo vorige consumer bepalen kan was.</span><span class="sxs-lookup"><span data-stu-id="c8785-231">This mechanism stores hello offset on a per partition basis, so that each consumer can determine what hello last checkpoint from hello previous consumer was.</span></span> <span data-ttu-id="c8785-232">Terwijl partities overgang tussen knooppunten via leases dit synchronisatiemechanisme Hallo voor verschuiving van belasting is.</span><span class="sxs-lookup"><span data-stu-id="c8785-232">As partitions transition between nodes via leases, this is hello synchronization mechanism that facilitates load shifting.</span></span>

## <a name="publisher-revocation"></a><span data-ttu-id="c8785-233">Uitgever intrekken</span><span class="sxs-lookup"><span data-stu-id="c8785-233">Publisher revocation</span></span>
<span data-ttu-id="c8785-234">Bovendien toohello Runtime-functies van geavanceerde [EventProcessorHost][], Event Hubs kunt u het intrekken van uitgevers in volgorde tooblock specifieke uitgevers geen gebeurtenis tooan event hub te verzenden.</span><span class="sxs-lookup"><span data-stu-id="c8785-234">In addition toohello advanced run-time features of [EventProcessorHost][], Event Hubs enables publisher revocation in order tooblock specific publishers from sending event tooan event hub.</span></span> <span data-ttu-id="c8785-235">Deze functies zijn vooral nuttig als token van een uitgever is aangetast, of een software-update wordt veroorzaakt door ze toobehave verkeerd.</span><span class="sxs-lookup"><span data-stu-id="c8785-235">These features are particularly useful if a publisher token has been compromised, or a software update is causing them toobehave inappropriately.</span></span> <span data-ttu-id="c8785-236">In deze omstandigheden kan Hallo uitgever ID, dat deel uitmaakt van de SAS-token, worden geblokkeerd uitgeven van gebeurtenissen.</span><span class="sxs-lookup"><span data-stu-id="c8785-236">In these situations, hello publisher's identity, which is part of their SAS token, can be blocked from publishing events.</span></span>

<span data-ttu-id="c8785-237">Voor meer informatie over het intrekken van uitgevers en hoe toosend tooEvent Hubs als een publisher zien Hallo [Event Hubs grote schaal veilig publiceren](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab) voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="c8785-237">For more information about publisher revocation and how toosend tooEvent Hubs as a publisher, see hello [Event Hubs Large Scale Secure Publishing](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab) sample.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c8785-238">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="c8785-238">Next steps</span></span>
<span data-ttu-id="c8785-239">toolearn meer informatie over Event Hubs-scenario's, gaat u naar deze koppelingen:</span><span class="sxs-lookup"><span data-stu-id="c8785-239">toolearn more about Event Hubs scenarios, visit these links:</span></span>

* [<span data-ttu-id="c8785-240">Event Hubs-API-overzicht</span><span class="sxs-lookup"><span data-stu-id="c8785-240">Event Hubs API overview</span></span>](event-hubs-api-overview.md)
* [<span data-ttu-id="c8785-241">Wat is Event Hubs</span><span class="sxs-lookup"><span data-stu-id="c8785-241">What is Event Hubs</span></span>](event-hubs-what-is-event-hubs.md)
* [<span data-ttu-id="c8785-242">Beschikbaarheid en consistentie in Event Hubs</span><span class="sxs-lookup"><span data-stu-id="c8785-242">Availability and consistency in Event Hubs</span></span>](event-hubs-availability-and-consistency.md)
* [<span data-ttu-id="c8785-243">API-verwijzing voor de gebeurtenisprocessorhost</span><span class="sxs-lookup"><span data-stu-id="c8785-243">Event processor host API reference</span></span>](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost)

[NamespaceManager]: /dotnet/api/microsoft.servicebus.namespacemanager
[EventHubClient]: /dotnet/api/microsoft.servicebus.messaging.eventhubclient
[EventData]: /dotnet/api/microsoft.servicebus.messaging.eventdata
[CreateEventHubIfNotExists]: /dotnet/api/microsoft.servicebus.namespacemanager.createeventhubifnotexists
[PartitionKey]: /dotnet/api/microsoft.servicebus.messaging.eventdata#Microsoft_ServiceBus_Messaging_EventData_PartitionKey
[EventProcessorHost]: /dotnet/api/microsoft.servicebus.messaging.eventprocessorhost
