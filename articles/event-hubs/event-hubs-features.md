---
title: Overzicht van Azure Event Hubs-functies | Microsoft Docs
description: Overzicht en meer informatie over de functies van Azure Event Hubs
services: event-hubs
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 
ms.service: event-hubs
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/17/2017
ms.author: sethm
ms.openlocfilehash: a74d767d57eb5ce2b3a716f9ba908a451f25f538
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/29/2017
---
# <a name="event-hubs-features-overview"></a><span data-ttu-id="64a32-103">Overzicht van Event Hubs-functies</span><span class="sxs-lookup"><span data-stu-id="64a32-103">Event Hubs features overview</span></span>

<span data-ttu-id="64a32-104">Azure Event Hubs is een schaalbare verwerkingsservice die opgenomen en grote hoeveelheden gebeurtenissen en de gegevens, verwerkt met een lage latentie en hoge betrouwbaarheid.</span><span class="sxs-lookup"><span data-stu-id="64a32-104">Azure Event Hubs is a scalable event processing service that ingests and processes large volumes of events and data, with low latency and high reliability.</span></span> <span data-ttu-id="64a32-105">Zie [wat is er Event Hubs?](event-hubs-what-is-event-hubs.md) voor een overzicht van de service.</span><span class="sxs-lookup"><span data-stu-id="64a32-105">See [What is Event Hubs?](event-hubs-what-is-event-hubs.md) for a high-level overview of the service.</span></span>

<span data-ttu-id="64a32-106">In dit artikel is gebaseerd op de informatie in de [overzicht](event-hubs-what-is-event-hubs.md), en biedt technische en implementatie-informatie over Event Hubs-onderdelen en functies.</span><span class="sxs-lookup"><span data-stu-id="64a32-106">This article builds on the information in the [overview](event-hubs-what-is-event-hubs.md), and provides technical and implementation details about Event Hubs components and features.</span></span>

## <a name="event-publishers"></a><span data-ttu-id="64a32-107">Gebeurtenisuitgevers</span><span class="sxs-lookup"><span data-stu-id="64a32-107">Event publishers</span></span>

<span data-ttu-id="64a32-108">Een entiteit waarmee gegevens worden verzonden naar een event hub is een producent gebeurtenis of *gebeurtenisuitgever*.</span><span class="sxs-lookup"><span data-stu-id="64a32-108">Any entity that sends data to an event hub is an event producer, or *event publisher*.</span></span> <span data-ttu-id="64a32-109">Gebeurtenisuitgevers kunnen gebeurtenissen publiceren met HTTPS of AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="64a32-109">Event publishers can publish events using HTTPS or AMQP 1.0.</span></span> <span data-ttu-id="64a32-110">Gebeurtenisuitgevers gebruiken een Shared Access Signature-token (SAS) om zichzelf te identificeren bij een Event Hub en kunnen een unieke identiteit hebben of een algemene SAS-token gebruiken.</span><span class="sxs-lookup"><span data-stu-id="64a32-110">Event publishers use a Shared Access Signature (SAS) token to identify themselves to an event hub, and can have a unique identity, or use a common SAS token.</span></span>

### <a name="publishing-an-event"></a><span data-ttu-id="64a32-111">Een gebeurtenis publiceren</span><span class="sxs-lookup"><span data-stu-id="64a32-111">Publishing an event</span></span>

<span data-ttu-id="64a32-112">U kunt een gebeurtenis publiceren met AMQP 1.0 of HTTPS.</span><span class="sxs-lookup"><span data-stu-id="64a32-112">You can publish an event via AMQP 1.0 or HTTPS.</span></span> <span data-ttu-id="64a32-113">Event Hubs biedt [clientbibliotheken en klassen](event-hubs-dotnet-framework-api-overview.md) voor het publiceren van gebeurtenissen naar een event hub vanaf .NET-clients.</span><span class="sxs-lookup"><span data-stu-id="64a32-113">Event Hubs provides [client libraries and classes](event-hubs-dotnet-framework-api-overview.md) for publishing events to an event hub from .NET clients.</span></span> <span data-ttu-id="64a32-114">Voor andere runtimes en platforms kunt u een AMQP 1.0-client gebruiken, zoals [Apache Qpid](http://qpid.apache.org/).</span><span class="sxs-lookup"><span data-stu-id="64a32-114">For other runtimes and platforms, you can use any AMQP 1.0 client, such as [Apache Qpid](http://qpid.apache.org/).</span></span> <span data-ttu-id="64a32-115">U kunt gebeurtenissen afzonderlijk of batchgewijs publiceren.</span><span class="sxs-lookup"><span data-stu-id="64a32-115">You can publish events individually, or batched.</span></span> <span data-ttu-id="64a32-116">Eén publicatie (exemplaar met gebeurtenisgegevens) heeft een limiet van 256 kB, ongeacht of het om één gebeurtenis of om een batch gaat.</span><span class="sxs-lookup"><span data-stu-id="64a32-116">A single publication (event data instance) has a limit of 256 KB, regardless of whether it is a single event or a batch.</span></span> <span data-ttu-id="64a32-117">Het publiceren van gebeurtenissen die groter is dan deze drempelwaarde resultaten in een fout.</span><span class="sxs-lookup"><span data-stu-id="64a32-117">Publishing events larger than this threshold results in an error.</span></span> <span data-ttu-id="64a32-118">Het is voor uitgevers een best practice om niets te weten over de partities binnen Event Hub en alleen een *partitiesleutel* (zie volgende sectie) of hun identiteit via de SAS-token op te geven.</span><span class="sxs-lookup"><span data-stu-id="64a32-118">It is a best practice for publishers to be unaware of partitions within the event hub and to only specify a *partition key* (introduced in the next section), or their identity via their SAS token.</span></span>

<span data-ttu-id="64a32-119">De keuze om AMQP of HTTPS te gebruiken, geldt specifiek voor het gebruiksscenario.</span><span class="sxs-lookup"><span data-stu-id="64a32-119">The choice to use AMQP or HTTPS is specific to the usage scenario.</span></span> <span data-ttu-id="64a32-120">AMQP vereist de inrichting van een permanente bidirectionele socket naast Transport Layer Security (TLS) of SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="64a32-120">AMQP requires the establishment of a persistent bidirectional socket in addition to transport level security (TLS) or SSL/TLS.</span></span> <span data-ttu-id="64a32-121">AMQP gaat gepaard met hogere netwerkkosten tijdens de initialisatie van de sessie. Voor HTTPS is echter extra SSL-overhead vereist voor elke aanvraag.</span><span class="sxs-lookup"><span data-stu-id="64a32-121">AMQP has higher network costs when initializing the session, however HTTPS requires additional SSL overhead for every request.</span></span> <span data-ttu-id="64a32-122">AMQP biedt betere prestaties voor regelmatige uitgevers.</span><span class="sxs-lookup"><span data-stu-id="64a32-122">AMQP has higher performance for frequent publishers.</span></span>

![Event Hubs](./media/event-hubs-features/partition_keys.png)

<span data-ttu-id="64a32-124">Event Hubs zorgt ervoor dat alle gebeurtenissen met een partitiesleutelwaarde op volgorde en aan dezelfde partitie worden geleverd.</span><span class="sxs-lookup"><span data-stu-id="64a32-124">Event Hubs ensures that all events sharing a partition key value are delivered in order, and to the same partition.</span></span> <span data-ttu-id="64a32-125">De identiteit van de uitgever en de waarde van de partitiesleutel moeten overeenkomen als er partitiesleutels met uitgeversbeleid worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="64a32-125">If partition keys are used with publisher policies, then the identity of the publisher and the value of the partition key must match.</span></span> <span data-ttu-id="64a32-126">Als deze niet overeenkomen, treedt er een fout op.</span><span class="sxs-lookup"><span data-stu-id="64a32-126">Otherwise, an error occurs.</span></span>

### <a name="publisher-policy"></a><span data-ttu-id="64a32-127">Uitgeversbeleid</span><span class="sxs-lookup"><span data-stu-id="64a32-127">Publisher policy</span></span>

<span data-ttu-id="64a32-128">In Event Hubs kunt u gebeurtenisuitgevers nauwkeurig beheren met behulp van *uitgeversbeleid*.</span><span class="sxs-lookup"><span data-stu-id="64a32-128">Event Hubs enables granular control over event publishers through *publisher policies*.</span></span> <span data-ttu-id="64a32-129">Uitgeversbeleid bestaat uit runtimefuncties die zijn ontworpen om grote aantallen onafhankelijke gebeurtenisuitgevers mogelijk te maken.</span><span class="sxs-lookup"><span data-stu-id="64a32-129">Publisher policies are run-time features designed to facilitate large numbers of independent event publishers.</span></span> <span data-ttu-id="64a32-130">Als u uitgeversbeleid implementeert, gebruikt elke uitgever zijn eigen unieke id bij het publiceren van gebeurtenissen naar een Event Hub. Hierbij wordt het volgende mechanisme gebruikt:</span><span class="sxs-lookup"><span data-stu-id="64a32-130">With publisher policies, each publisher uses its own unique identifier when publishing events to an event hub, using the following mechanism:</span></span>

```
//[my namespace].servicebus.windows.net/[event hub name]/publishers/[my publisher name]
```

<span data-ttu-id="64a32-131">Het is niet nodig om van tevoren uitgeversnamen te maken. De namen moeten echter wel overeenkomen met het SAS-token dat wordt gebruikt wanneer een gebeurtenis wordt gepubliceerd. Hiermee wordt voor onafhankelijke uitgeversidentiteiten gezorgd.</span><span class="sxs-lookup"><span data-stu-id="64a32-131">You don't have to create publisher names ahead of time, but they must match the SAS token used when publishing an event, in order to ensure independent publisher identities.</span></span> <span data-ttu-id="64a32-132">Als u uitgeversbeleid gebruikt, is de waarde **Partitiesleutel** ingesteld op de naam van de uitgever.</span><span class="sxs-lookup"><span data-stu-id="64a32-132">When using publisher policies, the **PartitionKey** value is set to the publisher name.</span></span> <span data-ttu-id="64a32-133">Voor een goede werking moeten deze waarden overeenkomen.</span><span class="sxs-lookup"><span data-stu-id="64a32-133">To work properly, these values must match.</span></span>

## <a name="capture"></a><span data-ttu-id="64a32-134">Capture</span><span class="sxs-lookup"><span data-stu-id="64a32-134">Capture</span></span>

<span data-ttu-id="64a32-135">[Event Hubs vastleggen](event-hubs-capture-overview.md) kunt u automatisch de streaming-gegevens in Event Hubs vastleggen en opslaan op uw keuze van een Blob storage-account of een Azure Data Lake-Service-account.</span><span class="sxs-lookup"><span data-stu-id="64a32-135">[Event Hubs Capture](event-hubs-capture-overview.md) enables you to automatically capture the streaming data in Event Hubs and save it to your choice of either a Blob storage account, or an Azure Data Lake Service account.</span></span> <span data-ttu-id="64a32-136">U kunt vastleggen inschakelen via de Azure-portal en geef een minimale grootte en tijdvenster om uit te voeren van het vastleggen.</span><span class="sxs-lookup"><span data-stu-id="64a32-136">You can enable Capture from the Azure portal, and specify a minimum size and time window to perform the capture.</span></span> <span data-ttu-id="64a32-137">Met Event Hubs vastleggen opgeven u uw eigen Azure Blob Storage-account en een container of een Azure Data Lake-Service-account wordt gebruikt voor het opslaan van de vastgelegde gegevens.</span><span class="sxs-lookup"><span data-stu-id="64a32-137">Using Event Hubs Capture, you specify your own Azure Blob Storage account and container, or Azure Data Lake Service account, which is used to store the captured data.</span></span> <span data-ttu-id="64a32-138">Gegevensopname is geschreven in de Apache Avro-indeling.</span><span class="sxs-lookup"><span data-stu-id="64a32-138">Captured data is written in the Apache Avro format.</span></span>

## <a name="partitions"></a><span data-ttu-id="64a32-139">Partities</span><span class="sxs-lookup"><span data-stu-id="64a32-139">Partitions</span></span>

<span data-ttu-id="64a32-140">Event Hubs daarentegen biedt streaming van berichten via een model op basis van gepartitioneerd gebruik, waarbij elke consumer slechts een specifieke subset of partitie van de berichtenstroom leest.</span><span class="sxs-lookup"><span data-stu-id="64a32-140">Event Hubs provides message streaming through a partitioned consumer pattern in which each consumer only reads a specific subset, or partition, of the message stream.</span></span> <span data-ttu-id="64a32-141">Dit patroon maakt een horizontale schaal voor de verwerking van gebeurtenissen mogelijk en biedt andere stroomgerichte functies die niet beschikbaar zijn in wachtrijen en onderwerpen.</span><span class="sxs-lookup"><span data-stu-id="64a32-141">This pattern enables horizontal scale for event processing and provides other stream-focused features that are unavailable in queues and topics.</span></span>

<span data-ttu-id="64a32-142">Een partitie is een geordende reeks gebeurtenissen die in een Event Hub wordt bewaard.</span><span class="sxs-lookup"><span data-stu-id="64a32-142">A partition is an ordered sequence of events that is held in an event hub.</span></span> <span data-ttu-id="64a32-143">Als er nieuwere gebeurtenissen plaatsvinden, worden deze toegevoegd aan het einde van deze reeks.</span><span class="sxs-lookup"><span data-stu-id="64a32-143">As newer events arrive, they are added to the end of this sequence.</span></span> <span data-ttu-id="64a32-144">Een partitie kan worden beschouwd als een 'doorvoerlogboek'.</span><span class="sxs-lookup"><span data-stu-id="64a32-144">A partition can be thought of as a "commit log."</span></span>

![Event Hubs](./media/event-hubs-features/partition.png)

<span data-ttu-id="64a32-146">Event Hubs behoudt gegevens voor een geconfigureerde bewaartijd die geldt voor alle partities in de event hub.</span><span class="sxs-lookup"><span data-stu-id="64a32-146">Event Hubs retains data for a configured retention time that applies across all partitions in the event hub.</span></span> <span data-ttu-id="64a32-147">Gebeurtenissen verlopen op basis van tijd. U kunt ze niet expliciet verwijderen.</span><span class="sxs-lookup"><span data-stu-id="64a32-147">Events expire on a time basis; you cannot explicitly delete them.</span></span> <span data-ttu-id="64a32-148">Omdat partities onafhankelijk zijn en hun eigen reeks gegevens bevatten, groeien ze vaak met verschillende snelheden.</span><span class="sxs-lookup"><span data-stu-id="64a32-148">Because partitions are independent and contain their own sequence of data, they often grow at different rates.</span></span>

![Event Hubs](./media/event-hubs-features/multiple_partitions.png)

<span data-ttu-id="64a32-150">Het aantal partities wordt opgegeven bij het maken en moet tussen 2 en 32 liggen.</span><span class="sxs-lookup"><span data-stu-id="64a32-150">The number of partitions is specified at creation and must be between 2 and 32.</span></span> <span data-ttu-id="64a32-151">Het aantal partities kan niet worden gewijzigd. Houd bij het instellen van het aantal partities dus uw doelen op de lange termijn in gedachten.</span><span class="sxs-lookup"><span data-stu-id="64a32-151">The partition count is not changeable, so you should consider long-term scale when setting partition count.</span></span> <span data-ttu-id="64a32-152">Partities zijn een mechanisme voor gegevensordening. Ze hebben betrekking op de mate van downstreamparallelheid die is vereist bij het gebruik van toepassingen.</span><span class="sxs-lookup"><span data-stu-id="64a32-152">Partitions are a data organization mechanism that relates to the downstream parallelism required in consuming applications.</span></span> <span data-ttu-id="64a32-153">Het aantal partities in een Event Hub houdt rechtstreeks verband met het aantal verwachte gelijktijdige lezers.</span><span class="sxs-lookup"><span data-stu-id="64a32-153">The number of partitions in an event hub directly relates to the number of concurrent readers you expect to have.</span></span> <span data-ttu-id="64a32-154">Neem contact op met het team van Event Hubs als u meer dan 32 partities wilt maken.</span><span class="sxs-lookup"><span data-stu-id="64a32-154">You can increase the number of partitions beyond 32 by contacting the Event Hubs team.</span></span>

<span data-ttu-id="64a32-155">Terwijl partities te herkennen en rechtstreeks naar kunnen worden verzonden, wordt het verzenden van rechtstreeks naar een partitie niet aanbevolen.</span><span class="sxs-lookup"><span data-stu-id="64a32-155">While partitions are identifiable and can be sent to directly, sending directly to a partition is not recommended.</span></span> <span data-ttu-id="64a32-156">In plaats daarvan kunt u constructies op een hoger niveau gebruiken. Deze vindt u in de secties [Gebeurtenisuitgever](#event-publishers) en [Capaciteit](#capacity).</span><span class="sxs-lookup"><span data-stu-id="64a32-156">Instead, you can use higher level constructs introduced in the [Event publisher](#event-publishers) and [Capacity](#capacity) sections.</span></span> 

<span data-ttu-id="64a32-157">Partities bestaan uit een reeks gebeurtenisgegevens. Deze bevatten de hoofdtekst van de gebeurtenis, een door de gebruiker gedefinieerde eigenschappenverzameling en metagegevens, zoals de offset in de partitie en het nummer in de stroomreeks.</span><span class="sxs-lookup"><span data-stu-id="64a32-157">Partitions are filled with a sequence of event data which contains the body of the event, a user-defined property bag, and metadata such as its offset in the partition and its number in the stream sequence.</span></span>

<span data-ttu-id="64a32-158">Zie de artikelen [Programmeergids voor Event Hubs](event-hubs-programming-guide.md#partition-key) en [Beschikbaarheid en consistentie in Event Hubs](event-hubs-availability-and-consistency.md) voor meer informatie over partities en de verhouding tussen de beschikbaarheid en betrouwbaarheid.</span><span class="sxs-lookup"><span data-stu-id="64a32-158">For more information about partitions and the trade-off between availability and reliability, see the [Event Hubs programming guide](event-hubs-programming-guide.md#partition-key) and the [Availability and consistency in Event Hubs](event-hubs-availability-and-consistency.md) article.</span></span>

### <a name="partition-key"></a><span data-ttu-id="64a32-159">Partitiesleutel</span><span class="sxs-lookup"><span data-stu-id="64a32-159">Partition key</span></span>

<span data-ttu-id="64a32-160">U kunt een [partitiesleutel](event-hubs-programming-guide.md#partition-key) gebruiken om inkomende gebeurtenisgegevens toe te wijzen aan specifieke partities, zodat de gegevens kunnen worden geordend.</span><span class="sxs-lookup"><span data-stu-id="64a32-160">You can use a [partition key](event-hubs-programming-guide.md#partition-key) to map incoming event data into specific partitions for the purpose of data organization.</span></span> <span data-ttu-id="64a32-161">De partitiesleutel is een door de afzender opgegeven waarde die aan een Event Hub wordt doorgegeven.</span><span class="sxs-lookup"><span data-stu-id="64a32-161">The partition key is a sender-supplied value passed into an event hub.</span></span> <span data-ttu-id="64a32-162">De partitiesleutel wordt verwerkt door een statische hash-functie, die zorgt voor de partitietoewijzing.</span><span class="sxs-lookup"><span data-stu-id="64a32-162">It is processed through a static hashing function, which creates the partition assignment.</span></span> <span data-ttu-id="64a32-163">Als u bij het publiceren van een gebeurtenis geen partitiesleutel opgeeft, wordt er gebruikgemaakt van round robin-toewijzing.</span><span class="sxs-lookup"><span data-stu-id="64a32-163">If you don't specify a partition key when publishing an event, a round-robin assignment is used.</span></span>

<span data-ttu-id="64a32-164">De gebeurtenisuitgever is alleen op de hoogte van de partitiesleutel en niet van de partitie waarop de gebeurtenissen worden gepubliceerd.</span><span class="sxs-lookup"><span data-stu-id="64a32-164">The event publisher is only aware of its partition key, not the partition to which the events are published.</span></span> <span data-ttu-id="64a32-165">Deze ontkoppeling van sleutel en partitie schermt de afzender af, zodat deze niet te veel te weten hoeft te komen over de downstreamverwerking.</span><span class="sxs-lookup"><span data-stu-id="64a32-165">This decoupling of key and partition insulates the sender from needing to know too much about the downstream processing.</span></span> <span data-ttu-id="64a32-166">Goede partitiesleutels zijn bijvoorbeeld een apparaatspecifieke of een gebruikersspecifieke identiteit, maar voor het groeperen van gerelateerde gebeurtenissen in dezelfde partitie kunnen ook andere kenmerken, zoals geografie, worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="64a32-166">A per-device or user unique identity makes a good partition key, but other attributes such as geography can also be used to group related events into a single partition.</span></span>

## <a name="sas-tokens"></a><span data-ttu-id="64a32-167">SAS-tokens</span><span class="sxs-lookup"><span data-stu-id="64a32-167">SAS tokens</span></span>

<span data-ttu-id="64a32-168">Event Hubs gebruikt *Shared Access Signatures* die beschikbaar zijn op het niveau van de naamruimte en Event Hub.</span><span class="sxs-lookup"><span data-stu-id="64a32-168">Event Hubs uses *Shared Access Signatures*, which are available at the namespace and event hub level.</span></span> <span data-ttu-id="64a32-169">Een SAS-token wordt gegenereerd uit een SAS-sleutel en is een SHA-hash of URL. gecodeerd in een specifieke indeling.</span><span class="sxs-lookup"><span data-stu-id="64a32-169">A SAS token is generated from a SAS key and is an SHA hash of a URL, encoded in a specific format.</span></span> <span data-ttu-id="64a32-170">Event Hubs kan de hash opnieuw genereren met de naam van de sleutel (het beleid) en de token, en op deze manier de afzender verifiëren.</span><span class="sxs-lookup"><span data-stu-id="64a32-170">Using the name of the key (policy) and the token, Event Hubs can regenerate the hash and thus authenticate the sender.</span></span> <span data-ttu-id="64a32-171">Normaal gesproken worden SAS-tokens voor gebeurtenisuitgevers alleen gemaakt met bevoegdheden voor **verzenden** voor een specifieke Event Hub.</span><span class="sxs-lookup"><span data-stu-id="64a32-171">Normally, SAS tokens for event publishers are created with only **send** privileges on a specific event hub.</span></span> <span data-ttu-id="64a32-172">Dit URL-mechanisme met SAS-token vormt de basis voor de uitgeversidentificatie die in het uitgeversbeleid wordt geïntroduceerd.</span><span class="sxs-lookup"><span data-stu-id="64a32-172">This SAS token URL mechanism is the basis for publisher identification introduced in the publisher policy.</span></span> <span data-ttu-id="64a32-173">Zie [Shared Access Signature-verificatie met Service Bus](../service-bus-messaging/service-bus-sas.md) voor meer informatie over werken met SAS.</span><span class="sxs-lookup"><span data-stu-id="64a32-173">For more information about working with SAS, see [Shared Access Signature Authentication with Service Bus](../service-bus-messaging/service-bus-sas.md).</span></span>

## <a name="event-consumers"></a><span data-ttu-id="64a32-174">Gebeurtenisconsumers</span><span class="sxs-lookup"><span data-stu-id="64a32-174">Event consumers</span></span>

<span data-ttu-id="64a32-175">Elke entiteit die gebeurtenisgegevens van een Event Hub leest, is een *gebeurtenisconsumer*.</span><span class="sxs-lookup"><span data-stu-id="64a32-175">Any entity that reads event data from an event hub is an *event consumer*.</span></span> <span data-ttu-id="64a32-176">Alle Event Hubs-consumers maken verbinding via de AMQP 1.0-sessie, waarin gebeurtenissen worden geleverd zodra deze beschikbaar komen.</span><span class="sxs-lookup"><span data-stu-id="64a32-176">All Event Hubs consumers connect via the AMQP 1.0 session and events are delivered through the session as they become available.</span></span> <span data-ttu-id="64a32-177">De client hoeft de beschikbaarheid van de gegevens niet te peilen.</span><span class="sxs-lookup"><span data-stu-id="64a32-177">The client does not need to poll for data availability.</span></span>

### <a name="consumer-groups"></a><span data-ttu-id="64a32-178">Consumergroepen</span><span class="sxs-lookup"><span data-stu-id="64a32-178">Consumer groups</span></span>

<span data-ttu-id="64a32-179">Het Event Hubs-mechanisme voor publiceren/abonneren wordt geactiveerd via *consumergroepen*.</span><span class="sxs-lookup"><span data-stu-id="64a32-179">The publish/subscribe mechanism of Event Hubs is enabled through *consumer groups*.</span></span> <span data-ttu-id="64a32-180">Een consumergroep is een weergave (status, positie of offset) van een volledige Event Hub.</span><span class="sxs-lookup"><span data-stu-id="64a32-180">A consumer group is a view (state, position, or offset) of an entire event hub.</span></span> <span data-ttu-id="64a32-181">Consumergroepen maken het mogelijk dat meerdere consumers beschikken over een afzonderlijke weergave van de gebeurtenisstroom. De toepassingen kunnen de stroom onafhankelijk, in hun eigen tempo en met hun eigen offsets lezen.</span><span class="sxs-lookup"><span data-stu-id="64a32-181">Consumer groups enable multiple consuming applications to each have a separate view of the event stream, and to read the stream independently at their own pace and with their own offsets.</span></span>

<span data-ttu-id="64a32-182">In een architectuur waarin de stroom wordt verwerkt, is elke downstream-toepassing gelijk aan een consumergroep.</span><span class="sxs-lookup"><span data-stu-id="64a32-182">In a stream processing architecture, each downstream application equates to a consumer group.</span></span> <span data-ttu-id="64a32-183">Als u gebeurtenisgegevens naar de langetermijnopslag wilt schrijven, is de schrijftoepassing die hiervoor wordt gebruikt, een consumergroep.</span><span class="sxs-lookup"><span data-stu-id="64a32-183">If you want to write event data to long-term storage, then that storage writer application is a consumer group.</span></span> <span data-ttu-id="64a32-184">De complexe verwerking van gebeurtenissen kan vervolgens worden uitgevoerd door een andere, afzonderlijke consumergroep.</span><span class="sxs-lookup"><span data-stu-id="64a32-184">Complex event processing can then be performed by another, separate consumer group.</span></span> <span data-ttu-id="64a32-185">U hebt alleen toegang tot partities via een consumergroep.</span><span class="sxs-lookup"><span data-stu-id="64a32-185">You can only access partitions through a consumer group.</span></span> <span data-ttu-id="64a32-186">Er mag maximaal 5 gelijktijdige lezers op een andere partitie per consumergroep; echter **het wordt aanbevolen dat op een andere partitie per consumergroep slechts één actieve ontvanger is**.</span><span class="sxs-lookup"><span data-stu-id="64a32-186">There can be at most 5 concurrent readers on a partition per consumer group; however **it is recommended that there is only one active receiver on a partition per consumer group**.</span></span> <span data-ttu-id="64a32-187">Een Event Hub bevat altijd een standaardconsumergroep. Voor een Event Hub van het type Standaard kunt u maximaal 20 consumergroepen maken.</span><span class="sxs-lookup"><span data-stu-id="64a32-187">There is always a default consumer group in an event hub, and you can create up to 20 consumer groups for a Standard tier event hub.</span></span>

<span data-ttu-id="64a32-188">Dit zijn voorbeelden van de URI-conventie voor consumergroepen:</span><span class="sxs-lookup"><span data-stu-id="64a32-188">The following are examples of the consumer group URI convention:</span></span>

```http
//[my namespace].servicebus.windows.net/[event hub name]/[Consumer Group #1]
//[my namespace].servicebus.windows.net/[event hub name]/[Consumer Group #2]
```

<span data-ttu-id="64a32-189">In de volgende afbeelding ziet u de architectuur voor de verwerking van stromen van Event Hubs:</span><span class="sxs-lookup"><span data-stu-id="64a32-189">The following figure shows the Event Hubs stream processing architecture:</span></span>

![Event Hubs](./media/event-hubs-features/event_hubs_architecture.png)

### <a name="stream-offsets"></a><span data-ttu-id="64a32-191">Stroom-offsets</span><span class="sxs-lookup"><span data-stu-id="64a32-191">Stream offsets</span></span>

<span data-ttu-id="64a32-192">Een *offset* is de positie van een gebeurtenis binnen een partitie.</span><span class="sxs-lookup"><span data-stu-id="64a32-192">An *offset* is the position of an event within a partition.</span></span> <span data-ttu-id="64a32-193">U kunt een offset beschouwen als een clientcursor.</span><span class="sxs-lookup"><span data-stu-id="64a32-193">You can think of an offset as a client-side cursor.</span></span> <span data-ttu-id="64a32-194">De offset is een bytenummering van de gebeurtenis.</span><span class="sxs-lookup"><span data-stu-id="64a32-194">The offset is a byte numbering of the event.</span></span> <span data-ttu-id="64a32-195">Met deze offset kan een gebeurtenisconsumer (lezer) een punt in de gebeurtenisstroom opgeven vanwaaruit begonnen moet worden met het lezen van gebeurtenissen.</span><span class="sxs-lookup"><span data-stu-id="64a32-195">This offset enables an event consumer (reader) to specify a point in the event stream from which they want to begin reading events.</span></span> <span data-ttu-id="64a32-196">U kunt de offset opgeven als een tijdstempel of als een offsetwaarde.</span><span class="sxs-lookup"><span data-stu-id="64a32-196">You can specify the offset as a timestamp or as an offset value.</span></span> <span data-ttu-id="64a32-197">Consumers zijn zelf verantwoordelijk voor het opslaan van hun eigen offsetwaarden buiten de Event Hubs-service.</span><span class="sxs-lookup"><span data-stu-id="64a32-197">Consumers are responsible for storing their own offset values outside of the Event Hubs service.</span></span> <span data-ttu-id="64a32-198">Binnen een partitie bevat elke gebeurtenis een offset.</span><span class="sxs-lookup"><span data-stu-id="64a32-198">Within a partition, each event includes an offset.</span></span>

![Event Hubs](./media/event-hubs-features/partition_offset.png)

### <a name="checkpointing"></a><span data-ttu-id="64a32-200">Controlepunten plaatsen</span><span class="sxs-lookup"><span data-stu-id="64a32-200">Checkpointing</span></span>

<span data-ttu-id="64a32-201">*Het plaatsen van controlepunten* is een proces waarbij lezers hun positie binnen de gebeurtenisvolgorde van een partitie markeren of vastleggen.</span><span class="sxs-lookup"><span data-stu-id="64a32-201">*Checkpointing* is a process by which readers mark or commit their position within a partition event sequence.</span></span> <span data-ttu-id="64a32-202">Het plaatsen van controlepunten is de verantwoordelijkheid van de consumer en vindt plaats per partitie binnen een consumergroep.</span><span class="sxs-lookup"><span data-stu-id="64a32-202">Checkpointing is the responsibility of the consumer and occurs on a per-partition basis within a consumer group.</span></span> <span data-ttu-id="64a32-203">Deze verantwoordelijkheid houdt in dat elke partitielezer voor elke consumergroep de huidige positie in de gebeurtenisstroom moet bijhouden en de service kan informeren wanneer de gegevensstroom is voltooid.</span><span class="sxs-lookup"><span data-stu-id="64a32-203">This responsibility means that for each consumer group, each partition reader must keep track of its current position in the event stream, and can inform the service when it considers the data stream complete.</span></span>

<span data-ttu-id="64a32-204">Als een lezer van een partitie is losgekoppeld en er vervolgens weer verbinding wordt gemaakt, begint het lezen bij het controlepunt dat eerder is verzonden door de laatste lezer van de betreffende partitie in de consumergroep.</span><span class="sxs-lookup"><span data-stu-id="64a32-204">If a reader disconnects from a partition, when it reconnects it begins reading at the checkpoint that was previously submitted by the last reader of that partition in that consumer group.</span></span> <span data-ttu-id="64a32-205">Wanneer de lezer verbinding maakt, wordt deze offset aan de Event Hub doorgegeven om de locatie op te geven waar moet worden begonnen met lezen.</span><span class="sxs-lookup"><span data-stu-id="64a32-205">When the reader connects, it passes this offset to the event hub to specify the location at which to start reading.</span></span> <span data-ttu-id="64a32-206">Op deze manier kunt u het plaatsen van controlepunten gebruiken om gebeurtenissen te markeren als 'voltooid' door downstream-toepassingen. Bovendien beschikt u met controlepunten over tolerantie bij een failover tussen lezers die op verschillende apparaten worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="64a32-206">In this way, you can use checkpointing to both mark events as "complete" by downstream applications, and to provide resiliency if a failover between readers running on different machines occurs.</span></span> <span data-ttu-id="64a32-207">Het is mogelijk om terug te keren naar de oudere gegevens door een lagere offset van dit controlepuntproces op te geven.</span><span class="sxs-lookup"><span data-stu-id="64a32-207">It is possible to return to older data by specifying a lower offset from this checkpointing process.</span></span> <span data-ttu-id="64a32-208">Via dit mechanisme zorgt het plaatsen van controlepunten voor failover-tolerantie en voor herhaling van gebeurtenisstromen.</span><span class="sxs-lookup"><span data-stu-id="64a32-208">Through this mechanism, checkpointing enables both failover resiliency and event stream replay.</span></span>

### <a name="common-consumer-tasks"></a><span data-ttu-id="64a32-209">Algemene taken voor consumers</span><span class="sxs-lookup"><span data-stu-id="64a32-209">Common consumer tasks</span></span>

<span data-ttu-id="64a32-210">Alle Event Hubs-consumers maken verbinding via een AMQP 1.0-sessie, een statusbewust bidirectioneel communicatiekanaal.</span><span class="sxs-lookup"><span data-stu-id="64a32-210">All Event Hubs consumers connect via an AMQP 1.0 session, a state-aware bidirectional communication channel.</span></span> <span data-ttu-id="64a32-211">Elke partitie heeft een AMQP 1.0-sessie die het mogelijk maakt partitiespecifieke gebeurtenissen te transporteren.</span><span class="sxs-lookup"><span data-stu-id="64a32-211">Each partition has an AMQP 1.0 session that facilitates the transport of events segregated by partition.</span></span>

#### <a name="connect-to-a-partition"></a><span data-ttu-id="64a32-212">Verbinding maken met een partitie</span><span class="sxs-lookup"><span data-stu-id="64a32-212">Connect to a partition</span></span>

<span data-ttu-id="64a32-213">Het is gebruikelijk om een leasemechanisme te gebruiken wanneer u verbinding maakt met partities, zodat u het verbinden van lezers aan specifieke partities kunt coördineren.</span><span class="sxs-lookup"><span data-stu-id="64a32-213">When connecting to partitions, it is common practice to use a leasing mechanism to coordinate reader connections to specific partitions.</span></span> <span data-ttu-id="64a32-214">Op deze manier maakt u het mogelijk dat elke partitie in een consumergroep slechts één actieve lezer heeft.</span><span class="sxs-lookup"><span data-stu-id="64a32-214">This way, it is possible for every partition in a consumer group to have only one active reader.</span></span> <span data-ttu-id="64a32-215">Het plaatsen van controlepunten voor en het leasen en beheren van lezers wordt vereenvoudigd door toepassing van de [EventProcessorHost](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost)-klasse voor .NET-clients.</span><span class="sxs-lookup"><span data-stu-id="64a32-215">Checkpointing, leasing, and managing readers are simplified by using the [EventProcessorHost](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost) class for .NET clients.</span></span> <span data-ttu-id="64a32-216">De Event Processor Host is een intelligente consumeragent.</span><span class="sxs-lookup"><span data-stu-id="64a32-216">The Event Processor Host is an intelligent consumer agent.</span></span>

#### <a name="read-events"></a><span data-ttu-id="64a32-217">Gebeurtenissen lezen</span><span class="sxs-lookup"><span data-stu-id="64a32-217">Read events</span></span>

<span data-ttu-id="64a32-218">Nadat er voor een specifieke partitie een AMQP 1.0-sessie en -koppeling zijn geopend, worden de gebeurtenissen door de Event Hubs-service aan de AMQP 1.0-client geleverd.</span><span class="sxs-lookup"><span data-stu-id="64a32-218">After an AMQP 1.0 session and link is opened for a specific partition, events are delivered to the AMQP 1.0 client by the Event Hubs service.</span></span> <span data-ttu-id="64a32-219">Dit leveringsmechanisme maakt hogere doorvoer en lagere latentie mogelijk dan pull-mechanismen zoals HTTP GET.</span><span class="sxs-lookup"><span data-stu-id="64a32-219">This delivery mechanism enables higher throughput and lower latency than pull-based mechanisms such as HTTP GET.</span></span> <span data-ttu-id="64a32-220">Tijdens het verzenden van gebeurtenissen naar de client wordt elk gebeurtenisgegeven voorzien van belangrijke metagegevens, zoals de offset en het volgnummer. Deze worden gebruikt om het plaatsen van controlepunten in de gebeurtenisvolgorde mogelijk te maken.</span><span class="sxs-lookup"><span data-stu-id="64a32-220">As events are sent to the client, each event data instance contains important metadata such as the offset and sequence number that are used to facilitate checkpointing on the event sequence.</span></span>

<span data-ttu-id="64a32-221">Gebeurtenisgegevens:</span><span class="sxs-lookup"><span data-stu-id="64a32-221">Event data:</span></span>
* <span data-ttu-id="64a32-222">Offset</span><span class="sxs-lookup"><span data-stu-id="64a32-222">Offset</span></span>
* <span data-ttu-id="64a32-223">Volgnummer</span><span class="sxs-lookup"><span data-stu-id="64a32-223">Sequence number</span></span>
* <span data-ttu-id="64a32-224">Hoofdtekst</span><span class="sxs-lookup"><span data-stu-id="64a32-224">Body</span></span>
* <span data-ttu-id="64a32-225">Gebruikerseigenschappen</span><span class="sxs-lookup"><span data-stu-id="64a32-225">User properties</span></span>
* <span data-ttu-id="64a32-226">Systeemeigenschappen</span><span class="sxs-lookup"><span data-stu-id="64a32-226">System properties</span></span>

<span data-ttu-id="64a32-227">U bent verantwoordelijk voor het beheer van de offset.</span><span class="sxs-lookup"><span data-stu-id="64a32-227">It is your responsibility to manage the offset.</span></span>

## <a name="capacity"></a><span data-ttu-id="64a32-228">Capaciteit</span><span class="sxs-lookup"><span data-stu-id="64a32-228">Capacity</span></span>

<span data-ttu-id="64a32-229">Event Hubs heeft een uiterst schaalbare parallelle architectuur. Er zijn diverse belangrijke factoren waarmee u rekening moet houden wanneer u schaalt.</span><span class="sxs-lookup"><span data-stu-id="64a32-229">Event Hubs has a highly scalable parallel architecture and there are several key factors to consider when sizing and scaling.</span></span>

### <a name="throughput-units"></a><span data-ttu-id="64a32-230">Doorvoereenheden</span><span class="sxs-lookup"><span data-stu-id="64a32-230">Throughput units</span></span>

<span data-ttu-id="64a32-231">De doorvoercapaciteit van Event Hubs wordt bepaald door het aantal beschikbare *doorvoereenheden*.</span><span class="sxs-lookup"><span data-stu-id="64a32-231">The throughput capacity of Event Hubs is controlled by *throughput units*.</span></span> <span data-ttu-id="64a32-232">Doorvoereenheden zijn vooraf aangeschafte capaciteitseenheden.</span><span class="sxs-lookup"><span data-stu-id="64a32-232">Throughput units are pre-purchased units of capacity.</span></span> <span data-ttu-id="64a32-233">Eén doorvoereenheid bevat de volgende capaciteit:</span><span class="sxs-lookup"><span data-stu-id="64a32-233">A single throughput unit includes the following capacity:</span></span>

* <span data-ttu-id="64a32-234">Binnenkomende gegevens: maximaal 1 MB per seconde of 1000 gebeurtenissen per seconde (afhankelijk van wat het eerst wordt bereikt)</span><span class="sxs-lookup"><span data-stu-id="64a32-234">Ingress: Up to 1 MB per second or 1000 events per second (whichever comes first)</span></span>
* <span data-ttu-id="64a32-235">Uitgaande gegevens: maximaal 2 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="64a32-235">Egress: Up to 2 MB per second</span></span>

<span data-ttu-id="64a32-236">Wanneer de capaciteit van de aangekochte doorvoereenheden wordt overschreven, wordt de invoer vertraagd en een [ServerBusyException](/dotnet/api/microsoft.servicebus.messaging.serverbusyexception) afgegeven.</span><span class="sxs-lookup"><span data-stu-id="64a32-236">Beyond the capacity of the purchased throughput units, ingress is throttled and a [ServerBusyException](/dotnet/api/microsoft.servicebus.messaging.serverbusyexception) is returned.</span></span> <span data-ttu-id="64a32-237">De uitvoer geeft geen vertragingsuitzonderingen af, maar is nog steeds beperkt tot de capaciteit van de aangekochte doorvoereenheden.</span><span class="sxs-lookup"><span data-stu-id="64a32-237">Egress does not produce throttling exceptions, but is still limited to the capacity of the purchased throughput units.</span></span> <span data-ttu-id="64a32-238">Als zich uitzonderingen met betrekking tot de publicatiesnelheid voordoen of als u meer uitgaande gegevens verwacht, controleert u hoeveel doorvoereenheden u hebt aangeschaft voor de naamruimte.</span><span class="sxs-lookup"><span data-stu-id="64a32-238">If you receive publishing rate exceptions or are expecting to see higher egress, be sure to check how many throughput units you have purchased for the namespace.</span></span> <span data-ttu-id="64a32-239">U kunt doorvoereenheden beheren op de **Scale** blade van de naamruimten in de [Azure-portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="64a32-239">You can manage throughput units on the **Scale** blade of the namespaces in the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="64a32-240">U kunt ook beheren doorvoereenheden programmatisch met behulp van de [Event Hubs-API's](event-hubs-api-overview.md).</span><span class="sxs-lookup"><span data-stu-id="64a32-240">You can also manage throughput units programmatically using the [Event Hubs APIs](event-hubs-api-overview.md).</span></span>

<span data-ttu-id="64a32-241">Doorvoereenheden worden per uur in rekening gebracht en zijn vooraf aangeschaft.</span><span class="sxs-lookup"><span data-stu-id="64a32-241">Throughput units are billed per hour and are pre-purchased.</span></span> <span data-ttu-id="64a32-242">Nadat u doorvoereenheden hebt aangeschaft, worden deze voor minimaal één uur in rekening gebracht.</span><span class="sxs-lookup"><span data-stu-id="64a32-242">Once purchased, throughput units are billed for a minimum of one hour.</span></span> <span data-ttu-id="64a32-243">Er kunnen maximaal 20 doorvoereenheden worden aangeschaft voor een naamruimte in Event Hubs. Deze worden gedeeld door alle Event Hubs in de naamruimte.</span><span class="sxs-lookup"><span data-stu-id="64a32-243">Up to 20 throughput units can be purchased for an Event Hubs namespace and are shared across all Event Hubs in the namespace.</span></span>

<span data-ttu-id="64a32-244">U kunt meer doorvoereenheden aanschaffen in blokken van 20, met een maximum van 100 doorvoereenheden, door contact op te nemen met de ondersteuning van Azure.</span><span class="sxs-lookup"><span data-stu-id="64a32-244">More throughput units can be purchased in blocks of 20, up to 100 throughput units, by contacting Azure support.</span></span> <span data-ttu-id="64a32-245">Daarna kunt u ook blokken van 100 doorvoereenheden aanschaffen.</span><span class="sxs-lookup"><span data-stu-id="64a32-245">Beyond that, you can also purchase blocks of 100 throughput units.</span></span>

<span data-ttu-id="64a32-246">Het is raadzaam dat u doorvoereenheden en partities om te zorgen voor optimale schaal worden verdeeld.</span><span class="sxs-lookup"><span data-stu-id="64a32-246">We recommend that you balance throughput units and partitions to achieve optimal scale.</span></span> <span data-ttu-id="64a32-247">Per partitie is maximaal één doorvoereenheid mogelijk.</span><span class="sxs-lookup"><span data-stu-id="64a32-247">A single partition has a maximum scale of one throughput unit.</span></span> <span data-ttu-id="64a32-248">Het aantal doorvoereenheden moet daarom kleiner zijn dan of gelijk zijn aan het aantal partities in een Event Hub.</span><span class="sxs-lookup"><span data-stu-id="64a32-248">The number of throughput units should be less than or equal to the number of partitions in an event hub.</span></span>

<span data-ttu-id="64a32-249">Zie voor gedetailleerde prijsinformatie Event Hubs [prijzen van Event Hubs](https://azure.microsoft.com/pricing/details/event-hubs/).</span><span class="sxs-lookup"><span data-stu-id="64a32-249">For detailed Event Hubs pricing information, see [Event Hubs pricing](https://azure.microsoft.com/pricing/details/event-hubs/).</span></span>

## <a name="next-steps"></a><span data-ttu-id="64a32-250">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="64a32-250">Next steps</span></span>

<span data-ttu-id="64a32-251">Voor meer informatie over Event Hubs gaat u naar de volgende koppelingen:</span><span class="sxs-lookup"><span data-stu-id="64a32-251">For more information about Event Hubs, visit the following links:</span></span>

* <span data-ttu-id="64a32-252">Aan de slag met een [Event Hubs-zelfstudie][Event Hubs tutorial]</span><span class="sxs-lookup"><span data-stu-id="64a32-252">Get started with an [Event Hubs tutorial][Event Hubs tutorial]</span></span>
* [<span data-ttu-id="64a32-253">Programmeerhandleiding voor Event Hubs</span><span class="sxs-lookup"><span data-stu-id="64a32-253">Event Hubs programming guide</span></span>](event-hubs-programming-guide.md)
* [<span data-ttu-id="64a32-254">Beschikbaarheid en consistentie in Event Hubs</span><span class="sxs-lookup"><span data-stu-id="64a32-254">Availability and consistency in Event Hubs</span></span>](event-hubs-availability-and-consistency.md)
* [<span data-ttu-id="64a32-255">Veelgestelde vragen over Event Hubs</span><span class="sxs-lookup"><span data-stu-id="64a32-255">Event Hubs FAQ</span></span>](event-hubs-faq.md)
* <span data-ttu-id="64a32-256">[Voorbeelden van Event Hubs][]</span><span class="sxs-lookup"><span data-stu-id="64a32-256">[Event Hubs samples][]</span></span>

[Event Hubs tutorial]: event-hubs-dotnet-standard-getstarted-send.md
[Voorbeelden van Event Hubs]: https://github.com/Azure/azure-event-hubs/tree/master/samples
