---
title: Overwegingen voor Azure Virtual Machine-Schaalsets aaaDesign | Microsoft Docs
description: Meer informatie over overwegingen bij het ontwerpen voor uw Azure virtuele-Machineschaalsets
keywords: virtuele Linux-machine, virtuele-machineschaalsets
services: virtual-machine-scale-sets
documentationcenter: 
author: gatneil
manager: madhana
editor: tysonn
tags: azure-resource-manager
ms.assetid: c27c6a59-a0ab-4117-a01b-42b049464ca1
ms.service: virtual-machine-scale-sets
ms.workload: na
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/01/2017
ms.author: negat
ms.openlocfilehash: f8644d36fe5903bd4b74df26dca5dc3211ee3516
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="design-considerations-for-scale-sets"></a><span data-ttu-id="669e6-104">Ontwerpoverwegingen voor Schaalsets</span><span class="sxs-lookup"><span data-stu-id="669e6-104">Design Considerations For Scale Sets</span></span>
<span data-ttu-id="669e6-105">Dit onderwerp wordt besproken ontwerpoverwegingen voor het virtuele-Machineschaalsets.</span><span class="sxs-lookup"><span data-stu-id="669e6-105">This topic discusses design considerations for Virtual Machine Scale Sets.</span></span> <span data-ttu-id="669e6-106">Voor informatie over wat virtuele-Machineschaalsets zijn, Raadpleeg te[overzicht van virtuele machines Scale Sets](virtual-machine-scale-sets-overview.md).</span><span class="sxs-lookup"><span data-stu-id="669e6-106">For information about what Virtual Machine Scale Sets are, refer too[Virtual Machine Scale Sets Overview](virtual-machine-scale-sets-overview.md).</span></span>

## <a name="when-toouse-scale-sets-instead-of-virtual-machines"></a><span data-ttu-id="669e6-107">Wanneer toouse scale Hiermee stelt u in plaats van virtuele machines?</span><span class="sxs-lookup"><span data-stu-id="669e6-107">When toouse scale sets instead of virtual machines?</span></span>
<span data-ttu-id="669e6-108">In het algemeen zijn schaalsets nuttig voor het implementeren van maximaal beschikbare infrastructuur waarin een set machines vergelijkbare configuratie hebben.</span><span class="sxs-lookup"><span data-stu-id="669e6-108">Generally, scale sets are useful for deploying highly available infrastructure where a set of machines have similar configuration.</span></span> <span data-ttu-id="669e6-109">Sommige functies zijn echter alleen beschikbaar in schaalsets terwijl andere functies alleen beschikbaar in virtuele machines zijn.</span><span class="sxs-lookup"><span data-stu-id="669e6-109">However, some features are only available in scale sets while other features are only available in VMs.</span></span> <span data-ttu-id="669e6-110">In volgorde toomake een gefundeerde beslissing nemen over wanneer toouse elke technologie we moeten eerst eens kijken aantal Hallo gebruikte functies die beschikbaar in-schaalsets, maar geen virtuele machines zijn:</span><span class="sxs-lookup"><span data-stu-id="669e6-110">In order toomake an informed decision about when toouse each technology, we should first take a look at some of hello commonly used features that are available in scale sets but not VMs:</span></span>

### <a name="scale-set-specific-features"></a><span data-ttu-id="669e6-111">Scale set-specifieke functies</span><span class="sxs-lookup"><span data-stu-id="669e6-111">Scale set-specific features</span></span>

- <span data-ttu-id="669e6-112">Zodra u Hallo scale set configuratie opgeeft, kunt u gewoon bijwerken Hallo 'capaciteit' eigenschap toodeploy meer virtuele machines parallel.</span><span class="sxs-lookup"><span data-stu-id="669e6-112">Once you specify hello scale set configuration, you can simply update hello "capacity" property toodeploy more VMs in parallel.</span></span> <span data-ttu-id="669e6-113">Dit is veel eenvoudiger dan het schrijven van een script tooorchestrate veel afzonderlijke VM's parallel te implementeren.</span><span class="sxs-lookup"><span data-stu-id="669e6-113">This is much simpler than writing a script tooorchestrate deploying many individual VMs in parallel.</span></span>
- <span data-ttu-id="669e6-114">U kunt [gebruik Azure automatisch schalen tooautomatically schalen een schaalset](./virtual-machine-scale-sets-autoscale-overview.md) maar geen afzonderlijke virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="669e6-114">You can [use Azure Autoscale tooautomatically scale a scale set](./virtual-machine-scale-sets-autoscale-overview.md) but not individual VMs.</span></span>
- <span data-ttu-id="669e6-115">U kunt [terugzetten van de installatiekopie schaalset VMs](https://docs.microsoft.com/rest/api/virtualmachinescalesets/manage-a-vm) maar [geen afzonderlijke virtuele machines](https://docs.microsoft.com/rest/api/compute/virtualmachines).</span><span class="sxs-lookup"><span data-stu-id="669e6-115">You can [reimage scale set VMs](https://docs.microsoft.com/rest/api/virtualmachinescalesets/manage-a-vm) but [not individual VMs](https://docs.microsoft.com/rest/api/compute/virtualmachines).</span></span>
- <span data-ttu-id="669e6-116">U kunt [overprovision](./virtual-machine-scale-sets-design-overview.md) schaalset virtuele machines voor grotere betrouwbaarheid en sneller implementatietijden.</span><span class="sxs-lookup"><span data-stu-id="669e6-116">You can [overprovision](./virtual-machine-scale-sets-design-overview.md) scale set VMs for increased reliability and quicker deployment times.</span></span> <span data-ttu-id="669e6-117">U doen dit niet met afzonderlijke virtuele machines tenzij u aangepaste code toodo dit schrijven.</span><span class="sxs-lookup"><span data-stu-id="669e6-117">You cannot do this with individual VMs unless you write custom code toodo this.</span></span>
- <span data-ttu-id="669e6-118">Kunt u een [Upgradebeleid](./virtual-machine-scale-sets-upgrade-scale-set.md) toomake het eenvoudig tooroll upgrades over VM's in de schaalset uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="669e6-118">You can specify an [upgrade policy](./virtual-machine-scale-sets-upgrade-scale-set.md) toomake it easy tooroll out upgrades across VMs in your scale set.</span></span> <span data-ttu-id="669e6-119">Met afzonderlijke virtuele machines, u moet u updates indeelt zelf.</span><span class="sxs-lookup"><span data-stu-id="669e6-119">With individual VMs, you must orchestrate updates yourself.</span></span>

### <a name="vm-specific-features"></a><span data-ttu-id="669e6-120">VM-specifieke functies</span><span class="sxs-lookup"><span data-stu-id="669e6-120">VM-specific features</span></span>

<span data-ttu-id="669e6-121">Op Hallo daarentegen, sommige functies zijn alleen beschikbaar in virtuele machines (ten minste voor Hallo tijd):</span><span class="sxs-lookup"><span data-stu-id="669e6-121">On hello other hand, some features are only available in VMs (at least for hello time being):</span></span>

- <span data-ttu-id="669e6-122">U kunt gegevens schijven toospecific bijvoegen afzonderlijke virtuele machines, maar de gegevensschijven van de gekoppelde zijn geconfigureerd voor alle VM's in een schaalset.</span><span class="sxs-lookup"><span data-stu-id="669e6-122">You can attach data disks toospecific individual VMs, but attached data disks are configured for all VMs in a scale set.</span></span>
- <span data-ttu-id="669e6-123">U kunt gegevens van niet-lege schijven tooindividual VM's, maar geen virtuele machines in een schaalset koppelen.</span><span class="sxs-lookup"><span data-stu-id="669e6-123">You can attach non-empty data disks tooindividual VMs but not VMs in a scale set.</span></span>
- <span data-ttu-id="669e6-124">U kunt een momentopname van een afzonderlijke VM, maar niet een virtuele machine in een schaalset.</span><span class="sxs-lookup"><span data-stu-id="669e6-124">You can snapshot an individual VM but not a VM in a scale set.</span></span>
- <span data-ttu-id="669e6-125">U kunt een installatiekopie van een afzonderlijke virtuele machine, maar niet op een virtuele machine in een set scale vastleggen.</span><span class="sxs-lookup"><span data-stu-id="669e6-125">You can capture an image from an individual VM but not from a VM in a scale set.</span></span>
- <span data-ttu-id="669e6-126">U kunt een afzonderlijke virtuele machine migreren van systeemeigen schijven toomanaged schijven, maar kan geen u dit doen voor virtuele machines in een schaalset.</span><span class="sxs-lookup"><span data-stu-id="669e6-126">You can migrate an individual VM from native disks toomanaged disks, but you cannot do this for VMs in a scale set.</span></span>
- <span data-ttu-id="669e6-127">U IPv6-openbare IP-adressen tooindividual VM NIC's kunt toewijzen, maar niet voor virtuele machines in een schaalset.</span><span class="sxs-lookup"><span data-stu-id="669e6-127">You can assign IPv6 public IP addresses tooindividual VM nics but cannot do so for VMs in a scale set.</span></span> <span data-ttu-id="669e6-128">Houd er rekening mee dat u het openbare IP-adressen IPv6 tooload balancers voor een afzonderlijke virtuele machines toewijzen kunt of VM-schaalset.</span><span class="sxs-lookup"><span data-stu-id="669e6-128">Note that you can assign IPv6 public IP addresses tooload balancers in front of either individual VMs or scale set VMs.</span></span>

## <a name="storage"></a><span data-ttu-id="669e6-129">Storage</span><span class="sxs-lookup"><span data-stu-id="669e6-129">Storage</span></span>

### <a name="scale-sets-with-azure-managed-disks"></a><span data-ttu-id="669e6-130">Schaalsets met beheerde Azure-schijven</span><span class="sxs-lookup"><span data-stu-id="669e6-130">Scale sets with Azure Managed Disks</span></span>
<span data-ttu-id="669e6-131">Schaalsets kunnen worden gemaakt met [Azure beheerd schijven](../virtual-machines/windows/managed-disks-overview.md) in plaats van traditionele Azure storage-accounts.</span><span class="sxs-lookup"><span data-stu-id="669e6-131">Scale sets can be created with [Azure Managed Disks](../virtual-machines/windows/managed-disks-overview.md) instead of traditional Azure storage accounts.</span></span> <span data-ttu-id="669e6-132">Beheerde schijven bieden Hallo volgende voordelen:</span><span class="sxs-lookup"><span data-stu-id="669e6-132">Managed Disks provide hello following benefits:</span></span>
- <span data-ttu-id="669e6-133">U hebt geen toopre-maken van een set van Azure storage-accounts voor Hallo virtuele machines schaalset.</span><span class="sxs-lookup"><span data-stu-id="669e6-133">You do not have toopre-create a set of Azure storage accounts for hello scale set VMs.</span></span>
- <span data-ttu-id="669e6-134">U kunt definiëren [gegevensschijven gekoppeld](virtual-machine-scale-sets-attached-disks.md) voor Hallo VM's in uw scale ingesteld.</span><span class="sxs-lookup"><span data-stu-id="669e6-134">You can define [attached data disks](virtual-machine-scale-sets-attached-disks.md) for hello VMs in your scale set.</span></span>
- <span data-ttu-id="669e6-135">-Schaalsets te kunnen worden geconfigureerd[ondersteuning voor maximaal too1, 000 VM's in een set](virtual-machine-scale-sets-placement-groups.md).</span><span class="sxs-lookup"><span data-stu-id="669e6-135">Scale sets can be configured too[support up too1,000 VMs in a set](virtual-machine-scale-sets-placement-groups.md).</span></span> 

<span data-ttu-id="669e6-136">Als u een bestaande sjabloon hebt, kunt u ook [bijwerken Hallo sjabloon toouse beheerde schijven](virtual-machine-scale-sets-convert-template-to-md.md).</span><span class="sxs-lookup"><span data-stu-id="669e6-136">If you have an existing template, you can also [update hello template toouse Managed Disks](virtual-machine-scale-sets-convert-template-to-md.md).</span></span>

### <a name="user-managed-storage"></a><span data-ttu-id="669e6-137">Opslag gebruikers wordt beheerd</span><span class="sxs-lookup"><span data-stu-id="669e6-137">User-managed Storage</span></span>
<span data-ttu-id="669e6-138">Een schaalset die niet is gedefinieerd met Azure beheerd schijven afhankelijk van de gebruiker gemaakte accounts toostore Hallo OS opslagschijven Hallo VM's in Hallo set.</span><span class="sxs-lookup"><span data-stu-id="669e6-138">A scale set that is not defined with Azure Managed Disks relies on user-created storage accounts toostore hello OS disks of hello VMs in hello set.</span></span> <span data-ttu-id="669e6-139">Een ratio van 20 VM's per storage-account of minder wordt aanbevolen tooachieve maximale i/o en ook profiteren van de _overmatige inrichting_ (Zie hieronder).</span><span class="sxs-lookup"><span data-stu-id="669e6-139">A ratio of 20 VMs per storage account or less is recommended tooachieve maximum IO and also take advantage of _overprovisioning_ (see below).</span></span> <span data-ttu-id="669e6-140">Het is ook raadzaam dat u Hallo begin tekens van de namen van opslagaccounts Hallo verdeeld over Hallo alfabet.</span><span class="sxs-lookup"><span data-stu-id="669e6-140">It is also recommended that you spread hello beginning characters of hello storage account names across hello alphabet.</span></span> <span data-ttu-id="669e6-141">Dit doet, helpt load verdeeld over verschillende interne systemen.</span><span class="sxs-lookup"><span data-stu-id="669e6-141">Doing so helps spread load across different internal systems.</span></span> 


## <a name="overprovisioning"></a><span data-ttu-id="669e6-142">Overmatige inrichting</span><span class="sxs-lookup"><span data-stu-id="669e6-142">Overprovisioning</span></span>
<span data-ttu-id="669e6-143">Schaal stelt momenteel standaard te 'overmatige inrichting' virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="669e6-143">Scale sets currently default too"overprovisioning" VMs.</span></span> <span data-ttu-id="669e6-144">Met overmatige inrichting ingeschakeld, Hallo scale daadwerkelijk draaien om zo meer VM's dan u om hebt gevraagd instellen en vervolgens verwijdert Hallo extra VM's wanneer Hallo aangevraagd aantal virtuele machines met succes zijn ingericht.</span><span class="sxs-lookup"><span data-stu-id="669e6-144">With overprovisioning turned on, hello scale set actually spins up more VMs than you asked for, then deletes hello extra VMs once hello requested number of VMs are successfully provisioned.</span></span> <span data-ttu-id="669e6-145">Overmatige inrichting verbetert inrichting succespercentages en minder implementatietijd.</span><span class="sxs-lookup"><span data-stu-id="669e6-145">Overprovisioning improves provisioning success rates and reduces deployment time.</span></span> <span data-ttu-id="669e6-146">U wordt niet voor hello extra VM's, en ze niet voor uw quotalimieten meetellen gefactureerd.</span><span class="sxs-lookup"><span data-stu-id="669e6-146">You are not billed for hello extra VMs, and they do not count toward your quota limits.</span></span>

<span data-ttu-id="669e6-147">Terwijl overmatige inrichting inrichting succespercentages verbeteren, kan dit leiden tot verwarring gedrag voor een toepassing die is niet ontworpen toohandle extra VM's die wordt weergegeven en klik vervolgens verdwijnen.</span><span class="sxs-lookup"><span data-stu-id="669e6-147">While overprovisioning does improve provisioning success rates, it can cause confusing behavior for an application that is not designed toohandle extra VMs appearing and then disappearing.</span></span> <span data-ttu-id="669e6-148">tooturn overmatige inrichting uitgeschakeld, Controleer of er Hallo tekenreeks in de sjabloon te volgen: `"overprovision": "false"`.</span><span class="sxs-lookup"><span data-stu-id="669e6-148">tooturn overprovisioning off, ensure you have hello following string in your template: `"overprovision": "false"`.</span></span> <span data-ttu-id="669e6-149">Meer informatie vindt u in Hallo [Scale ingesteld REST API-documentatie](/rest/api/virtualmachinescalesets/create-or-update-a-set).</span><span class="sxs-lookup"><span data-stu-id="669e6-149">More details can be found in hello [Scale Set REST API documentation](/rest/api/virtualmachinescalesets/create-or-update-a-set).</span></span>

<span data-ttu-id="669e6-150">Als uw scale set gebruikers wordt beheerd opslag gebruikt en u overmatige inrichting uitschakelen, kunt u meer dan 20 VM's per storage-account hebben, maar het wordt niet aangeraden toogo hierboven 40 van de i/o-prestaties.</span><span class="sxs-lookup"><span data-stu-id="669e6-150">If your scale set uses user-managed storage, and you turn off overprovisioning, you can have more than 20 VMs per storage account, but it is not recommended toogo above 40 for IO performance reasons.</span></span> 

## <a name="limits"></a><span data-ttu-id="669e6-151">Limieten</span><span class="sxs-lookup"><span data-stu-id="669e6-151">Limits</span></span>
<span data-ttu-id="669e6-152">Een schaalset gebouwd op een Marketplace-installatiekopie (ook wel bekend als een platforminstallatiekopie) en Azure beheerd schijven een capaciteit van up too1, 000 VMs ondersteunt toouse geconfigureerd.</span><span class="sxs-lookup"><span data-stu-id="669e6-152">A scale set built on a Marketplace image (also known as a platform image) and configured toouse Azure Managed Disks supports a capacity of up too1,000 VMs.</span></span> <span data-ttu-id="669e6-153">Als u uw scale set toosupport meer dan 100 virtuele machines configureert, niet alle scenario's werken dezelfde Hallo (voor een voorbeeld van de taakverdeling).</span><span class="sxs-lookup"><span data-stu-id="669e6-153">If you configure your scale set toosupport more than 100 VMs, not all scenarios work hello same (for example load balancing).</span></span> <span data-ttu-id="669e6-154">Zie voor meer informatie [werken met grote virtuele machine-schaalsets](virtual-machine-scale-sets-placement-groups.md).</span><span class="sxs-lookup"><span data-stu-id="669e6-154">For more information, see [Working with large virtual machine scale sets](virtual-machine-scale-sets-placement-groups.md).</span></span> 

<span data-ttu-id="669e6-155">Een schalen instellen met gebruikers wordt beheerd storage-accounts geconfigureerd is momenteel beperkt too100 VMs (en 5 storage-accounts worden aanbevolen voor deze schaal).</span><span class="sxs-lookup"><span data-stu-id="669e6-155">A scale set configured with user-managed storage accounts is currently limited too100 VMs (and 5 storage accounts are recommended for this scale).</span></span>

<span data-ttu-id="669e6-156">Een schaalset gebouwd op een aangepaste installatiekopie (één gebouwd door u) kan een capaciteit van up too100 VM's wanneer geconfigureerd met Azure-beheerde schijven hebben.</span><span class="sxs-lookup"><span data-stu-id="669e6-156">A scale set built on a custom image (one built by you) can have a capacity of up too100 VMs when configured with Azure Managed disks.</span></span> <span data-ttu-id="669e6-157">Als Hallo scale set wordt geconfigureerd met gebruikers wordt beheerd storage-accounts, moet deze alle OS VHD's van schijf binnen een opslagaccount maken.</span><span class="sxs-lookup"><span data-stu-id="669e6-157">If hello scale set is configured with user-managed storage accounts, it must create all OS disk VHDs within one storage account.</span></span> <span data-ttu-id="669e6-158">Als gevolg hiervan Hallo maximale aanbevolen aantal virtuele machines in een set scale is gebouwd op een aangepaste installatiekopie en gebruikers wordt beheerd opslag is 20.</span><span class="sxs-lookup"><span data-stu-id="669e6-158">As a result, hello maximum recommended number of VMs in a scale set built on a custom image and user-managed storage is 20.</span></span> <span data-ttu-id="669e6-159">Als u overmatige inrichting uitschakelt, kunt u up too40 gaan.</span><span class="sxs-lookup"><span data-stu-id="669e6-159">If you turn off overprovisioning, you can go up too40.</span></span>

<span data-ttu-id="669e6-160">Voor meer virtuele machines dan deze limiet is toegestaan, moet u meerdere scale ingesteld zoals wordt weergegeven in toodeploy [deze sjabloon](https://github.com/Azure/azure-quickstart-templates/tree/master/301-custom-images-at-scale).</span><span class="sxs-lookup"><span data-stu-id="669e6-160">For more VMs than these limits allow, you need toodeploy multiple scale sets as shown in [this template](https://github.com/Azure/azure-quickstart-templates/tree/master/301-custom-images-at-scale).</span></span>

