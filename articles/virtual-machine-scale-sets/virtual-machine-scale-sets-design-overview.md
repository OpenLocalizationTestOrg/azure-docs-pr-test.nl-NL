---
title: Ontwerpoverwegingen voor het virtuele Azure-Machine-Schaalsets | Microsoft Docs
description: Meer informatie over overwegingen bij het ontwerpen voor uw Azure virtuele-Machineschaalsets
keywords: virtuele Linux-machine, virtuele-machineschaalsets
services: virtual-machine-scale-sets
documentationcenter: 
author: gatneil
manager: madhana
editor: tysonn
tags: azure-resource-manager
ms.assetid: c27c6a59-a0ab-4117-a01b-42b049464ca1
ms.service: virtual-machine-scale-sets
ms.workload: na
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/01/2017
ms.author: negat
ms.openlocfilehash: 6dbd4f22e3e949e19565030f5a10f545b89a0a3c
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/29/2017
---
# <a name="design-considerations-for-scale-sets"></a><span data-ttu-id="a5881-104">Ontwerpoverwegingen voor Schaalsets</span><span class="sxs-lookup"><span data-stu-id="a5881-104">Design Considerations For Scale Sets</span></span>
<span data-ttu-id="a5881-105">Dit onderwerp wordt besproken ontwerpoverwegingen voor het virtuele-Machineschaalsets.</span><span class="sxs-lookup"><span data-stu-id="a5881-105">This topic discusses design considerations for Virtual Machine Scale Sets.</span></span> <span data-ttu-id="a5881-106">Raadpleeg voor informatie over wat virtuele-Machineschaalsets zijn [overzicht van virtuele machines Scale Sets](virtual-machine-scale-sets-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a5881-106">For information about what Virtual Machine Scale Sets are, refer to [Virtual Machine Scale Sets Overview](virtual-machine-scale-sets-overview.md).</span></span>

## <a name="when-to-use-scale-sets-instead-of-virtual-machines"></a><span data-ttu-id="a5881-107">Het gebruik van scale Hiermee stelt u in plaats van virtuele machines?</span><span class="sxs-lookup"><span data-stu-id="a5881-107">When to use scale sets instead of virtual machines?</span></span>
<span data-ttu-id="a5881-108">In het algemeen zijn schaalsets nuttig voor het implementeren van maximaal beschikbare infrastructuur waarin een set machines vergelijkbare configuratie hebben.</span><span class="sxs-lookup"><span data-stu-id="a5881-108">Generally, scale sets are useful for deploying highly available infrastructure where a set of machines have similar configuration.</span></span> <span data-ttu-id="a5881-109">Sommige functies zijn echter alleen beschikbaar in schaalsets terwijl andere functies alleen beschikbaar in virtuele machines zijn.</span><span class="sxs-lookup"><span data-stu-id="a5881-109">However, some features are only available in scale sets while other features are only available in VMs.</span></span> <span data-ttu-id="a5881-110">Om te beslissen over het gebruik van elke technologie, moeten we eerst eens kijken enkele van de meest gebruikte functies die beschikbaar in-schaalsets, maar geen virtuele machines zijn:</span><span class="sxs-lookup"><span data-stu-id="a5881-110">In order to make an informed decision about when to use each technology, we should first take a look at some of the commonly used features that are available in scale sets but not VMs:</span></span>

### <a name="scale-set-specific-features"></a><span data-ttu-id="a5881-111">Scale set-specifieke functies</span><span class="sxs-lookup"><span data-stu-id="a5881-111">Scale set-specific features</span></span>

- <span data-ttu-id="a5881-112">Zodra u de schaal configuratie instellen opgeeft, kunt u gewoon de eigenschap 'capaciteit' voor het implementeren van meer virtuele machines parallel bijwerken.</span><span class="sxs-lookup"><span data-stu-id="a5881-112">Once you specify the scale set configuration, you can simply update the "capacity" property to deploy more VMs in parallel.</span></span> <span data-ttu-id="a5881-113">Dit is veel eenvoudiger dan het schrijven van een script voor de organisatie veel afzonderlijke VM's parallel te implementeren.</span><span class="sxs-lookup"><span data-stu-id="a5881-113">This is much simpler than writing a script to orchestrate deploying many individual VMs in parallel.</span></span>
- <span data-ttu-id="a5881-114">U kunt [Azure automatisch schalen gebruiken voor het automatisch schalen een schaalset](./virtual-machine-scale-sets-autoscale-overview.md) maar geen afzonderlijke virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="a5881-114">You can [use Azure Autoscale to automatically scale a scale set](./virtual-machine-scale-sets-autoscale-overview.md) but not individual VMs.</span></span>
- <span data-ttu-id="a5881-115">U kunt [terugzetten van de installatiekopie schaalset VMs](https://docs.microsoft.com/rest/api/virtualmachinescalesets/manage-a-vm) maar [geen afzonderlijke virtuele machines](https://docs.microsoft.com/rest/api/compute/virtualmachines).</span><span class="sxs-lookup"><span data-stu-id="a5881-115">You can [reimage scale set VMs](https://docs.microsoft.com/rest/api/virtualmachinescalesets/manage-a-vm) but [not individual VMs](https://docs.microsoft.com/rest/api/compute/virtualmachines).</span></span>
- <span data-ttu-id="a5881-116">U kunt [overprovision](./virtual-machine-scale-sets-design-overview.md) schaalset virtuele machines voor grotere betrouwbaarheid en sneller implementatietijden.</span><span class="sxs-lookup"><span data-stu-id="a5881-116">You can [overprovision](./virtual-machine-scale-sets-design-overview.md) scale set VMs for increased reliability and quicker deployment times.</span></span> <span data-ttu-id="a5881-117">U doen dit niet met afzonderlijke virtuele machines tenzij u aangepaste code schrijven voor dit doen.</span><span class="sxs-lookup"><span data-stu-id="a5881-117">You cannot do this with individual VMs unless you write custom code to do this.</span></span>
- <span data-ttu-id="a5881-118">Kunt u een [Upgradebeleid](./virtual-machine-scale-sets-upgrade-scale-set.md) gemakkelijker uitrolt upgrades over VM's in de schaalset.</span><span class="sxs-lookup"><span data-stu-id="a5881-118">You can specify an [upgrade policy](./virtual-machine-scale-sets-upgrade-scale-set.md) to make it easy to roll out upgrades across VMs in your scale set.</span></span> <span data-ttu-id="a5881-119">Met afzonderlijke virtuele machines, u moet u updates indeelt zelf.</span><span class="sxs-lookup"><span data-stu-id="a5881-119">With individual VMs, you must orchestrate updates yourself.</span></span>

### <a name="vm-specific-features"></a><span data-ttu-id="a5881-120">VM-specifieke functies</span><span class="sxs-lookup"><span data-stu-id="a5881-120">VM-specific features</span></span>

<span data-ttu-id="a5881-121">Aan de andere kant sommige functies zijn alleen beschikbaar in virtuele machines (ten minste voorlopig):</span><span class="sxs-lookup"><span data-stu-id="a5881-121">On the other hand, some features are only available in VMs (at least for the time being):</span></span>

- <span data-ttu-id="a5881-122">U kunt gegevensschijven koppelen aan specifieke afzonderlijke virtuele machines, maar de bijgesloten gegevensschijven zijn geconfigureerd voor alle virtuele machines in een schaalset.</span><span class="sxs-lookup"><span data-stu-id="a5881-122">You can attach data disks to specific individual VMs, but attached data disks are configured for all VMs in a scale set.</span></span>
- <span data-ttu-id="a5881-123">Afzonderlijke virtuele machines, maar geen virtuele machines in een schaalset kunt u niet-lege gegevensschijven koppelen.</span><span class="sxs-lookup"><span data-stu-id="a5881-123">You can attach non-empty data disks to individual VMs but not VMs in a scale set.</span></span>
- <span data-ttu-id="a5881-124">U kunt een momentopname van een afzonderlijke VM, maar niet een virtuele machine in een schaalset.</span><span class="sxs-lookup"><span data-stu-id="a5881-124">You can snapshot an individual VM but not a VM in a scale set.</span></span>
- <span data-ttu-id="a5881-125">U kunt een installatiekopie van een afzonderlijke virtuele machine, maar niet op een virtuele machine in een set scale vastleggen.</span><span class="sxs-lookup"><span data-stu-id="a5881-125">You can capture an image from an individual VM but not from a VM in a scale set.</span></span>
- <span data-ttu-id="a5881-126">U kunt een afzonderlijke virtuele machine migreren vanaf systeemeigen schijven aan beheerde schijven, maar kan geen u dit doen voor virtuele machines in een schaalset.</span><span class="sxs-lookup"><span data-stu-id="a5881-126">You can migrate an individual VM from native disks to managed disks, but you cannot do this for VMs in a scale set.</span></span>
- <span data-ttu-id="a5881-127">U kunt IPv6 openbare IP-adressen toewijzen aan afzonderlijke NIC's van VM maar niet voor virtuele machines in een schaalset.</span><span class="sxs-lookup"><span data-stu-id="a5881-127">You can assign IPv6 public IP addresses to individual VM nics but cannot do so for VMs in a scale set.</span></span> <span data-ttu-id="a5881-128">Houd er rekening mee dat u IPv6-openbare IP-adressen aan load balancers voor een afzonderlijke virtuele machines kunt toewijzen of VM-schaalset.</span><span class="sxs-lookup"><span data-stu-id="a5881-128">Note that you can assign IPv6 public IP addresses to load balancers in front of either individual VMs or scale set VMs.</span></span>

## <a name="storage"></a><span data-ttu-id="a5881-129">Storage</span><span class="sxs-lookup"><span data-stu-id="a5881-129">Storage</span></span>

### <a name="scale-sets-with-azure-managed-disks"></a><span data-ttu-id="a5881-130">Schaalsets met beheerde Azure-schijven</span><span class="sxs-lookup"><span data-stu-id="a5881-130">Scale sets with Azure Managed Disks</span></span>
<span data-ttu-id="a5881-131">Schaalsets kunnen worden gemaakt met [Azure beheerd schijven](../virtual-machines/windows/managed-disks-overview.md) in plaats van traditionele Azure storage-accounts.</span><span class="sxs-lookup"><span data-stu-id="a5881-131">Scale sets can be created with [Azure Managed Disks](../virtual-machines/windows/managed-disks-overview.md) instead of traditional Azure storage accounts.</span></span> <span data-ttu-id="a5881-132">Beheerde schijven bieden de volgende voordelen:</span><span class="sxs-lookup"><span data-stu-id="a5881-132">Managed Disks provide the following benefits:</span></span>
- <span data-ttu-id="a5881-133">U beschikt niet over een set van Azure storage-accounts vooraf maken voor de VM-schaalset.</span><span class="sxs-lookup"><span data-stu-id="a5881-133">You do not have to pre-create a set of Azure storage accounts for the scale set VMs.</span></span>
- <span data-ttu-id="a5881-134">U kunt definiëren [gegevensschijven gekoppeld](virtual-machine-scale-sets-attached-disks.md) ingesteld voor de virtuele machines in de schaal.</span><span class="sxs-lookup"><span data-stu-id="a5881-134">You can define [attached data disks](virtual-machine-scale-sets-attached-disks.md) for the VMs in your scale set.</span></span>
- <span data-ttu-id="a5881-135">Schaalsets kunnen worden geconfigureerd voor [ondersteuning voor maximaal 1000 virtuele machines in een set](virtual-machine-scale-sets-placement-groups.md).</span><span class="sxs-lookup"><span data-stu-id="a5881-135">Scale sets can be configured to [support up to 1,000 VMs in a set](virtual-machine-scale-sets-placement-groups.md).</span></span> 

<span data-ttu-id="a5881-136">Als u een bestaande sjabloon hebt, kunt u ook [bijwerken van de sjabloon voor het gebruik van schijven beheerd](virtual-machine-scale-sets-convert-template-to-md.md).</span><span class="sxs-lookup"><span data-stu-id="a5881-136">If you have an existing template, you can also [update the template to use Managed Disks](virtual-machine-scale-sets-convert-template-to-md.md).</span></span>

### <a name="user-managed-storage"></a><span data-ttu-id="a5881-137">Opslag gebruikers wordt beheerd</span><span class="sxs-lookup"><span data-stu-id="a5881-137">User-managed Storage</span></span>
<span data-ttu-id="a5881-138">Een schaalset die niet is gedefinieerd met Azure beheerd schijven afhankelijk van de gebruiker gemaakte storage-accounts voor het opslaan van de OS-schijven van de virtuele machines in de set.</span><span class="sxs-lookup"><span data-stu-id="a5881-138">A scale set that is not defined with Azure Managed Disks relies on user-created storage accounts to store the OS disks of the VMs in the set.</span></span> <span data-ttu-id="a5881-139">Een ratio van 20 VM's per storage-account of minder wordt aanbevolen bereiken van maximale i/o en ook te profiteren van _overmatige inrichting_ (Zie hieronder).</span><span class="sxs-lookup"><span data-stu-id="a5881-139">A ratio of 20 VMs per storage account or less is recommended to achieve maximum IO and also take advantage of _overprovisioning_ (see below).</span></span> <span data-ttu-id="a5881-140">Het is ook raadzaam dat u het begin van de namen van opslagaccounts verdeeld over het alfabet.</span><span class="sxs-lookup"><span data-stu-id="a5881-140">It is also recommended that you spread the beginning characters of the storage account names across the alphabet.</span></span> <span data-ttu-id="a5881-141">Dit doet, helpt load verdeeld over verschillende interne systemen.</span><span class="sxs-lookup"><span data-stu-id="a5881-141">Doing so helps spread load across different internal systems.</span></span> 


## <a name="overprovisioning"></a><span data-ttu-id="a5881-142">Overmatige inrichting</span><span class="sxs-lookup"><span data-stu-id="a5881-142">Overprovisioning</span></span>
<span data-ttu-id="a5881-143">Schaal stelt momenteel standaard ingesteld op 'overmatige inrichting' virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="a5881-143">Scale sets currently default to "overprovisioning" VMs.</span></span> <span data-ttu-id="a5881-144">Met overmatige inrichting ingeschakeld, wordt in de schaal daadwerkelijk draaien om zo meer VM's dan u om hebt gevraagd ingesteld, wordt de extra virtuele machines worden verwijderd wanneer het aangevraagde aantal virtuele machines met succes zijn ingericht.</span><span class="sxs-lookup"><span data-stu-id="a5881-144">With overprovisioning turned on, the scale set actually spins up more VMs than you asked for, then deletes the extra VMs once the requested number of VMs are successfully provisioned.</span></span> <span data-ttu-id="a5881-145">Overmatige inrichting verbetert inrichting succespercentages en minder implementatietijd.</span><span class="sxs-lookup"><span data-stu-id="a5881-145">Overprovisioning improves provisioning success rates and reduces deployment time.</span></span> <span data-ttu-id="a5881-146">U wordt niet gefactureerd voor de extra virtuele machines en ze niet meetellen voor uw quotalimieten.</span><span class="sxs-lookup"><span data-stu-id="a5881-146">You are not billed for the extra VMs, and they do not count toward your quota limits.</span></span>

<span data-ttu-id="a5881-147">Terwijl overmatige inrichting inrichting succespercentages verbeteren, kunnen er verwarrende gedrag voor een toepassing die niet is ontworpen voor het afhandelen van extra VM's die wordt weergegeven en klik vervolgens verdwijnen.</span><span class="sxs-lookup"><span data-stu-id="a5881-147">While overprovisioning does improve provisioning success rates, it can cause confusing behavior for an application that is not designed to handle extra VMs appearing and then disappearing.</span></span> <span data-ttu-id="a5881-148">Schakel overmatige inrichting uitschakelen Zorg ervoor dat u hebt de volgende tekenreeks in de sjabloon: `"overprovision": "false"`.</span><span class="sxs-lookup"><span data-stu-id="a5881-148">To turn overprovisioning off, ensure you have the following string in your template: `"overprovision": "false"`.</span></span> <span data-ttu-id="a5881-149">Meer informatie vindt u in de [Scale ingesteld REST API-documentatie](/rest/api/virtualmachinescalesets/create-or-update-a-set).</span><span class="sxs-lookup"><span data-stu-id="a5881-149">More details can be found in the [Scale Set REST API documentation](/rest/api/virtualmachinescalesets/create-or-update-a-set).</span></span>

<span data-ttu-id="a5881-150">Als uw scale set gebruikers wordt beheerd opslag gebruikt en u overmatige inrichting uitschakelen, kunt u meer dan 20 VM's per storage-account hebben, maar het wordt niet aangeraden om te gaan boven 40 van de i/o-prestaties.</span><span class="sxs-lookup"><span data-stu-id="a5881-150">If your scale set uses user-managed storage, and you turn off overprovisioning, you can have more than 20 VMs per storage account, but it is not recommended to go above 40 for IO performance reasons.</span></span> 

## <a name="limits"></a><span data-ttu-id="a5881-151">Limieten</span><span class="sxs-lookup"><span data-stu-id="a5881-151">Limits</span></span>
<span data-ttu-id="a5881-152">Een schaalset gebaseerd op een Marketplace-installatiekopie (ook wel bekend als een platforminstallatiekopie) en geconfigureerd voor het gebruik van Azure beheerd schijven biedt ondersteuning voor een capaciteit van maximaal 1000 virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="a5881-152">A scale set built on a Marketplace image (also known as a platform image) and configured to use Azure Managed Disks supports a capacity of up to 1,000 VMs.</span></span> <span data-ttu-id="a5881-153">Als u de schaal instelt voor de ondersteuning van meer dan 100 virtuele machines configureert, werken niet in alle scenario's op dezelfde manier (voor een voorbeeld van de taakverdeling).</span><span class="sxs-lookup"><span data-stu-id="a5881-153">If you configure your scale set to support more than 100 VMs, not all scenarios work the same (for example load balancing).</span></span> <span data-ttu-id="a5881-154">Zie voor meer informatie [werken met grote virtuele machine-schaalsets](virtual-machine-scale-sets-placement-groups.md).</span><span class="sxs-lookup"><span data-stu-id="a5881-154">For more information, see [Working with large virtual machine scale sets](virtual-machine-scale-sets-placement-groups.md).</span></span> 

<span data-ttu-id="a5881-155">Een schaal instellen met gebruikers wordt beheerd storage-accounts geconfigureerd is momenteel beperkt tot 100 virtuele machines (en 5 storage-accounts worden aanbevolen voor deze schaal).</span><span class="sxs-lookup"><span data-stu-id="a5881-155">A scale set configured with user-managed storage accounts is currently limited to 100 VMs (and 5 storage accounts are recommended for this scale).</span></span>

<span data-ttu-id="a5881-156">Een schaalset gebouwd op een aangepaste installatiekopie (één gebouwd door u) kan een capaciteit van maximaal 100 virtuele machines wanneer geconfigureerd met Azure-beheerde schijven hebben.</span><span class="sxs-lookup"><span data-stu-id="a5881-156">A scale set built on a custom image (one built by you) can have a capacity of up to 100 VMs when configured with Azure Managed disks.</span></span> <span data-ttu-id="a5881-157">Als de schaalaanpassingsset is geconfigureerd met opslagaccounts gebruikers wordt beheerd, moet deze alle OS VHD's van schijf binnen een opslagaccount maken.</span><span class="sxs-lookup"><span data-stu-id="a5881-157">If the scale set is configured with user-managed storage accounts, it must create all OS disk VHDs within one storage account.</span></span> <span data-ttu-id="a5881-158">Daardoor het maximale aantal virtuele machines in een set scale is gebouwd op een aangepaste installatiekopie aanbevolen en gebruikers wordt beheerd opslag is 20.</span><span class="sxs-lookup"><span data-stu-id="a5881-158">As a result, the maximum recommended number of VMs in a scale set built on a custom image and user-managed storage is 20.</span></span> <span data-ttu-id="a5881-159">Als u overmatige inrichting uitschakelt, kunt u maximaal 40 gaan.</span><span class="sxs-lookup"><span data-stu-id="a5881-159">If you turn off overprovisioning, you can go up to 40.</span></span>

<span data-ttu-id="a5881-160">Voor meer virtuele machines dan deze limiet is toegestaan, moet u meerdere schaalsets implementeren, zoals wordt weergegeven in [deze sjabloon](https://github.com/Azure/azure-quickstart-templates/tree/master/301-custom-images-at-scale).</span><span class="sxs-lookup"><span data-stu-id="a5881-160">For more VMs than these limits allow, you need to deploy multiple scale sets as shown in [this template](https://github.com/Azure/azure-quickstart-templates/tree/master/301-custom-images-at-scale).</span></span>

