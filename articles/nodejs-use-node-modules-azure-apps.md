---
title: aaaWorking met Node.js-Modules
description: Meer informatie over hoe toowork met Node.js-modules bij gebruik van Azure App Service- of Cloudservices.
services: 
documentationcenter: nodejs
author: TomArcher
manager: routlaw
editor: 
ms.assetid: c0e6cd3d-932d-433e-b72d-e513e23b4eb6
ms.service: multiple
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 08/17/2016
ms.author: tarcher
ms.openlocfilehash: 926358b7eb80a659dbc1015686b06a30d8c9b8f0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="using-nodejs-modules-with-azure-applications"></a><span data-ttu-id="05b3a-103">Node.js-modules gebruiken met Azure-toepassingen</span><span class="sxs-lookup"><span data-stu-id="05b3a-103">Using Node.js Modules with Azure applications</span></span>
<span data-ttu-id="05b3a-104">Dit document biedt richtlijnen voor het gebruik van Node.js-modules met toepassingen die worden gehost op Azure.</span><span class="sxs-lookup"><span data-stu-id="05b3a-104">This document provides guidance on using Node.js modules with applications hosted on Azure.</span></span> <span data-ttu-id="05b3a-105">Er wordt uitgelegd hoe u ervoor zorgt dat uw toepassing een bepaalde versie van een module gebruikt en dat er systeemeigen modules voor Azure worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="05b3a-105">It provides guidance on ensuring that your application uses a specific version of module as well as using native modules with Azure.</span></span>

<span data-ttu-id="05b3a-106">Als u al bekend bent met behulp van Node.js-modules **package.json** en **npm shrinkwrap.json** bestanden, Hallo volgende informatie bevat een kort overzicht van wat in dit artikel wordt beschreven:</span><span class="sxs-lookup"><span data-stu-id="05b3a-106">If you are already familiar with using Node.js modules, **package.json** and **npm-shrinkwrap.json** files, hello following information provides a quick summary of what is discussed in this article:</span></span>

* <span data-ttu-id="05b3a-107">Azure App Service begrijpt **package.json** en **npm shrinkwrap.json** -bestanden en modules op basis van gegevens in deze bestanden kunt installeren.</span><span class="sxs-lookup"><span data-stu-id="05b3a-107">Azure App Service understands **package.json** and **npm-shrinkwrap.json** files and can install modules based on entries in these files.</span></span>

* <span data-ttu-id="05b3a-108">Azure Cloud Services verwachten alle modules toobe geïnstalleerd op Hallo ontwikkelomgeving en Hallo **knooppunt\_modules** directory toobe opgenomen als onderdeel van het implementatiepakket Hallo.</span><span class="sxs-lookup"><span data-stu-id="05b3a-108">Azure Cloud Services expect all modules toobe installed on hello development environment, and hello **node\_modules** directory toobe included as part of hello deployment package.</span></span> <span data-ttu-id="05b3a-109">Het is mogelijk tooenable ondersteuning voor het installeren van modules met behulp van **package.json** of **npm shrinkwrap.json** bestanden op Cloudservices; deze configuratie is echter vereist voor aanpassing van Hallo-standaard scripts die worden gebruikt door de Cloud Service-projecten.</span><span class="sxs-lookup"><span data-stu-id="05b3a-109">It is possible tooenable support for installing modules using **package.json** or **npm-shrinkwrap.json** files on Cloud Services; however, this configuration requires customization of hello default scripts used by Cloud Service projects.</span></span> <span data-ttu-id="05b3a-110">Voor een voorbeeld van hoe tooconfigure deze omgeving, Zie [Azure opstarten taak toorun npm tooavoid implementeren knooppunt modules installeren](https://github.com/woloski/nodeonazure-blog/blob/master/articles/startup-task-to-run-npm-in-azure.markdown)</span><span class="sxs-lookup"><span data-stu-id="05b3a-110">For an example of how tooconfigure this environment, see [Azure Startup task toorun npm install tooavoid deploying node modules](https://github.com/woloski/nodeonazure-blog/blob/master/articles/startup-task-to-run-npm-in-azure.markdown)</span></span>

> [!NOTE]
> <span data-ttu-id="05b3a-111">Virtuele Machines in Azure worden niet beschreven in dit artikel, zoals Hallo implementatie-ervaring op een virtuele machine afhankelijk van het besturingssysteem Hallo gehost door Hallo virtuele Machine is.</span><span class="sxs-lookup"><span data-stu-id="05b3a-111">Azure Virtual Machines are not discussed in this article, as hello deployment experience in a VM is dependent on hello operating system hosted by hello Virtual Machine.</span></span>
> 
> 

## <a name="nodejs-modules"></a><span data-ttu-id="05b3a-112">Node.js-Modules</span><span class="sxs-lookup"><span data-stu-id="05b3a-112">Node.js Modules</span></span>
<span data-ttu-id="05b3a-113">Modules zijn geladen JavaScript-pakketten die specifieke functionaliteit voor uw toepassing bieden.</span><span class="sxs-lookup"><span data-stu-id="05b3a-113">Modules are loadable JavaScript packages that provide specific functionality for your application.</span></span> <span data-ttu-id="05b3a-114">Modules worden meestal geïnstalleerd met behulp van Hallo **npm** opdrachtregelprogramma hulpprogramma, maar sommige modules (zoals Hallo HTTP-module) worden geleverd als onderdeel van Hallo core Node.js-pakket.</span><span class="sxs-lookup"><span data-stu-id="05b3a-114">Modules are usually installed using hello **npm** command-line tool, however some modules (such as hello http module) are provided as part of hello core Node.js package.</span></span>

<span data-ttu-id="05b3a-115">Wanneer modules zijn geïnstalleerd, worden ze opgeslagen in Hallo **knooppunt\_modules** map in de hoofdmap Hallo van directory-structuur van uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="05b3a-115">When modules are installed, they are stored in hello **node\_modules** directory at hello root of your application directory structure.</span></span> <span data-ttu-id="05b3a-116">Elke module binnen Hallo **knooppunt\_modules** directory onderhoudt een eigen **knooppunt\_modules** map waarin zich geen modules die afhankelijk is van en dit gedrag wordt herhaald voor elke module alle Hallo manier omlaag Hallo afhankelijkheidsketen.</span><span class="sxs-lookup"><span data-stu-id="05b3a-116">Each module within hello **node\_modules** directory maintains its own **node\_modules** directory that contains any modules that it depends on, and this behavior repeats for every module all hello way down hello dependency chain.</span></span> <span data-ttu-id="05b3a-117">Deze omgeving kunt elke toohave-module geïnstalleerd zijn eigen versievereisten voor Hallo modules dat deze afhankelijk is, maar dit in zeer grote directory-structuur resulteren kan.</span><span class="sxs-lookup"><span data-stu-id="05b3a-117">This environment allows each module installed toohave its own version requirements for hello modules it depends on, however it can result in quite a large directory structure.</span></span>

<span data-ttu-id="05b3a-118">Implementatie Hallo **knooppunt\_modules** map als onderdeel van uw toepassing groter Hallo Hallo implementatie vergelijking toousing een **package.json** of  **npm shrinkwrap.json** bestand; echter, wordt gegarandeerd dat Hallo-versies van het Hallo-modules die worden gebruikt in productie dezelfde zijn Hallo als Hallo-modules die worden gebruikt in ontwikkeling.</span><span class="sxs-lookup"><span data-stu-id="05b3a-118">Deploying hello **node\_modules** directory as part of your application increases hello size of hello deployment when compared toousing a **package.json** or **npm-shrinkwrap.json** file; however, it does guarantee that hello versions of hello modules used in production are hello same as hello modules used in development.</span></span>

### <a name="native-modules"></a><span data-ttu-id="05b3a-119">Systeemeigen Modules</span><span class="sxs-lookup"><span data-stu-id="05b3a-119">Native Modules</span></span>
<span data-ttu-id="05b3a-120">Hoewel de meeste modules gewoon JavaScript tekstbestanden zijn, zijn sommige modules platform-specifieke binaire installatiekopieën.</span><span class="sxs-lookup"><span data-stu-id="05b3a-120">While most modules are simply plain-text JavaScript files, some modules are platform-specific binary images.</span></span> <span data-ttu-id="05b3a-121">Deze modules worden gecompileerd tijdens de installatie, meestal met behulp van Python en knooppunt gyp.</span><span class="sxs-lookup"><span data-stu-id="05b3a-121">These modules are compiled at install time, usually by using Python and node-gyp.</span></span> <span data-ttu-id="05b3a-122">Omdat Azure Cloud Services zijn afhankelijk van Hallo **knooppunt\_modules** map wordt geïmplementeerd als onderdeel van de toepassing hello, een systeemeigen module opgenomen als onderdeel van modules Hallo geïnstalleerd in een cloudservice werken moet zoals deze was geïnstalleerd en op een Windows-ontwikkelsysteem gecompileerd.</span><span class="sxs-lookup"><span data-stu-id="05b3a-122">Since Azure Cloud Services rely on hello **node\_modules** folder being deployed as part of hello application, any native module included as part of hello installed modules should work in a cloud service as long as it was installed and compiled on a Windows development system.</span></span>

<span data-ttu-id="05b3a-123">Azure App Service biedt geen ondersteuning voor alle systeemeigen modules en mislukken bij het compileren van modules met specifieke vereisten.</span><span class="sxs-lookup"><span data-stu-id="05b3a-123">Azure App Service does not support all native modules, and might fail when compiling modules with specific prerequisites.</span></span> <span data-ttu-id="05b3a-124">Hoewel sommige populaire modules zoals MongoDB optionele systeemeigen afhankelijkheden hebben en zonder deze werken, twee oplossingen bewezen succesvol kunnen werken met bijna alle beschikbare systeemeigen modules vandaag:</span><span class="sxs-lookup"><span data-stu-id="05b3a-124">While some popular modules like MongoDB have optional native dependencies and work fine without them, two workarounds proved successful with almost all native modules available today:</span></span>

* <span data-ttu-id="05b3a-125">Voer **npm installeren** op een Windows-machine waarop alle Hallo systeemeigen module van vereiste items geïnstalleerd is.</span><span class="sxs-lookup"><span data-stu-id="05b3a-125">Run **npm install** on a Windows machine that has all hello native module's prerequisites installed.</span></span> <span data-ttu-id="05b3a-126">Vervolgens implementeert Hallo gemaakt **knooppunt\_modules** map als onderdeel van Hallo toepassing tooAzure App Service.</span><span class="sxs-lookup"><span data-stu-id="05b3a-126">Then, deploy hello created **node\_modules** folder as part of hello application tooAzure App Service.</span></span>

  * <span data-ttu-id="05b3a-127">Voor het compileren, Controleer u of overeenkomende architectuur heeft als uw lokale Node.js-installatie en Hallo-versie zo dicht mogelijk toohello die wordt gebruikt bij Azure is (Hallo huidige waarden kunnen worden gecontroleerd op de runtime van eigenschappen **process.arch**en **process.version**).</span><span class="sxs-lookup"><span data-stu-id="05b3a-127">Before compiling, check that your local Node.js installation has matching architecture and hello version is as close as possible toohello one used in Azure (hello current values can be checked on runtime from properties **process.arch** and **process.version**).</span></span>

* <span data-ttu-id="05b3a-128">Azure App Service kan geconfigureerde tooexecute aangepaste bash of shell-scripts tijdens de implementatie, zodat u Hallo kans tooexecute aangepaste opdrachten en nauwkeurig configureren Hallo manier **npm installeren** wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="05b3a-128">Azure App Service can be configured tooexecute custom bash or shell scripts during deployment, giving you hello opportunity tooexecute custom commands and precisely configure hello way **npm install** is being run.</span></span> <span data-ttu-id="05b3a-129">Voor een video wordt weergegeven hoe tooconfigure die omgeving, Zie [aangepaste Website Implementatiescripts met Kudu].</span><span class="sxs-lookup"><span data-stu-id="05b3a-129">For a video showing how tooconfigure that environment, see [Custom Website Deployment Scripts with Kudu].</span></span>

### <a name="using-a-packagejson-file"></a><span data-ttu-id="05b3a-130">Met behulp van een package.json-bestand</span><span class="sxs-lookup"><span data-stu-id="05b3a-130">Using a package.json file</span></span>
<span data-ttu-id="05b3a-131">Hallo **package.json** bestand is een manier toospecify Hallo op het hoogste niveau afhankelijkheden uw toepassing vereist zodat hello host-platform kunt installeren Hallo afhankelijkheden, in plaats van dat u tooinclude hello **knooppunt \_pakketten** map als onderdeel van Hallo-implementatie.</span><span class="sxs-lookup"><span data-stu-id="05b3a-131">hello **package.json** file is a way toospecify hello top-level dependencies your application requires so that hello hosting platform can install hello dependencies, rather than requiring you tooinclude hello **node\_packages** folder as part of hello deployment.</span></span> <span data-ttu-id="05b3a-132">Nadat de toepassing hello is geïmplementeerd, Hallo **npm installeren** opdracht is gebruikte tooparse hello **package.json** bestands- en alle vermelde Hallo-afhankelijkheden te installeren.</span><span class="sxs-lookup"><span data-stu-id="05b3a-132">After hello application has been deployed, hello **npm install** command is used tooparse hello **package.json** file and install all hello dependencies listed.</span></span>

<span data-ttu-id="05b3a-133">Tijdens de ontwikkeling, kunt u Hallo **--opslaan**, **--opslaan dev**, of **--opslaan optionele** parameters bij het installeren van modules tooadd een vermelding voor Hallo module tooyour **package.json** bestand automatisch.</span><span class="sxs-lookup"><span data-stu-id="05b3a-133">During development, you can use hello **--save**, **--save-dev**, or **--save-optional** parameters when installing modules tooadd an entry for hello module tooyour **package.json** file automatically.</span></span> <span data-ttu-id="05b3a-134">Zie voor meer informatie [npm-Installeer](https://docs.npmjs.com/cli/install).</span><span class="sxs-lookup"><span data-stu-id="05b3a-134">For more information, see [npm-install](https://docs.npmjs.com/cli/install).</span></span>

<span data-ttu-id="05b3a-135">Een mogelijk probleem met de Hallo **package.json** bestand is dat het Hallo-versie voor op het hoogste niveau afhankelijkheden alleen wordt opgegeven.</span><span class="sxs-lookup"><span data-stu-id="05b3a-135">One potential problem with hello **package.json** file is that it only specifies hello version for top-level dependencies.</span></span> <span data-ttu-id="05b3a-136">Elke module die is geïnstalleerd kan of kan geen Hallo version Hallo-modules die afhankelijk van is opgeven, en is het mogelijk dat u met een andere afhankelijkheidsketen dan Hallo die wordt gebruikt bij de ontwikkeling eindigen mogelijk.</span><span class="sxs-lookup"><span data-stu-id="05b3a-136">Each module installed may or may not specify hello version of hello modules it depends on, and so it is possible that you may end up with a different dependency chain than hello one used in development.</span></span>

> [!NOTE]
> <span data-ttu-id="05b3a-137">Bij het implementeren van tooAzure App Service, als uw <b>package.json</b> bestand verwijst naar een systeemeigen module ziet u mogelijk een foutbericht vergelijkbaar toohello voorbeeld te volgen bij het publiceren van Hallo-toepassing met Git:</span><span class="sxs-lookup"><span data-stu-id="05b3a-137">When deploying tooAzure App Service, if your <b>package.json</b> file references a native module you might see an error similar toohello following example when publishing hello application using Git:</span></span>
> 
> <span data-ttu-id="05b3a-138">npm ERR!</span><span class="sxs-lookup"><span data-stu-id="05b3a-138">npm ERR!</span></span> <span data-ttu-id="05b3a-139">module-name@0.6.0installeren: 'build knooppunt gyp configureren'</span><span class="sxs-lookup"><span data-stu-id="05b3a-139">module-name@0.6.0 install: 'node-gyp configure build'</span></span>
> 
> <span data-ttu-id="05b3a-140">npm ERR!</span><span class="sxs-lookup"><span data-stu-id="05b3a-140">npm ERR!</span></span> <span data-ttu-id="05b3a-141">' cmd "/ c" 'knooppunt gyp configureren build' ' is mislukt: 1</span><span class="sxs-lookup"><span data-stu-id="05b3a-141">'cmd "/c" "node-gyp configure build"' failed with 1</span></span>
> 
> 

### <a name="using-a-npm-shrinkwrapjson-file"></a><span data-ttu-id="05b3a-142">Met behulp van een bestand npm shrinkwrap.json</span><span class="sxs-lookup"><span data-stu-id="05b3a-142">Using a npm-shrinkwrap.json file</span></span>
<span data-ttu-id="05b3a-143">Hallo **npm shrinkwrap.json** bestand is een poging tooaddress Hallo module versioning beperkingen van Hallo **package.json** bestand.</span><span class="sxs-lookup"><span data-stu-id="05b3a-143">hello **npm-shrinkwrap.json** file is an attempt tooaddress hello module versioning limitations of hello **package.json** file.</span></span> <span data-ttu-id="05b3a-144">Tijdens het Hallo **package.json** bestand bevat alleen versies voor modules die Hallo op het hoogste niveau hello **npm shrinkwrap.json** bestand Hallo versievereisten voor Hallo volledige module afhankelijkheidsketen bevat.</span><span class="sxs-lookup"><span data-stu-id="05b3a-144">While hello **package.json** file only includes versions for hello top-level modules, hello **npm-shrinkwrap.json** file contains hello version requirements for hello full module dependency chain.</span></span>

<span data-ttu-id="05b3a-145">Wanneer uw toepassing gereed voor productie is, kunt u versievereisten vergrendelen en maakt een **npm shrinkwrap.json** bestand met behulp van Hallo **npm verpakking** opdracht.</span><span class="sxs-lookup"><span data-stu-id="05b3a-145">When your application is ready for production, you can lock down version requirements and create an **npm-shrinkwrap.json** file by using hello **npm shrinkwrap** command.</span></span> <span data-ttu-id="05b3a-146">Met deze opdracht gebruikt Hallo-versies die momenteel geïnstalleerd in Hallo **knooppunt\_modules** map, en noteer deze versies toohello **npm shrinkwrap.json** bestand.</span><span class="sxs-lookup"><span data-stu-id="05b3a-146">This command will use hello versions currently installed in hello **node\_modules** folder, and record these versions toohello **npm-shrinkwrap.json** file.</span></span> <span data-ttu-id="05b3a-147">Nadat de toepassing hello geïmplementeerde toohello hostomgeving zijn, Hallo **npm installeren** opdracht is gebruikte tooparse hello **npm shrinkwrap.json** bestands- en alle vermelde Hallo-afhankelijkheden te installeren.</span><span class="sxs-lookup"><span data-stu-id="05b3a-147">After hello application has been deployed toohello hosting environment, hello **npm install** command is used tooparse hello **npm-shrinkwrap.json** file and install all hello dependencies listed.</span></span> <span data-ttu-id="05b3a-148">Zie voor meer informatie [npm verpakking](https://docs.npmjs.com/cli/shrinkwrap).</span><span class="sxs-lookup"><span data-stu-id="05b3a-148">For more information, see [npm-shrinkwrap](https://docs.npmjs.com/cli/shrinkwrap).</span></span>

> [!NOTE]
> <span data-ttu-id="05b3a-149">Bij het implementeren van tooAzure App Service, als uw <b>npm shrinkwrap.json</b> bestand verwijst naar een systeemeigen module ziet u mogelijk een foutbericht vergelijkbaar toohello voorbeeld te volgen bij het publiceren van Hallo-toepassing met Git:</span><span class="sxs-lookup"><span data-stu-id="05b3a-149">When deploying tooAzure App Service, if your <b>npm-shrinkwrap.json</b> file references a native module you might see an error similar toohello following example when publishing hello application using Git:</span></span>
> 
> <span data-ttu-id="05b3a-150">npm ERR!</span><span class="sxs-lookup"><span data-stu-id="05b3a-150">npm ERR!</span></span> <span data-ttu-id="05b3a-151">module-name@0.6.0installeren: 'build knooppunt gyp configureren'</span><span class="sxs-lookup"><span data-stu-id="05b3a-151">module-name@0.6.0 install: 'node-gyp configure build'</span></span>
> 
> <span data-ttu-id="05b3a-152">npm ERR!</span><span class="sxs-lookup"><span data-stu-id="05b3a-152">npm ERR!</span></span> <span data-ttu-id="05b3a-153">' cmd "/ c" 'knooppunt gyp configureren build' ' is mislukt: 1</span><span class="sxs-lookup"><span data-stu-id="05b3a-153">'cmd "/c" "node-gyp configure build"' failed with 1</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="05b3a-154">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="05b3a-154">Next steps</span></span>
<span data-ttu-id="05b3a-155">Nu dat u begrijpt hoe toouse Node.js-modules met Azure, informatie over hoe te[hello Node.js-versie opgeven], [bouwen en implementeren van een Node.js-web-app](app-service-web/app-service-web-get-started-nodejs.md), en [hoe toouse hello Azure vanaf de opdrachtregel Interface voor Mac en Linux].</span><span class="sxs-lookup"><span data-stu-id="05b3a-155">Now that you understand how toouse Node.js modules with Azure, learn how too[specify hello Node.js version], [build and deploy a Node.js web app](app-service-web/app-service-web-get-started-nodejs.md), and [How toouse hello Azure Command-Line Interface for Mac and Linux].</span></span>

<span data-ttu-id="05b3a-156">Zie voor meer informatie, Hallo [Node.js Developer Center](/nodejs/azure/).</span><span class="sxs-lookup"><span data-stu-id="05b3a-156">For more information, see hello [Node.js Developer Center](/nodejs/azure/).</span></span>

[hello Node.js-versie opgeven]: nodejs-specify-node-version-azure-apps.md
[hoe toouse hello Azure vanaf de opdrachtregel Interface voor Mac en Linux]:cli-install-nodejs.md
[aangepaste Website Implementatiescripts met Kudu]: https://channel9.msdn.com/Shows/Azure-Friday/Custom-Web-Site-Deployment-Scripts-with-Kudu-with-David-Ebbo
