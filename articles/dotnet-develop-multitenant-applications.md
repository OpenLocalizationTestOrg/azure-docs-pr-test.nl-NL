---
title: Multitenant Web Application patroon | Microsoft Docs
description: Architectuur overzichten en ontwerppatronen die wordt beschreven hoe u een multitenant-webtoepassing implementeren op Azure vinden.
services: 
documentationcenter: .net
author: wadepickett
manager: wpickett
editor: 
ms.assetid: 4f0281d2-1555-42b0-a99d-1222fade0b0f
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 06/05/2015
ms.author: wpickett
ms.openlocfilehash: 57ba0e46139bda2d74c9f7db0ffab2f2122b0df2
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/03/2017
---
# <a name="multitenant-applications-in-azure"></a><span data-ttu-id="b1353-103">Multitenant-toepassingen in Azure</span><span class="sxs-lookup"><span data-stu-id="b1353-103">Multitenant Applications in Azure</span></span>
<span data-ttu-id="b1353-104">Een multitenant-toepassing is een gedeelde bron waarmee afzonderlijke gebruikers of 'tenants' om weer te geven van de toepassing, alsof het was hun eigen.</span><span class="sxs-lookup"><span data-stu-id="b1353-104">A multitenant application is a shared resource that allows separate users, or "tenants," to view the application as though it was their own.</span></span> <span data-ttu-id="b1353-105">Een typisch scenario die gepaard met een multitenant-toepassing is een waarin alle gebruikers van de toepassing wilt aanpassen van de gebruikerservaring maar anders hebben dezelfde elementaire zakelijke vereisten.</span><span class="sxs-lookup"><span data-stu-id="b1353-105">A typical scenario that lends itself to a multitenant application is one in which all users of the application may wish to customize the user experience but otherwise have the same basic business requirements.</span></span> <span data-ttu-id="b1353-106">Voorbeelden van grote multitenant toepassingen zijn Office 365, Outlook.com en visualstudio.com.</span><span class="sxs-lookup"><span data-stu-id="b1353-106">Examples of large multitenant applications are Office 365, Outlook.com, and visualstudio.com.</span></span>

<span data-ttu-id="b1353-107">Vanuit het perspectief van de toepassingsprovider van een, is de voordelen van multitenancy voornamelijk betrekking hebben op de operationele en kosten-efficiëntie.</span><span class="sxs-lookup"><span data-stu-id="b1353-107">From an application provider's perspective, the benefits of multitenancy mostly relate to operational and cost efficiencies.</span></span> <span data-ttu-id="b1353-108">Een versie van uw toepassing kunt voldoen aan de behoeften van veel tenants/klanten, zodat de consolidatie van systeem beheertaken, zoals controle, prestaties afstemmen, onderhoud en gegevensback-ups.</span><span class="sxs-lookup"><span data-stu-id="b1353-108">One version of your application can meet the needs of many tenants/customers, allowing consolidation of system administration tasks such as monitoring, performance tuning, software maintenance, and data backups.</span></span>

<span data-ttu-id="b1353-109">Hieronder vindt u een lijst van de belangrijkste doelstellingen en vereisten uit het perspectief van de provider.</span><span class="sxs-lookup"><span data-stu-id="b1353-109">The following provides a list of the most significant goals and requirements from a provider's perspective.</span></span>

* <span data-ttu-id="b1353-110">**Inrichting**: U moet zich kunnen voor het inrichten van nieuwe tenants voor de toepassing.</span><span class="sxs-lookup"><span data-stu-id="b1353-110">**Provisioning**: You must be able to provision new tenants for the application.</span></span>  <span data-ttu-id="b1353-111">Voor multitenant-toepassingen met een groot aantal tenants is het normaal gesproken moet u dit proces ook automatiseren door in te schakelen selfservice inrichting.</span><span class="sxs-lookup"><span data-stu-id="b1353-111">For multitenant applications with a large number of tenants, it is usually necessary to automate this process by enabling self-service provisioning.</span></span>
* <span data-ttu-id="b1353-112">**Onderhoud**: U moet zich kunnen upgraden van de toepassing en andere onderhoudstaken uitvoeren terwijl's hier gebruik van meerdere tenants.</span><span class="sxs-lookup"><span data-stu-id="b1353-112">**Maintainability**: You must be able to upgrade the application and perform other maintenance tasks while multiple tenants are using it.</span></span>
* <span data-ttu-id="b1353-113">**Bewaking**: U moet kunnen om de toepassing te allen tijde problemen identificeren en oplossen van de fouten te bewaken.</span><span class="sxs-lookup"><span data-stu-id="b1353-113">**Monitoring**: You must be able to monitor the application at all times to identify any problems and to troubleshoot them.</span></span> <span data-ttu-id="b1353-114">Dit omvat bewaking hoe elke tenant wordt gebruik van de toepassing.</span><span class="sxs-lookup"><span data-stu-id="b1353-114">This includes monitoring how each tenant is using the application.</span></span>

<span data-ttu-id="b1353-115">Een goed geïmplementeerde multitenant toepassing biedt de volgende voordelen voor gebruikers.</span><span class="sxs-lookup"><span data-stu-id="b1353-115">A properly implemented multitenant application provides the following benefits to users.</span></span>

* <span data-ttu-id="b1353-116">**Isolatie**: de activiteiten van individuele tenants hebben geen invloed op het gebruik van de toepassing van andere tenants.</span><span class="sxs-lookup"><span data-stu-id="b1353-116">**Isolation**: The activities of individual tenants do not affect the use of the application by other tenants.</span></span> <span data-ttu-id="b1353-117">Tenants geen toegang tot elkaars gegevens.</span><span class="sxs-lookup"><span data-stu-id="b1353-117">Tenants cannot access each other's data.</span></span> <span data-ttu-id="b1353-118">Deze wordt weergegeven aan de tenant, alsof er exclusief gebruik van de toepassing.</span><span class="sxs-lookup"><span data-stu-id="b1353-118">It appears to the tenant as though they have exclusive use of the application.</span></span>
* <span data-ttu-id="b1353-119">**Beschikbaarheid**: individuele tenants wilt dat de toepassing mogelijk voortdurend beschikbaar, worden gedefinieerd in een SLA garanties.</span><span class="sxs-lookup"><span data-stu-id="b1353-119">**Availability**: Individual tenants want the application to be constantly available, perhaps with guarantees defined in an SLA.</span></span> <span data-ttu-id="b1353-120">De activiteiten van andere tenants moeten ook geen invloed op de beschikbaarheid van de toepassing.</span><span class="sxs-lookup"><span data-stu-id="b1353-120">Again, the activities of other tenants should not affect the availability of the application.</span></span>
* <span data-ttu-id="b1353-121">**Schaalbaarheid**: de toepassing wordt aangepast aan het voldoen aan de vraag van individuele tenants.</span><span class="sxs-lookup"><span data-stu-id="b1353-121">**Scalability**: The application scales to meet the demand of individual tenants.</span></span> <span data-ttu-id="b1353-122">De prestaties van de toepassing moeten niet van invloed op de aanwezigheid en acties van andere tenants.</span><span class="sxs-lookup"><span data-stu-id="b1353-122">The presence and actions of other tenants should not affect the performance of the application.</span></span>
* <span data-ttu-id="b1353-123">**Kosten**: kosten zijn lager is dan het uitvoeren van een toepassing speciale, één tenant omdat multi-tenancymodus in staat stelt het delen van bronnen.</span><span class="sxs-lookup"><span data-stu-id="b1353-123">**Costs**: Costs are lower than running a dedicated, single-tenant application because multi-tenancy enables the sharing of resources.</span></span>
* <span data-ttu-id="b1353-124">**Aanpassingsmogelijkheden**.</span><span class="sxs-lookup"><span data-stu-id="b1353-124">**Customizability**.</span></span> <span data-ttu-id="b1353-125">De mogelijkheid voor het aanpassen van de toepassing voor een afzonderlijke tenant op verschillende manieren zoals toevoegen of verwijderen van functies, kleuren en logo's wijzigen of zelfs de toevoeging van hun eigen code of script.</span><span class="sxs-lookup"><span data-stu-id="b1353-125">The ability to customize the application for an individual tenant in various ways such as adding or removing features, changing colors and logos, or even adding their own code or script.</span></span>

<span data-ttu-id="b1353-126">Kort gezegd: Er zijn een aantal zaken die u in aanmerking nemen moet om een zeer schaalbare service te bieden, er zijn ook een aantal van de doelstellingen en vereisten die gemeenschappelijk voor veel multitenant-toepassingen zijn.</span><span class="sxs-lookup"><span data-stu-id="b1353-126">In short, while there are many considerations that you must take into account to provide a highly scalable service, there are also a number of the goals and requirements that are common to many multitenant applications.</span></span> <span data-ttu-id="b1353-127">Sommige is mogelijk niet relevant zijn in bepaalde scenario's en het belang van afzonderlijke doelstellingen en vereisten zullen verschillen in elk scenario.</span><span class="sxs-lookup"><span data-stu-id="b1353-127">Some may not be relevant in specific scenarios, and the importance of individual goals and requirements will differ in each scenario.</span></span> <span data-ttu-id="b1353-128">Als een provider van de toepassing multitenant ook hebt u doelen en vereisten zoals, voldoen aan de tenants doelstellingen en vereisten, winstgevendheid, facturering, meerdere serviceniveaus, inrichting, bewaking van onderhoud en automatisering.</span><span class="sxs-lookup"><span data-stu-id="b1353-128">As a provider of the multitenant application, you will also have goals and requirements such as, meeting the tenants' goals and requirements, profitability, billing, multiple service levels, provisioning, maintainability monitoring, and automation.</span></span>

<span data-ttu-id="b1353-129">Zie voor meer informatie over aanvullende ontwerpoverwegingen van een toepassing met multitenant [die als host fungeert voor een Multitenant-toepassing in Azure][Hosting a Multi-Tenant Application on Azure].</span><span class="sxs-lookup"><span data-stu-id="b1353-129">For more information on additional design considerations of a multitenant application, see [Hosting a Multi-Tenant Application on Azure][Hosting a Multi-Tenant Application on Azure].</span></span> <span data-ttu-id="b1353-130">Zie voor informatie over algemene gegevensarchitectuurpatronen van multitenant software as a service (SaaS)-databasetoepassingen, [Ontwerppatronen voor multitenant SaaS-toepassingen met Azure SQL Database](sql-database/sql-database-design-patterns-multi-tenancy-saas-applications.md).</span><span class="sxs-lookup"><span data-stu-id="b1353-130">For information on common data architecture patterns of multi-tenant software-as-a-service (SaaS) database applications, see [Design Patterns for Multi-tenant SaaS Applications with Azure SQL Database](sql-database/sql-database-design-patterns-multi-tenancy-saas-applications.md).</span></span> 

<span data-ttu-id="b1353-131">Azure biedt een groot aantal functies waarmee u voor het oplossen van de belangrijkste problemen aangetroffen bij het ontwerpen van een multitenant-systeem.</span><span class="sxs-lookup"><span data-stu-id="b1353-131">Azure provides many features that allow you to address the key problems encountered when designing a multitenant system.</span></span>

<span data-ttu-id="b1353-132">**Isolatie**</span><span class="sxs-lookup"><span data-stu-id="b1353-132">**Isolation**</span></span>

* <span data-ttu-id="b1353-133">Tenants segment Website door hostheaders met of zonder SSL-communicatie</span><span class="sxs-lookup"><span data-stu-id="b1353-133">Segment Website Tenants by Host Headers with or without SSL communication</span></span>
* <span data-ttu-id="b1353-134">Tenants segment Website door queryparameters</span><span class="sxs-lookup"><span data-stu-id="b1353-134">Segment Website Tenants by Query Parameters</span></span>
* <span data-ttu-id="b1353-135">Web-Services werkrollen</span><span class="sxs-lookup"><span data-stu-id="b1353-135">Web Services in Worker Roles</span></span>
  * <span data-ttu-id="b1353-136">Werkrollen.</span><span class="sxs-lookup"><span data-stu-id="b1353-136">Worker Roles.</span></span> <span data-ttu-id="b1353-137">die gegevens op de back-end van een toepassing doorgaans niet verwerken.</span><span class="sxs-lookup"><span data-stu-id="b1353-137">that typically process data on the backend of an application.</span></span>
  * <span data-ttu-id="b1353-138">Web-functies die gewoonlijk als de frontend voor toepassingen optreden.</span><span class="sxs-lookup"><span data-stu-id="b1353-138">Web Roles that typically act as the frontend for applications.</span></span>

<span data-ttu-id="b1353-139">**Storage**</span><span class="sxs-lookup"><span data-stu-id="b1353-139">**Storage**</span></span>

<span data-ttu-id="b1353-140">Gegevensbeheer zoals Azure SQL Database- of Azure Storage-services zoals de tabel-service die services voor de opslag van grote hoeveelheden ongestructureerde gegevens biedt en de Blob-service waarmee services voor het opslaan van grote hoeveelheden ongestructureerde tekst of binaire gegevens zoals video, audio en afbeeldingen.</span><span class="sxs-lookup"><span data-stu-id="b1353-140">Data management such as Azure SQL Database or Azure Storage services such as the Table service which provides services for storage of large amounts of unstructured data and the Blob service which provides services to store large amounts of unstructured text or binary data such as video, audio and images.</span></span>

* <span data-ttu-id="b1353-141">Het beveiligen van Multitenant-gegevens in de juiste SQL-Database per-tenant SQL Server-aanmeldingen.</span><span class="sxs-lookup"><span data-stu-id="b1353-141">Securing Multitenant Data in SQL Database appropriate per-tenant SQL Server logins.</span></span>
* <span data-ttu-id="b1353-142">Met Azure-tabellen voor de toepassing Resources door te geven een container niveau toegangsbeleid kunt u de mogelijkheid machtigingen aanpassen zonder nieuwe URL's voor de resources die zijn beveiligd met handtekeningen voor gedeelde toegang verlenen.</span><span class="sxs-lookup"><span data-stu-id="b1353-142">Using Azure Tables for Application Resources By specifying a container level access policy, you can the ability to adjust permissions without having to issue new URL's for the resources protected with shared access signatures.</span></span>
* <span data-ttu-id="b1353-143">Azure wachtrijen voor toepassing Resources Azure wachtrijen wordt vaak gebruikt op de verwerking van het station namens tenants, maar kunnen ook worden gebruikt voor het werk dat nodig is voor het inrichten of management distribueren.</span><span class="sxs-lookup"><span data-stu-id="b1353-143">Azure Queues for Application Resources Azure queues are commonly used to drive processing on behalf of tenants, but may also be used to distribute work required for provisioning or management.</span></span>
* <span data-ttu-id="b1353-144">Service Bus-wachtrijen voor toepassingsbronnen die pushes naar een gedeelde werken met een service, kunt u een enkele wachtrij waarbij elke tenant afzender alleen machtigingen heeft (zoals hiervan is afgeleid van ACS uitgegeven claims) te drukken naar die wachtrij terwijl u alleen de ontvangers van de service machtiging voor het ophalen van gegevens die afkomstig zijn van meerdere tenants uit de wachtrij.</span><span class="sxs-lookup"><span data-stu-id="b1353-144">Service Bus Queues for Application Resources that pushes work to a shared a service, you can use a single queue where each tenant sender only has permissions (as derived from claims issued from ACS) to push to that queue, while only the receivers from the service have permission to pull from the queue the data coming from multiple tenants.</span></span>

<span data-ttu-id="b1353-145">**Verbinding en beveiligingsservices**</span><span class="sxs-lookup"><span data-stu-id="b1353-145">**Connection and Security Services**</span></span>

* <span data-ttu-id="b1353-146">Azure Service Bus een messaging-infrastructuur die tussen toepassingen zodat ze voor het uitwisselen van berichten in een losse manier voor verbeterde schaal en tolerantie.</span><span class="sxs-lookup"><span data-stu-id="b1353-146">Azure Service Bus, a messaging infrastructure that sits between applications allowing them to exchange messages in a loosely coupled way for improved scale and resiliency.</span></span>

<span data-ttu-id="b1353-147">**Netwerkservices**</span><span class="sxs-lookup"><span data-stu-id="b1353-147">**Networking Services**</span></span>

<span data-ttu-id="b1353-148">Azure biedt verschillende netwerkservices die ondersteuning bieden voor verificatie en de beheerbaarheid van uw gehoste toepassingen.</span><span class="sxs-lookup"><span data-stu-id="b1353-148">Azure provides several networking services that support authentication, and improve manageability of your hosted applications.</span></span> <span data-ttu-id="b1353-149">Deze services omvatten het volgende:</span><span class="sxs-lookup"><span data-stu-id="b1353-149">These services include the following:</span></span>

* <span data-ttu-id="b1353-150">Azure Virtual Network-Hiermee kunt u inrichten en beheren van virtuele particuliere netwerken (VPN's) in Azure, alsmede veilig koppelen aan alle lokale IT-infrastructuur.</span><span class="sxs-lookup"><span data-stu-id="b1353-150">Azure Virtual Network lets you provision and manage virtual private networks (VPNs) in Azure as well as securely link these with on-premises IT infrastructure.</span></span>
* <span data-ttu-id="b1353-151">Virtueel netwerk Traffic Manager kunt u saldo binnenkomend verkeer op meerdere gehoste Azure services laden of ze in hetzelfde datacenter of in verschillende datacenters over de hele wereld uitvoert.</span><span class="sxs-lookup"><span data-stu-id="b1353-151">Virtual Network Traffic Manager allows you to load balance incoming traffic across multiple hosted Azure services whether they're running in the same datacenter or across different datacenters around the world.</span></span>
* <span data-ttu-id="b1353-152">Azure Active Directory (Azure AD) is een moderne, REST gebaseerde service die mogelijkheden voor beheer en toegang beheren voor uw cloudtoepassingen biedt.</span><span class="sxs-lookup"><span data-stu-id="b1353-152">Azure Active Directory (Azure AD) is a modern, REST-based service that provides identity management and access control capabilities for your cloud applications.</span></span> <span data-ttu-id="b1353-153">Met behulp van Azure AD voor toepassingsbronnen Azure AD biedt een eenvoudige manier voor verificatie en autoriseren van gebruikers om toegang te krijgen tot uw webtoepassingen en services terwijl u de functies van verificatie en autorisatie voor moet rekening worden gehouden van uw code.</span><span class="sxs-lookup"><span data-stu-id="b1353-153">Using Azure AD for Application Resources Azure AD to provides an easy way of authenticating and authorizing users to gain access to your web applications and services while allowing the features of authentication and authorization to be factored out of your code.</span></span>
* <span data-ttu-id="b1353-154">Azure Service Bus biedt een beveiligde berichten en gegevensstroom mogelijkheid voor gedistribueerd en hybride toepassingen, zoals communicatie tussen Azure gehoste toepassingen en on-premises toepassingen en services, zonder complexe firewall en beveiliging infrastructuren.</span><span class="sxs-lookup"><span data-stu-id="b1353-154">Azure Service Bus provides a secure messaging and data flow capability for distributed and hybrid applications, such as communication between Azure hosted applications and on-premises applications and services, without requiring complex firewall and security infrastructures.</span></span> <span data-ttu-id="b1353-155">Met behulp van Service Bus Relay tot de services die beschikbaar worden gesteld als eindpunten voor toepassingsbronnen kan behoren tot de tenant (bijvoorbeeld buiten het systeem, bijvoorbeeld on-premises gehost) of ze kunnen services die ingericht zijn specifiek voor de tenant omdat (zijn gevoelige, tenant-specifieke gegevens passeert ze).</span><span class="sxs-lookup"><span data-stu-id="b1353-155">Using Service Bus Relay for Application Resources to The services that are exposed as endpoints may belong to the tenant (for example, hosted outside of the system, such as on-premises), or they may be services provisioned specifically for the tenant (because sensitive, tenant-specific data travels across them).</span></span>

<span data-ttu-id="b1353-156">**Inrichting van Resources**</span><span class="sxs-lookup"><span data-stu-id="b1353-156">**Provisioning Resources**</span></span>

<span data-ttu-id="b1353-157">Azure biedt een aantal manieren inrichten van nieuwe tenants voor de toepassing.</span><span class="sxs-lookup"><span data-stu-id="b1353-157">Azure provides a number of ways provision new tenants for the application.</span></span> <span data-ttu-id="b1353-158">Voor multitenant-toepassingen met een groot aantal tenants is het normaal gesproken moet u dit proces ook automatiseren door in te schakelen selfservice inrichting.</span><span class="sxs-lookup"><span data-stu-id="b1353-158">For multitenant applications with a large number of tenants, it is usually necessary to automate this process by enabling self-service provisioning.</span></span>

* <span data-ttu-id="b1353-159">Werkrollen kunt u toestaan om te leveren en intrekken per tenant resources (zoals wanneer een nieuwe tenant tekenen-up of geannuleerd), verzamelen van meetgegevens over voor softwarelicentiecontrole gebruiken en beheren van de schaal na een bepaalde planning of in reactie op het overschrijden van de drempelwaarden van prestatie indicatoren.</span><span class="sxs-lookup"><span data-stu-id="b1353-159">Worker roles allow you to provision and de-provision per tenant resources (such as when a new tenant signs-up or cancels), collect metrics for metering use, and manage scale following a certain schedule or in response to the crossing of thresholds of key performance indicators.</span></span> <span data-ttu-id="b1353-160">Deze dezelfde rol kan ook worden gebruikt voor de push-updates en upgrades van de oplossing.</span><span class="sxs-lookup"><span data-stu-id="b1353-160">This same role may also be used to push out updates and upgrades to the solution.</span></span>
* <span data-ttu-id="b1353-161">Azure BLOB's kunnen worden gebruikt voor het inrichten van compute of vooraf worden geïnitialiseerd opslagbronnen voor nieuwe tenants en container niveau toegangsbeleid tegelijkertijd beveiligen van de compute-service-pakketten, VHD-installatiekopieën en andere resources.</span><span class="sxs-lookup"><span data-stu-id="b1353-161">Azure Blobs can be used to provision compute or pre-initialized storage resources for new tenants while providing container level access policies to protect the compute service Packages, VHD images and other resources.</span></span>
* <span data-ttu-id="b1353-162">Opties voor het inrichten van SQL Database-resources voor een tenant zijn onder andere:</span><span class="sxs-lookup"><span data-stu-id="b1353-162">Options for provisioning SQL Database resources for a tenant include:</span></span>
  
  * <span data-ttu-id="b1353-163">DDL in scripts of ingesloten als bronnen binnen de assembly's</span><span class="sxs-lookup"><span data-stu-id="b1353-163">DDL in scripts or embedded as resources within assemblies</span></span>
  * <span data-ttu-id="b1353-164">SQL Server 2008 R2 DAC-pakketten via een programma wordt geïmplementeerd.</span><span class="sxs-lookup"><span data-stu-id="b1353-164">SQL Server 2008 R2 DAC Packages deployed programmatically.</span></span>
  * <span data-ttu-id="b1353-165">Kopiëren van een database master verwijzing</span><span class="sxs-lookup"><span data-stu-id="b1353-165">Copying from a master reference database</span></span>
  * <span data-ttu-id="b1353-166">Met behulp van de database importeren en exporteren voor het inrichten van nieuwe databases uit een bestand.</span><span class="sxs-lookup"><span data-stu-id="b1353-166">Using database Import and Export to provision new databases from a file.</span></span>

<!--links-->

[Hosting a Multi-Tenant Application on Azure]: http://msdn.microsoft.com/library/hh534480.aspx
[Designing Multitenant Applications on Azure]: http://msdn.microsoft.com/library/windowsazure/hh689716
