---
title: aaaAzure analyse van Service Fabric-gebeurtenis met Application Insights | Microsoft Docs
description: Meer informatie over het visualiseren en analyseren van gebeurtenissen met Application Insights voor controle en diagnostische gegevens van Azure Service Fabric-clusters.
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 05/26/2017
ms.author: dekapur
ms.openlocfilehash: 59bb5a409f2951e5b2034049e782dd0da67f933c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="event-analysis-and-visualization-with-application-insights"></a><span data-ttu-id="e4e26-103">Analyse van gebeurtenis en visualisatie met Application Insights</span><span class="sxs-lookup"><span data-stu-id="e4e26-103">Event analysis and visualization with Application Insights</span></span>

<span data-ttu-id="e4e26-104">Azure Application Insights is een uitbreidbaar platform voor bewaking en diagnostische gegevens.</span><span class="sxs-lookup"><span data-stu-id="e4e26-104">Azure Application Insights is an extensible platform for application monitoring and diagnostics.</span></span> <span data-ttu-id="e4e26-105">Er staan een krachtige analytics en gegevensquery's hulpprogramma, aanpasbare dashboard en visualisaties en meer opties, waaronder geautomatiseerde waarschuwingen.</span><span class="sxs-lookup"><span data-stu-id="e4e26-105">It includes a powerful analytics and querying tool, customizable dashboard and visualizations, and further options including automated alerting.</span></span> <span data-ttu-id="e4e26-106">Is het Hallo aanbevolen platform voor controle en diagnostische gegevens voor Service Fabric-toepassingen en services.</span><span class="sxs-lookup"><span data-stu-id="e4e26-106">It is hello recommended platform for monitoring and diagnostics for Service Fabric applications and services.</span></span>

## <a name="setting-up-application-insights"></a><span data-ttu-id="e4e26-107">Application Insights instellen</span><span class="sxs-lookup"><span data-stu-id="e4e26-107">Setting up Application Insights</span></span>

### <a name="creating-an-ai-resource"></a><span data-ttu-id="e4e26-108">Maken van een Resource AI</span><span class="sxs-lookup"><span data-stu-id="e4e26-108">Creating an AI Resource</span></span>

<span data-ttu-id="e4e26-109">toocreate een AI-resource, head via Azure Marketplace toohello en zoek naar 'Application Insights'.</span><span class="sxs-lookup"><span data-stu-id="e4e26-109">toocreate an AI resource, head over toohello Azure Marketplace, and search for "Application Insights".</span></span> <span data-ttu-id="e4e26-110">Het moet als eerste Hallo-oplossing (het zich onder de categorie 'Web + Mobile') weergegeven.</span><span class="sxs-lookup"><span data-stu-id="e4e26-110">It should show up as hello first solution (it is under category "Web + Mobile").</span></span> <span data-ttu-id="e4e26-111">Klik op **maken** wanneer u bekijkt hello juiste resource (bevestigen dat het pad overeenkomt met Hallo in onderstaande afbeelding).</span><span class="sxs-lookup"><span data-stu-id="e4e26-111">Click **Create** when you are looking at hello right resource (confirm that your path matches hello image below).</span></span>

![Nieuwe Application Insights-resource](media/service-fabric-diagnostics-event-analysis-appinsights/create-new-ai-resource.png)

<span data-ttu-id="e4e26-113">U moet correct toofill sommige informatie tooprovision Hallo-bron.</span><span class="sxs-lookup"><span data-stu-id="e4e26-113">You will need toofill out some information tooprovision hello resource correctly.</span></span> <span data-ttu-id="e4e26-114">In Hallo *toepassingstype* veld gebruik 'ASP.NET-webtoepassing' als u van een Service Fabric gebruikmaakt de programmering modellen of een cluster met .NET application toohello publiceren.</span><span class="sxs-lookup"><span data-stu-id="e4e26-114">In hello *Application Type* field, use "ASP.NET web application" if you will be using any of Service Fabric's programming models or publishing a .NET application toohello cluster.</span></span> <span data-ttu-id="e4e26-115">Gebruik 'Algemene' als u Gast uitvoerbare bestanden en containers implementeren wilt.</span><span class="sxs-lookup"><span data-stu-id="e4e26-115">Use "General" if you will be deploying guest executables and containers.</span></span> <span data-ttu-id="e4e26-116">In het algemeen standaard toousing 'ASP.NET-webtoepassing' tookeep uw opties open Hallo toekomstige.</span><span class="sxs-lookup"><span data-stu-id="e4e26-116">In general, default toousing "ASP.NET web application" tookeep your options open in hello future.</span></span> <span data-ttu-id="e4e26-117">Hallo-naam is van de voorkeursextensie tooyour en zowel Hallo-resourcegroep en abonnement zijn gewijzigd na de implementatie van resource Hallo.</span><span class="sxs-lookup"><span data-stu-id="e4e26-117">hello name is up tooyour preference, and both hello resource group and subscription are changeable post-deployment of hello resource.</span></span> <span data-ttu-id="e4e26-118">Het is raadzaam dat uw AI-resource in Hallo is dezelfde resourcegroep als uw cluster.</span><span class="sxs-lookup"><span data-stu-id="e4e26-118">We recommend that your AI resource is in hello same resource group as your cluster.</span></span> <span data-ttu-id="e4e26-119">Als u meer informatie nodig hebt, raadpleegt u [een Application Insights-resource maken](../application-insights/app-insights-create-new-resource.md)</span><span class="sxs-lookup"><span data-stu-id="e4e26-119">If you need more information, please see [Create an Application Insights resource](../application-insights/app-insights-create-new-resource.md)</span></span>

<span data-ttu-id="e4e26-120">Hallo AI Instrumentatiesleutel tooconfigure AI moet u met uw gebeurtenis aggregatie-hulpprogramma.</span><span class="sxs-lookup"><span data-stu-id="e4e26-120">You need hello AI Instrumentation Key tooconfigure AI with your event aggregation tool.</span></span> <span data-ttu-id="e4e26-121">Als uw AI-resource een (duurt een paar minuten nadat het Hallo-implementatie wordt gevalideerd) is ingesteld, navigeer tooit en Hallo zoeken **eigenschappen** sectie op de linkernavigatiebalk Hallo.</span><span class="sxs-lookup"><span data-stu-id="e4e26-121">Once your AI resource is set up (takes a few minutes after hello deployment is validated), navigate tooit and find hello **Properties** section on hello left navigation bar.</span></span> <span data-ttu-id="e4e26-122">Een nieuwe blade geopend waarin een *INSTRUMENTATIESLEUTEL*.</span><span class="sxs-lookup"><span data-stu-id="e4e26-122">A new blade will open up that shows an *INSTRUMENTATION KEY*.</span></span> <span data-ttu-id="e4e26-123">Als u toochange Hallo abonnement of resourcegroep van Hallo resource nodig, kan het worden gedaan hier ook.</span><span class="sxs-lookup"><span data-stu-id="e4e26-123">If you need toochange hello subscription or resource group of hello resource, it can be done here as well.</span></span>

### <a name="configuring-ai-with-wad"></a><span data-ttu-id="e4e26-124">AI configureren met af</span><span class="sxs-lookup"><span data-stu-id="e4e26-124">Configuring AI with WAD</span></span>

<span data-ttu-id="e4e26-125">Er zijn twee manieren toosend-gegevens van af tooAzure AI, die wordt bereikt door het toevoegen van een AI sink toohello af-configuratie zoals beschreven in [in dit artikel](../monitoring-and-diagnostics/azure-diagnostics-configure-application-insights.md).</span><span class="sxs-lookup"><span data-stu-id="e4e26-125">There are two primary ways toosend data from WAD tooAzure AI, which is achieved by adding an AI sink toohello WAD configuration, as detailed in [this article](../monitoring-and-diagnostics/azure-diagnostics-configure-application-insights.md).</span></span>

#### <a name="add-an-ai-instrumentation-key-when-creating-a-cluster-in-azure-portal"></a><span data-ttu-id="e4e26-126">Een Instrumentatiesleutel AI toevoegen bij het maken van een cluster in Azure-portal</span><span class="sxs-lookup"><span data-stu-id="e4e26-126">Add an AI Instrumentation Key when creating a cluster in Azure portal</span></span>

![Toevoegen van een AIKey](media/service-fabric-diagnostics-event-analysis-appinsights/azure-enable-diagnostics.png)

<span data-ttu-id="e4e26-128">Bij het maken van een cluster als Diagnostics 'Op' is ingeschakeld, een optioneel veld tooenter een Application Insights-instrumentatiesleutel wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="e4e26-128">When creating a cluster, if Diagnostics is turned "On", an optional field tooenter an Application Insights Instrumentation key will show.</span></span> <span data-ttu-id="e4e26-129">Als u uw AI IKey hier plakt, Hallo AI sink worden automatisch voor u geconfigureerd in Hallo Resource Manager-sjabloon die wordt gebruikt toodeploy uw cluster.</span><span class="sxs-lookup"><span data-stu-id="e4e26-129">If you paste your AI IKey here, hello AI sink will be automatically configured for you in hello Resource Manager template that is used toodeploy your cluster.</span></span>

#### <a name="add-hello-ai-sink-toohello-resource-manager-template"></a><span data-ttu-id="e4e26-130">Hallo AI Sink toohello Resource Manager-sjabloon toevoegen</span><span class="sxs-lookup"><span data-stu-id="e4e26-130">Add hello AI Sink toohello Resource Manager template</span></span>

<span data-ttu-id="e4e26-131">Voeg in Hallo 'WadCfg' hello Resource Manager-sjabloon, een 'Sink' door Hallo twee wijzigingen te volgen, waaronder:</span><span class="sxs-lookup"><span data-stu-id="e4e26-131">In hello "WadCfg" of hello Resource Manager template, add a "Sink" by including hello following two changes:</span></span>

1. <span data-ttu-id="e4e26-132">Hallo sink configuratie toevoegen:</span><span class="sxs-lookup"><span data-stu-id="e4e26-132">Add hello sink configuration:</span></span>

    ```json
    "SinksConfig": {
        "Sink": [
            {
                "name": "applicationInsights",
                "ApplicationInsights": "***ADD INSTRUMENTATION KEY HERE***"
            }
        ]
    }

    ```

2. <span data-ttu-id="e4e26-133">Hallo Sink opnemen in Hallo DiagnosticMonitorConfiguration door toe te voegen Hallo volgende regel in 'DiagnosticMonitorConfiguration' Hallo 'WadCfg':</span><span class="sxs-lookup"><span data-stu-id="e4e26-133">Include hello Sink in hello DiagnosticMonitorConfiguration by adding hello following line in "DiagnosticMonitorConfiguration" of hello "WadCfg":</span></span>

    ```json
    "sinks": "applicationInsights"
    ```

<span data-ttu-id="e4e26-134">In beide codefragmenten Hallo hierboven Hallo is de naam 'applicationInsights' gebruikte toodescribe Hallo sink.</span><span class="sxs-lookup"><span data-stu-id="e4e26-134">In both hello code snippets above, hello name "applicationInsights" was used toodescribe hello sink.</span></span> <span data-ttu-id="e4e26-135">Dit is geen vereiste en zolang Hallo-naam van Hallo sink is opgenomen in een 'put', kunt u Hallo tooany tekenreeks instellen.</span><span class="sxs-lookup"><span data-stu-id="e4e26-135">This is not a requirement and as long as hello name of hello sink is included in "sinks", you can set hello name tooany string.</span></span>

<span data-ttu-id="e4e26-136">Op dit moment wordt logboeken van de cluster hello weergegeven als de traceringen in AI van Logboeken.</span><span class="sxs-lookup"><span data-stu-id="e4e26-136">Currently, logs from hello cluster will show up as traces in AI's log viewer.</span></span> <span data-ttu-id="e4e26-137">Aangezien de meeste Hallo traceringen Hallo platform afkomstig zijn van niveau 'Ter informatie', kunt u ook overwegen Hallo sink configuratie tooonly verzenden logboeken van het type 'Kritiek' of 'Fout' wijzigen.</span><span class="sxs-lookup"><span data-stu-id="e4e26-137">Since most of hello traces coming from hello platform are of level "Informational", you can also consider changing hello sink configuration tooonly send logs of type "Critical" or "Error".</span></span> <span data-ttu-id="e4e26-138">Dit kan worden gedaan door toe te voegen 'Kanalen' tooyour sink, zoals wordt beschreven in [in dit artikel](../monitoring-and-diagnostics/azure-diagnostics-configure-application-insights.md).</span><span class="sxs-lookup"><span data-stu-id="e4e26-138">This can be done by adding "Channels" tooyour sink, as demonstrated in [this article](../monitoring-and-diagnostics/azure-diagnostics-configure-application-insights.md).</span></span>

>[!NOTE]
><span data-ttu-id="e4e26-139">Als u een onjuiste AI IKey in de portal of in de Resource Manager-sjabloon gebruikt, hebt u toomanually Hallo sleutel wijzigen en Hallo cluster bijwerken / opnieuw te implementeren.</span><span class="sxs-lookup"><span data-stu-id="e4e26-139">If you use an incorrect AI IKey either in portal or in your Resource Manager template, you will have toomanually change hello key and update hello cluster / redeploy it.</span></span> 

### <a name="configuring-ai-with-eventflow"></a><span data-ttu-id="e4e26-140">AI met EventFlow configureren</span><span class="sxs-lookup"><span data-stu-id="e4e26-140">Configuring AI with EventFlow</span></span>

<span data-ttu-id="e4e26-141">Als u EventFlow tooaggregate gebeurtenissen gebruikt, zorg ervoor dat tooimport hello `Microsoft.Diagnostics.EventFlow.Output.ApplicationInsights`NuGet-pakket.</span><span class="sxs-lookup"><span data-stu-id="e4e26-141">If you are using EventFlow tooaggregate events, make sure tooimport hello `Microsoft.Diagnostics.EventFlow.Output.ApplicationInsights`NuGet package.</span></span> <span data-ttu-id="e4e26-142">Hallo volgende is opgenomen in Hallo toobe *levert* sectie Hallo *eventFlowConfig.json*:</span><span class="sxs-lookup"><span data-stu-id="e4e26-142">hello following has toobe included in hello *outputs* section of hello *eventFlowConfig.json*:</span></span>

```json
"outputs": [
    {
        "type": "ApplicationInsights",
        // (replace hello following value with your AI resource's instrumentation key)
        "instrumentationKey": "00000000-0000-0000-0000-000000000000"
    }
]
```

<span data-ttu-id="e4e26-143">Ervoor toomake Hallo vereist wijzigingen aanbrengen in uw filters, evenals alle andere invoer (samen met hun respectieve NuGet-pakketten) bevatten.</span><span class="sxs-lookup"><span data-stu-id="e4e26-143">Make sure toomake hello required changes in your filters, as well as include any other inputs (along with their respective NuGet packages).</span></span>

## <a name="aisdk"></a><span data-ttu-id="e4e26-144">AI. SDK</span><span class="sxs-lookup"><span data-stu-id="e4e26-144">AI.SDK</span></span>

<span data-ttu-id="e4e26-145">Het is raadzaam toouse EventFlow en af als aggregatieoplossingen, omdat ze toestaan voor een meer modulaire benadering toodiagnostics en bewaking, dat wil zeggen als u de uitvoer van EventFlow toochange wilt, geen wijziging tooyour Werkelijke vereist instrumentatie, alleen een eenvoudige wijziging tooyour config-bestand.</span><span class="sxs-lookup"><span data-stu-id="e4e26-145">It is generally recommended toouse EventFlow and WAD as aggregation solutions, because they allow for a more modular approach toodiagnostics and monitoring, i.e. if you want toochange your outputs from EventFlow, it requires no change tooyour actual instrumentation, just a simple modification tooyour config file.</span></span> <span data-ttu-id="e4e26-146">Als u tooinvest besluit in het gebruik van Application Insights en zijn echter niet waarschijnlijk toochange tooa verschillende platform, moet u zoeken naar met behulp van AI nieuwe SDK voor het aggregeren van gebeurtenissen en ze tooAI worden verzonden.</span><span class="sxs-lookup"><span data-stu-id="e4e26-146">If, however, you decide tooinvest in using Application Insights and are not likely toochange tooa different platform, you should look into using AI's new SDK for aggregating events and sending them tooAI.</span></span> <span data-ttu-id="e4e26-147">Dit betekent dat u wordt niet meer beschikt over tooconfigure EventFlow toosend uw tooAI gegevens, maar in plaats daarvan Hallo ApplicationInsight van Service Fabric-NuGet-pakket installeert.</span><span class="sxs-lookup"><span data-stu-id="e4e26-147">This means that you will no longer have tooconfigure EventFlow toosend your data tooAI, but instead will install hello ApplicationInsight's Service Fabric NuGet package.</span></span> <span data-ttu-id="e4e26-148">Meer informatie over Hallo pakket vindt [hier](https://github.com/Microsoft/ApplicationInsights-ServiceFabric).</span><span class="sxs-lookup"><span data-stu-id="e4e26-148">Details on hello package can be found [here](https://github.com/Microsoft/ApplicationInsights-ServiceFabric).</span></span>

<span data-ttu-id="e4e26-149">[Application Insights-ondersteuning voor Microservices en Containers](https://azure.microsoft.com/app-insights-microservices/) laat u een aantal nieuwe functies Hallo die wordt gewerkt (momenteel nog steeds in beta), waarmee u toohave uitgebreidere out-of-the-box-controle-opties met AI.</span><span class="sxs-lookup"><span data-stu-id="e4e26-149">[Application Insights support for Microservices and Containers](https://azure.microsoft.com/app-insights-microservices/) shows you some of hello new features that are being worked on (currently still in beta), which allow you toohave richer out-of-the-box monitoring options with AI.</span></span> <span data-ttu-id="e4e26-150">Deze omvatten bijhouden van afhankelijkheid (gebruikt bij het bouwen van een AppMap van uw services en toepassingen in een cluster en Hallo communicatie tussen deze twee) en betere correlatie van traceringen afkomstig zijn van uw services (helpt u bij het beter een probleem in Hallo dicht werkstroom van een app of service).</span><span class="sxs-lookup"><span data-stu-id="e4e26-150">These include dependency tracking (used in building an AppMap of all your services and applications in a cluster and hello communication between them), and better correlation of traces coming from your services (helps in better pinpointing an issue in hello workflow of an app or service).</span></span>

<span data-ttu-id="e4e26-151">Als u ontwikkelt in .NET en zal het waarschijnlijk worden gebruikmakend van de Service Fabric-programmeermodellen en bereid toouse AI als uw platform voor het visualiseren en analyseren van gebeurtenissen en logboek gegevens, en vervolgens het is raadzaam dat u via Hallo AI SDK route als de bewaking gaat zijn en Diagnostische gegevens van de workflow.</span><span class="sxs-lookup"><span data-stu-id="e4e26-151">If you are developing in .NET and will likely be using some of Service Fabric's programming models, and are willing toouse AI as your platform for visualizing and analyzing event and log data, then we recommend that you go via hello AI SDK route as your monitoring and diagnostics workflow.</span></span> <span data-ttu-id="e4e26-152">Lees [dit](../application-insights/app-insights-asp-net-more.md) en [dit](../application-insights/app-insights-asp-net-trace-logs.md) tooget slag kunt met AI toocollect en uw logboeken weer te geven.</span><span class="sxs-lookup"><span data-stu-id="e4e26-152">Read [this](../application-insights/app-insights-asp-net-more.md) and [this](../application-insights/app-insights-asp-net-trace-logs.md) tooget started with using AI toocollect and display your logs.</span></span>

## <a name="navigating-hello-ai-resource-in-azure-portal"></a><span data-ttu-id="e4e26-153">Hallo AI resource in Azure-portal te navigeren</span><span class="sxs-lookup"><span data-stu-id="e4e26-153">Navigating hello AI resource in Azure portal</span></span>

<span data-ttu-id="e4e26-154">Wanneer u AI hebt geconfigureerd als uitvoer voor uw gebeurtenissen en Logboeken, moet informatie starten tooshow in uw AI-resource in een paar minuten.</span><span class="sxs-lookup"><span data-stu-id="e4e26-154">Once you have configured AI as an output for your events and logs, information should start tooshow up in your AI resource in a few minutes.</span></span> <span data-ttu-id="e4e26-155">Navigeer toohello AI resource, die u toohello AI resource dashboard te laten.</span><span class="sxs-lookup"><span data-stu-id="e4e26-155">Navigate toohello AI resource, which will take you toohello AI resource dashboard.</span></span> <span data-ttu-id="e4e26-156">Klik op **Search** in Hallo AI taakbalk toosee Hallo nieuwste traceringen die deze heeft ontvangen en toobe kunnen toofilter doorheen.</span><span class="sxs-lookup"><span data-stu-id="e4e26-156">Click **Search** in hello AI taskbar toosee hello latest traces that it has received, and toobe able toofilter through them.</span></span>

<span data-ttu-id="e4e26-157">*Metrics Explorer* een handig hulpmiddel voor het maken van aangepaste dashboards die op basis van de metrische gegevens die uw toepassingen, services en cluster kunnen rapporteren.</span><span class="sxs-lookup"><span data-stu-id="e4e26-157">*Metrics Explorer* is a useful tool for creating custom dashboards based on metrics that your applications, services, and cluster may be reporting.</span></span> <span data-ttu-id="e4e26-158">Zie [verkennen van metrische gegevens in Application Insights](../application-insights/app-insights-metrics-explorer.md) tooset van enkele grafieken voor uzelf op basis van Hallo-gegevens die u verzamelt.</span><span class="sxs-lookup"><span data-stu-id="e4e26-158">See [Exploring Metrics in Application Insights](../application-insights/app-insights-metrics-explorer.md) tooset up a few charts for yourself based on hello data you are collecting.</span></span>

<span data-ttu-id="e4e26-159">Te klikken op **Analytics** , gaat u toohello Application Insights Analytics-portal, waar u kunt een query gebeurtenissen en traceringen met een groter bereik en optionaliteit.</span><span class="sxs-lookup"><span data-stu-id="e4e26-159">Clicking **Analytics** will take you toohello Application Insights Analytics portal, where you can query events and traces with greater scope and optionality.</span></span> <span data-ttu-id="e4e26-160">Meer informatie over deze [analyses in Application Insights](../application-insights/app-insights-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="e4e26-160">Read more about this at [Analytics in Application Insights](../application-insights/app-insights-analytics.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="e4e26-161">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="e4e26-161">Next steps</span></span>

* <span data-ttu-id="e4e26-162">[Stel waarschuwingen in AI](../application-insights/app-insights-alerts.md) toobe geïnformeerd over wijzigingen in de prestatie- of -gebruik</span><span class="sxs-lookup"><span data-stu-id="e4e26-162">[Set up Alerts in AI](../application-insights/app-insights-alerts.md) toobe notified about changes in performance or usage</span></span>
* <span data-ttu-id="e4e26-163">[Detectie in Application Insights slimme](../application-insights/app-insights-proactive-diagnostics.md) voert een proactieve analyse Hallo telemetrie verstuurd tooAI toowarn u potentiële prestatieproblemen</span><span class="sxs-lookup"><span data-stu-id="e4e26-163">[Smart Detection in Application Insights](../application-insights/app-insights-proactive-diagnostics.md) performs a proactive analysis of hello telemetry being sent tooAI toowarn you of potential performance problems</span></span>
