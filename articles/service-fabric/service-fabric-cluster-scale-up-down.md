---
title: Een Service Fabric-cluster in- of schalen | Microsoft Docs
description: Een Service Fabric-cluster in- of vraag door het instellen van regels voor automatisch schalen voor elk knooppunt type/virtuele-machineschaalset overeen te schalen. Toevoegen of verwijderen van knooppunten aan een Service Fabric-cluster
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: aeb76f63-7303-4753-9c64-46146340b83d
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 06/22/2017
ms.author: chackdan
ms.openlocfilehash: 32d8fca81c20e77db4ed3aae05d017ccc2ce1be3
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/03/2017
---
# <a name="scale-a-service-fabric-cluster-in-or-out-using-auto-scale-rules"></a><span data-ttu-id="85bf6-104">Schalen van een Service Fabric-cluster in- of met regels voor automatisch schalen</span><span class="sxs-lookup"><span data-stu-id="85bf6-104">Scale a Service Fabric cluster in or out using auto-scale rules</span></span>
<span data-ttu-id="85bf6-105">Virtuele-machineschaalsets zijn een Azure compute resource die u gebruiken kunt om te implementeren en beheren van een verzameling van virtuele machines als een set.</span><span class="sxs-lookup"><span data-stu-id="85bf6-105">Virtual machine scale sets are an Azure compute resource that you can use to deploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="85bf6-106">Elk knooppunttype dat is gedefinieerd in een Service Fabric-cluster is ingesteld als een afzonderlijke virtuele-machineschaalset.</span><span class="sxs-lookup"><span data-stu-id="85bf6-106">Every node type that is defined in a Service Fabric cluster is set up as a separate Virtual Machine scale set.</span></span> <span data-ttu-id="85bf6-107">Elk knooppunttype kan vervolgens worden uitgebreid of uit onafhankelijk, hebben verschillende sets van poorten openen en andere capaciteitsmetrieken kan hebben.</span><span class="sxs-lookup"><span data-stu-id="85bf6-107">Each node type can then be scaled in or out independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="85bf6-108">Lees meer over in de [Service Fabric nodetypes](service-fabric-cluster-nodetypes.md) document.</span><span class="sxs-lookup"><span data-stu-id="85bf6-108">Read more about it in the [Service Fabric nodetypes](service-fabric-cluster-nodetypes.md) document.</span></span> <span data-ttu-id="85bf6-109">Omdat de typen van de Service Fabric-knooppunt in het cluster zijn gemaakt van de virtuele-machineschaalsets op de back-end, moet u regels voor elk knooppunt type/virtuele-machineschaalset automatisch schalen instellen.</span><span class="sxs-lookup"><span data-stu-id="85bf6-109">Since the Service Fabric node types in your cluster are made of Virtual Machine scale sets at the backend, you need to set up auto-scale rules for each node type/Virtual Machine scale set.</span></span>

> [!NOTE]
> <span data-ttu-id="85bf6-110">Uw abonnement moet voldoende kernen om toe te voegen van de nieuwe virtuele machines die gezamenlijk dit cluster hebben.</span><span class="sxs-lookup"><span data-stu-id="85bf6-110">Your subscription must have enough cores to add the new VMs that make up this cluster.</span></span> <span data-ttu-id="85bf6-111">Er is geen modelvalidatie, er dus een tijd implementatie mislukt als een van de quotalimieten zijn bereikt.</span><span class="sxs-lookup"><span data-stu-id="85bf6-111">There is no model validation currently, so you get a deployment time failure, if any of the quota limits are hit.</span></span>
> 
> 

## <a name="choose-the-node-typevirtual-machine-scale-set-to-scale"></a><span data-ttu-id="85bf6-112">Kies het type knooppunt/virtuele-machineschaalset ingesteld om te schalen</span><span class="sxs-lookup"><span data-stu-id="85bf6-112">Choose the node type/Virtual Machine scale set to scale</span></span>
<span data-ttu-id="85bf6-113">Op dit moment kunt zich u niet automatisch schalen regels opgeven voor virtuele-machineschaalsets met de portal, gebruikt u dus laat het ons Azure PowerShell (1.0 +) om een lijst van de knooppunttypen en vervolgens automatisch schalen regels toe te voegen aan deze.</span><span class="sxs-lookup"><span data-stu-id="85bf6-113">Currently, you are not able to specify the auto-scale rules for Virtual Machine scale sets using the portal, so let us use Azure PowerShell (1.0+) to list the node types and then add auto-scale rules to them.</span></span>

<span data-ttu-id="85bf6-114">Als u de lijst met virtuele-machineschaalset die gezamenlijk uw cluster, voert u de volgende cmdlets:</span><span class="sxs-lookup"><span data-stu-id="85bf6-114">To get the list of Virtual Machine scale set that make up your cluster, run the following cmdlets:</span></span>

```powershell
Get-AzureRmResource -ResourceGroupName <RGname> -ResourceType Microsoft.Compute/VirtualMachineScaleSets

Get-AzureRmVmss -ResourceGroupName <RGname> -VMScaleSetName <Virtual Machine scale set name>
```

## <a name="set-auto-scale-rules-for-the-node-typevirtual-machine-scale-set"></a><span data-ttu-id="85bf6-115">Regels voor het type knooppunt/virtuele-machineschaalset automatisch schalen instellen</span><span class="sxs-lookup"><span data-stu-id="85bf6-115">Set auto-scale rules for the node type/Virtual Machine scale set</span></span>
<span data-ttu-id="85bf6-116">Als uw cluster typen met meerdere knooppunten heeft, Herhaal dat dit voor elk knooppunt typen/virtuele-machineschaalset ingesteld dat u schalen wilt (inkomend of uitgaand).</span><span class="sxs-lookup"><span data-stu-id="85bf6-116">If your cluster has multiple node types, then repeat this for each node types/Virtual Machine scale sets that you want to scale (in or out).</span></span> <span data-ttu-id="85bf6-117">Rekening gehouden met het aantal knooppunten die u hebt nodig voordat u een automatische schaling instellen.</span><span class="sxs-lookup"><span data-stu-id="85bf6-117">Take into account the number of nodes that you must have before you set up auto-scaling.</span></span> <span data-ttu-id="85bf6-118">Het minimum aantal knooppunten die u voor het primaire knooppunttype hebt nodig wordt aangedreven door het niveau van betrouwbaarheid dat u hebt gekozen.</span><span class="sxs-lookup"><span data-stu-id="85bf6-118">The minimum number of nodes that you must have for the primary node type is driven by the reliability level you have chosen.</span></span> <span data-ttu-id="85bf6-119">Lees meer over [betrouwbaarheid niveaus](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="85bf6-119">Read more about [reliability levels](service-fabric-cluster-capacity.md).</span></span>

> [!NOTE]
> <span data-ttu-id="85bf6-120">Het primaire knooppunt bij het verkleinen tot minder dan het minimale aantal Controleer het cluster onstabiel of typ brengt u het naar beneden.</span><span class="sxs-lookup"><span data-stu-id="85bf6-120">Scaling down the primary node type to less than the minimum number make the cluster unstable or bring it down.</span></span> <span data-ttu-id="85bf6-121">Dit kan leiden tot verlies van gegevens voor uw toepassingen en de systeemservices.</span><span class="sxs-lookup"><span data-stu-id="85bf6-121">This could result in data loss for your applications and for the system services.</span></span>
> 
> 

<span data-ttu-id="85bf6-122">De functie voor automatisch schalen wordt momenteel niet aangedreven door de belasting die uw toepassingen kunnen worden rapporteren naar Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="85bf6-122">Currently the auto-scale feature is not driven by the loads that your applications may be reporting to Service Fabric.</span></span> <span data-ttu-id="85bf6-123">Op dit moment de dat u automatisch geschaald puur wordt aangedreven door de prestatiemeteritems die worden gegenereerd door elk van de virtuele Machine ingesteld scale dus exemplaren.</span><span class="sxs-lookup"><span data-stu-id="85bf6-123">So at this time the auto-scale you get is purely driven by the performance counters that are emitted by each of the Virtual Machine scale set instances.</span></span>  

<span data-ttu-id="85bf6-124">Volg deze instructies [voor het instellen van automatische-schaling voor elke virtuele-machineschaalset](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span><span class="sxs-lookup"><span data-stu-id="85bf6-124">Follow these instructions [to set up auto-scale for each Virtual Machine scale set](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span></span>

> [!NOTE]
> <span data-ttu-id="85bf6-125">In een schaal omlaag scenario, tenzij uw knooppunttype duurzaamheid niveau van de goud, Zilver heeft moet u aan te roepen de [cmdlet Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/azure/mt125993.aspx) met de naam van het juiste knooppunt.</span><span class="sxs-lookup"><span data-stu-id="85bf6-125">In a scale down scenario, unless your node type has a durability level of Gold or Silver you need to call the [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/azure/mt125993.aspx) with the appropriate node name.</span></span>
> 
> 

## <a name="manually-add-vms-to-a-node-typevirtual-machine-scale-set"></a><span data-ttu-id="85bf6-126">Virtuele machines handmatig toevoegen aan een knooppunt type/virtuele-machineschaalset</span><span class="sxs-lookup"><span data-stu-id="85bf6-126">Manually add VMs to a node type/Virtual Machine scale set</span></span>
<span data-ttu-id="85bf6-127">Volg de sample/instructies in de [sjablonengalerie snel starten](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) het aantal virtuele machines in elke Nodetype te wijzigen.</span><span class="sxs-lookup"><span data-stu-id="85bf6-127">Follow the sample/instructions in the [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) to change the number of VMs in each Nodetype.</span></span> 

> [!NOTE]
> <span data-ttu-id="85bf6-128">Toevoegen van virtuele machines kost tijd, zodat de toevoegingen aan onmiddellijk worden niet van plan bent.</span><span class="sxs-lookup"><span data-stu-id="85bf6-128">Adding of VMs takes time, so do not expect the additions to be instantaneous.</span></span> <span data-ttu-id="85bf6-129">Plan daarom capaciteit goed in tijd, zodat het meer dan 10 minuten voordat het VM-capaciteit beschikbaar voor de replica's is toevoegen / service-exemplaren te worden geplaatst.</span><span class="sxs-lookup"><span data-stu-id="85bf6-129">So plan to add capacity well in time, to allow for over 10 minutes before the VM capacity is available for the replicas/ service instances to get placed.</span></span>
> 
> 

## <a name="manually-remove-vms-from-the-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="85bf6-130">Virtuele machines handmatig van het primaire knooppunt type/virtuele-machineschaalset verwijderen</span><span class="sxs-lookup"><span data-stu-id="85bf6-130">Manually remove VMs from the primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="85bf6-131">De service fabric system-services worden uitgevoerd in het primaire knooppunttype in uw cluster.</span><span class="sxs-lookup"><span data-stu-id="85bf6-131">The service fabric system services run in the Primary node type in your cluster.</span></span> <span data-ttu-id="85bf6-132">Daarom moet nooit afgesloten of het aantal exemplaren in dat knooppunt types terugschroeven die kleiner zijn dan de betrouwbaarheidslaag garandeert.</span><span class="sxs-lookup"><span data-stu-id="85bf6-132">So should never shut down or scale down the number of instances in that node types less than what the reliability tier warrants.</span></span> <span data-ttu-id="85bf6-133">Raadpleeg [de details op betrouwbaarheid lagen hier](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="85bf6-133">Refer to [the details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 
> 
> 

<span data-ttu-id="85bf6-134">U moet de volgende stappen uit één VM-instantie tegelijk uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="85bf6-134">You need to execute the following steps one VM instance at a time.</span></span> <span data-ttu-id="85bf6-135">Hierdoor kunnen de systeemservices (en uw stateful services) worden afsluiten op de VM-instantie die u wilt verwijderen en de nieuwe replica's die zijn gemaakt op andere knooppunten.</span><span class="sxs-lookup"><span data-stu-id="85bf6-135">This allows for the system services (and your stateful services) to be shut down gracefully on the VM instance you are removing and new replicas created on other nodes.</span></span>

1. <span data-ttu-id="85bf6-136">Voer [uitschakelen ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) met opzet 'RemoveNode' naar het knooppunt uitschakelen u wilt verwijderen (hoogste exemplaar in het desbetreffende knooppunttype).</span><span class="sxs-lookup"><span data-stu-id="85bf6-136">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ to disable the node you’re going to remove (the highest instance in that node type).</span></span>
2. <span data-ttu-id="85bf6-137">Voer [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) om ervoor te zorgen dat het knooppunt inderdaad is overgegaan op uitgeschakeld.</span><span class="sxs-lookup"><span data-stu-id="85bf6-137">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) to make sure that the node has indeed transitioned to disabled.</span></span> <span data-ttu-id="85bf6-138">Als dat niet het geval is, wacht totdat het knooppunt is uitgeschakeld.</span><span class="sxs-lookup"><span data-stu-id="85bf6-138">If not, wait until the node is disabled.</span></span> <span data-ttu-id="85bf6-139">U kunt geen wacht niet langer in deze stap.</span><span class="sxs-lookup"><span data-stu-id="85bf6-139">You cannot hurry this step.</span></span>
3. <span data-ttu-id="85bf6-140">Volg de sample/instructies in de [sjablonengalerie snel starten](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) wijzigen van het aantal virtuele machines met één die Nodetype.</span><span class="sxs-lookup"><span data-stu-id="85bf6-140">Follow the sample/instructions in the [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) to change the number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="85bf6-141">Het exemplaar dat is verwijderd is de hoogste VM-instantie.</span><span class="sxs-lookup"><span data-stu-id="85bf6-141">The instance removed is the highest VM instance.</span></span> 
4. <span data-ttu-id="85bf6-142">Herhaal stap 1 tot en met 3 indien nodig, maar nooit terugschroeven het aantal exemplaren in het primaire knooppunttypen die kleiner is dan wat de betrouwbaarheidslaag garandeert.</span><span class="sxs-lookup"><span data-stu-id="85bf6-142">Repeat steps 1 through 3 as needed, but never scale down the number of instances in the primary node types less than what the reliability tier warrants.</span></span> <span data-ttu-id="85bf6-143">Raadpleeg [de details op betrouwbaarheid lagen hier](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="85bf6-143">Refer to [the details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 

## <a name="manually-remove-vms-from-the-non-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="85bf6-144">Virtuele machines handmatig uit de niet-primaire knooppunt type/virtuele-machineschaalset verwijderen</span><span class="sxs-lookup"><span data-stu-id="85bf6-144">Manually remove VMs from the non-primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="85bf6-145">Voor een stateful service moet u een bepaald aantal knooppunten voor beschikbaarheid altijd maximaal worden onderhouden en het behouden van de status van uw service.</span><span class="sxs-lookup"><span data-stu-id="85bf6-145">For a stateful service, you need a certain number of nodes to be always up to maintain availability and preserve state of your service.</span></span> <span data-ttu-id="85bf6-146">Aan de zeer minimum moet u het aantal knooppunten gelijk zijn aan het aantal doel replica set van de partitie-/ service.</span><span class="sxs-lookup"><span data-stu-id="85bf6-146">At the very minimum, you need the number of nodes equal to the target replica set count of the partition/service.</span></span> 
> 
> 

<span data-ttu-id="85bf6-147">In dat geval moet u het uitvoeren van de volgende stappen uit één VM-instantie in op een tijdstip.</span><span class="sxs-lookup"><span data-stu-id="85bf6-147">You need the execute the following steps one VM instance at a time.</span></span> <span data-ttu-id="85bf6-148">Hiermee kunt u de systeemservices (en uw stateful services) worden afsluiten op de VM-instantie die u wilt verwijderen en nieuwe replica's gemaakt waar u anders.</span><span class="sxs-lookup"><span data-stu-id="85bf6-148">This allows for the system services (and your stateful services) to be shut down gracefully on the VM instance you are removing and new replicas created else where.</span></span>

1. <span data-ttu-id="85bf6-149">Voer [uitschakelen ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) met opzet 'RemoveNode' naar het knooppunt uitschakelen u wilt verwijderen (hoogste exemplaar in het desbetreffende knooppunttype).</span><span class="sxs-lookup"><span data-stu-id="85bf6-149">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ to disable the node you’re going to remove (the highest instance in that node type).</span></span>
2. <span data-ttu-id="85bf6-150">Voer [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) om ervoor te zorgen dat het knooppunt inderdaad is overgegaan op uitgeschakeld.</span><span class="sxs-lookup"><span data-stu-id="85bf6-150">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) to make sure that the node has indeed transitioned to disabled.</span></span> <span data-ttu-id="85bf6-151">Als dat niet, wacht u tot de knooppunten is uitgeschakeld.</span><span class="sxs-lookup"><span data-stu-id="85bf6-151">If not wait till the node is disabled.</span></span> <span data-ttu-id="85bf6-152">U kunt geen wacht niet langer in deze stap.</span><span class="sxs-lookup"><span data-stu-id="85bf6-152">You cannot hurry this step.</span></span>
3. <span data-ttu-id="85bf6-153">Volg de sample/instructies in de [sjablonengalerie snel starten](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) wijzigen van het aantal virtuele machines met één die Nodetype.</span><span class="sxs-lookup"><span data-stu-id="85bf6-153">Follow the sample/instructions in the [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) to change the number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="85bf6-154">Hiermee wordt de hoogste VM-instantie nu verwijderd.</span><span class="sxs-lookup"><span data-stu-id="85bf6-154">This will now remove the highest VM instance.</span></span> 
4. <span data-ttu-id="85bf6-155">Herhaal stap 1 tot en met 3 indien nodig, maar nooit terugschroeven het aantal exemplaren in het primaire knooppunttypen die kleiner is dan wat de betrouwbaarheidslaag garandeert.</span><span class="sxs-lookup"><span data-stu-id="85bf6-155">Repeat steps 1 through 3 as needed, but never scale down the number of instances in the primary node types less than what the reliability tier warrants.</span></span> <span data-ttu-id="85bf6-156">Raadpleeg [de details op betrouwbaarheid lagen hier](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="85bf6-156">Refer to [the details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span>

## <a name="behaviors-you-may-observe-in-service-fabric-explorer"></a><span data-ttu-id="85bf6-157">Gedrag kunnen zich in Service Fabric Explorer</span><span class="sxs-lookup"><span data-stu-id="85bf6-157">Behaviors you may observe in Service Fabric Explorer</span></span>
<span data-ttu-id="85bf6-158">Wanneer u een cluster opschalen heeft de Service Fabric Explorer geeft het aantal knooppunten (virtuele-machineschaalset exemplaren) die deel van het cluster uitmaken.</span><span class="sxs-lookup"><span data-stu-id="85bf6-158">When you scale up a cluster the Service Fabric Explorer will reflect the number of nodes (Virtual Machine scale set instances) that are part of the cluster.</span></span>  <span data-ttu-id="85bf6-159">Wanneer u schaalt een cluster omlaag u wordt echter wel het verwijderde knooppunt/VM-exemplaar in een slechte status weergegeven, tenzij u aanroepen [verwijderen ServiceFabricNodeState cmd](https://msdn.microsoft.com/library/mt125993.aspx) met de naam van het juiste knooppunt.</span><span class="sxs-lookup"><span data-stu-id="85bf6-159">However, when you scale a cluster down you will see the removed node/VM instance displayed in an unhealthy state unless you call [Remove-ServiceFabricNodeState cmd](https://msdn.microsoft.com/library/mt125993.aspx) with the appropriate node name.</span></span>   

<span data-ttu-id="85bf6-160">Hier is de uitleg van dit probleem.</span><span class="sxs-lookup"><span data-stu-id="85bf6-160">Here is the explanation for this behavior.</span></span>

<span data-ttu-id="85bf6-161">De knooppunten die worden vermeld in Service Fabric Explorer zijn afspiegeling van welke het Service Fabric-systeemservices (FM specifiek) op de hoogte van het aantal knooppunten van het cluster had/heeft.</span><span class="sxs-lookup"><span data-stu-id="85bf6-161">The nodes listed in Service Fabric Explorer are a reflection of what the Service Fabric system services (FM specifically) knows about the number of nodes the cluster had/has.</span></span> <span data-ttu-id="85bf6-162">Wanneer u de virtuele-machineschaalset vastgestelde schaalt, de virtuele machine is verwijderd maar FM system-service nog steeds denkt dat het knooppunt (dat is toegewezen aan de virtuele machine die is verwijderd) wordt terugkeren.</span><span class="sxs-lookup"><span data-stu-id="85bf6-162">When you scale the Virtual Machine scale set down, the VM was deleted but FM system service still thinks that the node (that was mapped to the VM that was deleted) will come back.</span></span> <span data-ttu-id="85bf6-163">Zo blijft de Service Fabric Explorer om weer te geven dat knooppunt (Hoewel de status is mogelijk fout of een onbekend).</span><span class="sxs-lookup"><span data-stu-id="85bf6-163">So Service Fabric Explorer continues to display that node (though the health state may be error or unknown).</span></span>

<span data-ttu-id="85bf6-164">Om ervoor te zorgen dat een knooppunt worden verwijderd wanneer een virtuele machine wordt verwijderd, hebt u twee opties:</span><span class="sxs-lookup"><span data-stu-id="85bf6-164">In order to make sure that a node is removed when a VM is removed, you have two options:</span></span>

1) <span data-ttu-id="85bf6-165">Kies een duurzaamheid van goud of zilver (beschikbaar snel) voor de knooppunttypen in het cluster hebt u de infrastructuur-integratie.</span><span class="sxs-lookup"><span data-stu-id="85bf6-165">Choose a durability level of Gold or Silver (available soon) for the node types in your cluster, which gives you the infrastructure integration.</span></span> <span data-ttu-id="85bf6-166">Dit wordt vervolgens automatisch verwijderd de knooppunten van de status van onze services (FM) wanneer u omlaag schalen.</span><span class="sxs-lookup"><span data-stu-id="85bf6-166">Which will then automatically remove the nodes from our system services (FM) state when you scale down.</span></span>
<span data-ttu-id="85bf6-167">Raadpleeg [de details op duurzaamheid niveaus hier](service-fabric-cluster-capacity.md)</span><span class="sxs-lookup"><span data-stu-id="85bf6-167">Refer to [the details on durability levels here](service-fabric-cluster-capacity.md)</span></span>

2) <span data-ttu-id="85bf6-168">Zodra de VM-instantie is verkleind, moet u de [cmdlet Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/mt125993.aspx).</span><span class="sxs-lookup"><span data-stu-id="85bf6-168">Once the VM instance has been scaled down, you need to call the [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/mt125993.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="85bf6-169">Service Fabric-clusters vereisen een bepaald aantal knooppunten tegelijkertijd de tijd om te onderhouden, beschikbaarheid en het behouden van status - aangeduid als 'onderhoud quorum'.</span><span class="sxs-lookup"><span data-stu-id="85bf6-169">Service Fabric clusters require a certain number of nodes to be up at all the time in order to maintain availability and preserve state - referred to as "maintaining quorum."</span></span> <span data-ttu-id="85bf6-170">Het wordt dus doorgaans onveilige alle machines in het cluster afsluiten, tenzij u eerst hebt uitgevoerd een [volledige back-up van de staat](service-fabric-reliable-services-backup-restore.md).</span><span class="sxs-lookup"><span data-stu-id="85bf6-170">So, it is typically unsafe to shut down all the machines in the cluster unless you have first performed a [full backup of your state](service-fabric-reliable-services-backup-restore.md).</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="85bf6-171">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="85bf6-171">Next steps</span></span>
<span data-ttu-id="85bf6-172">Lees het volgende wanneer u ook meer informatie over het plannen van capaciteit van de cluster, upgraden van een cluster en partitioneren services:</span><span class="sxs-lookup"><span data-stu-id="85bf6-172">Read the following to also learn about planning cluster capacity, upgrading a cluster, and partitioning services:</span></span>

* [<span data-ttu-id="85bf6-173">De capaciteit van de cluster plannen</span><span class="sxs-lookup"><span data-stu-id="85bf6-173">Plan your cluster capacity</span></span>](service-fabric-cluster-capacity.md)
* [<span data-ttu-id="85bf6-174">Cluster-upgrades</span><span class="sxs-lookup"><span data-stu-id="85bf6-174">Cluster upgrades</span></span>](service-fabric-cluster-upgrade.md)
* [<span data-ttu-id="85bf6-175">Stateful services van de partitie voor maximale schaal</span><span class="sxs-lookup"><span data-stu-id="85bf6-175">Partition stateful services for maximum scale</span></span>](service-fabric-concepts-partitioning.md)

<!--Image references-->
[BrowseServiceFabricClusterResource]: ./media/service-fabric-cluster-scale-up-down/BrowseServiceFabricClusterResource.png
[ClusterResources]: ./media/service-fabric-cluster-scale-up-down/ClusterResources.png
