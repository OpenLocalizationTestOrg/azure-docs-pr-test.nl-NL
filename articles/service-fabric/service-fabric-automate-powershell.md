---
title: Azure Service Fabric-Toepassingsbeheer aaaAutomate | Microsoft Docs
description: Implementeren, bijwerken, testen en verwijderen van Service Fabric-toepassingen met behulp van PowerShell.
services: service-fabric
documentationcenter: .net
author: rwike77
manager: timlt
editor: 
ms.assetid: f03f4294-571d-4262-8a77-cc8b481b959d
ms.service: service-fabric
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 06/16/2017
ms.author: ryanwi
redirect_url: /azure/service-fabric/service-fabric-deploy-remove-applications
ms.openlocfilehash: a64a39dbee26be8ac15fee767a90fd06bfe4b896
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="automate-hello-application-lifecycle-using-powershell"></a><span data-ttu-id="5ecb5-103">De levenscyclus van de toepassing hello met behulp van PowerShell automatiseren</span><span class="sxs-lookup"><span data-stu-id="5ecb5-103">Automate hello application lifecycle using PowerShell</span></span>
<span data-ttu-id="5ecb5-104">Veel aspecten van Hallo [Service Fabric-toepassing lifecycle](service-fabric-application-lifecycle.md) kan worden geautomatiseerd.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-104">Many aspects of hello [Service Fabric application lifecycle](service-fabric-application-lifecycle.md) can be automated.</span></span>  <span data-ttu-id="5ecb5-105">Dit artikel laat zien hoe toouse PowerShell tooautomate algemene taken voor het implementeren, bijwerken, verwijderen en testen van Azure Service Fabric-toepassingen.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-105">This article shows how toouse PowerShell tooautomate common tasks for deploying, upgrading, removing, and testing Azure Service Fabric applications.</span></span>  <span data-ttu-id="5ecb5-106">Beheerd en HTTP-APIs voor app-beheer zijn ook beschikbaar.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-106">Managed and HTTP APIs for app management are also available.</span></span> <span data-ttu-id="5ecb5-107">Zie [app-levenscyclus](service-fabric-application-lifecycle.md) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-107">See [app lifecycle](service-fabric-application-lifecycle.md) for more information.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="5ecb5-108">Vereisten</span><span class="sxs-lookup"><span data-stu-id="5ecb5-108">Prerequisites</span></span>
<span data-ttu-id="5ecb5-109">Voordat u de taken in het artikel Hallo toohello verplaatsen, moet u:</span><span class="sxs-lookup"><span data-stu-id="5ecb5-109">Before you move on toohello tasks in hello article, be sure to:</span></span>

* <span data-ttu-id="5ecb5-110">Raak vertrouwd met Hallo Service Fabric-concepten beschreven in [technisch overzicht van Service Fabric](service-fabric-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5ecb5-110">Get familiar with hello Service Fabric concepts described in [Technical overview of Service Fabric](service-fabric-technical-overview.md).</span></span>
* <span data-ttu-id="5ecb5-111">[Hallo-runtime, SDK en hulpprogramma's installeren](service-fabric-get-started.md), die ook Hallo geïnstalleerd **ServiceFabric** PowerShell-module.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-111">[Install hello runtime, SDK, and tools](service-fabric-get-started.md), which also installs hello **ServiceFabric** PowerShell module.</span></span>
* <span data-ttu-id="5ecb5-112">[Uitvoering van PowerShell-script inschakelen](service-fabric-get-started.md#enable-powershell-script-execution).</span><span class="sxs-lookup"><span data-stu-id="5ecb5-112">[Enable PowerShell script execution](service-fabric-get-started.md#enable-powershell-script-execution).</span></span>
* <span data-ttu-id="5ecb5-113">Start een lokaal cluster.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-113">Start a local cluster.</span></span>  <span data-ttu-id="5ecb5-114">Start een nieuwe PowerShell-venster als beheerder en voer vervolgens Hallo cluster setup-script uit Hallo SDK-map:`& "$ENV:ProgramFiles\Microsoft SDKs\Service Fabric\ClusterSetup\DevClusterSetup.ps1"`</span><span class="sxs-lookup"><span data-stu-id="5ecb5-114">Launch a new PowerShell window as an administrator and then run hello cluster setup script from hello SDK folder: `& "$ENV:ProgramFiles\Microsoft SDKs\Service Fabric\ClusterSetup\DevClusterSetup.ps1"`</span></span>
* <span data-ttu-id="5ecb5-115">Voordat u een PowerShell-opdrachten in dit artikel uitvoert, moet u eerst toohello lokale Service Fabric-cluster verbinding met behulp van [Connect-ServiceFabricCluster](/powershell/module/servicefabric/connect-servicefabriccluster?view=azureservicefabricps):`Connect-ServiceFabricCluster localhost:19000`</span><span class="sxs-lookup"><span data-stu-id="5ecb5-115">Before you run any PowerShell commands in this article, first connect toohello local Service Fabric cluster by using [Connect-ServiceFabricCluster](/powershell/module/servicefabric/connect-servicefabriccluster?view=azureservicefabricps): `Connect-ServiceFabricCluster localhost:19000`</span></span>
* <span data-ttu-id="5ecb5-116">Hallo taken te volgen vereisen een toodeploy v1 application-pakket en een toepassingspakket v2 voor upgrade.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-116">hello following tasks require a v1 application package toodeploy and a v2 application package for upgrade.</span></span> <span data-ttu-id="5ecb5-117">Hallo downloaden [ **WordCount** voorbeeldtoepassing](http://aka.ms/servicefabricsamples) (te vinden in de voorbeelden van Hallo aan de slag).</span><span class="sxs-lookup"><span data-stu-id="5ecb5-117">Download hello [**WordCount** sample application](http://aka.ms/servicefabricsamples) (located in hello Getting Started samples).</span></span> <span data-ttu-id="5ecb5-118">Bouw en Hallo-toepassing in Visual Studio-pakket (met de rechtermuisknop op **WordCount** in Solution Explorer en selecteer **pakket**).</span><span class="sxs-lookup"><span data-stu-id="5ecb5-118">Build and package hello application in Visual Studio (right-click on **WordCount** in Solution Explorer and select **Package**).</span></span> <span data-ttu-id="5ecb5-119">Kopiëren Hallo v1-pakket in `C:\ServiceFabricSamples\Services\WordCount\WordCount\pkg\Debug` te`C:\Temp\WordCount`.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-119">Copy hello v1 package in `C:\ServiceFabricSamples\Services\WordCount\WordCount\pkg\Debug` too`C:\Temp\WordCount`.</span></span> <span data-ttu-id="5ecb5-120">Kopiëren `C:\Temp\WordCount` te`C:\Temp\WordCountV2`, maken Hallo v2-toepassingspakket voor upgrade.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-120">Copy `C:\Temp\WordCount` too`C:\Temp\WordCountV2`, creating hello v2 application package for upgrade.</span></span> <span data-ttu-id="5ecb5-121">Open `C:\Temp\WordCountV2\ApplicationManifest.xml` in een teksteditor.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-121">Open `C:\Temp\WordCountV2\ApplicationManifest.xml` in a text editor.</span></span> <span data-ttu-id="5ecb5-122">In Hallo **ApplicationManifest** element, wijziging Hallo **ApplicationTypeVersion** kenmerk uit '1.0.0' te '2.0.0' tooupdate Hallo app versienummer.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-122">In hello **ApplicationManifest** element, change hello **ApplicationTypeVersion** attribute from "1.0.0" too"2.0.0" tooupdate hello app version number.</span></span> <span data-ttu-id="5ecb5-123">Hallo gewijzigd ApplicationManifest.xml bestand opslaan.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-123">Save hello changed ApplicationManifest.xml file.</span></span>

## <a name="task-deploy-a-service-fabric-application"></a><span data-ttu-id="5ecb5-124">Taak: Een Service Fabric-toepassing implementeren</span><span class="sxs-lookup"><span data-stu-id="5ecb5-124">Task: Deploy a Service Fabric application</span></span>
<span data-ttu-id="5ecb5-125">Nadat u hebt gebouwd en verpakte toepassing hello (of gedownload Hallo application-pakket), kunt u de toepassing hello in een lokale Service Fabric-cluster implementeren.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-125">After you've built and packaged hello application (or downloaded hello application package), you can deploy hello application into a local Service Fabric cluster.</span></span> <span data-ttu-id="5ecb5-126">Implementatie omvat het Hallo-toepassingspakket uploaden, Hallo toepassingstype registreren en maken van het toepassingsexemplaar Hallo.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-126">Deployment involves uploading hello application package, registering hello application type, and creating hello application instance.</span></span> <span data-ttu-id="5ecb5-127">Hallo-instructies in deze sectie toodeploy een nieuwe toepassing tooa cluster gebruiken.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-127">Use hello instructions in this section toodeploy a new application tooa cluster.</span></span>

### <a name="step-1-upload-hello-application-package"></a><span data-ttu-id="5ecb5-128">Stap 1: Hallo toepassingspakket uploaden</span><span class="sxs-lookup"><span data-stu-id="5ecb5-128">Step 1: Upload hello application package</span></span>
<span data-ttu-id="5ecb5-129">Hallo toepassing pakket toohello uploaden plaatst installatiekopieopslag het in een locatie toegankelijk toointernal Service Fabric-onderdelen.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-129">Uploading hello application package toohello image store puts it in a location accessible toointernal Service Fabric components.</span></span>  <span data-ttu-id="5ecb5-130">Hallo-toepassingspakket bevat Hallo nodig manifest van de toepassing en service manifesten code, configuratie en gegevens pakketten toocreate Hallo toepassing en service-exemplaren.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-130">hello application package contains hello necessary application manifest, service manifests, and code, configuration, and data package(s) toocreate hello application and service instances.</span></span> <span data-ttu-id="5ecb5-131">Als u tooverify Hallo app-pakket lokaal wilt, gebruikt u Hallo [Test ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-131">If you want tooverify hello app package locally, use hello [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span></span>  <span data-ttu-id="5ecb5-132">Hallo [kopie ServiceFabricApplicationPackage](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps) opdracht uploads Hallo pakket.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-132">hello [Copy-ServiceFabricApplicationPackage](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps) command uploads hello package.</span></span> <span data-ttu-id="5ecb5-133">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="5ecb5-133">For example:</span></span>

```powershell
Copy-ServiceFabricApplicationPackage C:\Temp\WordCount\ -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCount
```

### <a name="step-2-register-hello-application-type"></a><span data-ttu-id="5ecb5-134">Stap 2: Type van de toepassing hello registreren</span><span class="sxs-lookup"><span data-stu-id="5ecb5-134">Step 2: Register hello application type</span></span>
<span data-ttu-id="5ecb5-135">Registreren van het Hallo-toepassingspakket maakt Hallo toepassingstype en -versie die zijn gedeclareerd in het toepassingsmanifest Hallo beschikbaar voor gebruik.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-135">Registering hello application package makes hello application type and version declared in hello application manifest available for use.</span></span> <span data-ttu-id="5ecb5-136">Hallo gelezen Hallo pakket geüpload in Hallo-stap 1, controleert u of Hallo-pakket (gelijkwaardige toorunning [Test ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) lokaal), Hallo pakketinhoud verwerken en Hallo verwerkt pakket tooan kopiëren interne locatie.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-136">hello system reads hello package uploaded in hello step 1, verify hello package (equivalent toorunning [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) locally), process hello package contents, and copy hello processed package tooan internal system location.</span></span>  <span data-ttu-id="5ecb5-137">Voer Hallo [registreren ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="5ecb5-137">Run hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Register-ServiceFabricApplicationType WordCount
```
<span data-ttu-id="5ecb5-138">alle Hallo toepassingstypen geregistreerd in Hallo-cluster, Voer Hallo toosee [Get-ServiceFabricApplicationType](/powershell/module/servicefabric/get-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="5ecb5-138">toosee all hello application types registered in hello cluster, run hello [Get-ServiceFabricApplicationType](/powershell/module/servicefabric/get-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Get-ServiceFabricApplicationType
```

### <a name="step-3-create-hello-application-instance"></a><span data-ttu-id="5ecb5-139">Stap 3: Maak Hallo toepassingsexemplaar</span><span class="sxs-lookup"><span data-stu-id="5ecb5-139">Step 3: Create hello application instance</span></span>
<span data-ttu-id="5ecb5-140">Een toepassing kan worden gemaakt met behulp van een versie van het toepassingstype dat is geregistreerd met behulp van Hallo [nieuw ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) opdracht.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-140">An application can be instantiated by using any application type version that has been registered successfully by using hello [New-ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) command.</span></span> <span data-ttu-id="5ecb5-141">naam van elke toepassing Hello is gedeclareerd in tijd implementeren en moet beginnen met Hallo **fabric:** schema en uniek zijn voor elk toepassingsexemplaar.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-141">hello name of each application is declared at deploy time and must start with hello **fabric:** scheme and be unique for each application instance.</span></span> <span data-ttu-id="5ecb5-142">Hallo type toepassingsnaam en toepassingsversie type zijn gedeclareerd in Hallo **ApplicationManifest.xml** -bestand van het toepassingspakket Hallo.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-142">hello application type name and application type version are declared in hello **ApplicationManifest.xml** file of hello application package.</span></span> <span data-ttu-id="5ecb5-143">Als alle services die standaard zijn gedefinieerd in het toepassingsmanifest Hallo van type doeltoepassing hello, worden op dit moment die zijn gemaakt.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-143">If any default services were defined in hello application manifest of hello target application type, then those are created at this time.</span></span>

```powershell
New-ServiceFabricApplication fabric:/WordCount WordCount 1.0.0
```

<span data-ttu-id="5ecb5-144">Hallo [Get-ServiceFabricApplication](/powershell/servicefabric/vlatest/get-servicefabricapplication) opdracht worden alle exemplaren van een toepassing die zijn gemaakt, samen met hun algehele status.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-144">hello [Get-ServiceFabricApplication](/powershell/servicefabric/vlatest/get-servicefabricapplication) command lists all application instances that were successfully created, along with their overall status.</span></span> <span data-ttu-id="5ecb5-145">Hallo [Get-ServiceFabricService](/powershell/module/servicefabric/get-servicefabricservice?view=azureservicefabricps) opdracht worden alle Hallo service-exemplaren die zijn gemaakt binnen een bepaalde toepassing-exemplaar.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-145">hello [Get-ServiceFabricService](/powershell/module/servicefabric/get-servicefabricservice?view=azureservicefabricps) command lists all of hello service instances that were successfully created within a given application instance.</span></span> <span data-ttu-id="5ecb5-146">Standaard-services (indien aanwezig) worden weergegeven.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-146">Default services (if any) are listed.</span></span>

```powershell
Get-ServiceFabricApplication

Get-ServiceFabricApplication | Get-ServiceFabricService
```

## <a name="task-upgrade-a-service-fabric-application"></a><span data-ttu-id="5ecb5-147">Taak: Upgrade uitvoert voor een Service Fabric-toepassing</span><span class="sxs-lookup"><span data-stu-id="5ecb5-147">Task: Upgrade a Service Fabric application</span></span>
<span data-ttu-id="5ecb5-148">U kunt een eerder geïmplementeerde Service Fabric-toepassing met een bijgewerkte pakket bijwerken.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-148">You can upgrade a previously deployed Service Fabric application with an updated application package.</span></span> <span data-ttu-id="5ecb5-149">Deze taak voert een upgrade Hallo WordCount-toepassing die is geïmplementeerd in ' taak: een Service Fabric-toepassing implementeert. "</span><span class="sxs-lookup"><span data-stu-id="5ecb5-149">This task upgrades hello WordCount application that was deployed in "Task: Deploy a Service Fabric application."</span></span> <span data-ttu-id="5ecb5-150">Lees [upgrade van de Service Fabric-toepassing](service-fabric-application-upgrade.md) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-150">Read through [Service Fabric application upgrade](service-fabric-application-upgrade.md) for more information.</span></span>

<span data-ttu-id="5ecb5-151">simpel tookeep voor dit voorbeeld alleen Hallo versienummer van toepassing is bijgewerkt in Hallo WordCountV2 toepassingspakket is gemaakt in Hallo vereisten.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-151">tookeep things simple for this example, only hello application version number was updated in hello WordCountV2 application package created in hello prerequisites.</span></span> <span data-ttu-id="5ecb5-152">Een meer realistische scenario zou hebben betrekking op voor het bijwerken van uw service-bestanden voor code, de configuratie of de gegevens en opnieuw te bouwen en verpakking toepassing hello met bijgewerkte versienummers.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-152">A more realistic scenario would involve updating your service code, configuration, or data files and then rebuilding and packaging hello application with updated version numbers.</span></span>  

### <a name="step-1-upload-hello-updated-application-package"></a><span data-ttu-id="5ecb5-153">Stap 1: Hallo bijgewerkte toepassingspakket uploaden</span><span class="sxs-lookup"><span data-stu-id="5ecb5-153">Step 1: Upload hello updated application package</span></span>
<span data-ttu-id="5ecb5-154">Hallo v1-toepassing WordCount is gereed toobe bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-154">hello WordCount v1 application is ready toobe upgraded.</span></span> <span data-ttu-id="5ecb5-155">Als u het openen van een PowerShell-venster als beheerder en typ [ **Get-ServiceFabricApplication**](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), ziet u die versie 1.0.0 Hallo type WordCount-toepassing wordt geïmplementeerd.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-155">If you open up a PowerShell window as administrator and type [**Get-ServiceFabricApplication**](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), you see that version 1.0.0 of hello WordCount application type is deployed.</span></span>  

<span data-ttu-id="5ecb5-156">Nu kopiëren Hallo pakket toohello Service Fabric installatiekopie toepassingsarchief (waar Hallo toepassingspakketten zijn opgeslagen door de Service Fabric) bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-156">Now copy hello updated application package toohello Service Fabric image store (where hello application packages are stored by Service Fabric).</span></span> <span data-ttu-id="5ecb5-157">parameter Hallo **ApplicationPackagePathInImageStore** informeert Service Fabric waar het Hallo-toepassingspakket kan vinden.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-157">hello parameter **ApplicationPackagePathInImageStore** informs Service Fabric where it can find hello application package.</span></span> <span data-ttu-id="5ecb5-158">Hallo opdracht kopieën Hallo toepassingspakket te volgen**WordCountV2** in Hallo image store:</span><span class="sxs-lookup"><span data-stu-id="5ecb5-158">hello following command copies hello application package too**WordCountV2** in hello image store:</span></span>  

```powershell
Copy-ServiceFabricApplicationPackage C:\Temp\WordCountV2\ -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCountV2

```
### <a name="step-2-register-hello-updated-application-type"></a><span data-ttu-id="5ecb5-159">Stap 2: Register Hallo bijgewerkt toepassingstype</span><span class="sxs-lookup"><span data-stu-id="5ecb5-159">Step 2: Register hello updated application type</span></span>
<span data-ttu-id="5ecb5-160">Hallo volgende stap is tooregister Hallo nieuwe versie van de toepassing hello met Service Fabric, die kan worden uitgevoerd met behulp van Hallo [registreren ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="5ecb5-160">hello next step is tooregister hello new version of hello application with Service Fabric, which can be performed by using hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Register-ServiceFabricApplicationType WordCountV2
```

### <a name="step-3-start-hello-upgrade"></a><span data-ttu-id="5ecb5-161">Stap 3: Hallo upgrade Start</span><span class="sxs-lookup"><span data-stu-id="5ecb5-161">Step 3: Start hello upgrade</span></span>
<span data-ttu-id="5ecb5-162">Verschillende parameters voor het bijwerken, time-outs en health criteria kunnen worden toegepast tooapplication upgrades.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-162">Various upgrade parameters, timeouts, and health criteria can be applied tooapplication upgrades.</span></span> <span data-ttu-id="5ecb5-163">Lees Hallo [parameters voor het bijwerken van toepassing](service-fabric-application-upgrade-parameters.md) en [upgradeproces](service-fabric-application-upgrade.md) toolearn meer documenten.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-163">Read through hello [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and [upgrade process](service-fabric-application-upgrade.md) documents toolearn more.</span></span> <span data-ttu-id="5ecb5-164">Alle services en -exemplaren moet *orde* na de upgrade Hallo.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-164">All services and instances should be *healthy* after hello upgrade.</span></span>  <span data-ttu-id="5ecb5-165">Set Hallo **HealthCheckStableDuration** too60 seconden (zodat Hallo-services zijn in orde voor ten minste 20 seconden voordat de upgrade Hallo wordt voortgezet toohello volgende upgradedomein).</span><span class="sxs-lookup"><span data-stu-id="5ecb5-165">Set hello **HealthCheckStableDuration** too60 seconds (so that hello services are healthy for at least 20 seconds before hello upgrade proceeds toohello next upgrade domain).</span></span>  <span data-ttu-id="5ecb5-166">Ook set Hallo **UpgradeDomainTimeout** too1200 seconden en Hallo **UpgradeTimeout** too3000 seconden.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-166">Also set hello **UpgradeDomainTimeout** too1200 seconds and hello **UpgradeTimeout** too3000 seconds.</span></span> <span data-ttu-id="5ecb5-167">Tot slot stelt Hallo **UpgradeFailureAction** te**terugdraaien**, welke aanvragen die Service Fabric is teruggedraaid Hallo toepassing toohello eerdere versie, als er fouten zijn opgetreden tijdens de upgrade.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-167">Finally, set hello **UpgradeFailureAction** too**rollback**, which requests that Service Fabric rolls back hello application toohello previous version if failures are encountered during upgrade.</span></span>

<span data-ttu-id="5ecb5-168">U kunt nu een upgrade van de toepassing hello starten met behulp van Hallo [Start ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="5ecb5-168">You can now start hello application upgrade by using hello [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Start-ServiceFabricApplicationUpgrade -ApplicationName fabric:/WordCount -ApplicationTypeVersion 2.0.0 -HealthCheckStableDurationSec 60 -UpgradeDomainTimeoutSec 1200 -UpgradeTimeout 3000  -FailureAction Rollback -Monitored
```

<span data-ttu-id="5ecb5-169">Opmerking die naam van de toepassing hello is Hallo dezelfde Hallo implementatie eerder v1.0.0 toepassingsnaam (fabric: / WordCount).</span><span class="sxs-lookup"><span data-stu-id="5ecb5-169">Note that hello application name is hello same as hello previously deployed v1.0.0 application name (fabric:/WordCount).</span></span> <span data-ttu-id="5ecb5-170">Service Fabric gebruikt deze naam tooidentify welke toepassing wordt ophalen bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-170">Service Fabric uses this name tooidentify which application is getting upgraded.</span></span> <span data-ttu-id="5ecb5-171">Als u Hallo time-outs toobe te kort instelt, kunt u een time-outwaarde foutbericht dat statussen probleem Hallo kunt tegenkomen.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-171">If you set hello time-outs toobe too short, you might encounter a time-out failure message that states hello problem.</span></span> <span data-ttu-id="5ecb5-172">Raadpleeg te[toepassingsupgrades oplossen](service-fabric-application-upgrade-troubleshooting.md), of verhoog de Hallo time-outs.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-172">Refer too[Troubleshoot application upgrades](service-fabric-application-upgrade-troubleshooting.md), or increase hello time-outs.</span></span>

### <a name="step-4-check-upgrade-progress"></a><span data-ttu-id="5ecb5-173">Stap 4: Controleer de voortgang van upgrade</span><span class="sxs-lookup"><span data-stu-id="5ecb5-173">Step 4: Check upgrade progress</span></span>
<span data-ttu-id="5ecb5-174">U kunt de upgrade voortgang toepassing controleren met behulp van [Service Fabric Explorer](service-fabric-visualizing-your-cluster.md), of met behulp van Hallo [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="5ecb5-174">You can monitor application upgrade progress by using [Service Fabric Explorer](service-fabric-visualizing-your-cluster.md), or by using hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Get-ServiceFabricApplicationUpgrade fabric:/WordCount
```

<span data-ttu-id="5ecb5-175">In een paar minuten Hallo [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet ziet u dat alle upgradedomeinen zijn bijgewerkt (voltooid).</span><span class="sxs-lookup"><span data-stu-id="5ecb5-175">In a few minutes, hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet shows that all upgrade domains were upgraded (completed).</span></span>

## <a name="task-test-a-service-fabric-application"></a><span data-ttu-id="5ecb5-176">Taak: Een Service Fabric-toepassing testen</span><span class="sxs-lookup"><span data-stu-id="5ecb5-176">Task: Test a Service Fabric application</span></span>
<span data-ttu-id="5ecb5-177">toowrite hoogwaardige services, ontwikkelaars moeten toobe kunnen tooinduce onbetrouwbaar infrastructuur fouten tootest Hallo stabiliteit van hun services.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-177">toowrite high-quality services, developers need toobe able tooinduce unreliable infrastructure faults tootest hello stability of their services.</span></span> <span data-ttu-id="5ecb5-178">Service Fabric biedt ontwikkelaars Hallo mogelijkheid tooinduce veroorzaakt acties en -services testen in de aanwezigheid van fouten door gebruik te maken met de Hallo Hallo chaos en failover Testscenario's.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-178">Service Fabric gives developers hello ability tooinduce fault actions and test services in hello presence of failures by using hello chaos and failover test scenarios.</span></span>  <span data-ttu-id="5ecb5-179">Lees [inleiding toohello Analysis Services-fout](service-fabric-testability-overview.md) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-179">Read through [Introduction toohello Fault Analysis Service](service-fabric-testability-overview.md) for additional information.</span></span>

### <a name="step-1-run-hello-chaos-test-scenario"></a><span data-ttu-id="5ecb5-180">Stap 1: Hallo chaos Testscenario uitvoeren</span><span class="sxs-lookup"><span data-stu-id="5ecb5-180">Step 1: Run hello chaos test scenario</span></span>
<span data-ttu-id="5ecb5-181">Hallo chaos Testscenario genereert fouten over de hele Service Fabric-cluster Hallo.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-181">hello chaos test scenario generates faults across hello entire Service Fabric cluster.</span></span> <span data-ttu-id="5ecb5-182">Hallo scenario comprimeren fouten in het algemeen gezien via maanden of jaren tooa enkele uren.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-182">hello scenario compresses faults generally seen over months or years tooa few hours.</span></span> <span data-ttu-id="5ecb5-183">Hallo combinatie van interleaved fouten met een hoge fouttolerantie tarief vindt hoek aanvragen die anders zou worden overgeslagen.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-183">hello combination of interleaved faults with a high fault rate finds corner cases that would otherwise be missed.</span></span> <span data-ttu-id="5ecb5-184">Hallo volgende voorbeeld wordt uitgevoerd Hallo chaos Testscenario gedurende 60 minuten.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-184">hello following example runs hello chaos test scenario for 60 minutes.</span></span>

```powershell
$timeToRun = 60
$maxStabilizationTimeSecs = 180
$concurrentFaults = 3
$waitTimeBetweenIterationsSec = 60

Invoke-ServiceFabricChaosTestScenario -TimeToRunMinute $timeToRun -MaxClusterStabilizationTimeoutSec $maxStabilizationTimeSecs -MaxConcurrentFaults $concurrentFaults -EnableMoveReplicaFaults -WaitTimeBetweenIterationsSec $waitTimeBetweenIterationsSec
```

### <a name="step-2-run-hello-failover-test-scenario"></a><span data-ttu-id="5ecb5-185">Stap 2: Voer Hallo failover Testscenario</span><span class="sxs-lookup"><span data-stu-id="5ecb5-185">Step 2: Run hello failover test scenario</span></span>
<span data-ttu-id="5ecb5-186">Hallo failover testen scenario doelen een specifieke service partitie in plaats van het volledige cluster Hallo en deze andere services blijft de situatie ongewijzigd blijft.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-186">hello failover test scenario targets a specific service partition instead of hello entire cluster, and it leaves other services unaffected.</span></span> <span data-ttu-id="5ecb5-187">een reeks gesimuleerde storingen in servicevalidatie doorlopen Hallo scenario terwijl uw bedrijfslogica wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-187">hello scenario iterates through a sequence of simulated faults in service validation while your business logic runs.</span></span> <span data-ttu-id="5ecb5-188">Een fout in servicevalidatie geeft een probleem dat verder onderzoek moet.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-188">A failure in service validation indicates an issue that needs further investigation.</span></span> <span data-ttu-id="5ecb5-189">Hallo failover testen induceert slechts één fout tegelijk aan tegengestelde toohello chaos Testscenario, die meerdere fouten kan veroorzaken.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-189">hello failover test induces only one fault at a time, as opposed toohello chaos test scenario, which can induce multiple faults.</span></span> <span data-ttu-id="5ecb5-190">Hallo volgende voorbeeld wordt uitgevoerd Hallo failover testen gedurende 60 minuten op Hallo fabric: / WordCount/WordCountService-service.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-190">hello following example runs hello failover test for 60 minutes against hello fabric:/WordCount/WordCountService service.</span></span>

```powershell
$timeToRun = 60
$maxStabilizationTimeSecs = 180
$waitTimeBetweenFaultsSec = 10
$serviceName = "fabric:/WordCount/WordCountService"

Invoke-ServiceFabricFailoverTestScenario -TimeToRunMinute $timeToRun -MaxServiceStabilizationTimeoutSec $maxStabilizationTimeSecs -WaitTimeBetweenFaultsSec $waitTimeBetweenFaultsSec -ServiceName $serviceName -PartitionKindUniformInt64 -PartitionKey 1
```

## <a name="task-remove-a-service-fabric-application"></a><span data-ttu-id="5ecb5-191">Taak: Een Service Fabric-toepassing verwijderen</span><span class="sxs-lookup"><span data-stu-id="5ecb5-191">Task: Remove a Service Fabric application</span></span>
<span data-ttu-id="5ecb5-192">U kunt een exemplaar van een geïmplementeerde toepassing verwijderen, Hallo ingericht toepassingstype uit Hallo cluster verwijderen en Hallo-toepassingspakket uit Hallo Installatiekopieopslag verwijderen.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-192">You can delete an instance of a deployed application, remove hello provisioned application type from hello cluster, and remove hello application package from hello ImageStore.</span></span>

### <a name="step-1-remove-an-application-instance"></a><span data-ttu-id="5ecb5-193">Stap 1: Een toepassingsexemplaar van de verwijderen</span><span class="sxs-lookup"><span data-stu-id="5ecb5-193">Step 1: Remove an application instance</span></span>
<span data-ttu-id="5ecb5-194">Wanneer een toepassingsexemplaar niet meer nodig is, u kunt definitief wordt verwijderd met behulp van Hallo [verwijderen ServiceFabricApplication](/powershell/module/servicefabric/remove-servicefabricapplication?view=azureservicefabricps) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-194">When an application instance is no longer needed, you can permanently remove it by using hello [Remove-ServiceFabricApplication](/powershell/module/servicefabric/remove-servicefabricapplication?view=azureservicefabricps) cmdlet.</span></span> <span data-ttu-id="5ecb5-195">Hiermee verwijdert u ook automatisch alle services die toohello toepassing, permanent verwijderen van de status van alle service behoren.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-195">This also automatically removes all services belonging toohello application, permanently removing all service state.</span></span> <span data-ttu-id="5ecb5-196">Deze bewerking kan niet ongedaan worden gemaakt en de status van toepassing kan niet worden hersteld.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-196">This operation cannot be reversed and application state cannot be recovered.</span></span>

```powershell
Remove-ServiceFabricApplication fabric:/WordCount
```

### <a name="step-2-unregister-hello-application-type"></a><span data-ttu-id="5ecb5-197">Stap 2: Registratie van het toepassingstype Hallo</span><span class="sxs-lookup"><span data-stu-id="5ecb5-197">Step 2: Unregister hello application type</span></span>
<span data-ttu-id="5ecb5-198">Wanneer u een bepaalde versie van het type van een toepassing niet meer nodig hebt, hef de registratie van deze met behulp van Hallo [Unregister ServiceFabricApplicationType](/powershell/module/servicefabric/unregister-servicefabricapplicationtype?view=azureservicefabricps) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-198">When you no longer need a particular version of an application type, unregister it by using hello [Unregister-ServiceFabricApplicationType](/powershell/module/servicefabric/unregister-servicefabricapplicationtype?view=azureservicefabricps) cmdlet.</span></span> <span data-ttu-id="5ecb5-199">Registratie ongebruikte typen releases opslagruimte die wordt gebruikt door Hallo toepassingspakket in Hallo image store.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-199">Unregistering unused types releases storage space used by hello application package in hello image store.</span></span> <span data-ttu-id="5ecb5-200">Een toepassingstype kunt ongedaan worden gemaakt, zolang er zijn geen toepassingen tegen of in behandeling toepassingsupgrades hiernaar geïnstantieerd.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-200">An application type can be unregistered as long as there are no applications instantiated against it or pending application upgrades referencing it.</span></span>

```powershell
Unregister-ServiceFabricApplicationType WordCount 1.0.0
```

### <a name="step-3-remove-hello-application-package"></a><span data-ttu-id="5ecb5-201">Stap 3: Hallo toepassingspakket verwijderen</span><span class="sxs-lookup"><span data-stu-id="5ecb5-201">Step 3: Remove hello application package</span></span>
<span data-ttu-id="5ecb5-202">Nadat Hallo toepassingstype geregistreerd is, Hallo-toepassingspakket kan worden verwijderd uit de installatiekopieopslag Hallo via Hallo [verwijderen ServiceFabricApplicationPackage](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="5ecb5-202">After hello application type is unregistered, hello application package can be removed from hello image store by using hello [Remove-ServiceFabricApplicationPackage](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps) cmdlet.</span></span>

```powershell
Remove-ServiceFabricApplicationPackage -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCount
```

## <a name="next-steps"></a><span data-ttu-id="5ecb5-203">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="5ecb5-203">Next steps</span></span>
[<span data-ttu-id="5ecb5-204">De levenscyclus van de service Fabric-toepassing</span><span class="sxs-lookup"><span data-stu-id="5ecb5-204">Service Fabric application lifecycle</span></span>](service-fabric-application-lifecycle.md)

[<span data-ttu-id="5ecb5-205">Een toepassing implementeren</span><span class="sxs-lookup"><span data-stu-id="5ecb5-205">Deploy an application</span></span>](service-fabric-deploy-remove-applications.md)

[<span data-ttu-id="5ecb5-206">Upgrade van de toepassing</span><span class="sxs-lookup"><span data-stu-id="5ecb5-206">Application upgrade</span></span>](service-fabric-application-upgrade.md)

[<span data-ttu-id="5ecb5-207">Azure Service Fabric-cmdlets</span><span class="sxs-lookup"><span data-stu-id="5ecb5-207">Azure Service Fabric cmdlets</span></span>](/powershell/azure/overview?view=azureservicefabricps)

