---
title: upgrade van aaaService Fabric-App met behulp van PowerShell | Microsoft Docs
description: In dit artikel wordt uitgelegd Hallo-ervaring van een Service Fabric-toepassing implementeren, Hallo programmacode wijzigen en implementeren van een upgrade met behulp van PowerShell.
services: service-fabric
documentationcenter: .net
author: mani-ramaswamy
manager: timlt
editor: 
ms.assetid: 9bc75748-96b0-49ca-8d8a-41fe08398f25
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: subramar
ms.openlocfilehash: f31212264de45c3b257a0efafb75c10c279b989f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-application-upgrade-using-powershell"></a><span data-ttu-id="f05af-103">Upgrade van de service Fabric-toepassing met behulp van PowerShell</span><span class="sxs-lookup"><span data-stu-id="f05af-103">Service Fabric application upgrade using PowerShell</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="f05af-104">PowerShell</span><span class="sxs-lookup"><span data-stu-id="f05af-104">PowerShell</span></span>](service-fabric-application-upgrade-tutorial-powershell.md)
> * [<span data-ttu-id="f05af-105">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="f05af-105">Visual Studio</span></span>](service-fabric-application-upgrade-tutorial.md)
> 
> 

<br/>

<span data-ttu-id="f05af-106">Hallo het meest gebruikt en aanbevolen upgrade aanpak is uitrollende upgrade Hallo bewaakt.</span><span class="sxs-lookup"><span data-stu-id="f05af-106">hello most frequently used and recommended upgrade approach is hello monitored rolling upgrade.</span></span>  <span data-ttu-id="f05af-107">Azure Service Fabric controleert de status van de Hallo van Hallo-toepassing wordt bijgewerkt op basis van een reeks statusbeleid.</span><span class="sxs-lookup"><span data-stu-id="f05af-107">Azure Service Fabric monitors hello health of hello application being upgraded based on a set of health policies.</span></span> <span data-ttu-id="f05af-108">Wanneer een updatedomein (UD) is ge√ºpgraded, Service Fabric evalueert Hallo toepassingsstatus en verloopt in de volgende updatedomein toohello of Hallo upgrade, afhankelijk van het statusbeleid Hallo is mislukt.</span><span class="sxs-lookup"><span data-stu-id="f05af-108">Once an update domain (UD) is upgraded, Service Fabric evaluates hello application health and either proceeds toohello next update domain or fails hello upgrade depending on hello health policies.</span></span>

<span data-ttu-id="f05af-109">Een upgrade van de bewaakte toepassing kan worden uitgevoerd met behulp van Hallo beheerd of systeemeigen API's, PowerShell of REST.</span><span class="sxs-lookup"><span data-stu-id="f05af-109">A monitored application upgrade can be performed using hello managed or native APIs, PowerShell, or REST.</span></span> <span data-ttu-id="f05af-110">Zie voor instructies voor het uitvoeren van een upgrade met Visual Studio, [bijwerken van uw toepassing met Visual Studio](service-fabric-application-upgrade-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="f05af-110">For instructions on performing an upgrade using Visual Studio, see [Upgrading your application using Visual Studio](service-fabric-application-upgrade-tutorial.md).</span></span>

<span data-ttu-id="f05af-111">Met Service Fabric bewaakt rollende upgrades, kunt Hallo beheerder van de toepassing hello evaluatie statusbeleid dat Service Fabric toodetermine gebruikt als de toepassing hello in orde is configureren.</span><span class="sxs-lookup"><span data-stu-id="f05af-111">With Service Fabric monitored rolling upgrades, hello application administrator can configure hello health evaluation policy that Service Fabric uses toodetermine if hello application is healthy.</span></span> <span data-ttu-id="f05af-112">Bovendien configureren Hallo beheerder Hallo actie toobe genomen wanneer Hallo de statusevaluatie mislukt (bijvoorbeeld, voeren een automatische terugdraaien.) Deze sectie helpt bij de upgrade van een bewaakte voor een Hallo SDK-voorbeelden die PowerShell gebruikt.</span><span class="sxs-lookup"><span data-stu-id="f05af-112">In addition, hello administrator can configure hello action toobe taken when hello health evaluation fails (for example, doing an automatic rollback.) This section walks through a monitored upgrade for one of hello SDK samples that uses PowerShell.</span></span> <span data-ttu-id="f05af-113">Hallo leidt volgende Microsoft Virtual Academy video u door een app-upgrade:<center><a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=OrHJH66yC_6406218965">
<img src="./media/service-fabric-application-upgrade-tutorial-powershell/AppLifecycleVid.png" WIDTH="360" HEIGHT="244">
</a></center></span><span class="sxs-lookup"><span data-stu-id="f05af-113">hello following Microsoft Virtual Academy video also walks you through an app upgrade: <center><a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=OrHJH66yC_6406218965">
<img src="./media/service-fabric-application-upgrade-tutorial-powershell/AppLifecycleVid.png" WIDTH="360" HEIGHT="244">
</a></center></span></span>

## <a name="step-1-build-and-deploy-hello-visual-objects-sample"></a><span data-ttu-id="f05af-114">Stap 1: Bouwen en implementeren van Hallo visuele objecten voorbeeld</span><span class="sxs-lookup"><span data-stu-id="f05af-114">Step 1: Build and deploy hello Visual Objects sample</span></span>
<span data-ttu-id="f05af-115">Bouwen en Hallo toepassing publiceren door met de rechtermuisknop op het Hallo-toepassingsproject **VisualObjectsApplication,** en het selecteren van Hallo **publiceren** opdracht.</span><span class="sxs-lookup"><span data-stu-id="f05af-115">Build and publish hello application by right-clicking on hello application project, **VisualObjectsApplication,** and selecting hello **Publish** command.</span></span>  <span data-ttu-id="f05af-116">Zie voor meer informatie [upgrade zelfstudie over Service Fabric](service-fabric-application-upgrade-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="f05af-116">For more information, see [Service Fabric application upgrade tutorial](service-fabric-application-upgrade-tutorial.md).</span></span>  <span data-ttu-id="f05af-117">U kunt ook kunt u PowerShell toodeploy uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="f05af-117">Alternatively, you can use PowerShell toodeploy your application.</span></span>

> [!NOTE]
> <span data-ttu-id="f05af-118">Voordat een van de Service Fabric-opdrachten Hallo kan worden gebruikt in PowerShell, moet u eerst tooconnect toohello cluster met behulp van Hallo `Connect-ServiceFabricCluster` cmdlet.</span><span class="sxs-lookup"><span data-stu-id="f05af-118">Before any of hello Service Fabric commands may be used in PowerShell, you first need tooconnect toohello cluster by using hello `Connect-ServiceFabricCluster` cmdlet.</span></span> <span data-ttu-id="f05af-119">Op deze manier wordt ervan uitgegaan dat Hallo die cluster al is ingesteld op uw lokale machine.</span><span class="sxs-lookup"><span data-stu-id="f05af-119">Similarly, it is assumed that hello Cluster has already been set up on your local machine.</span></span> <span data-ttu-id="f05af-120">Zie artikel Hallo op [instellen van uw ontwikkelomgeving Service Fabric](service-fabric-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="f05af-120">See hello article on [setting up your Service Fabric development environment](service-fabric-get-started.md).</span></span>
> 
> 

<span data-ttu-id="f05af-121">Na het Hallo-project in Visual Studio maakt, kunt u de PowerShell-opdracht Hallo [kopie ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/copy-servicefabricapplicationpackage) toocopy Hallo toepassing pakket toohello Installatiekopieopslag.</span><span class="sxs-lookup"><span data-stu-id="f05af-121">After building hello project in Visual Studio, you can use hello PowerShell command [Copy-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/copy-servicefabricapplicationpackage) toocopy hello application package toohello ImageStore.</span></span> <span data-ttu-id="f05af-122">Als u tooverify Hallo app-pakket lokaal wilt, gebruikt u Hallo [Test ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="f05af-122">If you want tooverify hello app package locally, use hello [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span></span> <span data-ttu-id="f05af-123">Hallo volgende stap is tooregister hello toohello Service Fabric runtime voor de toepassing hello met [registreren ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/register-servicefabricapplicationtype) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="f05af-123">hello next step is tooregister hello application toohello Service Fabric runtime using hello [Register-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/register-servicefabricapplicationtype) cmdlet.</span></span> <span data-ttu-id="f05af-124">Hallo laatste stap is een exemplaar van de toepassing hello toostart via Hallo [nieuw ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="f05af-124">hello final step is toostart an instance of hello application by using hello [New-ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) cmdlet.</span></span>  <span data-ttu-id="f05af-125">Deze drie stappen zijn vergelijkbaar toousing hello **implementeren** menu-item in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f05af-125">These three steps are analogous toousing hello **Deploy** menu item in Visual Studio.</span></span>

<span data-ttu-id="f05af-126">U kunt nu [Service Fabric Explorer tooview Hallo cluster en Hallo toepassing](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="f05af-126">Now, you can use [Service Fabric Explorer tooview hello cluster and hello application](service-fabric-visualizing-your-cluster.md).</span></span> <span data-ttu-id="f05af-127">Hallo toepassing heeft een webservice die waarin navigeren tooin Internet Explorer te typen worden kan [http://localhost: 8081/visualobjects](http://localhost:8081/visualobjects) in de adresbalk Hallo.</span><span class="sxs-lookup"><span data-stu-id="f05af-127">hello application has a web service that can be navigated tooin Internet Explorer by typing [http://localhost:8081/visualobjects](http://localhost:8081/visualobjects) in hello address bar.</span></span>  <span data-ttu-id="f05af-128">Hier ziet u enkele zwevende visual objecten navigeren in het welkomstscherm.</span><span class="sxs-lookup"><span data-stu-id="f05af-128">You should see some floating visual objects moving around in hello screen.</span></span>  <span data-ttu-id="f05af-129">Bovendien kunt u [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps) toocheck Hallo toepassingsstatus.</span><span class="sxs-lookup"><span data-stu-id="f05af-129">Additionally, you can use [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps) toocheck hello application status.</span></span>

## <a name="step-2-update-hello-visual-objects-sample"></a><span data-ttu-id="f05af-130">Stap 2: Hallo visuele objecten voorbeeld bijwerken</span><span class="sxs-lookup"><span data-stu-id="f05af-130">Step 2: Update hello Visual Objects sample</span></span>
<span data-ttu-id="f05af-131">U wellicht opgevallen dat met Hallo-versie die is ge√Ømplementeerd in stap 1, Hallo visuele objecten niet draaien.</span><span class="sxs-lookup"><span data-stu-id="f05af-131">You might notice that with hello version that was deployed in Step 1, hello visual objects do not rotate.</span></span> <span data-ttu-id="f05af-132">Deze toepassing tooone waar Hallo visuele objecten ook draaien gaat upgraden.</span><span class="sxs-lookup"><span data-stu-id="f05af-132">Let's upgrade this application tooone where hello visual objects also rotate.</span></span>

<span data-ttu-id="f05af-133">Selecteer Hallo VisualObjects.ActorService-project binnen Hallo VisualObjects oplossing en Hallo StatefulVisualObjectActor.cs bestand opent.</span><span class="sxs-lookup"><span data-stu-id="f05af-133">Select hello VisualObjects.ActorService project within hello VisualObjects solution, and open hello StatefulVisualObjectActor.cs file.</span></span> <span data-ttu-id="f05af-134">In dat bestand navigeren toohello methode `MoveObject`, uitcommentari√´ren `this.State.Move()`, en verwijder het commentaarteken `this.State.Move(true)`.</span><span class="sxs-lookup"><span data-stu-id="f05af-134">Within that file, navigate toohello method `MoveObject`, comment out `this.State.Move()`, and uncomment `this.State.Move(true)`.</span></span> <span data-ttu-id="f05af-135">Deze wijziging draait Hallo objecten na de upgrade van Hallo-service.</span><span class="sxs-lookup"><span data-stu-id="f05af-135">This change rotates hello objects after hello service is upgraded.</span></span>

<span data-ttu-id="f05af-136">Er moet ook tooupdate hello *ServiceManifest.xml* -bestand (onder PackageRoot) van Hallo project **VisualObjects.ActorService**.</span><span class="sxs-lookup"><span data-stu-id="f05af-136">We also need tooupdate hello *ServiceManifest.xml* file (under PackageRoot) of hello project **VisualObjects.ActorService**.</span></span> <span data-ttu-id="f05af-137">Update Hallo *CodePackage* Hallo service versie too2.0 en overeenkomende regels in Hallo Hallo *ServiceManifest.xml* bestand.</span><span class="sxs-lookup"><span data-stu-id="f05af-137">Update hello *CodePackage* and hello service version too2.0, and hello corresponding lines in hello *ServiceManifest.xml* file.</span></span>
<span data-ttu-id="f05af-138">U kunt Visual Studio Hallo *Manifest bestanden bewerken* optie nadat u met de rechtermuisknop op Hallo oplossing toomake Hallo manifestbestand wijzigingen.</span><span class="sxs-lookup"><span data-stu-id="f05af-138">You can use hello Visual Studio *Edit Manifest Files* option after you right-click on hello solution toomake hello manifest file changes.</span></span>

<span data-ttu-id="f05af-139">Nadat Hallo wijzigingen zijn aangebracht, Hallo manifest moet eruitzien als in de volgende Hallo (gemarkeerde gedeelten weergeven Hallo wijzigingen):</span><span class="sxs-lookup"><span data-stu-id="f05af-139">After hello changes are made, hello manifest should look like hello following (highlighted portions show hello changes):</span></span>

```xml
<ServiceManifestName="VisualObjects.ActorService" Version="2.0" xmlns="http://schemas.microsoft.com/2011/01/fabric" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

<CodePackageName="Code" Version="2.0">
```

<span data-ttu-id="f05af-140">Nu Hallo *ApplicationManifest.xml* bestand (vinden onder Hallo **VisualObjects** project onder Hallo **VisualObjects** oplossing) bijgewerkte tooversion 2.0 Hallo is **VisualObjects.ActorService** project.</span><span class="sxs-lookup"><span data-stu-id="f05af-140">Now hello *ApplicationManifest.xml* file (found under hello **VisualObjects** project under hello **VisualObjects** solution) is updated tooversion 2.0 of hello **VisualObjects.ActorService** project.</span></span> <span data-ttu-id="f05af-141">Bovendien is de versie van de toepassing hello bijgewerkte too2.0.0.0 van 1.0.0.0.</span><span class="sxs-lookup"><span data-stu-id="f05af-141">In addition, hello Application version is updated too2.0.0.0 from 1.0.0.0.</span></span> <span data-ttu-id="f05af-142">Hallo *ApplicationManifest.xml* moet eruit Hallo volgende codefragment:</span><span class="sxs-lookup"><span data-stu-id="f05af-142">hello *ApplicationManifest.xml* should look like hello following snippet:</span></span>

```xml
<ApplicationManifestxmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ApplicationTypeName="VisualObjects" ApplicationTypeVersion="2.0.0.0" xmlns="http://schemas.microsoft.com/2011/01/fabric">

 <ServiceManifestRefServiceManifestName="VisualObjects.ActorService" ServiceManifestVersion="2.0" />
```


<span data-ttu-id="f05af-143">Nu Hallo-project te bouwen door het selecteren van alleen Hallo **ActorService** -project en klik vervolgens met de rechtermuisknop op en te selecteren Hallo **bouwen** optie in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f05af-143">Now, build hello project by selecting just hello **ActorService** project, and then right-clicking and selecting hello **Build** option in Visual Studio.</span></span> <span data-ttu-id="f05af-144">Als u selecteert **alles opnieuw opbouwen**, moet u Hallo-versies voor alle projecten, bijwerken, omdat het Hallo-code zou hebben gewijzigd.</span><span class="sxs-lookup"><span data-stu-id="f05af-144">If you select **Rebuild all**, you should update hello versions for all projects, since hello code would have changed.</span></span> <span data-ttu-id="f05af-145">Daarna laten we pakket Hallo toepassing bijgewerkt door met de rechtermuisknop op ***VisualObjectsApplication***, Hallo Service Fabric-Menu selecteren en te kiezen **pakket**.</span><span class="sxs-lookup"><span data-stu-id="f05af-145">Next, let's package hello updated application by right-clicking on ***VisualObjectsApplication***, selecting hello Service Fabric Menu, and choosing **Package**.</span></span> <span data-ttu-id="f05af-146">Deze actie wordt gemaakt van een toepassingspakket dat kan worden ge√Ømplementeerd.</span><span class="sxs-lookup"><span data-stu-id="f05af-146">This action creates an application package that can be deployed.</span></span>  <span data-ttu-id="f05af-147">De bijgewerkte toepassing is gereed toobe ge√Ømplementeerd.</span><span class="sxs-lookup"><span data-stu-id="f05af-147">Your updated application is ready toobe deployed.</span></span>

## <a name="step-3--decide-on-health-policies-and-upgrade-parameters"></a><span data-ttu-id="f05af-148">Stap 3: Bepaal statusbeleid en parameters bijwerken</span><span class="sxs-lookup"><span data-stu-id="f05af-148">Step 3:  Decide on health policies and upgrade parameters</span></span>
<span data-ttu-id="f05af-149">Maak uzelf bekend met Hallo [parameters voor het bijwerken van toepassing](service-fabric-application-upgrade-parameters.md) en Hallo [upgradeproces](service-fabric-application-upgrade.md) tooget een goed begrip van Hallo verschillende parameters, time-outs en health criterium toegepast upgraden .</span><span class="sxs-lookup"><span data-stu-id="f05af-149">Familiarize yourself with hello [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and hello [upgrade process](service-fabric-application-upgrade.md) tooget a good understanding of hello various upgrade parameters, time-outs, and health criterion applied.</span></span> <span data-ttu-id="f05af-150">Voor dit scenario is Hallo service health evaluatiecriterium toohello instellen (en aanbevolen) waarden, wat betekent dat alle services en -exemplaren moeten *orde* na de upgrade Hallo.</span><span class="sxs-lookup"><span data-stu-id="f05af-150">For this walkthrough, hello service health evaluation criterion is set toohello default (and recommended) values, which means that all services and instances should be *healthy* after hello upgrade.</span></span>  

<span data-ttu-id="f05af-151">Hallo echter we verhogen *HealthCheckStableDuration* too60 seconden (zodat Hallo-services zijn in orde voor ten minste 20 seconden voordat de upgrade Hallo wordt voortgezet toohello naast domein bijwerken).</span><span class="sxs-lookup"><span data-stu-id="f05af-151">However, let's increase hello *HealthCheckStableDuration* too60 seconds (so that hello services are healthy for at least 20 seconds before hello upgrade proceeds toohello next update domain).</span></span>  <span data-ttu-id="f05af-152">Stel de Hallo ook *UpgradeDomainTimeout* toobe 1200 seconden en Hallo *UpgradeTimeout* toobe 3000 seconden.</span><span class="sxs-lookup"><span data-stu-id="f05af-152">Let's also set hello *UpgradeDomainTimeout* toobe 1200 seconds and hello *UpgradeTimeout* toobe 3000 seconds.</span></span>

<span data-ttu-id="f05af-153">Tot slot gaan we ook stelt Hallo *UpgradeFailureAction* toorollback.</span><span class="sxs-lookup"><span data-stu-id="f05af-153">Finally, let's also set hello *UpgradeFailureAction* toorollback.</span></span> <span data-ttu-id="f05af-154">Deze optie vereist Service Fabric tooroll back Hallo toohello vorige toepassingsversie als er problemen worden aangetroffen tijdens het Hallo-upgrade.</span><span class="sxs-lookup"><span data-stu-id="f05af-154">This option requires Service Fabric tooroll back hello application toohello previous version if it encounters any issues during hello upgrade.</span></span> <span data-ttu-id="f05af-155">Dus bij het starten van de upgrade hello (in stap 4) worden hello volgende parameters opgegeven:</span><span class="sxs-lookup"><span data-stu-id="f05af-155">Thus, when starting hello upgrade (in Step 4), hello following parameters are specified:</span></span>

<span data-ttu-id="f05af-156">FailureAction = terugdraaien</span><span class="sxs-lookup"><span data-stu-id="f05af-156">FailureAction = Rollback</span></span>

<span data-ttu-id="f05af-157">HealthCheckStableDurationSec = 60</span><span class="sxs-lookup"><span data-stu-id="f05af-157">HealthCheckStableDurationSec = 60</span></span>

<span data-ttu-id="f05af-158">UpgradeDomainTimeoutSec 1200 =</span><span class="sxs-lookup"><span data-stu-id="f05af-158">UpgradeDomainTimeoutSec = 1200</span></span>

<span data-ttu-id="f05af-159">UpgradeTimeout = 3000</span><span class="sxs-lookup"><span data-stu-id="f05af-159">UpgradeTimeout = 3000</span></span>

## <a name="step-4-prepare-application-for-upgrade"></a><span data-ttu-id="f05af-160">Stap 4: De toepassing voor een upgrade voorbereiden</span><span class="sxs-lookup"><span data-stu-id="f05af-160">Step 4: Prepare application for upgrade</span></span>
<span data-ttu-id="f05af-161">Nu de toepassing hello wordt samengesteld en gereed toobe bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="f05af-161">Now hello application is built and ready toobe upgraded.</span></span> <span data-ttu-id="f05af-162">Als u het openen van een PowerShell-venster als beheerder en typ [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), het laat u weten dat het toepassingstype 1.0.0.0 van **VisualObjects** die zijn ge√Ømplementeerd.</span><span class="sxs-lookup"><span data-stu-id="f05af-162">If you open up a PowerShell window as an administrator and type [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), it should let you know that it is application type 1.0.0.0 of **VisualObjects** that's been deployed.</span></span>  

<span data-ttu-id="f05af-163">Hallo toepassingspakket wordt opgeslagen onder de volgende Hallo relatief pad waar u Hallo Service Fabric SDK - ongecomprimeerde *Samples\Services\Stateful\VisualObjects\VisualObjects\obj\x64\Debug*.</span><span class="sxs-lookup"><span data-stu-id="f05af-163">hello application package is stored under hello following relative path where you uncompressed hello Service Fabric SDK - *Samples\Services\Stateful\VisualObjects\VisualObjects\obj\x64\Debug*.</span></span> <span data-ttu-id="f05af-164">U moet een pakketmap '' vinden in die map waar het Hallo-toepassingspakket wordt opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="f05af-164">You should find a "Package" folder in that directory, where hello application package is stored.</span></span> <span data-ttu-id="f05af-165">Controleer Hallo tijdstempels tooensure is de laatste build hello (mogelijk moet u ook op de juiste wijze toomodify Hallo paden).</span><span class="sxs-lookup"><span data-stu-id="f05af-165">Check hello timestamps tooensure that it is hello latest build (you may need toomodify hello paths appropriately as well).</span></span>

<span data-ttu-id="f05af-166">Nu gaan we bijgewerkt kopie Hallo toepassing pakket toohello Service Fabric Installatiekopieopslag (waar Hallo toepassingspakketten zijn opgeslagen door de Fabric-Service).</span><span class="sxs-lookup"><span data-stu-id="f05af-166">Now let's copy hello updated application package toohello Service Fabric ImageStore (where hello application packages are stored by Service Fabric).</span></span> <span data-ttu-id="f05af-167">parameter Hallo *ApplicationPackagePathInImageStore* informeert Service Fabric waar het Hallo-toepassingspakket kan vinden.</span><span class="sxs-lookup"><span data-stu-id="f05af-167">hello parameter *ApplicationPackagePathInImageStore* informs Service Fabric where it can find hello application package.</span></span> <span data-ttu-id="f05af-168">We hebben bijgewerkt Hallo toepassing plaatsen ' VisualObjects\_V2 ' Hello opdracht (mogelijk moet u toomodify paden opnieuw op de juiste wijze) te volgen.</span><span class="sxs-lookup"><span data-stu-id="f05af-168">We have put hello updated application in "VisualObjects\_V2" with hello following command (you may need toomodify paths again appropriately).</span></span>

```powershell
Copy-ServiceFabricApplicationPackage  -ApplicationPackagePath .\Samples\Services\Stateful\VisualObjects\VisualObjects\obj\x64\Debug\Package
-ImageStoreConnectionString fabric:ImageStore   -ApplicationPackagePathInImageStore "VisualObjects\_V2"
```

<span data-ttu-id="f05af-169">de volgende stap Hallo tooregister is deze toepassing met Service Fabric, die kan worden uitgevoerd met behulp van Hallo [registreren ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) opdracht:</span><span class="sxs-lookup"><span data-stu-id="f05af-169">hello next step is tooregister this application with Service Fabric, which can be performed using hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) command:</span></span>

```powershell
Register-ServiceFabricApplicationType -ApplicationPathInImageStore "VisualObjects\_V2"
```

<span data-ttu-id="f05af-170">Als hello voorgaande opdracht niet lukt, is het waarschijnlijk dat u het opbouwen van alle services moet.</span><span class="sxs-lookup"><span data-stu-id="f05af-170">If hello preceding command doesn't succeed, it is likely that you need a rebuild of all services.</span></span> <span data-ttu-id="f05af-171">Zoals vermeld in stap 2, wellicht tooupdate uw WebService-versie.</span><span class="sxs-lookup"><span data-stu-id="f05af-171">As mentioned in Step 2, you may have tooupdate your WebService version as well.</span></span>

## <a name="step-5-start-hello-application-upgrade"></a><span data-ttu-id="f05af-172">Stap 5: Start de upgrade van de toepassing hello</span><span class="sxs-lookup"><span data-stu-id="f05af-172">Step 5: Start hello application upgrade</span></span>
<span data-ttu-id="f05af-173">Nu we zijn alle set toostart Hallo toepassing upgraden met behulp van Hallo [Start ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) opdracht:</span><span class="sxs-lookup"><span data-stu-id="f05af-173">Now, we're all set toostart hello application upgrade by using hello [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) command:</span></span>

```powershell
Start-ServiceFabricApplicationUpgrade -ApplicationName fabric:/VisualObjects -ApplicationTypeVersion 2.0.0.0 -HealthCheckStableDurationSec 60 -UpgradeDomainTimeoutSec 1200 -UpgradeTimeout 3000   -FailureAction Rollback -Monitored
```


<span data-ttu-id="f05af-174">Hallo toepassingsnaam is Hallo dezelfde zoals beschreven in Hallo *ApplicationManifest.xml* bestand.</span><span class="sxs-lookup"><span data-stu-id="f05af-174">hello application name is hello same as it was described in hello *ApplicationManifest.xml* file.</span></span> <span data-ttu-id="f05af-175">Service Fabric gebruikt deze naam tooidentify welke toepassing wordt ophalen bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="f05af-175">Service Fabric uses this name tooidentify which application is getting upgraded.</span></span> <span data-ttu-id="f05af-176">Als u Hallo time-outs toobe te kort instelt, kunt u een foutbericht dat statussen Hallo probleem tegenkomen.</span><span class="sxs-lookup"><span data-stu-id="f05af-176">If you set hello time-outs toobe too short, you may encounter a failure message that states hello problem.</span></span> <span data-ttu-id="f05af-177">Raadpleeg de sectie Probleemoplossing toohello of Hallo time-outs vergroot.</span><span class="sxs-lookup"><span data-stu-id="f05af-177">Refer toohello troubleshooting section, or increase hello time-outs.</span></span>

<span data-ttu-id="f05af-178">Nu, zoals upgrade opbrengst toepassing hello, kunt u deze bewaken met behulp van Service Fabric Explorer of met behulp van Hallo [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) PowerShell-opdracht:</span><span class="sxs-lookup"><span data-stu-id="f05af-178">Now, as hello application upgrade proceeds, you can monitor it using Service Fabric Explorer, or by using hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) PowerShell command:</span></span> 

```powershell
Get-ServiceFabricApplicationUpgrade fabric:/VisualObjects
```

<span data-ttu-id="f05af-179">In een paar minuten Hallo status die u hebt verkregen via Hallo voorafgaand aan de PowerShell-opdracht moet staat dat alle domeinen van de update zijn bijgewerkt (voltooid).</span><span class="sxs-lookup"><span data-stu-id="f05af-179">In a few minutes, hello status that you got by using hello preceding PowerShell command, should state that all update domains were upgraded (completed).</span></span> <span data-ttu-id="f05af-180">En zult u visuele objecten in uw browservenster Hallo hebt gestart roteren!</span><span class="sxs-lookup"><span data-stu-id="f05af-180">And you should find that hello visual objects in your browser window have started rotating!</span></span>

<span data-ttu-id="f05af-181">Een upgrade van versie 2 tooversion 3 of van versie 2 tooversion 1 wijze van oefening maakt, kunt u proberen.</span><span class="sxs-lookup"><span data-stu-id="f05af-181">You can try upgrading from version 2 tooversion 3, or from version 2 tooversion 1 as an exercise.</span></span> <span data-ttu-id="f05af-182">Verplaatsen van versie 2 tooversion 1 wordt ook beschouwd als een upgrade.</span><span class="sxs-lookup"><span data-stu-id="f05af-182">Moving from version 2 tooversion 1 is also considered an upgrade.</span></span> <span data-ttu-id="f05af-183">Spelen met time-outs en health beleid toomake uzelf bekend mee.</span><span class="sxs-lookup"><span data-stu-id="f05af-183">Play with time-outs and health policies toomake yourself familiar with them.</span></span> <span data-ttu-id="f05af-184">Wanneer u tooan Azure-cluster implementeert, Hallo u parameters nodig toobe ingesteld op de juiste wijze.</span><span class="sxs-lookup"><span data-stu-id="f05af-184">When you are deploying tooan Azure cluster, hello parameters need toobe set appropriately.</span></span> <span data-ttu-id="f05af-185">Goede tooset Hallo time-outs is conservatieve.</span><span class="sxs-lookup"><span data-stu-id="f05af-185">It is good tooset hello time-outs conservatively.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f05af-186">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="f05af-186">Next steps</span></span>
<span data-ttu-id="f05af-187">[Bijwerken van uw toepassing met Visual Studio](service-fabric-application-upgrade-tutorial.md) begeleidt u bij een upgrade van de toepassing met Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f05af-187">[Upgrading your application using Visual Studio](service-fabric-application-upgrade-tutorial.md) walks you through an application upgrade using Visual Studio.</span></span>

<span data-ttu-id="f05af-188">Bepalen hoe uw toepassing wordt bijgewerkt met behulp van [parameters upgrade](service-fabric-application-upgrade-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="f05af-188">Control how your application upgrades by using [upgrade parameters](service-fabric-application-upgrade-parameters.md).</span></span>

<span data-ttu-id="f05af-189">Uw toepassingsupgrades compatibel maken door leren hoe toouse [serialisatie van gegevens](service-fabric-application-upgrade-data-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="f05af-189">Make your application upgrades compatible by learning how toouse [data serialization](service-fabric-application-upgrade-data-serialization.md).</span></span>

<span data-ttu-id="f05af-190">Meer informatie over hoe toouse geavanceerde functies tijdens het bijwerken van uw toepassing door ernaar te verwijzen[geavanceerde onderwerpen](service-fabric-application-upgrade-advanced.md).</span><span class="sxs-lookup"><span data-stu-id="f05af-190">Learn how toouse advanced functionality while upgrading your application by referring too[Advanced topics](service-fabric-application-upgrade-advanced.md).</span></span>

<span data-ttu-id="f05af-191">Veelvoorkomende problemen oplossen in toepassingsupgrades door te verwijzen toohello stappen in [probleemoplossing toepassingsupgrades](service-fabric-application-upgrade-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="f05af-191">Fix common problems in application upgrades by referring toohello steps in [Troubleshooting application upgrades](service-fabric-application-upgrade-troubleshooting.md).</span></span>

