---
title: aaaService Fabric app upgrade-zelfstudie | Microsoft Docs
description: In dit artikel wordt uitgelegd Hallo-ervaring van een Service Fabric-toepassing implementeren, Hallo programmacode wijzigen en implementeren van een upgrade met behulp van Visual Studio.
services: service-fabric
documentationcenter: .net
author: mani-ramaswamy
manager: timlt
editor: 
ms.assetid: a3181a7a-9ab1-4216-b07a-05b79bd826a4
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: subramar
ms.openlocfilehash: d069ff0b291018dbac846e65cddff1e9d73d156c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-application-upgrade-tutorial-using-visual-studio"></a><span data-ttu-id="a89d4-103">Service Fabric-toepassing upgraden zelfstudie met Visual Studio</span><span class="sxs-lookup"><span data-stu-id="a89d4-103">Service Fabric application upgrade tutorial using Visual Studio</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="a89d4-104">PowerShell</span><span class="sxs-lookup"><span data-stu-id="a89d4-104">PowerShell</span></span>](service-fabric-application-upgrade-tutorial-powershell.md)
> * [<span data-ttu-id="a89d4-105">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="a89d4-105">Visual Studio</span></span>](service-fabric-application-upgrade-tutorial.md)
> 
> 

<br/>

<span data-ttu-id="a89d4-106">Azure Service Fabric vereenvoudigt Hallo proces van updaten van cloud-toepassingen door ervoor te zorgen dat alleen gewijzigde services worden bijgewerkt en dat de status van gedurende het upgradeproces Hallo wordt bewaakt.</span><span class="sxs-lookup"><span data-stu-id="a89d4-106">Azure Service Fabric simplifies hello process of upgrading cloud applications by ensuring that only changed services are upgraded, and that application health is monitored throughout hello upgrade process.</span></span> <span data-ttu-id="a89d4-107">Deze teruggedraaid ook automatisch Hallo toepassing toohello eerdere versie wordt uitgevoerd voor problemen.</span><span class="sxs-lookup"><span data-stu-id="a89d4-107">It also automatically rolls back hello application toohello previous version upon encountering issues.</span></span> <span data-ttu-id="a89d4-108">Service Fabric-toepassingsupgrades worden *Zero Downtime*, aangezien het Hallo-toepassing kan worden bijgewerkt zonder uitvaltijd.</span><span class="sxs-lookup"><span data-stu-id="a89d4-108">Service Fabric application upgrades are *Zero Downtime*, since hello application can be upgraded with no downtime.</span></span> <span data-ttu-id="a89d4-109">Deze zelfstudie bevat informatie over hoe toocomplete een uitrollende upgrade vanuit Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a89d4-109">This tutorial covers how toocomplete a rolling upgrade from Visual Studio.</span></span>

## <a name="step-1-build-and-publish-hello-visual-objects-sample"></a><span data-ttu-id="a89d4-110">Stap 1: Bouwen en Hallo visuele objecten voorbeeld publiceren</span><span class="sxs-lookup"><span data-stu-id="a89d4-110">Step 1: Build and publish hello Visual Objects sample</span></span>
<span data-ttu-id="a89d4-111">Eerst downloaden Hallo [visuele objecten](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started/tree/classic/Actors/VisualObjects) toepassing vanuit GitHub.</span><span class="sxs-lookup"><span data-stu-id="a89d4-111">First, download hello [Visual Objects](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started/tree/classic/Actors/VisualObjects) application from GitHub.</span></span> <span data-ttu-id="a89d4-112">Vervolgens bouwen en Hallo toepassing publiceren door met de rechtermuisknop op het Hallo-toepassingsproject **VisualObjects**, en het selecteren van Hallo **publiceren** opdracht in Hallo Service Fabric-menu-item.</span><span class="sxs-lookup"><span data-stu-id="a89d4-112">Then, build and publish hello application by right-clicking on hello application project, **VisualObjects**, and selecting hello **Publish** command in hello Service Fabric menu item.</span></span>

![Contextmenu voor een Service Fabric-toepassing][image1]

<span data-ttu-id="a89d4-114">Selecteren **publiceren** opstart, wordt een pop-up en u kunt Hallo **profiel als doel** te**PublishProfiles\Local.xml**.</span><span class="sxs-lookup"><span data-stu-id="a89d4-114">Selecting **Publish** brings up a popup, and you can set hello **Target profile** too**PublishProfiles\Local.xml**.</span></span> <span data-ttu-id="a89d4-115">Hallo venster ziet er als Hallo voordat u op volgende **publiceren**.</span><span class="sxs-lookup"><span data-stu-id="a89d4-115">hello window should look like hello following before you click **Publish**.</span></span>

![Een Service Fabric-toepassing publiceren][image2]

<span data-ttu-id="a89d4-117">Nu kunt u **publiceren** in het dialoogvenster Hallo.</span><span class="sxs-lookup"><span data-stu-id="a89d4-117">Now you can click **Publish** in hello dialog box.</span></span> <span data-ttu-id="a89d4-118">U kunt [Service Fabric Explorer tooview Hallo cluster en Hallo toepassing](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="a89d4-118">You can use [Service Fabric Explorer tooview hello cluster and hello application](service-fabric-visualizing-your-cluster.md).</span></span> <span data-ttu-id="a89d4-119">Hallo visuele objecten toepassing heeft een webservice die u kunt gaan tooby typen [http://localhost:8081/visualobjects/](http://localhost:8081/visualobjects/) in de adresbalk Hallo van uw browser.</span><span class="sxs-lookup"><span data-stu-id="a89d4-119">hello Visual Objects application has a web service that you can go tooby typing [http://localhost:8081/visualobjects/](http://localhost:8081/visualobjects/) in hello address bar of your browser.</span></span>  <span data-ttu-id="a89d4-120">Hier ziet u 10 zwevende visual objecten verplaatsen in het welkomstscherm.</span><span class="sxs-lookup"><span data-stu-id="a89d4-120">You should see 10 floating visual objects moving around on hello screen.</span></span>

<span data-ttu-id="a89d4-121">**Opmerking:** als implementeert te`Cloud.xml` profiel (Azure Service Fabric) moet beschikbaar zijn op de toepassing hello vervolgens **http://{ServiceFabricName}. { Region}.cloudapp.Azure.com:8081/visualobjects/**.</span><span class="sxs-lookup"><span data-stu-id="a89d4-121">**NOTE:** If deploying too`Cloud.xml` profile (Azure Service Fabric), hello application should then be available at **http://{ServiceFabricName}.{Region}.cloudapp.azure.com:8081/visualobjects/**.</span></span> <span data-ttu-id="a89d4-122">Zorg ervoor dat u hebt `8081/TCP` geconfigureerd in Hallo Load Balancer (Hallo Load Balancer niet vinden in Hallo dezelfde resourcegroep als Hallo Service Fabric-instantie).</span><span class="sxs-lookup"><span data-stu-id="a89d4-122">Make sure you do have `8081/TCP` configured in hello Load Balancer (find hello Load Balancer in hello same resource group as hello Service Fabric instance).</span></span>

## <a name="step-2-update-hello-visual-objects-sample"></a><span data-ttu-id="a89d4-123">Stap 2: Hallo visuele objecten voorbeeld bijwerken</span><span class="sxs-lookup"><span data-stu-id="a89d4-123">Step 2: Update hello Visual Objects sample</span></span>
<span data-ttu-id="a89d4-124">U wellicht opgevallen dat met Hallo-versie die is geïmplementeerd in stap 1, Hallo visuele objecten niet draaien.</span><span class="sxs-lookup"><span data-stu-id="a89d4-124">You might notice that with hello version that was deployed in step 1, hello visual objects do not rotate.</span></span> <span data-ttu-id="a89d4-125">Deze toepassing tooone waar Hallo visuele objecten ook draaien gaat upgraden.</span><span class="sxs-lookup"><span data-stu-id="a89d4-125">Let's upgrade this application tooone where hello visual objects also rotate.</span></span>

<span data-ttu-id="a89d4-126">Selecteer Hallo VisualObjects.ActorService-project binnen Hallo VisualObjects oplossing en open het Hallo **VisualObjectActor.cs** bestand.</span><span class="sxs-lookup"><span data-stu-id="a89d4-126">Select hello VisualObjects.ActorService project within hello VisualObjects solution, and open hello **VisualObjectActor.cs** file.</span></span> <span data-ttu-id="a89d4-127">Ga in dat bestand toohello methode `MoveObject`, uitcommentariëren `visualObject.Move(false)`, en verwijder het commentaarteken `visualObject.Move(true)`.</span><span class="sxs-lookup"><span data-stu-id="a89d4-127">Within that file, go toohello method `MoveObject`, comment out `visualObject.Move(false)`, and uncomment `visualObject.Move(true)`.</span></span> <span data-ttu-id="a89d4-128">Deze codewijziging draait Hallo objecten na de upgrade van Hallo-service.</span><span class="sxs-lookup"><span data-stu-id="a89d4-128">This code change rotates hello objects after hello service is upgraded.</span></span>  <span data-ttu-id="a89d4-129">**Nu kunt u (niet opnieuw opbouwen) oplossing Hallo**, projecten die Hallo builds worden gewijzigd.</span><span class="sxs-lookup"><span data-stu-id="a89d4-129">**Now you can build (not rebuild) hello solution**, which builds hello modified projects.</span></span> <span data-ttu-id="a89d4-130">Als u selecteert *alles opnieuw opbouwen*, er tooupdate Hallo versies voor alle projecten Hallo.</span><span class="sxs-lookup"><span data-stu-id="a89d4-130">If you select *Rebuild all*, you have tooupdate hello versions for all hello projects.</span></span>

<span data-ttu-id="a89d4-131">Er moet ook tooversion onze toepassing.</span><span class="sxs-lookup"><span data-stu-id="a89d4-131">We also need tooversion our application.</span></span> <span data-ttu-id="a89d4-132">toomake hello versie wordt gewijzigd nadat u met de rechtermuisknop op Hallo **VisualObjects** project, kunt u Visual Studio Hallo **Manifest versies bewerken** optie.</span><span class="sxs-lookup"><span data-stu-id="a89d4-132">toomake hello version changes after you right-click on hello **VisualObjects** project, you can use hello Visual Studio **Edit Manifest Versions** option.</span></span> <span data-ttu-id="a89d4-133">Deze optie wordt in het dialoogvenster voor editie-versies Hallo als volgt:</span><span class="sxs-lookup"><span data-stu-id="a89d4-133">Selecting this option brings up hello dialog box for edition versions as follows:</span></span>

![Dialoogvenster versiebeheer][image3]

<span data-ttu-id="a89d4-135">Hallo Updateversies voor Hallo gewijzigd projecten en hun code pakketten, samen met de Hallo toepassing tooversion 2.0.0.</span><span class="sxs-lookup"><span data-stu-id="a89d4-135">Update hello versions for hello modified projects and their code packages, along with hello application tooversion 2.0.0.</span></span> <span data-ttu-id="a89d4-136">Nadat Hallo wijzigingen zijn aangebracht, Hallo manifest moet eruitzien als in de volgende Hallo (vet gedeelten weergeven Hallo wijzigingen):</span><span class="sxs-lookup"><span data-stu-id="a89d4-136">After hello changes are made, hello manifest should look like hello following (bold portions show hello changes):</span></span>

![Versies bijwerken][image4]

<span data-ttu-id="a89d4-138">Hallo Visual Studio-hulpprogramma's kunnen doen automatische samentellingen van versies bij het selecteren van **automatisch bijwerken van toepassing en Serviceversies**.</span><span class="sxs-lookup"><span data-stu-id="a89d4-138">hello Visual Studio tools can do automatic rollups of versions upon selecting **Automatically update application and service versions**.</span></span> <span data-ttu-id="a89d4-139">Als u [SemVer](http://www.semver.org), moet u tooupdate Hallo code en/of configuratie pakket versie alleen als deze optie is geselecteerd.</span><span class="sxs-lookup"><span data-stu-id="a89d4-139">If you use [SemVer](http://www.semver.org), you need tooupdate hello code and/or configuration package version alone if that option is selected.</span></span>

<span data-ttu-id="a89d4-140">Hallo wijzigingen opslaan en nu controleren Hallo **Upgrade Hallo toepassing** vak.</span><span class="sxs-lookup"><span data-stu-id="a89d4-140">Save hello changes, and now check hello **Upgrade hello Application** box.</span></span>

## <a name="step-3--upgrade-your-application"></a><span data-ttu-id="a89d4-141">Stap 3: Uw toepassing bijwerken</span><span class="sxs-lookup"><span data-stu-id="a89d4-141">Step 3:  Upgrade your application</span></span>
<span data-ttu-id="a89d4-142">Maak uzelf bekend met Hallo [parameters voor het bijwerken van toepassing](service-fabric-application-upgrade-parameters.md) en Hallo [upgradeproces](service-fabric-application-upgrade.md) tooget een goed begrip van Hallo verschillende parameters, time-outs en health criterium kunt upgraden worden toegepast.</span><span class="sxs-lookup"><span data-stu-id="a89d4-142">Familiarize yourself with hello [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and hello [upgrade process](service-fabric-application-upgrade.md) tooget a good understanding of hello various upgrade parameters, time-outs, and health criterion that can be applied.</span></span> <span data-ttu-id="a89d4-143">Voor dit scenario is Hallo service health evaluatiecriterium toohello standaard (niet-bewaakte modus) ingesteld.</span><span class="sxs-lookup"><span data-stu-id="a89d4-143">For this walkthrough, hello service health evaluation criterion is set toohello default (unmonitored mode).</span></span> <span data-ttu-id="a89d4-144">U kunt deze instellingen configureren door te selecteren **instellingen configureren voor Upgrade** en vervolgens Hallo parameters naar wens te bewerken.</span><span class="sxs-lookup"><span data-stu-id="a89d4-144">You can configure these settings by selecting **Configure Upgrade Settings** and then modifying hello parameters as desired.</span></span>

<span data-ttu-id="a89d4-145">Nu we alle set toostart Hallo toepassing zijn door het selecteren van de upgrade **publiceren**.</span><span class="sxs-lookup"><span data-stu-id="a89d4-145">Now we are all set toostart hello application upgrade by selecting **Publish**.</span></span> <span data-ttu-id="a89d4-146">Deze optie voert een upgrade van uw toepassing tooversion 2.0.0, waarin Hallo objecten draaien.</span><span class="sxs-lookup"><span data-stu-id="a89d4-146">This option upgrades your application tooversion 2.0.0, in which hello objects rotate.</span></span> <span data-ttu-id="a89d4-147">Service Fabric upgrades één updatedomein tegelijk (sommige objecten zijn bijgewerkt eerst, gevolgd door anderen) en Hallo-service tijdens de upgrade Hallo toegankelijk blijft.</span><span class="sxs-lookup"><span data-stu-id="a89d4-147">Service Fabric upgrades one update domain at a time (some objects are updated first, followed by others), and hello service remains accessible during hello upgrade.</span></span> <span data-ttu-id="a89d4-148">Toohello-Access-service kan worden gecontroleerd via de client (browser).</span><span class="sxs-lookup"><span data-stu-id="a89d4-148">Access toohello service can be checked through your client (browser).</span></span>  

<span data-ttu-id="a89d4-149">Nu, zoals upgrade opbrengst toepassing hello, u kunt deze bewaken met Service Fabric Explorer met Hallo **Upgrades uitgevoerd** tabblad onder Hallo-toepassingen.</span><span class="sxs-lookup"><span data-stu-id="a89d4-149">Now, as hello application upgrade proceeds, you can monitor it with Service Fabric Explorer, by using hello **Upgrades in Progress** tab under hello applications.</span></span>

<span data-ttu-id="a89d4-150">Alle domeinen van de update moeten worden bijgewerkt (voltooid) over een paar minuten en Visual Studio-uitvoervenster Hallo moet ook-status dat die Hallo-upgrade is voltooid.</span><span class="sxs-lookup"><span data-stu-id="a89d4-150">In a few minutes, all update domains should be upgraded (completed), and hello Visual Studio output window should also state that hello upgrade is completed.</span></span> <span data-ttu-id="a89d4-151">En u ziet dat *alle* Hallo visuele objecten in uw browservenster zijn nu draaien!</span><span class="sxs-lookup"><span data-stu-id="a89d4-151">And you should find that *all* hello visual objects in your browser window are now rotating!</span></span>

<span data-ttu-id="a89d4-152">U kunt wilt tootry Hallo versies wijzigen en het verplaatsen van versie 2.0.0 tooversion 3.0.0 wijze van oefening maakt, of zelfs van versie 2.0.0 back-tooversion 1.0.0.</span><span class="sxs-lookup"><span data-stu-id="a89d4-152">You may want tootry changing hello versions, and moving from version 2.0.0 tooversion 3.0.0 as an exercise, or even from version 2.0.0 back tooversion 1.0.0.</span></span> <span data-ttu-id="a89d4-153">Spelen met time-outs en health beleid toomake uzelf bekend mee.</span><span class="sxs-lookup"><span data-stu-id="a89d4-153">Play with time-outs and health policies toomake yourself familiar with them.</span></span> <span data-ttu-id="a89d4-154">Wanneer het lokale cluster tooa implementeren tooan Azure als het cluster worden geboden, misschien Hallo parameters gebruikt toodiffer.</span><span class="sxs-lookup"><span data-stu-id="a89d4-154">When deploying tooan Azure cluster as opposed tooa local cluster, hello parameters used may have toodiffer.</span></span> <span data-ttu-id="a89d4-155">U wordt aangeraden dat u de Hallo time-outs conservatieve ingesteld.</span><span class="sxs-lookup"><span data-stu-id="a89d4-155">We recommend that you set hello time-outs conservatively.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a89d4-156">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="a89d4-156">Next steps</span></span>
<span data-ttu-id="a89d4-157">[Bijwerken van uw toepassing met behulp van PowerShell](service-fabric-application-upgrade-tutorial-powershell.md) begeleidt u bij een upgrade van de toepassing met behulp van PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a89d4-157">[Upgrading your application using PowerShell](service-fabric-application-upgrade-tutorial-powershell.md) walks you through an application upgrade using PowerShell.</span></span>

<span data-ttu-id="a89d4-158">Bepalen hoe uw toepassing wordt bijgewerkt met behulp van [parameters upgrade](service-fabric-application-upgrade-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="a89d4-158">Control how your application is upgraded by using [upgrade parameters](service-fabric-application-upgrade-parameters.md).</span></span>

<span data-ttu-id="a89d4-159">Uw toepassingsupgrades compatibel maken door leren hoe toouse [serialisatie van gegevens](service-fabric-application-upgrade-data-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="a89d4-159">Make your application upgrades compatible by learning how toouse [data serialization](service-fabric-application-upgrade-data-serialization.md).</span></span>

<span data-ttu-id="a89d4-160">Meer informatie over hoe toouse geavanceerde functies tijdens het bijwerken van uw toepassing door ernaar te verwijzen[geavanceerde onderwerpen](service-fabric-application-upgrade-advanced.md).</span><span class="sxs-lookup"><span data-stu-id="a89d4-160">Learn how toouse advanced functionality while upgrading your application by referring too[Advanced topics](service-fabric-application-upgrade-advanced.md).</span></span>

<span data-ttu-id="a89d4-161">Veelvoorkomende problemen oplossen in toepassingsupgrades door te verwijzen toohello stappen in [probleemoplossing toepassingsupgrades](service-fabric-application-upgrade-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="a89d4-161">Fix common problems in application upgrades by referring toohello steps in [Troubleshooting application upgrades](service-fabric-application-upgrade-troubleshooting.md).</span></span>

[image1]: media/service-fabric-application-upgrade-tutorial/upgrade7.png
[image2]: media/service-fabric-application-upgrade-tutorial/upgrade1.png
[image3]: media/service-fabric-application-upgrade-tutorial/upgrade5.png
[image4]: media/service-fabric-application-upgrade-tutorial/upgrade6.png
