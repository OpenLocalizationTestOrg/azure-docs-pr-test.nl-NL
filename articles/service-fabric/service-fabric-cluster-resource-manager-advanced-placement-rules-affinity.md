---
title: aaaService Fabric Cluster Resource Manager - affiniteit | Microsoft Docs
description: Overzicht van de affiniteit voor Service Fabric-Services configureren
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 678073e1-d08d-46c4-a811-826e70aba6c4
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 7dc9b6d9c18d9d615d39cff7de9d7cba1c040474
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-and-using-service-affinity-in-service-fabric"></a><span data-ttu-id="88fd0-103">Configureren en gebruiken van serviceaffiniteit in Service Fabric</span><span class="sxs-lookup"><span data-stu-id="88fd0-103">Configuring and using service affinity in Service Fabric</span></span>
<span data-ttu-id="88fd0-104">Affiniteit is een besturingselement die hoofdzakelijk toohelp eenvoudig hello overgang van grotere monolithische toepassingen in de cloud en microservices wereld Hallo is opgegeven.</span><span class="sxs-lookup"><span data-stu-id="88fd0-104">Affinity is a control that is provided mainly toohelp ease hello transition of larger monolithic applications into hello cloud and microservices world.</span></span> <span data-ttu-id="88fd0-105">Dit wordt ook gebruikt als optimalisatie voor verbeterde prestaties Hallo van services, hoewel dit bijwerkingen kan hebben.</span><span class="sxs-lookup"><span data-stu-id="88fd0-105">It is also used as an optimization for improving hello performance of services, although doing so can have side effects.</span></span>

<span data-ttu-id="88fd0-106">Stel dat u u brengt een grotere app of een die zojuist is niet ontworpen met microservices in gedachten, tooService Fabric (of een gedistribueerde omgeving).</span><span class="sxs-lookup"><span data-stu-id="88fd0-106">Let’s say you’re bringing a larger app, or one that just wasn’t designed with microservices in mind, tooService Fabric (or any distributed environment).</span></span> <span data-ttu-id="88fd0-107">Dit type overgang is gebruikelijk.</span><span class="sxs-lookup"><span data-stu-id="88fd0-107">This type of transition is common.</span></span> <span data-ttu-id="88fd0-108">Begint u met de Hallo hele app naar Hallo-omgeving op te heffen, het verpakken en ervoor te zorgen dat deze goed blijft werken wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="88fd0-108">You start by lifting hello entire app into hello environment, packaging it, and making sure it is running smoothly.</span></span> <span data-ttu-id="88fd0-109">U start splitsen in verschillende kleinere services dat alle tooeach andere praten.</span><span class="sxs-lookup"><span data-stu-id="88fd0-109">Then you start breaking it down into different smaller services that all talk tooeach other.</span></span>

<span data-ttu-id="88fd0-110">Uiteindelijk merkt u dat de toepassing hello enkele problemen ondervindt.</span><span class="sxs-lookup"><span data-stu-id="88fd0-110">Eventually you may find that hello application is experiencing some issues.</span></span> <span data-ttu-id="88fd0-111">Hallo problemen vallen gewoonlijk in een van deze categorieën:</span><span class="sxs-lookup"><span data-stu-id="88fd0-111">hello issues usually fall into one of these categories:</span></span>

1. <span data-ttu-id="88fd0-112">Sommige onderdeel X in Hallo monolithische app had een niet-gedocumenteerde afhankelijkheid voor Y-onderdeel en u deze onderdelen alleen omgezet in afzonderlijke services.</span><span class="sxs-lookup"><span data-stu-id="88fd0-112">Some component X in hello monolithic app had an undocumented dependency on component Y, and you just turned those components into separate services.</span></span> <span data-ttu-id="88fd0-113">Aangezien deze services zijn nu wordt uitgevoerd op andere knooppunten in cluster hello, zijn ze verbroken.</span><span class="sxs-lookup"><span data-stu-id="88fd0-113">Since these services are now running on different nodes in hello cluster, they're broken.</span></span>
2. <span data-ttu-id="88fd0-114">Deze onderdelen communiceren (lokale named-pipes | gedeeld geheugen | bestanden op schijf) en ze hoeven toobe kunnen toowrite tooa gedeeld lokale resource Prestatieoverwegingen nu.</span><span class="sxs-lookup"><span data-stu-id="88fd0-114">These components communicate via (local named pipes | shared memory | files on disk) and they really need toobe able toowrite tooa shared local resource for performance reasons right now.</span></span> <span data-ttu-id="88fd0-115">Deze harde afhankelijkheid opgehaald later verwijderd, mogelijk.</span><span class="sxs-lookup"><span data-stu-id="88fd0-115">That hard dependency gets removed later, maybe.</span></span>
3. <span data-ttu-id="88fd0-116">Alles werkt prima, maar het blijkt dat deze twee componenten daadwerkelijk chatty/prestatiegebeurtenissen gevoelige zijn.</span><span class="sxs-lookup"><span data-stu-id="88fd0-116">Everything is fine, but it turns out that these two components are actually chatty/performance sensitive.</span></span> <span data-ttu-id="88fd0-117">Wanneer ze deze naar de afzonderlijke services verplaatst algemene toepassingsprestaties tanked of latentie verhoogd.</span><span class="sxs-lookup"><span data-stu-id="88fd0-117">When they moved them into separate services overall application performance tanked or latency increased.</span></span> <span data-ttu-id="88fd0-118">Als gevolg hiervan voldoet hello algemene toepassing niet aan de verwachtingen.</span><span class="sxs-lookup"><span data-stu-id="88fd0-118">As a result, hello overall application is not meeting expectations.</span></span>

<span data-ttu-id="88fd0-119">In dergelijke gevallen we toolose onze refactoring work niet wilt en niet wilt dat toogo back toohello monoliet.</span><span class="sxs-lookup"><span data-stu-id="88fd0-119">In these cases, we don’t want toolose our refactoring work, and don’t want toogo back toohello monolith.</span></span> <span data-ttu-id="88fd0-120">de laatste voorwaarde Hallo wenselijk zelfs als een gewone optimalisatie.</span><span class="sxs-lookup"><span data-stu-id="88fd0-120">hello last condition may even be desirable as a plain optimization.</span></span> <span data-ttu-id="88fd0-121">Echter, totdat we Hallo onderdelen toowork natuurlijk als services ontwerpen kunt (of Hallo prestatieverwachtingen een andere manier kunnen worden opgelost) gaan we tooneed sommige beeld krijgt van plaats.</span><span class="sxs-lookup"><span data-stu-id="88fd0-121">However, until we can redesign hello components toowork naturally as services (or until we can solve hello performance expectations some other way) we're going tooneed some sense of locality.</span></span>

<span data-ttu-id="88fd0-122">Welke toodo?</span><span class="sxs-lookup"><span data-stu-id="88fd0-122">What toodo?</span></span> <span data-ttu-id="88fd0-123">U kan ook proberen affiniteit inschakelen.</span><span class="sxs-lookup"><span data-stu-id="88fd0-123">Well, you could try turning on affinity.</span></span>

## <a name="how-tooconfigure-affinity"></a><span data-ttu-id="88fd0-124">Hoe tooconfigure affiniteit</span><span class="sxs-lookup"><span data-stu-id="88fd0-124">How tooconfigure affinity</span></span>
<span data-ttu-id="88fd0-125">tooset up affiniteit u een affiniteitsrelatie tussen twee verschillende services definiëren.</span><span class="sxs-lookup"><span data-stu-id="88fd0-125">tooset up affinity, you define an affinity relationship between two different services.</span></span> <span data-ttu-id="88fd0-126">U kunt zien affiniteit als 'wijst' een service op een andere en spreken "deze service kan alleen uitgevoerd wanneer dat service wordt uitgevoerd."</span><span class="sxs-lookup"><span data-stu-id="88fd0-126">You can think of affinity as “pointing” one service at another and saying “This service can only run where that service is running.”</span></span> <span data-ttu-id="88fd0-127">Soms verwezen tooaffinity als een bovenliggende/onderliggende relatie (waar u aanwijst Hallo onderliggende hello bovenliggende).</span><span class="sxs-lookup"><span data-stu-id="88fd0-127">Sometimes we refer tooaffinity as a parent/child relationship (where you point hello child at hello parent).</span></span> <span data-ttu-id="88fd0-128">Affiniteit zorgt ervoor dat Hallo replica's of exemplaren van een service zijn geplaatst op Hallo dezelfde knooppunten als die van een andere service.</span><span class="sxs-lookup"><span data-stu-id="88fd0-128">Affinity ensures that hello replicas or instances of one service are placed on hello same nodes as those of another service.</span></span>

```csharp
ServiceCorrelationDescription affinityDescription = new ServiceCorrelationDescription();
affinityDescription.Scheme = ServiceCorrelationScheme.Affinity;
affinityDescription.ServiceName = new Uri("fabric:/otherApplication/parentService");
serviceDescription.Correlations.Add(affinityDescription);
await fabricClient.ServiceManager.CreateServiceAsync(serviceDescription);
```

> [!NOTE]
> <span data-ttu-id="88fd0-129">Een onderliggende service alleen deel uitmaken van een relatie met één-relatie.</span><span class="sxs-lookup"><span data-stu-id="88fd0-129">A child service can only participate in a single affinity relationship.</span></span> <span data-ttu-id="88fd0-130">Indien u wenste de Hallo onderliggende toobe wachtrijen tootwo bovenliggende services in één keer hebt u een aantal opties:</span><span class="sxs-lookup"><span data-stu-id="88fd0-130">If you wanted hello child toobe affinitized tootwo parent services at once you have a couple options:</span></span>
> - <span data-ttu-id="88fd0-131">Hallo relaties reverse (hebben parentService1 en parentService2 wijst op Hallo huidige onderliggende service), of</span><span class="sxs-lookup"><span data-stu-id="88fd0-131">Reverse hello relationships (have parentService1 and parentService2 point at hello current child service), or</span></span>
> - <span data-ttu-id="88fd0-132">Wijs een Hallo bovenliggende als een hub met conventie en alle services, wijst u op of de service hebben.</span><span class="sxs-lookup"><span data-stu-id="88fd0-132">Designate one of hello parents as a hub by convention and have all services point at that service.</span></span> 
>
> <span data-ttu-id="88fd0-133">Hallo resulterende plaatsingsgedrag in Hallo cluster moet dezelfde Hallo.</span><span class="sxs-lookup"><span data-stu-id="88fd0-133">hello resulting placement behavior in hello cluster should be hello same.</span></span>
>

## <a name="different-affinity-options"></a><span data-ttu-id="88fd0-134">Affiniteit van verschillende opties</span><span class="sxs-lookup"><span data-stu-id="88fd0-134">Different affinity options</span></span>
<span data-ttu-id="88fd0-135">Affiniteit wordt voorgesteld via een van de verschillende schema's voor correlatie en heeft twee verschillende modi.</span><span class="sxs-lookup"><span data-stu-id="88fd0-135">Affinity is represented via one of several correlation schemes, and has two different modes.</span></span> <span data-ttu-id="88fd0-136">de meest voorkomende modus Hallo van affiniteit is zogeheten nonalignedaffinity zijn.</span><span class="sxs-lookup"><span data-stu-id="88fd0-136">hello most common mode of affinity is what we call NonAlignedAffinity.</span></span> <span data-ttu-id="88fd0-137">Hallo in nonalignedaffinity zijn, replica's of exemplaren van andere services Hallo worden geplaatst op Hallo dezelfde knooppunten.</span><span class="sxs-lookup"><span data-stu-id="88fd0-137">In NonAlignedAffinity, hello replicas or instances of hello different services are placed on hello same nodes.</span></span> <span data-ttu-id="88fd0-138">Hallo is andere modus AlignedAffinity.</span><span class="sxs-lookup"><span data-stu-id="88fd0-138">hello other mode is AlignedAffinity.</span></span> <span data-ttu-id="88fd0-139">Uitgelijnde affiniteit is nuttig alleen met stateful services.</span><span class="sxs-lookup"><span data-stu-id="88fd0-139">Aligned Affinity is useful only with stateful services.</span></span> <span data-ttu-id="88fd0-140">Configureren van twee stateful services toohave uitgelijnd affiniteit zorgt ervoor dat de primaire Hallo van deze services zijn geplaatst op Hallo dezelfde knooppunten als elke andere.</span><span class="sxs-lookup"><span data-stu-id="88fd0-140">Configuring two stateful services toohave aligned affinity ensures that hello primaries of those services are placed on hello same nodes as each other.</span></span> <span data-ttu-id="88fd0-141">Het ook ervoor zorgt dat elk paar secundaire replica's voor deze services toobe op Hallo dezelfde geplaatst knooppunten.</span><span class="sxs-lookup"><span data-stu-id="88fd0-141">It also causes each pair of secondaries for those services toobe placed on hello same nodes.</span></span> <span data-ttu-id="88fd0-142">Het is ook mogelijk (Hoewel in minder frequente) tooconfigure nonalignedaffinity zijn voor stateful services.</span><span class="sxs-lookup"><span data-stu-id="88fd0-142">It is also possible (though less common) tooconfigure NonAlignedAffinity for stateful services.</span></span> <span data-ttu-id="88fd0-143">Hallo verschillende replica's van twee stateful services zou worden uitgevoerd op Hallo Hallo dezelfde knooppunten voor nonalignedaffinity zijn, maar hun primaire kunnen terechtkomen op verschillende knooppunten.</span><span class="sxs-lookup"><span data-stu-id="88fd0-143">For NonAlignedAffinity, hello different replicas of hello two stateful services would run on hello same nodes, but their primaries could end up on different nodes.</span></span>

<span data-ttu-id="88fd0-144"><center>
![Affiniteit tussen modi en de gevolgen ervan][Image1]
</center></span><span class="sxs-lookup"><span data-stu-id="88fd0-144"><center>
![Affinity Modes and Their Effects][Image1]
</center></span></span>

### <a name="best-effort-desired-state"></a><span data-ttu-id="88fd0-145">Beste toestand van de moeite gewenst</span><span class="sxs-lookup"><span data-stu-id="88fd0-145">Best effort desired state</span></span>
<span data-ttu-id="88fd0-146">Een affiniteitsrelatie is zo goed mogelijke poging.</span><span class="sxs-lookup"><span data-stu-id="88fd0-146">An affinity relationship is best effort.</span></span> <span data-ttu-id="88fd0-147">Biedt geen Hallo dezelfde garanties van onderbrengen of betrouwbaarheid waarop in Hallo dezelfde uitvoerbaar proces komt.</span><span class="sxs-lookup"><span data-stu-id="88fd0-147">It does not provide hello same guarantees of collocation or reliability that running in hello same executable process does.</span></span> <span data-ttu-id="88fd0-148">Hallo-services in een affiniteitsrelatie zijn fundamenteel verschillende entiteiten die mislukken en onafhankelijk van elkaar worden verplaatst.</span><span class="sxs-lookup"><span data-stu-id="88fd0-148">hello services in an affinity relationship are fundamentally different entities that can fail and be moved independently.</span></span> <span data-ttu-id="88fd0-149">Een affiniteitsrelatie kan ook afbreken, hoewel deze einden tijdelijk zijn.</span><span class="sxs-lookup"><span data-stu-id="88fd0-149">An affinity relationship could also break, though these breaks are temporary.</span></span> <span data-ttu-id="88fd0-150">Beperkingen van de capaciteit kunnen bijvoorbeeld betekenen dat slechts een deel van het Hallo-objecten in Hallo affiniteitsrelatie op een bepaald knooppunt past.</span><span class="sxs-lookup"><span data-stu-id="88fd0-150">For example, capacity limitations may mean that only some of hello service objects in hello affinity relationship can fit on a given node.</span></span> <span data-ttu-id="88fd0-151">In dergelijke gevallen zelfs als er een affiniteitsrelatie aanwezig is, deze kan niet worden geforceerd vanwege toohello andere beperkingen.</span><span class="sxs-lookup"><span data-stu-id="88fd0-151">In these cases even though there's an affinity relationship in place, it can't be enforced due toohello other constraints.</span></span> <span data-ttu-id="88fd0-152">Als het dus mogelijk toodo, wordt later Hallo schending automatisch gecorrigeerd.</span><span class="sxs-lookup"><span data-stu-id="88fd0-152">If it is possible toodo so, hello violation is automatically corrected later.</span></span>

### <a name="chains-vs-stars"></a><span data-ttu-id="88fd0-153">Ketens versus sterren</span><span class="sxs-lookup"><span data-stu-id="88fd0-153">Chains vs. stars</span></span>
<span data-ttu-id="88fd0-154">Hallo Cluster Resource Manager is vandaag de dag niet kunnen toomodel ketens van affiniteit relaties.</span><span class="sxs-lookup"><span data-stu-id="88fd0-154">Today hello Cluster Resource Manager isn't able toomodel chains of affinity relationships.</span></span> <span data-ttu-id="88fd0-155">Dit betekent dat een service die een onderliggend element in een affiniteitsrelatie is niet een bovenliggend item in een andere affiniteitsrelatie.</span><span class="sxs-lookup"><span data-stu-id="88fd0-155">What this means is that a service that is a child in one affinity relationship can’t be a parent in another affinity relationship.</span></span> <span data-ttu-id="88fd0-156">Als u dit type relatie toomodel wilt, hebt u effectief toomodel als een ster, in plaats van een keten.</span><span class="sxs-lookup"><span data-stu-id="88fd0-156">If you want toomodel this type of relationship, you effectively have toomodel it as a star, rather than a chain.</span></span> <span data-ttu-id="88fd0-157">toomove van een keten tooa ster, Hallo onderste onderliggende zou in plaats daarvan bovenliggende items toohello eerste onderliggende bovenliggende zijn.</span><span class="sxs-lookup"><span data-stu-id="88fd0-157">toomove from a chain tooa star, hello bottommost child would be parented toohello first child’s parent instead.</span></span> <span data-ttu-id="88fd0-158">Afhankelijk van Hallo rangschikking van uw services wellicht toodo dit meermalen.</span><span class="sxs-lookup"><span data-stu-id="88fd0-158">Depending on hello arrangement of your services, you may have toodo this multiple times.</span></span> <span data-ttu-id="88fd0-159">Als er geen service natuurlijke bovenliggende, wellicht toocreate die als een tijdelijke aanduiding fungeert.</span><span class="sxs-lookup"><span data-stu-id="88fd0-159">If there's no natural parent service, you may have toocreate one that serves as a placeholder.</span></span> <span data-ttu-id="88fd0-160">Afhankelijk van uw vereisten, u kunt ook toolook in [toepassingsgroepen](service-fabric-cluster-resource-manager-application-groups.md).</span><span class="sxs-lookup"><span data-stu-id="88fd0-160">Depending on your requirements, you may also want toolook into [Application Groups](service-fabric-cluster-resource-manager-application-groups.md).</span></span>

<span data-ttu-id="88fd0-161"><center>
![Vs ketens. Sterren in de Context van affiniteit relaties Hallo][Image2]
</center></span><span class="sxs-lookup"><span data-stu-id="88fd0-161"><center>
![Chains vs. Stars in hello Context of Affinity Relationships][Image2]
</center></span></span>

<span data-ttu-id="88fd0-162">Een andere ding toonote over affiniteit relaties is vandaag de dag dat ze gericht zijn.</span><span class="sxs-lookup"><span data-stu-id="88fd0-162">Another thing toonote about affinity relationships today is that they are directional.</span></span> <span data-ttu-id="88fd0-163">Dit betekent dat die Hallo affiniteit regel alleen geplaatst met bovenliggende Hallo Hallo kind worden afgedwongen.</span><span class="sxs-lookup"><span data-stu-id="88fd0-163">This means that hello affinity rule only enforces that hello child placed with hello parent.</span></span> <span data-ttu-id="88fd0-164">Niet kan worden gegarandeerd dat bovenliggende Hallo bevindt Hallo onderliggende.</span><span class="sxs-lookup"><span data-stu-id="88fd0-164">It does not ensure that hello parent is located with hello child.</span></span> <span data-ttu-id="88fd0-165">Het is ook belangrijk toonote die Hallo affiniteitsrelatie kan niet worden perfecte of direct afgedwongen omdat verschillende services met verschillende levenscycli hebt en kunnen mislukken en afzonderlijk verplaatsen.</span><span class="sxs-lookup"><span data-stu-id="88fd0-165">It is also important toonote that hello affinity relationship can't be perfect or instantly enforced since different services have with different lifecycles and can fail and move independently.</span></span> <span data-ttu-id="88fd0-166">Stel dat plotseling over tooanother knooppunt Hallo bovenliggende mislukt omdat deze is vastgelopen.</span><span class="sxs-lookup"><span data-stu-id="88fd0-166">For example, let's say hello parent suddenly fails over tooanother node because it crashed.</span></span> <span data-ttu-id="88fd0-167">Hallo Cluster Resource Manager en Failover Manager ingang Hallo failover eerst omdat Hallo prioriteit Hallo services houden, consistente en beschikbaar is.</span><span class="sxs-lookup"><span data-stu-id="88fd0-167">hello Cluster Resource Manager and Failover Manager handle hello failover first, since keeping hello services up, consistent, and available is hello priority.</span></span> <span data-ttu-id="88fd0-168">Zodra Hallo failover is voltooid, Hallo affiniteitsrelatie is verbroken, maar Hallo Cluster Resource Manager denkt dat alles is voldoende dat totdat deze Hallo kind meldingen niet is opgeslagen met Hallo bovenliggende.</span><span class="sxs-lookup"><span data-stu-id="88fd0-168">Once hello failover completes, hello affinity relationship is broken, but hello Cluster Resource Manager thinks everything is fine until it notices that hello child is not located with hello parent.</span></span> <span data-ttu-id="88fd0-169">Dit soort controles worden regelmatig uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="88fd0-169">These sorts of checks are performed periodically.</span></span> <span data-ttu-id="88fd0-170">Meer informatie over hoe Hallo Cluster Resource Manager beperkingen evalueert is beschikbaar in [in dit artikel](service-fabric-cluster-resource-manager-management-integration.md#constraint-types), en [deze](service-fabric-cluster-resource-manager-balancing.md) wordt gesproken meer informatie over hoe tooconfigure Hallo waarop deze beperkingen zijn uitgebracht geëvalueerd.</span><span class="sxs-lookup"><span data-stu-id="88fd0-170">More information on how hello Cluster Resource Manager evaluates constraints is available in [this article](service-fabric-cluster-resource-manager-management-integration.md#constraint-types), and [this one](service-fabric-cluster-resource-manager-balancing.md) talks more about how tooconfigure hello cadence on which these constraints are evaluated.</span></span>   


### <a name="partitioning-support"></a><span data-ttu-id="88fd0-171">Ondersteuning voor partitioneren</span><span class="sxs-lookup"><span data-stu-id="88fd0-171">Partitioning support</span></span>
<span data-ttu-id="88fd0-172">Hallo laatste toonotice over de affiniteit is affiniteit relaties worden niet ondersteund wanneer Hallo bovenliggende is gepartitioneerd.</span><span class="sxs-lookup"><span data-stu-id="88fd0-172">hello final thing toonotice about affinity is that affinity relationships aren’t supported where hello parent is partitioned.</span></span> <span data-ttu-id="88fd0-173">Gepartitioneerde bovenliggende services mogelijk uiteindelijk wordt ondersteund, maar tegenwoordig het is niet toegestaan.</span><span class="sxs-lookup"><span data-stu-id="88fd0-173">Partitioned parent services may be supported eventually, but today it is not allowed.</span></span>

## <a name="next-steps"></a><span data-ttu-id="88fd0-174">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="88fd0-174">Next steps</span></span>
- <span data-ttu-id="88fd0-175">Voor meer informatie over het configureren van services, [meer informatie over het configureren van Services](service-fabric-cluster-resource-manager-configure-services.md)</span><span class="sxs-lookup"><span data-stu-id="88fd0-175">For more information on configuring services, [Learn about configuring Services](service-fabric-cluster-resource-manager-configure-services.md)</span></span>
- <span data-ttu-id="88fd0-176">toolimit services tooa klein aantal machines of verzamelen Hallo laden van services, gebruik [toepassingsgroepen](service-fabric-cluster-resource-manager-application-groups.md)</span><span class="sxs-lookup"><span data-stu-id="88fd0-176">toolimit services tooa small set of machines or aggregating hello load of services, use [Application Groups](service-fabric-cluster-resource-manager-application-groups.md)</span></span>

[Image1]:./media/service-fabric-cluster-resource-manager-advanced-placement-rules-affinity/cluster-resrouce-manager-affinity-modes.png
[Image2]:./media/service-fabric-cluster-resource-manager-advanced-placement-rules-affinity/cluster-resource-manager-chains-vs-stars.png