---
title: planning voor Service Fabric-apps aaaCapacity | Microsoft Docs
description: Hierin wordt beschreven hoe tooidentify aantal rekenknooppunten die zijn vereist voor een Service Fabric-toepassing hello
services: service-fabric
documentationcenter: .net
author: mani-ramaswamy
manager: markfuss
editor: 
ms.assetid: 9fa47be0-50a2-4a51-84a5-20992af94bea
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: subramar
ms.openlocfilehash: 44a69e9d8ec5efcc43122dc42e8f923ef37378f2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="capacity-planning-for-service-fabric-applications"></a><span data-ttu-id="8e034-103">Capaciteitsplanning voor Service Fabric-toepassingen</span><span class="sxs-lookup"><span data-stu-id="8e034-103">Capacity planning for Service Fabric applications</span></span>
<span data-ttu-id="8e034-104">Dit document leert u hoe tooestimate bedrag Hallo van resources (CPU, RAM-geheugen, schijf-opslag) moet u toorun uw Azure Service Fabric-toepassingen.</span><span class="sxs-lookup"><span data-stu-id="8e034-104">This document teaches you how tooestimate hello amount of resources (CPUs, RAM, disk storage) you need toorun your Azure Service Fabric applications.</span></span> <span data-ttu-id="8e034-105">Het is gebruikelijk voor uw resource vereisten toochange gedurende een bepaalde periode.</span><span class="sxs-lookup"><span data-stu-id="8e034-105">It is common for your resource requirements toochange over time.</span></span> <span data-ttu-id="8e034-106">U moet enkele bronnen normaal als u uw service ontwikkelen en testen en vervolgens meer resources nodig als u gaat u naar de productie en uw toepassing populariteit groeit.</span><span class="sxs-lookup"><span data-stu-id="8e034-106">You typically require few resources as you develop/test your service, and then require more resources as you go into production and your application grows in popularity.</span></span> <span data-ttu-id="8e034-107">Bij het ontwerpen van uw toepassing analyseren op lange termijn Hallo-vereisten en keuzes waarmee uw service tooscale toomeet hoge vraag maken.</span><span class="sxs-lookup"><span data-stu-id="8e034-107">When you design your application, think through hello long-term requirements and make choices that allow your service tooscale toomeet high customer demand.</span></span>

 <span data-ttu-id="8e034-108">Wanneer u een Service Fabric-cluster maakt, kunt u bepalen welke typen virtuele machines (VM's) aanbrengen Hallo-cluster.</span><span class="sxs-lookup"><span data-stu-id="8e034-108">When you create a Service Fabric cluster, you decide what kinds of virtual machines (VMs) make up hello cluster.</span></span> <span data-ttu-id="8e034-109">Elke virtuele machine wordt geleverd met een beperkte hoeveelheid resources in Hallo vorm van CPU (kernen en snelheid), netwerkbandbreedte, RAM-geheugen en schijfruimte.</span><span class="sxs-lookup"><span data-stu-id="8e034-109">Each VM comes with a limited amount of resources in hello form of CPUs (cores and speed), network bandwidth, RAM, and disk storage.</span></span> <span data-ttu-id="8e034-110">Als uw service gedurende een bepaalde periode groeit, kunt u tooVMs bieden grotere bronnen en/of Voeg meer virtuele machines tooyour cluster bijwerken.</span><span class="sxs-lookup"><span data-stu-id="8e034-110">As your service grows over time, you can upgrade tooVMs that offer greater resources and/or add more VMs tooyour cluster.</span></span> <span data-ttu-id="8e034-111">toodo Hallo laatstgenoemde, u moet bouwen uw service in eerste instantie zodat deze kan profiteren van nieuwe virtuele machines die toohello cluster dynamisch zijn toegevoegd.</span><span class="sxs-lookup"><span data-stu-id="8e034-111">toodo hello latter, you must architect your service initially so it can take advantage of new VMs that get dynamically added toohello cluster.</span></span>

<span data-ttu-id="8e034-112">Sommige services beheren weinig toono gegevens op Hallo VM's zelf.</span><span class="sxs-lookup"><span data-stu-id="8e034-112">Some services manage little toono data on hello VMs themselves.</span></span> <span data-ttu-id="8e034-113">Capaciteitsplanning voor deze services moeten zich voornamelijk op de prestaties, wat betekent dat selecteren Hallo richten passende daarom CPU (kernen en snelheid) van Hallo virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="8e034-113">Therefore, capacity planning for these services should focus primarily on performance, which means selecting hello appropriate CPUs (cores and speed) of hello VMs.</span></span> <span data-ttu-id="8e034-114">Bovendien moet u netwerkbandbreedte, met inbegrip van hoe vaak u netwerk overdrachten zijn optreedt en hoeveel gegevens worden overgebracht.</span><span class="sxs-lookup"><span data-stu-id="8e034-114">In addition, you should consider network bandwidth, including how frequently network transfers are occurring and how much data is being transferred.</span></span> <span data-ttu-id="8e034-115">Als uw service tooperform goed als de service usage toeneemt moet, kunt u meer virtuele machines toohello cluster toevoegen en laden van aanvragen verdelen over Hallo netwerk over alle Hallo VM's.</span><span class="sxs-lookup"><span data-stu-id="8e034-115">If your service needs tooperform well as service usage increases, you can add more VMs toohello cluster and load balance hello network requests across all hello VMs.</span></span>

<span data-ttu-id="8e034-116">Voor services die grote hoeveelheden gegevens op Hallo van virtuele machines beheren, plannen van capaciteit moet zich richten voornamelijk op grootte.</span><span class="sxs-lookup"><span data-stu-id="8e034-116">For services that manage large amounts of data on hello VMs, capacity planning should focus primarily on size.</span></span> <span data-ttu-id="8e034-117">U moet dus zorgvuldig rekening houden Hallo-capaciteit van het RAM-geheugen en schijfruimte opslag Hallo van de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="8e034-117">Thus, you should carefully consider hello capacity of hello VM's RAM and disk storage.</span></span> <span data-ttu-id="8e034-118">Hallo virtueel geheugenbeheersysteem in Windows maakt schijfruimte eruit RAM tooapplication code.</span><span class="sxs-lookup"><span data-stu-id="8e034-118">hello virtual memory management system in Windows makes disk space look like RAM tooapplication code.</span></span> <span data-ttu-id="8e034-119">Hallo Service Fabric-runtime biedt bovendien slim wisselgeheugengebruik behouden alleen hot gegevens in het geheugen en zwevend Hallo koude gegevens toodisk.</span><span class="sxs-lookup"><span data-stu-id="8e034-119">In addition, hello Service Fabric runtime provides smart paging keeping only hot data in memory and moving hello cold data toodisk.</span></span> <span data-ttu-id="8e034-120">Toepassingen kunnen meer geheugen hebben dan fysiek beschikbaar is op Hallo VM dus gebruiken.</span><span class="sxs-lookup"><span data-stu-id="8e034-120">Applications can thus use more memory than is physically available on hello VM.</span></span> <span data-ttu-id="8e034-121">Prestaties, met meer RAM-geheugen gewoon worden verhoogd omdat Hallo VM meer schijfopslag in RAM-geheugen houden kunt.</span><span class="sxs-lookup"><span data-stu-id="8e034-121">Having more RAM simply increases performance, since hello VM can keep more disk storage in RAM.</span></span> <span data-ttu-id="8e034-122">Hallo VM die u selecteert, moet een schijf groot genoeg toostore Hallo gegevens die u op Hallo VM wilt hebben.</span><span class="sxs-lookup"><span data-stu-id="8e034-122">hello VM you select should have a disk large enough toostore hello data that you want on hello VM.</span></span> <span data-ttu-id="8e034-123">Op deze manier hebt Hallo VM voldoende RAM-geheugen tooprovide u met de Hallo prestaties die u wenst.</span><span class="sxs-lookup"><span data-stu-id="8e034-123">Similarly, hello VM should have enough RAM tooprovide you with hello performance you desire.</span></span> <span data-ttu-id="8e034-124">Als de gegevens van uw service gedurende een bepaalde periode groeit, kunt u meer virtuele machines toohello cluster en partitie Hallo gegevens over alle Hallo VM's kunt toevoegen.</span><span class="sxs-lookup"><span data-stu-id="8e034-124">If your service's data grows over time, you can add more VMs toohello cluster and partition hello data across all hello VMs.</span></span>

## <a name="determine-how-many-nodes-you-need"></a><span data-ttu-id="8e034-125">Het aantal knooppunten, u moet bepalen</span><span class="sxs-lookup"><span data-stu-id="8e034-125">Determine how many nodes you need</span></span>
<span data-ttu-id="8e034-126">Partitioneren van uw service kunt u tooscale gegevens van uw service.</span><span class="sxs-lookup"><span data-stu-id="8e034-126">Partitioning your service allows you tooscale out your service's data.</span></span> <span data-ttu-id="8e034-127">Zie voor meer informatie over het partitioneren [partitioneren Service Fabric](service-fabric-concepts-partitioning.md).</span><span class="sxs-lookup"><span data-stu-id="8e034-127">For more information on partitioning, see [Partitioning Service Fabric](service-fabric-concepts-partitioning.md).</span></span> <span data-ttu-id="8e034-128">Elke partitie moet passen binnen één VM, maar meerdere (klein) partities kunnen worden geplaatst op een enkele virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="8e034-128">Each partition must fit within a single VM, but multiple (small) partitions can be placed on a single VM.</span></span> <span data-ttu-id="8e034-129">Dus hebt met meer kleine partities u meer flexibiliteit dan een paar grotere partities.</span><span class="sxs-lookup"><span data-stu-id="8e034-129">So, having more small partitions gives you greater flexibility than having a few larger partitions.</span></span> <span data-ttu-id="8e034-130">Hallo afweging is dat u veel partities verhoogt de overhead van de Service Fabric en u transactiebewerkingen meerdere partities niet uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="8e034-130">hello trade-off is that having lots of partitions increases Service Fabric overhead and you cannot perform transacted operations across partitions.</span></span> <span data-ttu-id="8e034-131">Er is ook meer potentiële netwerkverkeer als uw servicecode moet vaak tooaccess gegevensitems die bevinden zich in verschillende partities.</span><span class="sxs-lookup"><span data-stu-id="8e034-131">There is also more potential network traffic if your service code frequently needs tooaccess pieces of data that live in different partitions.</span></span> <span data-ttu-id="8e034-132">Bij het ontwerpen van uw service, moet u zorgvuldig overwegen deze tooarrive voor- en nadelen op een effectieve partitionering strategie.</span><span class="sxs-lookup"><span data-stu-id="8e034-132">When designing your service, you should carefully consider these pros and cons tooarrive at an effective partitioning strategy.</span></span>

<span data-ttu-id="8e034-133">Stel dat uw toepassing heeft een stateful service waarmee u verwacht dat de toogrow tooDB_Size GB in een jaar store grootte heeft.</span><span class="sxs-lookup"><span data-stu-id="8e034-133">Let's assume your application has a single stateful service that has a store size that you expect toogrow tooDB_Size GB in a year.</span></span> <span data-ttu-id="8e034-134">U bent bereid tooadd meer toepassingen (en partities) als er groei afgezien van dat jaar.</span><span class="sxs-lookup"><span data-stu-id="8e034-134">You are willing tooadd more applications (and partitions) as you experience growth beyond that year.</span></span>  <span data-ttu-id="8e034-135">Hallo replicatie factor (RF), waarmee wordt bepaald Hallo aantal replica's voor uw service-effecten Hallo totale DB_Size.</span><span class="sxs-lookup"><span data-stu-id="8e034-135">hello replication factor (RF), which determines hello number of replicas for your service impacts hello total DB_Size.</span></span> <span data-ttu-id="8e034-136">Hallo is totale DB_Size over alle replica's Hallo replicatie Factor vermenigvuldigd met DB_Size.</span><span class="sxs-lookup"><span data-stu-id="8e034-136">hello total DB_Size across all replicas is hello Replication Factor multiplied by DB_Size.</span></span>  <span data-ttu-id="8e034-137">Node_Size vertegenwoordigt Hallo schijf ruimte/RAM-geheugen per knooppunt gewenste toouse voor uw service.</span><span class="sxs-lookup"><span data-stu-id="8e034-137">Node_Size represents hello disk space/RAM per node you want toouse for your service.</span></span> <span data-ttu-id="8e034-138">Hallo DB_Size moet in het geheugen voor de beste prestaties passen tussen Hallo-cluster en een Node_Size die rond Hallo RAM Hallo die VM moet worden gekozen.</span><span class="sxs-lookup"><span data-stu-id="8e034-138">For best performance, hello DB_Size should fit into memory across hello cluster, and a Node_Size that is around hello RAM of hello VM should be chosen.</span></span> <span data-ttu-id="8e034-139">Door het toewijzen van een Node_Size die groter is dan Hallo RAM capaciteit zijn u vertrouwen op Hallo paginering geleverd door Hallo Service Fabric-runtime.</span><span class="sxs-lookup"><span data-stu-id="8e034-139">By allocating a Node_Size that is larger than hello RAM capacity, you are relying on hello paging provided by hello Service Fabric runtime.</span></span> <span data-ttu-id="8e034-140">Prestaties van uw kan dus niet worden optimaal als uw volledige gegevens wordt beschouwd als toobe hot (sinds het vervolgens Hallo gegevens is wisselbare in/out).</span><span class="sxs-lookup"><span data-stu-id="8e034-140">Thus, your performance may not be optimal if your entire data is considered toobe hot (since then hello data is paged in/out).</span></span> <span data-ttu-id="8e034-141">Voor veel services waarbij slechts een fractie van Hallo gegevens hot is, is het echter kosteneffectiever zijn.</span><span class="sxs-lookup"><span data-stu-id="8e034-141">However, for many services where only a fraction of hello data is hot, it is more cost-effective.</span></span>

<span data-ttu-id="8e034-142">het aantal knooppunten vereist voor maximale prestaties Hallo worden als volgt berekend:</span><span class="sxs-lookup"><span data-stu-id="8e034-142">hello number of nodes required for maximum performance can be computed as follows:</span></span>

```
Number of Nodes = (DB_Size * RF)/Node_Size

```


## <a name="account-for-growth"></a><span data-ttu-id="8e034-143">Account voor groei</span><span class="sxs-lookup"><span data-stu-id="8e034-143">Account for growth</span></span>
<span data-ttu-id="8e034-144">U kunt toocompute Hallo aantal knooppunten op basis van Hallo DB_Size die u van plan uw service toogrow, Daarnaast bent toohello DB_Size waarmee u bent begonnen.</span><span class="sxs-lookup"><span data-stu-id="8e034-144">You may want toocompute hello number of nodes based on hello DB_Size that you expect your service toogrow to, in addition toohello DB_Size that you began with.</span></span> <span data-ttu-id="8e034-145">Aantal knooppunten Hallo vervolgens groeien wanneer uw service groeit, zodat u het aantal knooppunten Hallo niet te veel inricht.</span><span class="sxs-lookup"><span data-stu-id="8e034-145">Then, grow hello number of nodes as your service grows so that you are not over-provisioning hello number of nodes.</span></span> <span data-ttu-id="8e034-146">Maar Hallo aantal partities moet zijn gebaseerd op Hallo aantal knooppunten die nodig zijn wanneer u uw service op maximale groei uitvoert.</span><span class="sxs-lookup"><span data-stu-id="8e034-146">But hello number of partitions should be based on hello number of nodes that are needed when you're running your service at maximum growth.</span></span>

<span data-ttu-id="8e034-147">Het is goed toohave zodat u eventuele onverwachte pieken of fout verwerken kan (bijvoorbeeld als een paar virtuele machines uitvallen) een aantal extra machines beschikbaar zijn op elk gewenst moment.</span><span class="sxs-lookup"><span data-stu-id="8e034-147">It is good toohave some extra machines available at any time so that you can handle any unexpected spikes or failure (for example, if a few VMs go down).</span></span>  <span data-ttu-id="8e034-148">Hoewel Hallo extra capaciteit moet worden bepaald met behulp van de verwachte pieken, een beginpunt tooreserve is een paar extra virtuele machines (5 tot 10 procent extra).</span><span class="sxs-lookup"><span data-stu-id="8e034-148">While hello extra capacity should be determined by using your expected spikes, a starting point is tooreserve a few extra VMs (5-10 percent extra).</span></span>

<span data-ttu-id="8e034-149">Hallo voorgaande wordt ervan uitgegaan dat een stateful service.</span><span class="sxs-lookup"><span data-stu-id="8e034-149">hello preceding assumes a single stateful service.</span></span> <span data-ttu-id="8e034-150">Als u meer dan één stateful service hebt, hebt u tooadd hello DB_Size die zijn gekoppeld aan andere services in vergelijking met Hallo Hallo.</span><span class="sxs-lookup"><span data-stu-id="8e034-150">If you have more than one stateful service, you have tooadd hello DB_Size associated with hello other services into hello equation.</span></span> <span data-ttu-id="8e034-151">U kunt ook het aantal knooppunten afzonderlijk voor elke stateful service Hallo berekenen.</span><span class="sxs-lookup"><span data-stu-id="8e034-151">Alternatively, you can compute hello number of nodes separately for each stateful service.</span></span>  <span data-ttu-id="8e034-152">Uw service heeft replica's of partities die niet zijn verdeeld.</span><span class="sxs-lookup"><span data-stu-id="8e034-152">Your service may have replicas or partitions that aren't balanced.</span></span> <span data-ttu-id="8e034-153">Houd er rekening mee dat partities ook meer gegevens dan andere hebben.</span><span class="sxs-lookup"><span data-stu-id="8e034-153">Keep in mind that partitions may also have more data than others.</span></span> <span data-ttu-id="8e034-154">Zie voor meer informatie over het partitioneren [artikel over aanbevolen procedures partitioneren](service-fabric-concepts-partitioning.md).</span><span class="sxs-lookup"><span data-stu-id="8e034-154">For more information on partitioning, see [partitioning article on best practices](service-fabric-concepts-partitioning.md).</span></span> <span data-ttu-id="8e034-155">Hallo voorgaande vergelijking is echter partitie en replica agnostisch, omdat de Service Fabric zorgt ervoor dat Hallo replica's zijn verdeeld tussen de Hallo knooppunten op een geoptimaliseerde manier.</span><span class="sxs-lookup"><span data-stu-id="8e034-155">However, hello preceding equation is partition and replica agnostic, because Service Fabric ensures that hello replicas are spread out among hello nodes in an optimized manner.</span></span>

## <a name="use-a-spreadsheet-for-cost-calculation"></a><span data-ttu-id="8e034-156">Gebruik van een werkblad voor kostenberekening</span><span class="sxs-lookup"><span data-stu-id="8e034-156">Use a spreadsheet for cost calculation</span></span>
<span data-ttu-id="8e034-157">Nu we enkele real-nummers in Hallo formule.</span><span class="sxs-lookup"><span data-stu-id="8e034-157">Now let's put some real numbers in hello formula.</span></span> <span data-ttu-id="8e034-158">Een [voorbeeld werkblad](https://servicefabricsdkstorage.blob.core.windows.net/publicrelease/SF%20VM%20Cost%20calculator-NEW.xlsx) ziet u hoe tooplan Hallo capaciteit voor een toepassing met drie typen van gegevensobjecten.</span><span class="sxs-lookup"><span data-stu-id="8e034-158">An [example spreadsheet](https://servicefabricsdkstorage.blob.core.windows.net/publicrelease/SF%20VM%20Cost%20calculator-NEW.xlsx) shows how tooplan hello capacity for an application that contains three types of data objects.</span></span> <span data-ttu-id="8e034-159">Voor elk object geschatte we de grootte en hoeveel objecten dat naar verwachting krijgt toohave.</span><span class="sxs-lookup"><span data-stu-id="8e034-159">For each object, we approximate its size and how many objects we expect toohave.</span></span> <span data-ttu-id="8e034-160">We ook selecteren het aantal replica's we van elk objecttype willen.</span><span class="sxs-lookup"><span data-stu-id="8e034-160">We also select how many replicas we want of each object type.</span></span> <span data-ttu-id="8e034-161">Hallo werkblad berekent de totale hoeveelheid geheugen toobe opgeslagen in de cluster Hallo Hallo.</span><span class="sxs-lookup"><span data-stu-id="8e034-161">hello spreadsheet calculates hello total amount of memory toobe stored in hello cluster.</span></span>

<span data-ttu-id="8e034-162">We Voer vervolgens een VM-grootte en de maandelijkse kosten.</span><span class="sxs-lookup"><span data-stu-id="8e034-162">Then we enter a VM size and monthly cost.</span></span> <span data-ttu-id="8e034-163">Op basis van VM-grootte hello, vertelt Hallo werkblad dat u Hallo minimum aantal partities die moet u uw gegevens toophysically past toosplit op Hallo knooppunten.</span><span class="sxs-lookup"><span data-stu-id="8e034-163">Based on hello VM size, hello spreadsheet tells you hello minimum number of partitions you must use toosplit your data toophysically fit on hello nodes.</span></span> <span data-ttu-id="8e034-164">U kunt een groter aantal partities tooaccommodate die specifiek berekening en netwerk-verkeer van uw toepassing moet mogelijk wenst.</span><span class="sxs-lookup"><span data-stu-id="8e034-164">You may desire a larger number of partitions tooaccommodate your application's specific computation and network traffic needs.</span></span> <span data-ttu-id="8e034-165">Hallo werkblad toont Hallo aantal partities die u Hallo profiel gebruikersobjecten beheert is toegenomen van één toosix.</span><span class="sxs-lookup"><span data-stu-id="8e034-165">hello spreadsheet shows hello number of partitions that are managing hello user profile objects has increased from one toosix.</span></span>

<span data-ttu-id="8e034-166">Op basis van deze informatie, Hallo werkblad wordt nu dat u alle Hallo-gegevens met Hallo gewenst partities en replica's op een 26-node cluster fysiek kan ophalen.</span><span class="sxs-lookup"><span data-stu-id="8e034-166">Now, based on all this information, hello spreadsheet shows that you could physically get all hello data with hello desired partitions and replicas on a 26-node cluster.</span></span> <span data-ttu-id="8e034-167">Echter, dit cluster zou worden veel verpakt, zodat u een aantal extra knooppunten tooaccommodate knooppuntfouten en upgrades kunt.</span><span class="sxs-lookup"><span data-stu-id="8e034-167">However, this cluster would be densely packed, so you may want some additional nodes tooaccommodate node failures and upgrades.</span></span> <span data-ttu-id="8e034-168">Hallo werkblad wordt ook weergegeven dat meer dan 57 knooppunten te hoeven geen extra waarde biedt omdat u leeg knooppunten zou hebben.</span><span class="sxs-lookup"><span data-stu-id="8e034-168">hello spreadsheet also shows that having more than 57 nodes provides no additional value because you would have empty nodes.</span></span> <span data-ttu-id="8e034-169">Nogmaals, kunt u toogo hierboven 57 knooppunten toch tooaccommodate knooppuntfouten en upgrades.</span><span class="sxs-lookup"><span data-stu-id="8e034-169">Again, you may want toogo above 57 nodes anyway tooaccommodate node failures and upgrades.</span></span> <span data-ttu-id="8e034-170">U kunt Hallo werkblad toomatch specifieke behoeften van uw toepassing aanpassen.</span><span class="sxs-lookup"><span data-stu-id="8e034-170">You can tweak hello spreadsheet toomatch your application's specific needs.</span></span>   

![Werkblad voor kostenberekening][Image1]

## <a name="next-steps"></a><span data-ttu-id="8e034-172">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="8e034-172">Next steps</span></span>
<span data-ttu-id="8e034-173">Bekijk [partitioneren Service Fabric-services] [ 10] toolearn meer over het partitioneren van uw service.</span><span class="sxs-lookup"><span data-stu-id="8e034-173">Check out [Partitioning Service Fabric services][10] toolearn more about partitioning your service.</span></span>

<!--Image references-->
[Image1]: ./media/SF-Cost.png

<!--Link references--In actual articles, you only need a single period before hello slash-->
[10]: service-fabric-concepts-partitioning.md
