---
title: Planning van de capaciteit van de Service Fabric-cluster | Microsoft Docs
description: Service Fabric-cluster overwegingen bij capaciteitsplanning. Nodetypes, duurzaamheid en betrouwbaarheid lagen
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: 4c584f4a-cb1f-400c-b61f-1f797f11c982
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/24/2017
ms.author: chackdan
ms.openlocfilehash: 36b96360fabdcc64ffd2356540c580594637d48e
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/29/2017
---
# <a name="service-fabric-cluster-capacity-planning-considerations"></a><span data-ttu-id="3962a-104">Service Fabric-cluster overwegingen bij capaciteitsplanning</span><span class="sxs-lookup"><span data-stu-id="3962a-104">Service Fabric cluster capacity planning considerations</span></span>
<span data-ttu-id="3962a-105">Voor productie-implementatie is capaciteitsplanning een belangrijke stap.</span><span class="sxs-lookup"><span data-stu-id="3962a-105">For any production deployment, capacity planning is an important step.</span></span> <span data-ttu-id="3962a-106">Hier zijn enkele van de artikelen waarmee u rekening moet houden als onderdeel van dit proces.</span><span class="sxs-lookup"><span data-stu-id="3962a-106">Here are some of the items that you have to consider as a part of that process.</span></span>

* <span data-ttu-id="3962a-107">Het nummer van uw cluster beginnen moet met knooppunttypen</span><span class="sxs-lookup"><span data-stu-id="3962a-107">The number of node types your cluster needs to start out with</span></span>
* <span data-ttu-id="3962a-108">De eigenschappen van elk knooppunttype (grootte, primair, internetgericht, aantal virtuele machines, enz.)</span><span class="sxs-lookup"><span data-stu-id="3962a-108">The properties of each of node type (size, primary, internet facing, number of VMs, etc.)</span></span>
* <span data-ttu-id="3962a-109">De betrouwbaarheid en duurzaamheid kenmerken van het cluster</span><span class="sxs-lookup"><span data-stu-id="3962a-109">The reliability and durability characteristics of the cluster</span></span>

<span data-ttu-id="3962a-110">Laat het ons kort Bekijk elk van deze items.</span><span class="sxs-lookup"><span data-stu-id="3962a-110">Let us briefly review each of these items.</span></span>

## <a name="the-number-of-node-types-your-cluster-needs-to-start-out-with"></a><span data-ttu-id="3962a-111">Het nummer van uw cluster beginnen moet met knooppunttypen</span><span class="sxs-lookup"><span data-stu-id="3962a-111">The number of node types your cluster needs to start out with</span></span>
<span data-ttu-id="3962a-112">Eerst moet u achterhalen wat het cluster dat u maakt moet worden gebruikt voor gaat en welke soorten toepassingen u van plan bent om te implementeren in dit cluster.</span><span class="sxs-lookup"><span data-stu-id="3962a-112">First, you need to figure out what the cluster you are creating is going to be used for and what kinds of applications you are planning to deploy into this cluster.</span></span> <span data-ttu-id="3962a-113">Als u niet wissen op het doel van het cluster, u waarschijnlijk nog niet klaar om in te voeren van het proces voor de capaciteitsplanning.</span><span class="sxs-lookup"><span data-stu-id="3962a-113">If you are not clear on the purpose of the cluster, you are most likely not yet ready to enter the capacity planning process.</span></span>

<span data-ttu-id="3962a-114">Het nummer van uw cluster beginnen moet met knooppunttypen vast.</span><span class="sxs-lookup"><span data-stu-id="3962a-114">Establish the number of node types your cluster needs to start out with.</span></span>  <span data-ttu-id="3962a-115">Elk knooppunttype is toegewezen aan een virtuele-Machineschaalset.</span><span class="sxs-lookup"><span data-stu-id="3962a-115">Each node type is mapped to a Virtual Machine Scale Set.</span></span> <span data-ttu-id="3962a-116">Elk knooppunttype kan vervolgens worden uitgebreid of omlaag onafhankelijk, hebben verschillende sets van poorten openen en andere capaciteitsmetrieken kan hebben.</span><span class="sxs-lookup"><span data-stu-id="3962a-116">Each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="3962a-117">Dus het besluit van het aantal knooppunttypen in feite geleverd omlaag met de volgende aspecten:</span><span class="sxs-lookup"><span data-stu-id="3962a-117">So the decision of the number of node types essentially comes down to the following considerations:</span></span>

* <span data-ttu-id="3962a-118">Uw toepassing beschikt over meerdere services en hoeft deze niet openbaar of verbonden met internet?</span><span class="sxs-lookup"><span data-stu-id="3962a-118">Does your application have multiple services, and do any of them need to be public or internet facing?</span></span> <span data-ttu-id="3962a-119">Standaard-toepassingen bevatten een front-gatewayservice die invoer ontvangt van een client en een of meer back-end-services die communiceren met de front-end-services.</span><span class="sxs-lookup"><span data-stu-id="3962a-119">Typical applications contain a front-end gateway service that receives input from a client, and one or more back-end services that communicate with the front-end services.</span></span> <span data-ttu-id="3962a-120">Dus in dit geval u uiteindelijk eindigen met typen voor ten minste twee knooppunten.</span><span class="sxs-lookup"><span data-stu-id="3962a-120">So in this case, you end up having at least two node types.</span></span>
* <span data-ttu-id="3962a-121">Beschikt over uw services (die gezamenlijk uw toepassing) andere infrastructuur behoeften zoals meer RAM-geheugen of hoger CPU-cycli?</span><span class="sxs-lookup"><span data-stu-id="3962a-121">Do your services (that make up your application) have different infrastructure needs such as greater RAM or higher CPU cycles?</span></span> <span data-ttu-id="3962a-122">Laat het ons aannemen dat de toepassing die u wilt implementeren een front-end-service en een back-endservice bevat.</span><span class="sxs-lookup"><span data-stu-id="3962a-122">For example, let us assume that the application that you want to deploy contains a front-end service and a back-end service.</span></span> <span data-ttu-id="3962a-123">De front-end-service kunt uitvoeren op kleinere virtuele machines (VM-grootten zoals D2) die poorten geopend met het internet.</span><span class="sxs-lookup"><span data-stu-id="3962a-123">The front-end service can run on smaller VMs (VM sizes like D2) that have ports open to the internet.</span></span>  <span data-ttu-id="3962a-124">De back-endservice echter wordt intensief gebruik gemaakt van berekening en moet worden uitgevoerd op grotere VM's (met VM-grootten zoals D4 D6, D15) die geen internet facing.</span><span class="sxs-lookup"><span data-stu-id="3962a-124">The back-end service, however, is computation intensive and needs to run on larger VMs (with VM sizes like D4, D6, D15) that are not internet facing.</span></span>
  
  <span data-ttu-id="3962a-125">In dit voorbeeld, maar u kunt alle services op één knooppunttype plaatsen raden wij dat u deze in een cluster met twee typen van de knooppunten plaatsen.</span><span class="sxs-lookup"><span data-stu-id="3962a-125">In this example, although you can decide to put all the services on one node type, we recommended that you place them in a cluster with two node types.</span></span>  <span data-ttu-id="3962a-126">Hierdoor kan elk knooppunttype om afzonderlijke eigenschappen zoals verbinding met internet of VM-grootte.</span><span class="sxs-lookup"><span data-stu-id="3962a-126">This allows for each node type to have distinct properties such as internet connectivity or VM size.</span></span> <span data-ttu-id="3962a-127">Het aantal virtuele machines kan worden geschaald onafhankelijk, evenals.</span><span class="sxs-lookup"><span data-stu-id="3962a-127">The number of VMs can be scaled independently, as well.</span></span>  
* <span data-ttu-id="3962a-128">Aangezien u valt niet de toekomst te voorspellen, gaat u met feiten die u precies weet en bepaal van het aantal knooppunttypen die uw toepassingen worden gestart met moeten.</span><span class="sxs-lookup"><span data-stu-id="3962a-128">Since you cannot predict the future, go with facts you know of and decide on the number of node types that your applications need to start with.</span></span> <span data-ttu-id="3962a-129">U kunt altijd toevoegen of knooppunttypen later verwijderen.</span><span class="sxs-lookup"><span data-stu-id="3962a-129">You can always add or remove node types later.</span></span> <span data-ttu-id="3962a-130">Een Service Fabric-cluster moet ten minste één knooppunttype hebben.</span><span class="sxs-lookup"><span data-stu-id="3962a-130">A Service Fabric cluster must have at least one node type.</span></span>

## <a name="the-properties-of-each-node-type"></a><span data-ttu-id="3962a-131">De eigenschappen van elk knooppunttype</span><span class="sxs-lookup"><span data-stu-id="3962a-131">The properties of each node type</span></span>
<span data-ttu-id="3962a-132">De **knooppunttype** kunnen worden beschouwd als equivalent aan rollen in Cloudservices.</span><span class="sxs-lookup"><span data-stu-id="3962a-132">The **node type** can be seen as equivalent to roles in Cloud Services.</span></span> <span data-ttu-id="3962a-133">Knooppunttypen definiëren de VM-grootten, het aantal virtuele machines en hun eigenschappen.</span><span class="sxs-lookup"><span data-stu-id="3962a-133">Node types define the VM sizes, the number of VMs, and their properties.</span></span> <span data-ttu-id="3962a-134">Elk knooppunttype dat is gedefinieerd in een Service Fabric-cluster is ingesteld als een afzonderlijke virtuele-machineschaalset.</span><span class="sxs-lookup"><span data-stu-id="3962a-134">Every node type that is defined in a Service Fabric cluster is set up as a separate virtual machine scale set.</span></span> <span data-ttu-id="3962a-135">Virtuele-machineschaalset is een Azure compute-bron die u gebruiken kunt om te implementeren en beheren van een verzameling van virtuele machines als een set.</span><span class="sxs-lookup"><span data-stu-id="3962a-135">Virtual machine scale set is an Azure compute resource you can use to deploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="3962a-136">Wordt gedefinieerd als afzonderlijke virtuele-machineschaalset, elk knooppunttype kan vervolgens worden uitgebreid of omlaag onafhankelijk, hebben verschillende sets van poorten openen en andere capaciteitsmetrieken kan hebben.</span><span class="sxs-lookup"><span data-stu-id="3962a-136">Being defined as distinct virtual machine scale set, each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span>

<span data-ttu-id="3962a-137">Lees [dit document](service-fabric-cluster-nodetypes.md) voor meer informatie over de relatie van Nodetypes met de virtuele-machineschaalset hoe voor RDP in één van de exemplaren nieuwe poorten openen enzovoort.</span><span class="sxs-lookup"><span data-stu-id="3962a-137">Read [this document](service-fabric-cluster-nodetypes.md) for more details on the relationship of Nodetypes to virtual machine scale set, how to RDP into one of the instances, open new ports etc.</span></span>

<span data-ttu-id="3962a-138">Het cluster kan meer dan één knooppunttype hebben moet, maar het primaire knooppunttype (de eerste optie die u in de portal definieert) ten minste vijf VM's voor clusters die worden gebruikt voor productieworkloads (of ten minste drie virtuele machines voor testclusters).</span><span class="sxs-lookup"><span data-stu-id="3962a-138">Your cluster can have more than one node type, but the primary node type (the first one that you define on the portal) must have at least five VMs for clusters used for production workloads (or at least three VMs for test clusters).</span></span> <span data-ttu-id="3962a-139">Als u het cluster met een Resource Manager-sjabloon maakt, zoek naar **primaire** kenmerk onder de typedefinitie van het knooppunt.</span><span class="sxs-lookup"><span data-stu-id="3962a-139">If you are creating the cluster using a Resource Manager template, then look for **is Primary** attribute under the node type definition.</span></span> <span data-ttu-id="3962a-140">Het primaire knooppunttype is het knooppunttype waar de Service Fabric-systeemservices worden geplaatst.</span><span class="sxs-lookup"><span data-stu-id="3962a-140">The primary node type is the node type where Service Fabric system services are placed.</span></span>  

### <a name="primary-node-type"></a><span data-ttu-id="3962a-141">Primaire knooppunttype</span><span class="sxs-lookup"><span data-stu-id="3962a-141">Primary node type</span></span>
<span data-ttu-id="3962a-142">Voor een cluster met typen met meerdere knooppunten moet u een van de twee primaire worden kiezen.</span><span class="sxs-lookup"><span data-stu-id="3962a-142">For a cluster with multiple node types, you need to choose one of them to be primary.</span></span> <span data-ttu-id="3962a-143">Hier volgen de kenmerken van een primaire knooppunttype:</span><span class="sxs-lookup"><span data-stu-id="3962a-143">Here are the characteristics of a primary node type:</span></span>

* <span data-ttu-id="3962a-144">De **minimale grootte van virtuele machines** voor het primaire knooppunt type wordt bepaald door de **duurzaamheid laag** u kiest.</span><span class="sxs-lookup"><span data-stu-id="3962a-144">The **minimum size of VMs** for the primary node type is determined by the **durability tier** you choose.</span></span> <span data-ttu-id="3962a-145">De standaardwaarde voor de laag duurzaamheid is Brons.</span><span class="sxs-lookup"><span data-stu-id="3962a-145">The default for the durability tier is Bronze.</span></span> <span data-ttu-id="3962a-146">Schuif omlaag voor meer informatie over wat de duurzaamheid laag is en de waarden die kan duren.</span><span class="sxs-lookup"><span data-stu-id="3962a-146">Scroll down for details on what the durability tier is and the values it can take.</span></span>  
* <span data-ttu-id="3962a-147">De **minimum aantal virtuele machines** voor het primaire knooppunt type wordt bepaald door de **betrouwbaarheidslaag** u kiest.</span><span class="sxs-lookup"><span data-stu-id="3962a-147">The **minimum number of VMs** for the primary node type is determined by the **reliability tier** you choose.</span></span> <span data-ttu-id="3962a-148">De standaardwaarde voor de betrouwbaarheidslaag is Zilver.</span><span class="sxs-lookup"><span data-stu-id="3962a-148">The default for the reliability tier is Silver.</span></span> <span data-ttu-id="3962a-149">Schuif omlaag voor meer informatie over wat de betrouwbaarheidslaag is en de waarden die kan duren.</span><span class="sxs-lookup"><span data-stu-id="3962a-149">Scroll down for details on what the reliability tier is and the values it can take.</span></span> 


* <span data-ttu-id="3962a-150">De Service Fabric-systeemservices (bijvoorbeeld de Cluster Manager-service of de Image Store-service) worden geplaatst op het primaire knooppunttype en dus de betrouwbaarheid en duurzaamheid van het cluster wordt bepaald door de laag waarde en duurzaamheid betrouwbaarheidslaag waarde als u hebt Selecteer voor het primaire knooppunttype.</span><span class="sxs-lookup"><span data-stu-id="3962a-150">The Service Fabric system services (for example, the Cluster Manager service or Image Store service) are placed on the primary node type and so the reliability and durability of the cluster is determined by the reliability tier value and durability tier value you select for the primary node type.</span></span>

![<span data-ttu-id="3962a-151">Schermopname van een cluster met twee knooppunttypen</span><span class="sxs-lookup"><span data-stu-id="3962a-151">Screen shot of a cluster that has two Node Types</span></span> ][SystemServices]

### <a name="non-primary-node-type"></a><span data-ttu-id="3962a-152">Niet-primaire knooppunttype</span><span class="sxs-lookup"><span data-stu-id="3962a-152">Non-primary node type</span></span>
<span data-ttu-id="3962a-153">Er is een primaire knooppunttype voor een cluster met typen met meerdere knooppunten en de rest van deze zijn niet-primaire.</span><span class="sxs-lookup"><span data-stu-id="3962a-153">For a cluster with multiple node types, there is one primary node type and the rest of them are non-primary.</span></span> <span data-ttu-id="3962a-154">Hier volgen de kenmerken van een niet-primaire knooppunttype:</span><span class="sxs-lookup"><span data-stu-id="3962a-154">Here are the characteristics of a non-primary node type:</span></span>

* <span data-ttu-id="3962a-155">De minimale grootte van virtuele machines voor dit knooppunttype wordt bepaald door de duurzaamheid laag die u kiest.</span><span class="sxs-lookup"><span data-stu-id="3962a-155">The minimum size of VMs for this node type is determined by the durability tier you choose.</span></span> <span data-ttu-id="3962a-156">De standaardwaarde voor de laag duurzaamheid is Brons.</span><span class="sxs-lookup"><span data-stu-id="3962a-156">The default for the durability tier is Bronze.</span></span> <span data-ttu-id="3962a-157">Schuif omlaag voor meer informatie over wat de duurzaamheid laag is en de waarden die kan duren.</span><span class="sxs-lookup"><span data-stu-id="3962a-157">Scroll down for details on what the durability tier is and the values it can take.</span></span>  
* <span data-ttu-id="3962a-158">Het minimum aantal virtuele machines voor dit knooppunttype zijn.</span><span class="sxs-lookup"><span data-stu-id="3962a-158">The minimum number of VMs for this node type can be one.</span></span> <span data-ttu-id="3962a-159">Maar u kunt dit nummer op basis van het aantal replica's van de toepassing/de services die u wilt uitvoeren in dit knooppunttype kiezen moet.</span><span class="sxs-lookup"><span data-stu-id="3962a-159">However you should choose this number based on the number of replicas of the application/services that you would like to run in this node type.</span></span> <span data-ttu-id="3962a-160">Het aantal virtuele machines in een knooppunttype kan worden verhoogd, nadat u het cluster hebt geïmplementeerd.</span><span class="sxs-lookup"><span data-stu-id="3962a-160">The number of VMs in a node type can be increased after you have deployed the cluster.</span></span>

## <a name="the-durability-characteristics-of-the-cluster"></a><span data-ttu-id="3962a-161">De duurzaamheid kenmerken van het cluster</span><span class="sxs-lookup"><span data-stu-id="3962a-161">The durability characteristics of the cluster</span></span>
<span data-ttu-id="3962a-162">De laag duurzaamheid wordt gebruikt om aan te geven aan het systeem de rechten van uw virtuele machines met de onderliggende Azure-infrastructuur.</span><span class="sxs-lookup"><span data-stu-id="3962a-162">The durability tier is used to indicate to the system the privileges that your VMs have with the underlying Azure infrastructure.</span></span> <span data-ttu-id="3962a-163">In het primaire knooppunttype kan deze bevoegdheid Service Fabric VM niveau infrastructuur verzoeken (zoals een VM opnieuw wordt opgestart, VM terugzetten van de installatiekopie of VM-migratie) die van invloed zijn de vereisten van het quorum voor systeem en uw stateful services te onderbreken.</span><span class="sxs-lookup"><span data-stu-id="3962a-163">In the primary node type, this privilege allows Service Fabric to pause any VM level infrastructure request (such as a VM reboot, VM reimage, or VM migration) that impact the quorum requirements for the system services and your stateful services.</span></span> <span data-ttu-id="3962a-164">In de niet-primaire knooppunttypen kan deze bevoegdheid Service Fabric VM niveau infrastructuur verzoeken zoals VM opnieuw wordt opgestart, VM terugzetten van de installatiekopie, VM-migratie enz., die van invloed zijn de vereisten van de quorumconfiguratie voor uw stateful services die worden uitgevoerd in het onderbreken.</span><span class="sxs-lookup"><span data-stu-id="3962a-164">In the non-primary node types, this privilege allows Service Fabric to pause any VM level infrastructure requests like VM reboot, VM reimage, VM migration etc., that impact the quorum requirements for your stateful services running in it.</span></span>

<span data-ttu-id="3962a-165">Deze bevoegdheid wordt uitgedrukt in de volgende waarden:</span><span class="sxs-lookup"><span data-stu-id="3962a-165">This privilege is expressed in the following values:</span></span>

* <span data-ttu-id="3962a-166">Goud - infrastructuur taken kan gedurende een periode van twee uur per UD worden onderbroken.</span><span class="sxs-lookup"><span data-stu-id="3962a-166">Gold - The infrastructure Jobs can be paused for a duration of two hours per UD.</span></span> <span data-ttu-id="3962a-167">Goud duurzaamheid kan alleen op volledige knooppunt VM-SKU's zoals D15_V2, G5 enzovoort worden ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="3962a-167">Gold durability can be enabled only on full node VM skus like D15_V2, G5 etc.</span></span>
* <span data-ttu-id="3962a-168">Zilver - infrastructuur taken gedurende een periode van tien minuten per UD kan worden onderbroken en is beschikbaar op alle standard VM's van één kern en hoger.</span><span class="sxs-lookup"><span data-stu-id="3962a-168">Silver - The infrastructure Jobs can be paused for a duration of 10 minutes per UD and is available on all standard VMs of single core and above.</span></span>
* <span data-ttu-id="3962a-169">Brons - geen bevoegdheden.</span><span class="sxs-lookup"><span data-stu-id="3962a-169">Bronze - No privileges.</span></span> <span data-ttu-id="3962a-170">Dit is de standaardinstelling.</span><span class="sxs-lookup"><span data-stu-id="3962a-170">This is the default.</span></span> <span data-ttu-id="3962a-171">Dit niveau duurzaamheid alleen gebruiken voor knooppunttypen met _alleen_ staatloze werkbelastingen.</span><span class="sxs-lookup"><span data-stu-id="3962a-171">Only use this durability level for Node Types that run _only_ stateless workloads.</span></span> 

> [!WARNING]
> <span data-ttu-id="3962a-172">NodeTypes uitgevoerd met Brons duurzaamheid verkrijgen _geen bevoegdheden_.</span><span class="sxs-lookup"><span data-stu-id="3962a-172">NodeTypes running with Bronze durability obtain _no privileges_.</span></span> <span data-ttu-id="3962a-173">Dit betekent dat infrastructuur taken die invloed zijn op uw staatloze werkbelastingen niet worden gestopt of vertraagd.</span><span class="sxs-lookup"><span data-stu-id="3962a-173">This means that infrastructure jobs that impact your stateless workloads will not be stopped or delayed.</span></span> <span data-ttu-id="3962a-174">Het is mogelijk dat dergelijke taken nog steeds invloed op uw werkbelastingen hebben kunnen, uitvaltijd of andere problemen veroorzaken.</span><span class="sxs-lookup"><span data-stu-id="3962a-174">It is possible that such jobs can still impact your workloads, causing downtime or other issues.</span></span> <span data-ttu-id="3962a-175">Voor een of andere vorm van productie werkbelasting uitgevoerd met ten minste zilver wordt aanbevolen.</span><span class="sxs-lookup"><span data-stu-id="3962a-175">For any sort of production workload, running with at least Silver is recommended.</span></span> 
> 

<span data-ttu-id="3962a-176">U krijgt duurzaamheid voor elk van uw knooppunttypen kiezen. U kunt één knooppunttype om een duurzaamheid mate van goud of zilver en de andere hebt Brons in hetzelfde cluster. **Moet u het minimale aantal 5 knooppunten voor elk knooppunttype met een duurzaamheid van goud of zilver onderhouden**.</span><span class="sxs-lookup"><span data-stu-id="3962a-176">You get to choose durability level for each of your node-types.You can choose one node-type to have a durability level of Gold or silver and the other have Bronze in the same cluster.**You must maintain a minimum count of 5 nodes for any node-type that has a durability of Gold or silver**.</span></span> 

<span data-ttu-id="3962a-177">**Voordelen van het gebruik van zilver of goud duurzaamheid niveaus**</span><span class="sxs-lookup"><span data-stu-id="3962a-177">**Advantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="3962a-178">Vermindert het aantal vereiste stappen in een bewerking voor schaal (dat wil zeggen, deactivering van het knooppunt en verwijder ServiceFabricNodeState heet automatisch)</span><span class="sxs-lookup"><span data-stu-id="3962a-178">Reduces the number of required steps in a scale-in operation (that is, node deactivation and Remove-ServiceFabricNodeState is called automatically)</span></span>
2. <span data-ttu-id="3962a-179">Vermindert het risico van gegevensverlies als gevolg van een klant geïnitieerde in-place VM SKU wijzigingsbewerking of bewerkingen van de Azure-infrastructuur.</span><span class="sxs-lookup"><span data-stu-id="3962a-179">Reduces the risk of data loss due to a customer-initiated in-place VM SKU change operation or Azure infrastructure operations.</span></span>
     
<span data-ttu-id="3962a-180">**Nadelen van het gebruik van zilver of goud duurzaamheid niveaus**</span><span class="sxs-lookup"><span data-stu-id="3962a-180">**Disadvantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="3962a-181">Implementaties voor uw virtuele-Machineschaalset en andere gerelateerde Azure-resources) kunnen worden uitgesteld, kunnen een time-out of volledig door problemen in het cluster of op het niveau van de infrastructuur kunnen worden geblokkeerd.</span><span class="sxs-lookup"><span data-stu-id="3962a-181">Deployments to your Virtual Machine Scale Set and other related Azure resources) can be delayed, can time out, or can be blocked entirely by problems in your cluster or at the infrastructure level.</span></span> 
2. <span data-ttu-id="3962a-182">Verhoogt het aantal [replica lifecycle gebeurtenissen](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (bijvoorbeeld primaire worden verwisseld) automated vanwege knooppunt deactivations tijdens de bewerkingen van de Azure-infrastructuur.</span><span class="sxs-lookup"><span data-stu-id="3962a-182">Increases the number of [replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (for example, primary swaps) due to automated node deactivations during Azure infrastructure operations.</span></span>

### <a name="recommendations-on-when-to-use-silver-or-gold-durability-levels"></a><span data-ttu-id="3962a-183">Aanbevelingen voor het gebruik van zilver of goud duurzaamheid niveaus</span><span class="sxs-lookup"><span data-stu-id="3962a-183">Recommendations on when to use Silver or Gold durability levels</span></span>

<span data-ttu-id="3962a-184">Zilver of goud duurzaamheid gebruiken voor alle typen van de knooppunten die als stateful services die u verwacht host te schalen in (VM-exemplaren verminderen) vaak, en u liever dat implementatiebewerkingen voor het vereenvoudigen van deze schaal in bewerkingen worden uitgesteld.</span><span class="sxs-lookup"><span data-stu-id="3962a-184">Use Silver or Gold durability for all node types that host stateful services you expect to scale-in (reduce VM instance count) frequently, and you would prefer that deployment operations be delayed in favor of simplifying these scale-in operations.</span></span> <span data-ttu-id="3962a-185">De scale-out-scenario's (toe te voegen exemplaren van virtuele machines) niet in uw keuze van de laag duurzaamheid worden afgespeeld, heeft alleen schaal in.</span><span class="sxs-lookup"><span data-stu-id="3962a-185">The scale-out scenarios (adding VMs instances) do not play into your choice of the durability tier, only scale-in does.</span></span>

### <a name="operational-recommendations-for-the-node-type-that-you-have-set-to-silver-or-gold-durability-level"></a><span data-ttu-id="3962a-186">Operationele aanbevelingen voor het knooppunt typt u dat u hebt ingesteld op zilver of gold duurzaamheid niveau.</span><span class="sxs-lookup"><span data-stu-id="3962a-186">Operational Recommendations for the node type that you have set to silver or gold durability level.</span></span>

1. <span data-ttu-id="3962a-187">Uw cluster en de toepassingen gezond te houden te allen tijde en zorg ervoor dat toepassingen op alle reageren [replica lifecycle gebeurtenissen Service](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (zoals het maken van replica is vastgelopen) op tijdige wijze.</span><span class="sxs-lookup"><span data-stu-id="3962a-187">Keep your cluster and applications healthy at all times, and make sure that applications respond to all [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion.</span></span>
2. <span data-ttu-id="3962a-188">Vast veiliger manieren een wijziging VM SKU (schaal omhoog/omlaag): het wijzigen van de VM-SKU van een virtuele-Machineschaalset is inherent een onveilige bewerking en dus moeten worden vermeden indien mogelijk.</span><span class="sxs-lookup"><span data-stu-id="3962a-188">Adopt safer ways to make a VM SKU change (Scale up/down): Changing the VM SKU of a Virtual Machine Scale Set is inherently an unsafe operation and so should be avoided if possible.</span></span> <span data-ttu-id="3962a-189">Dit is het proces dat u kunt volgen om veelvoorkomende problemen voorkomen.</span><span class="sxs-lookup"><span data-stu-id="3962a-189">Here is the process you can follow to avoid common issues.</span></span>
    - <span data-ttu-id="3962a-190">**Voor niet-primaire nodetypes:** het is raadzaam dat u nieuwe virtuele-Machineschaalset maken of wijzigen van de service plaatsing beperking zijn van de nieuwe virtuele-Machineschaalset Set/knooppunttype en verlaagt u de oude virtuele-Machineschaalset-exemplaar aantal op 0, één knooppunt tegelijk (dit is om ervoor te zorgen dat de verwijdering van de knooppunten hebben geen invloed op de betrouwbaarheid van het cluster).</span><span class="sxs-lookup"><span data-stu-id="3962a-190">**For non-primary nodetypes:** It is recommended that you create new Virtual Machine Scale Set, modify the service placement constraint to include the new Virtual Machine Scale Set/node type and then reduce the old Virtual Machine Scale Set instance count to 0, one node at a time (this is to make sure that removal of the nodes do not impact the reliability of the cluster).</span></span>
    - <span data-ttu-id="3962a-191">**Voor de primaire nodetype:** onze aanbeveling is VM SKU van het primaire knooppunttype niet te wijzigen.</span><span class="sxs-lookup"><span data-stu-id="3962a-191">**For the primary nodetype:** Our recommendation is that you do not change VM SKU of the primary node type.</span></span> <span data-ttu-id="3962a-192">Als de reden voor de nieuwe SKU capaciteit, wij raden aan toe te voegen meer exemplaren of indien mogelijk een nieuw cluster maken.</span><span class="sxs-lookup"><span data-stu-id="3962a-192">If the reason for the new SKU is capacity, we recommend adding more instances or if possible, create a new cluster.</span></span> <span data-ttu-id="3962a-193">Als u geen keuze hebt, brengt u wijzigingen in de virtuele Machine Scale ingesteld modeldefinitie in overeenstemming met de nieuwe SKU.</span><span class="sxs-lookup"><span data-stu-id="3962a-193">If you have no choice, then make modifications to the Virtual Machine Scale Set Model definition to reflect the new SKU.</span></span> <span data-ttu-id="3962a-194">Als uw cluster slechts één nodetype heeft, zorgt u ervoor dat alle stateful toepassingen op alle reageren [replica lifecycle gebeurtenissen Service](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (zoals het maken van replica is vastgelopen) in een tijdige wijze en dat de replica van de service opnieuw samenstellen duur is minder dan vijf minuten (voor zilver duurzaamheid niveau).</span><span class="sxs-lookup"><span data-stu-id="3962a-194">If your cluster has only one nodetype, then make sure that all your stateful applications respond to all [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion and that your service replica rebuild duration is less than five minutes (for Silver durability level).</span></span> 


> [!WARNING]
> <span data-ttu-id="3962a-195">Wijzigen van de VM-SKU-grootte voor VM-Schaalsets is niet ten minste zilver duurzaamheid wordt uitgevoerd niet aanbevolen.</span><span class="sxs-lookup"><span data-stu-id="3962a-195">Changing the VM SKU Size for VM Scale Sets not running at least Silver durability is not recommened.</span></span> <span data-ttu-id="3962a-196">VM-SKU-grootte wijzigen is een gegevens-destructieve in-place infrastructuur-bewerking.</span><span class="sxs-lookup"><span data-stu-id="3962a-196">Changing VM SKU Size is a data-destructive in-place infrastructure operation.</span></span> <span data-ttu-id="3962a-197">Zonder enige mogelijkheid wilt vertragen of bewaken van deze wijziging is het mogelijk dat de bewerking kan ertoe leiden dataloss voor stateful services dat of andere onvoorziene operationele problemen, zelfs voor staatloze werkbelastingen veroorzaken.</span><span class="sxs-lookup"><span data-stu-id="3962a-197">Without at least some ability to delay or monitor this change, it is possible that the operation can cause dataloss for stateful services or cause other unforseen operational issues, even for stateless workloads.</span></span> 
> 
    
3. <span data-ttu-id="3962a-198">Het minimale aantal vijf knooppunten voor alle virtuele-Machineschaalset met MR ingeschakeld onderhouden</span><span class="sxs-lookup"><span data-stu-id="3962a-198">Maintain a minimum count of five nodes for any Virtual Machine Scale Set that has MR enabled</span></span>
4. <span data-ttu-id="3962a-199">Willekeurige VM-instanties verwijderen, gebruik altijd de virtuele-Machineschaalset scale omlaag functie niet.</span><span class="sxs-lookup"><span data-stu-id="3962a-199">Do not delete random VM instances, always use Virtual Machine Scale Set scale down feature.</span></span> <span data-ttu-id="3962a-200">De verwijdering van VM-instanties van willekeurige heeft een potentieel evenwicht maken in de VM-instantie verdeeld over UD en FD.</span><span class="sxs-lookup"><span data-stu-id="3962a-200">The deletion of random VM instances has a potential of creating imbalances in the VM instance spread across UD and FD.</span></span> <span data-ttu-id="3962a-201">Deze onbalans kan een nadelige invloed heeft op de mogelijkheid systemen correct verdelen over de service-exemplaren/Service-replica's.</span><span class="sxs-lookup"><span data-stu-id="3962a-201">This imbalance could adversely affect the systems ability to properly load balance amongst the service instances/Service replicas.</span></span>
6. <span data-ttu-id="3962a-202">Als u automatisch schalen, stelt u de regels zodat schaal (Bezig met verwijderen van de VM-instanties) slechts één knooppunt tegelijk worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="3962a-202">If using Autoscale, then set the rules such that scale in (removing of VM instances) are done only one node at a time.</span></span> <span data-ttu-id="3962a-203">Het verkleinen van meer dan één exemplaar tegelijk is niet veilig.</span><span class="sxs-lookup"><span data-stu-id="3962a-203">Scaling down more than one instance at a time is not safe.</span></span>
7. <span data-ttu-id="3962a-204">Als het verkleinen van een primaire knooppunttype, moet u deze nooit omlaag meer dan de betrouwbaarheidslaag kunt schalen.</span><span class="sxs-lookup"><span data-stu-id="3962a-204">If Scaling down a primary node type, you should never scale it down more than what the reliability tier allows.</span></span>


## <a name="the-reliability-characteristics-of-the-cluster"></a><span data-ttu-id="3962a-205">De betrouwbaarheidskenmerken van het cluster</span><span class="sxs-lookup"><span data-stu-id="3962a-205">The reliability characteristics of the cluster</span></span>
<span data-ttu-id="3962a-206">De betrouwbaarheidslaag wordt gebruikt voor het aantal replica's van de systeemservices die u wilt uitvoeren in dit cluster op het primaire knooppunttype instellen.</span><span class="sxs-lookup"><span data-stu-id="3962a-206">The reliability tier is used to set the number of replicas of the system services that you want to run in this cluster on the primary node type.</span></span> <span data-ttu-id="3962a-207">De meer het aantal replica's, de betrouwbaarder zijn de systeemservices in uw cluster.</span><span class="sxs-lookup"><span data-stu-id="3962a-207">The more the number of replicas, the more reliable the system services are in your cluster.</span></span>  

<span data-ttu-id="3962a-208">De betrouwbaarheidslaag kan duren voordat de volgende waarden:</span><span class="sxs-lookup"><span data-stu-id="3962a-208">The reliability tier can take the following values:</span></span>

* <span data-ttu-id="3962a-209">Platina - uitvoeren van de services System met een doel replicaset aantal 9</span><span class="sxs-lookup"><span data-stu-id="3962a-209">Platinum - Run the System services with a target replica set count of 9</span></span>
* <span data-ttu-id="3962a-210">Goud - uitvoeren van de services System met een doel replicaset telling van 7</span><span class="sxs-lookup"><span data-stu-id="3962a-210">Gold - Run the System services with a target replica set count of 7</span></span>
* <span data-ttu-id="3962a-211">Zilver - uitvoeren van de services System met een doel replicaset telling van 5</span><span class="sxs-lookup"><span data-stu-id="3962a-211">Silver - Run the System services with a target replica set count of 5</span></span> 
* <span data-ttu-id="3962a-212">Brons - uitvoeren van de services System met een doel replicaset telling van 3</span><span class="sxs-lookup"><span data-stu-id="3962a-212">Bronze - Run the System services with a target replica set count of 3</span></span>

> [!NOTE]
> <span data-ttu-id="3962a-213">De betrouwbaarheidslaag die u kiest, bepaalt het minimum aantal knooppunten dat het primaire knooppunttype moet hebben.</span><span class="sxs-lookup"><span data-stu-id="3962a-213">The reliability tier you choose determines the minimum number of nodes your primary node type must have.</span></span> 
> 
> 


### <a name="recommendations-for-the-reliability-tier"></a><span data-ttu-id="3962a-214">Aanbevelingen voor de betrouwbaarheidslaag.</span><span class="sxs-lookup"><span data-stu-id="3962a-214">Recommendations for the reliability tier.</span></span>

 <span data-ttu-id="3962a-215">Als u vergroten of verkleinen van de grootte van uw cluster (de som van de VM-exemplaren in typen van alle knooppunten), moet u de betrouwbaarheid van uw cluster met één laag naar een andere bijwerken.</span><span class="sxs-lookup"><span data-stu-id="3962a-215">When you increase or decrease the size of your cluster (the sum of VM instances in all node types), you must update the reliability of your cluster from one tier to another.</span></span> <span data-ttu-id="3962a-216">Dit activeert de cluster-upgrades nodig om te wijzigen van de replica van de services system aantal instellen.</span><span class="sxs-lookup"><span data-stu-id="3962a-216">Doing this triggers the cluster upgrades needed to change the system services replica set count.</span></span> <span data-ttu-id="3962a-217">Wacht totdat de upgrade wordt voltooid voordat u andere wijzigingen aanbrengt in het cluster, zoals het toevoegen van knooppunten.</span><span class="sxs-lookup"><span data-stu-id="3962a-217">Wait for the upgrade in progress to complete before making any other changes to the cluster, like adding nodes.</span></span>  <span data-ttu-id="3962a-218">U kunt de voortgang van de upgrade in Service Fabric Explorer of door te voeren [Get-ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span><span class="sxs-lookup"><span data-stu-id="3962a-218">You can monitor the progress of the upgrade on Service Fabric Explorer or by running [Get-ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span></span>

<span data-ttu-id="3962a-219">Hier volgt de aanbeveling over het kiezen van de betrouwbaarheidslaag.</span><span class="sxs-lookup"><span data-stu-id="3962a-219">Here is the recommendation on choosing the reliability tier.</span></span>

| <span data-ttu-id="3962a-220">**De clustergrootte van het**</span><span class="sxs-lookup"><span data-stu-id="3962a-220">**Cluster Size**</span></span> | <span data-ttu-id="3962a-221">**Betrouwbaarheidslaag**</span><span class="sxs-lookup"><span data-stu-id="3962a-221">**Reliability Tier**</span></span> |
| --- | --- |
| <span data-ttu-id="3962a-222">1</span><span class="sxs-lookup"><span data-stu-id="3962a-222">1</span></span> |<span data-ttu-id="3962a-223">Geef de parameter Betrouwbaarheidslaag berekend door het systeem</span><span class="sxs-lookup"><span data-stu-id="3962a-223">Do not specify the Reliability Tier parameter, the system calculates it</span></span> |
| <span data-ttu-id="3962a-224">3</span><span class="sxs-lookup"><span data-stu-id="3962a-224">3</span></span> |<span data-ttu-id="3962a-225">Brons</span><span class="sxs-lookup"><span data-stu-id="3962a-225">Bronze</span></span> |
| <span data-ttu-id="3962a-226">5 of 6</span><span class="sxs-lookup"><span data-stu-id="3962a-226">5 or 6</span></span>|<span data-ttu-id="3962a-227">Zilver</span><span class="sxs-lookup"><span data-stu-id="3962a-227">Silver</span></span> |
| <span data-ttu-id="3962a-228">7 of 8</span><span class="sxs-lookup"><span data-stu-id="3962a-228">7 or 8</span></span> |<span data-ttu-id="3962a-229">Goud</span><span class="sxs-lookup"><span data-stu-id="3962a-229">Gold</span></span> |
| <span data-ttu-id="3962a-230">9 en hoger</span><span class="sxs-lookup"><span data-stu-id="3962a-230">9 and up</span></span> |<span data-ttu-id="3962a-231">Platina</span><span class="sxs-lookup"><span data-stu-id="3962a-231">Platinum</span></span> |




## <a name="primary-node-type---capacity-guidance"></a><span data-ttu-id="3962a-232">Primaire knooppunttype - capaciteit richtlijnen</span><span class="sxs-lookup"><span data-stu-id="3962a-232">Primary node type - Capacity Guidance</span></span>

<span data-ttu-id="3962a-233">Hier vindt u de richtlijnen voor het plannen van het primaire knooppunt type capaciteit</span><span class="sxs-lookup"><span data-stu-id="3962a-233">Here is the guidance for planning the primary node type capacity</span></span>

1. <span data-ttu-id="3962a-234">**Aantal VM-instanties van elke werkbelasting productie uitvoeren in Azure:** moet u een minimale primaire knooppunt puntgrootte van 5 opgeven.</span><span class="sxs-lookup"><span data-stu-id="3962a-234">**Number of VM instances to run any production workload in Azure:** You must specify a minimum Primary Node type size of 5.</span></span> 
2. <span data-ttu-id="3962a-235">**Aantal VM-instanties testwerkbelastingen uitvoeren in Azure** kunt u een primaire knooppunt dat de minimale grootte van 1 of 3.</span><span class="sxs-lookup"><span data-stu-id="3962a-235">**Number of VM instances to run test workloads in Azure** You can specify a minimum primary node type size of 1 or 3.</span></span> <span data-ttu-id="3962a-236">Het cluster met één knooppunt wordt uitgevoerd met een speciale configuratie en kan dus, schaal buiten het cluster wordt niet ondersteund.</span><span class="sxs-lookup"><span data-stu-id="3962a-236">The one node cluster, runs with a special configuration and so, scale out of that cluster is not supported.</span></span> <span data-ttu-id="3962a-237">Het cluster met één knooppunt heeft geen betrouwbaarheid en dus in het Resource Manager-sjabloon u verwijderen/niet opgeven dat de configuratie (de instelling van de configuratiewaarde is niet voldoende).</span><span class="sxs-lookup"><span data-stu-id="3962a-237">The one node cluster, has no reliability and so in your Resource Manager template, you have to remove/not specify that configuration (not setting the configuration value is not enough).</span></span> <span data-ttu-id="3962a-238">Als u het cluster met één knooppunt instellen via de portal hebt ingesteld, is klikt u vervolgens de configuratie automatisch afgehandeld.</span><span class="sxs-lookup"><span data-stu-id="3962a-238">If you set up the one node cluster set up via portal, then the configuration is automatically taken care of.</span></span> <span data-ttu-id="3962a-239">clusters met knooppunten 1 en 3 worden niet ondersteund voor het uitvoeren van de productie-workloads.</span><span class="sxs-lookup"><span data-stu-id="3962a-239">1 and 3 node clusters are not supported for running production workloads.</span></span> 
3. <span data-ttu-id="3962a-240">**VM SKU:** primaire knooppunttype is waar de systeemservices worden uitgevoerd, zodat de VM-SKU u kiest, moet nemen bij de algehele piek-account laden u van plan bent te plaatsen in het cluster.</span><span class="sxs-lookup"><span data-stu-id="3962a-240">**VM SKU:** Primary node type is where the system services run, so the VM SKU you choose for it, must take into account the overall peak load you plan to place into the cluster.</span></span> <span data-ttu-id="3962a-241">Hier volgt een vergelijking te illustreren heb hier - zien van het primaire knooppunttype als uw 'longen', is wat uw brain zuurstof biedt en dus als de brain geen voldoende zuurstof krijgt, uw instantie te lijden heeft onder.</span><span class="sxs-lookup"><span data-stu-id="3962a-241">Here is an analogy to illustrate what I mean here - Think of the primary node type as your "Lungs", it is what provides oxygen to your brain, and so if the brain does not get enough oxygen, your body suffers.</span></span> 

<span data-ttu-id="3962a-242">Omdat de capaciteitsbehoeften van een cluster wordt bepaald door de werkbelasting die u van plan bent om uit te voeren in het cluster, kan niet bieden we u met kwalitatieve richtlijnen voor uw specifieke werkbelasting, maar hier vindt u de algemene richtlijnen om u te helpen aan de slag</span><span class="sxs-lookup"><span data-stu-id="3962a-242">Since the capacity needs of a cluster is determined by workload you plan to run in the cluster, we cannot provide you with qualitative guidance for your specific workload, however here is the broad guidance to help you get started</span></span>

<span data-ttu-id="3962a-243">Voor productieworkloads</span><span class="sxs-lookup"><span data-stu-id="3962a-243">For production workloads</span></span> 


- <span data-ttu-id="3962a-244">De aanbevolen VM-SKU is standaard D3 of standaard D3_V2 of een vergelijkbare met minimaal 14 GB van de lokale SSD.</span><span class="sxs-lookup"><span data-stu-id="3962a-244">The recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="3962a-245">Het minimale ondersteunde gebruik VM SKU is standaard D1 of standaard D1_V2 of equivalent met minimaal 14 GB van de lokale SSD.</span><span class="sxs-lookup"><span data-stu-id="3962a-245">The minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="3962a-246">Gedeeltelijke core zoals standaard A0 VM-SKU's worden niet ondersteund voor productieworkloads.</span><span class="sxs-lookup"><span data-stu-id="3962a-246">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="3962a-247">Standaard A1 SKU wordt niet ondersteund voor productieworkloads voor betere prestaties.</span><span class="sxs-lookup"><span data-stu-id="3962a-247">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateful-workloads"></a><span data-ttu-id="3962a-248">Niet-primaire knooppunttype - capaciteit richtlijnen voor stateful werkbelastingen</span><span class="sxs-lookup"><span data-stu-id="3962a-248">Non-Primary node type - Capacity Guidance for stateful workloads</span></span>

<span data-ttu-id="3962a-249">In deze richtlijnen voor stateful werkbelastingen met behulp van Service fabric is [betrouwbare verzamelingen of reliable Actors](service-fabric-choose-framework.md) die u in het niet-primaire knooppunttype worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="3962a-249">This guidance is for stateful Workloads using Service fabric [reliable collections or reliable Actors](service-fabric-choose-framework.md) that you are running in the non-primary node type.</span></span>


<span data-ttu-id="3962a-250">**Aantal VM-instanties:** voor productieworkloads stateful zijn wordt aanbevolen dat u deze met een minimum- en aantal replica's van 5 uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="3962a-250">**Number of VM instances:** For production workloads that are stateful, it is recommended that you run them with a minimum and target replica count of 5.</span></span> <span data-ttu-id="3962a-251">Dit betekent dat in de actieve status u uiteindelijk met een replica (van een replicaset) in elk domein met fouten en upgradedomein eindigen.</span><span class="sxs-lookup"><span data-stu-id="3962a-251">This means that in steady state you end up with a replica (from a replica set) in each fault domain and upgrade domain.</span></span> <span data-ttu-id="3962a-252">Het concept van de hele betrouwbaarheid laag voor het primaire knooppunttype is een manier om deze instelling opgeven voor systeemservices.</span><span class="sxs-lookup"><span data-stu-id="3962a-252">The whole reliability tier concept for the primary node type is a way to specify this setting for system services.</span></span> <span data-ttu-id="3962a-253">Hetzelfde geldt dus voor uw stateful services ook.</span><span class="sxs-lookup"><span data-stu-id="3962a-253">So the same consideration applies to your stateful services as well.</span></span>

<span data-ttu-id="3962a-254">Voor productieworkloads dus minimale aanbevolen niet - primaire type grootte van het knooppunt 5, als u in het stateful werkbelastingen worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="3962a-254">So for production workloads, the minimum recommended non-Primary Node type size is 5, if you are running stateful workloads in it.</span></span>


<span data-ttu-id="3962a-255">**VM SKU:** . Dit is het knooppunttype waar uw toepassingsservices worden uitgevoerd, dus de VM-SKU u kiest, moet rekening gehouden met de piekbelasting u van plan bent om in elk knooppunt te plaatsen.</span><span class="sxs-lookup"><span data-stu-id="3962a-255">**VM SKU:** This is the node type where your application services are running, so the VM SKU you choose for it, must take into account the peak load you plan to place into each Node.</span></span> <span data-ttu-id="3962a-256">De capaciteitsbehoeften van de nodetype wordt bepaald door de werkbelasting die u van plan bent om uit te voeren in het cluster, zodat we u met kwalitatieve richtlijnen voor uw specifieke werkbelasting, maar hier vindt u de algemene richtlijnen om u te helpen aan de slag niet opgeven</span><span class="sxs-lookup"><span data-stu-id="3962a-256">The capacity needs of the nodetype, is determined by workload you plan to run in the cluster, so we cannot provide you with qualitative guidance for your specific workload, however here is the broad guidance to help you get started</span></span>

<span data-ttu-id="3962a-257">Voor productieworkloads</span><span class="sxs-lookup"><span data-stu-id="3962a-257">For production workloads</span></span> 

- <span data-ttu-id="3962a-258">De aanbevolen VM-SKU is standaard D3 of standaard D3_V2 of een vergelijkbare met minimaal 14 GB van de lokale SSD.</span><span class="sxs-lookup"><span data-stu-id="3962a-258">The recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="3962a-259">Het minimale ondersteunde gebruik VM SKU is standaard D1 of standaard D1_V2 of equivalent met minimaal 14 GB van de lokale SSD.</span><span class="sxs-lookup"><span data-stu-id="3962a-259">The minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="3962a-260">Gedeeltelijke core zoals standaard A0 VM-SKU's worden niet ondersteund voor productieworkloads.</span><span class="sxs-lookup"><span data-stu-id="3962a-260">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="3962a-261">Standaard A1 SKU wordt specifiek niet ondersteund voor productieworkloads voor betere prestaties.</span><span class="sxs-lookup"><span data-stu-id="3962a-261">Standard A1 SKU is specifically not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateless-workloads"></a><span data-ttu-id="3962a-262">Niet-primaire knooppunttype - capaciteit richtlijnen voor staatloze werkbelastingen</span><span class="sxs-lookup"><span data-stu-id="3962a-262">Non-Primary node type - Capacity Guidance for stateless workloads</span></span>

<span data-ttu-id="3962a-263">In deze richtlijnen staatloze werkbelastingen die u op de niet-primaire nodetype uitvoert.</span><span class="sxs-lookup"><span data-stu-id="3962a-263">This guidance of stateless Workloads that you are running on the non-primary nodetype.</span></span>

<span data-ttu-id="3962a-264">**Aantal VM-instanties:** voor productieworkloads staatloze zijn, is de minimale ondersteunde niet - primaire type knooppuntgrootte 2.</span><span class="sxs-lookup"><span data-stu-id="3962a-264">**Number of VM instances:** For production workloads that are stateless, the minimum supported non-Primary Node type size is 2.</span></span> <span data-ttu-id="3962a-265">Hiermee kunt u twee staatloze exemplaren van uw toepassing en waardoor uw service te blijven werken het verlies van een VM-instantie worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="3962a-265">This allows you to run you two stateless instances of your application and allowing your service to survive the loss of a VM instance.</span></span> 

> [!NOTE]
> <span data-ttu-id="3962a-266">Als uw cluster wordt uitgevoerd op een service fabric-versie lager dan 5.6, vanwege een fout in de runtime (dit probleem is opgelost als 5.6), het verkleinen van een niet-primaire knooppunttype tot minder dan 5 resulteert in het cluster health schakelen slechte, totdat u aanroepen [ Verwijder ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) met de naam van het juiste knooppunt.</span><span class="sxs-lookup"><span data-stu-id="3962a-266">If your cluster is running on a service fabric version less than 5.6, due to a defect in the runtime (this issue is fixed in 5.6), scaling down a non-primary node type to less than 5, results in cluster health turning unhealthy, till you call [Remove-ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) with the appropriate node name.</span></span> <span data-ttu-id="3962a-267">Lees [Service Fabric-cluster uitvoeren in- of](service-fabric-cluster-scale-up-down.md) voor meer informatie</span><span class="sxs-lookup"><span data-stu-id="3962a-267">Read [perform Service Fabric cluster in or out](service-fabric-cluster-scale-up-down.md) for more details</span></span>
> 
>

<span data-ttu-id="3962a-268">**VM SKU:** . Dit is het knooppunttype waar uw toepassingsservices worden uitgevoerd, dus de VM-SKU u kiest, moet rekening gehouden met de piekbelasting u van plan bent om in elk knooppunt te plaatsen.</span><span class="sxs-lookup"><span data-stu-id="3962a-268">**VM SKU:** This is the node type where your application services are running, so the VM SKU you choose for it, must take into account the peak load you plan to place into each Node.</span></span> <span data-ttu-id="3962a-269">De capaciteitsbehoeften van de nodetype wordt bepaald door de werkbelasting die u van plan bent om uit te voeren in het cluster, zodat we u met kwalitatieve richtlijnen voor uw specifieke werkbelasting, maar hier vindt u de algemene richtlijnen om u te helpen aan de slag niet opgeven</span><span class="sxs-lookup"><span data-stu-id="3962a-269">The capacity needs of the nodetype, is determined by workload you plan to run in the cluster, So we cannot provide you with qualitative guidance for your specific workload, however here is the broad guidance to help you get started</span></span>

<span data-ttu-id="3962a-270">Voor productieworkloads</span><span class="sxs-lookup"><span data-stu-id="3962a-270">For production workloads</span></span> 


- <span data-ttu-id="3962a-271">De aanbevolen VM-SKU is standaard D3 of standaard D3_V2 of gelijkwaardig.</span><span class="sxs-lookup"><span data-stu-id="3962a-271">The recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent.</span></span> 
- <span data-ttu-id="3962a-272">Het minimale ondersteunde gebruik VM SKU is standaard D1 of standaard D1_V2 of gelijkwaardig.</span><span class="sxs-lookup"><span data-stu-id="3962a-272">The minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent.</span></span> 
- <span data-ttu-id="3962a-273">Gedeeltelijke core zoals standaard A0 VM-SKU's worden niet ondersteund voor productieworkloads.</span><span class="sxs-lookup"><span data-stu-id="3962a-273">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="3962a-274">Standaard A1 SKU wordt niet ondersteund voor productieworkloads voor betere prestaties.</span><span class="sxs-lookup"><span data-stu-id="3962a-274">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>

<!--Every topic should have next steps and links to the next logical set of content to keep the customer engaged-->

## <a name="next-steps"></a><span data-ttu-id="3962a-275">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="3962a-275">Next steps</span></span>
<span data-ttu-id="3962a-276">Zodra u klaar bent met het plannen van capaciteit en een cluster instellen, leest u het volgende:</span><span class="sxs-lookup"><span data-stu-id="3962a-276">Once you finish your capacity planning and set up a cluster, read the following:</span></span>

* [<span data-ttu-id="3962a-277">Beveiliging voor service Fabric-cluster</span><span class="sxs-lookup"><span data-stu-id="3962a-277">Service Fabric cluster security</span></span>](service-fabric-cluster-security.md)
* [<span data-ttu-id="3962a-278">Service Fabric health model Inleiding</span><span class="sxs-lookup"><span data-stu-id="3962a-278">Service Fabric health model introduction</span></span>](service-fabric-health-introduction.md)
* [<span data-ttu-id="3962a-279">Relatie van Nodetypes met virtuele-machineschaalset instellen</span><span class="sxs-lookup"><span data-stu-id="3962a-279">Relationship of Nodetypes to Virtual machine scale set</span></span>](service-fabric-cluster-nodetypes.md)

<!--Image references-->
[SystemServices]: ./media/service-fabric-cluster-capacity/SystemServices.png
