---
title: Schaalbaarheid van Service Fabric-services | Microsoft Docs
description: Hierin wordt beschreven hoe schalen Service Fabric-services
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: ed324f23-242f-47b7-af1a-e55c839e7d5d
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: e2dd48341499b18ebd1433611063746e95a5ac62
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/29/2017
---
# <a name="scaling-in-service-fabric"></a><span data-ttu-id="59d9e-103">Schalen in Service Fabric</span><span class="sxs-lookup"><span data-stu-id="59d9e-103">Scaling in Service Fabric</span></span>
<span data-ttu-id="59d9e-104">Azure Service Fabric kunt eenvoudig schaalbare toepassingen bouwen door het beheer van de services, partities en replica's op de knooppunten van een cluster.</span><span class="sxs-lookup"><span data-stu-id="59d9e-104">Azure Service Fabric makes it easy to build scalable applications by managing the services, partitions, and replicas on the nodes of a cluster.</span></span> <span data-ttu-id="59d9e-105">Veel werkbelastingen op dezelfde hardware uitgevoerd kunt maximale Resourcegebruik, maar ook biedt flexibiliteit in termen van hoe u kiest voor het schalen van uw werkbelastingen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-105">Running many workloads on the same hardware enables maximum resource utilization, but also provides flexibility in terms of how you choose to scale your workloads.</span></span> 

<span data-ttu-id="59d9e-106">In Service Fabric schalen, is het moet worden uitgevoerd op verschillende manieren:</span><span class="sxs-lookup"><span data-stu-id="59d9e-106">Scaling in Service Fabric is accomplished several different ways:</span></span>

1. <span data-ttu-id="59d9e-107">Schalen door te maken of te verwijderen van staatloze service-exemplaren</span><span class="sxs-lookup"><span data-stu-id="59d9e-107">Scaling by creating or removing stateless service instances</span></span>
2. <span data-ttu-id="59d9e-108">Schalen door te maken of verwijderen van nieuwe services met de naam</span><span class="sxs-lookup"><span data-stu-id="59d9e-108">Scaling by creating or removing new named services</span></span>
3. <span data-ttu-id="59d9e-109">Schalen door te maken of te verwijderen, nieuwe exemplaren van een toepassing met de naam</span><span class="sxs-lookup"><span data-stu-id="59d9e-109">Scaling by creating or removing new named application instances</span></span>
4. <span data-ttu-id="59d9e-110">Met behulp van gepartitioneerde services schalen</span><span class="sxs-lookup"><span data-stu-id="59d9e-110">Scaling by using partitioned services</span></span>
5. <span data-ttu-id="59d9e-111">Schalen door toe te voegen en knooppunten verwijderen uit het cluster</span><span class="sxs-lookup"><span data-stu-id="59d9e-111">Scaling by adding and removing nodes from the cluster</span></span> 
6. <span data-ttu-id="59d9e-112">Schalen met behulp van de Cluster Resource Manager metrische gegevens</span><span class="sxs-lookup"><span data-stu-id="59d9e-112">Scaling by using Cluster Resource Manager metrics</span></span>

## <a name="scaling-by-creating-or-removing-stateless-service-instances"></a><span data-ttu-id="59d9e-113">Schalen door te maken of te verwijderen van staatloze service-exemplaren</span><span class="sxs-lookup"><span data-stu-id="59d9e-113">Scaling by creating or removing stateless service instances</span></span>
<span data-ttu-id="59d9e-114">Een van de meest eenvoudige manieren schalen in Service Fabric werkt met stateless services.</span><span class="sxs-lookup"><span data-stu-id="59d9e-114">One of the simplest ways to scale within Service Fabric works with stateless services.</span></span> <span data-ttu-id="59d9e-115">Als u een stateless service maakt, krijgt u de kans te definiëren een `InstanceCount`.</span><span class="sxs-lookup"><span data-stu-id="59d9e-115">When you create a stateless service, you get a chance to define an `InstanceCount`.</span></span> <span data-ttu-id="59d9e-116">`InstanceCount`Hiermee definieert u hoeveel actieve exemplaren van de code van de service worden gemaakt wanneer de service wordt gestart.</span><span class="sxs-lookup"><span data-stu-id="59d9e-116">`InstanceCount` defines how many running copies of that service's code are created when the service starts up.</span></span> <span data-ttu-id="59d9e-117">Stel bijvoorbeeld dat er 100 knooppunten beschikbaar in het cluster zijn.</span><span class="sxs-lookup"><span data-stu-id="59d9e-117">Let's say, for example, that there are 100 nodes in the cluster.</span></span> <span data-ttu-id="59d9e-118">Stel dat een service hebt gemaakt met een `InstanceCount` van 10.</span><span class="sxs-lookup"><span data-stu-id="59d9e-118">Let's also say that a service is created with an `InstanceCount` of 10.</span></span> <span data-ttu-id="59d9e-119">Tijdens runtime, die 10 actieve exemplaren van de code zou kunnen alle worden bezet (of kunnen niet genoeg bezet).</span><span class="sxs-lookup"><span data-stu-id="59d9e-119">During runtime, those 10 running copies of the code could all become too busy (or could be not busy enough).</span></span> <span data-ttu-id="59d9e-120">Een manier schalen werkbelasting is het aantal exemplaren te wijzigen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-120">One way to scale that workload is to change the number of instances.</span></span> <span data-ttu-id="59d9e-121">Bijvoorbeeld, een blok van code voor bewaking of management die het bestaande aantal exemplaren van kunt wijzigen, 50 of 5, afhankelijk van of de werkbelasting moet in of uit te schalen op basis van de belasting.</span><span class="sxs-lookup"><span data-stu-id="59d9e-121">For example, some piece of monitoring or management code can change the existing number of instances to 50, or to 5, depending on whether the workload needs to scale in or out based on the load.</span></span> 

<span data-ttu-id="59d9e-122">C#:</span><span class="sxs-lookup"><span data-stu-id="59d9e-122">C#:</span></span>

```csharp
StatelessServiceUpdateDescription updateDescription = new StatelessServiceUpdateDescription(); 
updateDescription.InstanceCount = 50;
await fabricClient.ServiceManager.UpdateServiceAsync(new Uri("fabric:/app/service"), updateDescription);
```

<span data-ttu-id="59d9e-123">PowerShell:</span><span class="sxs-lookup"><span data-stu-id="59d9e-123">Powershell:</span></span>

```posh
Update-ServiceFabricService -Stateless -ServiceName $serviceName -InstanceCount 50
```
### <a name="using-dynamic-instance-count"></a><span data-ttu-id="59d9e-124">Met behulp van dynamische exemplaren</span><span class="sxs-lookup"><span data-stu-id="59d9e-124">Using Dynamic Instance Count</span></span>
<span data-ttu-id="59d9e-125">Specifiek voor stateless services biedt Service Fabric een automatische manier te wijzigen van het aantal exemplaren.</span><span class="sxs-lookup"><span data-stu-id="59d9e-125">Specifically for stateless services, Service Fabric offers an automatic way to change the instance count.</span></span> <span data-ttu-id="59d9e-126">Hierdoor kan de service te schalen dynamisch met het aantal knooppunten die beschikbaar zijn.</span><span class="sxs-lookup"><span data-stu-id="59d9e-126">This allows the service to scale dynamically with the number of nodes that are available.</span></span> <span data-ttu-id="59d9e-127">De manier om te kiezen voor dit gedrag is het instellen van het aantal exemplaren = -1.</span><span class="sxs-lookup"><span data-stu-id="59d9e-127">The way to opt into this behavior is to set the instance count = -1.</span></span> <span data-ttu-id="59d9e-128">InstanceCount = -1 is een instructie voor Service Fabric met de tekst 'Deze staatloze service uitvoeren op elk knooppunt'.</span><span class="sxs-lookup"><span data-stu-id="59d9e-128">InstanceCount = -1 is an instruction to Service Fabric that says "Run this stateless service on every node."</span></span> <span data-ttu-id="59d9e-129">Als het aantal knooppunten wordt gewijzigd, verandert Service Fabric automatisch het aantal exemplaren moet worden gezocht, ervoor te zorgen dat de service wordt uitgevoerd op alle geldige knooppunten.</span><span class="sxs-lookup"><span data-stu-id="59d9e-129">If the number of nodes changes, Service Fabric automatically changes the instance count to match, ensuring that the service is running on all valid nodes.</span></span> 

<span data-ttu-id="59d9e-130">C#:</span><span class="sxs-lookup"><span data-stu-id="59d9e-130">C#:</span></span>

```csharp
StatelessServiceDescription serviceDescription = new StatelessServiceDescription();
//Set other service properties necessary for creation....
serviceDescription.InstanceCount = -1;
await fc.ServiceManager.CreateServiceAsync(serviceDescription);
```

<span data-ttu-id="59d9e-131">PowerShell:</span><span class="sxs-lookup"><span data-stu-id="59d9e-131">Powershell:</span></span>

```posh
New-ServiceFabricService -ApplicationName $applicationName -ServiceName $serviceName -ServiceTypeName $serviceTypeName -Stateless -PartitionSchemeSingleton -InstanceCount "-1"
```

## <a name="scaling-by-creating-or-removing-new-named-services"></a><span data-ttu-id="59d9e-132">Schalen door te maken of verwijderen van nieuwe services met de naam</span><span class="sxs-lookup"><span data-stu-id="59d9e-132">Scaling by creating or removing new named services</span></span>
<span data-ttu-id="59d9e-133">Een benoemd exemplaar van een specifiek exemplaar van een servicetype is (Zie [levenscyclus van de Service Fabric-toepassing](service-fabric-application-lifecycle.md)) binnen een aantal benoemde exemplaar in het cluster.</span><span class="sxs-lookup"><span data-stu-id="59d9e-133">A named service instance is a specific instance of a service type (see [Service Fabric application life cycle](service-fabric-application-lifecycle.md)) within some named application instance in the cluster.</span></span> 

<span data-ttu-id="59d9e-134">Nieuwe benoemde service-exemplaren kunnen worden gemaakt (of verwijderd) als services komen meer of minder bezet.</span><span class="sxs-lookup"><span data-stu-id="59d9e-134">New named service instances can be created (or removed) as services become more or less busy.</span></span> <span data-ttu-id="59d9e-135">Dit kan aanvragen worden verdeeld over meer service-exemplaren, meestal waardoor de belasting van bestaande services te verlagen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-135">This allows requests to be spread across more service instances, usually allowing load on existing services to decrease.</span></span> <span data-ttu-id="59d9e-136">Bij het maken van services, plaatst de resourcebeheer voor Service Fabric-Cluster de services in het cluster in een gedistribueerde wijze.</span><span class="sxs-lookup"><span data-stu-id="59d9e-136">When creating services, the Service Fabric Cluster Resource Manager places the services in the cluster in a distributed fashion.</span></span> <span data-ttu-id="59d9e-137">De exacte beslissingen worden bepaald door de [metrische gegevens](service-fabric-cluster-resource-manager-metrics.md) in het cluster en andere plaatsingsregels.</span><span class="sxs-lookup"><span data-stu-id="59d9e-137">The exact decisions are governed by the [metrics](service-fabric-cluster-resource-manager-metrics.md) in the cluster and other placement rules.</span></span> <span data-ttu-id="59d9e-138">Services kunnen op verschillende manieren worden gemaakt, maar de meest voorkomende zijn via beheeracties als iemand het aanroepen van [ `New-ServiceFabricService` ](https://docs.microsoft.com/en-us/powershell/module/servicefabric/new-servicefabricservice?view=azureservicefabricps), of door code aanroepen [ `CreateServiceAsync` ](https://docs.microsoft.com/en-us/dotnet/api/system.fabric.fabricclient.servicemanagementclient.createserviceasync?view=azure-dotnet).</span><span class="sxs-lookup"><span data-stu-id="59d9e-138">Services can be created several different ways, but the most common are either through administrative actions like someone calling [`New-ServiceFabricService`](https://docs.microsoft.com/en-us/powershell/module/servicefabric/new-servicefabricservice?view=azureservicefabricps), or by code calling [`CreateServiceAsync`](https://docs.microsoft.com/en-us/dotnet/api/system.fabric.fabricclient.servicemanagementclient.createserviceasync?view=azure-dotnet).</span></span> <span data-ttu-id="59d9e-139">`CreateServiceAsync`kan zelfs worden aangeroepen vanuit binnen andere services die worden uitgevoerd in het cluster.</span><span class="sxs-lookup"><span data-stu-id="59d9e-139">`CreateServiceAsync` can even be called from within other services running in the cluster.</span></span>

<span data-ttu-id="59d9e-140">Maken van services dynamisch kunnen worden gebruikt in allerlei scenario's en is een algemene patroon.</span><span class="sxs-lookup"><span data-stu-id="59d9e-140">Creating services dynamically can be used in all sorts of scenarios, and is a common pattern.</span></span> <span data-ttu-id="59d9e-141">Neem bijvoorbeeld een stateful service die staat voor een bepaalde workflow.</span><span class="sxs-lookup"><span data-stu-id="59d9e-141">For example, consider a stateful service that represents a particular workflow.</span></span> <span data-ttu-id="59d9e-142">Aanroepen werk die gaat worden weergegeven bij deze service en deze service wilt uitvoeren van de stappen voor die voortgang van de werkstroom en registreren.</span><span class="sxs-lookup"><span data-stu-id="59d9e-142">Calls representing work are going to show up to this service, and this service is going to execute the steps to that workflow and record progress.</span></span> 

<span data-ttu-id="59d9e-143">Hoe wilt u deze schaal bepaalde service maken</span><span class="sxs-lookup"><span data-stu-id="59d9e-143">How would you make this particular service scale?</span></span> <span data-ttu-id="59d9e-144">De service kan multitenant in een vorm en accepteert aanroepen en stappen voor veel verschillende exemplaren van dezelfde werkstroom in één keer starten.</span><span class="sxs-lookup"><span data-stu-id="59d9e-144">The service could be multi-tenant in some form, and accept calls and kick off steps for many different instances of the same workflow all at once.</span></span> <span data-ttu-id="59d9e-145">Dat kan nog wel de code complexere sinds nu deze te hoeven maken over veel verschillende exemplaren van dezelfde werkstroom allemaal in verschillende stadia en van verschillende klanten heeft.</span><span class="sxs-lookup"><span data-stu-id="59d9e-145">However, that can make the code more complex, since now it has to worry about many different instances of the same workflow, all at different stages and from different customers.</span></span> <span data-ttu-id="59d9e-146">Bovendien verwerken van meerdere werkstromen op hetzelfde moment het probleem oplost niet schaal.</span><span class="sxs-lookup"><span data-stu-id="59d9e-146">Also, handling multiple workflows at the same time doesn't solve the scale problem.</span></span> <span data-ttu-id="59d9e-147">Dit is omdat op een bepaald moment verbruikt deze service te veel bronnen om aan te passen op een bepaalde computer.</span><span class="sxs-lookup"><span data-stu-id="59d9e-147">This is because at some point this service will consume too many resources to fit on a particular machine.</span></span> <span data-ttu-id="59d9e-148">Veel services niet voor dit patroon is ingebouwd in eerste instantie ook problemen ondervindt als gevolg van sommige inherente knelpunt of vertraging in de code.</span><span class="sxs-lookup"><span data-stu-id="59d9e-148">Many services not built for this pattern in the first place also experience difficulty due to some inherent bottleneck or slowdown in their code.</span></span> <span data-ttu-id="59d9e-149">Dit soort problemen zorgen dat de service niet werken ook wanneer het aantal gelijktijdige werkstromen, die is het bijhouden van grotere opgehaald.</span><span class="sxs-lookup"><span data-stu-id="59d9e-149">These types of issues cause the service not to work as well when the number of concurrent workflows it is tracking gets larger.</span></span>  

<span data-ttu-id="59d9e-150">Er is een oplossing voor het maken van een exemplaar van deze service voor elk ander exemplaar van de werkstroom die u wilt traceren. Dit is een uitstekende patroon en of de service stateless of stateful is werkt.</span><span class="sxs-lookup"><span data-stu-id="59d9e-150">A solution is to create an instance of this service for every different instance of the workflow you want to track. This is a great pattern and works whether the service is stateless or stateful.</span></span> <span data-ttu-id="59d9e-151">Voor dit patroon werken, moet u er meestal een andere service die als een 'van Workload Manager-Service fungeert' is.</span><span class="sxs-lookup"><span data-stu-id="59d9e-151">For this pattern to work, there's usually another service that acts as a "Workload Manager Service".</span></span> <span data-ttu-id="59d9e-152">De taak van deze service is om aanvragen te ontvangen en te routeren die aanvragen bij andere services.</span><span class="sxs-lookup"><span data-stu-id="59d9e-152">The job of this service is to receive requests and to route those requests to other services.</span></span> <span data-ttu-id="59d9e-153">De manager kan een exemplaar van de service werkbelasting dynamisch maken wanneer het bericht wordt ontvangen en geeft u op aanvragen aan deze services.</span><span class="sxs-lookup"><span data-stu-id="59d9e-153">The manager can dynamically create an instance of the workload service when it receives the message, and then pass on requests to those services.</span></span> <span data-ttu-id="59d9e-154">De service manager kan ook retouraanroepen ontvangen wanneer een bepaalde workflow-service de taak is voltooid.</span><span class="sxs-lookup"><span data-stu-id="59d9e-154">The manager service could also receive callbacks when a given workflow service completes its job.</span></span> <span data-ttu-id="59d9e-155">Wanneer de manager de retouraanroepen ontvangt kan het verwijderen van dat exemplaar van de workflowservice of laat het als aanroepen meer verwacht.</span><span class="sxs-lookup"><span data-stu-id="59d9e-155">When the manager receives these callbacks it could delete that instance of the workflow service, or leave it if more calls are expected.</span></span> 

<span data-ttu-id="59d9e-156">Advanced-versie van dit type manager kunnen maken van toepassingen van de services die deze beheert.</span><span class="sxs-lookup"><span data-stu-id="59d9e-156">Advanced versions of this type of manager can even create pools of the services that it manages.</span></span> <span data-ttu-id="59d9e-157">De groep zorgt ervoor dat wanneer een nieuwe aanvraag afkomstig is deze heeft geen wachten tot de service met ronddraaien.</span><span class="sxs-lookup"><span data-stu-id="59d9e-157">The pool helps ensure that when a new request comes in it doesn't have to wait for the service to spin up.</span></span> <span data-ttu-id="59d9e-158">In plaats daarvan kan de manager alleen kiezen van een werkstroomservice die niet uit de groep is momenteel bezet of routeren willekeurig.</span><span class="sxs-lookup"><span data-stu-id="59d9e-158">Instead, the manager can just pick a workflow service that is not currently busy from the pool, or route randomly.</span></span> <span data-ttu-id="59d9e-159">Een pool van services beschikbaar te houden kunt u nieuwe aanvragen voor de verwerking sneller, omdat het minder waarschijnlijk dat de aanvraag bevat de wachttijd voor een nieuwe service moet worden ingezet.</span><span class="sxs-lookup"><span data-stu-id="59d9e-159">Keeping a pool of services available makes handling new requests faster, since it is less likely that the request has to wait for a new service to be spun up.</span></span> <span data-ttu-id="59d9e-160">Maken van nieuwe services is snel, maar niet beschikbaar of momentopname.</span><span class="sxs-lookup"><span data-stu-id="59d9e-160">Creating new services is quick, but not free or instantaneous.</span></span> <span data-ttu-id="59d9e-161">De groep helpt te beperken van de hoeveelheid tijd die de aanvraag moet worden gewacht voordat de in behandeling heeft.</span><span class="sxs-lookup"><span data-stu-id="59d9e-161">The pool helps minimize the amount of time the request has to wait before being serviced.</span></span> <span data-ttu-id="59d9e-162">Vaak ziet u deze manager en het patroon van de groep van toepassingen wanneer reactietijden maakt het meeste uit.</span><span class="sxs-lookup"><span data-stu-id="59d9e-162">You'll often see this manager and pool pattern when response times matter the most.</span></span> <span data-ttu-id="59d9e-163">De aanvraag Queuing en het maken van de service op de achtergrond en _vervolgens_ doorgeeft op is ook een patroon populaire manager is gemaakt en verwijderen van services op basis van bepaalde bijhouden van de hoeveelheid werk die service momenteel is in behandeling .</span><span class="sxs-lookup"><span data-stu-id="59d9e-163">Queuing the request and creating the service in the background and _then_ passing it on is also a popular manager pattern, as is creating and deleting services based on some tracking of the amount of work that service currently has pending.</span></span> 

## <a name="scaling-by-creating-or-removing-new-named-application-instances"></a><span data-ttu-id="59d9e-164">Schalen door te maken of te verwijderen, nieuwe exemplaren van een toepassing met de naam</span><span class="sxs-lookup"><span data-stu-id="59d9e-164">Scaling by creating or removing new named application instances</span></span>
<span data-ttu-id="59d9e-165">Maken en het verwijderen van de hele toepassingsexemplaren is vergelijkbaar met het patroon van het maken en -services verwijderen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-165">Creating and deleting whole application instances is similar to the pattern of creating and deleting services.</span></span> <span data-ttu-id="59d9e-166">Voor dit patroon is deel van de service manager die de beslissing op basis van de aanvragen die deze ziet en de informatie die dat het ontvangt van de andere services binnen het cluster te brengen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-166">For this pattern, there's some manager service that is making the decision based on the requests that it is seeing and the information it is receiving from the other services inside the cluster.</span></span> 

<span data-ttu-id="59d9e-167">Wanneer u een nieuw toepassingsexemplaar van de benoemde moet worden gebruikt in plaats van een nieuwe benoemde service-exemplaren in een reeds bestaande toepassingen maken?</span><span class="sxs-lookup"><span data-stu-id="59d9e-167">When should creating a new named application instance be used instead of creating a new named service instances in some already existing application?</span></span> <span data-ttu-id="59d9e-168">Er is een enkele gevallen:</span><span class="sxs-lookup"><span data-stu-id="59d9e-168">There's a few cases:</span></span>

  * <span data-ttu-id="59d9e-169">Het nieuwe toepassingsexemplaar is voor een klant waarvan de code moet worden uitgevoerd onder een bepaalde identiteit of beveiligingsinstellingen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-169">The new application instance is for a customer whose code needs to run under some particular identity or security settings.</span></span>
    * <span data-ttu-id="59d9e-170">Service Fabric Hiermee kunt u pakketten van andere code worden uitgevoerd onder een bepaalde identiteiten definiëren.</span><span class="sxs-lookup"><span data-stu-id="59d9e-170">Service Fabric allows defining different code packages to run under particular identities.</span></span> <span data-ttu-id="59d9e-171">Als u wilt starten van het codepakket met dezelfde onder verschillende id's moeten de activeringen optreden in exemplaren van een andere toepassing.</span><span class="sxs-lookup"><span data-stu-id="59d9e-171">In order to launch the same code package under different identities, the activations need to occur in different application instances.</span></span> <span data-ttu-id="59d9e-172">U kunt een aanvraag waarin het hebben van een bestaande klant werkbelastingen die zijn geïmplementeerd.</span><span class="sxs-lookup"><span data-stu-id="59d9e-172">Consider a case where you have an existing customer's workloads deployed.</span></span> <span data-ttu-id="59d9e-173">Deze kunnen worden uitgevoerd onder een bepaalde identiteit zodat u kunt bewaken en beheren van toegang krijgen tot andere resources, zoals externe databases of andere systemen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-173">These may be running under a particular identity so you can monitor and control their access to other resources, such as remote databases or other systems.</span></span> <span data-ttu-id="59d9e-174">In dit geval wanneer een nieuwe klant zich registreert u waarschijnlijk niet wilt dat de code in de context (procesruimte) activeren.</span><span class="sxs-lookup"><span data-stu-id="59d9e-174">In this case, when a new customer signs up, you probably don't want to activate their code in the same context (process space).</span></span> <span data-ttu-id="59d9e-175">Terwijl u kan wordt hierdoor het moeilijker voor uw servicecode binnen de context van een bepaalde identiteit.</span><span class="sxs-lookup"><span data-stu-id="59d9e-175">While you could, this makes it harder for your service code to act within the context of a particular identity.</span></span> <span data-ttu-id="59d9e-176">Normaal gesproken moet u meer beveiliging, isolatie- en identity management-code hebben.</span><span class="sxs-lookup"><span data-stu-id="59d9e-176">You typically must have more security, isolation, and identity management code.</span></span> <span data-ttu-id="59d9e-177">In plaats van een andere benoemde exemplaren van de service binnen hetzelfde toepassingsexemplaar en daarom wordt hetzelfde proces ruimte, kunt u verschillende benoemde exemplaren van Service Fabric-toepassing.</span><span class="sxs-lookup"><span data-stu-id="59d9e-177">Instead of using different named service instances within the same application instance and hence the same process space, you can use different named Service Fabric Application instances.</span></span> <span data-ttu-id="59d9e-178">Dit vergemakkelijkt het definiëren van de identiteit van de verschillende contexten.</span><span class="sxs-lookup"><span data-stu-id="59d9e-178">This makes it easier to define different identity contexts.</span></span>
  * <span data-ttu-id="59d9e-179">Het nieuwe toepassingsexemplaar fungeert ook als een middel van configuratie</span><span class="sxs-lookup"><span data-stu-id="59d9e-179">The new application instance also serves as a means of configuration</span></span>
    * <span data-ttu-id="59d9e-180">Standaard wordt alle van de benoemde service-exemplaren van een bepaalde servicetype in een toepassingsexemplaar in hetzelfde proces uitgevoerd op een bepaald knooppunt.</span><span class="sxs-lookup"><span data-stu-id="59d9e-180">By default, all of the named service instances of a particular service type within an application instance will run in the same process on a given node.</span></span> <span data-ttu-id="59d9e-181">Dit betekent dat terwijl u elk service-exemplaar anders configureren kunt, orde ingewikkeld is.</span><span class="sxs-lookup"><span data-stu-id="59d9e-181">What this means is that while you can configure each service instance differently, doing so is complicated.</span></span> <span data-ttu-id="59d9e-182">Sommige token die ze gebruiken voor het opzoeken van hun config binnen een configuratiepakket hebben.</span><span class="sxs-lookup"><span data-stu-id="59d9e-182">Services must have some token they use to look up their config within a configuration package.</span></span> <span data-ttu-id="59d9e-183">Meestal is dit alleen de naam van de service.</span><span class="sxs-lookup"><span data-stu-id="59d9e-183">Usually this is just the service's name.</span></span> <span data-ttu-id="59d9e-184">Dit werkt prima, maar de configuratie van de namen van de afzonderlijke benoemde service-exemplaren binnen het toepassingsexemplaar van deze worden gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="59d9e-184">This works fine, but it couples the configuration to the names of the individual named service instances within that application instance.</span></span> <span data-ttu-id="59d9e-185">Dit kan verwarrend en moeilijk te beheren omdat de configuratie normaal gesproken een artefact ontwerp tijd met specifieke waarden van toepassing exemplaar is zijn.</span><span class="sxs-lookup"><span data-stu-id="59d9e-185">This can be confusing and hard to manage since configuration is normally a design time artifact with application instance specific values.</span></span> <span data-ttu-id="59d9e-186">Meer services maakt altijd, meer toepassingsupgrades om de informatie in de config-pakketten te wijzigen of nieuwe te implementeren, zodat de nieuwe services kunnen worden opgezocht hun specifieke informatie.</span><span class="sxs-lookup"><span data-stu-id="59d9e-186">Creating more services always means more application upgrades to change the information within the config packages or to deploy new ones so that the new services can look up their specific information.</span></span> <span data-ttu-id="59d9e-187">Het is vaak gemakkelijker te maken van een geheel nieuw benoemde exemplaar.</span><span class="sxs-lookup"><span data-stu-id="59d9e-187">It's often easier to create a whole new named application instance.</span></span> <span data-ttu-id="59d9e-188">Vervolgens kunt u de parameters voor de toepassing in te stellen welke configuratie is noodzakelijk voor de services.</span><span class="sxs-lookup"><span data-stu-id="59d9e-188">Then you can use the application parameters to set whatever configuration is necessary for the services.</span></span> <span data-ttu-id="59d9e-189">Op deze manier alle services die in die zijn gemaakt met de naam toepassingsexemplaar kan bepaalde configuratie-instellingen overnemen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-189">This way all of the services that are created within that named application instance can inherit particular configuration settings.</span></span> <span data-ttu-id="59d9e-190">Bijvoorbeeld, in plaats van een enkel configuratiebestand met de instellingen en aanpassingen voor elke klant, zoals geheimen of per klant limieten, hebt in plaats daarvan u een exemplaar van de verschillende groepen van toepassingen voor elke klant met deze instellingen overschreven.</span><span class="sxs-lookup"><span data-stu-id="59d9e-190">For example, instead of having a single configuration file with the settings and customizations for every customer, such as secrets or per customer resource limits, you'd instead have a different application instance for each customer with these settings overridden.</span></span> 
  * <span data-ttu-id="59d9e-191">De nieuwe toepassing fungeert als een grens voor upgrade</span><span class="sxs-lookup"><span data-stu-id="59d9e-191">The new application serves as an upgrade boundary</span></span>
    * <span data-ttu-id="59d9e-192">In Service Fabric fungeren exemplaren van een andere benoemde toepassing als grenzen voor de upgrade.</span><span class="sxs-lookup"><span data-stu-id="59d9e-192">Within Service Fabric, different named application instances serve as boundaries for upgrade.</span></span> <span data-ttu-id="59d9e-193">Een upgrade van een benoemd exemplaar heeft geen invloed op de code die een ander toepassingsexemplaar van de benoemde wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="59d9e-193">An upgrade of one named application instance will not impact the code that another named application instance is running.</span></span> <span data-ttu-id="59d9e-194">De verschillende toepassingen uiteindelijk verschillende versies van dezelfde code wordt uitgevoerd op de dezelfde knooppunten.</span><span class="sxs-lookup"><span data-stu-id="59d9e-194">The different applications will end up running different versions of the same code on the same nodes.</span></span> <span data-ttu-id="59d9e-195">Dit kan een factor zijn wanneer u een beslissing vergroten/verkleinen moet omdat u kiezen kunt of de nieuwe code met de dezelfde upgrades als een andere service of niet volgen moet.</span><span class="sxs-lookup"><span data-stu-id="59d9e-195">This can be a factor when you need to make a scaling decision because you can choose whether the new code should follow the same upgrades as another service or not.</span></span> <span data-ttu-id="59d9e-196">Stel dat een aanroep van de manager-service die verantwoordelijk is voor het schalen van een bepaalde klant werkbelastingen door te maken en verwijderen van services dynamisch aankomt.</span><span class="sxs-lookup"><span data-stu-id="59d9e-196">For example, say that a call arrives at the manager service that is responsible for scaling a particular customer's workloads by creating and deleting services dynamically.</span></span> <span data-ttu-id="59d9e-197">In dit geval de aanroep is echter voor een werkbelasting die is gekoppeld aan een _nieuwe_ klant.</span><span class="sxs-lookup"><span data-stu-id="59d9e-197">In this case however, the call is for a workload associated with a _new_ customer.</span></span> <span data-ttu-id="59d9e-198">De meeste klanten dat ze niet alleen omwille van de beveiliging en configuratie van elkaar zijn afgezonderd dat eerder is vermeld, maar omdat deze biedt meer flexibiliteit in termen van met een specifieke versie van de software en kiezen wanneer ze ophalen bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="59d9e-198">Most customers like being isolated from each other not just for the security and configuration reasons listed previously, but because it provides more flexibility in terms of running specific versions of the software and choosing when they get upgraded.</span></span> <span data-ttu-id="59d9e-199">U kunt ook een nieuw exemplaar van de toepassing en het bedrag van de services die elk één upgrade blijven maken van de service er gewoon aan verdere partitie.</span><span class="sxs-lookup"><span data-stu-id="59d9e-199">You may also create a new application instance and create the service there simply to further partition the amount of your services that any one upgrade will touch.</span></span> <span data-ttu-id="59d9e-200">Exemplaren van een afzonderlijke toepassing groter granulariteit bieden bij het uitvoeren van toepassingsupgrades en ook inschakelen A / B-tests en blauw/groen-implementaties.</span><span class="sxs-lookup"><span data-stu-id="59d9e-200">Separate application instances provide greater granularity when doing application upgrades, and also enable A/B testing and Blue/Green deployments.</span></span> 
  * <span data-ttu-id="59d9e-201">Het bestaande toepassingsexemplaar is vol</span><span class="sxs-lookup"><span data-stu-id="59d9e-201">The existing application instance is full</span></span>
    * <span data-ttu-id="59d9e-202">In Service Fabric [toepassing capaciteit](service-fabric-cluster-resource-manager-application-groups.md) een concept is die u gebruiken kunt om te bepalen welke resources beschikbaar voor exemplaren van een bepaalde toepassing.</span><span class="sxs-lookup"><span data-stu-id="59d9e-202">In Service Fabric, [application capacity](service-fabric-cluster-resource-manager-application-groups.md) is a concept that you can use to control the amount of resources available for particular application instances.</span></span> <span data-ttu-id="59d9e-203">U kunt bijvoorbeeld besluiten dat een bepaalde service moet zijn van een ander exemplaar gemaakt om te schalen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-203">For example, you may decide that a given service needs to have another instance created in order to scale.</span></span> <span data-ttu-id="59d9e-204">Dit toepassingsexemplaar valt echter buiten capaciteit voor een bepaalde waarde.</span><span class="sxs-lookup"><span data-stu-id="59d9e-204">However, this application instance is out of capacity for a certain metric.</span></span> <span data-ttu-id="59d9e-205">Als deze specifieke klant of de werkbelasting moet nog steeds worden toegekend meer resources, kan klikt u vergroot de capaciteit van de bestaande voor die toepassing of een nieuwe toepassing maken.</span><span class="sxs-lookup"><span data-stu-id="59d9e-205">If this particular customer or workload should still be granted more resources, then you could either increase the existing capacity for that application or create a new application.</span></span> 

## <a name="scaling-at-the-partition-level"></a><span data-ttu-id="59d9e-206">Schalen op het niveau van de partitie</span><span class="sxs-lookup"><span data-stu-id="59d9e-206">Scaling at the partition level</span></span>
<span data-ttu-id="59d9e-207">Service Fabric ondersteunt partitionering.</span><span class="sxs-lookup"><span data-stu-id="59d9e-207">Service Fabric supports partitioning.</span></span> <span data-ttu-id="59d9e-208">Partitioneren van splitst een service in meerdere logische en fysieke secties, die elk onafhankelijk werkt.</span><span class="sxs-lookup"><span data-stu-id="59d9e-208">Partitioning splits a service into several logical and physical sections, each of which operates independently.</span></span> <span data-ttu-id="59d9e-209">Dit is handig voor stateful services, omdat er geen ingesteld van replica's heeft verwerkt alle aanroepen en alle van de status tegelijk bewerken.</span><span class="sxs-lookup"><span data-stu-id="59d9e-209">This is useful with stateful services, since no one set of replicas has to handle all the calls and manipulate all of the state at once.</span></span> <span data-ttu-id="59d9e-210">De [overzicht partitioneren](service-fabric-concepts-partitioning.md) bevat informatie over de soorten partitionering schema's die worden ondersteund.</span><span class="sxs-lookup"><span data-stu-id="59d9e-210">The [partitioning overview](service-fabric-concepts-partitioning.md) provides information on the types of partitioning schemes that are supported.</span></span> <span data-ttu-id="59d9e-211">De replica's van elke partitie worden verdeeld over de knooppunten in een cluster, het distribueren van die service laden en ervoor te zorgen dat geen van beide de service als geheel of elke partitie een potentieel risico heeft.</span><span class="sxs-lookup"><span data-stu-id="59d9e-211">The replicas of each partition are spread across the nodes in a cluster, distributing that service's load and ensuring that neither the service as a whole or any partition has a single point of failure.</span></span> 

<span data-ttu-id="59d9e-212">Houd rekening met een service die gebruikmaakt van een ranged partitieschema met een lage sleutel van 0, een hoge sleutel 99, en een aantal partities van 4.</span><span class="sxs-lookup"><span data-stu-id="59d9e-212">Consider a service that uses a ranged partitioning scheme with a low key of 0, a high key of 99, and a partition count of 4.</span></span> <span data-ttu-id="59d9e-213">In een cluster met drie knooppunten, kan de service worden ingedeeld met vier replica's die de bronnen op elk knooppunt delen, zoals hier wordt weergegeven:</span><span class="sxs-lookup"><span data-stu-id="59d9e-213">In a three-node cluster, the service might be laid out with four replicas that share the resources on each node as shown here:</span></span>

<span data-ttu-id="59d9e-214"><center>
![Partitie-indeling met drie knooppunten](./media/service-fabric-concepts-scalability/layout-three-nodes.png)
</center></span><span class="sxs-lookup"><span data-stu-id="59d9e-214"><center>
![Partition layout with three nodes](./media/service-fabric-concepts-scalability/layout-three-nodes.png)
</center></span></span>

<span data-ttu-id="59d9e-215">Als u het aantal knooppunten verhoogt, wordt het Service Fabric enkele van de bestaande replica's er verplaatsen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-215">If you increase the number of nodes, Service Fabric will move some of the existing replicas there.</span></span> <span data-ttu-id="59d9e-216">Bijvoorbeeld, gaan we dat het aantal knooppunten toeneemt tot vier en de replica's ophalen opnieuw gedistribueerd.</span><span class="sxs-lookup"><span data-stu-id="59d9e-216">For example, let's say the number of nodes increases to four and the replicas get redistributed.</span></span> <span data-ttu-id="59d9e-217">De service heeft nu nu drie replica's die worden uitgevoerd op elk knooppunt elk die behoren tot verschillende partities.</span><span class="sxs-lookup"><span data-stu-id="59d9e-217">Now the service now has three replicas running on each node, each belonging to different partitions.</span></span> <span data-ttu-id="59d9e-218">Hiermee kunt beter brongebruik omdat het nieuwe knooppunt wordt niet koude.</span><span class="sxs-lookup"><span data-stu-id="59d9e-218">This allows better resource utilization since the new node isn't cold.</span></span> <span data-ttu-id="59d9e-219">Normaal gesproken ook verbetert de prestaties als elke service meer beschikbare bronnen heeft.</span><span class="sxs-lookup"><span data-stu-id="59d9e-219">Typically, it also improves performance as each service has more resources available to it.</span></span>

<span data-ttu-id="59d9e-220"><center>
![Partitie-indeling met vier knooppunten](./media/service-fabric-concepts-scalability/layout-four-nodes.png)
</center></span><span class="sxs-lookup"><span data-stu-id="59d9e-220"><center>
![Partition layout with four nodes](./media/service-fabric-concepts-scalability/layout-four-nodes.png)
</center></span></span>

## <a name="scaling-by-using-the-service-fabric-cluster-resource-manager-and-metrics"></a><span data-ttu-id="59d9e-221">Schalen met behulp van de Service Fabric-Cluster Resource Manager en metrische gegevens</span><span class="sxs-lookup"><span data-stu-id="59d9e-221">Scaling by using the Service Fabric Cluster Resource Manager and metrics</span></span>
<span data-ttu-id="59d9e-222">[Metrische gegevens](service-fabric-cluster-resource-manager-metrics.md) hoe services hun brongebruik naar Service Fabric express zijn.</span><span class="sxs-lookup"><span data-stu-id="59d9e-222">[Metrics](service-fabric-cluster-resource-manager-metrics.md) are how services express their resource consumption to Service Fabric.</span></span> <span data-ttu-id="59d9e-223">Met metrische gegevens, geeft de Cluster Resource Manager een kans opnieuw indelen en optimaliseren van de indeling van het cluster.</span><span class="sxs-lookup"><span data-stu-id="59d9e-223">Using metrics gives the Cluster Resource Manager an opportunity to reorganize and optimize the layout of the cluster.</span></span> <span data-ttu-id="59d9e-224">Bijvoorbeeld, kunnen er voldoende bronnen in het cluster, maar ze kunnen niet worden toegewezen aan de services die momenteel werk doen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-224">For example, there may be plenty of resources in the cluster, but they might not be allocated to the services that are currently doing work.</span></span> <span data-ttu-id="59d9e-225">Met metrische gegevens, kunt de Cluster Resource Manager opnieuw indelen van het cluster om ervoor te zorgen dat services toegang tot de beschikbare bronnen hebben.</span><span class="sxs-lookup"><span data-stu-id="59d9e-225">Using metrics allows the Cluster Resource Manager to reorganize the cluster to ensure that services have access to the available resources.</span></span> 


## <a name="scaling-by-adding-and-removing-nodes-from-the-cluster"></a><span data-ttu-id="59d9e-226">Schalen door toe te voegen en knooppunten verwijderen uit het cluster</span><span class="sxs-lookup"><span data-stu-id="59d9e-226">Scaling by adding and removing nodes from the cluster</span></span> 
<span data-ttu-id="59d9e-227">Er is een andere optie voor schaling mogelijk met Service Fabric om de grootte van het cluster te wijzigen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-227">Another option for scaling with Service Fabric is to change the size of the cluster.</span></span> <span data-ttu-id="59d9e-228">Het wijzigen van de grootte van het cluster betekent toevoegen of verwijderen van knooppunten voor een of meer van de knooppunttypen in het cluster.</span><span class="sxs-lookup"><span data-stu-id="59d9e-228">Changing the size of the cluster means adding or removing nodes for one or more of the node types in the cluster.</span></span> <span data-ttu-id="59d9e-229">Neem bijvoorbeeld een aanvraag waarin alle knooppunten in het cluster hot zijn.</span><span class="sxs-lookup"><span data-stu-id="59d9e-229">For example, consider a case where all of the nodes in the cluster are hot.</span></span> <span data-ttu-id="59d9e-230">Dit betekent dat de cluster-resources bijna alle verbruikt zijn.</span><span class="sxs-lookup"><span data-stu-id="59d9e-230">This means that the cluster's resources are almost all consumed.</span></span> <span data-ttu-id="59d9e-231">In dit geval meer knooppunten toevoegen aan het cluster is de beste manier om te schalen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-231">In this case, adding more nodes to the cluster is the best way to scale.</span></span> <span data-ttu-id="59d9e-232">Zodra nieuwe knooppunten toegevoegd aan het cluster de resourcebeheer voor Service Fabric-Cluster wordt verplaatst services, wat resulteert in minder totale belasting van de bestaande knooppunten.</span><span class="sxs-lookup"><span data-stu-id="59d9e-232">Once the new nodes join the cluster the Service Fabric Cluster Resource Manager moves services to them, resulting in less total load on the existing nodes.</span></span> <span data-ttu-id="59d9e-233">Voor stateless services met het aantal exemplaren =-1, meer service exemplaren automatisch worden gemaakt.</span><span class="sxs-lookup"><span data-stu-id="59d9e-233">For stateless services with instance count = -1, more service instances are automatically created.</span></span> <span data-ttu-id="59d9e-234">Hierdoor kunnen sommige aanroepen van de bestaande knooppunten naar de nieuwe knooppunten verplaatsen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-234">This allows some calls to move from the existing nodes to the new nodes.</span></span> 

<span data-ttu-id="59d9e-235">Toevoegen en verwijderen van knooppunten aan het cluster kunnen worden geconfigureerd via de Service Fabric Azure Resource Manager PowerShell-module.</span><span class="sxs-lookup"><span data-stu-id="59d9e-235">Adding and removing nodes to the cluster can be accomplished via the Service Fabric Azure Resource Manager PowerShell module.</span></span>

```posh
Add-AzureRmServiceFabricNode -ResourceGroupName $resourceGroupName -Name $clusterResourceName -NodeType $nodeTypeName  -NumberOfNodesToAdd 5 
Remove-AzureRmServiceFabricNode -ResourceGroupName $resourceGroupName -Name $clusterResourceName -NodeType $nodeTypeName -NumberOfNodesToRemove 5
```

## <a name="putting-it-all-together"></a><span data-ttu-id="59d9e-236">Kort samengevat</span><span class="sxs-lookup"><span data-stu-id="59d9e-236">Putting it all together</span></span>
<span data-ttu-id="59d9e-237">Laten we de ideeën die we hier besproken en communiceren via een voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="59d9e-237">Let's take all the ideas that we've discussed here and talk through an example.</span></span> <span data-ttu-id="59d9e-238">Houd rekening met de volgende service: u probeert te maken van een service die als een adresboek naar namen fungeert op te houden en contactgegevens.</span><span class="sxs-lookup"><span data-stu-id="59d9e-238">Consider the following service: you are trying to build a service that acts as an address book, holding on to names and contact information.</span></span> 

<span data-ttu-id="59d9e-239">Rechts vooraf hebt u een aantal vragen met betrekking tot schaal: hoeveel gebruikers gaat u hebben?</span><span class="sxs-lookup"><span data-stu-id="59d9e-239">Right up front you have a bunch of questions related to scale: How many users are you going to have?</span></span> <span data-ttu-id="59d9e-240">Hoeveel contactpersonen slaat elke gebruiker?</span><span class="sxs-lookup"><span data-stu-id="59d9e-240">How many contacts will each user store?</span></span> <span data-ttu-id="59d9e-241">Wilt dit allemaal uit afbeelding is wanneer u dat de service voor het eerst permanent moeilijk.</span><span class="sxs-lookup"><span data-stu-id="59d9e-241">Trying to figure this all out when you are standing up your service for the first time is difficult.</span></span> <span data-ttu-id="59d9e-242">Stel dat u wilt gaan met een enkele statische service met een specifieke partitie telling.</span><span class="sxs-lookup"><span data-stu-id="59d9e-242">Let's say you were going to go with a single static service with a specific partition count.</span></span> <span data-ttu-id="59d9e-243">De gevolgen van het aantal partities verkeerde verzamelen kunnen ervoor zorgen dat u later scale problemen hebben.</span><span class="sxs-lookup"><span data-stu-id="59d9e-243">The consequences of picking the wrong partition count could cause you to have scale issues later.</span></span> <span data-ttu-id="59d9e-244">Op dezelfde manier, zelfs als u het juiste aantal u geen hebt mogelijk kiest alle informatie moet u.</span><span class="sxs-lookup"><span data-stu-id="59d9e-244">Similarly, even if you pick the right count you might not have all the information you need.</span></span> <span data-ttu-id="59d9e-245">Bijvoorbeeld, hebt u ook om te bepalen van de grootte van het cluster vooraf, zowel op het gebied van het aantal knooppunten en de grootte.</span><span class="sxs-lookup"><span data-stu-id="59d9e-245">For example, you also have to decide the size of the cluster up front, both in terms of the number of nodes and their sizes.</span></span> <span data-ttu-id="59d9e-246">Het is doorgaans moeilijk te voorspellen, hoeveel resources een service wilt gebruiken tijdens zijn levensduur.</span><span class="sxs-lookup"><span data-stu-id="59d9e-246">It's usually hard to predict how many resources a service is going to consume over its lifetime.</span></span> <span data-ttu-id="59d9e-247">Het kan ook zijn moeilijk te weten tevoren het verkeer patroon dat de service daadwerkelijk ziet.</span><span class="sxs-lookup"><span data-stu-id="59d9e-247">It can also be hard to know ahead of time the traffic pattern that the service actually sees.</span></span> <span data-ttu-id="59d9e-248">Zo mogelijk gebruikers toevoegen en verwijderen van hun contactpersonen alleen eerst te beginnen in de ochtend of mogelijk deze wordt evenredig verdeeld in de loop van de dag.</span><span class="sxs-lookup"><span data-stu-id="59d9e-248">For example, maybe people add and remove their contacts only first thing in the morning, or maybe it's distributed evenly over the course of the day.</span></span> <span data-ttu-id="59d9e-249">Op basis hiervan u dynamisch moet mogelijk en schalen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-249">Based on this you might need to scale out and in dynamically.</span></span> <span data-ttu-id="59d9e-250">Mogelijk vindt u meer te voorspellen wanneer u moeten gaat worden uit- en uitgebreid, maar in beide gevallen u waarschijnlijk gaat nodig hebt om te reageren op het brongebruik wijzigen door de service.</span><span class="sxs-lookup"><span data-stu-id="59d9e-250">Maybe you can learn to predict when you're going to need to scale out and in, but either way you're probably going to need to react to changing resource consumption by your service.</span></span> <span data-ttu-id="59d9e-251">Dit kan betrekking hebben op het wijzigen van de grootte van het cluster om te kunnen bieden meer bronnen bij het gebruik van bestaande resources opnieuw indelen niet voldoende.</span><span class="sxs-lookup"><span data-stu-id="59d9e-251">This can involve changing the size of the cluster in order to provide more resources when reorganizing use of existing resources isn't enough.</span></span> 

<span data-ttu-id="59d9e-252">Maar waarom zelfs probeer naar een enkele partitieschema pikken voor alle gebruikers?</span><span class="sxs-lookup"><span data-stu-id="59d9e-252">But why even try to pick a single partition scheme out for all users?</span></span> <span data-ttu-id="59d9e-253">Waarom zelf beperken tot een service en een statische cluster?</span><span class="sxs-lookup"><span data-stu-id="59d9e-253">Why limit yourself to one service and one static cluster?</span></span> <span data-ttu-id="59d9e-254">De werkelijke situatie is meestal meer dynamische.</span><span class="sxs-lookup"><span data-stu-id="59d9e-254">The real situation is usually more dynamic.</span></span> 

<span data-ttu-id="59d9e-255">Wanneer u voor schaal, houd rekening met het volgende patroon voor dynamische.</span><span class="sxs-lookup"><span data-stu-id="59d9e-255">When building for scale, consider the following dynamic pattern.</span></span> <span data-ttu-id="59d9e-256">Mogelijk moet u deze aanpassen aan uw situatie:</span><span class="sxs-lookup"><span data-stu-id="59d9e-256">You may need to adapt it to your situation:</span></span>

1. <span data-ttu-id="59d9e-257">In plaats van een partitieschema voor iedereen vooraf verzamelen, bouwt u een 'manager-service'.</span><span class="sxs-lookup"><span data-stu-id="59d9e-257">Instead of trying to pick a partitioning scheme for everyone up front, build a "manager service".</span></span>
2. <span data-ttu-id="59d9e-258">De taak van de service manager is om te kijken naar klantgegevens wanneer ze zich registreren voor uw service.</span><span class="sxs-lookup"><span data-stu-id="59d9e-258">The job of the manager service is to look at customer information when they sign up for your service.</span></span> <span data-ttu-id="59d9e-259">Vervolgens, afhankelijk van de informatie die de service manager geen exemplaar maken van uw _werkelijke_ Neem contact op met storage-service _alleen voor die klant_.</span><span class="sxs-lookup"><span data-stu-id="59d9e-259">Then depending on that information the manager service create an instance of your _actual_ contact-storage service _just for that customer_.</span></span> <span data-ttu-id="59d9e-260">Als ze specifieke configuratie-, isolatie- of upgrades vereist, kunt u ook bepalen met ronddraaien van instantie van een toepassing voor de klant.</span><span class="sxs-lookup"><span data-stu-id="59d9e-260">If they require particular configuration, isolation, or upgrades, you can also decide to spin up an Application instance for this customer.</span></span> 

<span data-ttu-id="59d9e-261">Het maken van deze dynamische patroon veel voordelen:</span><span class="sxs-lookup"><span data-stu-id="59d9e-261">This dynamic creation pattern many benefits:</span></span>

  - <span data-ttu-id="59d9e-262">U probeert niet te raden het aantal juiste partities voor alle gebruikers van tevoren of een service waarmee is oneindig schaalbare allemaal op een eigen bouwen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-262">You're not trying to guess the correct partition count for all users up front or build a single service that is infinitely scalable all on its own.</span></span> 
  - <span data-ttu-id="59d9e-263">Andere gebruikers hebben geen hebben de dezelfde partitie aantal, aantal replica's, plaatsingsbeperkingen, metrische gegevens, standaard laadt, servicenamen, DNS-instellingen of een van de andere eigenschappen die zijn opgegeven op het niveau van de service of toepassing.</span><span class="sxs-lookup"><span data-stu-id="59d9e-263">Different users don't have to have the same partition count, replica count, placement constraints, metrics, default loads, service names, dns settings, or any of the other properties specified at the service or application level.</span></span> 
  - <span data-ttu-id="59d9e-264">Krijgt u extra gegevens segmentering.</span><span class="sxs-lookup"><span data-stu-id="59d9e-264">You gain additional data segmentation.</span></span> <span data-ttu-id="59d9e-265">Elke klant heeft een eigen kopie van de service</span><span class="sxs-lookup"><span data-stu-id="59d9e-265">Each customer has their own copy of the service</span></span>
    - <span data-ttu-id="59d9e-266">Elke klantenservice worden anders geconfigureerd en meer of minder bronnen, met meer of minder partities of replica's zo nodig op basis van hun verwachte schaal verleend.</span><span class="sxs-lookup"><span data-stu-id="59d9e-266">Each customer service can be configured differently and granted more or fewer resources, with more or fewer partitions or replicas as necessary based on their expected scale.</span></span>
      - <span data-ttu-id="59d9e-267">Bijvoorbeeld aannemen dat de klant betaald voor de laag 'Gold' - kunnen krijgen ze meer replica's of groter aantal van de partities en mogelijk resources toegewezen aan hun services via de capaciteit van metrische gegevens en toepassingen.</span><span class="sxs-lookup"><span data-stu-id="59d9e-267">For example, say the customer paid for the "Gold" tier - they could get more replicas or greater partition count, and potentially resources dedicated to their services via metrics and application capacities.</span></span>
      - <span data-ttu-id="59d9e-268">Of spreken die zijn opgegeven informatie geeft het aantal contacten die deze nodig is 'Klein' - ze krijgt alleen enkele partities of zelfs in een pool gedeelde service met andere klanten kunnen worden geplaatst.</span><span class="sxs-lookup"><span data-stu-id="59d9e-268">Or say they provided information indicating the number of contacts they needed was "Small" - they would get only a few partitions, or could even be put into a shared service pool with other customers.</span></span>
  - <span data-ttu-id="59d9e-269">Een aantal service-exemplaren of replica's zijn niet worden uitgevoerd terwijl u wacht voor klanten om te worden weergegeven</span><span class="sxs-lookup"><span data-stu-id="59d9e-269">You're not running a bunch of service instances or replicas while you're waiting for customers to show up</span></span>
  - <span data-ttu-id="59d9e-270">Als een klant ooit verlaat, is hun gegevens van uw service verwijderen net zo eenvoudig als bestanden met de manager verwijderen die service of toepassing dat is gemaakt.</span><span class="sxs-lookup"><span data-stu-id="59d9e-270">If a customer ever leaves, then removing their information from your service is as simple as having the manager delete that service or application that it created.</span></span>

## <a name="next-steps"></a><span data-ttu-id="59d9e-271">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="59d9e-271">Next steps</span></span>
<span data-ttu-id="59d9e-272">Zie de volgende artikelen voor meer informatie over Service Fabric-concepten:</span><span class="sxs-lookup"><span data-stu-id="59d9e-272">For more information on Service Fabric concepts, see the following articles:</span></span>

* [<span data-ttu-id="59d9e-273">Beschikbaarheid van Service Fabric-services</span><span class="sxs-lookup"><span data-stu-id="59d9e-273">Availability of Service Fabric services</span></span>](service-fabric-availability-services.md)
* [<span data-ttu-id="59d9e-274">Partitionering Service Fabric-services</span><span class="sxs-lookup"><span data-stu-id="59d9e-274">Partitioning Service Fabric services</span></span>](service-fabric-concepts-partitioning.md)
