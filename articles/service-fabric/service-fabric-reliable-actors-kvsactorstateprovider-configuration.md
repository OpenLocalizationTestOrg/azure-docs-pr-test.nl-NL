---
title: Wijzig de instellingen in Azure microservices KVSActorStateProvider | Microsoft Docs
description: Meer informatie over het configureren van stateful actoren van het type KVSActorStateProvider Azure Service Fabric.
services: Service-Fabric
documentationcenter: .net
author: sumukhs
manager: timlt
editor: 
ms.assetid: dbed72f4-dda5-4287-bd56-da492710cd96
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 6/29/2017
ms.author: sumukhs
ms.openlocfilehash: 2af1d21a46cde5ba63c967461a1835b5e34ca3cc
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/11/2017
---
# <a name="configuring-reliable-actors--kvsactorstateprovider"></a><span data-ttu-id="ee68c-103">Reliable Actors--KVSActorStateProvider configureren</span><span class="sxs-lookup"><span data-stu-id="ee68c-103">Configuring Reliable Actors--KVSActorStateProvider</span></span>
<span data-ttu-id="ee68c-104">U kunt de standaardconfiguratie van KVSActorStateProvider wijzigen door het bestand settings.xml die wordt gegenereerd in de hoofdmap van het pakket Microsoft Visual Studio onder de map configuratie voor de opgegeven actor wordt gewijzigd.</span><span class="sxs-lookup"><span data-stu-id="ee68c-104">You can modify the default configuration of KVSActorStateProvider by changing the settings.xml file that is generated in the Microsoft Visual Studio package root under the Config folder for the specified actor.</span></span>

<span data-ttu-id="ee68c-105">De Azure Service Fabric-runtime gezocht naar vooraf gedefinieerde sectienamen in het bestand settings.xml en de configuratiewaarden verbruikt tijdens het maken van de onderliggende runtimeonderdelen.</span><span class="sxs-lookup"><span data-stu-id="ee68c-105">The Azure Service Fabric runtime looks for predefined section names in the settings.xml file and consumes the configuration values while creating the underlying runtime components.</span></span>

> [!NOTE]
> <span data-ttu-id="ee68c-106">Voer **niet** verwijderen of wijzigen van de namen van de volgende configuraties in het settings.xml-bestand dat wordt gegenereerd in de Visual Studio-oplossing.</span><span class="sxs-lookup"><span data-stu-id="ee68c-106">Do **not** delete or modify the section names of the following configurations in the settings.xml file that is generated in the Visual Studio solution.</span></span>
> 
> 

## <a name="replicator-security-configuration"></a><span data-ttu-id="ee68c-107">Replicator Beveiligingsconfiguratie</span><span class="sxs-lookup"><span data-stu-id="ee68c-107">Replicator security configuration</span></span>
<span data-ttu-id="ee68c-108">Beveilig het communicatiekanaal dat wordt gebruikt tijdens de replicatie worden beveiligingsconfiguraties Replicator gebruikt.</span><span class="sxs-lookup"><span data-stu-id="ee68c-108">Replicator security configurations are used to secure the communication channel that is used during replication.</span></span> <span data-ttu-id="ee68c-109">Dit betekent dat services elkaars replicatieverkeer, om te garanderen dat de gegevens die maximaal beschikbaar is ook beveiligde kunnen niet zien.</span><span class="sxs-lookup"><span data-stu-id="ee68c-109">This means that services cannot see each other's replication traffic, ensuring that the data that is made highly available is also secure.</span></span>
<span data-ttu-id="ee68c-110">Standaard wordt een lege beveiligingsconfiguratiesectie voorkomen dat replicatiebeveiliging.</span><span class="sxs-lookup"><span data-stu-id="ee68c-110">By default, an empty security configuration section prevents replication security.</span></span>

### <a name="section-name"></a><span data-ttu-id="ee68c-111">De sectienaam van de</span><span class="sxs-lookup"><span data-stu-id="ee68c-111">Section name</span></span>
<span data-ttu-id="ee68c-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span><span class="sxs-lookup"><span data-stu-id="ee68c-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span></span>

## <a name="replicator-configuration"></a><span data-ttu-id="ee68c-113">Configuratie van de Replicator</span><span class="sxs-lookup"><span data-stu-id="ee68c-113">Replicator configuration</span></span>
<span data-ttu-id="ee68c-114">Replicator configuraties configureren de replicator die verantwoordelijk is voor het maken van de status van de Actor State-Provider uiterst betrouwbaar.</span><span class="sxs-lookup"><span data-stu-id="ee68c-114">Replicator configurations configure the replicator that is responsible for making the Actor State Provider state highly reliable.</span></span>
<span data-ttu-id="ee68c-115">De standaardconfiguratie wordt gegenereerd door de sjabloon voor Visual Studio en moet voldoende zijn.</span><span class="sxs-lookup"><span data-stu-id="ee68c-115">The default configuration is generated by the Visual Studio template and should suffice.</span></span> <span data-ttu-id="ee68c-116">Deze sectie wordt gesproken over aanvullende configuraties die beschikbaar zijn voor het afstemmen van de replicator.</span><span class="sxs-lookup"><span data-stu-id="ee68c-116">This section talks about additional configurations that are available to tune the replicator.</span></span>

### <a name="section-name"></a><span data-ttu-id="ee68c-117">De sectienaam van de</span><span class="sxs-lookup"><span data-stu-id="ee68c-117">Section name</span></span>
<span data-ttu-id="ee68c-118">&lt;ActorName&gt;ServiceReplicatorConfig</span><span class="sxs-lookup"><span data-stu-id="ee68c-118">&lt;ActorName&gt;ServiceReplicatorConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="ee68c-119">Configuratienamen</span><span class="sxs-lookup"><span data-stu-id="ee68c-119">Configuration names</span></span>
| <span data-ttu-id="ee68c-120">Naam</span><span class="sxs-lookup"><span data-stu-id="ee68c-120">Name</span></span> | <span data-ttu-id="ee68c-121">Eenheid</span><span class="sxs-lookup"><span data-stu-id="ee68c-121">Unit</span></span> | <span data-ttu-id="ee68c-122">Standaardwaarde</span><span class="sxs-lookup"><span data-stu-id="ee68c-122">Default value</span></span> | <span data-ttu-id="ee68c-123">Opmerkingen</span><span class="sxs-lookup"><span data-stu-id="ee68c-123">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="ee68c-124">BatchAcknowledgementInterval</span><span class="sxs-lookup"><span data-stu-id="ee68c-124">BatchAcknowledgementInterval</span></span> |<span data-ttu-id="ee68c-125">Seconden</span><span class="sxs-lookup"><span data-stu-id="ee68c-125">Seconds</span></span> |<span data-ttu-id="ee68c-126">0.015</span><span class="sxs-lookup"><span data-stu-id="ee68c-126">0.015</span></span> |<span data-ttu-id="ee68c-127">Periode waarvoor de replicatie op de secundaire Wacht na de ontvangst van een bewerking voor het verzenden van back-een bevestiging naar de primaire.</span><span class="sxs-lookup"><span data-stu-id="ee68c-127">Time period for which the replicator at the secondary waits after receiving an operation before sending back an acknowledgement to the primary.</span></span> <span data-ttu-id="ee68c-128">Alle andere bevestigingen voor bewerkingen binnen dit interval verwerkt worden verzonden, worden verzonden als een reactie.</span><span class="sxs-lookup"><span data-stu-id="ee68c-128">Any other acknowledgements to be sent for operations processed within this interval are sent as one response.</span></span> |
| <span data-ttu-id="ee68c-129">ReplicatorEndpoint</span><span class="sxs-lookup"><span data-stu-id="ee68c-129">ReplicatorEndpoint</span></span> |<span data-ttu-id="ee68c-130">N.v.t.</span><span class="sxs-lookup"><span data-stu-id="ee68c-130">N/A</span></span> |<span data-ttu-id="ee68c-131">Er is geen standaard--vereiste parameter</span><span class="sxs-lookup"><span data-stu-id="ee68c-131">No default--required parameter</span></span> |<span data-ttu-id="ee68c-132">IP-adres en poort op die de primaire en secundaire replicatie wordt gebruikt om te communiceren met andere replicaties in de replica is ingesteld.</span><span class="sxs-lookup"><span data-stu-id="ee68c-132">IP address and port that the primary/secondary replicator will use to communicate with other replicators in the replica set.</span></span> <span data-ttu-id="ee68c-133">Dit moet verwijzen naar een resource TCP-eindpunt in het servicemanifest.</span><span class="sxs-lookup"><span data-stu-id="ee68c-133">This should reference a TCP resource endpoint in the service manifest.</span></span> <span data-ttu-id="ee68c-134">Raadpleeg [Service manifest resources](service-fabric-service-manifest-resources.md) voor meer informatie over het definiëren van endpoint-resources in het servicemanifest.</span><span class="sxs-lookup"><span data-stu-id="ee68c-134">Refer to [Service manifest resources](service-fabric-service-manifest-resources.md) to read more about defining endpoint resources in the service manifest.</span></span> |
| <span data-ttu-id="ee68c-135">retryInterval</span><span class="sxs-lookup"><span data-stu-id="ee68c-135">RetryInterval</span></span> |<span data-ttu-id="ee68c-136">Seconden</span><span class="sxs-lookup"><span data-stu-id="ee68c-136">Seconds</span></span> |<span data-ttu-id="ee68c-137">5</span><span class="sxs-lookup"><span data-stu-id="ee68c-137">5</span></span> |<span data-ttu-id="ee68c-138">De periode waarna de replicator opnieuw een bericht verzendt als deze niet een bevestiging voor een bewerking ontvangt.</span><span class="sxs-lookup"><span data-stu-id="ee68c-138">Time period after which the replicator re-transmits a message if it does not receive an acknowledgement for an operation.</span></span> |
| <span data-ttu-id="ee68c-139">MaxReplicationMessageSize</span><span class="sxs-lookup"><span data-stu-id="ee68c-139">MaxReplicationMessageSize</span></span> |<span data-ttu-id="ee68c-140">Bytes</span><span class="sxs-lookup"><span data-stu-id="ee68c-140">Bytes</span></span> |<span data-ttu-id="ee68c-141">50 MB</span><span class="sxs-lookup"><span data-stu-id="ee68c-141">50 MB</span></span> |<span data-ttu-id="ee68c-142">Maximale grootte van de replicatiegegevens die kunnen worden overgebracht in één bericht.</span><span class="sxs-lookup"><span data-stu-id="ee68c-142">Maximum size of replication data that can be transmitted in a single message.</span></span> |
| <span data-ttu-id="ee68c-143">MaxPrimaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="ee68c-143">MaxPrimaryReplicationQueueSize</span></span> |<span data-ttu-id="ee68c-144">Aantal bewerkingen</span><span class="sxs-lookup"><span data-stu-id="ee68c-144">Number of operations</span></span> |<span data-ttu-id="ee68c-145">1024</span><span class="sxs-lookup"><span data-stu-id="ee68c-145">1024</span></span> |<span data-ttu-id="ee68c-146">Maximum aantal bewerkingen in de primaire wachtrij.</span><span class="sxs-lookup"><span data-stu-id="ee68c-146">Maximum number of operations in the primary queue.</span></span> <span data-ttu-id="ee68c-147">Een bewerking wordt vrijgemaakt nadat de primaire replicatie een bevestiging van de secundaire replicaties ontvangt.</span><span class="sxs-lookup"><span data-stu-id="ee68c-147">An operation is freed up after the primary replicator receives an acknowledgement from all the secondary replicators.</span></span> <span data-ttu-id="ee68c-148">Deze waarde moet groter zijn dan 64 en een macht van 2 zijn.</span><span class="sxs-lookup"><span data-stu-id="ee68c-148">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="ee68c-149">MaxSecondaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="ee68c-149">MaxSecondaryReplicationQueueSize</span></span> |<span data-ttu-id="ee68c-150">Aantal bewerkingen</span><span class="sxs-lookup"><span data-stu-id="ee68c-150">Number of operations</span></span> |<span data-ttu-id="ee68c-151">2048</span><span class="sxs-lookup"><span data-stu-id="ee68c-151">2048</span></span> |<span data-ttu-id="ee68c-152">Maximum aantal bewerkingen in de secundaire wachtrij.</span><span class="sxs-lookup"><span data-stu-id="ee68c-152">Maximum number of operations in the secondary queue.</span></span> <span data-ttu-id="ee68c-153">Een bewerking wordt vrijgemaakt nadat u de status maximaal beschikbaar is via persistentie.</span><span class="sxs-lookup"><span data-stu-id="ee68c-153">An operation is freed up after making its state highly available through persistence.</span></span> <span data-ttu-id="ee68c-154">Deze waarde moet groter zijn dan 64 en een macht van 2 zijn.</span><span class="sxs-lookup"><span data-stu-id="ee68c-154">This value must be greater than 64 and a power of 2.</span></span> |

## <a name="store-configuration"></a><span data-ttu-id="ee68c-155">Configuratie van gegevensarchief</span><span class="sxs-lookup"><span data-stu-id="ee68c-155">Store configuration</span></span>
<span data-ttu-id="ee68c-156">Store-configuraties worden gebruikt voor het configureren van het lokale archief dat wordt gebruikt om vast te leggen van de status die wordt gerepliceerd.</span><span class="sxs-lookup"><span data-stu-id="ee68c-156">Store configurations are used to configure the local store that is used to persist the state that is being replicated.</span></span>
<span data-ttu-id="ee68c-157">De standaardconfiguratie wordt gegenereerd door de sjabloon voor Visual Studio en moet voldoende zijn.</span><span class="sxs-lookup"><span data-stu-id="ee68c-157">The default configuration is generated by the Visual Studio template and should suffice.</span></span> <span data-ttu-id="ee68c-158">Deze sectie wordt gesproken over aanvullende configuraties die beschikbaar zijn voor het afstemmen van het lokale archief.</span><span class="sxs-lookup"><span data-stu-id="ee68c-158">This section talks about additional configurations that are available to tune the local store.</span></span>

### <a name="section-name"></a><span data-ttu-id="ee68c-159">De sectienaam van de</span><span class="sxs-lookup"><span data-stu-id="ee68c-159">Section name</span></span>
<span data-ttu-id="ee68c-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span><span class="sxs-lookup"><span data-stu-id="ee68c-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="ee68c-161">Configuratienamen</span><span class="sxs-lookup"><span data-stu-id="ee68c-161">Configuration names</span></span>
| <span data-ttu-id="ee68c-162">Naam</span><span class="sxs-lookup"><span data-stu-id="ee68c-162">Name</span></span> | <span data-ttu-id="ee68c-163">Eenheid</span><span class="sxs-lookup"><span data-stu-id="ee68c-163">Unit</span></span> | <span data-ttu-id="ee68c-164">Standaardwaarde</span><span class="sxs-lookup"><span data-stu-id="ee68c-164">Default value</span></span> | <span data-ttu-id="ee68c-165">Opmerkingen</span><span class="sxs-lookup"><span data-stu-id="ee68c-165">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="ee68c-166">MaxAsyncCommitDelayInMilliseconds</span><span class="sxs-lookup"><span data-stu-id="ee68c-166">MaxAsyncCommitDelayInMilliseconds</span></span> |<span data-ttu-id="ee68c-167">milliseconden</span><span class="sxs-lookup"><span data-stu-id="ee68c-167">Milliseconds</span></span> |<span data-ttu-id="ee68c-168">200</span><span class="sxs-lookup"><span data-stu-id="ee68c-168">200</span></span> |<span data-ttu-id="ee68c-169">Hiermee stelt u het interval voor duurzame lokale archief doorvoeracties batchverwerking maximum.</span><span class="sxs-lookup"><span data-stu-id="ee68c-169">Sets the maximum batching interval for durable local store commits.</span></span> |
| <span data-ttu-id="ee68c-170">MaxVerPages</span><span class="sxs-lookup"><span data-stu-id="ee68c-170">MaxVerPages</span></span> |<span data-ttu-id="ee68c-171">Het aantal pagina 's</span><span class="sxs-lookup"><span data-stu-id="ee68c-171">Number of pages</span></span> |<span data-ttu-id="ee68c-172">16384</span><span class="sxs-lookup"><span data-stu-id="ee68c-172">16384</span></span> |<span data-ttu-id="ee68c-173">Het maximum aantal pagina's de versie van de lokale database worden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="ee68c-173">The maximum number of version pages in the local store database.</span></span> <span data-ttu-id="ee68c-174">Bepaalt het maximum aantal openstaande transacties.</span><span class="sxs-lookup"><span data-stu-id="ee68c-174">It determines the maximum number of outstanding transactions.</span></span> |

## <a name="sample-configuration-file"></a><span data-ttu-id="ee68c-175">Voorbeeld van configuratiebestand</span><span class="sxs-lookup"><span data-stu-id="ee68c-175">Sample configuration file</span></span>
```xml
<?xml version="1.0" encoding="utf-8"?>
<Settings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.microsoft.com/2011/01/fabric">
   <Section Name="MyActorServiceReplicatorConfig">
      <Parameter Name="ReplicatorEndpoint" Value="MyActorServiceReplicatorEndpoint" />
      <Parameter Name="BatchAcknowledgementInterval" Value="0.05"/>
   </Section>
   <Section Name="MyActorServiceLocalStoreConfig">
      <Parameter Name="MaxVerPages" Value="8192" />
   </Section>
   <Section Name="MyActorServiceReplicatorSecurityConfig">
      <Parameter Name="CredentialType" Value="X509" />
      <Parameter Name="FindType" Value="FindByThumbprint" />
      <Parameter Name="FindValue" Value="9d c9 06 b1 69 dc 4f af fd 16 97 ac 78 1e 80 67 90 74 9d 2f" />
      <Parameter Name="StoreLocation" Value="LocalMachine" />
      <Parameter Name="StoreName" Value="My" />
      <Parameter Name="ProtectionLevel" Value="EncryptAndSign" />
      <Parameter Name="AllowedCommonNames" Value="My-Test-SAN1-Alice,My-Test-SAN1-Bob" />
   </Section>
</Settings>
```
## <a name="remarks"></a><span data-ttu-id="ee68c-176">Opmerkingen</span><span class="sxs-lookup"><span data-stu-id="ee68c-176">Remarks</span></span>
<span data-ttu-id="ee68c-177">De parameter BatchAcknowledgementInterval bepaalt replicatielatentie.</span><span class="sxs-lookup"><span data-stu-id="ee68c-177">The BatchAcknowledgementInterval parameter controls replication latency.</span></span> <span data-ttu-id="ee68c-178">Een waarde van '0' resulteert in de laagst mogelijke latentie koste doorvoer (zoals meer bevestigingsberichten moeten worden verzonden en verwerkt, elk met minder bevestigingen).</span><span class="sxs-lookup"><span data-stu-id="ee68c-178">A value of '0' results in the lowest possible latency, at the cost of throughput (as more acknowledgement messages must be sent and processed, each containing fewer acknowledgements).</span></span>
<span data-ttu-id="ee68c-179">Hoe hoger de waarde voor BatchAcknowledgementInterval, hoe hoger de algehele replicatie doorvoer, koste hogere latentie van de bewerking.</span><span class="sxs-lookup"><span data-stu-id="ee68c-179">The larger the value for BatchAcknowledgementInterval, the higher the overall replication throughput, at the cost of higher operation latency.</span></span> <span data-ttu-id="ee68c-180">Hierdoor kan rechtstreeks aan de latentie van transactie doorvoeracties.</span><span class="sxs-lookup"><span data-stu-id="ee68c-180">This directly translates to the latency of transaction commits.</span></span>

