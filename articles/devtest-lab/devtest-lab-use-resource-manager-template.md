---
title: aaaView en gebruiken van een virtuele machine van Azure Resource Manager-sjabloon | Microsoft Docs
description: Meer informatie over hoe toouse hello Azure Resource Manager-sjabloon van een virtuele machine toocreate andere virtuele machines
services: devtest-lab,virtual-machines,visual-studio-online
documentationcenter: na
author: tomarcher
manager: douge
editor: 
ms.assetid: a759d9ce-655c-4ac6-8834-cb29dd7d30dd
ms.service: devtest-lab
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/05/2017
ms.author: tarcher
ms.openlocfilehash: b79f7eb4171793681a0b654e6e72a83191c76bde
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="use-a-virtual-machines-azure-resource-manager-template"></a><span data-ttu-id="b9f46-103">Een virtuele machine van Azure Resource Manager-sjabloon gebruiken</span><span class="sxs-lookup"><span data-stu-id="b9f46-103">Use a virtual machine's Azure Resource Manager template</span></span>

<span data-ttu-id="b9f46-104">Wanneer u een virtuele machine (VM) zijn maken in DevTest Labs via Hallo [Azure-portal](http://go.microsoft.com/fwlink/p/?LinkID=525040), kunt u hello Azure Resource Manager-sjabloon bekijken voordat u Hallo VM opslaat.</span><span class="sxs-lookup"><span data-stu-id="b9f46-104">When you are creating a virtual machine (VM) in DevTest Labs through hello [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040), you can view hello Azure Resource Manager template before you save hello VM.</span></span> <span data-ttu-id="b9f46-105">Hallo sjabloon kan vervolgens worden gebruikt als een basis-toocreate meer lab virtuele machines met dezelfde instellingen Hallo.</span><span class="sxs-lookup"><span data-stu-id="b9f46-105">hello template can then be used as a basis toocreate more lab VMs with hello same settings.</span></span>

<span data-ttu-id="b9f46-106">Dit artikel wordt beschreven hoe tooview Resource Manager-sjabloon Hallo bij het maken van een virtuele machine en hoe toodeploy deze later tooautomate maken van Hallo dezelfde virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="b9f46-106">This article describes how tooview hello Resource Manager template when creating a VM, and how toodeploy it later tooautomate creation of hello same VM.</span></span>

## <a name="multi-vm-vs-single-vm-resource-manager-templates"></a><span data-ttu-id="b9f46-107">Multi-VM versus één VM-resourcemanager-sjablonen</span><span class="sxs-lookup"><span data-stu-id="b9f46-107">Multi-VM vs. single-VM Resource Manager templates</span></span>
<span data-ttu-id="b9f46-108">Er zijn twee manieren toocreate virtuele machines in DevTest Labs met een Resource Manager-sjabloon: Hallo Microsoft.DevTestLab/labs/virtualmachines resource inrichten of Hallo Microsoft.Commpute/virtualmachines resource inrichten.</span><span class="sxs-lookup"><span data-stu-id="b9f46-108">There are two ways toocreate VMs in DevTest Labs using a Resource Manager template: provision hello Microsoft.DevTestLab/labs/virtualmachines resource or provision hello Microsoft.Commpute/virtualmachines resource.</span></span> <span data-ttu-id="b9f46-109">Elke wordt gebruikt in verschillende scenario's en andere machtigingen zijn vereist.</span><span class="sxs-lookup"><span data-stu-id="b9f46-109">Each is used in different scenarios and require different permissions.</span></span>

- <span data-ttu-id="b9f46-110">Resource Manager-sjablonen die gebruikmaken van een resourcetype Microsoft.DevTestLab/labs/virtualmachines (zoals opgegeven in Hallo 'resource'-eigenschap in de sjabloon Hallo) kunnen afzonderlijke lab virtuele machines inrichten.</span><span class="sxs-lookup"><span data-stu-id="b9f46-110">Resource Manager templates that use a Microsoft.DevTestLab/labs/virtualmachines resource type (as declared in hello “resource” property in hello template) can provision individual lab VMs.</span></span> <span data-ttu-id="b9f46-111">Elke virtuele machine vervolgens wordt weergegeven als één item in de lijst met Hallo DevTest Labs virtuele machines:</span><span class="sxs-lookup"><span data-stu-id="b9f46-111">Each VM then shows up as a single item in hello DevTest Labs virtual machines list:</span></span>

   ![Lijst met virtuele machines als één items in de lijst met virtuele machines van Hallo DevTest Labs](./media/devtest-lab-use-arm-template/devtestlab-lab-vm-single-item.png)

   <span data-ttu-id="b9f46-113">Dit type Resource Manager-sjabloon kan worden ingericht via hello Azure PowerShell-opdracht **New-AzureRmResourceGroupDeployment** of via Azure CLI-opdracht Hallo **az implementatie maken** .</span><span class="sxs-lookup"><span data-stu-id="b9f46-113">This type of Resource Manager template can be provisioned through hello Azure PowerShell command **New-AzureRmResourceGroupDeployment** or through hello Azure CLI command **az group deployment create**.</span></span> <span data-ttu-id="b9f46-114">Het vereist administrator-machtigingen zodat gebruikers die zijn toegewezen aan een gebruikersrol DevTest Labs Hallo-implementatie kunnen niet uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="b9f46-114">It requires administrator permissions, so users who are assigned with a DevTest Labs user role can’t perform hello deployment.</span></span> 

- <span data-ttu-id="b9f46-115">Resource Manager-sjablonen die gebruikmaken van een resourcetype Microsoft.Compute/virtualmachines kunnen meerdere virtuele machines inrichten als één enkele omgeving in de lijst met Hallo DevTest Labs virtuele machines:</span><span class="sxs-lookup"><span data-stu-id="b9f46-115">Resource Manager templates that use a Microsoft.Compute/virtualmachines resource type can provision multiple VMs as a single environment in hello DevTest Labs virtual machines list:</span></span>

   ![Lijst met virtuele machines als één items in de lijst met virtuele machines van Hallo DevTest Labs](./media/devtest-lab-use-arm-template/devtestlab-lab-vm-single-environment.png)

   <span data-ttu-id="b9f46-117">Virtuele machines in dezelfde omgeving samen kan worden beheerd Hallo en share Hallo dezelfde levenscyclus.</span><span class="sxs-lookup"><span data-stu-id="b9f46-117">VMs in hello same environment can be managed together and share hello same lifecycle.</span></span> <span data-ttu-id="b9f46-118">Gebruikers die zijn toegewezen aan een gebruikersrol DevTest Labs kan omgevingen met behulp van deze sjablonen, zolang Hallo beheerder Hallo lab heeft geconfigureerd op deze manier kunnen maken.</span><span class="sxs-lookup"><span data-stu-id="b9f46-118">Users who are assigned with a DevTest Labs user role can create environments using those templates as long as hello administrator has configured hello lab that way.</span></span>

<span data-ttu-id="b9f46-119">Hallo rest van dit artikel wordt beschreven Resource Manager-sjablonen die Mirosoft.DevTestLab/labs/virtualmachines gebruiken.</span><span class="sxs-lookup"><span data-stu-id="b9f46-119">hello remainder of this article discusses Resource Manager templates that use Mirosoft.DevTestLab/labs/virtualmachines.</span></span> <span data-ttu-id="b9f46-120">Deze worden gebruikt door het lab admins tooautomate lab maken van virtuele machines (bijvoorbeeld claimable VM's) of gouden installatiekopie generatie (bijvoorbeeld installatiekopie factory).</span><span class="sxs-lookup"><span data-stu-id="b9f46-120">These are used by lab admins tooautomate lab VM creation (for example, claimable VMs) or golden image generation (for example, image factory).</span></span>

<span data-ttu-id="b9f46-121">[Aanbevolen procedures voor het maken van Azure Resource Manager-sjablonen](https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-template-best-practices) veel richtlijnen en suggesties toohelp biedt u Azure Resource Manager-sjablonen die betrouwbare en eenvoudige toouse zijn maken.</span><span class="sxs-lookup"><span data-stu-id="b9f46-121">[Best practices for creating Azure Resource Manager templates](https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-template-best-practices) offers many guidelines and suggestions toohelp you create Azure Resource Manager templates that are reliable and easy toouse.</span></span>

## <a name="view-and-save-a-virtual-machines-resource-manager-template"></a><span data-ttu-id="b9f46-122">Weergeven en opslaan van een virtuele machine Resource Manager-sjabloon</span><span class="sxs-lookup"><span data-stu-id="b9f46-122">View and save a virtual machine's Resource Manager template</span></span>
1. <span data-ttu-id="b9f46-123">Volg de stappen Hallo in [maakt van uw eerste virtuele machine in een lab](devtest-lab-create-first-vm.md) toobegin maken van een virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="b9f46-123">Follow hello steps at [Create your first VM in a lab](devtest-lab-create-first-vm.md) toobegin creating a virtual machine.</span></span>
1. <span data-ttu-id="b9f46-124">Geef informatie op Hallo vereist voor uw virtuele machine en alle artefacten die u voor deze virtuele machine wilt toevoegen.</span><span class="sxs-lookup"><span data-stu-id="b9f46-124">Enter hello required information for your virtual machine and add any artifacts you want for this VM.</span></span>
1. <span data-ttu-id="b9f46-125">Aan de onderkant van de Hallo van Hallo configureren instellingenvenster, kies **weergave ARM-sjabloon**.</span><span class="sxs-lookup"><span data-stu-id="b9f46-125">At hello bottom of hello Configure settings window, choose **View ARM template**.</span></span>

   ![Knop voor ARM-sjabloon weergeven](./media/devtest-lab-use-arm-template/devtestlab-lab-view-rm-template.png)
1. <span data-ttu-id="b9f46-127">Kopiëren en opslaan van Hallo Resource Manager-sjabloon toouse hoger toocreate een andere virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="b9f46-127">Copy and save hello Resource Manager template toouse later toocreate another virtual machine.</span></span>

   ![Resource manager-sjabloon toosave voor later gebruik](./media/devtest-lab-use-arm-template/devtestlab-lab-copy-rm-template.png)

<span data-ttu-id="b9f46-129">Nadat u Hallo Resource Manager-sjabloon hebt opgeslagen, moet u de sectie van de parameters Hallo van Hallo sjabloon bijwerken voordat u deze kunt gebruiken.</span><span class="sxs-lookup"><span data-stu-id="b9f46-129">After you have saved hello Resource Manager template, you must update hello parameters section of hello template before you can use it.</span></span> <span data-ttu-id="b9f46-130">U kunt een parameter.json dat net Hallo parameters buiten Hallo werkelijke Resource Manager-sjabloon aanpast maken.</span><span class="sxs-lookup"><span data-stu-id="b9f46-130">You can create a parameter.json that customizes just hello parameters, outside of hello actual Resource Manager template.</span></span> 

![Een JSON-bestand met parameters aanpassen](./media/devtest-lab-use-arm-template/devtestlab-lab-custom-params.png)

## <a name="deploy-a-resource-manager-template-toocreate-a-vm"></a><span data-ttu-id="b9f46-132">Een Resource Manager-sjabloon toocreate een virtuele machine implementeren</span><span class="sxs-lookup"><span data-stu-id="b9f46-132">Deploy a Resource Manager template toocreate a VM</span></span>
<span data-ttu-id="b9f46-133">Nadat u hebt opgeslagen van Resource Manager-sjabloon en het is afgestemd op uw behoeften, kunt u het maken van tooautomate VM.</span><span class="sxs-lookup"><span data-stu-id="b9f46-133">After you have saved a Resource Manager template and customized it for your needs, you can use it tooautomate VM creation.</span></span> <span data-ttu-id="b9f46-134">[Implementeren van resources met Resource Manager-sjablonen en Azure PowerShell](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-template-deploy) wordt beschreven hoe toouse Azure PowerShell met Resource Manager-sjablonen toodeploy uw tooAzure resources.</span><span class="sxs-lookup"><span data-stu-id="b9f46-134">[Deploy resources with Resource Manager templates and Azure PowerShell](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-template-deploy) describes how toouse Azure PowerShell with Resource Manager templates toodeploy your resources tooAzure.</span></span> <span data-ttu-id="b9f46-135">[Implementeren van resources met Resource Manager-sjablonen en Azure CLI](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-template-deploy-cli) wordt beschreven hoe toouse Azure CLI met Resource Manager-sjablonen toodeploy uw tooAzure resources.</span><span class="sxs-lookup"><span data-stu-id="b9f46-135">[Deploy resources with Resource Manager templates and Azure CLI](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-template-deploy-cli) describes how toouse Azure CLI with Resource Manager templates toodeploy your resources tooAzure.</span></span>

> [!NOTE]
> <span data-ttu-id="b9f46-136">Alleen een gebruiker met machtigingen van de eigenaar lab kunt virtuele machines maken van een Resource Manager-sjabloon met behulp van Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b9f46-136">Only a user with lab owner permissions can create VMs from a Resource Manager template by using Azure PowerShell.</span></span> <span data-ttu-id="b9f46-137">Als u wilt maken van VM tooautomate met een Resource Manager-sjabloon en u alleen gebruikersmachtigingen hebt, kunt u Hallo [ **az lab vm maken** opdracht in Hallo CLI](https://docs.microsoft.com/cli/azure/lab/vm#create).</span><span class="sxs-lookup"><span data-stu-id="b9f46-137">If you want tooautomate VM creation using a Resource Manager template and you only have user permissions, you can use hello [**az lab vm create** command in hello CLI](https://docs.microsoft.com/cli/azure/lab/vm#create).</span></span>

### <a name="next-steps"></a><span data-ttu-id="b9f46-138">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="b9f46-138">Next steps</span></span>
* <span data-ttu-id="b9f46-139">Meer informatie over hoe te[multi-VM-omgevingen maken met Resource Manager-sjablonen](devtest-lab-create-environment-from-arm.md).</span><span class="sxs-lookup"><span data-stu-id="b9f46-139">Learn how too[Create multi-VM environments with Resource Manager templates](devtest-lab-create-environment-from-arm.md).</span></span>
* <span data-ttu-id="b9f46-140">Verken meer snel starten-Resource Manager-sjablonen voor het automatiseren van DevTest Labs van Hallo [openbare DevTest Labs GitHub-repo-](https://github.com/Azure/azure-quickstart-templates).</span><span class="sxs-lookup"><span data-stu-id="b9f46-140">Explore more quick-start Resource Manager templates for DevTest Labs automation from hello [public DevTest Labs GitHub repo](https://github.com/Azure/azure-quickstart-templates).</span></span>
