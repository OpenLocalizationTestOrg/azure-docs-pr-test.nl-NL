---
title: aaaCreate gepartitioneerd Azure Service Bus-wachtrijen en onderwerpen | Microsoft Docs
description: Hierin wordt beschreven hoe toopartition Service Bus-wachtrijen en onderwerpen met meerdere bericht makelaars.
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: a0c7d5a2-4876-42cb-8344-a1fc988746e7
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/07/2017
ms.author: sethm;hillaryc
ms.openlocfilehash: 6d42556a0714d6a012dc319f662521c8b0bb958b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="partitioned-queues-and-topics"></a><span data-ttu-id="0721b-103">Gepartitioneerde wachtrijen en onderwerpen</span><span class="sxs-lookup"><span data-stu-id="0721b-103">Partitioned queues and topics</span></span>
<span data-ttu-id="0721b-104">Azure Service Bus maakt gebruik van meerdere bericht beleggingsmakelaars tooprocess berichten en berichten toostore meerdere messaging worden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="0721b-104">Azure Service Bus employs multiple message brokers tooprocess messages and multiple messaging stores toostore messages.</span></span> <span data-ttu-id="0721b-105">Een conventionele wachtrij of onderwerp is verwerkt door een enkel bericht broker en opgeslagen in één berichten-store.</span><span class="sxs-lookup"><span data-stu-id="0721b-105">A conventional queue or topic is handled by a single message broker and stored in one messaging store.</span></span> <span data-ttu-id="0721b-106">Service Bus *partities* wachtrijen en onderwerpen, inschakelen of *berichtentiteiten*, toobe gepartitioneerd op meerdere bericht beleggingsmakelaars en berichten-stores.</span><span class="sxs-lookup"><span data-stu-id="0721b-106">Service Bus *partitions* enable queues and topics, or *messaging entities*, toobe partitioned across multiple message brokers and messaging stores.</span></span> <span data-ttu-id="0721b-107">Dit betekent dat de totale doorvoer van een gepartitioneerde entiteit Hallo wordt niet langer beperkt door het Hallo-prestaties van een enkel bericht broker of berichten-store.</span><span class="sxs-lookup"><span data-stu-id="0721b-107">This means that hello overall throughput of a partitioned entity is no longer limited by hello performance of a single message broker or messaging store.</span></span> <span data-ttu-id="0721b-108">Bovendien weer een tijdelijke onderbreking van berichten-store niet een gepartitioneerde wachtrij of onderwerp niet beschikbaar.</span><span class="sxs-lookup"><span data-stu-id="0721b-108">In addition, a temporary outage of a messaging store does not render a partitioned queue or topic unavailable.</span></span> <span data-ttu-id="0721b-109">Gepartitioneerde wachtrijen en onderwerpen kunnen bevatten alle uitgebreide Service Bus-functies, zoals ondersteuning voor transacties en sessies.</span><span class="sxs-lookup"><span data-stu-id="0721b-109">Partitioned queues and topics can contain all advanced Service Bus features, such as support for transactions and sessions.</span></span>

<span data-ttu-id="0721b-110">Zie voor informatie over Service Bus inwendige Hallo [Service Bus-architectuur] [ Service Bus architecture] artikel.</span><span class="sxs-lookup"><span data-stu-id="0721b-110">For information about Service Bus internals, see hello [Service Bus architecture][Service Bus architecture] article.</span></span>

<span data-ttu-id="0721b-111">Partitioneren is standaard ingeschakeld bij het maken van de entiteit in alle wachtrijen en onderwerpen in de standaard- en Premium messaging.</span><span class="sxs-lookup"><span data-stu-id="0721b-111">Partitioning is enabled by default at entity creation on all queues and topics in both Standard and Premium messaging.</span></span> <span data-ttu-id="0721b-112">U kunt standaard laag berichtentiteiten zonder partitioneren maken, maar wachtrijen en onderwerpen in een Premium-naamruimte altijd worden gepartitioneerd; Deze optie kan niet worden uitgeschakeld.</span><span class="sxs-lookup"><span data-stu-id="0721b-112">You can create Standard messaging tier entities without partitioning, but queues and topics in a Premium namespace are always partitioned; this option cannot be disabled.</span></span> 

<span data-ttu-id="0721b-113">Het is niet mogelijk toochange Hallo partitioneren optie op een bestaande wachtrij of onderwerp in de lagen Standard of Premium, kunt u alleen Hallo opties instellen bij het maken van Hallo entiteit.</span><span class="sxs-lookup"><span data-stu-id="0721b-113">It is not possible toochange hello partitioning option on an existing queue or topic in either Standard or Premium tiers, you can only set hello option when you create hello entity.</span></span>

## <a name="how-it-works"></a><span data-ttu-id="0721b-114">Hoe werkt het?</span><span class="sxs-lookup"><span data-stu-id="0721b-114">How it works</span></span>

<span data-ttu-id="0721b-115">Elke gepartitioneerde wachtrij of onderwerp bestaat uit meerdere fragmenten.</span><span class="sxs-lookup"><span data-stu-id="0721b-115">Each partitioned queue or topic consists of multiple fragments.</span></span> <span data-ttu-id="0721b-116">Elke fragment is opgeslagen in een andere berichten-store en verwerkt door een ander bericht broker.</span><span class="sxs-lookup"><span data-stu-id="0721b-116">Each fragment is stored in a different messaging store and handled by a different message broker.</span></span> <span data-ttu-id="0721b-117">Wanneer een bericht wordt verzonden tooa gepartitioneerde wachtrij of onderwerp, toegewezen Service Bus Hallo-bericht tooone van Hallo fragmenten.</span><span class="sxs-lookup"><span data-stu-id="0721b-117">When a message is sent tooa partitioned queue or topic, Service Bus assigns hello message tooone of hello fragments.</span></span> <span data-ttu-id="0721b-118">Hallo selectie willekeurig wordt uitgevoerd door de Service Bus of met behulp van een partitiesleutel die afzender Hallo kunt opgeven.</span><span class="sxs-lookup"><span data-stu-id="0721b-118">hello selection is done randomly by Service Bus or by using a partition key that hello sender can specify.</span></span>

<span data-ttu-id="0721b-119">Wanneer een client wil tooreceive een bericht van een gepartitioneerde wachtrij of uit het abonnement tooa gepartitioneerde onderwerp Service Bus-query's alle fragmenten voor berichten, retourneert de eerste Hallo-bericht dat is verkregen van een Hallo messaging winkels toohello ontvanger.</span><span class="sxs-lookup"><span data-stu-id="0721b-119">When a client wants tooreceive a message from a partitioned queue, or from a subscription tooa partitioned topic, Service Bus queries all fragments for messages, then returns hello first message that is obtained from any of hello messaging stores toohello receiver.</span></span> <span data-ttu-id="0721b-120">Service Bus-caches Hallo andere berichten en retourneert ze als deze aanvullende ontvangt aanvragen ontvangen.</span><span class="sxs-lookup"><span data-stu-id="0721b-120">Service Bus caches hello other messages and returns them when it receives additional receive requests.</span></span> <span data-ttu-id="0721b-121">Een ontvangende client is niet bekend met Hallo partitioneren; Hallo clientgerichte gedrag van een gepartitioneerde wachtrij of onderwerp (bijvoorbeeld, lezen, voltooid, uitstelt, wachtrij voor onbestelbare, veelgevraagde) is identiek toohello gedrag van een reguliere entiteit.</span><span class="sxs-lookup"><span data-stu-id="0721b-121">A receiving client is not aware of hello partitioning; hello client-facing behavior of a partitioned queue or topic (for example, read, complete, defer, deadletter, prefetching) is identical toohello behavior of a regular entity.</span></span>

<span data-ttu-id="0721b-122">Er is geen extra kosten bij het verzenden van een bericht of het bericht in een gepartitioneerde wachtrij of onderwerp.</span><span class="sxs-lookup"><span data-stu-id="0721b-122">There is no additional cost when sending a message to, or receiving a message from, a partitioned queue or topic.</span></span>

## <a name="enable-partitioning"></a><span data-ttu-id="0721b-123">Partitioneren inschakelen</span><span class="sxs-lookup"><span data-stu-id="0721b-123">Enable partitioning</span></span>

<span data-ttu-id="0721b-124">toouse gepartitioneerd wachtrijen en onderwerpen met Azure Service Bus gebruiken hello Azure SDK versie 2.2 of hoger, of geef `api-version=2013-10` in uw HTTP-aanvragen.</span><span class="sxs-lookup"><span data-stu-id="0721b-124">toouse partitioned queues and topics with Azure Service Bus, use hello Azure SDK version 2.2 or later, or specify `api-version=2013-10` in your HTTP requests.</span></span>

### <a name="standard"></a><span data-ttu-id="0721b-125">Standard</span><span class="sxs-lookup"><span data-stu-id="0721b-125">Standard</span></span>

<span data-ttu-id="0721b-126">In Hallo Standard messaging-laag, kunt u Service Bus-wachtrijen en onderwerpen in 1, 2, 3, 4 of 5 GB-grootten (Hallo standaardwaarde is 1 GB).</span><span class="sxs-lookup"><span data-stu-id="0721b-126">In hello Standard messaging tier, you can create Service Bus queues and topics in 1, 2, 3, 4, or 5 GB sizes (hello default is 1 GB).</span></span> <span data-ttu-id="0721b-127">Service Bus maakt met het partitionering ingeschakeld, 16 kopieën (16 partities) van Hallo entiteit voor elke GB die u opgeeft.</span><span class="sxs-lookup"><span data-stu-id="0721b-127">With partitioning enabled, Service Bus creates 16 copies (16 partitions) of hello entity for each GB you specify.</span></span> <span data-ttu-id="0721b-128">Als zodanig als u een wachtrij die is 5 GB groot maken, met 16 partities Hallo Maximale wachtrijgrootte wordt (5 \* 16) = 80 GB.</span><span class="sxs-lookup"><span data-stu-id="0721b-128">As such, if you create a queue that's 5 GB in size, with 16 partitions hello maximum queue size becomes (5 \* 16) = 80 GB.</span></span> <span data-ttu-id="0721b-129">U kunt Hallo maximale grootte van uw gepartitioneerde wachtrij of onderwerp zien door te kijken op de vermelding ervan op Hallo [Azure-portal][Azure portal], in Hallo **overzicht** blade voor die entiteit.</span><span class="sxs-lookup"><span data-stu-id="0721b-129">You can see hello maximum size of your partitioned queue or topic by looking at its entry on hello [Azure portal][Azure portal], in hello **Overview** blade for that entity.</span></span>

### <a name="premium"></a><span data-ttu-id="0721b-130">Premium</span><span class="sxs-lookup"><span data-stu-id="0721b-130">Premium</span></span>

<span data-ttu-id="0721b-131">In een naamruimte van de laag Premium kunt u Service Bus-wachtrijen en onderwerpen in 1, 2, 3, 4, 5, 10, 20, 40 of 80 GB grootten (Hallo standaardwaarde is 1 GB).</span><span class="sxs-lookup"><span data-stu-id="0721b-131">In a Premium tier namespace, you can create Service Bus queues and topics in 1, 2, 3, 4, 5, 10, 20, 40, or 80 GB sizes (hello default is 1 GB).</span></span> <span data-ttu-id="0721b-132">Service Bus maakt twee partities per entiteit met het partitioneren van de standaard ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="0721b-132">With partitioning enabled by default, Service Bus creates two partitions per entity.</span></span> <span data-ttu-id="0721b-133">U kunt Hallo maximale grootte van uw gepartitioneerde wachtrij of onderwerp zien door te kijken op de vermelding ervan op Hallo [Azure-portal][Azure portal], in Hallo **overzicht** blade voor die entiteit.</span><span class="sxs-lookup"><span data-stu-id="0721b-133">You can see hello maximum size of your partitioned queue or topic by looking at its entry on hello [Azure portal][Azure portal], in hello **Overview** blade for that entity.</span></span>

<span data-ttu-id="0721b-134">Zie voor meer informatie over partitioneren in Hallo Premium messaging laag [Service Bus Premium en Standard Messaging](service-bus-premium-messaging.md).</span><span class="sxs-lookup"><span data-stu-id="0721b-134">For more information about partitioning in hello Premium messaging tier, see [Service Bus Premium and Standard messaging tiers](service-bus-premium-messaging.md).</span></span> 

### <a name="create-a-partitioned-entity"></a><span data-ttu-id="0721b-135">Maak een gepartitioneerde entiteit</span><span class="sxs-lookup"><span data-stu-id="0721b-135">Create a partitioned entity</span></span>

<span data-ttu-id="0721b-136">Er zijn verschillende manieren toocreate een gepartitioneerde wachtrij of onderwerp.</span><span class="sxs-lookup"><span data-stu-id="0721b-136">There are several ways toocreate a partitioned queue or topic.</span></span> <span data-ttu-id="0721b-137">Als u van uw toepassing hello wachtrij of onderwerp maakt, kunt u inschakelen voor Hallo wachtrij of onderwerp partitioneren door respectievelijk instelling Hallo [QueueDescription.EnablePartitioning] [ QueueDescription.EnablePartitioning] of [TopicDescription.EnablePartitioning] [ TopicDescription.EnablePartitioning] eigenschap te**true**.</span><span class="sxs-lookup"><span data-stu-id="0721b-137">When you create hello queue or topic from your application, you can enable partitioning for hello queue or topic by respectively setting hello [QueueDescription.EnablePartitioning][QueueDescription.EnablePartitioning] or [TopicDescription.EnablePartitioning][TopicDescription.EnablePartitioning] property too**true**.</span></span> <span data-ttu-id="0721b-138">Deze eigenschappen moeten worden ingesteld op Hallo tijd Hallo wachtrij of onderwerp is gemaakt.</span><span class="sxs-lookup"><span data-stu-id="0721b-138">These properties must be set at hello time hello queue or topic is created.</span></span> <span data-ttu-id="0721b-139">Zoals eerder gezegd, is het niet mogelijk toochange deze eigenschappen op een bestaande wachtrij of onderwerp.</span><span class="sxs-lookup"><span data-stu-id="0721b-139">As stated previously, it is not possible toochange these properties on an existing queue or topic.</span></span> <span data-ttu-id="0721b-140">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="0721b-140">For example:</span></span>

```csharp
// Create partitioned topic
NamespaceManager ns = NamespaceManager.CreateFromConnectionString(myConnectionString);
TopicDescription td = new TopicDescription(TopicName);
td.EnablePartitioning = true;
ns.CreateTopic(td);
```

<span data-ttu-id="0721b-141">U kunt ook kunt u een gepartitioneerde wachtrij of onderwerp in Hallo [Azure-portal] [ Azure portal] of in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="0721b-141">Alternatively, you can create a partitioned queue or topic in hello [Azure portal][Azure portal] or in Visual Studio.</span></span> <span data-ttu-id="0721b-142">Bij het maken van een wachtrij of onderwerp in de portal Hallo Hallo **inschakelen partitioneren** optie in Hallo wachtrij of onderwerp **maken** blade is standaard ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="0721b-142">When you create a queue or topic in hello portal, hello **Enable partitioning** option in hello queue or topic **Create** blade is checked by default.</span></span> <span data-ttu-id="0721b-143">U kunt deze optie in een entiteit standaardcategorie; alleen uitschakelen in Hallo is Premium-laag partitioneren altijd ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="0721b-143">You can only disable this option in a Standard tier entity; in hello Premium tier partitioning is always enabled.</span></span> <span data-ttu-id="0721b-144">Klik in Visual Studio op Hallo **inschakelen partitioneren** checkbox in Hallo **nieuwe wachtrij** of **nieuw onderwerp** in het dialoogvenster.</span><span class="sxs-lookup"><span data-stu-id="0721b-144">In Visual Studio, click hello **Enable Partitioning** checkbox in hello **New Queue** or **New Topic** dialog box.</span></span>

## <a name="use-of-partition-keys"></a><span data-ttu-id="0721b-145">Gebruik van partitiesleutels</span><span class="sxs-lookup"><span data-stu-id="0721b-145">Use of partition keys</span></span>
<span data-ttu-id="0721b-146">Wanneer een bericht in de wachtrij in een gepartitioneerde wachtrij of onderwerp is, controleert u Service Bus Hallo aanwezigheid van een partitiesleutel.</span><span class="sxs-lookup"><span data-stu-id="0721b-146">When a message is enqueued into a partitioned queue or topic, Service Bus checks for hello presence of a partition key.</span></span> <span data-ttu-id="0721b-147">Als er een is gevonden, wordt deze geselecteerd Hallo fragment op basis van die sleutel.</span><span class="sxs-lookup"><span data-stu-id="0721b-147">If it finds one, it selects hello fragment based on that key.</span></span> <span data-ttu-id="0721b-148">Als een partitiesleutel niet wordt gevonden, wordt deze Hallo fragment op basis van een interne algoritme geselecteerd.</span><span class="sxs-lookup"><span data-stu-id="0721b-148">If it does not find a partition key, it selects hello fragment based on an internal algorithm.</span></span>

### <a name="using-a-partition-key"></a><span data-ttu-id="0721b-149">Met behulp van een partitiesleutel</span><span class="sxs-lookup"><span data-stu-id="0721b-149">Using a partition key</span></span>
<span data-ttu-id="0721b-150">Sommige scenario's, zoals sessies of transacties, vereisen berichten toobe opgeslagen in een specifieke fragment.</span><span class="sxs-lookup"><span data-stu-id="0721b-150">Some scenarios, such as sessions or transactions, require messages toobe stored in a specific fragment.</span></span> <span data-ttu-id="0721b-151">Deze scenario's vereisen Hallo gebruik van een partitiesleutel.</span><span class="sxs-lookup"><span data-stu-id="0721b-151">All these scenarios require hello use of a partition key.</span></span> <span data-ttu-id="0721b-152">Alle berichten die gebruik Hallo dezelfde partitiesleutel zijn toegewezen toohello dezelfde fragment.</span><span class="sxs-lookup"><span data-stu-id="0721b-152">All messages that use hello same partition key are assigned toohello same fragment.</span></span> <span data-ttu-id="0721b-153">Als het Hallo-fragment tijdelijk niet beschikbaar is, Service Bus een fout geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="0721b-153">If hello fragment is temporarily unavailable, Service Bus returns an error.</span></span>

<span data-ttu-id="0721b-154">Afhankelijk van het Hallo-scenario worden verschillende berichteigenschappen als een partitiesleutel gebruikt:</span><span class="sxs-lookup"><span data-stu-id="0721b-154">Depending on hello scenario, different message properties are used as a partition key:</span></span>

<span data-ttu-id="0721b-155">**Sessie-id**: als een bericht Hallo heeft [BrokeredMessage.SessionId] [ BrokeredMessage.SessionId] eigenschap instelt, wordt de Service Bus deze eigenschap wordt gebruikt als partitiesleutel Hallo.</span><span class="sxs-lookup"><span data-stu-id="0721b-155">**SessionId**: If a message has hello [BrokeredMessage.SessionId][BrokeredMessage.SessionId] property set, then Service Bus uses this property as hello partition key.</span></span> <span data-ttu-id="0721b-156">Op deze manier, alle berichten die deel uitmaken van toohello dezelfde sessie worden afgehandeld door Hallo dezelfde bericht broker.</span><span class="sxs-lookup"><span data-stu-id="0721b-156">This way, all messages that belong toohello same session are handled by hello same message broker.</span></span> <span data-ttu-id="0721b-157">Hierdoor kunnen Service Bus tooguarantee bericht ordening en Hallo consistentie van de sessiestatus.</span><span class="sxs-lookup"><span data-stu-id="0721b-157">This enables Service Bus tooguarantee message ordering as well as hello consistency of session states.</span></span>

<span data-ttu-id="0721b-158">**PartitionKey**: als een bericht Hallo heeft [BrokeredMessage.PartitionKey] [ BrokeredMessage.PartitionKey] eigenschap, maar niet Hallo [BrokeredMessage.SessionId] [ BrokeredMessage.SessionId] eigenschap instelt, wordt de Service Bus gebruikt Hallo [PartitionKey] [ PartitionKey] eigenschap als partitiesleutel Hallo.</span><span class="sxs-lookup"><span data-stu-id="0721b-158">**PartitionKey**: If a message has hello [BrokeredMessage.PartitionKey][BrokeredMessage.PartitionKey] property but not hello [BrokeredMessage.SessionId][BrokeredMessage.SessionId] property set, then Service Bus uses hello [PartitionKey][PartitionKey] property as hello partition key.</span></span> <span data-ttu-id="0721b-159">Als het Hallo-bericht beide Hallo heeft [SessionId] [ SessionId] en Hallo [PartitionKey] [ PartitionKey] set eigenschappen, beide eigenschappen moeten identiek zijn.</span><span class="sxs-lookup"><span data-stu-id="0721b-159">If hello message has both hello [SessionId][SessionId] and hello [PartitionKey][PartitionKey] properties set, both properties must be identical.</span></span> <span data-ttu-id="0721b-160">Als hello [PartitionKey] [ PartitionKey] eigenschap is ingesteld tooa andere waarde dan Hallo [SessionId] [ SessionId] retourneert een ongeldige eigenschap, Service Bus uitzondering van de bewerking.</span><span class="sxs-lookup"><span data-stu-id="0721b-160">If hello [PartitionKey][PartitionKey] property is set tooa different value than hello [SessionId][SessionId] property, Service Bus returns an invalid operation exception.</span></span> <span data-ttu-id="0721b-161">Hallo [PartitionKey] [ PartitionKey] eigenschap moet worden gebruikt als een afzender verzendt een niet-sessie op de hoogte transactionele berichten.</span><span class="sxs-lookup"><span data-stu-id="0721b-161">hello [PartitionKey][PartitionKey] property should be used if a sender sends non-session aware transactional messages.</span></span> <span data-ttu-id="0721b-162">Hallo partitiesleutel zorgt ervoor dat alle berichten die zijn verzonden binnen een transactie worden verwerkt door Hallo dezelfde messaging broker.</span><span class="sxs-lookup"><span data-stu-id="0721b-162">hello partition key ensures that all messages that are sent within a transaction are handled by hello same messaging broker.</span></span>

<span data-ttu-id="0721b-163">**MessageId**: als Hallo wachtrij of onderwerp Hallo heeft [QueueDescription.RequiresDuplicateDetection] [ QueueDescription.RequiresDuplicateDetection] eigenschappenset te**true** en Hallo [BrokeredMessage.SessionId] [ BrokeredMessage.SessionId] of [BrokeredMessage.PartitionKey] [ BrokeredMessage.PartitionKey] eigenschappen zijn niet ingesteld en vervolgens Hallo [BrokeredMessage.MessageId] [ BrokeredMessage.MessageId] eigenschap fungeert als partitiesleutel Hallo.</span><span class="sxs-lookup"><span data-stu-id="0721b-163">**MessageId**: If hello queue or topic has hello [QueueDescription.RequiresDuplicateDetection][QueueDescription.RequiresDuplicateDetection] property set too**true** and hello [BrokeredMessage.SessionId][BrokeredMessage.SessionId] or [BrokeredMessage.PartitionKey][BrokeredMessage.PartitionKey] properties are not set, then hello [BrokeredMessage.MessageId][BrokeredMessage.MessageId] property serves as hello partition key.</span></span> <span data-ttu-id="0721b-164">(Houd er rekening mee dat Hallo Microsoft .NET- en AMQP bibliotheken een bericht-ID automatisch toewijzen als verzendende toepassing hello niet.) In dit geval Hallo alle kopieën van hetzelfde bericht worden afgehandeld door Hallo hetzelfde bericht broker.</span><span class="sxs-lookup"><span data-stu-id="0721b-164">(Note that hello Microsoft .NET and AMQP libraries automatically assign a message ID if hello sending application does not.) In this case, all copies of hello same message are handled by hello same message broker.</span></span> <span data-ttu-id="0721b-165">Dit kunt Service Bus toodetect en verwijderen van dubbele berichten.</span><span class="sxs-lookup"><span data-stu-id="0721b-165">This enables Service Bus toodetect and eliminate duplicate messages.</span></span> <span data-ttu-id="0721b-166">Als hello [QueueDescription.RequiresDuplicateDetection] [ QueueDescription.RequiresDuplicateDetection] eigenschap is niet ingesteld te**true**, Service Bus wordt geen rekening gehouden Hallo [MessageId] [ MessageId] eigenschap als partitiesleutel.</span><span class="sxs-lookup"><span data-stu-id="0721b-166">If hello [QueueDescription.RequiresDuplicateDetection][QueueDescription.RequiresDuplicateDetection] property is not set too**true**, Service Bus does not consider hello [MessageId][MessageId] property as a partition key.</span></span>

### <a name="not-using-a-partition-key"></a><span data-ttu-id="0721b-167">Niet met behulp van een partitiesleutel</span><span class="sxs-lookup"><span data-stu-id="0721b-167">Not using a partition key</span></span>
<span data-ttu-id="0721b-168">Hallo ontbreken van een partitiesleutel distribueert Service Bus berichten in een round-robin toewijst tooall Hallo fragmenten Hallo gepartitioneerde wachtrij of onderwerp.</span><span class="sxs-lookup"><span data-stu-id="0721b-168">In hello absence of a partition key, Service Bus distributes messages in a round-robin fashion tooall hello fragments of hello partitioned queue or topic.</span></span> <span data-ttu-id="0721b-169">Als Hallo gekozen fragment niet beschikbaar is, wijst Service Bus Hallo-bericht tooa verschillende fragment.</span><span class="sxs-lookup"><span data-stu-id="0721b-169">If hello chosen fragment is not available, Service Bus assigns hello message tooa different fragment.</span></span> <span data-ttu-id="0721b-170">Op deze manier Hallo verzendbewerking slaagt ondanks Hallo tijdelijk niet beschikbaar berichten-store.</span><span class="sxs-lookup"><span data-stu-id="0721b-170">This way, hello send operation succeeds despite hello temporary unavailability of a messaging store.</span></span> <span data-ttu-id="0721b-171">U wordt echter niet worden gegarandeerd dat een partitiesleutel biedt ordening Hallo bereiken.</span><span class="sxs-lookup"><span data-stu-id="0721b-171">However, you will not achieve hello guaranteed ordering that a partition key provides.</span></span>

<span data-ttu-id="0721b-172">Zie voor een diepgaandere bespreking van Hallo afweging tussen het beschikbaarheid (geen partitiesleutel) en consistentie (met behulp van een partitiesleutel) [in dit artikel](../event-hubs/event-hubs-availability-and-consistency.md).</span><span class="sxs-lookup"><span data-stu-id="0721b-172">For a more in-depth discussion of hello tradeoff between availability (no partition key) and consistency (using a partition key), see [this article](../event-hubs/event-hubs-availability-and-consistency.md).</span></span> <span data-ttu-id="0721b-173">Deze informatie is evenveel van toepassing toopartitioned Service Bus-entiteiten en Event Hubs-partities.</span><span class="sxs-lookup"><span data-stu-id="0721b-173">This information applies equally toopartitioned Service Bus entities and Event Hubs partitions.</span></span>

<span data-ttu-id="0721b-174">toogive Service Bus voldoende tijd tooenqueue Hallo-bericht naar een andere fragment hello [MessagingFactorySettings.OperationTimeout] [ MessagingFactorySettings.OperationTimeout] waarde die is opgegeven door Hallo-client die door het Hallo-bericht verzonden moet groter zijn dan 15 seconden.</span><span class="sxs-lookup"><span data-stu-id="0721b-174">toogive Service Bus enough time tooenqueue hello message into a different fragment, hello [MessagingFactorySettings.OperationTimeout][MessagingFactorySettings.OperationTimeout] value specified by hello client that sends hello message must be greater than 15 seconds.</span></span> <span data-ttu-id="0721b-175">Het verdient aanbeveling dat u Hallo ingesteld [OperationTimeout] [ OperationTimeout] eigenschap toohello standaardwaarde van 60 seconden.</span><span class="sxs-lookup"><span data-stu-id="0721b-175">It is recommended that you set hello [OperationTimeout][OperationTimeout] property toohello default value of 60 seconds.</span></span>

<span data-ttu-id="0721b-176">Houd er rekening mee dat een partitiesleutel 'pincodes"een bericht tooa specifieke fragment.</span><span class="sxs-lookup"><span data-stu-id="0721b-176">Note that a partition key "pins" a message tooa specific fragment.</span></span> <span data-ttu-id="0721b-177">Als het Hallo-berichten-store die dit fragment bevat niet beschikbaar is, betekent dit dat Service Bus een fout geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="0721b-177">If hello messaging store that holds this fragment is unavailable, Service Bus returns an error.</span></span> <span data-ttu-id="0721b-178">Hallo ontbreken van een partitiesleutel, Service Bus geen andere fragment kunt kiezen en Hallo-bewerking is geslaagd.</span><span class="sxs-lookup"><span data-stu-id="0721b-178">In hello absence of a partition key, Service Bus can choose a different fragment and hello operation succeeds.</span></span> <span data-ttu-id="0721b-179">Daarom wordt aanbevolen dat u niet een partitiesleutel opgeeft tenzij deze vereist is.</span><span class="sxs-lookup"><span data-stu-id="0721b-179">Therefore, it is recommended that you do not supply a partition key unless it is required.</span></span>

## <a name="advanced-topics-use-transactions-with-partitioned-entities"></a><span data-ttu-id="0721b-180">Onderwerpen over geavanceerde: het gebruik van transacties met gepartitioneerde entiteiten</span><span class="sxs-lookup"><span data-stu-id="0721b-180">Advanced topics: use transactions with partitioned entities</span></span>
<span data-ttu-id="0721b-181">Berichten die worden verzonden als onderdeel van een transactie moeten een partitiesleutel opgeven.</span><span class="sxs-lookup"><span data-stu-id="0721b-181">Messages that are sent as part of a transaction must specify a partition key.</span></span> <span data-ttu-id="0721b-182">Dit is een van de volgende eigenschappen Hallo: [BrokeredMessage.SessionId][BrokeredMessage.SessionId], [BrokeredMessage.PartitionKey][BrokeredMessage.PartitionKey], of [ BrokeredMessage.MessageId][BrokeredMessage.MessageId].</span><span class="sxs-lookup"><span data-stu-id="0721b-182">This can be one of hello following properties: [BrokeredMessage.SessionId][BrokeredMessage.SessionId], [BrokeredMessage.PartitionKey][BrokeredMessage.PartitionKey], or [BrokeredMessage.MessageId][BrokeredMessage.MessageId].</span></span> <span data-ttu-id="0721b-183">Alle berichten die worden verzonden als onderdeel van dezelfde transactie moet opgeven Hallo Hallo dezelfde partitiesleutel.</span><span class="sxs-lookup"><span data-stu-id="0721b-183">All messages that are sent as part of hello same transaction must specify hello same partition key.</span></span> <span data-ttu-id="0721b-184">Als u een bericht zonder een partitiesleutel binnen een transactie toosend probeert, betekent dit dat Service Bus een ongeldige bewerking-uitzondering geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="0721b-184">If you attempt toosend a message without a partition key within a transaction, Service Bus returns an invalid operation exception.</span></span> <span data-ttu-id="0721b-185">Als u probeert meerdere berichten binnen dezelfde transactie met verschillende Hallo toosend retourneert partitiesleutels, Service Bus een ongeldige bewerking uitzondering.</span><span class="sxs-lookup"><span data-stu-id="0721b-185">If you attempt toosend multiple messages within hello same transaction that have different partition keys, Service Bus returns an invalid operation exception.</span></span> <span data-ttu-id="0721b-186">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="0721b-186">For example:</span></span>

```csharp
CommittableTransaction committableTransaction = new CommittableTransaction();
using (TransactionScope ts = new TransactionScope(committableTransaction))
{
    BrokeredMessage msg = new BrokeredMessage("This is a message");
    msg.PartitionKey = "myPartitionKey";
    messageSender.Send(msg); 
    ts.Complete();
}
committableTransaction.Commit();
```

<span data-ttu-id="0721b-187">Als een Hallo-eigenschappen die als een partitiesleutel fungeren is ingesteld, Hallo Service Bus pincodes bericht tooa specifieke fragment.</span><span class="sxs-lookup"><span data-stu-id="0721b-187">If any of hello properties that serve as a partition key are set, Service Bus pins hello message tooa specific fragment.</span></span> <span data-ttu-id="0721b-188">Dit probleem treedt al dan niet een transactie wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="0721b-188">This behavior occurs whether or not a transaction is used.</span></span> <span data-ttu-id="0721b-189">Het verdient aanbeveling dat u geen een partitiesleutel opgeeft als het is niet nodig.</span><span class="sxs-lookup"><span data-stu-id="0721b-189">It is recommended that you do not specify a partition key if it is not necessary.</span></span>

## <a name="using-sessions-with-partitioned-entities"></a><span data-ttu-id="0721b-190">Met behulp van sessies met gepartitioneerde entiteiten</span><span class="sxs-lookup"><span data-stu-id="0721b-190">Using sessions with partitioned entities</span></span>
<span data-ttu-id="0721b-191">toosend een transactionele berichten tooa sessie-bewuste onderwerp of wachtrij, het Hallo-bericht moet hebben Hallo [BrokeredMessage.SessionId] [ BrokeredMessage.SessionId] eigenschap is ingesteld.</span><span class="sxs-lookup"><span data-stu-id="0721b-191">toosend a transactional message tooa session-aware topic or queue, hello message must have hello [BrokeredMessage.SessionId][BrokeredMessage.SessionId] property set.</span></span> <span data-ttu-id="0721b-192">Als hello [BrokeredMessage.PartitionKey] [ BrokeredMessage.PartitionKey] eigenschap ook is opgegeven, moet dit identieke toohello [SessionId] [ SessionId] eigenschap.</span><span class="sxs-lookup"><span data-stu-id="0721b-192">If hello [BrokeredMessage.PartitionKey][BrokeredMessage.PartitionKey] property is specified as well, it must be identical toohello [SessionId][SessionId] property.</span></span> <span data-ttu-id="0721b-193">Als deze verschillen, wordt met Service Bus een ongeldige bewerking-uitzondering geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="0721b-193">If they differ, Service Bus returns an invalid operation exception.</span></span>

<span data-ttu-id="0721b-194">In tegenstelling tot gewone (niet-gepartitioneerde) wachtrijen en onderwerpen is het niet mogelijk toouse een enkele transactie toosend meerdere berichten toodifferent sessies.</span><span class="sxs-lookup"><span data-stu-id="0721b-194">Unlike regular (non-partitioned) queues or topics, it is not possible toouse a single transaction toosend multiple messages toodifferent sessions.</span></span> <span data-ttu-id="0721b-195">Als er is geprobeerd, wordt met Service Bus een ongeldige bewerking-uitzondering geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="0721b-195">If attempted, Service Bus returns an invalid operation exception.</span></span> <span data-ttu-id="0721b-196">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="0721b-196">For example:</span></span>

```csharp
CommittableTransaction committableTransaction = new CommittableTransaction();
using (TransactionScope ts = new TransactionScope(committableTransaction))
{
    BrokeredMessage msg = new BrokeredMessage("This is a message");
    msg.SessionId = "mySession";
    messageSender.Send(msg); 
    ts.Complete();
}
committableTransaction.Commit();
```

## <a name="automatic-message-forwarding-with-partitioned-entities"></a><span data-ttu-id="0721b-197">Automatische bericht doorsturen met gepartitioneerde entiteiten</span><span class="sxs-lookup"><span data-stu-id="0721b-197">Automatic message forwarding with partitioned entities</span></span>
<span data-ttu-id="0721b-198">Service Bus ondersteunt automatische bericht doorsturen van aan of tussen gepartitioneerde entiteiten.</span><span class="sxs-lookup"><span data-stu-id="0721b-198">Service Bus supports automatic message forwarding from, to, or between partitioned entities.</span></span> <span data-ttu-id="0721b-199">Automatische tooenable-bericht doorsturen, stel Hallo [QueueDescription.ForwardTo] [ QueueDescription.ForwardTo] -eigenschap op Hallo bronwachtrij of abonnement.</span><span class="sxs-lookup"><span data-stu-id="0721b-199">tooenable automatic message forwarding, set hello [QueueDescription.ForwardTo][QueueDescription.ForwardTo] property on hello source queue or subscription.</span></span> <span data-ttu-id="0721b-200">Als een partitiesleutel is opgegeven voor het Hallo-bericht ([SessionId][SessionId], [PartitionKey][PartitionKey], of [MessageId] [ MessageId]), die de partitiesleutel wordt gebruikt voor Hallo doelentiteit.</span><span class="sxs-lookup"><span data-stu-id="0721b-200">If hello message specifies a partition key ([SessionId][SessionId], [PartitionKey][PartitionKey], or [MessageId][MessageId]), that partition key is used for hello destination entity.</span></span>

## <a name="considerations-and-guidelines"></a><span data-ttu-id="0721b-201">Overwegingen en richtlijnen</span><span class="sxs-lookup"><span data-stu-id="0721b-201">Considerations and guidelines</span></span>
* <span data-ttu-id="0721b-202">**Hoge consistentie functies**: als een entiteit maakt gebruik van functies zoals sessies, detectie van duplicaten of expliciete controle van de partitiesleutel wordt Hallo messaging bewerkingen altijd gerouteerde toospecific fragmenten zijn.</span><span class="sxs-lookup"><span data-stu-id="0721b-202">**High consistency features**: If an entity uses features such as sessions, duplicate detection, or explicit control of partitioning key, then hello messaging operations are always routed toospecific fragments.</span></span> <span data-ttu-id="0721b-203">Als een Hallo fragmenten intensief verkeer ondervindt of Hallo onderliggende archief niet in orde is, wordt deze bewerkingen mislukken en beschikbaarheid wordt beperkt.</span><span class="sxs-lookup"><span data-stu-id="0721b-203">If any of hello fragments experience high traffic or hello underlying store is unhealthy, those operations fail and availability is reduced.</span></span> <span data-ttu-id="0721b-204">Over het algemeen is Hallo consistentie nog steeds veel hoger zijn dan niet-gepartitioneerde entiteiten; alleen een subset van verkeer ondervindt problemen als tegengestelde tooall Hallo verkeer.</span><span class="sxs-lookup"><span data-stu-id="0721b-204">Overall, hello consistency is still much higher than non-partitioned entities; only a subset of traffic is experiencing issues, as opposed tooall hello traffic.</span></span> <span data-ttu-id="0721b-205">Zie voor meer informatie dit [bespreking van de beschikbaarheid en consistentie](../event-hubs/event-hubs-availability-and-consistency.md).</span><span class="sxs-lookup"><span data-stu-id="0721b-205">For more information, see this [discussion of availability and consistency](../event-hubs/event-hubs-availability-and-consistency.md).</span></span>
* <span data-ttu-id="0721b-206">**Beheer**: bewerkingen zoals het maken, bijwerken en verwijderen moeten worden uitgevoerd op alle Hallo fragmenten van Hallo entiteit.</span><span class="sxs-lookup"><span data-stu-id="0721b-206">**Management**: Operations such as Create, Update and Delete must be performed on all hello fragments of hello entity.</span></span> <span data-ttu-id="0721b-207">Als een fragment slecht is kan dit leiden tot fouten voor deze bewerkingen.</span><span class="sxs-lookup"><span data-stu-id="0721b-207">If any fragment is unhealthy it could result in failures for these operations.</span></span> <span data-ttu-id="0721b-208">Voor de Get-bewerking hello, moet informatie zoals bericht telt worden samengevoegd uit alle fragmenten.</span><span class="sxs-lookup"><span data-stu-id="0721b-208">For hello Get operation, information such as message counts must be aggregated from all fragments.</span></span> <span data-ttu-id="0721b-209">Als een fragment niet in orde is, wordt Hallo entiteit beschikbaarheidsstatus gerapporteerd als beperkt.</span><span class="sxs-lookup"><span data-stu-id="0721b-209">If any fragment is unhealthy, hello entity availability status is reported as limited.</span></span>
* <span data-ttu-id="0721b-210">**Laag volume bericht scenario's**: voor dergelijke scenario's, met name wanneer u Hallo HTTP-protocol, moet u wellicht tooperform meerdere ontvangstbewerkingen in volgorde tooobtain alle Hallo-berichten.</span><span class="sxs-lookup"><span data-stu-id="0721b-210">**Low volume message scenarios**: For such scenarios, especially when using hello HTTP protocol, you may have tooperform multiple receive operations in order tooobtain all hello messages.</span></span> <span data-ttu-id="0721b-211">Voor ontvangstaanvragen, Hallo-front-end voert een receive op alle Hallo fragmenten en plaatst alle Hallo-antwoorden die worden ontvangen.</span><span class="sxs-lookup"><span data-stu-id="0721b-211">For receive requests, hello front end performs a receive on all hello fragments and caches all hello responses received.</span></span> <span data-ttu-id="0721b-212">Een aanvraag van de volgende ontvangen op Hallo van dezelfde verbinding wilt profiteren van deze opslaan in cache en latenties ontvangen, lager zal zijn.</span><span class="sxs-lookup"><span data-stu-id="0721b-212">A subsequent receive request on hello same connection would benefit from this caching and receive latencies will be lower.</span></span> <span data-ttu-id="0721b-213">Als u meerdere verbindingen of HTTP gebruiken, stelt die een nieuwe verbinding voor elke aanvraag.</span><span class="sxs-lookup"><span data-stu-id="0721b-213">However, if you have multiple connections or use HTTP, that establishes a new connection for each request.</span></span> <span data-ttu-id="0721b-214">Als zodanig er is geen garantie dat deze op Hallo neerzetten zou hetzelfde knooppunt.</span><span class="sxs-lookup"><span data-stu-id="0721b-214">As such, there is no guarantee that it would land on hello same node.</span></span> <span data-ttu-id="0721b-215">Als alle bestaande berichten worden vergrendeld en in de cache opgeslagen in een andere front-end Hallo ontvangen bewerking retourneert **null**.</span><span class="sxs-lookup"><span data-stu-id="0721b-215">If all existing messages are locked and cached in another front end, hello receive operation returns **null**.</span></span> <span data-ttu-id="0721b-216">Berichten uiteindelijk verlopen en u ze opnieuw kunt ontvangen.</span><span class="sxs-lookup"><span data-stu-id="0721b-216">Messages eventually expire and you can receive them again.</span></span> <span data-ttu-id="0721b-217">HTTP-keepalive wordt aanbevolen.</span><span class="sxs-lookup"><span data-stu-id="0721b-217">HTTP keep-alive is recommended.</span></span>
* <span data-ttu-id="0721b-218">**Bladeren/Peek berichten**: [PeekBatch](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_PeekBatch_System_Int32_) altijd retourneert geen Hallo aantal berichten dat is opgegeven in Hallo [MessageCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MessageCount) eigenschap.</span><span class="sxs-lookup"><span data-stu-id="0721b-218">**Browse/Peek messages**: [PeekBatch](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_PeekBatch_System_Int32_) does not always return hello number of messages specified in hello [MessageCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MessageCount) property.</span></span> <span data-ttu-id="0721b-219">Er zijn twee veelvoorkomende redenen voor dit.</span><span class="sxs-lookup"><span data-stu-id="0721b-219">There are two common reasons for this.</span></span> <span data-ttu-id="0721b-220">Een reden hiervoor is dat Hallo geaggregeerde grootte van verzameling Hallo berichten overschrijdt de maximale grootte van de Hallo van 256KB.</span><span class="sxs-lookup"><span data-stu-id="0721b-220">One reason is that hello aggregated size of hello collection of messages exceeds hello maximum size of 256KB.</span></span> <span data-ttu-id="0721b-221">Een andere reden is dat als Hallo wachtrij of onderwerp Hallo [EnablePartitioning eigenschap](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnablePartitioning) instellen te**true**, een partitie geen voldoende berichten toocomplete Hallo aangevraagd aantal berichten.</span><span class="sxs-lookup"><span data-stu-id="0721b-221">Another reason is that if hello queue or topic has hello [EnablePartitioning property](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnablePartitioning) set too**true**, a partition may not have enough messages toocomplete hello requested number of messages.</span></span> <span data-ttu-id="0721b-222">In het algemeen als een toepassing wil tooreceive een bepaald aantal berichten, deze moet aanroepen [PeekBatch](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_PeekBatch_System_Int32_) herhaaldelijk totdat het aantal berichten ophalen of er geen meer berichten toopeek zijn.</span><span class="sxs-lookup"><span data-stu-id="0721b-222">In general, if an application wants tooreceive a specific number of messages, it should call [PeekBatch](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_PeekBatch_System_Int32_) repeatedly until it gets that number of messages, or there are no more messages toopeek.</span></span> <span data-ttu-id="0721b-223">Zie voor meer informatie, waaronder codevoorbeelden [QueueClient.PeekBatch](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_PeekBatch_System_Int32_) of [SubscriptionClient.PeekBatch](/dotnet/api/microsoft.servicebus.messaging.subscriptionclient#Microsoft_ServiceBus_Messaging_SubscriptionClient_PeekBatch_System_Int32_).</span><span class="sxs-lookup"><span data-stu-id="0721b-223">For more information, including code samples, see [QueueClient.PeekBatch](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_PeekBatch_System_Int32_) or [SubscriptionClient.PeekBatch](/dotnet/api/microsoft.servicebus.messaging.subscriptionclient#Microsoft_ServiceBus_Messaging_SubscriptionClient_PeekBatch_System_Int32_).</span></span>

## <a name="latest-added-features"></a><span data-ttu-id="0721b-224">Meest recente extra functies</span><span class="sxs-lookup"><span data-stu-id="0721b-224">Latest added features</span></span>
* <span data-ttu-id="0721b-225">Toevoegen of verwijderen regel wordt nu ondersteund met gepartitioneerde entiteiten.</span><span class="sxs-lookup"><span data-stu-id="0721b-225">Add or remove rule is now supported with partitioned entities.</span></span> <span data-ttu-id="0721b-226">Verschillend zijn van niet-gepartitioneerde entiteiten, deze bewerkingen worden niet ondersteund onder transacties.</span><span class="sxs-lookup"><span data-stu-id="0721b-226">Different from non-partitioned entities, these operations are not supported under transactions.</span></span> 
* <span data-ttu-id="0721b-227">AMQP wordt nu ondersteund voor het verzenden en ontvangen van berichten tooand van een gepartitioneerde entiteit.</span><span class="sxs-lookup"><span data-stu-id="0721b-227">AMQP is now supported for sending and receiving messages tooand from a partitioned entity.</span></span>
* <span data-ttu-id="0721b-228">AMQP wordt nu ondersteund voor Hallo volgende bewerkingen: [Batch verzenden](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_BrokeredMessage__), [Batch ontvangen](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_ReceiveBatch_System_Int32_), [ontvangen door volgnummer](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_Receive_System_Int64_), [inspecteren](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_Peek), [ Vernieuwen van de vergrendeling](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_RenewMessageLock_System_Guid_), [bericht plannen](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_ScheduleMessageAsync_Microsoft_ServiceBus_Messaging_BrokeredMessage_System_DateTimeOffset_), [geplande bericht annuleren](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_CancelScheduledMessageAsync_System_Int64_), [regel toevoegen](/dotnet/api/microsoft.servicebus.messaging.ruledescription), [regel verwijderen](/dotnet/api/microsoft.servicebus.messaging.ruledescription), [Sessie vernieuwen vergrendeling](/dotnet/api/microsoft.servicebus.messaging.messagesession#Microsoft_ServiceBus_Messaging_MessageSession_RenewLock), [Set sessiestatus](/dotnet/api/microsoft.servicebus.messaging.messagesession#Microsoft_ServiceBus_Messaging_MessageSession_SetState_System_IO_Stream_), [Get-sessiestatus](/dotnet/api/microsoft.servicebus.messaging.messagesession#Microsoft_ServiceBus_Messaging_MessageSession_GetState), en [opsommen sessies](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_GetMessageSessionsAsync).</span><span class="sxs-lookup"><span data-stu-id="0721b-228">AMQP is now supported for hello following operations: [Batch Send](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_BrokeredMessage__), [Batch Receive](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_ReceiveBatch_System_Int32_), [Receive by Sequence Number](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_Receive_System_Int64_), [Peek](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_Peek), [Renew Lock](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_RenewMessageLock_System_Guid_), [Schedule Message](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_ScheduleMessageAsync_Microsoft_ServiceBus_Messaging_BrokeredMessage_System_DateTimeOffset_), [Cancel Scheduled Message](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_CancelScheduledMessageAsync_System_Int64_), [Add Rule](/dotnet/api/microsoft.servicebus.messaging.ruledescription), [Remove Rule](/dotnet/api/microsoft.servicebus.messaging.ruledescription), [Session Renew Lock](/dotnet/api/microsoft.servicebus.messaging.messagesession#Microsoft_ServiceBus_Messaging_MessageSession_RenewLock), [Set Session State](/dotnet/api/microsoft.servicebus.messaging.messagesession#Microsoft_ServiceBus_Messaging_MessageSession_SetState_System_IO_Stream_), [Get Session State](/dotnet/api/microsoft.servicebus.messaging.messagesession#Microsoft_ServiceBus_Messaging_MessageSession_GetState), and [Enumerate Sessions](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_GetMessageSessionsAsync).</span></span>

## <a name="partitioned-entities-limitations"></a><span data-ttu-id="0721b-229">Gepartitioneerde entiteiten beperkingen</span><span class="sxs-lookup"><span data-stu-id="0721b-229">Partitioned entities limitations</span></span>
<span data-ttu-id="0721b-230">Service Bus legt momenteel Hallo volgen beperkingen op gepartitioneerde wachtrijen en onderwerpen:</span><span class="sxs-lookup"><span data-stu-id="0721b-230">Currently Service Bus imposes hello following limitations on partitioned queues and topics:</span></span>

* <span data-ttu-id="0721b-231">Gepartitioneerde wachtrijen en onderwerpen ondersteunen geen verzenden van berichten die deel uitmaken van toodifferent sessies in één transactie.</span><span class="sxs-lookup"><span data-stu-id="0721b-231">Partitioned queues and topics do not support sending messages that belong toodifferent sessions in a single transaction.</span></span>
* <span data-ttu-id="0721b-232">Service Bus kunt momenteel up too100 gepartitioneerd wachtrijen en onderwerpen per naamruimte.</span><span class="sxs-lookup"><span data-stu-id="0721b-232">Service Bus currently allows up too100 partitioned queues or topics per namespace.</span></span> <span data-ttu-id="0721b-233">Elke gepartitioneerde wachtrij of onderwerp activeringservices, telt aantal Hallo quotum van 10.000 entiteiten per naamruimte (niet van toepassing tooPremium laag).</span><span class="sxs-lookup"><span data-stu-id="0721b-233">Each partitioned queue or topic counts towards hello quota of 10,000 entities per namespace (does not apply tooPremium tier).</span></span>

## <a name="next-steps"></a><span data-ttu-id="0721b-234">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="0721b-234">Next steps</span></span>
<span data-ttu-id="0721b-235">Zie Hallo bespreking van [AMQP 1.0-ondersteuning voor Service Bus-wachtrijen en onderwerpen gepartitioneerd] [ AMQP 1.0 support for Service Bus partitioned queues and topics] toolearn meer over berichtentiteiten partitioneren.</span><span class="sxs-lookup"><span data-stu-id="0721b-235">See hello discussion of [AMQP 1.0 support for Service Bus partitioned queues and topics][AMQP 1.0 support for Service Bus partitioned queues and topics] toolearn more about partitioning messaging entities.</span></span> 

[Service Bus architecture]: service-bus-architecture.md
[Azure portal]: https://portal.azure.com
[QueueDescription.EnablePartitioning]: /dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnablePartitioning
[TopicDescription.EnablePartitioning]: /dotnet/api/microsoft.servicebus.messaging.topicdescription#Microsoft_ServiceBus_Messaging_TopicDescription_EnablePartitioning
[BrokeredMessage.SessionId]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId
[BrokeredMessage.PartitionKey]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_PartitionKey
[SessionId]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId
[PartitionKey]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_PartitionKey
[QueueDescription.RequiresDuplicateDetection]: /dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_RequiresDuplicateDetection
[BrokeredMessage.MessageId]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId
[MessageId]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId
[MessagingFactorySettings.OperationTimeout]: /dotnet/api/microsoft.servicebus.messaging.messagingfactorysettings#Microsoft_ServiceBus_Messaging_MessagingFactorySettings_OperationTimeout
[OperationTimeout]: /dotnet/api/microsoft.servicebus.messaging.messagingfactorysettings#Microsoft_ServiceBus_Messaging_MessagingFactorySettings_OperationTimeout
[QueueDescription.ForwardTo]: /dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_ForwardTo
[AMQP 1.0 support for Service Bus partitioned queues and topics]: service-bus-partitioned-queues-and-topics-amqp-overview.md
