---
title: aaaAzure Service Bus-berichten architectuuroverzicht | Microsoft Docs
description: Hierin wordt beschreven Hallo-bericht architectuur voor het verwerken van Azure Service Bus.
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: baf94c2d-0e58-4d5d-a588-767f996ccf7f
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: f7606e40cdf6db3797a0db2de9365453ff2a158e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="service-bus-architecture"></a><span data-ttu-id="558d6-103">Service Bus-architectuur</span><span class="sxs-lookup"><span data-stu-id="558d6-103">Service Bus architecture</span></span>
<span data-ttu-id="558d6-104">Dit artikel wordt beschreven Hallo-bericht architectuur voor het verwerken van Azure Service Bus.</span><span class="sxs-lookup"><span data-stu-id="558d6-104">This article describes hello message processing architecture of Azure Service Bus.</span></span>

## <a name="service-bus-scale-units"></a><span data-ttu-id="558d6-105">Service Bus-schaaleenheden</span><span class="sxs-lookup"><span data-stu-id="558d6-105">Service Bus scale units</span></span>
<span data-ttu-id="558d6-106">Service Bus is georganiseerd op *schaaleenheden*.</span><span class="sxs-lookup"><span data-stu-id="558d6-106">Service Bus is organized by *scale units*.</span></span> <span data-ttu-id="558d6-107">Een schaaleenheid is een implementatie-eenheid en bevat alle onderdelen vereist uitvoeren Hallo-service.</span><span class="sxs-lookup"><span data-stu-id="558d6-107">A scale unit is a unit of deployment and contains all components required run hello service.</span></span> <span data-ttu-id="558d6-108">Elke regio implementeert een of meer Service Bus-schaaleenheden.</span><span class="sxs-lookup"><span data-stu-id="558d6-108">Each region deploys one or more Service Bus scale units.</span></span>

<span data-ttu-id="558d6-109">Een Service Bus-naamruimte is toegewezen tooa schaaleenheid.</span><span class="sxs-lookup"><span data-stu-id="558d6-109">A Service Bus namespace is mapped tooa scale unit.</span></span> <span data-ttu-id="558d6-110">Hallo schaaleenheid verwerkt alle typen Service Bus-entiteiten (wachtrijen, onderwerpen, abonnementen).</span><span class="sxs-lookup"><span data-stu-id="558d6-110">hello scale unit handles all types of Service Bus entities (queues, topics, subscriptions).</span></span> <span data-ttu-id="558d6-111">Een Service Bus-schaaleenheid bestaat uit Hallo volgende onderdelen:</span><span class="sxs-lookup"><span data-stu-id="558d6-111">A Service Bus scale unit consists of hello following components:</span></span>

* <span data-ttu-id="558d6-112">**Een set gateway-knooppunten.**</span><span class="sxs-lookup"><span data-stu-id="558d6-112">**A set of gateway nodes.**</span></span> <span data-ttu-id="558d6-113">Gateway-knooppunten verifiëren inkomende aanvragen.</span><span class="sxs-lookup"><span data-stu-id="558d6-113">Gateway nodes authenticate incoming requests.</span></span> <span data-ttu-id="558d6-114">Elk gateway-knooppunt heeft een openbaar IP-adres.</span><span class="sxs-lookup"><span data-stu-id="558d6-114">Each gateway node has a public IP address.</span></span>
* <span data-ttu-id="558d6-115">**Een set berichtbrokerknooppunten.**</span><span class="sxs-lookup"><span data-stu-id="558d6-115">**A set of messaging broker nodes.**</span></span> <span data-ttu-id="558d6-116">Berichtbrokerknooppunten verwerken aanvragen over berichtentiteiten.</span><span class="sxs-lookup"><span data-stu-id="558d6-116">Messaging broker nodes process requests concerning messaging entities.</span></span>
* <span data-ttu-id="558d6-117">**Een gateway-store.**</span><span class="sxs-lookup"><span data-stu-id="558d6-117">**One gateway store.**</span></span> <span data-ttu-id="558d6-118">Hallo gateway-store bevat Hallo-gegevens voor elke entiteit die is gedefinieerd in deze schaaleenheid.</span><span class="sxs-lookup"><span data-stu-id="558d6-118">hello gateway store holds hello data for every entity that is defined in this scale unit.</span></span> <span data-ttu-id="558d6-119">Hallo gateway-store is bovenop een SQL Azure database geïmplementeerd.</span><span class="sxs-lookup"><span data-stu-id="558d6-119">hello gateway store is implemented on top of a SQL Azure database.</span></span>
* <span data-ttu-id="558d6-120">**Meerdere berichten-stores.**</span><span class="sxs-lookup"><span data-stu-id="558d6-120">**Multiple messaging stores.**</span></span> <span data-ttu-id="558d6-121">Berichten-stores bevatten Hallo-berichten van alle wachtrijen, onderwerpen en abonnementen die zijn gedefinieerd in deze schaaleenheid.</span><span class="sxs-lookup"><span data-stu-id="558d6-121">Messaging stores hold hello messages of all queues, topics and subscriptions that are defined in this scale unit.</span></span> <span data-ttu-id="558d6-122">Het bevat ook alle abonnementsgegevens.</span><span class="sxs-lookup"><span data-stu-id="558d6-122">It also contains all subscription data.</span></span> <span data-ttu-id="558d6-123">Tenzij [berichtentiteiten partitioneren](service-bus-partitioning.md) is ingeschakeld, een wachtrij of onderwerp toegewezen tooone berichten-store is.</span><span class="sxs-lookup"><span data-stu-id="558d6-123">Unless [partitioning messaging entities](service-bus-partitioning.md) is enabled, a queue or topic is mapped tooone messaging store.</span></span> <span data-ttu-id="558d6-124">Abonnementen worden opgeslagen in Hallo dezelfde berichten-store als het bovenliggende onderwerp.</span><span class="sxs-lookup"><span data-stu-id="558d6-124">Subscriptions are stored in hello same messaging store as their parent topic.</span></span> <span data-ttu-id="558d6-125">Met uitzondering van Service Bus [Premium Messaging](service-bus-premium-messaging.md), Hallo-berichten-stores bovenop SQL Azure-databases zijn geïmplementeerd.</span><span class="sxs-lookup"><span data-stu-id="558d6-125">Except for Service Bus [Premium Messaging](service-bus-premium-messaging.md), hello messaging stores are implemented on top of SQL Azure databases.</span></span>

## <a name="containers"></a><span data-ttu-id="558d6-126">Containers</span><span class="sxs-lookup"><span data-stu-id="558d6-126">Containers</span></span>
<span data-ttu-id="558d6-127">Aan elke berichtentiteit is een specifieke container toegewezen.</span><span class="sxs-lookup"><span data-stu-id="558d6-127">Each messaging entity is assigned a specific container.</span></span> <span data-ttu-id="558d6-128">Een container is een logische constructie die gebruikmaakt van precies één messaging store toostore alle relevante gegevens voor deze container.</span><span class="sxs-lookup"><span data-stu-id="558d6-128">A container is a logical construct that uses exactly one messaging store toostore all relevant data for this container.</span></span> <span data-ttu-id="558d6-129">Elke container is tooa messaging-knooppunt toegewezen.</span><span class="sxs-lookup"><span data-stu-id="558d6-129">Each container is assigned tooa messaging broker node.</span></span> <span data-ttu-id="558d6-130">Er zijn meestal meer containers dan berichtbrokerknooppunten.</span><span class="sxs-lookup"><span data-stu-id="558d6-130">Typically, there are more containers than messaging broker nodes.</span></span> <span data-ttu-id="558d6-131">Elk berichtbrokerknooppunt laadt daarom meerdere containers.</span><span class="sxs-lookup"><span data-stu-id="558d6-131">Therefore, each messaging broker node loads multiple containers.</span></span> <span data-ttu-id="558d6-132">Hallo-distributie van containers tooa berichtbrokerknooppunt is zodanig georganiseerd dat alle berichtbrokerknooppunten evenwichtig worden belast.</span><span class="sxs-lookup"><span data-stu-id="558d6-132">hello distribution of containers tooa messaging broker node is organized such that all messaging broker nodes are equally loaded.</span></span> <span data-ttu-id="558d6-133">Als Hallo Hallo load patroon wijzigingen (bijvoorbeeld een Hallo containers opgehaald bezet) of als een tijdelijk niet beschikbaar is berichtbrokerknooppunt, wordt containers herverdeeld over Hallo berichtbrokerknooppunten.</span><span class="sxs-lookup"><span data-stu-id="558d6-133">If hello load pattern changes (for example, one of hello containers gets very busy), or if a messaging broker node becomes temporarily unavailable, hello containers are redistributed among hello messaging broker nodes.</span></span>

## <a name="processing-of-incoming-messaging-requests"></a><span data-ttu-id="558d6-134">Verwerken van inkomende berichtaanvragen</span><span class="sxs-lookup"><span data-stu-id="558d6-134">Processing of incoming messaging requests</span></span>
<span data-ttu-id="558d6-135">Wanneer een client een aanvraag tooService Bus verzendt, doorgestuurd hello Azure load balancer tooany van Hallo gateway-knooppunten.</span><span class="sxs-lookup"><span data-stu-id="558d6-135">When a client sends a request tooService Bus, hello Azure load balancer routes it tooany of hello gateway nodes.</span></span> <span data-ttu-id="558d6-136">Hallo gateway-knooppunt machtigt Hallo-aanvraag.</span><span class="sxs-lookup"><span data-stu-id="558d6-136">hello gateway node authorizes hello request.</span></span> <span data-ttu-id="558d6-137">Als Hallo aanvraag betrekking heeft op een Berichtentiteit (wachtrij, onderwerp, abonnement), wordt Hallo gateway-knooppunt zoekt Hallo entiteit in Hallo gateway-store en bepaalt in welke messaging store Hallo entiteit zich bevindt.</span><span class="sxs-lookup"><span data-stu-id="558d6-137">If hello request concerns a messaging entity (queue, topic, subscription), hello gateway node looks up hello entity in hello gateway store and determines in which messaging store hello entity is located.</span></span> <span data-ttu-id="558d6-138">Vervolgens controleert het knooppunt welk berichtbrokerknooppunt deze container wordt momenteel wordt uitgevoerd en stuurt Hallo aanvraag toothat messaging-knooppunt.</span><span class="sxs-lookup"><span data-stu-id="558d6-138">It then looks up which messaging broker node is currently servicing this container, and sends hello request toothat messaging broker node.</span></span> <span data-ttu-id="558d6-139">Hallo messaging broker knooppunt Hallo-aanvraag wordt verwerkt en Hallo entiteitsstatus bij in de container-store Hallo-updates.</span><span class="sxs-lookup"><span data-stu-id="558d6-139">hello messaging broker node processes hello request and updates hello entity state in hello container store.</span></span> <span data-ttu-id="558d6-140">Hallo messaging broker knooppunt vervolgens verzendt Hallo antwoord back toohello gateway-knooppunt, waarmee een juiste reactie back toohello client die oorspronkelijke uitgegeven Hallo-aanvraag wordt verzonden.</span><span class="sxs-lookup"><span data-stu-id="558d6-140">hello messaging broker node then sends hello response back toohello gateway node, which sends an appropriate response back toohello client that issued hello original request.</span></span>

![Verwerken van inkomende berichtaanvragen](./media/service-bus-architecture/ic690644.png)

## <a name="next-steps"></a><span data-ttu-id="558d6-142">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="558d6-142">Next steps</span></span>
<span data-ttu-id="558d6-143">Nu dat u een overzicht van Service Bus-architectuur hebt gelezen, gaat u naar Hallo volgende koppelingen voor meer informatie:</span><span class="sxs-lookup"><span data-stu-id="558d6-143">Now that you've read an overview of Service Bus architecture, visit hello following links for more information:</span></span>

* [<span data-ttu-id="558d6-144">Overzicht van Service Bus-berichten</span><span class="sxs-lookup"><span data-stu-id="558d6-144">Service Bus messaging overview</span></span>](service-bus-messaging-overview.md)
* [<span data-ttu-id="558d6-145">Grondbeginselen van Service Bus</span><span class="sxs-lookup"><span data-stu-id="558d6-145">Service Bus fundamentals</span></span>](service-bus-fundamentals-hybrid-solutions.md)
* [<span data-ttu-id="558d6-146">Een oplossing voor berichten in de wachtrij met behulp van Service Bus-wachtrijen</span><span class="sxs-lookup"><span data-stu-id="558d6-146">A queued messaging solution using Service Bus queues</span></span>](service-bus-dotnet-multi-tier-app-using-service-bus-queues.md)


