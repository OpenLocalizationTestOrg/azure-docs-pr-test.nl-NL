---
title: procedures voor het verbeteren van de prestaties met Azure Service Bus aaaBest | Microsoft Docs
description: Beschrijft hoe Service Bus toooptimize prestaties bij het uitwisselen van toouse brokered berichten.
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: e756c15d-31fc-45c0-8df4-0bca0da10bb2
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/10/2017
ms.author: sethm
ms.openlocfilehash: 52764d227757cbb11246675878933f21685817f1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-for-performance-improvements-using-service-bus-messaging"></a><span data-ttu-id="1925f-103">Aanbevolen procedures voor verbeterde prestaties met behulp van Service Bus-berichtenservice</span><span class="sxs-lookup"><span data-stu-id="1925f-103">Best Practices for performance improvements using Service Bus Messaging</span></span>

<span data-ttu-id="1925f-104">Dit artikel wordt beschreven hoe toouse [Azure Service Bus-berichtenservice](https://azure.microsoft.com/services/service-bus/) toooptimize prestaties bij het uitwisselen van brokered berichten.</span><span class="sxs-lookup"><span data-stu-id="1925f-104">This article describes how toouse [Azure Service Bus messaging](https://azure.microsoft.com/services/service-bus/) toooptimize performance when exchanging brokered messages.</span></span> <span data-ttu-id="1925f-105">Hallo eerste deel van dit onderwerp beschrijft Hallo verschillende mechanismen die de prestaties van toohelp worden aangeboden.</span><span class="sxs-lookup"><span data-stu-id="1925f-105">hello first part of this topic describes hello different mechanisms that are offered toohelp increase performance.</span></span> <span data-ttu-id="1925f-106">het tweede gedeelte Hallo biedt richtlijnen voor hoe toouse Service Bus op een manier die de klant kunt aanbieden Hallo voor optimale prestaties in een bepaald scenario.</span><span class="sxs-lookup"><span data-stu-id="1925f-106">hello second part provides guidance on how toouse Service Bus in a way that can offer hello best performance in a given scenario.</span></span>

<span data-ttu-id="1925f-107">In dit onderwerp verwijst de term Hallo 'client' tooany entiteit die toegang heeft tot de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="1925f-107">Throughout this topic, hello term "client" refers tooany entity that accesses Service Bus.</span></span> <span data-ttu-id="1925f-108">Een client kan duren voordat Hallo-rol van een afzender of een ontvanger.</span><span class="sxs-lookup"><span data-stu-id="1925f-108">A client can take hello role of a sender or a receiver.</span></span> <span data-ttu-id="1925f-109">Hallo term 'afzender' wordt gebruikt voor een Service Bus-wachtrij of onderwerp client die wordt verzonden berichten tooa Service Bus-wachtrij of onderwerp.</span><span class="sxs-lookup"><span data-stu-id="1925f-109">hello term "sender" is used for a Service Bus queue or topic client that sends messages tooa Service Bus queue or topic.</span></span> <span data-ttu-id="1925f-110">Hallo term 'ontvanger' verwijst tooa Service Bus wachtrij of abonnement client die berichten van een Service Bus-wachtrij of abonnement ontvangt.</span><span class="sxs-lookup"><span data-stu-id="1925f-110">hello term "receiver" refers tooa Service Bus queue or subscription client that receives messages from a Service Bus queue or subscription.</span></span>

<span data-ttu-id="1925f-111">Deze secties vindt enkele concepten die Service Bus maakt gebruik van toohelp hogere prestaties.</span><span class="sxs-lookup"><span data-stu-id="1925f-111">These sections introduce several concepts that Service Bus uses toohelp boost performance.</span></span>

## <a name="protocols"></a><span data-ttu-id="1925f-112">Protocollen</span><span class="sxs-lookup"><span data-stu-id="1925f-112">Protocols</span></span>
<span data-ttu-id="1925f-113">Service Bus kunnen clients toosend en ontvang berichten via een van drie protocollen:</span><span class="sxs-lookup"><span data-stu-id="1925f-113">Service Bus enables clients toosend and receive messages via one of three protocols:</span></span>

1. <span data-ttu-id="1925f-114">Geavanceerde Message Queuing-Protocol (AMQP)</span><span class="sxs-lookup"><span data-stu-id="1925f-114">Advanced Message Queuing Protocol (AMQP)</span></span>
2. <span data-ttu-id="1925f-115">Servicebus-berichtenservice Protocol (SBMP)</span><span class="sxs-lookup"><span data-stu-id="1925f-115">Service Bus Messaging Protocol (SBMP)</span></span>
3. <span data-ttu-id="1925f-116">HTTP</span><span class="sxs-lookup"><span data-stu-id="1925f-116">HTTP</span></span>

<span data-ttu-id="1925f-117">AMQP en SBMP zijn efficiënter, omdat ze Hallo verbinding tooService Bus onderhouden zolang Hallo messagingfactory bestaat.</span><span class="sxs-lookup"><span data-stu-id="1925f-117">AMQP and SBMP are more efficient, because they maintain hello connection tooService Bus as long as hello messaging factory exists.</span></span> <span data-ttu-id="1925f-118">Ook wordt batchverwerking en veelgevraagde geïmplementeerd.</span><span class="sxs-lookup"><span data-stu-id="1925f-118">It also implements batching and prefetching.</span></span> <span data-ttu-id="1925f-119">Tenzij expliciet wordt vermeld, is alle inhoud in dit onderwerp wordt ervan uitgegaan Hallo gebruik van AMQP of SBMP.</span><span class="sxs-lookup"><span data-stu-id="1925f-119">Unless explicitly mentioned, all content in this topic assumes hello use of AMQP or SBMP.</span></span>

## <a name="reusing-factories-and-clients"></a><span data-ttu-id="1925f-120">Hergebruik van de fabrieken en clients</span><span class="sxs-lookup"><span data-stu-id="1925f-120">Reusing factories and clients</span></span>
<span data-ttu-id="1925f-121">Service Bus-clienttoepassing objecten, zoals [QueueClient] [ QueueClient] of [MessageSender][MessageSender], worden gemaakt via een [ MessagingFactory] [ MessagingFactory] -object, dat ook interne beheer van verbindingen biedt.</span><span class="sxs-lookup"><span data-stu-id="1925f-121">Service Bus client objects, such as [QueueClient][QueueClient] or [MessageSender][MessageSender], are created through a [MessagingFactory][MessagingFactory] object, which also provides internal management of connections.</span></span> <span data-ttu-id="1925f-122">U moet messaging fabrieken of wachtrij, onderwerp en Abonnementclients niet sluiten nadat u een bericht verzenden en opnieuw maken wanneer u het volgende Hallo-bericht verzenden.</span><span class="sxs-lookup"><span data-stu-id="1925f-122">You should not close messaging factories or queue, topic, and subscription clients after you send a message, and then re-create them when you send hello next message.</span></span> <span data-ttu-id="1925f-123">Sluiten van een messagingfactory verwijdert Hallo verbinding toohello Service Bus-service en een nieuwe verbinding tot stand is gebracht wanneer Hallo factory opnieuw te maken.</span><span class="sxs-lookup"><span data-stu-id="1925f-123">Closing a messaging factory deletes hello connection toohello Service Bus service, and a new connection is established when recreating hello factory.</span></span> <span data-ttu-id="1925f-124">Meerdere bewerkingen tot stand brengen van dat een verbinding is een dure bewerking die u kunt voorkomen door opnieuw Hallo dezelfde factory en client objecten.</span><span class="sxs-lookup"><span data-stu-id="1925f-124">Establishing a connection is an expensive operation that you can avoid by re-using hello same factory and client objects for multiple operations.</span></span> <span data-ttu-id="1925f-125">U kunt veilig Hallo [QueueClient] [ QueueClient] -object voor het verzenden van berichten van gelijktijdige asynchrone bewerkingen en meerdere threads.</span><span class="sxs-lookup"><span data-stu-id="1925f-125">You can safely use hello [QueueClient][QueueClient] object for sending messages from concurrent asynchronous operations and multiple threads.</span></span> 

## <a name="concurrent-operations"></a><span data-ttu-id="1925f-126">Gelijktijdige bewerkingen</span><span class="sxs-lookup"><span data-stu-id="1925f-126">Concurrent operations</span></span>
<span data-ttu-id="1925f-127">Een bewerking (verzenden, ontvangen, verwijderen, enz.) neemt enige tijd in.</span><span class="sxs-lookup"><span data-stu-id="1925f-127">Performing an operation (send, receive, delete, etc.) takes some time.</span></span> <span data-ttu-id="1925f-128">Deze tijd bevat Hallo verwerking van Hallo bewerking door Hallo Service Bus-service in toevoeging toohello latentie van Hallo-aanvraag en Hallo-antwoorden.</span><span class="sxs-lookup"><span data-stu-id="1925f-128">This time includes hello processing of hello operation by hello Service Bus service in addition toohello latency of hello request and hello reply.</span></span> <span data-ttu-id="1925f-129">tooincrease hello aantal bewerkingen per keer, moeten bewerkingen tegelijkertijd uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="1925f-129">tooincrease hello number of operations per time, operations must execute concurrently.</span></span> <span data-ttu-id="1925f-130">U kunt dit op verschillende manieren doen:</span><span class="sxs-lookup"><span data-stu-id="1925f-130">You can do this in several different ways:</span></span>

* <span data-ttu-id="1925f-131">**Asynchrone bewerkingen**: Hallo client plant u bewerkingen door het uitvoeren van asynchrone bewerkingen.</span><span class="sxs-lookup"><span data-stu-id="1925f-131">**Asynchronous operations**: hello client schedules operations by performing asynchronous operations.</span></span> <span data-ttu-id="1925f-132">de volgende aanvraag Hello wordt gestart voordat de vorige Hallo-aanvraag is voltooid.</span><span class="sxs-lookup"><span data-stu-id="1925f-132">hello next request is started before hello previous request is completed.</span></span> <span data-ttu-id="1925f-133">Hallo Hieronder volgt een voorbeeld van een verzendbewerking asynchroon:</span><span class="sxs-lookup"><span data-stu-id="1925f-133">hello following is an example of an asynchronous send operation:</span></span>
  
 ```csharp
  BrokeredMessage m1 = new BrokeredMessage(body);
  BrokeredMessage m2 = new BrokeredMessage(body);
  
  Task send1 = queueClient.SendAsync(m1).ContinueWith((t) => 
    {
      Console.WriteLine("Sent message #1");
    });
  Task send2 = queueClient.SendAsync(m2).ContinueWith((t) => 
    {
      Console.WriteLine("Sent message #2");
    });
  Task.WaitAll(send1, send2);
  Console.WriteLine("All messages sent");
  ```
  
  <span data-ttu-id="1925f-134">Dit is een voorbeeld van een asynchrone bewerking ontvangen:</span><span class="sxs-lookup"><span data-stu-id="1925f-134">This is an example of an asynchronous receive operation:</span></span>
  
  ```csharp
  Task receive1 = queueClient.ReceiveAsync().ContinueWith(ProcessReceivedMessage);
  Task receive2 = queueClient.ReceiveAsync().ContinueWith(ProcessReceivedMessage);
  
  Task.WaitAll(receive1, receive2);
  Console.WriteLine("All messages received");
  
  async void ProcessReceivedMessage(Task<BrokeredMessage> t)
  {
    BrokeredMessage m = t.Result;
    Console.WriteLine("{0} received", m.Label);
    await m.CompleteAsync();
    Console.WriteLine("{0} complete", m.Label);
  }
  ```
* <span data-ttu-id="1925f-135">**Meerdere fabrieken**: alle clients (afzenders in toevoeging tooreceivers) die zijn gemaakt door Hallo dezelfde factory share een TCP-verbinding.</span><span class="sxs-lookup"><span data-stu-id="1925f-135">**Multiple factories**: all clients (senders in addition tooreceivers) that are created by hello same factory share one TCP connection.</span></span> <span data-ttu-id="1925f-136">Hallo maximale doorvoer wordt beperkt door Hallo aantal bewerkingen dat deze TCP-verbinding kunt doorlopen.</span><span class="sxs-lookup"><span data-stu-id="1925f-136">hello maximum message throughput is limited by hello number of operations that can go through this TCP connection.</span></span> <span data-ttu-id="1925f-137">Hallo-doorvoer die kan worden verkregen met een enkele factory varieert aanzienlijk met TCP-inclusief de tijd en de grootte van het bericht.</span><span class="sxs-lookup"><span data-stu-id="1925f-137">hello throughput that can be obtained with a single factory varies greatly with TCP round-trip times and message size.</span></span> <span data-ttu-id="1925f-138">hogere doorvoersnelheden tooobtain, moet u meerdere messaging fabrieken gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1925f-138">tooobtain higher throughput rates, you should use multiple messaging factories.</span></span>

## <a name="receive-mode"></a><span data-ttu-id="1925f-139">Modus ontvangen</span><span class="sxs-lookup"><span data-stu-id="1925f-139">Receive mode</span></span>
<span data-ttu-id="1925f-140">Wanneer u een wachtrij of abonnement client maakt, kunt u een receive-modus: *Peek vergrendeling* of *ontvangt en verwijdert*.</span><span class="sxs-lookup"><span data-stu-id="1925f-140">When creating a queue or subscription client, you can specify a receive mode: *Peek-lock* or *Receive and Delete*.</span></span> <span data-ttu-id="1925f-141">Hallo standaard modus ontvangen is [PeekLock][PeekLock].</span><span class="sxs-lookup"><span data-stu-id="1925f-141">hello default receive mode is [PeekLock][PeekLock].</span></span> <span data-ttu-id="1925f-142">Als het wordt uitgevoerd in deze modus, Hallo client verzendt een aanvraag tooreceive een bericht uit de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="1925f-142">When operating in this mode, hello client sends a request tooreceive a message from Service Bus.</span></span> <span data-ttu-id="1925f-143">Nadat het Hallo-client heeft het Hallo-bericht ontvangen, wordt een aanvraag toocomplete Hallo-bericht verzonden.</span><span class="sxs-lookup"><span data-stu-id="1925f-143">After hello client has received hello message, it sends a request toocomplete hello message.</span></span>

<span data-ttu-id="1925f-144">Hallo instellen wanneer modus te ontvangen[ReceiveAndDelete][ReceiveAndDelete], beide stappen worden gecombineerd in één aanvraag.</span><span class="sxs-lookup"><span data-stu-id="1925f-144">When setting hello receive mode too[ReceiveAndDelete][ReceiveAndDelete], both steps are combined in a single request.</span></span> <span data-ttu-id="1925f-145">Dit vermindert het totale aantal bewerkingen hello, en kunnen verbeteren Hallo totale doorvoer van het bericht.</span><span class="sxs-lookup"><span data-stu-id="1925f-145">This reduces hello overall number of operations, and can improve hello overall message throughput.</span></span> <span data-ttu-id="1925f-146">Deze prestatieverbetering wordt geleverd op Hallo risico van het verlies van berichten.</span><span class="sxs-lookup"><span data-stu-id="1925f-146">This performance gain comes at hello risk of losing messages.</span></span>

<span data-ttu-id="1925f-147">Service Bus biedt geen ondersteuning voor transacties voor ontvangen en delete-bewerkingen.</span><span class="sxs-lookup"><span data-stu-id="1925f-147">Service Bus does not support transactions for receive-and-delete operations.</span></span> <span data-ttu-id="1925f-148">Bovendien peek vergrendeling semantiek zijn vereist voor elk scenario's in welke Hallo client wil toodefer of [onbestelbare](service-bus-dead-letter-queues.md) een bericht.</span><span class="sxs-lookup"><span data-stu-id="1925f-148">In addition, peek-lock semantics are required for any scenarios in which hello client wants toodefer or [dead-letter](service-bus-dead-letter-queues.md) a message.</span></span>

## <a name="client-side-batching"></a><span data-ttu-id="1925f-149">Batchverwerking aan de clientzijde</span><span class="sxs-lookup"><span data-stu-id="1925f-149">Client-side batching</span></span>
<span data-ttu-id="1925f-150">Batchverwerking aan de clientzijde, kunt een wachtrij of onderwerp client toodelay Hallo verzenden van een bericht voor een bepaalde periode.</span><span class="sxs-lookup"><span data-stu-id="1925f-150">Client-side batching enables a queue or topic client toodelay hello sending of a message for a certain period of time.</span></span> <span data-ttu-id="1925f-151">Als extra berichten Hallo client tijdens deze periode verzendt, verzendt het Hallo-berichten in één batch.</span><span class="sxs-lookup"><span data-stu-id="1925f-151">If hello client sends additional messages during this time period, it transmits hello messages in a single batch.</span></span> <span data-ttu-id="1925f-152">Client-side batchverwerking ook zorgt ervoor dat een client wachtrij of abonnement toobatch meerdere **Complete** aanvragen in één aanvraag.</span><span class="sxs-lookup"><span data-stu-id="1925f-152">Client-side batching also causes a queue or subscription client toobatch multiple **Complete** requests into a single request.</span></span> <span data-ttu-id="1925f-153">Batchverwerking is alleen beschikbaar voor asynchrone **verzenden** en **Complete** bewerkingen.</span><span class="sxs-lookup"><span data-stu-id="1925f-153">Batching is only available for asynchronous **Send** and **Complete** operations.</span></span> <span data-ttu-id="1925f-154">Synchrone bewerkingen worden onmiddellijk toohello Service Bus-service verzonden.</span><span class="sxs-lookup"><span data-stu-id="1925f-154">Synchronous operations are immediately sent toohello Service Bus service.</span></span> <span data-ttu-id="1925f-155">Geen batchverwerking optreden voor peek of ontvangstbewerkingen, noch gebeurt batchverwerking over clients.</span><span class="sxs-lookup"><span data-stu-id="1925f-155">Batching does not occur for peek or receive operations, nor does batching occur across clients.</span></span>

<span data-ttu-id="1925f-156">Een client gebruikt standaard een batch-interval van 20ms.</span><span class="sxs-lookup"><span data-stu-id="1925f-156">By default, a client uses a batch interval of 20ms.</span></span> <span data-ttu-id="1925f-157">U kunt hello batch-interval wijzigen door de instelling Hallo [BatchFlushInterval] [ BatchFlushInterval] eigenschap voordat u Hallo messagingfactory.</span><span class="sxs-lookup"><span data-stu-id="1925f-157">You can change hello batch interval by setting hello [BatchFlushInterval][BatchFlushInterval] property before creating hello messaging factory.</span></span> <span data-ttu-id="1925f-158">Deze instelling geldt voor alle clients die zijn gemaakt door deze factory.</span><span class="sxs-lookup"><span data-stu-id="1925f-158">This setting affects all clients that are created by this factory.</span></span>

<span data-ttu-id="1925f-159">Hallo toodisable batches, stel [BatchFlushInterval] [ BatchFlushInterval] eigenschap te**TimeSpan.Zero**.</span><span class="sxs-lookup"><span data-stu-id="1925f-159">toodisable batching, set hello [BatchFlushInterval][BatchFlushInterval] property too**TimeSpan.Zero**.</span></span> <span data-ttu-id="1925f-160">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="1925f-160">For example:</span></span>

```csharp
MessagingFactorySettings mfs = new MessagingFactorySettings();
mfs.TokenProvider = tokenProvider;
mfs.NetMessagingTransportSettings.BatchFlushInterval = TimeSpan.FromSeconds(0.05);
MessagingFactory messagingFactory = MessagingFactory.Create(namespaceUri, mfs);
```

<span data-ttu-id="1925f-161">Batchverwerking heeft geen invloed op Hallo aantal factureerbare messaging-bewerkingen, en is alleen beschikbaar voor Hallo clientprotocol Service Bus.</span><span class="sxs-lookup"><span data-stu-id="1925f-161">Batching does not affect hello number of billable messaging operations, and is available only for hello Service Bus client protocol.</span></span> <span data-ttu-id="1925f-162">Hallo HTTP-protocol biedt geen ondersteuning voor batchverwerking.</span><span class="sxs-lookup"><span data-stu-id="1925f-162">hello HTTP protocol does not support batching.</span></span>

## <a name="batching-store-access"></a><span data-ttu-id="1925f-163">Toegang tot store batchverwerking</span><span class="sxs-lookup"><span data-stu-id="1925f-163">Batching store access</span></span>
<span data-ttu-id="1925f-164">tooincrease hello doorvoer van een wachtrij, onderwerp of abonnement, Servicebus batches meerdere berichten wanneer tooits interne store worden geschreven.</span><span class="sxs-lookup"><span data-stu-id="1925f-164">tooincrease hello throughput of a queue, topic, or subscription, Service Bus batches multiple messages when it writes tooits internal store.</span></span> <span data-ttu-id="1925f-165">Als ingeschakeld op een wachtrij of onderwerp, berichten schrijven naar Hallo archief wordt in batch worden opgenomen.</span><span class="sxs-lookup"><span data-stu-id="1925f-165">If enabled on a queue or topic, writing messages into hello store will be batched.</span></span> <span data-ttu-id="1925f-166">Als ingeschakeld op een wachtrij of een abonnement, verwijderen van berichten uit de store hello wordt in batch worden opgenomen.</span><span class="sxs-lookup"><span data-stu-id="1925f-166">If enabled on a queue or subscription, deleting messages from hello store will be batched.</span></span> <span data-ttu-id="1925f-167">Als toegang tot batch store is ingeschakeld voor een entiteit, Service Bus een schrijfbewerking voor een winkel met betrekking tot die entiteit door up too20ms vertraging.</span><span class="sxs-lookup"><span data-stu-id="1925f-167">If batched store access is enabled for an entity, Service Bus delays a store write operation regarding that entity by up too20ms.</span></span> <span data-ttu-id="1925f-168">Aanvullende store bewerkingen die zich tijdens dit interval voordoen toegevoegd toohello batch.</span><span class="sxs-lookup"><span data-stu-id="1925f-168">Additional store operations that occur during this interval are added toohello batch.</span></span> <span data-ttu-id="1925f-169">Batch verwerkt store toegang alleen van invloed op **verzenden** en **Complete** operations; ontvangen bewerkingen worden niet beïnvloed.</span><span class="sxs-lookup"><span data-stu-id="1925f-169">Batched store access only affects **Send** and **Complete** operations; receive operations are not affected.</span></span> <span data-ttu-id="1925f-170">Toegang tot batch store is een eigenschap van een entiteit.</span><span class="sxs-lookup"><span data-stu-id="1925f-170">Batched store access is a property on an entity.</span></span> <span data-ttu-id="1925f-171">Batchverwerking vindt plaats via alle entiteiten waarmee toegang tot batch store.</span><span class="sxs-lookup"><span data-stu-id="1925f-171">Batching occurs across all entities that enable batched store access.</span></span>

<span data-ttu-id="1925f-172">Wanneer u een nieuwe wachtrij, onderwerp of abonnement maakt, wordt toegang tot batch store standaard ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="1925f-172">When creating a new queue, topic or subscription, batched store access is enabled by default.</span></span> <span data-ttu-id="1925f-173">toodisable batch verwerkt toegang tot store, set Hallo [EnableBatchedOperations] [ EnableBatchedOperations] eigenschap te**false** voordat het Hallo-entiteit maken.</span><span class="sxs-lookup"><span data-stu-id="1925f-173">toodisable batched store access, set hello [EnableBatchedOperations][EnableBatchedOperations] property too**false** before creating hello entity.</span></span> <span data-ttu-id="1925f-174">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="1925f-174">For example:</span></span>

```csharp
QueueDescription qd = new QueueDescription();
qd.EnableBatchedOperations = false;
Queue q = namespaceManager.CreateQueue(qd);
```

<span data-ttu-id="1925f-175">Toegang tot batch store heeft geen invloed op Hallo aantal factureerbare messaging-bewerkingen, en is een eigenschap van een wachtrij, onderwerp of abonnement.</span><span class="sxs-lookup"><span data-stu-id="1925f-175">Batched store access does not affect hello number of billable messaging operations, and is a property of a queue, topic, or subscription.</span></span> <span data-ttu-id="1925f-176">Het is onafhankelijk van Hallo modus en het Hallo-protocol dat wordt gebruikt tussen een client en het Hallo Service Bus-service ontvangen.</span><span class="sxs-lookup"><span data-stu-id="1925f-176">It is independent of hello receive mode and hello protocol that is used between a client and hello Service Bus service.</span></span>

## <a name="prefetching"></a><span data-ttu-id="1925f-177">Veelgevraagde</span><span class="sxs-lookup"><span data-stu-id="1925f-177">Prefetching</span></span>
<span data-ttu-id="1925f-178">Veelgevraagde Hallo wachtrij of abonnement client tooload aanvullende berichten kan van Hallo-service tijdens het uitvoeren van een ontvangstbewerking.</span><span class="sxs-lookup"><span data-stu-id="1925f-178">Prefetching enables hello queue or subscription client tooload additional messages from hello service when it performs a receive operation.</span></span> <span data-ttu-id="1925f-179">Hallo client slaat deze berichten in een lokale cache.</span><span class="sxs-lookup"><span data-stu-id="1925f-179">hello client stores these messages in a local cache.</span></span> <span data-ttu-id="1925f-180">Hallo-grootte van Hallo-cache wordt bepaald door Hallo [QueueClient.PrefetchCount] [ QueueClient.PrefetchCount] of [SubscriptionClient.PrefetchCount] [ SubscriptionClient.PrefetchCount] Eigenschappen.</span><span class="sxs-lookup"><span data-stu-id="1925f-180">hello size of hello cache is determined by hello [QueueClient.PrefetchCount][QueueClient.PrefetchCount] or [SubscriptionClient.PrefetchCount][SubscriptionClient.PrefetchCount] properties.</span></span> <span data-ttu-id="1925f-181">Elke client waarmee veelgevraagde onderhoudt een eigen cache.</span><span class="sxs-lookup"><span data-stu-id="1925f-181">Each client that enables prefetching maintains its own cache.</span></span> <span data-ttu-id="1925f-182">Een cache wordt niet gedeeld door clients.</span><span class="sxs-lookup"><span data-stu-id="1925f-182">A cache is not shared across clients.</span></span> <span data-ttu-id="1925f-183">Als Hallo client een ontvangstbewerking initieert en de cache leeg is, verzendt Hallo-service een batch van berichten.</span><span class="sxs-lookup"><span data-stu-id="1925f-183">If hello client initiates a receive operation and its cache is empty, hello service transmits a batch of messages.</span></span> <span data-ttu-id="1925f-184">Hallo-grootte van Hallo batch is gelijk aan Hallo grootte van het Hallo-cache of 256 KB, afhankelijk van wat kleiner is.</span><span class="sxs-lookup"><span data-stu-id="1925f-184">hello size of hello batch equals hello size of hello cache or 256 KB, whichever is smaller.</span></span> <span data-ttu-id="1925f-185">Als Hallo client een ontvangstbewerking initieert en Hallo-cache een bericht bevat, wordt het Hallo-bericht opgehaald uit Hallo-cache.</span><span class="sxs-lookup"><span data-stu-id="1925f-185">If hello client initiates a receive operation and hello cache contains a message, hello message is taken from hello cache.</span></span>

<span data-ttu-id="1925f-186">Wanneer een bericht is tabelruimte, Hallo service vergrendelingen Hallo tabelruimte-bericht.</span><span class="sxs-lookup"><span data-stu-id="1925f-186">When a message is prefetched, hello service locks hello prefetched message.</span></span> <span data-ttu-id="1925f-187">Op deze manier kan niet tabelruimte Hallo-bericht worden ontvangen door een andere ontvanger.</span><span class="sxs-lookup"><span data-stu-id="1925f-187">By doing this, hello prefetched message cannot be received by a different receiver.</span></span> <span data-ttu-id="1925f-188">Als het Hallo-bericht Hallo ontvanger kan niet worden voltooid voordat Hallo vergrendeling verloopt, wordt het Hallo-bericht beschikbaar tooother ontvangers.</span><span class="sxs-lookup"><span data-stu-id="1925f-188">If hello receiver cannot complete hello message before hello lock expires, hello message becomes available tooother receivers.</span></span> <span data-ttu-id="1925f-189">Hallo tabelruimte kopie van het Hallo-bericht blijft in cache Hallo.</span><span class="sxs-lookup"><span data-stu-id="1925f-189">hello prefetched copy of hello message remains in hello cache.</span></span> <span data-ttu-id="1925f-190">Hallo ontvanger die Hallo verbruikt verlopen in de cache opgeslagen kopie een uitzondering ontvangen bij een poging toocomplete bericht.</span><span class="sxs-lookup"><span data-stu-id="1925f-190">hello receiver that consumes hello expired cached copy will receive an exception when it tries toocomplete that message.</span></span> <span data-ttu-id="1925f-191">Standaard verloopt Hallo-bericht vergrendelen na 60 seconden.</span><span class="sxs-lookup"><span data-stu-id="1925f-191">By default, hello message lock expires after 60 seconds.</span></span> <span data-ttu-id="1925f-192">Deze waarde kan uitgebreide too5 minuten zijn.</span><span class="sxs-lookup"><span data-stu-id="1925f-192">This value can be extended too5 minutes.</span></span> <span data-ttu-id="1925f-193">tooprevent hello verbruik van verlopen berichten, Hallo cachegrootte moet altijd kleiner zijn dan Hallo aantal berichten dat kan worden gebruikt door een client binnen de time-outinterval van Hallo-vergrendeling.</span><span class="sxs-lookup"><span data-stu-id="1925f-193">tooprevent hello consumption of expired messages, hello cache size should always be smaller than hello number of messages that can be consumed by a client within hello lock time-out interval.</span></span>

<span data-ttu-id="1925f-194">Wanneer u Hallo standaard vergrendeling vervaldatum van 60 seconden, een goede waarde voor [SubscriptionClient.PrefetchCount] [ SubscriptionClient.PrefetchCount] is 20 keer Hallo maximale verwerkingssnelheid weer van alle ontvangers van het Hallo-factory.</span><span class="sxs-lookup"><span data-stu-id="1925f-194">When using hello default lock expiration of 60 seconds, a good value for [SubscriptionClient.PrefetchCount][SubscriptionClient.PrefetchCount] is 20 times hello maximum processing rates of all receivers of hello factory.</span></span> <span data-ttu-id="1925f-195">Bijvoorbeeld, een factory maakt 3 ontvangers en elke ontvanger too10 berichten per seconde kan verwerken.</span><span class="sxs-lookup"><span data-stu-id="1925f-195">For example, a factory creates 3 receivers, and each receiver can process up too10 messages per second.</span></span> <span data-ttu-id="1925f-196">Hallo prefetch aantal mag niet meer dan 20 X 3 X 10 = 600.</span><span class="sxs-lookup"><span data-stu-id="1925f-196">hello prefetch count should not exceed 20 X 3 X 10 = 600.</span></span> <span data-ttu-id="1925f-197">Standaard [QueueClient.PrefetchCount] [ QueueClient.PrefetchCount] set too0, wat betekent dat er geen berichten meer worden opgehaald van Hallo-service is.</span><span class="sxs-lookup"><span data-stu-id="1925f-197">By default, [QueueClient.PrefetchCount][QueueClient.PrefetchCount] is set too0, which means that no additional messages are fetched from hello service.</span></span>

<span data-ttu-id="1925f-198">Veelgevraagde toeneemt Hallo totale doorvoer voor een wachtrij of een abonnement, omdat dit het totale aantal berichtbewerkingen of retouren Hallo verlaagt berichten.</span><span class="sxs-lookup"><span data-stu-id="1925f-198">Prefetching messages increases hello overall throughput for a queue or subscription because it reduces hello overall number of message operations, or round trips.</span></span> <span data-ttu-id="1925f-199">Ophalen van de eerste Hallo-bericht, maar duurt langer (vervaldatum toohello verhoogd berichtgrootte).</span><span class="sxs-lookup"><span data-stu-id="1925f-199">Fetching hello first message, however, will take longer (due toohello increased message size).</span></span> <span data-ttu-id="1925f-200">Ontvangen van berichten tabelruimte worden sneller omdat deze berichten door de client Hallo al zijn gedownload.</span><span class="sxs-lookup"><span data-stu-id="1925f-200">Receiving prefetched messages will be faster because these messages have already been downloaded by hello client.</span></span>

<span data-ttu-id="1925f-201">Hallo time to live (TTL)-eigenschap van een bericht wordt gecontroleerd door Hallo-server op Hallo moment Hallo-server Hallo-bericht toohello client stuurt.</span><span class="sxs-lookup"><span data-stu-id="1925f-201">hello time-to-live (TTL) property of a message is checked by hello server at hello time hello server sends hello message toohello client.</span></span> <span data-ttu-id="1925f-202">Hallo-client controleert Hallo-bericht TTL-eigenschap niet wanneer het Hallo-bericht wordt ontvangen.</span><span class="sxs-lookup"><span data-stu-id="1925f-202">hello client does not check hello message’s TTL property when hello message is received.</span></span> <span data-ttu-id="1925f-203">Hallo-bericht kan in plaats daarvan worden ontvangen, zelfs als de TTL Hallo-bericht is verstreken terwijl het Hallo-bericht door Hallo-client in de cache is opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="1925f-203">Instead, hello message can be received even if hello message’s TTL has passed while hello message was cached by hello client.</span></span>

<span data-ttu-id="1925f-204">Veelgevraagde heeft geen invloed op Hallo aantal factureerbare messaging-bewerkingen, en is alleen beschikbaar voor Hallo clientprotocol Service Bus.</span><span class="sxs-lookup"><span data-stu-id="1925f-204">Prefetching does not affect hello number of billable messaging operations, and is available only for hello Service Bus client protocol.</span></span> <span data-ttu-id="1925f-205">Hallo HTTP-protocol biedt geen ondersteuning voor veelgevraagde.</span><span class="sxs-lookup"><span data-stu-id="1925f-205">hello HTTP protocol does not support prefetching.</span></span> <span data-ttu-id="1925f-206">Veelgevraagde is beschikbaar voor synchrone en asynchrone bewerkingen ontvangen.</span><span class="sxs-lookup"><span data-stu-id="1925f-206">Prefetching is available for both synchronous and asynchronous receive operations.</span></span>

## <a name="express-queues-and-topics"></a><span data-ttu-id="1925f-207">Wachtrijen en onderwerpen Express</span><span class="sxs-lookup"><span data-stu-id="1925f-207">Express queues and topics</span></span>

<span data-ttu-id="1925f-208">Express-entiteiten hoge doorvoer en lagere latentie scenario's inschakelen en worden alleen ondersteund in Hallo standaardcategorie messaging.</span><span class="sxs-lookup"><span data-stu-id="1925f-208">Express entities enable high throughput and reduced latency scenarios, and are supported only in hello Standard messaging tier.</span></span> <span data-ttu-id="1925f-209">Entiteiten die zijn gemaakt [Premium-naamruimten](service-bus-premium-messaging.md) snelle Hallo-optie niet ondersteunen.</span><span class="sxs-lookup"><span data-stu-id="1925f-209">Entities created in [Premium namespaces](service-bus-premium-messaging.md) do not support hello express option.</span></span> <span data-ttu-id="1925f-210">Met de express-entiteiten als een bericht wordt verzonden tooa wachtrij of onderwerp is Hallo-bericht niet onmiddellijk in opgeslagen Hallo-berichten-store.</span><span class="sxs-lookup"><span data-stu-id="1925f-210">With express entities, if a message is sent tooa queue or topic, hello message is not immediately stored in hello messaging store.</span></span> <span data-ttu-id="1925f-211">In plaats daarvan wordt het tijdelijk opgeslagen in het geheugen.</span><span class="sxs-lookup"><span data-stu-id="1925f-211">Instead, it is cached in memory.</span></span> <span data-ttu-id="1925f-212">Als een bericht in de wachtrij Hallo meer dan een paar seconden blijft, wordt deze automatisch toostable opslag, dus te beveiligen tegen verlies vanwege tooan onderbreking geschreven.</span><span class="sxs-lookup"><span data-stu-id="1925f-212">If a message remains in hello queue for more than a few seconds, it is automatically written toostable storage, thus protecting it against loss due tooan outage.</span></span> <span data-ttu-id="1925f-213">Schrijven van het Hallo-bericht in een geheugencache verhoogt de doorvoer en vermindert de latentie omdat er geen toostable toegang tot opslag op Hallo tijd Hallo-bericht verzonden.</span><span class="sxs-lookup"><span data-stu-id="1925f-213">Writing hello message into a memory cache increases throughput and reduces latency because there is no access toostable storage at hello time hello message is sent.</span></span> <span data-ttu-id="1925f-214">Berichten die worden gebruikt binnen een paar seconden worden toohello messaging store niet geschreven.</span><span class="sxs-lookup"><span data-stu-id="1925f-214">Messages that are consumed within a few seconds are not written toohello messaging store.</span></span> <span data-ttu-id="1925f-215">Hallo volgende voorbeeld maakt een snelle onderwerp.</span><span class="sxs-lookup"><span data-stu-id="1925f-215">hello following example creates an express topic.</span></span>

```csharp
TopicDescription td = new TopicDescription(TopicName);
td.EnableExpress = true;
namespaceManager.CreateTopic(td);
```

<span data-ttu-id="1925f-216">Als een bericht weergegeven met essentiële informatie die mag geen verloren wordt verzonden tooan snelle entiteit, Hallo afzender Service Bus kunt afdwingen tooimmediately leggen Hallo-bericht toostable opslag instellen Hallo [ForcePersistence] [ ForcePersistence] eigenschap te**true**.</span><span class="sxs-lookup"><span data-stu-id="1925f-216">If a message containing critical information that must not be lost is sent tooan express entity, hello sender can force Service Bus tooimmediately persist hello message toostable storage by setting hello [ForcePersistence][ForcePersistence] property too**true**.</span></span>

> [!NOTE]
> <span data-ttu-id="1925f-217">Express-entiteiten bieden geen ondersteuning voor transacties.</span><span class="sxs-lookup"><span data-stu-id="1925f-217">Express entities do not support transactions.</span></span>

## <a name="use-of-partitioned-queues-or-topics"></a><span data-ttu-id="1925f-218">Gebruik van gepartitioneerde wachtrijen en onderwerpen</span><span class="sxs-lookup"><span data-stu-id="1925f-218">Use of partitioned queues or topics</span></span>
<span data-ttu-id="1925f-219">Intern maakt gebruik van Service Bus Hallo hetzelfde knooppunt en messaging store tooprocess en alle berichten voor een Berichtentiteit (wachtrij of onderwerp) op te slaan.</span><span class="sxs-lookup"><span data-stu-id="1925f-219">Internally, Service Bus uses hello same node and messaging store tooprocess and store all messages for a messaging entity (queue or topic).</span></span> <span data-ttu-id="1925f-220">Een gepartitioneerde wachtrij of onderwerp op Hallo daarentegen is verdeeld over meerdere knooppunten en berichten-stores.</span><span class="sxs-lookup"><span data-stu-id="1925f-220">A partitioned queue or topic, on hello other hand, is distributed across multiple nodes and messaging stores.</span></span> <span data-ttu-id="1925f-221">Gepartitioneerde wachtrijen en onderwerpen niet alleen resulteert in een hogere doorvoer dan reguliere wachtrijen en onderwerpen, ze hogere beschikbaarheid vertonen.</span><span class="sxs-lookup"><span data-stu-id="1925f-221">Partitioned queues and topics not only yield a higher throughput than regular queues and topics, they also exhibit superior availability.</span></span> <span data-ttu-id="1925f-222">toocreate een gepartitioneerde entiteit set Hallo [EnablePartitioning] [ EnablePartitioning] eigenschap te**true**, zoals weergegeven in het volgende voorbeeld Hallo.</span><span class="sxs-lookup"><span data-stu-id="1925f-222">toocreate a partitioned entity, set hello [EnablePartitioning][EnablePartitioning] property too**true**, as shown in hello following example.</span></span> <span data-ttu-id="1925f-223">Zie voor meer informatie over gepartitioneerde entiteiten [gepartitioneerde berichtentiteiten][Partitioned messaging entities].</span><span class="sxs-lookup"><span data-stu-id="1925f-223">For more information about partitioned entities, see [Partitioned messaging entities][Partitioned messaging entities].</span></span>

```csharp
// Create partitioned queue.
QueueDescription qd = new QueueDescription(QueueName);
qd.EnablePartitioning = true;
namespaceManager.CreateQueue(qd);
```

## <a name="use-of-multiple-queues"></a><span data-ttu-id="1925f-224">Gebruik van meerdere wachtrijen</span><span class="sxs-lookup"><span data-stu-id="1925f-224">Use of multiple queues</span></span>

<span data-ttu-id="1925f-225">Als het niet mogelijk toouse die een gepartitioneerde wachtrij of onderwerp of Hallo verwacht belasting kan niet worden afgehandeld door een enkele gepartitioneerde wachtrij of onderwerp, moet u meerdere messaging-entiteiten.</span><span class="sxs-lookup"><span data-stu-id="1925f-225">If it is not possible toouse a partitioned queue or topic, or hello expected load cannot be handled by a single partitioned queue or topic, you must use multiple messaging entities.</span></span> <span data-ttu-id="1925f-226">Wanneer u meerdere entiteiten, een specifieke client voor elke entiteit maken, in plaats van dezelfde Hallo-client voor alle entiteiten.</span><span class="sxs-lookup"><span data-stu-id="1925f-226">When using multiple entities, create a dedicated client for each entity, instead of using hello same client for all entities.</span></span>

## <a name="development-and-testing-features"></a><span data-ttu-id="1925f-227">Ontwikkeling en tests functies</span><span class="sxs-lookup"><span data-stu-id="1925f-227">Development and testing features</span></span>

<span data-ttu-id="1925f-228">Service Bus is een functie die wordt gebruikt voor het ontwikkeling die **mag nooit worden gebruikt in productie configuraties**: [TopicDescription.EnableFilteringMessagesBeforePublishing][].</span><span class="sxs-lookup"><span data-stu-id="1925f-228">Service Bus has one feature that is used specifically for development which **should never be used in production configurations**: [TopicDescription.EnableFilteringMessagesBeforePublishing][].</span></span>

<span data-ttu-id="1925f-229">Wanneer u filters of nieuwe regels toegevoegd toohello onderwerp, kunt u [TopicDescription.EnableFilteringMessagesBeforePublishing][] tooverify die nieuwe filterexpressie Hallo werkt zoals verwacht.</span><span class="sxs-lookup"><span data-stu-id="1925f-229">When new rules or filters are added toohello topic, you can use [TopicDescription.EnableFilteringMessagesBeforePublishing][] tooverify that hello new filter expression is working as expected.</span></span>

## <a name="scenarios"></a><span data-ttu-id="1925f-230">Scenario's</span><span class="sxs-lookup"><span data-stu-id="1925f-230">Scenarios</span></span>
<span data-ttu-id="1925f-231">Hallo volgende secties beschrijven typische berichtverzending en overzicht Hallo voorkeur Service Bus-instellingen.</span><span class="sxs-lookup"><span data-stu-id="1925f-231">hello following sections describe typical messaging scenarios and outline hello preferred Service Bus settings.</span></span> <span data-ttu-id="1925f-232">Doorvoersnelheid (minder dan 1 bericht/seconde) zo klein zijn geclassificeerd, Gemiddeld (bericht per seconde van 1 of groter maar minder dan 100 berichten/seconde) en een hoge (100 berichten/seconde of hoger).</span><span class="sxs-lookup"><span data-stu-id="1925f-232">Throughput rates are classified as small (less than 1 message/second), moderate (1 message/second or greater but less than 100 messages/second) and high (100 messages/second or greater).</span></span> <span data-ttu-id="1925f-233">Hallo zijn aantal clients geclassificeerd als kleine (5 of minder), Gemiddeld (meer dan 5 maar kleiner dan of gelijk zijn too20), en grote (meer dan 20).</span><span class="sxs-lookup"><span data-stu-id="1925f-233">hello number of clients are classified as small (5 or fewer), moderate (more than 5 but less than or equal too20), and large (more than 20).</span></span>

### <a name="high-throughput-queue"></a><span data-ttu-id="1925f-234">Hoge gegevensdoorvoer wachtrij</span><span class="sxs-lookup"><span data-stu-id="1925f-234">High-throughput queue</span></span>
<span data-ttu-id="1925f-235">Doel: Maximaliseren Hallo doorvoer van een enkele wachtrij.</span><span class="sxs-lookup"><span data-stu-id="1925f-235">Goal: Maximize hello throughput of a single queue.</span></span> <span data-ttu-id="1925f-236">Hallo aantal afzenders en ontvangers is klein.</span><span class="sxs-lookup"><span data-stu-id="1925f-236">hello number of senders and receivers is small.</span></span>

* <span data-ttu-id="1925f-237">Een gepartitioneerde wachtrij gebruiken voor betere prestaties en beschikbaarheid.</span><span class="sxs-lookup"><span data-stu-id="1925f-237">Use a partitioned queue for improved performance and availability.</span></span>
* <span data-ttu-id="1925f-238">tooincrease Hallo algehele verzendsnelheid in wachtrij hello, meerdere fabrieken toocreate berichtverzenders gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1925f-238">tooincrease hello overall send rate into hello queue, use multiple message factories toocreate senders.</span></span> <span data-ttu-id="1925f-239">Gebruik voor elke afzender asynchrone bewerkingen of meerdere threads.</span><span class="sxs-lookup"><span data-stu-id="1925f-239">For each sender, use asynchronous operations or multiple threads.</span></span>
* <span data-ttu-id="1925f-240">tooincrease hello algehele ontvangstsnelheid uit de wachtrij hello, gebruikt u meerdere bericht fabrieken toocreate ontvangers.</span><span class="sxs-lookup"><span data-stu-id="1925f-240">tooincrease hello overall receive rate from hello queue, use multiple message factories toocreate receivers.</span></span>
* <span data-ttu-id="1925f-241">Asynchrone bewerkingen tootake profiteren van de client-side batchverwerking gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1925f-241">Use asynchronous operations tootake advantage of client-side batching.</span></span>
* <span data-ttu-id="1925f-242">Hallo too50ms tooreduce Hallo Intervalnummer van Service Bus-client protocol verzendingen batchverwerking ingesteld.</span><span class="sxs-lookup"><span data-stu-id="1925f-242">Set hello batching interval too50ms tooreduce hello number of Service Bus client protocol transmissions.</span></span> <span data-ttu-id="1925f-243">Als u meerdere afzenders gebruikt, vergroot u Hallo interval too100ms batchverwerking.</span><span class="sxs-lookup"><span data-stu-id="1925f-243">If multiple senders are used, increase hello batching interval too100ms.</span></span>
* <span data-ttu-id="1925f-244">Toegang tot batch store ingeschakeld laten.</span><span class="sxs-lookup"><span data-stu-id="1925f-244">Leave batched store access enabled.</span></span> <span data-ttu-id="1925f-245">Dit verhoogt de algehele Hallo frequentie waarmee berichten in wachtrij Hallo kunnen worden geschreven.</span><span class="sxs-lookup"><span data-stu-id="1925f-245">This increases hello overall rate at which messages can be written into hello queue.</span></span>
* <span data-ttu-id="1925f-246">Hallo prefetch aantal too20 tijdstippen Hallo maximale verwerkingssnelheden van alle ontvangers van een fabriek instellen.</span><span class="sxs-lookup"><span data-stu-id="1925f-246">Set hello prefetch count too20 times hello maximum processing rates of all receivers of a factory.</span></span> <span data-ttu-id="1925f-247">Dit vermindert het aantal gegevensoverdrachten van Service Bus-client protocol Hallo.</span><span class="sxs-lookup"><span data-stu-id="1925f-247">This reduces hello number of Service Bus client protocol transmissions.</span></span>

### <a name="multiple-high-throughput-queues"></a><span data-ttu-id="1925f-248">Meerdere hoge gegevensdoorvoer wachtrijen</span><span class="sxs-lookup"><span data-stu-id="1925f-248">Multiple high-throughput queues</span></span>
<span data-ttu-id="1925f-249">Doel: Het maximaliseren totale doorvoer van meerdere wachtrijen.</span><span class="sxs-lookup"><span data-stu-id="1925f-249">Goal: Maximize overall throughput of multiple queues.</span></span> <span data-ttu-id="1925f-250">Hallo-doorvoer van een afzonderlijke wachtrij is Gemiddeld of hoog.</span><span class="sxs-lookup"><span data-stu-id="1925f-250">hello throughput of an individual queue is moderate or high.</span></span>

<span data-ttu-id="1925f-251">de maximale doorvoer tooobtain via meerdere wachtrijen, Hallo-instellingen gebruiken die worden beschreven toomaximize Hallo doorvoer van een enkele wachtrij.</span><span class="sxs-lookup"><span data-stu-id="1925f-251">tooobtain maximum throughput across multiple queues, use hello settings outlined toomaximize hello throughput of a single queue.</span></span> <span data-ttu-id="1925f-252">Bovendien kunt u verschillende fabrieken toocreate clients die verzenden of ontvangen van andere wachtrijen.</span><span class="sxs-lookup"><span data-stu-id="1925f-252">In addition, use different factories toocreate clients that send or receive from different queues.</span></span>

### <a name="low-latency-queue"></a><span data-ttu-id="1925f-253">Lage latentie wachtrij</span><span class="sxs-lookup"><span data-stu-id="1925f-253">Low latency queue</span></span>
<span data-ttu-id="1925f-254">Doel: Latentie van de end-to-end van een wachtrij of onderwerp minimaliseren.</span><span class="sxs-lookup"><span data-stu-id="1925f-254">Goal: Minimize end-to-end latency of a queue or topic.</span></span> <span data-ttu-id="1925f-255">Hallo aantal afzenders en ontvangers is klein.</span><span class="sxs-lookup"><span data-stu-id="1925f-255">hello number of senders and receivers is small.</span></span> <span data-ttu-id="1925f-256">Hallo-doorvoer van Hallo wachtrij is klein of Gemiddeld.</span><span class="sxs-lookup"><span data-stu-id="1925f-256">hello throughput of hello queue is small or moderate.</span></span>

* <span data-ttu-id="1925f-257">Een gepartitioneerde wachtrij gebruiken voor verbeterde beschikbaarheid.</span><span class="sxs-lookup"><span data-stu-id="1925f-257">Use a partitioned queue for improved availability.</span></span>
* <span data-ttu-id="1925f-258">Batchverwerking aan de clientzijde niet uitschakelen.</span><span class="sxs-lookup"><span data-stu-id="1925f-258">Disable client-side batching.</span></span> <span data-ttu-id="1925f-259">Hallo-client onmiddellijk een bericht.</span><span class="sxs-lookup"><span data-stu-id="1925f-259">hello client immediately sends a message.</span></span>
* <span data-ttu-id="1925f-260">Batch store toegang uitschakelen.</span><span class="sxs-lookup"><span data-stu-id="1925f-260">Disable batched store access.</span></span> <span data-ttu-id="1925f-261">Hallo service schrijft onmiddellijk Hallo toohello berichtenopslag.</span><span class="sxs-lookup"><span data-stu-id="1925f-261">hello service immediately writes hello message toohello store.</span></span>
* <span data-ttu-id="1925f-262">Als een enkele client, stelt u Hallo prefetch aantal too20 keren Hallo verwerkingssnelheid van Hallo ontvanger.</span><span class="sxs-lookup"><span data-stu-id="1925f-262">If using a single client, set hello prefetch count too20 times hello processing rate of hello receiver.</span></span> <span data-ttu-id="1925f-263">Als meerdere in wachtrij op Hallo Hallo dezelfde berichten tijd, Hallo clientprotocol Service Bus verzendt deze alles op Hallo hetzelfde moment.</span><span class="sxs-lookup"><span data-stu-id="1925f-263">If multiple messages arrive at hello queue at hello same time, hello Service Bus client protocol transmits them all at hello same time.</span></span> <span data-ttu-id="1925f-264">Wanneer Hallo client volgende Hallo-bericht ontvangt, is dat bericht al in de lokale cache Hallo.</span><span class="sxs-lookup"><span data-stu-id="1925f-264">When hello client receives hello next message, that message is already in hello local cache.</span></span> <span data-ttu-id="1925f-265">Hallo-cache moet klein zijn.</span><span class="sxs-lookup"><span data-stu-id="1925f-265">hello cache should be small.</span></span>
* <span data-ttu-id="1925f-266">Als meerdere clients, stelt u Hallo prefetch aantal too0.</span><span class="sxs-lookup"><span data-stu-id="1925f-266">If using multiple clients, set hello prefetch count too0.</span></span> <span data-ttu-id="1925f-267">Op deze manier kan Hallo tweede client tijdens de eerste client Hallo eerst het Hallo-bericht steeds verwerkt nog tweede Hallo-bericht ontvangen.</span><span class="sxs-lookup"><span data-stu-id="1925f-267">By doing this, hello second client can receive hello second message while hello first client is still processing hello first message.</span></span>

### <a name="queue-with-a-large-number-of-senders"></a><span data-ttu-id="1925f-268">Wachtrij met een groot aantal afzenders</span><span class="sxs-lookup"><span data-stu-id="1925f-268">Queue with a large number of senders</span></span>
<span data-ttu-id="1925f-269">Doel: Het maximaliseren van doorvoer van een wachtrij of onderwerp met een groot aantal afzenders.</span><span class="sxs-lookup"><span data-stu-id="1925f-269">Goal: Maximize throughput of a queue or topic with a large number of senders.</span></span> <span data-ttu-id="1925f-270">Elke afzender verzendt berichten met een gemiddeld tarief.</span><span class="sxs-lookup"><span data-stu-id="1925f-270">Each sender sends messages with a moderate rate.</span></span> <span data-ttu-id="1925f-271">het aantal ontvangers Hallo is klein.</span><span class="sxs-lookup"><span data-stu-id="1925f-271">hello number of receivers is small.</span></span>

<span data-ttu-id="1925f-272">Service Bus kunt up too1000 gelijktijdige verbindingen tooa messaging entiteit (of 5000 met AMQP).</span><span class="sxs-lookup"><span data-stu-id="1925f-272">Service Bus enables up too1000 concurrent connections tooa messaging entity (or 5000 using AMQP).</span></span> <span data-ttu-id="1925f-273">Deze limiet wordt afgedwongen op het niveau van de naamruimte Hallo en onderwerpen-wachtrijen-abonnementen worden beperkt door het Hallo-limiet van gelijktijdige verbindingen per naamruimte.</span><span class="sxs-lookup"><span data-stu-id="1925f-273">This limit is enforced at hello namespace level, and queues/topics/subscriptions are capped by hello limit of concurrent connections per namespace.</span></span> <span data-ttu-id="1925f-274">Voor wachtrijen, wordt dit nummer gedeeld tussen afzenders en ontvangers.</span><span class="sxs-lookup"><span data-stu-id="1925f-274">For queues, this number is shared between senders and receivers.</span></span> <span data-ttu-id="1925f-275">Als alle 1000 verbindingen vereist voor afzenders zijn, moet u Hallo wachtrij vervangen door een onderwerp met één abonnement.</span><span class="sxs-lookup"><span data-stu-id="1925f-275">If all 1000 connections are required for senders, you should replace hello queue with a topic and a single subscription.</span></span> <span data-ttu-id="1925f-276">Een onderwerp accepteert too1000 gelijktijdige verbindingen van afzenders, terwijl het Hallo-abonnement een extra 1000 gelijktijdige verbindingen aanvaardt van ontvangers.</span><span class="sxs-lookup"><span data-stu-id="1925f-276">A topic accepts up too1000 concurrent connections from senders, whereas hello subscription accepts an additional 1000 concurrent connections from receivers.</span></span> <span data-ttu-id="1925f-277">Als meer dan 1000 gelijktijdige afzenders vereist zijn, moeten Hallo afzenders berichten toohello Service Bus-protocol via HTTP worden verzonden.</span><span class="sxs-lookup"><span data-stu-id="1925f-277">If more than 1000 concurrent senders are required, hello senders should send messages toohello Service Bus protocol via HTTP.</span></span>

<span data-ttu-id="1925f-278">toomaximize doorvoer, Hallo te volgen:</span><span class="sxs-lookup"><span data-stu-id="1925f-278">toomaximize throughput, do hello following:</span></span>

* <span data-ttu-id="1925f-279">Een gepartitioneerde wachtrij gebruiken voor betere prestaties en beschikbaarheid.</span><span class="sxs-lookup"><span data-stu-id="1925f-279">Use a partitioned queue for improved performance and availability.</span></span>
* <span data-ttu-id="1925f-280">Als u elke afzender bevindt zich in een ander proces, gebruikt u dezelfde fabriek per proces.</span><span class="sxs-lookup"><span data-stu-id="1925f-280">If each sender resides in a different process, use only a single factory per process.</span></span>
* <span data-ttu-id="1925f-281">Asynchrone bewerkingen tootake profiteren van de client-side batchverwerking gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1925f-281">Use asynchronous operations tootake advantage of client-side batching.</span></span>
* <span data-ttu-id="1925f-282">Hallo standaardwaarde batchverwerking interval van 20ms tooreduce Hallo aantal gegevensoverdrachten van Service Bus-client-protocol gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1925f-282">Use hello default batching interval of 20ms tooreduce hello number of Service Bus client protocol transmissions.</span></span>
* <span data-ttu-id="1925f-283">Toegang tot batch store ingeschakeld laten.</span><span class="sxs-lookup"><span data-stu-id="1925f-283">Leave batched store access enabled.</span></span> <span data-ttu-id="1925f-284">Dit verhoogt de algehele Hallo frequentie waarmee berichten kunnen worden geschreven in Hallo wachtrij of onderwerp.</span><span class="sxs-lookup"><span data-stu-id="1925f-284">This increases hello overall rate at which messages can be written into hello queue or topic.</span></span>
* <span data-ttu-id="1925f-285">Hallo prefetch aantal too20 tijdstippen Hallo maximale verwerkingssnelheden van alle ontvangers van een fabriek instellen.</span><span class="sxs-lookup"><span data-stu-id="1925f-285">Set hello prefetch count too20 times hello maximum processing rates of all receivers of a factory.</span></span> <span data-ttu-id="1925f-286">Dit vermindert het aantal gegevensoverdrachten van Service Bus-client protocol Hallo.</span><span class="sxs-lookup"><span data-stu-id="1925f-286">This reduces hello number of Service Bus client protocol transmissions.</span></span>

### <a name="queue-with-a-large-number-of-receivers"></a><span data-ttu-id="1925f-287">Wachtrij met een groot aantal ontvangers</span><span class="sxs-lookup"><span data-stu-id="1925f-287">Queue with a large number of receivers</span></span>
<span data-ttu-id="1925f-288">Doel: Maximaliseren Hallo ontvangstsnelheid van een wachtrij of een abonnement met een groot aantal ontvangers.</span><span class="sxs-lookup"><span data-stu-id="1925f-288">Goal: Maximize hello receive rate of a queue or subscription with a large number of receivers.</span></span> <span data-ttu-id="1925f-289">Elke ontvanger ontvangt berichten met een gemiddeld snelheid.</span><span class="sxs-lookup"><span data-stu-id="1925f-289">Each receiver receives messages at a moderate rate.</span></span> <span data-ttu-id="1925f-290">het aantal afzenders Hallo is klein.</span><span class="sxs-lookup"><span data-stu-id="1925f-290">hello number of senders is small.</span></span>

<span data-ttu-id="1925f-291">Service Bus kunt up too1000 gelijktijdige verbindingen tooan entiteit.</span><span class="sxs-lookup"><span data-stu-id="1925f-291">Service Bus enables up too1000 concurrent connections tooan entity.</span></span> <span data-ttu-id="1925f-292">Als een wachtrij meer dan 1000 ontvangers vereist, moet u Hallo wachtrij vervangen door een onderwerp met meerdere abonnementen.</span><span class="sxs-lookup"><span data-stu-id="1925f-292">If a queue requires more than 1000 receivers, you should replace hello queue with a topic and multiple subscriptions.</span></span> <span data-ttu-id="1925f-293">Elk abonnement kan too1000 gelijktijdige verbindingen ondersteunen.</span><span class="sxs-lookup"><span data-stu-id="1925f-293">Each subscription can support up too1000 concurrent connections.</span></span> <span data-ttu-id="1925f-294">U kunt ook ontvangers hebben toegang tot Hallo wachtrij via Hallo HTTP-protocol.</span><span class="sxs-lookup"><span data-stu-id="1925f-294">Alternatively, receivers can access hello queue via hello HTTP protocol.</span></span>

<span data-ttu-id="1925f-295">toomaximize doorvoer, Hallo te volgen:</span><span class="sxs-lookup"><span data-stu-id="1925f-295">toomaximize throughput, do hello following:</span></span>

* <span data-ttu-id="1925f-296">Een gepartitioneerde wachtrij gebruiken voor betere prestaties en beschikbaarheid.</span><span class="sxs-lookup"><span data-stu-id="1925f-296">Use a partitioned queue for improved performance and availability.</span></span>
* <span data-ttu-id="1925f-297">Als u elke ontvanger zich bevindt in een ander proces, gebruikt u dezelfde fabriek per proces.</span><span class="sxs-lookup"><span data-stu-id="1925f-297">If each receiver resides in a different process, use only a single factory per process.</span></span>
* <span data-ttu-id="1925f-298">Ontvangers kunnen synchrone of asynchrone bewerkingen gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1925f-298">Receivers can use synchronous or asynchronous operations.</span></span> <span data-ttu-id="1925f-299">Gegeven Hallo matig ontvangstsnelheid van een afzonderlijke ontvanger, client-side batchverwerking van een volledige aanvraag heeft geen invloed op ontvanger doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1925f-299">Given hello moderate receive rate of an individual receiver, client-side batching of a Complete request does not affect receiver throughput.</span></span>
* <span data-ttu-id="1925f-300">Toegang tot batch store ingeschakeld laten.</span><span class="sxs-lookup"><span data-stu-id="1925f-300">Leave batched store access enabled.</span></span> <span data-ttu-id="1925f-301">Dit vermindert Hallo algehele belasting van Hallo entiteit.</span><span class="sxs-lookup"><span data-stu-id="1925f-301">This reduces hello overall load of hello entity.</span></span> <span data-ttu-id="1925f-302">Vermindert ook Hallo snelheid waarmee berichten kunnen worden geschreven in Hallo wachtrij of onderwerp.</span><span class="sxs-lookup"><span data-stu-id="1925f-302">It also reduces hello overall rate at which messages can be written into hello queue or topic.</span></span>
* <span data-ttu-id="1925f-303">Hallo prefetch aantal tooa kleine waarde ingesteld (bijvoorbeeld PrefetchCount = 10).</span><span class="sxs-lookup"><span data-stu-id="1925f-303">Set hello prefetch count tooa small value (for example, PrefetchCount = 10).</span></span> <span data-ttu-id="1925f-304">Dit voorkomt dat ontvangers inactiviteit terwijl andere ontvangers grote aantallen berichten in de cache opgeslagen hebben.</span><span class="sxs-lookup"><span data-stu-id="1925f-304">This prevents receivers from being idle while other receivers have large numbers of messages cached.</span></span>

### <a name="topic-with-a-small-number-of-subscriptions"></a><span data-ttu-id="1925f-305">Onderwerp met een klein aantal abonnementen</span><span class="sxs-lookup"><span data-stu-id="1925f-305">Topic with a small number of subscriptions</span></span>
<span data-ttu-id="1925f-306">Doel: Maximaliseren Hallo doorvoer van een onderwerp met een klein aantal abonnementen.</span><span class="sxs-lookup"><span data-stu-id="1925f-306">Goal: Maximize hello throughput of a topic with a small number of subscriptions.</span></span> <span data-ttu-id="1925f-307">Een bericht wordt ontvangen door veel abonnementen, wat betekent dat Hallo gecombineerd ontvangen snelheid via alle abonnementen is groter dan de verzendsnelheid Hallo.</span><span class="sxs-lookup"><span data-stu-id="1925f-307">A message is received by many subscriptions, which means hello combined receive rate over all subscriptions is larger than hello send rate.</span></span> <span data-ttu-id="1925f-308">het aantal afzenders Hallo is klein.</span><span class="sxs-lookup"><span data-stu-id="1925f-308">hello number of senders is small.</span></span> <span data-ttu-id="1925f-309">het aantal ontvangers per abonnement Hallo is klein.</span><span class="sxs-lookup"><span data-stu-id="1925f-309">hello number of receivers per subscription is small.</span></span>

<span data-ttu-id="1925f-310">toomaximize doorvoer, Hallo te volgen:</span><span class="sxs-lookup"><span data-stu-id="1925f-310">toomaximize throughput, do hello following:</span></span>

* <span data-ttu-id="1925f-311">Gebruik een gepartitioneerde onderwerp voor betere prestaties en beschikbaarheid.</span><span class="sxs-lookup"><span data-stu-id="1925f-311">Use a partitioned topic for improved performance and availability.</span></span>
* <span data-ttu-id="1925f-312">tooincrease hello algehele verzendsnelheid in Hallo onderwerp, gebruikt u meerdere fabrieken toocreate berichtverzenders.</span><span class="sxs-lookup"><span data-stu-id="1925f-312">tooincrease hello overall send rate into hello topic, use multiple message factories toocreate senders.</span></span> <span data-ttu-id="1925f-313">Gebruik voor elke afzender asynchrone bewerkingen of meerdere threads.</span><span class="sxs-lookup"><span data-stu-id="1925f-313">For each sender, use asynchronous operations or multiple threads.</span></span>
* <span data-ttu-id="1925f-314">tooincrease hello algehele ontvangstsnelheid van een abonnement, gebruikt u meerdere bericht fabrieken toocreate ontvangers.</span><span class="sxs-lookup"><span data-stu-id="1925f-314">tooincrease hello overall receive rate from a subscription, use multiple message factories toocreate receivers.</span></span> <span data-ttu-id="1925f-315">Gebruik voor elke ontvanger asynchrone bewerkingen of meerdere threads.</span><span class="sxs-lookup"><span data-stu-id="1925f-315">For each receiver, use asynchronous operations or multiple threads.</span></span>
* <span data-ttu-id="1925f-316">Asynchrone bewerkingen tootake profiteren van de client-side batchverwerking gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1925f-316">Use asynchronous operations tootake advantage of client-side batching.</span></span>
* <span data-ttu-id="1925f-317">Hallo standaardwaarde batchverwerking interval van 20ms tooreduce Hallo aantal gegevensoverdrachten van Service Bus-client-protocol gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1925f-317">Use hello default batching interval of 20ms tooreduce hello number of Service Bus client protocol transmissions.</span></span>
* <span data-ttu-id="1925f-318">Toegang tot batch store ingeschakeld laten.</span><span class="sxs-lookup"><span data-stu-id="1925f-318">Leave batched store access enabled.</span></span> <span data-ttu-id="1925f-319">Dit verhoogt de algehele Hallo frequentie waarmee berichten kunnen worden geschreven in Hallo onderwerp.</span><span class="sxs-lookup"><span data-stu-id="1925f-319">This increases hello overall rate at which messages can be written into hello topic.</span></span>
* <span data-ttu-id="1925f-320">Hallo prefetch aantal too20 tijdstippen Hallo maximale verwerkingssnelheden van alle ontvangers van een fabriek instellen.</span><span class="sxs-lookup"><span data-stu-id="1925f-320">Set hello prefetch count too20 times hello maximum processing rates of all receivers of a factory.</span></span> <span data-ttu-id="1925f-321">Dit vermindert het aantal gegevensoverdrachten van Service Bus-client protocol Hallo.</span><span class="sxs-lookup"><span data-stu-id="1925f-321">This reduces hello number of Service Bus client protocol transmissions.</span></span>

### <a name="topic-with-a-large-number-of-subscriptions"></a><span data-ttu-id="1925f-322">Onderwerp met een groot aantal abonnementen</span><span class="sxs-lookup"><span data-stu-id="1925f-322">Topic with a large number of subscriptions</span></span>
<span data-ttu-id="1925f-323">Doel: Maximaliseren Hallo doorvoer van een onderwerp met een groot aantal abonnementen.</span><span class="sxs-lookup"><span data-stu-id="1925f-323">Goal: Maximize hello throughput of a topic with a large number of subscriptions.</span></span> <span data-ttu-id="1925f-324">Een bericht wordt ontvangen door veel abonnementen, wat betekent dat Hallo gecombineerd ontvangen snelheid via alle abonnementen is aanzienlijk groter dan de verzendsnelheid Hallo.</span><span class="sxs-lookup"><span data-stu-id="1925f-324">A message is received by many subscriptions, which means hello combined receive rate over all subscriptions is much larger than hello send rate.</span></span> <span data-ttu-id="1925f-325">het aantal afzenders Hallo is klein.</span><span class="sxs-lookup"><span data-stu-id="1925f-325">hello number of senders is small.</span></span> <span data-ttu-id="1925f-326">het aantal ontvangers per abonnement Hallo is klein.</span><span class="sxs-lookup"><span data-stu-id="1925f-326">hello number of receivers per subscription is small.</span></span>

<span data-ttu-id="1925f-327">Onderwerpen met een groot aantal abonnementen wordt doorgaans een lage totale doorvoer blootstellen als er geen alle berichten worden gerouteerd tooall abonnementen zijn.</span><span class="sxs-lookup"><span data-stu-id="1925f-327">Topics with a large number of subscriptions typically expose a low overall throughput if all messages are routed tooall subscriptions.</span></span> <span data-ttu-id="1925f-328">Dit wordt veroorzaakt door Hallo feit dat elk bericht vaak ontvangen wordt en alle berichten die zijn opgenomen in een onderwerp en alle bijbehorende abonnementen worden opgeslagen in Hallo dezelfde opslaan.</span><span class="sxs-lookup"><span data-stu-id="1925f-328">This is caused by hello fact that each message is received many times, and all messages that are contained in a topic and all its subscriptions are stored in hello same store.</span></span> <span data-ttu-id="1925f-329">Ervan wordt uitgegaan dat Hallo aantal afzenders en ontvangers per abonnement aantal klein is.</span><span class="sxs-lookup"><span data-stu-id="1925f-329">It is assumed that hello number of senders and number of receivers per subscription is small.</span></span> <span data-ttu-id="1925f-330">Service Bus biedt ondersteuning voor maximaal too2, 000 abonnementen per onderwerp.</span><span class="sxs-lookup"><span data-stu-id="1925f-330">Service Bus supports up too2,000 subscriptions per topic.</span></span>

<span data-ttu-id="1925f-331">toomaximize doorvoer, Hallo te volgen:</span><span class="sxs-lookup"><span data-stu-id="1925f-331">toomaximize throughput, do hello following:</span></span>

* <span data-ttu-id="1925f-332">Gebruik een gepartitioneerde onderwerp voor betere prestaties en beschikbaarheid.</span><span class="sxs-lookup"><span data-stu-id="1925f-332">Use a partitioned topic for improved performance and availability.</span></span>
* <span data-ttu-id="1925f-333">Asynchrone bewerkingen tootake profiteren van de client-side batchverwerking gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1925f-333">Use asynchronous operations tootake advantage of client-side batching.</span></span>
* <span data-ttu-id="1925f-334">Hallo standaardwaarde batchverwerking interval van 20ms tooreduce Hallo aantal gegevensoverdrachten van Service Bus-client-protocol gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1925f-334">Use hello default batching interval of 20ms tooreduce hello number of Service Bus client protocol transmissions.</span></span>
* <span data-ttu-id="1925f-335">Toegang tot batch store ingeschakeld laten.</span><span class="sxs-lookup"><span data-stu-id="1925f-335">Leave batched store access enabled.</span></span> <span data-ttu-id="1925f-336">Dit verhoogt de algehele Hallo frequentie waarmee berichten kunnen worden geschreven in Hallo onderwerp.</span><span class="sxs-lookup"><span data-stu-id="1925f-336">This increases hello overall rate at which messages can be written into hello topic.</span></span>
* <span data-ttu-id="1925f-337">Stel Hallo prefetch aantal too20 keer verwacht Hallo ontvangen frequentie in seconden.</span><span class="sxs-lookup"><span data-stu-id="1925f-337">Set hello prefetch count too20 times hello expected receive rate in seconds.</span></span> <span data-ttu-id="1925f-338">Dit vermindert het aantal gegevensoverdrachten van Service Bus-client protocol Hallo.</span><span class="sxs-lookup"><span data-stu-id="1925f-338">This reduces hello number of Service Bus client protocol transmissions.</span></span>

## <a name="next-steps"></a><span data-ttu-id="1925f-339">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="1925f-339">Next steps</span></span>
<span data-ttu-id="1925f-340">toolearn meer informatie over het optimaliseren van de prestaties van Service Bus, Zie [gepartitioneerde berichtentiteiten][Partitioned messaging entities].</span><span class="sxs-lookup"><span data-stu-id="1925f-340">toolearn more about optimizing Service Bus performance, see [Partitioned messaging entities][Partitioned messaging entities].</span></span>

[QueueClient]: /dotnet/api/microsoft.servicebus.messaging.queueclient
[MessageSender]: /dotnet/api/microsoft.servicebus.messaging.messagesender
[MessagingFactory]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory
[PeekLock]: /dotnet/api/microsoft.servicebus.messaging.receivemode
[ReceiveAndDelete]: /dotnet/api/microsoft.servicebus.messaging.receivemode
[BatchFlushInterval]: /dotnet/api/microsoft.servicebus.messaging.netmessagingtransportsettings.batchflushinterval#Microsoft_ServiceBus_Messaging_NetMessagingTransportSettings_BatchFlushInterval
[EnableBatchedOperations]: /dotnet/api/microsoft.servicebus.messaging.queuedescription.enablebatchedoperations#Microsoft_ServiceBus_Messaging_QueueDescription_EnableBatchedOperations
[QueueClient.PrefetchCount]: /dotnet/api/microsoft.servicebus.messaging.queueclient.prefetchcount#Microsoft_ServiceBus_Messaging_QueueClient_PrefetchCount
[SubscriptionClient.PrefetchCount]: /dotnet/api/microsoft.servicebus.messaging.subscriptionclient.prefetchcount#Microsoft_ServiceBus_Messaging_SubscriptionClient_PrefetchCount
[ForcePersistence]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage.forcepersistence#Microsoft_ServiceBus_Messaging_BrokeredMessage_ForcePersistence
[EnablePartitioning]: /dotnet/api/microsoft.servicebus.messaging.queuedescription.enablepartitioning#Microsoft_ServiceBus_Messaging_QueueDescription_EnablePartitioning
[Partitioned messaging entities]: service-bus-partitioning.md
[TopicDescription.EnableFilteringMessagesBeforePublishing]: /dotnet/api/microsoft.servicebus.messaging.topicdescription.enablefilteringmessagesbeforepublishing#Microsoft_ServiceBus_Messaging_TopicDescription_EnableFilteringMessagesBeforePublishing
