---
title: aaaAzure Service Bus-verificatie met handtekeningen voor gedeelde toegang | Microsoft Docs
description: Overzicht van Service Bus-verificatie met behulp van handtekeningen voor gedeelde toegang-overzicht, informatie over SAS-verificatie met Azure Service Bus.
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: 773bb11720384d7245820b56dc25b8e064ffa746
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="service-bus-authentication-with-shared-access-signatures"></a><span data-ttu-id="e88d6-103">Service Bus-verificatie met handtekeningen voor gedeelde toegang</span><span class="sxs-lookup"><span data-stu-id="e88d6-103">Service Bus authentication with Shared Access Signatures</span></span>

<span data-ttu-id="e88d6-104">*Shared Access Signatures* (SAS) zijn de primaire beveiligingsmechanisme Hallo voor Service Bus-berichtenservice.</span><span class="sxs-lookup"><span data-stu-id="e88d6-104">*Shared Access Signatures* (SAS) are hello primary security mechanism for Service Bus messaging.</span></span> <span data-ttu-id="e88d6-105">SAS, van dit artikel wordt beschreven hoe ze werken en hoe toouse ze op een manier platform networkdirect.</span><span class="sxs-lookup"><span data-stu-id="e88d6-105">This article discusses SAS, how they work, and how toouse them in a platform-agnostic way.</span></span>

<span data-ttu-id="e88d6-106">SAS-verificatie kunnen toepassingen tooauthenticate tooService Bus met behulp van een toegangssleutel die is geconfigureerd op Hallo naamruimte of op Hallo messaging-entiteit (wachtrij of onderwerp) met welke specifieke rechten gekoppeld zijn.</span><span class="sxs-lookup"><span data-stu-id="e88d6-106">SAS authentication enables applications tooauthenticate tooService Bus using an access key configured on hello namespace, or on hello messaging entity (queue or topic) with which specific rights are associated.</span></span> <span data-ttu-id="e88d6-107">Vervolgens kunt u deze sleutel toogenerate een SAS-token dat clients op zijn beurt tooauthenticate tooService Bus kunnen gebruiken.</span><span class="sxs-lookup"><span data-stu-id="e88d6-107">You can then use this key toogenerate a SAS token that clients can in turn use tooauthenticate tooService Bus.</span></span>

<span data-ttu-id="e88d6-108">Ondersteuning voor SAS-verificatie is opgenomen in hello Azure SDK-versie 2.0 en hoger.</span><span class="sxs-lookup"><span data-stu-id="e88d6-108">SAS authentication support is included in hello Azure SDK version 2.0 and later.</span></span>

## <a name="overview-of-sas"></a><span data-ttu-id="e88d6-109">Overzicht van de SAS</span><span class="sxs-lookup"><span data-stu-id="e88d6-109">Overview of SAS</span></span>

<span data-ttu-id="e88d6-110">Handtekeningen voor gedeelde toegang zijn een verificatiemethode op basis van beveiligde SHA-256-hashes of URI's.</span><span class="sxs-lookup"><span data-stu-id="e88d6-110">Shared Access Signatures are an authentication mechanism based on SHA-256 secure hashes or URIs.</span></span> <span data-ttu-id="e88d6-111">SAS is een zeer krachtig mechanisme dat wordt gebruikt door alle Service Bus-services.</span><span class="sxs-lookup"><span data-stu-id="e88d6-111">SAS is an extremely powerful mechanism that is used by all Service Bus services.</span></span> <span data-ttu-id="e88d6-112">In het werkelijke gebruik SAS bestaat uit twee onderdelen: een *gedeeld toegangsbeleid* en een *Shared Access Signature* (vaak genoemd een *token*).</span><span class="sxs-lookup"><span data-stu-id="e88d6-112">In actual use, SAS has two components: a *shared access policy* and a *Shared Access Signature* (often called a *token*).</span></span>

<span data-ttu-id="e88d6-113">SAS-verificatie in Service Bus omvat het Hallo-configuratie van een cryptografische sleutel met de gekoppelde rechten van een Service Bus-resource.</span><span class="sxs-lookup"><span data-stu-id="e88d6-113">SAS authentication in Service Bus involves hello configuration of a cryptographic key with associated rights on a Service Bus resource.</span></span> <span data-ttu-id="e88d6-114">Clients claim toegang tooService Bus-resources in de vorm van een SAS-token.</span><span class="sxs-lookup"><span data-stu-id="e88d6-114">Clients claim access tooService Bus resources by presenting a SAS token.</span></span> <span data-ttu-id="e88d6-115">Dit token bestaat uit Hallo resource-URI wordt geopend en een ondertekend met Hallo verstrijken sleutel geconfigureerd.</span><span class="sxs-lookup"><span data-stu-id="e88d6-115">This token consists of hello resource URI being accessed, and an expiry signed with hello configured key.</span></span>

<span data-ttu-id="e88d6-116">U kunt de Shared Access Signature-autorisatieregels configureren op Service Bus [doorstuurt](service-bus-fundamentals-hybrid-solutions.md#relays), [wachtrijen](service-bus-fundamentals-hybrid-solutions.md#queues), en [onderwerpen](service-bus-fundamentals-hybrid-solutions.md#topics).</span><span class="sxs-lookup"><span data-stu-id="e88d6-116">You can configure Shared Access Signature authorization rules on Service Bus [relays](service-bus-fundamentals-hybrid-solutions.md#relays), [queues](service-bus-fundamentals-hybrid-solutions.md#queues), and [topics](service-bus-fundamentals-hybrid-solutions.md#topics).</span></span>

<span data-ttu-id="e88d6-117">SAS-verificatie gebruikt Hallo volgende elementen:</span><span class="sxs-lookup"><span data-stu-id="e88d6-117">SAS authentication uses hello following elements:</span></span>

* <span data-ttu-id="e88d6-118">[Gedeelde toegang autorisatieregel](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule): A 256-bits primaire cryptografische sleutel in Base64-weergave, een optionele secundaire sleutel en een sleutelnaam en gekoppelde rechten (een verzameling van *luisteren*, *verzenden*, of *beheren* rechten).</span><span class="sxs-lookup"><span data-stu-id="e88d6-118">[Shared Access authorization rule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule): A 256-bit primary cryptographic key in Base64 representation, an optional secondary key, and a key name and associated rights (a collection of *Listen*, *Send*, or *Manage* rights).</span></span>
* <span data-ttu-id="e88d6-119">[Shared Access Signature](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) token: gegenereerd met Hallo HMAC SHA256 van een resourcetekenreeks, die bestaan uit het Hallo-URI van Hallo resource die wordt geopend en een verloopbewerking met Hallo cryptografische sleutel.</span><span class="sxs-lookup"><span data-stu-id="e88d6-119">[Shared Access Signature](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) token: Generated using hello HMAC-SHA256 of a resource string, consisting of hello URI of hello resource that is accessed and an expiry, with hello cryptographic key.</span></span> <span data-ttu-id="e88d6-120">Hallo handtekening en andere elementen beschreven in de volgende secties Hallo worden opgemaakt in een tekenreeks tooform Hallo SAS-token.</span><span class="sxs-lookup"><span data-stu-id="e88d6-120">hello signature and other elements described in hello following sections are formatted into a string tooform hello SAS token.</span></span>

## <a name="shared-access-policy"></a><span data-ttu-id="e88d6-121">Beleid voor gedeelde toegang</span><span class="sxs-lookup"><span data-stu-id="e88d6-121">Shared access policy</span></span>

<span data-ttu-id="e88d6-122">Een toounderstand belangrijkste over SAS is dat deze met een beleid begint.</span><span class="sxs-lookup"><span data-stu-id="e88d6-122">An important thing toounderstand about SAS is that it starts with a policy.</span></span> <span data-ttu-id="e88d6-123">Voor elk beleid dat u besluit op drie soorten informatie: **naam**, **bereik**, en **machtigingen**.</span><span class="sxs-lookup"><span data-stu-id="e88d6-123">For each policy, you decide on three pieces of information: **name**, **scope**, and **permissions**.</span></span> <span data-ttu-id="e88d6-124">Hallo **naam** is slechts; een unieke naam binnen dit bereik.</span><span class="sxs-lookup"><span data-stu-id="e88d6-124">hello **name** is just that; a unique name within that scope.</span></span> <span data-ttu-id="e88d6-125">Hallo bereik zijn simpel: de URI van Hallo desbetreffende Hallo.</span><span class="sxs-lookup"><span data-stu-id="e88d6-125">hello scope is easy enough: it's hello URI of hello resource in question.</span></span> <span data-ttu-id="e88d6-126">Voor een Service Bus-naamruimte is Hallo bereik Hallo volledig gekwalificeerde domeinnaam (FQDN), zoals `https://<yournamespace>.servicebus.windows.net/`.</span><span class="sxs-lookup"><span data-stu-id="e88d6-126">For a Service Bus namespace, hello scope is hello fully qualified domain name (FQDN), such as `https://<yournamespace>.servicebus.windows.net/`.</span></span>

<span data-ttu-id="e88d6-127">Hallo beschikbare machtigingen voor een beleid zijn grotendeels spreken voor zich:</span><span class="sxs-lookup"><span data-stu-id="e88d6-127">hello available permissions for a policy are largely self-explanatory:</span></span>

* <span data-ttu-id="e88d6-128">Verzenden</span><span class="sxs-lookup"><span data-stu-id="e88d6-128">Send</span></span>
* <span data-ttu-id="e88d6-129">Luisteren</span><span class="sxs-lookup"><span data-stu-id="e88d6-129">Listen</span></span>
* <span data-ttu-id="e88d6-130">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-130">Manage</span></span>

<span data-ttu-id="e88d6-131">Nadat u Hallo beleid hebt gemaakt, krijgt het een *primaire sleutel* en een *secundaire sleutel*.</span><span class="sxs-lookup"><span data-stu-id="e88d6-131">After you create hello policy, it is assigned a *Primary Key* and a *Secondary Key*.</span></span> <span data-ttu-id="e88d6-132">Dit zijn cryptografisch sterke sleutels.</span><span class="sxs-lookup"><span data-stu-id="e88d6-132">These are cryptographically strong keys.</span></span> <span data-ttu-id="e88d6-133">Niet verliezen ze of ze lekken - ze moet altijd beschikbaar zijn in Hallo [Azure-portal][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="e88d6-133">Don't lose them or leak them - they'll always be available in hello [Azure portal][Azure portal].</span></span> <span data-ttu-id="e88d6-134">U kunt een Hallo gegenereerd sleutels gebruiken en u ze op elk gewenst moment kunt opnieuw genereren.</span><span class="sxs-lookup"><span data-stu-id="e88d6-134">You can use either of hello generated keys, and you can regenerate them at any time.</span></span> <span data-ttu-id="e88d6-135">Als u opnieuw genereren of primaire sleutel in het beleid voor Hallo Hallo wijzigt, worden er handtekeningen voor gedeelde toegang gemaakt op basis van het ongeldig.</span><span class="sxs-lookup"><span data-stu-id="e88d6-135">However, if you regenerate or change hello primary key in hello policy, any Shared Access Signatures created from it will be invalidated.</span></span>

<span data-ttu-id="e88d6-136">Wanneer u een Service Bus-naamruimte maakt, een beleid wordt automatisch gemaakt voor de gehele naamruimte Hallo aangeroepen **RootManageSharedAccessKey**, en alle machtigingen voor dit beleid heeft.</span><span class="sxs-lookup"><span data-stu-id="e88d6-136">When you create a Service Bus namespace, a policy is automatically created for hello entire namespace called **RootManageSharedAccessKey**, and this policy has all permissions.</span></span> <span data-ttu-id="e88d6-137">U niet aanmelden als **hoofdmap**, zodat dit beleid niet gebruiken tenzij er een goede reden.</span><span class="sxs-lookup"><span data-stu-id="e88d6-137">You don't log on as **root**, so don't use this policy unless there's a really good reason.</span></span> <span data-ttu-id="e88d6-138">U kunt extra beleidsregels maken in Hallo **configureren** tabblad voor de naamruimte Hallo in Hallo-portal.</span><span class="sxs-lookup"><span data-stu-id="e88d6-138">You can create additional policies in hello **Configure** tab for hello namespace in hello portal.</span></span> <span data-ttu-id="e88d6-139">Het is belangrijk toonote die een niveau één tree in Service Bus (naamruimte, wachtrij, enz.) kan alleen up too12 beleid gekoppeld tooit hebben.</span><span class="sxs-lookup"><span data-stu-id="e88d6-139">It's important toonote that a single tree level in Service Bus (namespace, queue, etc.) can only have up too12 policies attached tooit.</span></span>

## <a name="configuration-for-shared-access-signature-authentication"></a><span data-ttu-id="e88d6-140">Configuratie voor Shared Access Signature-verificatie</span><span class="sxs-lookup"><span data-stu-id="e88d6-140">Configuration for Shared Access Signature authentication</span></span>
<span data-ttu-id="e88d6-141">U kunt configureren Hallo [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) -regel op de Service Bus-naamruimten, wachtrijen en onderwerpen.</span><span class="sxs-lookup"><span data-stu-id="e88d6-141">You can configure hello [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) rule on Service Bus namespaces, queues, or topics.</span></span> <span data-ttu-id="e88d6-142">Configureren van een [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) in een Service Bus abonnement wordt momenteel niet ondersteund, maar u kunt regels die zijn geconfigureerd op een naamruimte of onderwerp toosecure toegang toosubscriptions gebruiken.</span><span class="sxs-lookup"><span data-stu-id="e88d6-142">Configuring a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) on a Service Bus subscription is currently not supported, but you can use rules configured on a namespace or topic toosecure access toosubscriptions.</span></span> <span data-ttu-id="e88d6-143">Zie voor een werkende-voorbeeldtoepassing die u ziet u deze procedure, Hallo [met behulp van Shared Access Signature (SAS)-verificatie met Service Bus abonnementen](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c) voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="e88d6-143">For a working sample that illustrates this procedure, see hello [Using Shared Access Signature (SAS) authentication with Service Bus Subscriptions](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c) sample.</span></span>

<span data-ttu-id="e88d6-144">Maximaal 12 dergelijke regels kan worden geconfigureerd op een Service Bus-naamruimte, wachtrij of onderwerp.</span><span class="sxs-lookup"><span data-stu-id="e88d6-144">A maximum of 12 such rules can be configured on a Service Bus namespace, queue, or topic.</span></span> <span data-ttu-id="e88d6-145">Regels die zijn geconfigureerd op een Service Bus-naamruimte tooall entiteiten in waarmee de naamruimte van toepassing.</span><span class="sxs-lookup"><span data-stu-id="e88d6-145">Rules that are configured on a Service Bus namespace apply tooall entities in that namespace.</span></span>

![SAS](./media/service-bus-sas/service-bus-namespace.png)

<span data-ttu-id="e88d6-147">In deze afbeelding Hallo *manageRuleNS*, *sendRuleNS*, en *listenRuleNS* autorisatieregels tooboth wachtrij W1 en onderwerp T1, toepassen terwijl *listenRuleQ*  en *sendRuleQ* alleen tooqueue W1 toepassen en *sendRuleT* alleen tootopic T1 van toepassing is.</span><span class="sxs-lookup"><span data-stu-id="e88d6-147">In this figure, hello *manageRuleNS*, *sendRuleNS*, and *listenRuleNS* authorization rules apply tooboth queue Q1 and topic T1, while *listenRuleQ* and *sendRuleQ* apply only tooqueue Q1 and *sendRuleT* applies only tootopic T1.</span></span>

<span data-ttu-id="e88d6-148">Hallo belangrijke parameters van een [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) zijn als volgt:</span><span class="sxs-lookup"><span data-stu-id="e88d6-148">hello key parameters of a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) are as follows:</span></span>

| <span data-ttu-id="e88d6-149">Parameter</span><span class="sxs-lookup"><span data-stu-id="e88d6-149">Parameter</span></span> | <span data-ttu-id="e88d6-150">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="e88d6-150">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e88d6-151">*Sleutelnaam*</span><span class="sxs-lookup"><span data-stu-id="e88d6-151">*KeyName*</span></span> |<span data-ttu-id="e88d6-152">Een tekenreeks die Hallo-autorisatieregel beschrijft.</span><span class="sxs-lookup"><span data-stu-id="e88d6-152">A string that describes hello authorization rule.</span></span> |
| <span data-ttu-id="e88d6-153">*PrimaryKey*</span><span class="sxs-lookup"><span data-stu-id="e88d6-153">*PrimaryKey*</span></span> |<span data-ttu-id="e88d6-154">Een base64-gecodeerd 256-bits primaire sleutel voor ondertekening en valideren van Hallo SAS-token.</span><span class="sxs-lookup"><span data-stu-id="e88d6-154">A base64-encoded 256-bit primary key for signing and validating hello SAS token.</span></span> |
| <span data-ttu-id="e88d6-155">*Secundaire sleutel*</span><span class="sxs-lookup"><span data-stu-id="e88d6-155">*SecondaryKey*</span></span> |<span data-ttu-id="e88d6-156">Een base64-gecodeerd 256-bits secundaire sleutel voor ondertekening en valideren van Hallo SAS-token.</span><span class="sxs-lookup"><span data-stu-id="e88d6-156">A base64-encoded 256-bit secondary key for signing and validating hello SAS token.</span></span> |
| <span data-ttu-id="e88d6-157">*AccessRights*</span><span class="sxs-lookup"><span data-stu-id="e88d6-157">*AccessRights*</span></span> |<span data-ttu-id="e88d6-158">Een lijst met rechten verleend door Hallo-autorisatieregel.</span><span class="sxs-lookup"><span data-stu-id="e88d6-158">A list of access rights granted by hello authorization rule.</span></span> <span data-ttu-id="e88d6-159">Deze rechten kunnen worden van een verzameling van rechten luisteren, verzenden en beheren.</span><span class="sxs-lookup"><span data-stu-id="e88d6-159">These rights can be any collection of Listen, Send, and Manage rights.</span></span> |

<span data-ttu-id="e88d6-160">Wanneer een Service Bus-naamruimte is ingericht, een [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), met [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) instellen te**RootManageSharedAccessKey**, wordt standaard gemaakt.</span><span class="sxs-lookup"><span data-stu-id="e88d6-160">When a Service Bus namespace is provisioned, a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), with [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) set too**RootManageSharedAccessKey**, is created by default.</span></span>

## <a name="generate-a-shared-access-signature-token"></a><span data-ttu-id="e88d6-161">Genereren van een Shared Access Signature (token)</span><span class="sxs-lookup"><span data-stu-id="e88d6-161">Generate a Shared Access Signature (token)</span></span>

<span data-ttu-id="e88d6-162">Hallo-beleid zelf is niet Hallo toegangstoken voor Service Bus.</span><span class="sxs-lookup"><span data-stu-id="e88d6-162">hello policy itself is not hello access token for Service Bus.</span></span> <span data-ttu-id="e88d6-163">Het is Hallo-object op basis van welke Hallo toegangstoken wordt gegenereerd - met behulp van Hallo primaire of secundaire sleutel.</span><span class="sxs-lookup"><span data-stu-id="e88d6-163">It is hello object from which hello access token is generated - using either hello primary or secondary key.</span></span> <span data-ttu-id="e88d6-164">Een client die toegang toohello ondertekeningssleutels opgegeven in de autorisatieregel voor gedeelde toegang Hallo heeft kunt Hallo SAS-token te genereren.</span><span class="sxs-lookup"><span data-stu-id="e88d6-164">Any client that has access toohello signing keys specified in hello shared access authorization rule can generate hello SAS token.</span></span> <span data-ttu-id="e88d6-165">Hallo-token wordt gegenereerd door zorgvuldig een tekenreeks in de volgende indeling Hallo:</span><span class="sxs-lookup"><span data-stu-id="e88d6-165">hello token is generated by carefully crafting a string in hello following format:</span></span>

```
SharedAccessSignature sig=<signature-string>&se=<expiry>&skn=<keyName>&sr=<URL-encoded-resourceURI>
```

<span data-ttu-id="e88d6-166">Waar `signature-string` is Hallo SHA-256-hash van het Hallo-bereik van Hallo-token (**bereik** zoals beschreven in de vorige sectie Hallo) met een CRLF toegevoegd en een verlooptijd (in seconden sinds het Hallo-epoche: `00:00:00 UTC` op 1 januari 1970).</span><span class="sxs-lookup"><span data-stu-id="e88d6-166">Where `signature-string` is hello SHA-256 hash of hello scope of hello token (**scope** as described in hello previous section) with a CRLF appended and an expiry time (in seconds since hello epoch: `00:00:00 UTC` on 1 January 1970).</span></span> 

> [!NOTE]
> <span data-ttu-id="e88d6-167">tooavoid een korte token verlooptijdstip verdient het coderen van Hallo verstrijken tijd-waarde als ten minste een 32-bits geheel getal zonder teken of bij voorkeur een geheel getal zijn lange (64-bits).</span><span class="sxs-lookup"><span data-stu-id="e88d6-167">tooavoid a short token expiry time, it is recommended that you encode hello expiry time value as at least a 32-bit unsigned integer, or preferably a long (64-bit) integer.</span></span>  
> 
> 

<span data-ttu-id="e88d6-168">Hallo hash lijkt vergelijkbare toohello pseudocode te volgen en retourneert 32 bytes.</span><span class="sxs-lookup"><span data-stu-id="e88d6-168">hello hash looks similar toohello following pseudo code and returns 32 bytes.</span></span>

```
SHA-256('https://<yournamespace>.servicebus.windows.net/'+'\n'+ 1438205742)
```

<span data-ttu-id="e88d6-169">Hallo niet gehasht waarden zijn in Hallo **SharedAccessSignature** string zodat hello ontvanger Hallo hash berekenen kunt Hello Hallo dezelfde parameters, toobe ervoor dat deze als resultaat geeft hetzelfde resultaat.</span><span class="sxs-lookup"><span data-stu-id="e88d6-169">hello non-hashed values are in hello **SharedAccessSignature** string so that hello recipient can compute hello hash with hello same parameters, toobe sure that it returns hello same result.</span></span> <span data-ttu-id="e88d6-170">Hallo URI geeft Hallo bereik en sleutelnaam Hallo Hallo beleid toobe gebruikt toocompute Hallo hash identificeert.</span><span class="sxs-lookup"><span data-stu-id="e88d6-170">hello URI specifies hello scope, and hello key name identifies hello policy toobe used toocompute hello hash.</span></span> <span data-ttu-id="e88d6-171">Dit is belangrijk uit veiligheidsoverwegingen.</span><span class="sxs-lookup"><span data-stu-id="e88d6-171">This is important from a security standpoint.</span></span> <span data-ttu-id="e88d6-172">Als het Hallo-handtekening komt niet overeen met die welke Hallo ontvanger (Service Bus) worden berekend, is toegang geweigerd.</span><span class="sxs-lookup"><span data-stu-id="e88d6-172">If hello signature doesn't match that which hello recipient (Service Bus) calculates, then access is denied.</span></span> <span data-ttu-id="e88d6-173">Op dit moment kunt u zeker die afzender Hallo toohello toegangssleutel had en Hallo rechten die zijn opgegeven in het Hallo-beleid moet krijgen zijn.</span><span class="sxs-lookup"><span data-stu-id="e88d6-173">At this point you can be sure that hello sender had access toohello key and should be granted hello rights specified in hello policy.</span></span>

<span data-ttu-id="e88d6-174">Houd er rekening mee dat u Hallo gecodeerd resource-URI voor deze bewerking gebruiken moet.</span><span class="sxs-lookup"><span data-stu-id="e88d6-174">Note that you should use hello encoded resource URI for this operation.</span></span> <span data-ttu-id="e88d6-175">Hallo resource-URI is Hallo die volledige URI van Hallo Service Bus toowhich brontoegang wordt geclaimd.</span><span class="sxs-lookup"><span data-stu-id="e88d6-175">hello resource URI is hello full URI of hello Service Bus resource toowhich access is claimed.</span></span> <span data-ttu-id="e88d6-176">Bijvoorbeeld: `http://<namespace>.servicebus.windows.net/<entityPath>` of `sb://<namespace>.servicebus.windows.net/<entityPath>`; dat wil zeggen, `http://contoso.servicebus.windows.net/contosoTopics/T1/Subscriptions/S3`.</span><span class="sxs-lookup"><span data-stu-id="e88d6-176">For example, `http://<namespace>.servicebus.windows.net/<entityPath>` or `sb://<namespace>.servicebus.windows.net/<entityPath>`; that is, `http://contoso.servicebus.windows.net/contosoTopics/T1/Subscriptions/S3`.</span></span>

<span data-ttu-id="e88d6-177">Hallo autorisatieregel voor gedeelde toegang gebruikt voor de ondertekening moet worden geconfigureerd op Hallo entiteit die door deze URI of door een van de hiërarchische bovenliggende items hebt opgegeven.</span><span class="sxs-lookup"><span data-stu-id="e88d6-177">hello shared access authorization rule used for signing must be configured on hello entity specified by this URI, or by one of its hierarchical parents.</span></span> <span data-ttu-id="e88d6-178">Bijvoorbeeld: `http://contoso.servicebus.windows.net/contosoTopics/T1` of `http://contoso.servicebus.windows.net` in het vorige voorbeeld Hallo.</span><span class="sxs-lookup"><span data-stu-id="e88d6-178">For example, `http://contoso.servicebus.windows.net/contosoTopics/T1` or `http://contoso.servicebus.windows.net` in hello previous example.</span></span>

<span data-ttu-id="e88d6-179">Een SAS-token is geldig voor alle resources onder Hallo `<resourceURI>` gebruikt in Hallo `signature-string`.</span><span class="sxs-lookup"><span data-stu-id="e88d6-179">A SAS token is valid for all resources under hello `<resourceURI>` used in hello `signature-string`.</span></span>

<span data-ttu-id="e88d6-180">Hallo [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) in Hallo SAS-token verwijst toohello **keyName** Hallo autorisatieregel voor gedeelde toegang toogenerate Hallo-token hebt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="e88d6-180">hello [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) in hello SAS token refers toohello **keyName** of hello shared access authorization rule used toogenerate hello token.</span></span>

<span data-ttu-id="e88d6-181">Hallo *URL-codering resourceURI* moet zijn hetzelfde als de URI die wordt gebruikt in Hallo tekenreeks te ondertekenen tijdens Hallo berekening van de handtekening Hallo HALLO hallo.</span><span class="sxs-lookup"><span data-stu-id="e88d6-181">hello *URL-encoded-resourceURI* must be hello same as hello URI used in hello string-to-sign during hello computation of hello signature.</span></span> <span data-ttu-id="e88d6-182">Deze moet [procent gecodeerd](https://msdn.microsoft.com/library/4fkewx0t.aspx).</span><span class="sxs-lookup"><span data-stu-id="e88d6-182">It should be [percent-encoded](https://msdn.microsoft.com/library/4fkewx0t.aspx).</span></span>

<span data-ttu-id="e88d6-183">Het is raadzaam dat u regelmatig Hallo opnieuw sleutels gebruikt in Hallo genereert [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object.</span><span class="sxs-lookup"><span data-stu-id="e88d6-183">It is recommended that you periodically regenerate hello keys used in hello [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object.</span></span> <span data-ttu-id="e88d6-184">Toepassingen in het algemeen gebruik Hallo [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) toogenerate een SAS-token.</span><span class="sxs-lookup"><span data-stu-id="e88d6-184">Applications should generally use hello [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) toogenerate a SAS token.</span></span> <span data-ttu-id="e88d6-185">Wanneer het opnieuw genereren van sleutels hello, vervangt u Hallo [secundaire sleutel](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) met Hallo oude primaire sleutel en een nieuwe sleutel als Hallo nieuwe primaire sleutel genereren.</span><span class="sxs-lookup"><span data-stu-id="e88d6-185">When regenerating hello keys, you should replace hello [SecondaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) with hello old primary key, and generate a new key as hello new primary key.</span></span> <span data-ttu-id="e88d6-186">Hiermee kunt u toocontinue tokens gebruiken voor autorisatie die zijn uitgegeven met Hallo oude primaire sleutel en die nog niet zijn verlopen.</span><span class="sxs-lookup"><span data-stu-id="e88d6-186">This enables you toocontinue using tokens for authorization that were issued with hello old primary key, and that have not yet expired.</span></span>

<span data-ttu-id="e88d6-187">Als een sleutel is geknoeid en u toorevoke Hallo-sleutels hebt, kunt u opnieuw genereren beide Hallo [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) en Hallo [secundaire sleutel](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) van een [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), Vervang ze door nieuwe sleutels.</span><span class="sxs-lookup"><span data-stu-id="e88d6-187">If a key is compromised and you have toorevoke hello keys, you can regenerate both hello [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) and hello [SecondaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) of a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), replacing them with new keys.</span></span> <span data-ttu-id="e88d6-188">Deze procedure ongeldig alle tokens die zijn ondertekend met de oude Hallo-sleutels.</span><span class="sxs-lookup"><span data-stu-id="e88d6-188">This procedure invalidates all tokens signed with hello old keys.</span></span>

## <a name="how-toouse-shared-access-signature-authentication-with-service-bus"></a><span data-ttu-id="e88d6-189">Hoe toouse Shared Access Signature-verificatie met Service Bus</span><span class="sxs-lookup"><span data-stu-id="e88d6-189">How toouse Shared Access Signature authentication with Service Bus</span></span>

<span data-ttu-id="e88d6-190">Hallo volgen scenario's zijn configuratie van autorisatieregels, het genereren van SAS-tokens en Clientautorisatie.</span><span class="sxs-lookup"><span data-stu-id="e88d6-190">hello following scenarios include configuration of authorization rules, generation of SAS tokens, and client authorization.</span></span>

<span data-ttu-id="e88d6-191">Voor een volledig werkend voorbeeld van een Service Bus-toepassing die laat Hallo configuratie en gebruik SAS autorisatie zien, Zie [Shared Access Signature-verificatie met Service Bus](http://code.msdn.microsoft.com/Shared-Access-Signature-0a88adf8).</span><span class="sxs-lookup"><span data-stu-id="e88d6-191">For a full working sample of a Service Bus application that illustrates hello configuration and uses SAS authorization, see [Shared Access Signature authentication with Service Bus](http://code.msdn.microsoft.com/Shared-Access-Signature-0a88adf8).</span></span> <span data-ttu-id="e88d6-192">Een gerelateerde steekproef die het illustreert Hallo gebruik van SAS-autorisatieregels geconfigureerd op de naamruimten of onderwerpen toosecure Service Bus-abonnementen is hier beschikbaar: [met behulp van Shared Access Signature (SAS)-verificatie met Service Bus-abonnementen ](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c).</span><span class="sxs-lookup"><span data-stu-id="e88d6-192">A related sample that illustrates hello use of SAS authorization rules configured on namespaces or topics toosecure Service Bus subscriptions is available here: [Using Shared Access Signature (SAS) authentication with Service Bus Subscriptions](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c).</span></span>

## <a name="access-shared-access-authorization-rules-on-a-namespace"></a><span data-ttu-id="e88d6-193">Toegang tot gedeelde toegang autorisatieregels voor een naamruimte</span><span class="sxs-lookup"><span data-stu-id="e88d6-193">Access Shared Access Authorization rules on a namespace</span></span>

<span data-ttu-id="e88d6-194">Bewerkingen op basis van Hallo Service Bus-naamruimte vereist verificatie via certificaat.</span><span class="sxs-lookup"><span data-stu-id="e88d6-194">Operations on hello Service Bus namespace root require certificate authentication.</span></span> <span data-ttu-id="e88d6-195">U moet een beheercertificaat uploaden voor uw Azure-abonnement.</span><span class="sxs-lookup"><span data-stu-id="e88d6-195">You must upload a management certificate for your Azure subscription.</span></span> <span data-ttu-id="e88d6-196">een beheercertificaat tooupload Hallo stappen [hier](../cloud-services/cloud-services-configure-ssl-certificate-portal.md#step-3-upload-a-certificate), met behulp van Hallo [Azure-portal][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="e88d6-196">tooupload a management certificate, follow hello steps [here](../cloud-services/cloud-services-configure-ssl-certificate-portal.md#step-3-upload-a-certificate), using hello [Azure portal][Azure portal].</span></span> <span data-ttu-id="e88d6-197">Zie voor meer informatie over Azure-beheercertificaten hello [overzicht van Azure-certificaten](../cloud-services/cloud-services-certs-create.md#what-are-management-certificates).</span><span class="sxs-lookup"><span data-stu-id="e88d6-197">For more information about Azure management certificates, see hello [Azure certificates overview](../cloud-services/cloud-services-certs-create.md#what-are-management-certificates).</span></span>

<span data-ttu-id="e88d6-198">Hallo-eindpunt voor toegang tot autorisatieregels voor gedeelde toegang voor een Service Bus-naamruimte is als volgt:</span><span class="sxs-lookup"><span data-stu-id="e88d6-198">hello endpoint for accessing shared access authorization rules on a Service Bus namespace is as follows:</span></span>

```http
https://management.core.windows.net/{subscriptionId}/services/ServiceBus/namespaces/{namespace}/AuthorizationRules/
```

<span data-ttu-id="e88d6-199">toocreate een [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object op een Service Bus-naamruimte, voert u een POST-bewerking op dit eindpunt met Hallo regelgegevens geserialiseerd als JSON of XML.</span><span class="sxs-lookup"><span data-stu-id="e88d6-199">toocreate a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object on a Service Bus namespace, execute a POST operation on this endpoint with hello rule information serialized as JSON or XML.</span></span> <span data-ttu-id="e88d6-200">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="e88d6-200">For example:</span></span>

```csharp
// Base address for accessing authorization rules on a namespace
string baseAddress = @"https://management.core.windows.net/<subscriptionId>/services/ServiceBus/namespaces/<namespace>/AuthorizationRules/";

// Configure authorization rule with base64-encoded 256-bit key and Send rights
var sendRule = new SharedAccessAuthorizationRule("contosoSendAll",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Send });

// Operations on hello Service Bus namespace root require certificate authentication.
WebRequestHandler handler = new WebRequestHandler
{
    ClientCertificateOptions = ClientCertificateOption.Manual
};
// Access hello management certificate by subject name
handler.ClientCertificates.Add(GetCertificate(<certificateSN>));

HttpClient httpClient = new HttpClient(handler)
{
    BaseAddress = new Uri(baseAddress)
};
httpClient.DefaultRequestHeaders.Accept.Add(
    new MediaTypeWithQualityHeaderValue("application/json"));
httpClient.DefaultRequestHeaders.Add("x-ms-version", "2015-01-01");

// Execute a POST operation on hello baseAddress above toocreate an auth rule
var postResult = httpClient.PostAsJsonAsync("", sendRule).Result;
```

<span data-ttu-id="e88d6-201">Op deze manier een GET-bewerking op Hallo eindpunt tooread Hallo autorisatieregels geconfigureerd op Hallo naamruimte gebruiken.</span><span class="sxs-lookup"><span data-stu-id="e88d6-201">Similarly, use a GET operation on hello endpoint tooread hello authorization rules configured on hello namespace.</span></span>

<span data-ttu-id="e88d6-202">tooupdate of een specifieke autorisatieregel verwijderen gebruiken om Hallo eindpunt te volgen:</span><span class="sxs-lookup"><span data-stu-id="e88d6-202">tooupdate or delete a specific authorization rule, use hello following endpoint:</span></span>

```http
https://management.core.windows.net/{subscriptionId}/services/ServiceBus/namespaces/{namespace}/AuthorizationRules/{KeyName}
```

## <a name="access-shared-access-authorization-rules-on-an-entity"></a><span data-ttu-id="e88d6-203">Toegang tot gedeelde toegang autorisatieregels voor een entiteit</span><span class="sxs-lookup"><span data-stu-id="e88d6-203">Access Shared Access Authorization rules on an entity</span></span>

<span data-ttu-id="e88d6-204">U hebt toegang tot een [Microsoft.ServiceBus.Messaging.SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object is geconfigureerd voor een Service Bus-wachtrij of onderwerp via Hallo [AuthorizationRules](/dotnet/api/microsoft.servicebus.messaging.authorizationrules) verzameling in hello bijbehorende [QueueDescription](/dotnet/api/microsoft.servicebus.messaging.queuedescription) of [TopicDescription](/dotnet/api/microsoft.servicebus.messaging.topicdescription).</span><span class="sxs-lookup"><span data-stu-id="e88d6-204">You can access a [Microsoft.ServiceBus.Messaging.SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object configured on a Service Bus queue or topic through hello [AuthorizationRules](/dotnet/api/microsoft.servicebus.messaging.authorizationrules) collection in hello corresponding [QueueDescription](/dotnet/api/microsoft.servicebus.messaging.queuedescription) or [TopicDescription](/dotnet/api/microsoft.servicebus.messaging.topicdescription).</span></span>

<span data-ttu-id="e88d6-205">Hallo volgende code toont hoe tooadd verificatieregels voor een wachtrij.</span><span class="sxs-lookup"><span data-stu-id="e88d6-205">hello following code shows how tooadd authorization rules for a queue.</span></span>

```csharp
// Create an instance of NamespaceManager for hello operation
NamespaceManager nsm = NamespaceManager.CreateFromConnectionString(
    <connectionString> );
QueueDescription qd = new QueueDescription( <qPath> );

// Create a rule with send rights with keyName as "contosoQSendKey"
// and add it toohello queue description.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoSendKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Send }));

// Create a rule with listen rights with keyName as "contosoQListenKey"
// and add it toohello queue description.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoQListenKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Listen }));

// Create a rule with manage rights with keyName as "contosoQManageKey"
// and add it toohello queue description.
// A rule with manage rights must also have send and receive rights.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoQManageKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] {AccessRights.Manage, AccessRights.Listen, AccessRights.Send }));

// Create hello queue.
nsm.CreateQueue(qd);
```

## <a name="use-shared-access-signature-authorization"></a><span data-ttu-id="e88d6-206">Shared Access Signature-verificatie gebruiken</span><span class="sxs-lookup"><span data-stu-id="e88d6-206">Use Shared Access Signature authorization</span></span>

<span data-ttu-id="e88d6-207">Toepassingen met Azure .NET SDK Hallo met Hallo Service Bus .NET-bibliotheken kunnen gebruikmaken van SAS-autorisatie via Hallo [SharedAccessSignatureTokenProvider](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) klasse.</span><span class="sxs-lookup"><span data-stu-id="e88d6-207">Applications using hello Azure .NET SDK with hello Service Bus .NET libraries can use SAS authorization through hello [SharedAccessSignatureTokenProvider](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) class.</span></span> <span data-ttu-id="e88d6-208">Hallo volgende code laat zien Hallo gebruik van Hallo tokenprovider toosend berichten tooa Service Bus-wachtrij.</span><span class="sxs-lookup"><span data-stu-id="e88d6-208">hello following code illustrates hello use of hello token provider toosend messages tooa Service Bus queue.</span></span>

```csharp
Uri runtimeUri = ServiceBusEnvironment.CreateServiceUri("sb",
    <yourServiceNamespace>, string.Empty);
MessagingFactory mf = MessagingFactory.Create(runtimeUri,
    TokenProvider.CreateSharedAccessSignatureTokenProvider(keyName, key));
QueueClient sendClient = mf.CreateQueueClient(qPath);

//Sending hello message tooqueue.
BrokeredMessage helloMessage = new BrokeredMessage("Hello, Service Bus!");
helloMessage.MessageId = "SAS-Sample-Message";
sendClient.Send(helloMessage);
```

<span data-ttu-id="e88d6-209">Toepassingen kunnen ook SAS gebruiken voor verificatie met behulp van een SAS-verbindingsreeks in de methoden die verbindingsreeksen accepteren.</span><span class="sxs-lookup"><span data-stu-id="e88d6-209">Applications can also use SAS for authentication by using a SAS connection string in methods that accept connection strings.</span></span>

<span data-ttu-id="e88d6-210">Houd er rekening mee dat autorisatie toouse SAS met Service Bus relays, kunt u SAS-sleutels die zijn geconfigureerd op Hallo Service Bus-naamruimte.</span><span class="sxs-lookup"><span data-stu-id="e88d6-210">Note that toouse SAS authorization with Service Bus relays, you can use SAS keys configured on hello Service Bus namespace.</span></span> <span data-ttu-id="e88d6-211">Als u expliciet een relay op Hallo-naamruimte maakt ([NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) met een [RelayDescription](/dotnet/api/microsoft.servicebus.messaging.relaydescription))-object, kunt u Hallo SAS regels alleen voor die relay opgeven.</span><span class="sxs-lookup"><span data-stu-id="e88d6-211">If you explicitly create a relay on hello namespace ([NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) with a [RelayDescription](/dotnet/api/microsoft.servicebus.messaging.relaydescription)) object, you can set hello SAS rules just for that relay.</span></span> <span data-ttu-id="e88d6-212">toouse SAS autorisatie met Service Bus-abonnementen, kunt u SAS-sleutels die zijn geconfigureerd op een Service Bus-naamruimte of op een onderwerp.</span><span class="sxs-lookup"><span data-stu-id="e88d6-212">toouse SAS authorization with Service Bus subscriptions, you can use SAS keys configured on a Service Bus namespace or on a topic.</span></span>

## <a name="use-hello-shared-access-signature-at-http-level"></a><span data-ttu-id="e88d6-213">Gebruik Hallo Shared Access Signature (op http-niveau)</span><span class="sxs-lookup"><span data-stu-id="e88d6-213">Use hello Shared Access Signature (at HTTP level)</span></span>

<span data-ttu-id="e88d6-214">Nu dat u weet hoe toocreate Shared Access Signatures voor alle entiteiten in Service Bus, u gereed tooperform een HTTP POST:</span><span class="sxs-lookup"><span data-stu-id="e88d6-214">Now that you know how toocreate Shared Access Signatures for any entities in Service Bus, you are ready tooperform an HTTP POST:</span></span>

```http
POST https://<yournamespace>.servicebus.windows.net/<yourentity>/messages
Content-Type: application/json
Authorization: SharedAccessSignature sr=https%3A%2F%2F<yournamespace>.servicebus.windows.net%2F<yourentity>&sig=<yoursignature from code above>&se=1438205742&skn=KeyName
ContentType: application/atom+xml;type=entry;charset=utf-8
``` 

<span data-ttu-id="e88d6-215">Denk eraan dat dit werkt voor alles.</span><span class="sxs-lookup"><span data-stu-id="e88d6-215">Remember, this works for everything.</span></span> <span data-ttu-id="e88d6-216">U kunt een SAS maken voor een wachtrij, onderwerp of abonnement.</span><span class="sxs-lookup"><span data-stu-id="e88d6-216">You can create SAS for a queue, topic, or subscription.</span></span> 

<span data-ttu-id="e88d6-217">Als u een afzender of de client een SAS-token geeft, niet de Hallo sleutel rechtstreeks hebben en Hallo hash tooobtain kan niet worden omgekeerd deze.</span><span class="sxs-lookup"><span data-stu-id="e88d6-217">If you give a sender or client a SAS token, they don't have hello key directly, and they cannot reverse hello hash tooobtain it.</span></span> <span data-ttu-id="e88d6-218">Hierdoor hebt u controle over wat ze kunnen openen en hoe lang.</span><span class="sxs-lookup"><span data-stu-id="e88d6-218">As such, you have control over what they can access, and for how long.</span></span> <span data-ttu-id="e88d6-219">Een tooremember belangrijkste is dat als u de primaire sleutel Hallo in Hallo beleid wijzigt, wordt alle handtekeningen voor gedeelde toegang gemaakt op basis van het ongeldig.</span><span class="sxs-lookup"><span data-stu-id="e88d6-219">An important thing tooremember is that if you change hello primary key in hello policy, any Shared Access Signatures created from it will be invalidated.</span></span>

## <a name="use-hello-shared-access-signature-at-amqp-level"></a><span data-ttu-id="e88d6-220">Gebruik Hallo Shared Access Signature (op AMQP niveau)</span><span class="sxs-lookup"><span data-stu-id="e88d6-220">Use hello Shared Access Signature (at AMQP level)</span></span>

<span data-ttu-id="e88d6-221">In de vorige sectie hello, hebt u gezien hoe toouse Hallo SAS-token met een HTTP POST-aanvraag voor het verzenden van gegevens toohello Service Bus.</span><span class="sxs-lookup"><span data-stu-id="e88d6-221">In hello previous section, you saw how toouse hello SAS token with an HTTP POST request for sending data toohello Service Bus.</span></span> <span data-ttu-id="e88d6-222">Als u weet, kunt u toegang tot Service Bus geavanceerde Message Queuing-Protocol (AMQP) die Hallo voorkeur protocol toouse voor betere prestaties in veel scenario's met behulp van Hallo.</span><span class="sxs-lookup"><span data-stu-id="e88d6-222">As you know, you can access Service Bus using hello Advanced Message Queuing Protocol (AMQP) that is hello preferred protocol toouse for performance reasons, in many scenarios.</span></span> <span data-ttu-id="e88d6-223">Hallo SAS-token gebruik met AMQP wordt beschreven in het document Hallo [AMQP Claim-Based Security versie 1.0](https://www.oasis-open.org/committees/download.php/50506/amqp-cbs-v1%200-wd02%202013-08-12.doc) die in werkende concept sinds 2013 maar goed ondersteund door Azure vandaag.</span><span class="sxs-lookup"><span data-stu-id="e88d6-223">hello SAS token usage with AMQP is described in hello document [AMQP Claim-Based Security Version 1.0](https://www.oasis-open.org/committees/download.php/50506/amqp-cbs-v1%200-wd02%202013-08-12.doc) that is in working draft since 2013 but well-supported by Azure today.</span></span>

<span data-ttu-id="e88d6-224">Voordat u begint toosend gegevens tooService Bus, Hallo publisher Hallo SAS-token binnen een AMQP bericht tooa goed gedefinieerde AMQP-knooppunt met de naam moet verzenden **$cbs** (u kunt zien als een 'speciale' wachtrij die wordt gebruikt door Hallo service tooacquire en Alles valideren Hallo SAS-tokens).</span><span class="sxs-lookup"><span data-stu-id="e88d6-224">Before starting toosend data tooService Bus, hello publisher must send hello SAS token inside an AMQP message tooa well-defined AMQP node named **$cbs** (you can see it as a "special" queue used by hello service tooacquire and validate all hello SAS tokens).</span></span> <span data-ttu-id="e88d6-225">Hallo uitgever moet opgeven Hallo **ReplyTo** veld binnen AMQP het Hallo-bericht; dit Hallo-knooppunt in welke Hallo service toohello publisher met Hallo resultaat van de validatie van Hallo tokens (een eenvoudige aanvraag/antwoordbewerking patroon tussen antwoorden uitgever en service).</span><span class="sxs-lookup"><span data-stu-id="e88d6-225">hello publisher must specify hello **ReplyTo** field inside hello AMQP message; this is hello node in which hello service replies toohello publisher with hello result of hello token validation (a simple request/reply pattern between publisher and service).</span></span> <span data-ttu-id="e88d6-226">Dit antwoord-knooppunt wordt gemaakt 'aan' hello snel,' over 'dynamische maken van het externe knooppunt' spreken, zoals beschreven door Hallo AMQP 1.0-specificatie.</span><span class="sxs-lookup"><span data-stu-id="e88d6-226">This reply node is created "on hello fly," speaking about "dynamic creation of remote node" as described by hello AMQP 1.0 specification.</span></span> <span data-ttu-id="e88d6-227">Nadat u hebt gecontroleerd dat Hallo SAS-token is geldig, Hallo publisher vooruit en toosend gegevens toohello service starten.</span><span class="sxs-lookup"><span data-stu-id="e88d6-227">After checking that hello SAS token is valid, hello publisher can go forward and start toosend data toohello service.</span></span>

<span data-ttu-id="e88d6-228">Hallo volgende stappen laten zien hoe toosend SAS-token met AMQP-protocol met Hallo Hallo [AMQP.Net Lite](https://github.com/Azure/amqpnetlite) bibliotheek.</span><span class="sxs-lookup"><span data-stu-id="e88d6-228">hello following steps show how toosend hello SAS token with AMQP protocol using hello [AMQP.Net Lite](https://github.com/Azure/amqpnetlite) library.</span></span> <span data-ttu-id="e88d6-229">Dit is handig als u niet Hallo officiële kunt Service Bus-SDK (bijvoorbeeld op WinRT, .net Compact Framework, .net Framework Micro en Mono) ontwikkeling in C\#.</span><span class="sxs-lookup"><span data-stu-id="e88d6-229">This is useful if you can't use hello official Service Bus SDK (for example on WinRT, .Net Compact Framework, .Net Micro Framework and Mono) developing in C\#.</span></span> <span data-ttu-id="e88d6-230">Deze bibliotheek is natuurlijk nuttig toohelp begrijpen hoe op claims gebaseerde beveiliging werkt op Hallo AMQP niveau, zoals u hebt gezien hoe het werkt op Hallo HTTP-niveau (met een HTTP POST-aanvraag en Hallo SAS-token verzonden binnen Hallo ' ' verificatieheader).</span><span class="sxs-lookup"><span data-stu-id="e88d6-230">Of course, this library is useful toohelp understand how claims-based security works at hello AMQP level, as you saw how it works at hello HTTP level (with an HTTP POST request and hello SAS token sent inside hello "Authorization" header).</span></span> <span data-ttu-id="e88d6-231">Als u niet grondige kennis over AMQP hoeft, kunt u Hallo officiële Service Bus-SDK met .net Framework-toepassingen, wat het voor u doen.</span><span class="sxs-lookup"><span data-stu-id="e88d6-231">If you don't need such deep knowledge about AMQP, you can use hello official Service Bus SDK with .Net Framework applications, which will do it for you.</span></span>

### <a name="c35"></a><span data-ttu-id="e88d6-232">C&#35;</span><span class="sxs-lookup"><span data-stu-id="e88d6-232">C&#35;</span></span>

```csharp
/// <summary>
/// Send claim-based security (CBS) token
/// </summary>
/// <param name="shareAccessSignature">Shared access signature (token) toosend</param>
private bool PutCbsToken(Connection connection, string sasToken)
{
    bool result = true;
    Session session = new Session(connection);

    string cbsClientAddress = "cbs-client-reply-to";
    var cbsSender = new SenderLink(session, "cbs-sender", "$cbs");
    var cbsReceiver = new ReceiverLink(session, cbsClientAddress, "$cbs");

    // construct hello put-token message
    var request = new Message(sasToken);
    request.Properties = new Properties();
    request.Properties.MessageId = Guid.NewGuid().ToString();
    request.Properties.ReplyTo = cbsClientAddress;
    request.ApplicationProperties = new ApplicationProperties();
    request.ApplicationProperties["operation"] = "put-token";
    request.ApplicationProperties["type"] = "servicebus.windows.net:sastoken";
    request.ApplicationProperties["name"] = Fx.Format("amqp://{0}/{1}", sbNamespace, entity);
    cbsSender.Send(request);

    // receive hello response
    var response = cbsReceiver.Receive();
    if (response == null || response.Properties == null || response.ApplicationProperties == null)
    {
        result = false;
    }
    else
    {
        int statusCode = (int)response.ApplicationProperties["status-code"];
        if (statusCode != (int)HttpStatusCode.Accepted && statusCode != (int)HttpStatusCode.OK)
        {
            result = false;
        }
    }

    // hello sender/receiver may be kept open for refreshing tokens
    cbsSender.Close();
    cbsReceiver.Close();
    session.Close();

    return result;
}
```

<span data-ttu-id="e88d6-233">Hallo `PutCbsToken()` methode ontvangt Hallo *verbinding* (AMQP verbinding klasse-instantie worden geleverd door Hallo [AMQP .NET Lite-bibliotheek](https://github.com/Azure/amqpnetlite)) die Hallo TCP-verbinding toohello service en Hallo vertegenwoordigt *sasToken* parameter Hallo SAS-token toosend.</span><span class="sxs-lookup"><span data-stu-id="e88d6-233">hello `PutCbsToken()` method receives hello *connection* (AMQP connection class instance as provided by hello [AMQP .NET Lite library](https://github.com/Azure/amqpnetlite)) that represents hello TCP connection toohello service and hello *sasToken* parameter that is hello SAS token toosend.</span></span> 

> [!NOTE]
> <span data-ttu-id="e88d6-234">Het is belangrijk dat Hallo verbinding wordt gemaakt met **SASL verificatiemechanisme ingesteld tooEXTERNAL** (en niet Hallo standaard zonder opmaak met gebruikersnaam en wachtwoord die worden gebruikt wanneer u toosend Hallo SAS-token niet nodig).</span><span class="sxs-lookup"><span data-stu-id="e88d6-234">It's important that hello connection is created with **SASL authentication mechanism set tooEXTERNAL** (and not hello default PLAIN with username and password used when you don't need toosend hello SAS token).</span></span>
> 
> 

<span data-ttu-id="e88d6-235">Hallo publisher maakt vervolgens twee AMQP koppelingen voor Hallo SAS-token verzenden en ontvangen van Hallo antwoord (resultaat Hallo token validatie) van Hallo-service.</span><span class="sxs-lookup"><span data-stu-id="e88d6-235">Next, hello publisher creates two AMQP links for sending hello SAS token and receiving hello reply (hello token validation result) from hello service.</span></span>

<span data-ttu-id="e88d6-236">AMQP het Hallo-bericht bevat een set eigenschappen en meer informatie dan een eenvoudige bericht.</span><span class="sxs-lookup"><span data-stu-id="e88d6-236">hello AMQP message contains a set of properties, and more information than a simple message.</span></span> <span data-ttu-id="e88d6-237">Hallo SAS-token is Hallo hoofdtekst van het Hallo-bericht (met behulp van de constructor).</span><span class="sxs-lookup"><span data-stu-id="e88d6-237">hello SAS token is hello body of hello message (using its constructor).</span></span> <span data-ttu-id="e88d6-238">Hallo **'ReplyTo'** eigenschap toohello knooppuntnaam voor het ontvangen van Hallo validatieresultaat op Hallo ontvanger koppeling (u kunt de naam wijzigen als u wilt en het wordt dynamisch worden gemaakt met Hallo-service) is ingesteld.</span><span class="sxs-lookup"><span data-stu-id="e88d6-238">hello **"ReplyTo"** property is set toohello node name for receiving hello validation result on hello receiver link (you can change its name if you want, and it will be created dynamically by hello service).</span></span> <span data-ttu-id="e88d6-239">Hallo laatste drie toepassing/aangepast eigenschappen worden gebruikt door Hallo service tooindicate wat van bewerking heeft tooexecute.</span><span class="sxs-lookup"><span data-stu-id="e88d6-239">hello last three application/custom properties are used by hello service tooindicate what kind of operation it has tooexecute.</span></span> <span data-ttu-id="e88d6-240">Zoals is beschreven door Hallo CBS conceptspecificatie, moeten ze Hallo **bewerkingsnaam** ('put-token'), Hallo **type token** (in dit geval een ' servicebus.windows.net:sastoken'), en Hallo **' naam' van de doelgroep Hallo** toowhich Hallo-token is van toepassing (Hallo volledige entiteit).</span><span class="sxs-lookup"><span data-stu-id="e88d6-240">As described by hello CBS draft specification, they must be hello **operation name** ("put-token"), hello **type of token** (in this case, a "servicebus.windows.net:sastoken"), and hello **"name" of hello audience** toowhich hello token applies (hello entire entity).</span></span>

<span data-ttu-id="e88d6-241">Na het Hallo-SAS-token op Hallo afzender koppeling verzenden, moet de Hallo publisher Hallo-antwoorden op Hallo ontvanger koppeling lezen.</span><span class="sxs-lookup"><span data-stu-id="e88d6-241">After sending hello SAS token on hello sender link, hello publisher must read hello reply on hello receiver link.</span></span> <span data-ttu-id="e88d6-242">Hallo-antwoord is een eenvoudige AMQP-bericht met de eigenschap van een toepassing met de naam **'statuscode'** die dezelfde als een HTTP-statuscode waarden Hallo kan bevatten.</span><span class="sxs-lookup"><span data-stu-id="e88d6-242">hello reply is a simple AMQP message with an application property named **"status-code"** that can contain hello same values as an HTTP status code.</span></span>

## <a name="rights-required-for-service-bus-operations"></a><span data-ttu-id="e88d6-243">Rechten die vereist zijn voor Service Bus-bewerkingen</span><span class="sxs-lookup"><span data-stu-id="e88d6-243">Rights required for Service Bus operations</span></span>

<span data-ttu-id="e88d6-244">Hallo toont volgende tabel Hallo toegangsrechten nodig zijn voor verschillende bewerkingen voor Service Bus-resources.</span><span class="sxs-lookup"><span data-stu-id="e88d6-244">hello following table shows hello access rights required for various operations on Service Bus resources.</span></span>

| <span data-ttu-id="e88d6-245">Bewerking</span><span class="sxs-lookup"><span data-stu-id="e88d6-245">Operation</span></span> | <span data-ttu-id="e88d6-246">Claim vereist</span><span class="sxs-lookup"><span data-stu-id="e88d6-246">Claim Required</span></span> | <span data-ttu-id="e88d6-247">Claim-bereik</span><span class="sxs-lookup"><span data-stu-id="e88d6-247">Claim Scope</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e88d6-248">**Namespace**</span><span class="sxs-lookup"><span data-stu-id="e88d6-248">**Namespace**</span></span> | | |
| <span data-ttu-id="e88d6-249">Verificatieregel configureren op een naamruimte</span><span class="sxs-lookup"><span data-stu-id="e88d6-249">Configure authorization rule on a namespace</span></span> |<span data-ttu-id="e88d6-250">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-250">Manage</span></span> |<span data-ttu-id="e88d6-251">Een naamruimte-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-251">Any namespace address</span></span> |
| <span data-ttu-id="e88d6-252">**Service-register**</span><span class="sxs-lookup"><span data-stu-id="e88d6-252">**Service Registry**</span></span> | | |
| <span data-ttu-id="e88d6-253">Beleid voor persoonlijke opsommen</span><span class="sxs-lookup"><span data-stu-id="e88d6-253">Enumerate Private Policies</span></span> |<span data-ttu-id="e88d6-254">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-254">Manage</span></span> |<span data-ttu-id="e88d6-255">Een naamruimte-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-255">Any namespace address</span></span> |
| <span data-ttu-id="e88d6-256">Beginnen met luisteren op een naamruimte</span><span class="sxs-lookup"><span data-stu-id="e88d6-256">Begin listening on a namespace</span></span> |<span data-ttu-id="e88d6-257">Luisteren</span><span class="sxs-lookup"><span data-stu-id="e88d6-257">Listen</span></span> |<span data-ttu-id="e88d6-258">Een naamruimte-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-258">Any namespace address</span></span> |
| <span data-ttu-id="e88d6-259">Berichten tooa listener op een naamruimte verzenden</span><span class="sxs-lookup"><span data-stu-id="e88d6-259">Send messages tooa listener at a namespace</span></span> |<span data-ttu-id="e88d6-260">Verzenden</span><span class="sxs-lookup"><span data-stu-id="e88d6-260">Send</span></span> |<span data-ttu-id="e88d6-261">Een naamruimte-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-261">Any namespace address</span></span> |
| <span data-ttu-id="e88d6-262">**Wachtrij**</span><span class="sxs-lookup"><span data-stu-id="e88d6-262">**Queue**</span></span> | | |
| <span data-ttu-id="e88d6-263">Een wachtrij maken</span><span class="sxs-lookup"><span data-stu-id="e88d6-263">Create a queue</span></span> |<span data-ttu-id="e88d6-264">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-264">Manage</span></span> |<span data-ttu-id="e88d6-265">Een naamruimte-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-265">Any namespace address</span></span> |
| <span data-ttu-id="e88d6-266">Een wachtrij verwijderen</span><span class="sxs-lookup"><span data-stu-id="e88d6-266">Delete a queue</span></span> |<span data-ttu-id="e88d6-267">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-267">Manage</span></span> |<span data-ttu-id="e88d6-268">Geldige wachtrij-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-268">Any valid queue address</span></span> |
| <span data-ttu-id="e88d6-269">Wachtrijen opsommen</span><span class="sxs-lookup"><span data-stu-id="e88d6-269">Enumerate queues</span></span> |<span data-ttu-id="e88d6-270">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-270">Manage</span></span> |<span data-ttu-id="e88d6-271">Map resources/wachtrijen</span><span class="sxs-lookup"><span data-stu-id="e88d6-271">/$Resources/Queues</span></span> |
| <span data-ttu-id="e88d6-272">Beschrijving van de wachtrij Hallo ophalen</span><span class="sxs-lookup"><span data-stu-id="e88d6-272">Get hello queue description</span></span> |<span data-ttu-id="e88d6-273">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-273">Manage</span></span> |<span data-ttu-id="e88d6-274">Geldige wachtrij-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-274">Any valid queue address</span></span> |
| <span data-ttu-id="e88d6-275">Autorisatieregel voor een wachtrij configureren</span><span class="sxs-lookup"><span data-stu-id="e88d6-275">Configure authorization rule for a queue</span></span> |<span data-ttu-id="e88d6-276">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-276">Manage</span></span> |<span data-ttu-id="e88d6-277">Geldige wachtrij-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-277">Any valid queue address</span></span> |
| <span data-ttu-id="e88d6-278">In de wachtrij toohello verzenden</span><span class="sxs-lookup"><span data-stu-id="e88d6-278">Send into toohello queue</span></span> |<span data-ttu-id="e88d6-279">Verzenden</span><span class="sxs-lookup"><span data-stu-id="e88d6-279">Send</span></span> |<span data-ttu-id="e88d6-280">Geldige wachtrij-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-280">Any valid queue address</span></span> |
| <span data-ttu-id="e88d6-281">Berichten ontvangen uit een wachtrij</span><span class="sxs-lookup"><span data-stu-id="e88d6-281">Receive messages from a queue</span></span> |<span data-ttu-id="e88d6-282">Luisteren</span><span class="sxs-lookup"><span data-stu-id="e88d6-282">Listen</span></span> |<span data-ttu-id="e88d6-283">Geldige wachtrij-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-283">Any valid queue address</span></span> |
| <span data-ttu-id="e88d6-284">Afbreken of berichten voltooien na de ontvangst van het Hallo-bericht in de modus peek vergrendelen</span><span class="sxs-lookup"><span data-stu-id="e88d6-284">Abandon or complete messages after receiving hello message in peek-lock mode</span></span> |<span data-ttu-id="e88d6-285">Luisteren</span><span class="sxs-lookup"><span data-stu-id="e88d6-285">Listen</span></span> |<span data-ttu-id="e88d6-286">Geldige wachtrij-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-286">Any valid queue address</span></span> |
| <span data-ttu-id="e88d6-287">Een bericht voor later gebruik stellen</span><span class="sxs-lookup"><span data-stu-id="e88d6-287">Defer a message for later retrieval</span></span> |<span data-ttu-id="e88d6-288">Luisteren</span><span class="sxs-lookup"><span data-stu-id="e88d6-288">Listen</span></span> |<span data-ttu-id="e88d6-289">Geldige wachtrij-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-289">Any valid queue address</span></span> |
| <span data-ttu-id="e88d6-290">Wachtrij voor onbestelbare een bericht</span><span class="sxs-lookup"><span data-stu-id="e88d6-290">Deadletter a message</span></span> |<span data-ttu-id="e88d6-291">Luisteren</span><span class="sxs-lookup"><span data-stu-id="e88d6-291">Listen</span></span> |<span data-ttu-id="e88d6-292">Geldige wachtrij-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-292">Any valid queue address</span></span> |
| <span data-ttu-id="e88d6-293">Hallo-status is gekoppeld aan een sessie van de wachtrij bericht ophalen</span><span class="sxs-lookup"><span data-stu-id="e88d6-293">Get hello state associated with a message queue session</span></span> |<span data-ttu-id="e88d6-294">Luisteren</span><span class="sxs-lookup"><span data-stu-id="e88d6-294">Listen</span></span> |<span data-ttu-id="e88d6-295">Geldige wachtrij-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-295">Any valid queue address</span></span> |
| <span data-ttu-id="e88d6-296">De status van de Hallo instellen die zijn gekoppeld aan een sessie van de wachtrij bericht</span><span class="sxs-lookup"><span data-stu-id="e88d6-296">Set hello state associated with a message queue session</span></span> |<span data-ttu-id="e88d6-297">Luisteren</span><span class="sxs-lookup"><span data-stu-id="e88d6-297">Listen</span></span> |<span data-ttu-id="e88d6-298">Geldige wachtrij-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-298">Any valid queue address</span></span> |
| <span data-ttu-id="e88d6-299">**Onderwerp**</span><span class="sxs-lookup"><span data-stu-id="e88d6-299">**Topic**</span></span> | | |
| <span data-ttu-id="e88d6-300">Een onderwerp maken</span><span class="sxs-lookup"><span data-stu-id="e88d6-300">Create a topic</span></span> |<span data-ttu-id="e88d6-301">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-301">Manage</span></span> |<span data-ttu-id="e88d6-302">Een naamruimte-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-302">Any namespace address</span></span> |
| <span data-ttu-id="e88d6-303">Een onderwerp verwijderen</span><span class="sxs-lookup"><span data-stu-id="e88d6-303">Delete a topic</span></span> |<span data-ttu-id="e88d6-304">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-304">Manage</span></span> |<span data-ttu-id="e88d6-305">Elk adres ongeldig onderwerp</span><span class="sxs-lookup"><span data-stu-id="e88d6-305">Any valid topic address</span></span> |
| <span data-ttu-id="e88d6-306">Onderwerpen over opsommen</span><span class="sxs-lookup"><span data-stu-id="e88d6-306">Enumerate topics</span></span> |<span data-ttu-id="e88d6-307">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-307">Manage</span></span> |<span data-ttu-id="e88d6-308">Resources: map/onderwerpen</span><span class="sxs-lookup"><span data-stu-id="e88d6-308">/$Resources/Topics</span></span> |
| <span data-ttu-id="e88d6-309">Beschrijving van Hallo onderwerp ophalen</span><span class="sxs-lookup"><span data-stu-id="e88d6-309">Get hello topic description</span></span> |<span data-ttu-id="e88d6-310">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-310">Manage</span></span> |<span data-ttu-id="e88d6-311">Elk adres ongeldig onderwerp</span><span class="sxs-lookup"><span data-stu-id="e88d6-311">Any valid topic address</span></span> |
| <span data-ttu-id="e88d6-312">Autorisatieregel voor een onderwerp configureren</span><span class="sxs-lookup"><span data-stu-id="e88d6-312">Configure authorization rule for a topic</span></span> |<span data-ttu-id="e88d6-313">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-313">Manage</span></span> |<span data-ttu-id="e88d6-314">Elk adres ongeldig onderwerp</span><span class="sxs-lookup"><span data-stu-id="e88d6-314">Any valid topic address</span></span> |
| <span data-ttu-id="e88d6-315">Toohello onderwerp verzenden</span><span class="sxs-lookup"><span data-stu-id="e88d6-315">Send toohello topic</span></span> |<span data-ttu-id="e88d6-316">Verzenden</span><span class="sxs-lookup"><span data-stu-id="e88d6-316">Send</span></span> |<span data-ttu-id="e88d6-317">Elk adres ongeldig onderwerp</span><span class="sxs-lookup"><span data-stu-id="e88d6-317">Any valid topic address</span></span> |
| <span data-ttu-id="e88d6-318">**Abonnement**</span><span class="sxs-lookup"><span data-stu-id="e88d6-318">**Subscription**</span></span> | | |
| <span data-ttu-id="e88d6-319">Een abonnement maken</span><span class="sxs-lookup"><span data-stu-id="e88d6-319">Create a subscription</span></span> |<span data-ttu-id="e88d6-320">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-320">Manage</span></span> |<span data-ttu-id="e88d6-321">Een naamruimte-adres</span><span class="sxs-lookup"><span data-stu-id="e88d6-321">Any namespace address</span></span> |
| <span data-ttu-id="e88d6-322">Abonnement verwijderen</span><span class="sxs-lookup"><span data-stu-id="e88d6-322">Delete subscription</span></span> |<span data-ttu-id="e88d6-323">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-323">Manage</span></span> |<span data-ttu-id="e88d6-324">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="e88d6-324">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="e88d6-325">Abonnementen opsommen</span><span class="sxs-lookup"><span data-stu-id="e88d6-325">Enumerate subscriptions</span></span> |<span data-ttu-id="e88d6-326">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-326">Manage</span></span> |<span data-ttu-id="e88d6-327">.. / myTopic/abonnementen</span><span class="sxs-lookup"><span data-stu-id="e88d6-327">../myTopic/Subscriptions</span></span> |
| <span data-ttu-id="e88d6-328">Beschrijving van het abonnement ophalen</span><span class="sxs-lookup"><span data-stu-id="e88d6-328">Get subscription description</span></span> |<span data-ttu-id="e88d6-329">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-329">Manage</span></span> |<span data-ttu-id="e88d6-330">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="e88d6-330">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="e88d6-331">Afbreken of berichten voltooien na de ontvangst van het Hallo-bericht in de modus peek vergrendelen</span><span class="sxs-lookup"><span data-stu-id="e88d6-331">Abandon or complete messages after receiving hello message in peek-lock mode</span></span> |<span data-ttu-id="e88d6-332">Luisteren</span><span class="sxs-lookup"><span data-stu-id="e88d6-332">Listen</span></span> |<span data-ttu-id="e88d6-333">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="e88d6-333">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="e88d6-334">Een bericht voor later gebruik stellen</span><span class="sxs-lookup"><span data-stu-id="e88d6-334">Defer a message for later retrieval</span></span> |<span data-ttu-id="e88d6-335">Luisteren</span><span class="sxs-lookup"><span data-stu-id="e88d6-335">Listen</span></span> |<span data-ttu-id="e88d6-336">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="e88d6-336">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="e88d6-337">Wachtrij voor onbestelbare een bericht</span><span class="sxs-lookup"><span data-stu-id="e88d6-337">Deadletter a message</span></span> |<span data-ttu-id="e88d6-338">Luisteren</span><span class="sxs-lookup"><span data-stu-id="e88d6-338">Listen</span></span> |<span data-ttu-id="e88d6-339">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="e88d6-339">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="e88d6-340">Hallo-status is gekoppeld aan een sessie onderwerp ophalen</span><span class="sxs-lookup"><span data-stu-id="e88d6-340">Get hello state associated with a topic session</span></span> |<span data-ttu-id="e88d6-341">Luisteren</span><span class="sxs-lookup"><span data-stu-id="e88d6-341">Listen</span></span> |<span data-ttu-id="e88d6-342">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="e88d6-342">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="e88d6-343">De status van de Hallo instellen die zijn gekoppeld aan een sessie onderwerp</span><span class="sxs-lookup"><span data-stu-id="e88d6-343">Set hello state associated with a topic session</span></span> |<span data-ttu-id="e88d6-344">Luisteren</span><span class="sxs-lookup"><span data-stu-id="e88d6-344">Listen</span></span> |<span data-ttu-id="e88d6-345">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="e88d6-345">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="e88d6-346">**Regels**</span><span class="sxs-lookup"><span data-stu-id="e88d6-346">**Rules**</span></span> | | |
| <span data-ttu-id="e88d6-347">Een regel maken</span><span class="sxs-lookup"><span data-stu-id="e88d6-347">Create a rule</span></span> |<span data-ttu-id="e88d6-348">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-348">Manage</span></span> |<span data-ttu-id="e88d6-349">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="e88d6-349">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="e88d6-350">Een regel verwijderen</span><span class="sxs-lookup"><span data-stu-id="e88d6-350">Delete a rule</span></span> |<span data-ttu-id="e88d6-351">Beheren</span><span class="sxs-lookup"><span data-stu-id="e88d6-351">Manage</span></span> |<span data-ttu-id="e88d6-352">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="e88d6-352">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="e88d6-353">Regels opsommen</span><span class="sxs-lookup"><span data-stu-id="e88d6-353">Enumerate rules</span></span> |<span data-ttu-id="e88d6-354">Beheren of luisteren</span><span class="sxs-lookup"><span data-stu-id="e88d6-354">Manage or Listen</span></span> |<span data-ttu-id="e88d6-355">.. /myTopic/Subscriptions/mySubscription/Rules</span><span class="sxs-lookup"><span data-stu-id="e88d6-355">../myTopic/Subscriptions/mySubscription/Rules</span></span> 

## <a name="next-steps"></a><span data-ttu-id="e88d6-356">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="e88d6-356">Next steps</span></span>

<span data-ttu-id="e88d6-357">toolearn meer informatie over Service Bus-berichtenservice, Zie Hallo volgende onderwerpen.</span><span class="sxs-lookup"><span data-stu-id="e88d6-357">toolearn more about Service Bus messaging, see hello following topics.</span></span>

* [<span data-ttu-id="e88d6-358">Grondbeginselen van Service Bus</span><span class="sxs-lookup"><span data-stu-id="e88d6-358">Service Bus fundamentals</span></span>](service-bus-fundamentals-hybrid-solutions.md)
* [<span data-ttu-id="e88d6-359">Service Bus-wachtrijen, -onderwerpen en -abonnementen</span><span class="sxs-lookup"><span data-stu-id="e88d6-359">Service Bus queues, topics, and subscriptions</span></span>](service-bus-queues-topics-subscriptions.md)
* [<span data-ttu-id="e88d6-360">Hoe toouse Service Bus-wachtrijen</span><span class="sxs-lookup"><span data-stu-id="e88d6-360">How toouse Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="e88d6-361">Hoe toouse Service Bus-onderwerpen en abonnementen</span><span class="sxs-lookup"><span data-stu-id="e88d6-361">How toouse Service Bus topics and subscriptions</span></span>](service-bus-dotnet-how-to-use-topics-subscriptions.md)

[Azure portal]: https://portal.azure.com