---
title: wachtrijen voor onbestelbare Bus aaaService | Microsoft Docs
description: Overzicht van Azure Service Bus-wachtrijen voor onbestelbare berichten
services: service-bus-messaging
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 68b2aa38-dba7-491a-9c26-0289bc15d397
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/17/2017
ms.author: clemensv;sethm
ms.openlocfilehash: 1638272085b8a3a59e8814f6f943caee35a2bfdc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="overview-of-service-bus-dead-letter-queues"></a><span data-ttu-id="c622b-103">Overzicht van Service Bus-wachtrijen voor onbestelbare berichten</span><span class="sxs-lookup"><span data-stu-id="c622b-103">Overview of Service Bus dead-letter queues</span></span>

<span data-ttu-id="c622b-104">Service Bus-wachtrijen en onderwerpabonnementen bieden u een secundaire onderliggende wachtrij aangeroepen een *wachtrij voor onbestelbare berichten* (DLQ).</span><span class="sxs-lookup"><span data-stu-id="c622b-104">Service Bus queues and topic subscriptions provide a secondary sub-queue, called a *dead-letter queue* (DLQ).</span></span> <span data-ttu-id="c622b-105">wachtrij voor onbestelbare berichten Hallo hoeft niet toobe expliciet gemaakt en kan niet worden verwijderd of anderszins beheerde onafhankelijk van de belangrijkste Hallo-entiteit.</span><span class="sxs-lookup"><span data-stu-id="c622b-105">hello dead-letter queue does not need toobe explicitly created and cannot be deleted or otherwise managed independent of hello main entity.</span></span>

<span data-ttu-id="c622b-106">Dit artikel wordt beschreven wachtrijen voor onbestelbare berichten in de Azure Service Bus.</span><span class="sxs-lookup"><span data-stu-id="c622b-106">This article discusses dead-letter queues in Azure Service Bus.</span></span> <span data-ttu-id="c622b-107">Veel van Hallo discussie wordt geïllustreerd door Hallo [wachtrijen voor onbestelbare berichten voorbeeld](https://github.com/Azure/azure-service-bus/tree/master/samples/DotNet/Microsoft.ServiceBus.Messaging/DeadletterQueue) op GitHub.</span><span class="sxs-lookup"><span data-stu-id="c622b-107">Much of hello discussion is illustrated by hello [Dead-Letter Queues sample](https://github.com/Azure/azure-service-bus/tree/master/samples/DotNet/Microsoft.ServiceBus.Messaging/DeadletterQueue) on GitHub.</span></span>
 
## <a name="hello-dead-letter-queue"></a><span data-ttu-id="c622b-108">wachtrij voor onbestelbare berichten Hallo</span><span class="sxs-lookup"><span data-stu-id="c622b-108">hello dead-letter queue</span></span>

<span data-ttu-id="c622b-109">Hallo-doel van de wachtrij voor onbestelbare berichten Hallo is toohold-berichten die tooany ontvanger kunnen niet worden bezorgd of berichten die niet kunnen worden verwerkt.</span><span class="sxs-lookup"><span data-stu-id="c622b-109">hello purpose of hello dead-letter queue is toohold messages that cannot be delivered tooany receiver, or messages that could not be processed.</span></span> <span data-ttu-id="c622b-110">Berichten kunnen vervolgens worden verwijderd uit Hallo DLQ en gecontroleerd.</span><span class="sxs-lookup"><span data-stu-id="c622b-110">Messages can then be removed from hello DLQ and inspected.</span></span> <span data-ttu-id="c622b-111">Een toepassing kan met behulp van een operator wordt oplossen van problemen en het Hallo-bericht verzenden, meld Hallo feit dat er een fout is en corrigerende maatregelen nemen.</span><span class="sxs-lookup"><span data-stu-id="c622b-111">An application might, with help of an operator, correct issues and resubmit hello message, log hello fact that there was an error, and take corrective action.</span></span> 

<span data-ttu-id="c622b-112">Hallo DLQ vanuit een perspectief API en het protocol is voornamelijk vergelijkbare tooany andere wachtrij, behalve dat berichten kunnen alleen worden verzonden via Hallo onbestelbare gebaar van Hallo bovenliggende entiteit.</span><span class="sxs-lookup"><span data-stu-id="c622b-112">From an API and protocol perspective, hello DLQ is mostly similar tooany other queue, except that messages can only be submitted via hello dead-letter gesture of hello parent entity.</span></span> <span data-ttu-id="c622b-113">Bovendien time to live is niet-naleving en u kunt een bericht van een DLQ onbestelbare niet.</span><span class="sxs-lookup"><span data-stu-id="c622b-113">In addition, time-to-live is not observed, and you can't dead-letter a message from a DLQ.</span></span> <span data-ttu-id="c622b-114">wachtrij voor onbestelbare berichten Hallo biedt volledige ondersteuning voor levering peek vergrendelen en transactionele bewerkingen.</span><span class="sxs-lookup"><span data-stu-id="c622b-114">hello dead-letter queue fully supports peek-lock delivery and transactional operations.</span></span>

<span data-ttu-id="c622b-115">Houd er rekening mee dat er geen automatische opschoning van Hallo DLQ is.</span><span class="sxs-lookup"><span data-stu-id="c622b-115">Note that there is no automatic cleanup of hello DLQ.</span></span> <span data-ttu-id="c622b-116">Berichten blijven in Hallo DLQ totdat u ze expliciet uit Hallo DLQ en aanroep ophaalt [Complete()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_CompleteAsync) op Hallo-bericht van onbestelbare berichten.</span><span class="sxs-lookup"><span data-stu-id="c622b-116">Messages remain in hello DLQ until you explicitly retrieve them from hello DLQ and call [Complete()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_CompleteAsync) on hello dead-letter message.</span></span>

## <a name="moving-messages-toohello-dlq"></a><span data-ttu-id="c622b-117">Het verplaatsen van berichten toohello DLQ</span><span class="sxs-lookup"><span data-stu-id="c622b-117">Moving messages toohello DLQ</span></span>

<span data-ttu-id="c622b-118">Er zijn verschillende activiteiten in de Service Bus die ertoe leiden berichten tooget toohello DLQ van binnen het Hallo dat-engine zelf berichten gepusht.</span><span class="sxs-lookup"><span data-stu-id="c622b-118">There are several activities in Service Bus that cause messages tooget pushed toohello DLQ from within hello messaging engine itself.</span></span> <span data-ttu-id="c622b-119">Een toepassing kunt berichten toohello DLQ ook expliciet verplaatsen.</span><span class="sxs-lookup"><span data-stu-id="c622b-119">An application can also explicitly move messages toohello DLQ.</span></span> 

<span data-ttu-id="c622b-120">Als u het Hallo-bericht opgehaald door Hallo broker verplaatst, twee eigenschappen toohello bericht worden toegevoegd als Hallo broker intern versie Hallo roept [wachtrij voor onbestelbare](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeadLetter_System_String_System_String_) methode op het Hallo-bericht: `DeadLetterReason` en `DeadLetterErrorDescription`.</span><span class="sxs-lookup"><span data-stu-id="c622b-120">As hello message gets moved by hello broker, two properties are added toohello message as hello broker calls its internal version of hello [DeadLetter](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeadLetter_System_String_System_String_) method on hello message: `DeadLetterReason` and `DeadLetterErrorDescription`.</span></span>

<span data-ttu-id="c622b-121">Toepassingen kunnen hun eigen codes definiëren voor Hallo `DeadLetterReason` eigenschap, maar Hallo system sets Hallo waarden te volgen.</span><span class="sxs-lookup"><span data-stu-id="c622b-121">Applications can define their own codes for hello `DeadLetterReason` property, but hello system sets hello following values.</span></span>

| <span data-ttu-id="c622b-122">Voorwaarde</span><span class="sxs-lookup"><span data-stu-id="c622b-122">Condition</span></span> | <span data-ttu-id="c622b-123">DeadLetterReason</span><span class="sxs-lookup"><span data-stu-id="c622b-123">DeadLetterReason</span></span> | <span data-ttu-id="c622b-124">DeadLetterErrorDescription</span><span class="sxs-lookup"><span data-stu-id="c622b-124">DeadLetterErrorDescription</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c622b-125">Altijd</span><span class="sxs-lookup"><span data-stu-id="c622b-125">Always</span></span> |<span data-ttu-id="c622b-126">HeaderSizeExceeded</span><span class="sxs-lookup"><span data-stu-id="c622b-126">HeaderSizeExceeded</span></span> |<span data-ttu-id="c622b-127">Hallo is grootte voor deze stroom overschreden.</span><span class="sxs-lookup"><span data-stu-id="c622b-127">hello size quota for this stream has been exceeded.</span></span> |
| <span data-ttu-id="c622b-128">! TopicDescription.</span><span class="sxs-lookup"><span data-stu-id="c622b-128">!TopicDescription.</span></span><br /><span data-ttu-id="c622b-129">EnableFilteringMessagesBeforePublishing en SubscriptionDescription.</span><span class="sxs-lookup"><span data-stu-id="c622b-129">EnableFilteringMessagesBeforePublishing and SubscriptionDescription.</span></span><br /><span data-ttu-id="c622b-130">EnableDeadLetteringOnFilterEvaluationExceptions</span><span class="sxs-lookup"><span data-stu-id="c622b-130">EnableDeadLetteringOnFilterEvaluationExceptions</span></span> |<span data-ttu-id="c622b-131">uitzondering. GetType(). Naam</span><span class="sxs-lookup"><span data-stu-id="c622b-131">exception.GetType().Name</span></span> |<span data-ttu-id="c622b-132">uitzondering. Bericht</span><span class="sxs-lookup"><span data-stu-id="c622b-132">exception.Message</span></span> |
| <span data-ttu-id="c622b-133">EnableDeadLetteringOnMessageExpiration</span><span class="sxs-lookup"><span data-stu-id="c622b-133">EnableDeadLetteringOnMessageExpiration</span></span> |<span data-ttu-id="c622b-134">TTLExpiredException</span><span class="sxs-lookup"><span data-stu-id="c622b-134">TTLExpiredException</span></span> |<span data-ttu-id="c622b-135">Hallo-bericht verlopen en dode is lettered.</span><span class="sxs-lookup"><span data-stu-id="c622b-135">hello message expired and was dead lettered.</span></span> |
| <span data-ttu-id="c622b-136">SubscriptionDescription.RequiresSession</span><span class="sxs-lookup"><span data-stu-id="c622b-136">SubscriptionDescription.RequiresSession</span></span> |<span data-ttu-id="c622b-137">Sessie-id is null.</span><span class="sxs-lookup"><span data-stu-id="c622b-137">Session id is null.</span></span> |<span data-ttu-id="c622b-138">Sessie ingeschakeld entiteit is niet mogelijk een bericht waarvan sessie-id null is.</span><span class="sxs-lookup"><span data-stu-id="c622b-138">Session enabled entity doesn't allow a message whose session identifier is null.</span></span> |
| <span data-ttu-id="c622b-139">! wachtrij voor onbestelbare berichten</span><span class="sxs-lookup"><span data-stu-id="c622b-139">!dead letter queue</span></span> |<span data-ttu-id="c622b-140">MaxTransferHopCountExceeded</span><span class="sxs-lookup"><span data-stu-id="c622b-140">MaxTransferHopCountExceeded</span></span> |<span data-ttu-id="c622b-141">Null</span><span class="sxs-lookup"><span data-stu-id="c622b-141">Null</span></span> |
| <span data-ttu-id="c622b-142">Toepassing expliciete dode lettering</span><span class="sxs-lookup"><span data-stu-id="c622b-142">Application explicit dead lettering</span></span> |<span data-ttu-id="c622b-143">Opgegeven door toepassing</span><span class="sxs-lookup"><span data-stu-id="c622b-143">Specified by application</span></span> |<span data-ttu-id="c622b-144">Opgegeven door toepassing</span><span class="sxs-lookup"><span data-stu-id="c622b-144">Specified by application</span></span> |

## <a name="exceeding-maxdeliverycount"></a><span data-ttu-id="c622b-145">Meer dan MaxDeliveryCount</span><span class="sxs-lookup"><span data-stu-id="c622b-145">Exceeding MaxDeliveryCount</span></span>
<span data-ttu-id="c622b-146">Wachtrijen en abonnementen hebben een [QueueDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) en [SubscriptionDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_MaxDeliveryCount) eigenschap respectievelijk; hello standaardwaarde is 10.</span><span class="sxs-lookup"><span data-stu-id="c622b-146">Queues and subscriptions each have a [QueueDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) and [SubscriptionDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_MaxDeliveryCount) property respectively; hello default value is 10.</span></span> <span data-ttu-id="c622b-147">Wanneer een bericht is bezorgd onder een vergrendeling ([ReceiveMode.PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode)), maar is een expliciet verlaten of Hallo vergrendeling is verlopen, Hallo-bericht [BrokeredMessage.DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) is verhoogd.</span><span class="sxs-lookup"><span data-stu-id="c622b-147">Whenever a message has been delivered under a lock ([ReceiveMode.PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode)), but has been either explicitly abandoned or hello lock has expired, hello message's [BrokeredMessage.DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) is incremented.</span></span> <span data-ttu-id="c622b-148">Wanneer [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) overschrijdt [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount), het Hallo-bericht is verplaatst toohello DLQ, geven Hallo `MaxDeliveryCountExceeded` redencode.</span><span class="sxs-lookup"><span data-stu-id="c622b-148">When [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) exceeds [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount), hello message is moved toohello DLQ, specifying hello `MaxDeliveryCountExceeded` reason code.</span></span>

<span data-ttu-id="c622b-149">Dit gedrag kan niet worden uitgeschakeld, maar u kunt instellen [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) tooa zeer groot aantal.</span><span class="sxs-lookup"><span data-stu-id="c622b-149">This behavior cannot be disabled, but you can set [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) tooa very large number.</span></span>

## <a name="exceeding-timetolive"></a><span data-ttu-id="c622b-150">TimeToLive overschrijdt</span><span class="sxs-lookup"><span data-stu-id="c622b-150">Exceeding TimeToLive</span></span>
<span data-ttu-id="c622b-151">Wanneer Hallo [QueueDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnableDeadLetteringOnMessageExpiration) of [SubscriptionDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnMessageExpiration) eigenschap is ingesteld, te**waar** (Hallo standaardwaarde is **false**), alle verlopende berichten worden verplaatst toohello DLQ, geven Hallo `TTLExpiredException` redencode.</span><span class="sxs-lookup"><span data-stu-id="c622b-151">When hello [QueueDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnableDeadLetteringOnMessageExpiration) or [SubscriptionDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnMessageExpiration) property is set too**true** (hello default is **false**), all expiring messages are moved toohello DLQ, specifying hello  `TTLExpiredException` reason code.</span></span>

<span data-ttu-id="c622b-152">Houd er rekening mee dat verlopen berichten worden alleen opgeschoond en toohello DLQ daarom verplaatst als er ten minste één actieve ontvanger binnenhalen op Hallo hoofdwachtrij of abonnement. Dit gedrag is inherent aan het ontwerp.</span><span class="sxs-lookup"><span data-stu-id="c622b-152">Note that expired messages are only purged and therefore moved toohello DLQ when there is at least one active receiver pulling on hello main queue or subscription; that behavior is by design.</span></span>

## <a name="errors-while-processing-subscription-rules"></a><span data-ttu-id="c622b-153">Fouten tijdens het verwerken van abonnementsregels</span><span class="sxs-lookup"><span data-stu-id="c622b-153">Errors while processing subscription rules</span></span>
<span data-ttu-id="c622b-154">Wanneer Hallo [SubscriptionDescription.EnableDeadLetteringOnFilterEvaluationExceptions](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnFilterEvaluationExceptions) eigenschap voor een abonnement is ingeschakeld, eventuele fouten die zich voordoen tijdens een abonnement SQL filterregel wordt uitgevoerd, worden vastgelegd in Hallo DLQ samen met de Hallo foutieve bericht.</span><span class="sxs-lookup"><span data-stu-id="c622b-154">When hello [SubscriptionDescription.EnableDeadLetteringOnFilterEvaluationExceptions](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnFilterEvaluationExceptions) property is enabled for a subscription, any errors that occur while a subscription's SQL filter rule executes are captured in hello DLQ along with hello offending message.</span></span>

## <a name="application-level-dead-lettering"></a><span data-ttu-id="c622b-155">Op toepassingsniveau verwerking van onbestelbare berichten</span><span class="sxs-lookup"><span data-stu-id="c622b-155">Application-level dead-lettering</span></span>
<span data-ttu-id="c622b-156">In aanvulling toohello systeem geleverde verwerking van onbestelbare berichten functies, kunnen toepassingen gebruikmaken van Hallo DLQ tooexplicitly afwijzen onaanvaardbaar berichten.</span><span class="sxs-lookup"><span data-stu-id="c622b-156">In addition toohello system-provided dead-lettering features, applications can use hello DLQ tooexplicitly reject unacceptable messages.</span></span> <span data-ttu-id="c622b-157">Dit omvat mogelijk berichten die correct kunnen niet worden verwerkt vanwege tooany soort systeemprobleem, berichten waarin een verkeerd ingedeelde nettoladingen of berichten die niet door de verificatie als sommige berichtniveau beveiligingsschema wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="c622b-157">This may include messages that cannot be properly processed due tooany sort of system issue, messages that hold malformed payloads, or messages that fail authentication when some message-level security scheme is used.</span></span>

## <a name="dead-lettering-in-forwardto-or-sendvia-scenarios"></a><span data-ttu-id="c622b-158">Verwerking van onbestelbare berichten in scenario's ForwardTo of SendVia</span><span class="sxs-lookup"><span data-stu-id="c622b-158">Dead-lettering in ForwardTo or SendVia scenarios</span></span>

<span data-ttu-id="c622b-159">Berichten worden verzonden toohello onbestelbare wachtrij onder Hallo volgende voorwaarden:</span><span class="sxs-lookup"><span data-stu-id="c622b-159">Messages will be sent toohello transfer dead-letter queue under hello following conditions:</span></span>

- <span data-ttu-id="c622b-160">Een bericht wordt doorgegeven via meer dan 3 wachtrijen of onderwerpen die [aaneengeschakeld](service-bus-auto-forwarding.md).</span><span class="sxs-lookup"><span data-stu-id="c622b-160">A message passes through more than 3 queues or topics that are [chained together](service-bus-auto-forwarding.md).</span></span>
- <span data-ttu-id="c622b-161">Hallo bestemmingswachtrij of onderwerp is uitgeschakeld of verwijderd.</span><span class="sxs-lookup"><span data-stu-id="c622b-161">hello destination queue or topic is disabled or deleted.</span></span>
- <span data-ttu-id="c622b-162">Hallo bestemmingswachtrij of onderwerp overschrijdt Hallo maximale entiteit.</span><span class="sxs-lookup"><span data-stu-id="c622b-162">hello destination queue or topic exceeds hello maximum entity size.</span></span>

<span data-ttu-id="c622b-163">tooretrieve deze berichten onbestelbare lettered kunt u een ontvanger met Hallo [FormatTransferDeadletterPath](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_FormatTransferDeadLetterPath_System_String_) hulpprogramma methode.</span><span class="sxs-lookup"><span data-stu-id="c622b-163">tooretrieve these dead-lettered messages, you can create a receiver using hello [FormatTransferDeadletterPath](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_FormatTransferDeadLetterPath_System_String_) utility method.</span></span>

## <a name="example"></a><span data-ttu-id="c622b-164">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="c622b-164">Example</span></span>
<span data-ttu-id="c622b-165">Hallo volgende codefragment maakt een ontvanger bericht.</span><span class="sxs-lookup"><span data-stu-id="c622b-165">hello following code snippet creates a message receiver.</span></span> <span data-ttu-id="c622b-166">In Hallo lus voor ontvangen van voor de hoofdwachtrij hello, Hallo code haalt het Hallo-bericht met [Receive(TimeSpan.Zero)](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_Receive_System_TimeSpan_), waarin elk bericht direct beschikbaar wordt Hallo broker tooinstantly return gevraagd of tooreturn met geen resultaat.</span><span class="sxs-lookup"><span data-stu-id="c622b-166">In hello receive loop for hello main queue, hello code retrieves hello message with [Receive(TimeSpan.Zero)](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_Receive_System_TimeSpan_), which asks hello broker tooinstantly return any message readily available, or tooreturn with no result.</span></span> <span data-ttu-id="c622b-167">Als het Hallo-code wordt een bericht ontvangt, het onmiddellijk verlaat, die wordt verhoogd Hallo `DeliveryCount`.</span><span class="sxs-lookup"><span data-stu-id="c622b-167">If hello code receives a message, it immediately abandons it, which increments hello  `DeliveryCount`.</span></span> <span data-ttu-id="c622b-168">Zodra het systeem Hallo Hallo-bericht toohello DLQ verplaatst, Hallo hoofdwachtrij leeg is en Hallo lus wordt afgesloten, als [ReceiveAsync](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_ReceiveAsync_System_TimeSpan_) retourneert **null**.</span><span class="sxs-lookup"><span data-stu-id="c622b-168">Once hello system moves hello message toohello DLQ, hello main queue is empty and hello loop exits, as [ReceiveAsync](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_ReceiveAsync_System_TimeSpan_) returns **null**.</span></span>

```csharp
var receiver = await receiverFactory.CreateMessageReceiverAsync(queueName, ReceiveMode.PeekLock);
while(true)
{
    var msg = await receiver.ReceiveAsync(TimeSpan.Zero);
    if (msg != null)
    {
        Console.WriteLine("Picked up message; DeliveryCount {0}", msg.DeliveryCount);
        await msg.AbandonAsync();
    }
    else
    {
        break;
    }
}
```

## <a name="next-steps"></a><span data-ttu-id="c622b-169">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="c622b-169">Next steps</span></span>
<span data-ttu-id="c622b-170">Zie de volgende artikelen voor meer informatie over Service Bus-wachtrijen Hallo:</span><span class="sxs-lookup"><span data-stu-id="c622b-170">See hello following articles for more information about Service Bus queues:</span></span>

* [<span data-ttu-id="c622b-171">Aan de slag met Service Bus-wachtrijen</span><span class="sxs-lookup"><span data-stu-id="c622b-171">Get started with Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="c622b-172">Azure-wachtrijen en Service Bus-wachtrijen vergeleken</span><span class="sxs-lookup"><span data-stu-id="c622b-172">Azure Queues and Service Bus queues compared</span></span>](service-bus-azure-and-service-bus-queues-compared-contrasted.md)

