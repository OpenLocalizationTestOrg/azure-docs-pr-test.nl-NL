---
title: Service Bus aaaAzure gekoppeld naamruimten | Microsoft Docs
description: Implementatiegegevens gekoppelde naamruimte en de kosten
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 2440c8d3-ed2e-47e0-93cf-ab7fbb855d2e
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/25/2017
ms.author: sethm
ms.openlocfilehash: 4c44b2b95d2228e1ad8075b52634d88a1593d3b1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="paired-namespace-implementation-details-and-cost-implications"></a><span data-ttu-id="a16cc-103">Implementatiegegevens naamruimte gekoppeld en de gevolgen kosten</span><span class="sxs-lookup"><span data-stu-id="a16cc-103">Paired namespace implementation details and cost implications</span></span>
<span data-ttu-id="a16cc-104">Hallo [PairNamespaceAsync] [ PairNamespaceAsync] methode, met behulp van een [SendAvailabilityPairedNamespaceOptions] [ SendAvailabilityPairedNamespaceOptions] exemplaar, zichtbaar taken worden uitgevoerd namens jou.</span><span class="sxs-lookup"><span data-stu-id="a16cc-104">hello [PairNamespaceAsync][PairNamespaceAsync] method, using a [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] instance, performs visible tasks on your behalf.</span></span> <span data-ttu-id="a16cc-105">Omdat er worden kosten overwegingen wanneer u Hallo functie gebruikt, is het nuttig toounderstand die taken zodat u verwachten Hallo gedrag wanneer dit gebeurt.</span><span class="sxs-lookup"><span data-stu-id="a16cc-105">Because there are cost considerations when using hello feature, it is useful toounderstand those tasks so that you expect hello behavior when it happens.</span></span> <span data-ttu-id="a16cc-106">Hallo API stelt Hallo automatische gedrag namens jou te volgen:</span><span class="sxs-lookup"><span data-stu-id="a16cc-106">hello API engages hello following automatic behavior on your behalf:</span></span>

* <span data-ttu-id="a16cc-107">Het maken van achterstand wachtrijen.</span><span class="sxs-lookup"><span data-stu-id="a16cc-107">Creation of backlog queues.</span></span>
* <span data-ttu-id="a16cc-108">Het maken van een [MessageSender] [ MessageSender] -object dat wordt gesproken tooqueues of onderwerpen.</span><span class="sxs-lookup"><span data-stu-id="a16cc-108">Creation of a [MessageSender][MessageSender] object that talks tooqueues or topics.</span></span>
* <span data-ttu-id="a16cc-109">Wanneer een Berichtentiteit niet beschikbaar is, verzendt ping-berichten toohello entiteit in een poging toodetect wanneer die entiteit weer beschikbaar.</span><span class="sxs-lookup"><span data-stu-id="a16cc-109">When a messaging entity becomes unavailable, sends ping messages toohello entity in an attempt toodetect when that entity becomes available again.</span></span>
* <span data-ttu-id="a16cc-110">Eventueel maakt van een reeks 'bericht pompen' dat verplaatsen van berichten van Hallo achterstand wachtrijen toohello primaire wachtrijen.</span><span class="sxs-lookup"><span data-stu-id="a16cc-110">Optionally creates of a set of “message pumps” that move messages from hello backlog queues toohello primary queues.</span></span>
* <span data-ttu-id="a16cc-111">Coördineert sluiten/afgesloten Hallo primaire en secundaire [MessagingFactory] [ MessagingFactory] exemplaren.</span><span class="sxs-lookup"><span data-stu-id="a16cc-111">Coordinates closing/faulting of hello primary and secondary [MessagingFactory][MessagingFactory] instances.</span></span>

<span data-ttu-id="a16cc-112">Op een hoog niveau Hallo functie werkt als volgt: wanneer de primaire entiteit Hallo goed is, er geen gedragswijzigingen doorgevoerd.</span><span class="sxs-lookup"><span data-stu-id="a16cc-112">At a high level, hello feature works as follows: when hello primary entity is healthy, no behavior changes occur.</span></span> <span data-ttu-id="a16cc-113">Wanneer Hallo [FailoverInterval] [ FailoverInterval] duur is verstreken, en de primaire entiteit Hallo ziet geen geslaagde verzendt na een tijdelijke [MessagingException] [ MessagingException] of een [TimeoutException][TimeoutException], Hallo gedrag na deze gebeurtenis treedt op:</span><span class="sxs-lookup"><span data-stu-id="a16cc-113">When hello [FailoverInterval][FailoverInterval] duration elapses, and hello primary entity sees no successful sends after a non-transient [MessagingException][MessagingException] or a [TimeoutException][TimeoutException], hello following behavior occurs:</span></span>

1. <span data-ttu-id="a16cc-114">Verzenden operations toohello primaire entiteit zijn uitgeschakeld en Hallo system pings Hallo primaire entiteit totdat pings kunnen worden bezorgd.</span><span class="sxs-lookup"><span data-stu-id="a16cc-114">Send operations toohello primary entity are disabled and hello system pings hello primary entity until pings can be successfully delivered.</span></span>
2. <span data-ttu-id="a16cc-115">Een wachtrij willekeurige achterstand is geselecteerd.</span><span class="sxs-lookup"><span data-stu-id="a16cc-115">A random backlog queue is selected.</span></span>
3. <span data-ttu-id="a16cc-116">[BrokeredMessage] [ BrokeredMessage] objecten zijn gerouteerde toohello achterstand wachtrij gekozen.</span><span class="sxs-lookup"><span data-stu-id="a16cc-116">[BrokeredMessage][BrokeredMessage] objects are routed toohello chosen backlog queue.</span></span>
4. <span data-ttu-id="a16cc-117">Als een verzenden bewerking toohello gekozen achterstand wachtrij is mislukt, die wachtrij opgehaald uit Hallo draaien en een nieuwe wachtrij is geselecteerd.</span><span class="sxs-lookup"><span data-stu-id="a16cc-117">If a send operation toohello chosen backlog queue fails, that queue is pulled from hello rotation and a new queue is selected.</span></span> <span data-ttu-id="a16cc-118">Alle afzenders op Hallo [MessagingFactory] [ MessagingFactory] exemplaar van de fout Hallo meer.</span><span class="sxs-lookup"><span data-stu-id="a16cc-118">All senders on hello [MessagingFactory][MessagingFactory] instance learn of hello failure.</span></span>

<span data-ttu-id="a16cc-119">Hallo cijfers na weer Hallo volgorde.</span><span class="sxs-lookup"><span data-stu-id="a16cc-119">hello following figures depict hello sequence.</span></span> <span data-ttu-id="a16cc-120">Eerst verzendt Hallo afzender berichten.</span><span class="sxs-lookup"><span data-stu-id="a16cc-120">First, hello sender sends messages.</span></span>

![Gekoppelde naamruimten][0]

<span data-ttu-id="a16cc-122">Bij fout toosend toohello primaire wachtrij begint Hallo afzender verzenden van berichten tooa willekeurig gekozen achterstand wachtrij.</span><span class="sxs-lookup"><span data-stu-id="a16cc-122">Upon failure toosend toohello primary queue, hello sender begins sending messages tooa randomly chosen backlog queue.</span></span> <span data-ttu-id="a16cc-123">Tegelijk, wordt er een ping-taak gestart.</span><span class="sxs-lookup"><span data-stu-id="a16cc-123">Simultaneously, it starts a ping task.</span></span>

![Gekoppelde naamruimten][1]

<span data-ttu-id="a16cc-125">Op dit moment Hallo-berichten zijn nog steeds in de secundaire wachtrij Hallo en niet de primaire wachtrij toohello zijn geleverd.</span><span class="sxs-lookup"><span data-stu-id="a16cc-125">At this point hello messages are still in hello secondary queue and have not been delivered toohello primary queue.</span></span> <span data-ttu-id="a16cc-126">Zodra Hallo primaire wachtrij weer in orde is, moet ten minste één proces Hallo syphon worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="a16cc-126">Once hello primary queue is healthy again, at least one process should be running hello syphon.</span></span> <span data-ttu-id="a16cc-127">Hallo syphon biedt Hallo-berichten van alle Hallo verschillende achterstand wachtrijen toohello juiste bestemming entiteiten (wachtrijen en onderwerpen).</span><span class="sxs-lookup"><span data-stu-id="a16cc-127">hello syphon delivers hello messages from all hello various backlog queues toohello proper destination entities (queues and topics).</span></span>

![Gekoppelde naamruimten][2]

<span data-ttu-id="a16cc-129">Hallo rest van dit onderwerp wordt beschreven Hallo specifieke details over de werking van deze onderdelen.</span><span class="sxs-lookup"><span data-stu-id="a16cc-129">hello remainder of this topic discusses hello specific details of how these pieces work.</span></span>

## <a name="creation-of-backlog-queues"></a><span data-ttu-id="a16cc-130">Maken van wachtrijen achterstand</span><span class="sxs-lookup"><span data-stu-id="a16cc-130">Creation of backlog queues</span></span>
<span data-ttu-id="a16cc-131">Hallo [SendAvailabilityPairedNamespaceOptions] [ SendAvailabilityPairedNamespaceOptions] object dat wordt doorgegeven toohello [PairNamespaceAsync] [ PairNamespaceAsync] methode geeft aan Hallo achterstand aantal wachtrijen dat u wilt dat toouse.</span><span class="sxs-lookup"><span data-stu-id="a16cc-131">hello [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] object passed toohello [PairNamespaceAsync][PairNamespaceAsync] method indicates hello number of backlog queues you want toouse.</span></span> <span data-ttu-id="a16cc-132">Elke wachtrij achterstand wordt vervolgens gemaakt met de Hallo volgende eigenschappen expliciet ingesteld (alle andere waarden zijn ingesteld toohello [QueueDescription] [ QueueDescription] standaardwaarden):</span><span class="sxs-lookup"><span data-stu-id="a16cc-132">Each backlog queue is then created with hello following properties explicitly set (all other values are set toohello [QueueDescription][QueueDescription] defaults):</span></span>

| <span data-ttu-id="a16cc-133">Pad</span><span class="sxs-lookup"><span data-stu-id="a16cc-133">Path</span></span> | <span data-ttu-id="a16cc-134">[primaire namespace] / x-servicebus-overdracht / [index] waarbij [index] is een waarde in [0, BacklogQueueCount)</span><span class="sxs-lookup"><span data-stu-id="a16cc-134">[primary namespace]/x-servicebus-transfer/[index] where [index] is a value in [0, BacklogQueueCount)</span></span> |
| --- | --- |
| <span data-ttu-id="a16cc-135">MaxSizeInMegabytes</span><span class="sxs-lookup"><span data-stu-id="a16cc-135">MaxSizeInMegabytes</span></span> |<span data-ttu-id="a16cc-136">5120</span><span class="sxs-lookup"><span data-stu-id="a16cc-136">5120</span></span> |
| <span data-ttu-id="a16cc-137">maxDeliveryCount</span><span class="sxs-lookup"><span data-stu-id="a16cc-137">MaxDeliveryCount</span></span> |<span data-ttu-id="a16cc-138">int zijn. MaxValue</span><span class="sxs-lookup"><span data-stu-id="a16cc-138">int.MaxValue</span></span> |
| <span data-ttu-id="a16cc-139">DefaultMessageTimeToLive</span><span class="sxs-lookup"><span data-stu-id="a16cc-139">DefaultMessageTimeToLive</span></span> |<span data-ttu-id="a16cc-140">TimeSpan.MaxValue op</span><span class="sxs-lookup"><span data-stu-id="a16cc-140">TimeSpan.MaxValue</span></span> |
| <span data-ttu-id="a16cc-141">AutoDeleteOnIdle</span><span class="sxs-lookup"><span data-stu-id="a16cc-141">AutoDeleteOnIdle</span></span> |<span data-ttu-id="a16cc-142">TimeSpan.MaxValue op</span><span class="sxs-lookup"><span data-stu-id="a16cc-142">TimeSpan.MaxValue</span></span> |
| <span data-ttu-id="a16cc-143">LockDuration</span><span class="sxs-lookup"><span data-stu-id="a16cc-143">LockDuration</span></span> |<span data-ttu-id="a16cc-144">1 minuut</span><span class="sxs-lookup"><span data-stu-id="a16cc-144">1 minute</span></span> |
| <span data-ttu-id="a16cc-145">EnableDeadLetteringOnMessageExpiration</span><span class="sxs-lookup"><span data-stu-id="a16cc-145">EnableDeadLetteringOnMessageExpiration</span></span> |<span data-ttu-id="a16cc-146">De waarde True</span><span class="sxs-lookup"><span data-stu-id="a16cc-146">true</span></span> |
| <span data-ttu-id="a16cc-147">EnableBatchedOperations</span><span class="sxs-lookup"><span data-stu-id="a16cc-147">EnableBatchedOperations</span></span> |<span data-ttu-id="a16cc-148">De waarde True</span><span class="sxs-lookup"><span data-stu-id="a16cc-148">true</span></span> |

<span data-ttu-id="a16cc-149">Bijvoorbeeld Hallo eerste achterstand wachtrij gemaakt voor naamruimte **contoso** heet `contoso/x-servicebus-transfer/0`.</span><span class="sxs-lookup"><span data-stu-id="a16cc-149">For example, hello first backlog queue created for namespace **contoso** is named `contoso/x-servicebus-transfer/0`.</span></span>

<span data-ttu-id="a16cc-150">Bij het maken van wachtrijen Hallo Hallo code toosee eerst gecontroleerd als deze wachtrij bestaat.</span><span class="sxs-lookup"><span data-stu-id="a16cc-150">When creating hello queues, hello code first checks toosee if such a queue exists.</span></span> <span data-ttu-id="a16cc-151">Hallo-wachtrij wordt gemaakt als Hallo wachtrij niet bestaat.</span><span class="sxs-lookup"><span data-stu-id="a16cc-151">If hello queue does not exist, then hello queue is created.</span></span> <span data-ttu-id="a16cc-152">Hallo-code niet opschonen 'extra' achterstand wachtrijen.</span><span class="sxs-lookup"><span data-stu-id="a16cc-152">hello code does not clean up "extra" backlog queues.</span></span> <span data-ttu-id="a16cc-153">Specifiek moet als hello toepassing met primaire naamruimte Hallo **contoso** aanvragen vijf achterstand wachtrijen, maar een achterstand wachtrij met Hallo pad `contoso/x-servicebus-transfer/7` bestaat, die extra achterstand wachtrij nog steeds aanwezig is, maar wordt niet gebruikt.</span><span class="sxs-lookup"><span data-stu-id="a16cc-153">Specifically, if hello application with hello primary namespace **contoso** requests five backlog queues but a backlog queue with hello path `contoso/x-servicebus-transfer/7` exists, that extra backlog queue is still present but is not used.</span></span> <span data-ttu-id="a16cc-154">Hallo-systeem kunt expliciet extra achterstand wachtrijen tooexist die niet worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="a16cc-154">hello system explicitly allows extra backlog queues tooexist that would not be used.</span></span> <span data-ttu-id="a16cc-155">Als de eigenaar van de naamruimte hello bent u verantwoordelijk voor het opschonen van ongebruikte/ongewenste achterstand wachtrijen.</span><span class="sxs-lookup"><span data-stu-id="a16cc-155">As hello namespace owner, you are responsible for cleaning up any unused/unwanted backlog queues.</span></span> <span data-ttu-id="a16cc-156">Hallo-reden voor deze beslissing is dat Service Bus kan niet weet welke doelen voor alle Hallo wachtrijen in uw naamruimte bestaat.</span><span class="sxs-lookup"><span data-stu-id="a16cc-156">hello reason for this decision is that Service Bus cannot know what purposes exist for all hello queues in your namespace.</span></span> <span data-ttu-id="a16cc-157">Bovendien, als een wachtrij met de Hallo gegeven naam bestaat, maar voldoet niet aan de Hallo uitgegaan [QueueDescription][QueueDescription], en vervolgens uw redenen uw eigen voor veranderende Hallo standaardgedrag zijn.</span><span class="sxs-lookup"><span data-stu-id="a16cc-157">Furthermore, if a queue exists with hello given name but does not meet hello assumed [QueueDescription][QueueDescription], then your reasons are your own for changing hello default behavior.</span></span> <span data-ttu-id="a16cc-158">Er zijn geen garanties worden gemaakt voor wijzigingen toohello achterstand wachtrijen door uw code.</span><span class="sxs-lookup"><span data-stu-id="a16cc-158">No guarantees are made for modifications toohello backlog queues by your code.</span></span> <span data-ttu-id="a16cc-159">Zorg ervoor dat tootest uw wijzigingen grondig.</span><span class="sxs-lookup"><span data-stu-id="a16cc-159">Make sure tootest your changes thoroughly.</span></span>

## <a name="custom-messagesender"></a><span data-ttu-id="a16cc-160">Aangepaste MessageSender</span><span class="sxs-lookup"><span data-stu-id="a16cc-160">Custom MessageSender</span></span>
<span data-ttu-id="a16cc-161">Wanneer u verzendt, gaat u alle berichten via een interne [MessageSender] [ MessageSender] -object dat normaal gedraagt zich als alles werkt en toohello achterstand wachtrijen wordt omgeleid wanneer dingen 'verbreekt."</span><span class="sxs-lookup"><span data-stu-id="a16cc-161">When sending, all messages go through an internal [MessageSender][MessageSender] object that behaves normally when everything works, and redirects toohello backlog queues when things "break."</span></span> <span data-ttu-id="a16cc-162">Bij ontvangst van een tijdelijke fout, wordt een timer gestart.</span><span class="sxs-lookup"><span data-stu-id="a16cc-162">Upon receiving a non-transient failure, a timer starts.</span></span> <span data-ttu-id="a16cc-163">Na een [TimeSpan] [ TimeSpan] periode die bestaan uit Hallo [FailoverInterval] [ FailoverInterval] eigenschapswaarde waarover geen geslaagde berichten worden verzonden , Hallo failover is ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="a16cc-163">After a [TimeSpan][TimeSpan] period consisting of hello [FailoverInterval][FailoverInterval] property value during which no successful messages are sent, hello failover is engaged.</span></span> <span data-ttu-id="a16cc-164">Op dit moment plaats hello volgende voor elke entiteit:</span><span class="sxs-lookup"><span data-stu-id="a16cc-164">At this point, hello following things happen for each entity:</span></span>

* <span data-ttu-id="a16cc-165">Een ping-taak wordt uitgevoerd elke [PingPrimaryInterval] [ PingPrimaryInterval] toocheck als Hallo entiteit beschikbaar is.</span><span class="sxs-lookup"><span data-stu-id="a16cc-165">A ping task executes every [PingPrimaryInterval][PingPrimaryInterval] toocheck if hello entity is available.</span></span> <span data-ttu-id="a16cc-166">Wanneer deze taak is voltooid, wordt alle clientcode die gebruikmaakt van Hallo entiteit onmiddellijk gestart nieuwe berichten toohello primaire naamruimte verzenden.</span><span class="sxs-lookup"><span data-stu-id="a16cc-166">Once this task succeeds, all client code that uses hello entity immediately starts sending new messages toohello primary namespace.</span></span>
* <span data-ttu-id="a16cc-167">Toekomstige aanvragen toosend toothat dezelfde entiteit van een andere afzenders leidt ertoe dat Hallo [BrokeredMessage] [ BrokeredMessage] toosit in Hallo achterstand wachtrij toobe verstuurd worden gewijzigd.</span><span class="sxs-lookup"><span data-stu-id="a16cc-167">Future requests toosend toothat same entity from any other senders will result in hello [BrokeredMessage][BrokeredMessage] being sent toobe modified toosit in hello backlog queue.</span></span> <span data-ttu-id="a16cc-168">Hallo wijziging enkele eigenschappen verwijdert uit Hallo [BrokeredMessage] [ BrokeredMessage] object en slaat ze op elders.</span><span class="sxs-lookup"><span data-stu-id="a16cc-168">hello modification removes some properties from hello [BrokeredMessage][BrokeredMessage] object and stores them elsewhere.</span></span> <span data-ttu-id="a16cc-169">Hallo zijn volgende eigenschappen uitgeschakeld en onder een nieuwe alias, zodat Service Bus en Hallo SDK tooprocess berichten gelijkmatig toegevoegd:</span><span class="sxs-lookup"><span data-stu-id="a16cc-169">hello following properties are cleared and added under a new alias, allowing Service Bus and hello SDK tooprocess messages uniformly:</span></span>

| <span data-ttu-id="a16cc-170">Oude naam van eigenschap</span><span class="sxs-lookup"><span data-stu-id="a16cc-170">Old Property Name</span></span> | <span data-ttu-id="a16cc-171">Nieuwe naam van eigenschap</span><span class="sxs-lookup"><span data-stu-id="a16cc-171">New Property Name</span></span> |
| --- | --- |
| <span data-ttu-id="a16cc-172">sessie-id</span><span class="sxs-lookup"><span data-stu-id="a16cc-172">SessionId</span></span> |<span data-ttu-id="a16cc-173">x-ms-sessie-id</span><span class="sxs-lookup"><span data-stu-id="a16cc-173">x-ms-sessionid</span></span> |
| <span data-ttu-id="a16cc-174">TimeToLive</span><span class="sxs-lookup"><span data-stu-id="a16cc-174">TimeToLive</span></span> |<span data-ttu-id="a16cc-175">x-ms-timetolive</span><span class="sxs-lookup"><span data-stu-id="a16cc-175">x-ms-timetolive</span></span> |
| <span data-ttu-id="a16cc-176">ScheduledEnqueueTimeUtc</span><span class="sxs-lookup"><span data-stu-id="a16cc-176">ScheduledEnqueueTimeUtc</span></span> |<span data-ttu-id="a16cc-177">x-ms-pad</span><span class="sxs-lookup"><span data-stu-id="a16cc-177">x-ms-path</span></span> |

<span data-ttu-id="a16cc-178">oorspronkelijke doelpad Hello wordt ook opgeslagen in het Hallo-bericht als een eigenschap met de naam x-ms-path.</span><span class="sxs-lookup"><span data-stu-id="a16cc-178">hello original destination path is also stored within hello message as a property named x-ms-path.</span></span> <span data-ttu-id="a16cc-179">Dit ontwerp kunt berichten voor veel toocoexist voor entiteiten in een wachtrij één achterstand.</span><span class="sxs-lookup"><span data-stu-id="a16cc-179">This design allows messages for many entities toocoexist in a single backlog queue.</span></span> <span data-ttu-id="a16cc-180">Hallo-eigenschappen worden vertaald door Hallo syphon terug.</span><span class="sxs-lookup"><span data-stu-id="a16cc-180">hello properties are translated back by hello syphon.</span></span>

<span data-ttu-id="a16cc-181">Hallo aangepaste [MessageSender] [ MessageSender] object problemen kan optreden wanneer berichten benadering Hallo 256 KB limiet en failover is ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="a16cc-181">hello custom [MessageSender][MessageSender] object can encounter issues when messages approach hello 256-KB limit and failover is engaged.</span></span> <span data-ttu-id="a16cc-182">Hallo aangepaste [MessageSender] [ MessageSender] object berichten voor alle wachtrijen en onderwerpen samen in Hallo achterstand wachtrijen worden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="a16cc-182">hello custom [MessageSender][MessageSender] object stores messages for all queues and topics together in hello backlog queues.</span></span> <span data-ttu-id="a16cc-183">Dit object combineert berichten van veel primaire samen binnen Hallo achterstand wachtrijen.</span><span class="sxs-lookup"><span data-stu-id="a16cc-183">This object mixes messages from many primaries together within hello backlog queues.</span></span> <span data-ttu-id="a16cc-184">toohandle taakverdeling tussen veel clients die niet weet elk andere, Hallo SDK willekeurig wat neemt over van een achterstand wachtrij voor elk [QueueClient] [ QueueClient] of [TopicClient] [ TopicClient] u in code maken.</span><span class="sxs-lookup"><span data-stu-id="a16cc-184">toohandle load balancing among many clients that do not know each other, hello SDK randomly picks one backlog queue for each [QueueClient][QueueClient] or [TopicClient][TopicClient] you create in code.</span></span>

## <a name="pings"></a><span data-ttu-id="a16cc-185">Pings</span><span class="sxs-lookup"><span data-stu-id="a16cc-185">Pings</span></span>
<span data-ttu-id="a16cc-186">Een ping-bericht is een lege [BrokeredMessage] [ BrokeredMessage] met de [ContentType] [ ContentType] eigenschap ingesteld tooapplication/vnd.ms-servicebus-ping en een [TimeToLive] [ TimeToLive] waarde van 1 seconde.</span><span class="sxs-lookup"><span data-stu-id="a16cc-186">A ping message is an empty [BrokeredMessage][BrokeredMessage] with its [ContentType][ContentType] property set tooapplication/vnd.ms-servicebus-ping and a [TimeToLive][TimeToLive] value of 1 second.</span></span> <span data-ttu-id="a16cc-187">Deze ping is een speciaal kenmerk in de Service Bus: Hallo-server biedt nooit een ping wanneer elk aanroepend aanvraagt een [BrokeredMessage][BrokeredMessage].</span><span class="sxs-lookup"><span data-stu-id="a16cc-187">This ping has one special characteristic in Service Bus: hello server never delivers a ping when any caller requests a [BrokeredMessage][BrokeredMessage].</span></span> <span data-ttu-id="a16cc-188">Dus u nooit hebt toolearn hoe tooreceive en deze berichten te negeren.</span><span class="sxs-lookup"><span data-stu-id="a16cc-188">Thus, you never have toolearn how tooreceive and ignore these messages.</span></span> <span data-ttu-id="a16cc-189">Elke entiteit (unieke wachtrij of onderwerp) per [MessagingFactory] [ MessagingFactory] exemplaar per client zal worden gepingd wanneer deze worden beschouwd als toobe niet beschikbaar.</span><span class="sxs-lookup"><span data-stu-id="a16cc-189">Each entity (unique queue or topic) per [MessagingFactory][MessagingFactory] instance per client will be pinged when they are considered toobe unavailable.</span></span> <span data-ttu-id="a16cc-190">Standaard is dit gebeurt eenmaal per minuut.</span><span class="sxs-lookup"><span data-stu-id="a16cc-190">By default, this happens once per minute.</span></span> <span data-ttu-id="a16cc-191">Ping-berichten worden beschouwd als gewone Service Bus-berichten toobe en kunnen leiden tot kosten van bandbreedte en berichten.</span><span class="sxs-lookup"><span data-stu-id="a16cc-191">Ping messages are considered toobe regular Service Bus messages, and can result in charges for bandwidth and messages.</span></span> <span data-ttu-id="a16cc-192">Zodra het Hallo-clients detecteren dat Hallo system beschikbaar is, stopt Hallo-berichten.</span><span class="sxs-lookup"><span data-stu-id="a16cc-192">As soon as hello clients detect that hello system is available, hello messages stop.</span></span>

## <a name="hello-syphon"></a><span data-ttu-id="a16cc-193">Hallo syphon</span><span class="sxs-lookup"><span data-stu-id="a16cc-193">hello syphon</span></span>
<span data-ttu-id="a16cc-194">Ten minste één uitvoerbaar programma in de toepassing hello moet actief zijn Hallo syphon.</span><span class="sxs-lookup"><span data-stu-id="a16cc-194">At least one executable program in hello application should be actively running hello syphon.</span></span> <span data-ttu-id="a16cc-195">Hallo syphon voert een long poll ontvangen die 15 minuten duurt.</span><span class="sxs-lookup"><span data-stu-id="a16cc-195">hello syphon performs a long poll receive that lasts 15 minutes.</span></span> <span data-ttu-id="a16cc-196">Wanneer alle entiteiten beschikbaar zijn en hebt u 10 achterstand wachtrijen, Hallo toepassing die als host fungeert voor Hallo syphon aanroepen Hallo ontvangstbewerking 40 keer per uur, 960 keer per dag en 28800 keer in 30 dagen.</span><span class="sxs-lookup"><span data-stu-id="a16cc-196">When all entities are available and you have 10 backlog queues, hello application that hosts hello syphon calls hello receive operation 40 times per hour, 960 times per day, and 28800 times in 30 days.</span></span> <span data-ttu-id="a16cc-197">Bij het Hallo syphon is actief met het verplaatsen van berichten uit Hallo achterstand toohello primaire wachtrij, krijgt elk bericht Hallo kosten (standaard kosten voor de grootte van het bericht en de bandbreedte van toepassing in alle fasen) te volgen:</span><span class="sxs-lookup"><span data-stu-id="a16cc-197">When hello syphon is actively moving messages from hello backlog toohello primary queue, each message experiences hello following charges (standard charges for message size and bandwidth apply in all stages):</span></span>

1. <span data-ttu-id="a16cc-198">Achterstand toohello verzenden.</span><span class="sxs-lookup"><span data-stu-id="a16cc-198">Send toohello backlog.</span></span>
2. <span data-ttu-id="a16cc-199">Ontvangen van Hallo achterstand.</span><span class="sxs-lookup"><span data-stu-id="a16cc-199">Receive from hello backlog.</span></span>
3. <span data-ttu-id="a16cc-200">Toohello primaire verzenden.</span><span class="sxs-lookup"><span data-stu-id="a16cc-200">Send toohello primary.</span></span>
4. <span data-ttu-id="a16cc-201">Ontvangen van de primaire Hallo.</span><span class="sxs-lookup"><span data-stu-id="a16cc-201">Receive from hello primary.</span></span>

## <a name="closefault-behavior"></a><span data-ttu-id="a16cc-202">Sluit/fout gedrag</span><span class="sxs-lookup"><span data-stu-id="a16cc-202">Close/fault behavior</span></span>
<span data-ttu-id="a16cc-203">In een toepassing die als host fungeert voor Hallo syphon, eenmaal Hallo primaire of secundaire [MessagingFactory] [ MessagingFactory] bedrijfsstoringen of wordt afgesloten zonder de partner die ook wordt een fout opgetreden/gesloten en Hallo syphon deze status wordt gedetecteerd , Hallo syphon fungeert.</span><span class="sxs-lookup"><span data-stu-id="a16cc-203">Within an application that hosts hello syphon, once hello primary or secondary [MessagingFactory][MessagingFactory] faults or is closed without its partner also being faulted/closed and hello syphon detects this state, hello syphon acts.</span></span> <span data-ttu-id="a16cc-204">Als andere Hallo [MessagingFactory] [ MessagingFactory] is niet afgesloten binnen 5 seconden Hallo syphon Hallo nog steeds openen wordt fault [MessagingFactory] [ MessagingFactory] .</span><span class="sxs-lookup"><span data-stu-id="a16cc-204">If hello other [MessagingFactory][MessagingFactory] is not closed within 5 seconds, hello syphon will fault hello still open [MessagingFactory][MessagingFactory].</span></span>

## <a name="next-steps"></a><span data-ttu-id="a16cc-205">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="a16cc-205">Next steps</span></span>
<span data-ttu-id="a16cc-206">Zie [asynchrone messaging-patronen en hoge beschikbaarheid] [ Asynchronous messaging patterns and high availability] voor een gedetailleerde bespreking van de asynchrone Service Bus-berichtenservice.</span><span class="sxs-lookup"><span data-stu-id="a16cc-206">See [Asynchronous messaging patterns and high availability][Asynchronous messaging patterns and high availability] for a detailed discussion of Service Bus asynchronous messaging.</span></span> 

[PairNamespaceAsync]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory#Microsoft_ServiceBus_Messaging_MessagingFactory_PairNamespaceAsync_Microsoft_ServiceBus_Messaging_PairedNamespaceOptions_
[SendAvailabilityPairedNamespaceOptions]: /dotnet/api/microsoft.servicebus.messaging.sendavailabilitypairednamespaceoptions
[MessageSender]: /dotnet/api/microsoft.servicebus.messaging.messagesender
[MessagingFactory]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory
[FailoverInterval]: /dotnet/api/microsoft.servicebus.messaging.pairednamespaceoptions#Microsoft_ServiceBus_Messaging_PairedNamespaceOptions_FailoverInterval
[MessagingException]: /dotnet/api/microsoft.servicebus.messaging.messagingexception
[TimeoutException]: https://msdn.microsoft.com/library/azure/system.timeoutexception.aspx
[BrokeredMessage]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage
[QueueDescription]: /dotnet/api/microsoft.servicebus.messaging.queuedescription
[TimeSpan]: https://msdn.microsoft.com/library/azure/system.timespan.aspx
[PingPrimaryInterval]: /dotnet/api/microsoft.servicebus.messaging.sendavailabilitypairednamespaceoptions#Microsoft_ServiceBus_Messaging_SendAvailabilityPairedNamespaceOptions_PingPrimaryInterval
[QueueClient]: /dotnet/api/microsoft.servicebus.messaging.queueclient
[TopicClient]: /dotnet/api/microsoft.servicebus.messaging.topicclient
[ContentType]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_ContentType
[TimeToLive]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_TimeToLive
[Asynchronous messaging patterns and high availability]: service-bus-async-messaging.md
[0]: ./media/service-bus-paired-namespaces/IC673405.png
[1]: ./media/service-bus-paired-namespaces/IC673406.png
[2]: ./media/service-bus-paired-namespaces/IC673407.png
