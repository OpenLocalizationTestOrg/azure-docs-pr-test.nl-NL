---
title: overwegingen voor aaaNetworking met een Azure App Service-omgeving
description: Hallo as-omgeving netwerkverkeer wordt uitgelegd en hoe tooset nsg's en udr's met uw as-omgeving
services: app-service
documentationcenter: na
author: ccompy
manager: stefsch
ms.assetid: 955a4d84-94ca-418d-aa79-b57a5eb8cb85
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/08/2017
ms.author: ccompy
ms.openlocfilehash: d4d3000f4d4d75814b1e6d47079d967334eb1a3b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="networking-considerations-for-an-app-service-environment"></a><span data-ttu-id="9b3a2-103">Overwegingen voor een App Service-omgeving netwerken</span><span class="sxs-lookup"><span data-stu-id="9b3a2-103">Networking considerations for an App Service environment</span></span> #

## <a name="overview"></a><span data-ttu-id="9b3a2-104">Overzicht</span><span class="sxs-lookup"><span data-stu-id="9b3a2-104">Overview</span></span> ##

 <span data-ttu-id="9b3a2-105">Azure [App Service-omgeving] [ Intro] een Azure App Service-implementatie in een subnet in uw Azure virtual network (VNet).</span><span class="sxs-lookup"><span data-stu-id="9b3a2-105">Azure [App Service Environment][Intro] is a deployment of Azure App Service into a subnet in your Azure virtual network (VNet).</span></span> <span data-ttu-id="9b3a2-106">Er zijn twee implementatietypen voor een App Service-omgeving (as-omgeving):</span><span class="sxs-lookup"><span data-stu-id="9b3a2-106">There are two deployment types for an App Service environment (ASE):</span></span>

- <span data-ttu-id="9b3a2-107">**Externe as-omgeving**: zichtbaar gemaakt Hallo as-omgeving gehoste apps op internet toegankelijke IP-adres.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-107">**External ASE**: Exposes hello ASE-hosted apps on an internet-accessible IP address.</span></span> <span data-ttu-id="9b3a2-108">Zie voor meer informatie [maken van een externe as-omgeving][MakeExternalASE].</span><span class="sxs-lookup"><span data-stu-id="9b3a2-108">For more information, see [Create an External ASE][MakeExternalASE].</span></span>
- <span data-ttu-id="9b3a2-109">**As-ILB omgeving**: zichtbaar gemaakt Hallo as-omgeving gehoste apps op een IP-adres binnen uw VNet.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-109">**ILB ASE**: Exposes hello ASE-hosted apps on an IP address inside your VNet.</span></span> <span data-ttu-id="9b3a2-110">Hallo interne eindpunt, is een interne load balancer (ILB) dat is waarom een ILB-as-omgeving is aangeroepen.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-110">hello internal endpoint is an internal load balancer (ILB), which is why it's called an ILB ASE.</span></span> <span data-ttu-id="9b3a2-111">Zie voor meer informatie [maken en gebruiken een ILB-as-omgeving][MakeILBASE].</span><span class="sxs-lookup"><span data-stu-id="9b3a2-111">For more information, see [Create and use an ILB ASE][MakeILBASE].</span></span>

<span data-ttu-id="9b3a2-112">Er zijn nu twee versies van App Service-omgeving: ASEv1 en ASEv2.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-112">There are now two versions of App Service Environment: ASEv1 and ASEv2.</span></span> <span data-ttu-id="9b3a2-113">Zie voor informatie over ASEv1, [inleiding tooApp Service-omgeving v1][ASEv1Intro].</span><span class="sxs-lookup"><span data-stu-id="9b3a2-113">For information on ASEv1, see [Introduction tooApp Service Environment v1][ASEv1Intro].</span></span> <span data-ttu-id="9b3a2-114">ASEv1 kan worden geïmplementeerd in een klassiek of Resource Manager VNet.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-114">ASEv1 can be deployed in a classic or Resource Manager VNet.</span></span> <span data-ttu-id="9b3a2-115">ASEv2 kan alleen worden geïmplementeerd in een Resource Manager VNet.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-115">ASEv2 can only be deployed into a Resource Manager VNet.</span></span>

<span data-ttu-id="9b3a2-116">Alle aanroepen van een as-omgeving die gaat toohello internet laat Hallo VNet via een VIP-adres toegewezen voor Hallo as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-116">All calls from an ASE that go toohello internet leave hello VNet through a VIP assigned for hello ASE.</span></span> <span data-ttu-id="9b3a2-117">Hallo openbare IP-adres van deze VIP is vervolgens Hallo bron-IP voor alle aanroepen van Hallo as-omgeving die toohello gaat internet.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-117">hello public IP of this VIP is then hello source IP for all calls from hello ASE that go toohello internet.</span></span> <span data-ttu-id="9b3a2-118">Als Hallo apps in uw as-omgeving aanroepen tooresources in uw VNet of via een VPN kunt, is het Hallo bron-IP een Hallo IP-adressen in Hallo subnet dat wordt gebruikt door uw as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-118">If hello apps in your ASE make calls tooresources in your VNet or across a VPN, hello source IP is one of hello IPs in hello subnet used by your ASE.</span></span> <span data-ttu-id="9b3a2-119">Omdat Hallo as-omgeving binnen Hallo VNet, het ook toegang tot bronnen binnen Hallo VNet zonder extra configuratie.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-119">Because hello ASE is within hello VNet, it can also access resources within hello VNet without any additional configuration.</span></span> <span data-ttu-id="9b3a2-120">Als Hallo VNet verbonden tooyour on-premises netwerk, hebt-apps in uw as-omgeving ook toegang tooresources er.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-120">If hello VNet is connected tooyour on-premises network, apps in your ASE also have access tooresources there.</span></span> <span data-ttu-id="9b3a2-121">U hoeft niet tooconfigure Hallo as-omgeving of uw app in ieder verder.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-121">You don't need tooconfigure hello ASE or your app any further.</span></span>

![Externe as-omgeving][1] 

<span data-ttu-id="9b3a2-123">Als u een externe as-omgeving hebt, is Hallo openbare VIP ook Hallo-eindpunt dat uw apps as-omgeving toofor omzetten:</span><span class="sxs-lookup"><span data-stu-id="9b3a2-123">If you have an External ASE, hello public VIP is also hello endpoint that your ASE apps resolve toofor:</span></span>

* <span data-ttu-id="9b3a2-124">HTTP/S.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-124">HTTP/S.</span></span> 
* <span data-ttu-id="9b3a2-125">FTP/S.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-125">FTP/S.</span></span> 
* <span data-ttu-id="9b3a2-126">Web-implementatie.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-126">Web deployment.</span></span>
* <span data-ttu-id="9b3a2-127">Foutopsporing op afstand.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-127">Remote debugging.</span></span>

![ILB AS-OMGEVING][2]

<span data-ttu-id="9b3a2-129">Als u een ILB-as-omgeving hebt, is Hallo IP-adres van Hallo ILB Hallo-eindpunt voor HTTP/S, FTP-/ S, web-implementatie en foutopsporing op afstand.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-129">If you have an ILB ASE, hello IP address of hello ILB is hello endpoint for HTTP/S, FTP/S, web deployment, and remote debugging.</span></span>

<span data-ttu-id="9b3a2-130">Hallo normale app-poorten zijn:</span><span class="sxs-lookup"><span data-stu-id="9b3a2-130">hello normal app access ports are:</span></span>

| <span data-ttu-id="9b3a2-131">Gebruiken</span><span class="sxs-lookup"><span data-stu-id="9b3a2-131">Use</span></span> | <span data-ttu-id="9b3a2-132">Van</span><span class="sxs-lookup"><span data-stu-id="9b3a2-132">From</span></span> | <span data-ttu-id="9b3a2-133">te</span><span class="sxs-lookup"><span data-stu-id="9b3a2-133">too</span></span>|
|----------|---------|-------------|
|  <span data-ttu-id="9b3a2-134">HTTP/HTTPS</span><span class="sxs-lookup"><span data-stu-id="9b3a2-134">HTTP/HTTPS</span></span>  | <span data-ttu-id="9b3a2-135">Gebruiker worden geconfigureerd</span><span class="sxs-lookup"><span data-stu-id="9b3a2-135">User configurable</span></span> |  <span data-ttu-id="9b3a2-136">80, 443</span><span class="sxs-lookup"><span data-stu-id="9b3a2-136">80, 443</span></span> |
|  <span data-ttu-id="9b3a2-137">FTP/FTPS</span><span class="sxs-lookup"><span data-stu-id="9b3a2-137">FTP/FTPS</span></span>    | <span data-ttu-id="9b3a2-138">Gebruiker worden geconfigureerd</span><span class="sxs-lookup"><span data-stu-id="9b3a2-138">User configurable</span></span> |  <span data-ttu-id="9b3a2-139">21, 990, 10001-10020</span><span class="sxs-lookup"><span data-stu-id="9b3a2-139">21, 990, 10001-10020</span></span> |
|  <span data-ttu-id="9b3a2-140">Visual Studio foutopsporing op afstand</span><span class="sxs-lookup"><span data-stu-id="9b3a2-140">Visual Studio remote debugging</span></span>  |  <span data-ttu-id="9b3a2-141">Gebruiker worden geconfigureerd</span><span class="sxs-lookup"><span data-stu-id="9b3a2-141">User configurable</span></span> |  <span data-ttu-id="9b3a2-142">4016, 4018, 4020, 4022</span><span class="sxs-lookup"><span data-stu-id="9b3a2-142">4016, 4018, 4020, 4022</span></span> |

<span data-ttu-id="9b3a2-143">Dit geldt als u op een externe as-omgeving of op een as ILB-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-143">This is true if you're on an External ASE or on an ILB ASE.</span></span> <span data-ttu-id="9b3a2-144">Als u op een externe as-omgeving, heeft deze poorten op Hallo openbare VIP.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-144">If you're on an External ASE, you hit those ports on hello public VIP.</span></span> <span data-ttu-id="9b3a2-145">Als u van een as ILB-omgeving gebruikmaakt, heeft deze poorten op Hallo ILB.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-145">If you're on an ILB ASE, you hit those ports on hello ILB.</span></span> <span data-ttu-id="9b3a2-146">Als u poort 443 vergrendelen, kunnen er gevolgen heeft voor sommige functies die worden weergegeven in het Hallo-portal.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-146">If you lock down port 443, there can be an effect on some features exposed in hello portal.</span></span> <span data-ttu-id="9b3a2-147">Zie voor meer informatie [Portal afhankelijkheden](#portaldep).</span><span class="sxs-lookup"><span data-stu-id="9b3a2-147">For more information, see [Portal dependencies](#portaldep).</span></span>

## <a name="ase-dependencies"></a><span data-ttu-id="9b3a2-148">Afhankelijkheden van de as-omgeving</span><span class="sxs-lookup"><span data-stu-id="9b3a2-148">ASE dependencies</span></span> ##

<span data-ttu-id="9b3a2-149">Een as-omgeving binnenkomende-afhankelijkheid is:</span><span class="sxs-lookup"><span data-stu-id="9b3a2-149">An ASE inbound access dependency is:</span></span>

| <span data-ttu-id="9b3a2-150">Gebruiken</span><span class="sxs-lookup"><span data-stu-id="9b3a2-150">Use</span></span> | <span data-ttu-id="9b3a2-151">Van</span><span class="sxs-lookup"><span data-stu-id="9b3a2-151">From</span></span> | <span data-ttu-id="9b3a2-152">te</span><span class="sxs-lookup"><span data-stu-id="9b3a2-152">too</span></span>|
|-----|------|----|
| <span data-ttu-id="9b3a2-153">Beheer</span><span class="sxs-lookup"><span data-stu-id="9b3a2-153">Management</span></span> | <span data-ttu-id="9b3a2-154">App Service management-adressen</span><span class="sxs-lookup"><span data-stu-id="9b3a2-154">App Service management addresses</span></span> | <span data-ttu-id="9b3a2-155">As-omgeving subnet: 454, 455</span><span class="sxs-lookup"><span data-stu-id="9b3a2-155">ASE subnet: 454, 455</span></span> |
|  <span data-ttu-id="9b3a2-156">Interne communicatie as-omgeving</span><span class="sxs-lookup"><span data-stu-id="9b3a2-156">ASE internal communication</span></span> | <span data-ttu-id="9b3a2-157">As-omgeving subnet: alle poorten</span><span class="sxs-lookup"><span data-stu-id="9b3a2-157">ASE subnet: All ports</span></span> | <span data-ttu-id="9b3a2-158">As-omgeving subnet: alle poorten</span><span class="sxs-lookup"><span data-stu-id="9b3a2-158">ASE subnet: All ports</span></span>
|  <span data-ttu-id="9b3a2-159">Azure load balancer toestaan binnenkomende</span><span class="sxs-lookup"><span data-stu-id="9b3a2-159">Allow Azure load balancer inbound</span></span> | <span data-ttu-id="9b3a2-160">Azure load balancer</span><span class="sxs-lookup"><span data-stu-id="9b3a2-160">Azure load balancer</span></span> | <span data-ttu-id="9b3a2-161">As-omgeving subnet: alle poorten</span><span class="sxs-lookup"><span data-stu-id="9b3a2-161">ASE subnet: All ports</span></span>
|  <span data-ttu-id="9b3a2-162">App toegewezen IP-adressen</span><span class="sxs-lookup"><span data-stu-id="9b3a2-162">App assigned IP addresses</span></span> | <span data-ttu-id="9b3a2-163">App toegewezen adressen</span><span class="sxs-lookup"><span data-stu-id="9b3a2-163">App assigned addresses</span></span> | <span data-ttu-id="9b3a2-164">As-omgeving subnet: alle poorten</span><span class="sxs-lookup"><span data-stu-id="9b3a2-164">ASE subnet: All ports</span></span>

<span data-ttu-id="9b3a2-165">Hallo biedt binnenkomend verkeer opdracht en controle van Hallo as-omgeving in de toevoeging toosystem bewaking.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-165">hello inbound traffic provides command and control of hello ASE in addition toosystem monitoring.</span></span> <span data-ttu-id="9b3a2-166">Hallo bron, IP-adressen voor dit verkeer worden vermeld in Hallo [as-omgeving Management adressen] [ ASEManagement] document.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-166">hello source IPs for this traffic are listed in hello [ASE Management addresses][ASEManagement] document.</span></span> <span data-ttu-id="9b3a2-167">Hallo netwerkbeveiligingsconfiguratie nodig tooallow toegang van alle IP-adressen op de poorten 454 en 455.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-167">hello network security configuration needs tooallow access from all IPs on ports 454 and 455.</span></span>

<span data-ttu-id="9b3a2-168">Binnen Hallo as-omgeving subnet er zijn veel poorten gebruikt voor communicatie met interne onderdelen en ze kunnen wijzigen.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-168">Within hello ASE subnet there are many ports used for internal component communication and they can change.</span></span>  <span data-ttu-id="9b3a2-169">Hiervoor moet alle Hallo-poorten in Hallo as-omgeving subnet toobe toegankelijk is vanaf Hallo as-omgeving subnet.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-169">This requires all of hello ports in hello ASE subnet toobe accessible from hello ASE subnet.</span></span> 

<span data-ttu-id="9b3a2-170">Die toobe moet open zijn voor Hallo communicatie tussen hello Azure load balancer en Hallo as-omgeving subnet Hallo minimale poorten 454 en 455 van 16001.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-170">For hello communication between hello Azure load balancer and hello ASE subnet hello minimum ports that need toobe open are 454, 455 and 16001.</span></span> <span data-ttu-id="9b3a2-171">Hallo 16001 poort wordt gebruikt voor keep alive verkeer tussen Hallo load balancer en Hallo as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-171">hello 16001 port is used for keep alive traffic between hello load balancer and hello ASE.</span></span> <span data-ttu-id="9b3a2-172">Als u van een as ILB-omgeving gebruikmaakt kunt u verkeer omlaag toojust Hallo 454, 455, 16001 poorten vergrendelen.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-172">If you are using an ILB ASE then you can lock traffic down toojust hello 454, 455, 16001 ports.</span></span>  <span data-ttu-id="9b3a2-173">Als u van een externe as-omgeving gebruikmaakt moet u tootake in account Hallo normale app-poorten.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-173">If you are using an External ASE then you need tootake into account hello normal app access ports.</span></span>  <span data-ttu-id="9b3a2-174">Als u app toegewezen adressen moet u tooopen deze tooall poorten.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-174">If you are using app assigned addresses you need tooopen it tooall ports.</span></span>  <span data-ttu-id="9b3a2-175">Wanneer een adres wordt toegewezen tooa specifieke app, vervolgens Hallo load balancer gebruiken poorten die bekend zijn niet van tevoren toosend HTTP en HTTPS-verkeer toohello as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-175">When an address is assigned tooa specific app, then hello load balancer will use ports that are not known of in advance toosend HTTP and HTTPS traffic toohello ASE.</span></span>

<span data-ttu-id="9b3a2-176">Als u app toegewezen IP-adressen moet tooallow verkeer van Hallo die IP-adressen tooyour apps toohello as-omgeving subnet toegewezen.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-176">If you are using app assigned IP addresses you need tooallow traffic from hello IPs assigned tooyour apps toohello ASE subnet.</span></span>

<span data-ttu-id="9b3a2-177">Voor uitgaande toegang is een as-omgeving afhankelijk van meerdere externe systemen.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-177">For outbound access, an ASE depends on multiple external systems.</span></span> <span data-ttu-id="9b3a2-178">Die afhankelijkheden systeem zijn gedefinieerd met behulp van DNS-namen en tooa vaste set IP-adressen niet worden toegewezen.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-178">Those system dependencies are defined with DNS names and don't map tooa fixed set of IP addresses.</span></span> <span data-ttu-id="9b3a2-179">Dus Hallo as-omgeving vereist dat uitgaand verkeer van Hallo as-omgeving subnet tooall externe IP-adressen in een groot aantal poorten.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-179">Thus, hello ASE requires outbound access from hello ASE subnet tooall external IPs across a variety of ports.</span></span> <span data-ttu-id="9b3a2-180">Een as-omgeving heeft Hallo uitgaande afhankelijkheden te volgen:</span><span class="sxs-lookup"><span data-stu-id="9b3a2-180">An ASE has hello following outbound dependencies:</span></span>

| <span data-ttu-id="9b3a2-181">Gebruiken</span><span class="sxs-lookup"><span data-stu-id="9b3a2-181">Use</span></span> | <span data-ttu-id="9b3a2-182">Van</span><span class="sxs-lookup"><span data-stu-id="9b3a2-182">From</span></span> | <span data-ttu-id="9b3a2-183">te</span><span class="sxs-lookup"><span data-stu-id="9b3a2-183">too</span></span>|
|-----|------|----|
| <span data-ttu-id="9b3a2-184">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="9b3a2-184">Azure Storage</span></span> | <span data-ttu-id="9b3a2-185">As-omgeving subnet</span><span class="sxs-lookup"><span data-stu-id="9b3a2-185">ASE subnet</span></span> | <span data-ttu-id="9b3a2-186">Table.Core.Windows.NET, blob.core.windows.net, queue.core.windows.net, file.core.windows.net: 80, 443, 445 (445 is alleen nodig voor ASEv1.)</span><span class="sxs-lookup"><span data-stu-id="9b3a2-186">table.core.windows.net, blob.core.windows.net, queue.core.windows.net, file.core.windows.net: 80, 443, 445 (445 is only needed for ASEv1.)</span></span> |
| <span data-ttu-id="9b3a2-187">Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="9b3a2-187">Azure SQL Database</span></span> | <span data-ttu-id="9b3a2-188">As-omgeving subnet</span><span class="sxs-lookup"><span data-stu-id="9b3a2-188">ASE subnet</span></span> | <span data-ttu-id="9b3a2-189">database.Windows.NET: 1433, 11000 11999, 14000 14999 (Zie voor meer informatie [SQL Database V12 Poortgebruik](../../sql-database/sql-database-develop-direct-route-ports-adonet-v12.md).)</span><span class="sxs-lookup"><span data-stu-id="9b3a2-189">database.windows.net: 1433, 11000-11999, 14000-14999 (For more information, see [SQL Database V12 port usage](../../sql-database/sql-database-develop-direct-route-ports-adonet-v12.md).)</span></span>|
| <span data-ttu-id="9b3a2-190">Azure management</span><span class="sxs-lookup"><span data-stu-id="9b3a2-190">Azure management</span></span> | <span data-ttu-id="9b3a2-191">As-omgeving subnet</span><span class="sxs-lookup"><span data-stu-id="9b3a2-191">ASE subnet</span></span> | <span data-ttu-id="9b3a2-192">Management.Core.Windows.NET, management.azure.com: 443</span><span class="sxs-lookup"><span data-stu-id="9b3a2-192">management.core.windows.net, management.azure.com: 443</span></span> 
| <span data-ttu-id="9b3a2-193">Verificatie van SSL-certificaat</span><span class="sxs-lookup"><span data-stu-id="9b3a2-193">SSL certificate verification</span></span> |  <span data-ttu-id="9b3a2-194">As-omgeving subnet</span><span class="sxs-lookup"><span data-stu-id="9b3a2-194">ASE subnet</span></span>            |  <span data-ttu-id="9b3a2-195">OCSP.msocsp.com, mscrl.microsoft.com, crl.microsoft.com: 443</span><span class="sxs-lookup"><span data-stu-id="9b3a2-195">ocsp.msocsp.com, mscrl.microsoft.com, crl.microsoft.com: 443</span></span>
| <span data-ttu-id="9b3a2-196">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="9b3a2-196">Azure Active Directory</span></span>        | <span data-ttu-id="9b3a2-197">As-omgeving subnet</span><span class="sxs-lookup"><span data-stu-id="9b3a2-197">ASE subnet</span></span>            |  <span data-ttu-id="9b3a2-198">Internet: 443</span><span class="sxs-lookup"><span data-stu-id="9b3a2-198">Internet: 443</span></span>
| <span data-ttu-id="9b3a2-199">App Service-beheer</span><span class="sxs-lookup"><span data-stu-id="9b3a2-199">App Service management</span></span>        | <span data-ttu-id="9b3a2-200">As-omgeving subnet</span><span class="sxs-lookup"><span data-stu-id="9b3a2-200">ASE subnet</span></span>            |  <span data-ttu-id="9b3a2-201">Internet: 443</span><span class="sxs-lookup"><span data-stu-id="9b3a2-201">Internet: 443</span></span>
| <span data-ttu-id="9b3a2-202">Azure DNS</span><span class="sxs-lookup"><span data-stu-id="9b3a2-202">Azure DNS</span></span>                     | <span data-ttu-id="9b3a2-203">As-omgeving subnet</span><span class="sxs-lookup"><span data-stu-id="9b3a2-203">ASE subnet</span></span>            |  <span data-ttu-id="9b3a2-204">Internet: 53</span><span class="sxs-lookup"><span data-stu-id="9b3a2-204">Internet: 53</span></span>
| <span data-ttu-id="9b3a2-205">Interne communicatie as-omgeving</span><span class="sxs-lookup"><span data-stu-id="9b3a2-205">ASE internal communication</span></span>    | <span data-ttu-id="9b3a2-206">As-omgeving subnet: alle poorten</span><span class="sxs-lookup"><span data-stu-id="9b3a2-206">ASE subnet: All ports</span></span> |  <span data-ttu-id="9b3a2-207">As-omgeving subnet: alle poorten</span><span class="sxs-lookup"><span data-stu-id="9b3a2-207">ASE subnet: All ports</span></span>

<span data-ttu-id="9b3a2-208">Als Hallo as-omgeving toegang toothese afhankelijkheden verliest, werkt niet.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-208">If hello ASE loses access toothese dependencies, it stops working.</span></span> <span data-ttu-id="9b3a2-209">Wanneer dit gebeurt lang genoeg, Hallo as-omgeving is onderbroken.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-209">When that happens long enough, hello ASE is suspended.</span></span>

### <a name="customer-dns"></a><span data-ttu-id="9b3a2-210">Klant DNS</span><span class="sxs-lookup"><span data-stu-id="9b3a2-210">Customer DNS</span></span> ###

<span data-ttu-id="9b3a2-211">Als hello VNet is geconfigureerd met een klant gedefinieerde DNS-server, wordt het door de tenantwerkbelastingen hello gebruiken.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-211">If hello VNet is configured with a customer-defined DNS server, hello tenant workloads use it.</span></span> <span data-ttu-id="9b3a2-212">Hallo as-omgeving moet nog steeds toocommunicate met Azure DNS voor beheerdoeleinden.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-212">hello ASE still needs toocommunicate with Azure DNS for management purposes.</span></span> 

<span data-ttu-id="9b3a2-213">Als hello VNet is geconfigureerd met een klant DNS op Hallo van de andere zijde van een VPN moet Hallo DNS-server bereikbaar is vanuit Hallo subnet met Hallo as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-213">If hello VNet is configured with a customer DNS on hello other side of a VPN, hello DNS server must be reachable from hello subnet that contains hello ASE.</span></span>

<a name="portaldep"></a>

## <a name="portal-dependencies"></a><span data-ttu-id="9b3a2-214">Portal-afhankelijkheden</span><span class="sxs-lookup"><span data-stu-id="9b3a2-214">Portal dependencies</span></span> ##

<span data-ttu-id="9b3a2-215">In aanvulling toohello as-omgeving functionele afhankelijkheden zijn er enkele extra artikelen gerelateerde toohello portal ervaring.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-215">In addition toohello ASE functional dependencies, there are a few extra items related toohello portal experience.</span></span> <span data-ttu-id="9b3a2-216">Enkele van de functies Hallo in hello Azure-portal is afhankelijk van directe toegang too_SCM site_.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-216">Some of hello capabilities in hello Azure portal depend on direct access too_SCM site_.</span></span> <span data-ttu-id="9b3a2-217">Er zijn twee URL's voor elke app in Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-217">For every app in Azure App Service, there are two URLs.</span></span> <span data-ttu-id="9b3a2-218">de eerste URL Hallo tooaccess wordt uw app.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-218">hello first URL is tooaccess your app.</span></span> <span data-ttu-id="9b3a2-219">Hallo tweede URL is tooaccess Hallo SCM site, ook wel genoemd Hallo _Kudu-console_.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-219">hello second URL is tooaccess hello SCM site, which is also called hello _Kudu console_.</span></span> <span data-ttu-id="9b3a2-220">Functies die gebruikmaken van Hallo SCM site:</span><span class="sxs-lookup"><span data-stu-id="9b3a2-220">Features that use hello SCM site include:</span></span>

-   <span data-ttu-id="9b3a2-221">Webtaken</span><span class="sxs-lookup"><span data-stu-id="9b3a2-221">Web jobs</span></span>
-   <span data-ttu-id="9b3a2-222">Functies</span><span class="sxs-lookup"><span data-stu-id="9b3a2-222">Functions</span></span>
-   <span data-ttu-id="9b3a2-223">Streaming-logboek</span><span class="sxs-lookup"><span data-stu-id="9b3a2-223">Log streaming</span></span>
-   <span data-ttu-id="9b3a2-224">Kudu</span><span class="sxs-lookup"><span data-stu-id="9b3a2-224">Kudu</span></span>
-   <span data-ttu-id="9b3a2-225">Extensies</span><span class="sxs-lookup"><span data-stu-id="9b3a2-225">Extensions</span></span>
-   <span data-ttu-id="9b3a2-226">Procesverkenner</span><span class="sxs-lookup"><span data-stu-id="9b3a2-226">Process Explorer</span></span>
-   <span data-ttu-id="9b3a2-227">Console</span><span class="sxs-lookup"><span data-stu-id="9b3a2-227">Console</span></span>

<span data-ttu-id="9b3a2-228">Wanneer u een ILB-as-omgeving, niet Hallo SCM site internet toegankelijk van buiten Hallo VNet.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-228">When you use an ILB ASE, hello SCM site isn't internet accessible from outside hello VNet.</span></span> <span data-ttu-id="9b3a2-229">Wanneer uw app wordt gehost op een as ILB-omgeving, werken bepaalde functies niet vanuit Hallo-portal.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-229">When your app is hosted on an ILB ASE, some capabilities will not work from hello portal.</span></span>  

<span data-ttu-id="9b3a2-230">Veel van deze mogelijkheden die afhankelijk van Hallo SCM site zijn zijn eveneens beschikbaar rechtstreeks in Hallo Kudu-console.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-230">Many of those capabilities that depend upon hello SCM site are also available directly in hello Kudu console.</span></span> <span data-ttu-id="9b3a2-231">U kunt tooit verbinden rechtstreeks in plaats van met behulp van Hallo-portal.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-231">You can connect tooit directly rather than by using hello portal.</span></span> <span data-ttu-id="9b3a2-232">Als uw app wordt gehost in een ILB-as-omgeving, gebruikt u uw publishing toosign referenties in.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-232">If your app is hosted in an ILB ASE, use your publishing credentials toosign in.</span></span> <span data-ttu-id="9b3a2-233">Hallo URL tooaccess Hallo SCM site van een app, gehost in een ILB-as-omgeving heeft Hallo volgende indeling:</span><span class="sxs-lookup"><span data-stu-id="9b3a2-233">hello URL tooaccess hello SCM site of an app hosted in an ILB ASE has hello following format:</span></span> 

```
<appname>.scm.<domain name hello ILB ASE was created with> 
```

<span data-ttu-id="9b3a2-234">Als uw as-omgeving voor de ILB Hallo domeinnaam *contoso.net* en de naam van uw app *testapp*, Hallo app is bereikt op *testapp.contoso.net*.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-234">If your ILB ASE is hello domain name *contoso.net* and your app name is *testapp*, hello app is reached at *testapp.contoso.net*.</span></span> <span data-ttu-id="9b3a2-235">Hallo SCM-site die u ermee gaat is bereikt op *testapp.scm.contoso.net*.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-235">hello SCM site that goes with it is reached at *testapp.scm.contoso.net*.</span></span>

### <a name="functions-and-web-jobs"></a><span data-ttu-id="9b3a2-236">Functies en Web-taken</span><span class="sxs-lookup"><span data-stu-id="9b3a2-236">Functions and Web jobs</span></span> ###

<span data-ttu-id="9b3a2-237">Zowel functies en Web taken afhankelijk zijn van Hallo SCM-website, maar worden ondersteund voor gebruik in Hallo-portal, zelfs als uw apps in een ILB as-omgeving, zolang uw browser Hallo SCM site kan bereiken.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-237">Both Functions and Web jobs depend on hello SCM site but are supported for use in hello portal, even if your apps are in an ILB ASE, so long as your browser can reach hello SCM site.</span></span>  <span data-ttu-id="9b3a2-238">Als u van een zelfondertekend certificaat met de as ILB-omgeving gebruikmaakt, moet u tooenable uw browser tootrust die het certificaat.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-238">If you are using a self-signed certificate with your ILB ASE, you will need tooenable your browser tootrust that certificate.</span></span>  <span data-ttu-id="9b3a2-239">Voor Internet Explorer en Edge: Hallo certificaat heeft toobe in Hallo computer vertrouwen opslaan.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-239">For IE and Edge that means hello certificate has toobe in hello computer trust store.</span></span>  <span data-ttu-id="9b3a2-240">Als u Chrome vervolgens dit betekent dat u eerder Hallo certificaat in de browser Hallo geaccepteerd dat door het waarschijnlijk rechtstreeks roept Hallo scm-site.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-240">If you are using Chrome then that means you accepted hello certificate in hello browser earlier by presumably hitting hello scm site directly.</span></span>  <span data-ttu-id="9b3a2-241">Hallo beste oplossing is een commerciële certificaat dat is in Hallo browser vertrouwensketen toouse.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-241">hello best solution is toouse a commercial certificate that is in hello browser chain of trust.</span></span>  

## <a name="ase-ip-addresses"></a><span data-ttu-id="9b3a2-242">As-omgeving IP-adressen</span><span class="sxs-lookup"><span data-stu-id="9b3a2-242">ASE IP addresses</span></span> ##

<span data-ttu-id="9b3a2-243">Een as-omgeving, is enkele IP-adressen toobe op de hoogte van.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-243">An ASE has a few IP addresses toobe aware of.</span></span> <span data-ttu-id="9b3a2-244">Ze zijn:</span><span class="sxs-lookup"><span data-stu-id="9b3a2-244">They are:</span></span>

- <span data-ttu-id="9b3a2-245">**Openbare binnenkomende IP-adres**: gebruikt voor het verkeer van de app in een externe as-omgeving en beheer van verkeer in zowel een externe as-omgeving en een ILB-as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-245">**Public inbound IP address**: Used for app traffic in an External ASE, and management traffic in both an External ASE and an ILB ASE.</span></span>
- <span data-ttu-id="9b3a2-246">**Uitgaande openbare IP-adres**: gebruikt als Hallo 'van' IP voor uitgaande verbindingen van Hallo as-omgeving die laat Hallo VNet, die niet worden doorgestuurd naar beneden een VPN.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-246">**Outbound public IP**: Used as hello "from" IP for outbound connections from hello ASE that leave hello VNet, which aren't routed down a VPN.</span></span>
- <span data-ttu-id="9b3a2-247">**ILB IP-adres**: als u een ILB-as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-247">**ILB IP address**: If you use an ILB ASE.</span></span>
- <span data-ttu-id="9b3a2-248">**App toegewezen SSL op basis van IP-adressen**: alleen mogelijk met een externe as-omgeving en het IP-gebaseerde SSL is geconfigureerd.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-248">**App-assigned IP-based SSL addresses**: Only possible with an External ASE and when IP-based SSL is configured.</span></span>

<span data-ttu-id="9b3a2-249">Deze IP-adressen zijn gemakkelijk zichtbaar zijn in een ASEv2 in hello Azure-portal op Hallo UI as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-249">All these IP addresses are easily visible in an ASEv2 in hello Azure portal from hello ASE UI.</span></span> <span data-ttu-id="9b3a2-250">Als u een ILB-as-omgeving hebt, wordt Hallo IP voor Hallo ILB vermeld.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-250">If you have an ILB ASE, hello IP for hello ILB is listed.</span></span>

![IP-adressen][3]

### <a name="app-assigned-ip-addresses"></a><span data-ttu-id="9b3a2-252">App-toegewezen IP-adressen</span><span class="sxs-lookup"><span data-stu-id="9b3a2-252">App-assigned IP addresses</span></span> ###

<span data-ttu-id="9b3a2-253">Met een externe as-omgeving, kunt u IP-adressen toewijzen tooindividual apps.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-253">With an External ASE, you can assign IP addresses tooindividual apps.</span></span> <span data-ttu-id="9b3a2-254">U kunt geen dat doen met een ILB-as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-254">You can't do that with an ILB ASE.</span></span> <span data-ttu-id="9b3a2-255">Voor meer informatie over het tooconfigure de toohave van uw app een eigen IP-adres, Zie [binden van een bestaande aangepaste SSL-certificaat tooAzure web-apps](../../app-service-web/app-service-web-tutorial-custom-ssl.md).</span><span class="sxs-lookup"><span data-stu-id="9b3a2-255">For more information on how tooconfigure your app toohave its own IP address, see [Bind an existing custom SSL certificate tooAzure web apps](../../app-service-web/app-service-web-tutorial-custom-ssl.md).</span></span>

<span data-ttu-id="9b3a2-256">Wanneer een app zijn eigen SSL op basis van IP-adres heeft, reserveert Hallo as-omgeving twee poorten toomap toothat IP-adres.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-256">When an app has its own IP-based SSL address, hello ASE reserves two ports toomap toothat IP address.</span></span> <span data-ttu-id="9b3a2-257">Een poort voor HTTP-verkeer, en hello andere poort voor HTTPS.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-257">One port is for HTTP traffic, and hello other port is for HTTPS.</span></span> <span data-ttu-id="9b3a2-258">Deze poorten worden vermeld in Hallo UI as-omgeving in de sectie Hallo IP-adressen.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-258">Those ports are listed in hello ASE UI in hello IP addresses section.</span></span> <span data-ttu-id="9b3a2-259">Verkeer moet kunnen tooreach deze poorten van Hallo VIP of Hallo apps niet toegankelijk zijn.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-259">Traffic must be able tooreach those ports from hello VIP or hello apps are inaccessible.</span></span> <span data-ttu-id="9b3a2-260">Deze vereiste is belangrijk tooremember bij het configureren van Netwerkbeveiligingsgroepen (nsg's).</span><span class="sxs-lookup"><span data-stu-id="9b3a2-260">This requirement is important tooremember when you configure Network Security Groups (NSGs).</span></span>

## <a name="network-security-groups"></a><span data-ttu-id="9b3a2-261">Netwerkbeveiligingsgroepen</span><span class="sxs-lookup"><span data-stu-id="9b3a2-261">Network Security Groups</span></span> ##

<span data-ttu-id="9b3a2-262">[Netwerkbeveiligingsgroepen] [ NSGs] Hallo mogelijkheid toocontrol netwerktoegang binnen een VNet.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-262">[Network Security Groups][NSGs] provide hello ability toocontrol network access within a VNet.</span></span> <span data-ttu-id="9b3a2-263">Wanneer u Hallo portal gebruikt, er is een impliciete weigeren regel op de laagste prioriteit toodeny Hallo alles.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-263">When you use hello portal, there's an implicit deny rule at hello lowest priority toodeny everything.</span></span> <span data-ttu-id="9b3a2-264">Wat u bouwen zijn de regels voor toestaan.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-264">What you build are your allow rules.</span></span>

<span data-ttu-id="9b3a2-265">In een as-omgeving hebt u geen toegang tot toohello virtuele machines gebruikt toohost Hallo as-omgeving zelf.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-265">In an ASE, you don't have access toohello VMs used toohost hello ASE itself.</span></span> <span data-ttu-id="9b3a2-266">Ze zich in een abonnement door Microsoft beheerd.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-266">They're in a Microsoft-managed subscription.</span></span> <span data-ttu-id="9b3a2-267">Als u toorestrict toegang toohello apps op Hallo as-omgeving wilt, stelt u nsg's op Hallo as-omgeving subnet.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-267">If you want toorestrict access toohello apps on hello ASE, set NSGs on hello ASE subnet.</span></span> <span data-ttu-id="9b3a2-268">In dat geval, let toohello as-omgeving afhankelijkheden.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-268">In doing so, pay careful attention toohello ASE dependencies.</span></span> <span data-ttu-id="9b3a2-269">Als u eventuele afhankelijkheden blokkeert, werkt Hallo as-omgeving niet meer.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-269">If you block any dependencies, hello ASE stops working.</span></span>

<span data-ttu-id="9b3a2-270">Nsg's kunnen worden geconfigureerd via hello Azure-portal of via PowerShell.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-270">NSGs can be configured through hello Azure portal or via PowerShell.</span></span> <span data-ttu-id="9b3a2-271">Hallo informatie hier ziet u hello Azure-portal.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-271">hello information here shows hello Azure portal.</span></span> <span data-ttu-id="9b3a2-272">Maken en beheren van nsg's in de portal Hallo als een bron op het hoogste niveau onder **Networking**.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-272">You create and manage NSGs in hello portal as a top-level resource under **Networking**.</span></span>

<span data-ttu-id="9b3a2-273">Wanneer hello binnenkomend en uitgaand vereisten in aanmerking worden genomen, er Hallo nsg's vergelijkbaar toohello nsg's in dit voorbeeld wordt getoond.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-273">When hello inbound and outbound requirements are taken into account, hello NSGs should look similar toohello NSGs shown in this example.</span></span> <span data-ttu-id="9b3a2-274">Hallo VNet-adresbereik is _192.168.250.0/16_, en het Hallo-subnet dat Hallo as-omgeving in _192.168.251.128/25_.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-274">hello VNet address range is _192.168.250.0/16_, and hello subnet that hello ASE is in is _192.168.251.128/25_.</span></span>

<span data-ttu-id="9b3a2-275">Hallo eerst twee inkomende vereisten voor Hallo as-omgeving toofunction worden Hallo boven aan de lijst Hallo in dit voorbeeld weergegeven.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-275">hello first two inbound requirements for hello ASE toofunction are shown at hello top of hello list in this example.</span></span> <span data-ttu-id="9b3a2-276">Deze as-omgeving beheer inschakelen en Hallo as-omgeving toocommunicate met zichzelf toestaan.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-276">They enable ASE management and allow hello ASE toocommunicate with itself.</span></span> <span data-ttu-id="9b3a2-277">Hallo andere vermeldingen zijn alle configureerbare tenant kunnen beheersen en network access toohello-as-omgeving gehoste toepassingen.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-277">hello other entries are all tenant configurable and can govern network access toohello ASE-hosted applications.</span></span> 

![Inkomende beveiligingsregels][4]

<span data-ttu-id="9b3a2-279">Een standaardregel kunt Hallo IP-adressen in Hallo VNet tootalk toohello as-omgeving subnet.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-279">A default rule enables hello IPs in hello VNet tootalk toohello ASE subnet.</span></span> <span data-ttu-id="9b3a2-280">Een andere standaardregel kunt Hallo load balancer, ook wel bekend als openbare VIP hello, toocommunicate Hello as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-280">Another default rule enables hello load balancer, also known as hello public VIP, toocommunicate with hello ASE.</span></span> <span data-ttu-id="9b3a2-281">Standaardregels voor toosee hello, selecteer **regels standaard** volgende toohello **toevoegen** pictogram.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-281">toosee hello default rules, select **Default rules** next toohello **Add** icon.</span></span> <span data-ttu-id="9b3a2-282">Als u al het andere nadat Hallo NSG regels weergegeven regel weigeren plaatst, voorkomt u verkeer tussen Hallo VIP en Hallo as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-282">If you put a deny everything else rule after hello NSG rules shown, you prevent traffic between hello VIP and hello ASE.</span></span> <span data-ttu-id="9b3a2-283">tooprevent verkeer dat afkomstig is van binnen het VNet, Hallo toevoegen uw eigen tooallow regel binnenkomende.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-283">tooprevent traffic coming from inside hello VNet, add your own rule tooallow inbound.</span></span> <span data-ttu-id="9b3a2-284">Een bron gelijk tooAzureLoadBalancer gebruiken met als bestemming **eventuele** en een poortbereik van  **\*** .</span><span class="sxs-lookup"><span data-stu-id="9b3a2-284">Use a source equal tooAzureLoadBalancer with a destination of **Any** and a port range of **\***.</span></span> <span data-ttu-id="9b3a2-285">Omdat Hallo NSG regel subnet toegepaste toohello as-omgeving, hoeft u geen specifieke toobe in Hallo doel.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-285">Because hello NSG rule is applied toohello ASE subnet, you don't need toobe specific in hello destination.</span></span>

<span data-ttu-id="9b3a2-286">Als u een IP-adres tooyour app toegewezen, zorg er dan voor dat u Hallo poorten zijn geopend.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-286">If you assigned an IP address tooyour app, make sure you keep hello ports open.</span></span> <span data-ttu-id="9b3a2-287">toosee hello poorten, selecteer **App Service-omgeving** > **IP-adressen**.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-287">toosee hello ports, select **App Service Environment** > **IP addresses**.</span></span>  

<span data-ttu-id="9b3a2-288">Alle Hallo items in de Hallo volgens de regels voor uitgaand nodig zijn, met uitzondering van het laatste item Hallo.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-288">All hello items shown in hello following outbound rules are needed, except for hello last item.</span></span> <span data-ttu-id="9b3a2-289">Ze inschakelen netwerk toegang toohello as-omgeving afhankelijkheden die eerder in dit artikel zijn vermeld.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-289">They enable network access toohello ASE dependencies that were noted earlier in this article.</span></span> <span data-ttu-id="9b3a2-290">Als u een van deze blokkeert, werkt niet meer uw as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-290">If you block any of them, your ASE stops working.</span></span> <span data-ttu-id="9b3a2-291">laatste item in de lijst Hallo Hallo kunt uw as-omgeving toocommunicate met andere resources in uw VNet.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-291">hello last item in hello list enables your ASE toocommunicate with other resources in your VNet.</span></span>

![Uitgaande beveiligingsregels][5]

<span data-ttu-id="9b3a2-293">Nadat uw nsg's zijn gedefinieerd, ze toewijzen toohello-subnet dat u uw as-omgeving ingeschakeld is.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-293">After your NSGs are defined, assign them toohello subnet that your ASE is on.</span></span> <span data-ttu-id="9b3a2-294">Als je Hallo as-omgeving VNet of subnet, kunt u het bekijken van de beheerportal Hallo-as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-294">If you don’t remember hello ASE VNet or subnet, you can see it from hello ASE management portal.</span></span> <span data-ttu-id="9b3a2-295">tooassign hello NSG tooyour subnet, gaat u toohello subnet gebruikersinterface en selecteer Hallo NSG.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-295">tooassign hello NSG tooyour subnet, go toohello subnet UI and select hello NSG.</span></span>

## <a name="routes"></a><span data-ttu-id="9b3a2-296">Routes</span><span class="sxs-lookup"><span data-stu-id="9b3a2-296">Routes</span></span> ##

<span data-ttu-id="9b3a2-297">Routes worden meest problematisch wanneer u uw VNet met Azure ExpressRoute configureren.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-297">Routes become problematic most commonly when you configure your VNet with Azure ExpressRoute.</span></span> <span data-ttu-id="9b3a2-298">Er zijn drie soorten routes in een VNet:</span><span class="sxs-lookup"><span data-stu-id="9b3a2-298">There are three types of routes in a VNet:</span></span>

-   <span data-ttu-id="9b3a2-299">Systeemroutes</span><span class="sxs-lookup"><span data-stu-id="9b3a2-299">System routes</span></span>
-   <span data-ttu-id="9b3a2-300">BGP-routes</span><span class="sxs-lookup"><span data-stu-id="9b3a2-300">BGP routes</span></span>
-   <span data-ttu-id="9b3a2-301">Gebruiker gedefinieerde routes (udr's)</span><span class="sxs-lookup"><span data-stu-id="9b3a2-301">User-defined routes (UDRs)</span></span>

<span data-ttu-id="9b3a2-302">BGP-routes overschrijven systeemroutes.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-302">BGP routes override system routes.</span></span> <span data-ttu-id="9b3a2-303">Udr's overschrijven BGP-routes.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-303">UDRs override BGP routes.</span></span> <span data-ttu-id="9b3a2-304">Zie voor meer informatie over routes in virtuele netwerken van Azure [overzicht van de gebruiker gedefinieerde routes][UDRs].</span><span class="sxs-lookup"><span data-stu-id="9b3a2-304">For more information about routes in Azure virtual networks, see [User-defined routes overview][UDRs].</span></span>

<span data-ttu-id="9b3a2-305">Hallo Hallo as-omgeving gebruikmaakt van toomanage Hallo system Azure SQL-database is een firewall.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-305">hello Azure SQL database that hello ASE uses toomanage hello system has a firewall.</span></span> <span data-ttu-id="9b3a2-306">Is er communicatie toooriginate van Hallo openbare VIP as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-306">It requires communication toooriginate from hello ASE public VIP.</span></span> <span data-ttu-id="9b3a2-307">Verbindingen toohello SQL-database van Hallo as-omgeving wordt geweigerd als deze naar beneden Hallo ExpressRoute-verbinding en u een ander IP-adres worden verzonden.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-307">Connections toohello SQL database from hello ASE will be denied if they are sent down hello ExpressRoute connection and out another IP address.</span></span>

<span data-ttu-id="9b3a2-308">Als antwoorden tooincoming management-aanvragen worden verzonden naar beneden Hallo ExpressRoute, is Hallo antwoordadres anders dan de oorspronkelijke doelhost Hallo.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-308">If replies tooincoming management requests are sent down hello ExpressRoute, hello reply address is different than hello original destination.</span></span> <span data-ttu-id="9b3a2-309">Dit verschil verbroken Hallo TCP-communicatie.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-309">This mismatch breaks hello TCP communication.</span></span>

<span data-ttu-id="9b3a2-310">Voor uw as-omgeving toowork terwijl uw VNet is geconfigureerd met een ExpressRoute is Hallo eenvoudigste ding toodo:</span><span class="sxs-lookup"><span data-stu-id="9b3a2-310">For your ASE toowork while your VNet is configured with an ExpressRoute, hello easiest thing toodo is:</span></span>

-   <span data-ttu-id="9b3a2-311">Configureren van ExpressRoute tooadvertise _0.0.0.0/0_.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-311">Configure ExpressRoute tooadvertise _0.0.0.0/0_.</span></span> <span data-ttu-id="9b3a2-312">Standaard deze geforceerd tunnels alle uitgaande verkeer van de lokale.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-312">By default, it force tunnels all outbound traffic on-premises.</span></span>
-   <span data-ttu-id="9b3a2-313">Maak een UDR.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-313">Create a UDR.</span></span> <span data-ttu-id="9b3a2-314">Deze toohello subnet met Hallo as-omgeving met een adresvoorvoegsel van toe te passen _0.0.0.0/0_ en type van een volgende hop _Internet_.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-314">Apply it toohello subnet that contains hello ASE with an address prefix of _0.0.0.0/0_ and a next hop type of _Internet_.</span></span>

<span data-ttu-id="9b3a2-315">Als u deze twee wijzigingen aanbrengt, wordt niet internet bestemd verkeer dat afkomstig van Hallo as-omgeving subnet is geforceerd Hallo ExpressRoute en Hallo as-omgeving werkt.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-315">If you make these two changes, internet-destined traffic that originates from hello ASE subnet isn't forced down hello ExpressRoute and hello ASE works.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="9b3a2-316">Hallo-routes die zijn gedefinieerd in een UDR moet specifiek genoeg tootake voorrang via alle routes die worden geadverteerd door Hallo ExpressRoute configuratie.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-316">hello routes defined in a UDR must be specific enough tootake precedence over any routes advertised by hello ExpressRoute configuration.</span></span> <span data-ttu-id="9b3a2-317">Hallo voorgaande voorbeeld gebruikt Hallo brede 0.0.0.0/0-adresbereik.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-317">hello preceding example uses hello broad 0.0.0.0/0 address range.</span></span> <span data-ttu-id="9b3a2-318">Mogelijk kan worden per ongeluk overschreven door de route-advertisements met meer specifieke adresbereiken.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-318">It can potentially be accidentally overridden by route advertisements that use more specific address ranges.</span></span>
>
> <span data-ttu-id="9b3a2-319">ASEs worden niet met ExpressRoute-configuraties die cross routes van Hallo openbare peering pad toohello persoonlijke peering pad adverteert ondersteund.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-319">ASEs aren't supported with ExpressRoute configurations that cross-advertise routes from hello public-peering path toohello private-peering path.</span></span> <span data-ttu-id="9b3a2-320">ExpressRoute-configuraties met openbare peering geconfigureerd ontvangen route-advertisements van Microsoft.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-320">ExpressRoute configurations with public peering configured receive route advertisements from Microsoft.</span></span> <span data-ttu-id="9b3a2-321">Hallo advertenties bevatten een groot aantal Microsoft Azure-IP-adresbereiken.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-321">hello advertisements contain a large set of Microsoft Azure IP address ranges.</span></span> <span data-ttu-id="9b3a2-322">Als de adresbereiken Hallo cross aangekondigd op Hallo persoonlijke peering pad, zijn alle uitgaande pakketten van de as-omgeving Hallo subnet force via een tunnel tooa klant on-premises netwerkinfrastructuur.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-322">If hello address ranges are cross-advertised on hello private-peering path, all outbound network packets from hello ASE's subnet are force tunneled tooa customer's on-premises network infrastructure.</span></span> <span data-ttu-id="9b3a2-323">Deze stroom netwerk wordt momenteel niet ondersteund met ASEs.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-323">This network flow is currently not supported with ASEs.</span></span> <span data-ttu-id="9b3a2-324">Een oplossing toothis probleem is toostop cross-adverteert routes van Hallo openbare peering pad toohello persoonlijke peering pad.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-324">One solution toothis problem is toostop cross-advertising routes from hello public-peering path toohello private-peering path.</span></span>

<span data-ttu-id="9b3a2-325">een UDR toocreate als volgt te werk:</span><span class="sxs-lookup"><span data-stu-id="9b3a2-325">toocreate a UDR, follow these steps:</span></span>

1. <span data-ttu-id="9b3a2-326">Ga toohello Azure-portal.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-326">Go toohello Azure portal.</span></span> <span data-ttu-id="9b3a2-327">Selecteer **Networking** > **routetabellen**.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-327">Select **Networking** > **Route Tables**.</span></span>

2. <span data-ttu-id="9b3a2-328">Maak een nieuwe routetabel in Hallo dezelfde regio bevinden als uw VNet.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-328">Create a new route table in hello same region as your VNet.</span></span>

3. <span data-ttu-id="9b3a2-329">In de routetabel gebruikersinterface, selecteer **Routes** > **toevoegen**.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-329">From within your route table UI, select **Routes** > **Add**.</span></span>

4. <span data-ttu-id="9b3a2-330">Set Hallo **volgende hop type** te**Internet** en Hallo **adresvoorvoegsel** te**0.0.0.0/0**.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-330">Set hello **Next hop type** too**Internet** and hello **Address prefix** too**0.0.0.0/0**.</span></span> <span data-ttu-id="9b3a2-331">Selecteer **Opslaan**.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-331">Select **Save**.</span></span>

    <span data-ttu-id="9b3a2-332">U zien dat lijkt op Hallo volgende:</span><span class="sxs-lookup"><span data-stu-id="9b3a2-332">You then see something like hello following:</span></span>

    ![Functionele routes][6]

5. <span data-ttu-id="9b3a2-334">Nadat u de nieuwe routetabel Hallo hebt gemaakt, gaat u toohello subnet met de as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-334">After you create hello new route table, go toohello subnet that contains your ASE.</span></span> <span data-ttu-id="9b3a2-335">Selecteer de routetabel in Hallo lijst in Hallo-portal.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-335">Select your route table from hello list in hello portal.</span></span> <span data-ttu-id="9b3a2-336">Nadat u Hallo wijziging opslaat, klikt u vervolgens ziet u nsg's Hallo en routes die worden vermeld met uw subnet.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-336">After you save hello change, you should then see hello NSGs and routes noted with your subnet.</span></span>

    ![Nsg's en -routes][7]

### <a name="deploy-into-existing-azure-virtual-networks-that-are-integrated-with-expressroute"></a><span data-ttu-id="9b3a2-338">Implementeren in een bestaande virtuele Azure-netwerken die zijn geïntegreerd met ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="9b3a2-338">Deploy into existing Azure virtual networks that are integrated with ExpressRoute</span></span> ###

<span data-ttu-id="9b3a2-339">toodeploy uw as-omgeving in een VNet dat geïntegreerd met ExpressRoute, vooraf Hallo subnet waar u Hallo as geïmplementeerd-omgeving wilt configureren.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-339">toodeploy your ASE into a VNet that's integrated with ExpressRoute, preconfigure hello subnet where you want hello ASE deployed.</span></span> <span data-ttu-id="9b3a2-340">Gebruik vervolgens een Resource Manager-sjabloon toodeploy deze.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-340">Then use a Resource Manager template toodeploy it.</span></span> <span data-ttu-id="9b3a2-341">toocreate een as-omgeving in een VNet heeft die al ExpressRoute geconfigureerd:</span><span class="sxs-lookup"><span data-stu-id="9b3a2-341">toocreate an ASE in a VNet that already has ExpressRoute configured:</span></span>

- <span data-ttu-id="9b3a2-342">Maak een subnet toohost Hallo as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-342">Create a subnet toohost hello ASE.</span></span>

    > [!NOTE]
    > <span data-ttu-id="9b3a2-343">Niets anders kan niet in subnet Hallo maar Hallo as-omgeving.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-343">Nothing else can be in hello subnet but hello ASE.</span></span> <span data-ttu-id="9b3a2-344">Niet zeker toochoose een adresruimte waarmee voor toekomstige groei.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-344">Be sure toochoose an address space that allows for future growth.</span></span> <span data-ttu-id="9b3a2-345">U kan niet deze instelling later wijzigen.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-345">You can't change this setting later.</span></span> <span data-ttu-id="9b3a2-346">Een grootte van het is raadzaam `/25` met 128 adressen.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-346">We recommend a size of `/25` with 128 addresses.</span></span>

- <span data-ttu-id="9b3a2-347">Maken udr's (bijvoorbeeld routetabellen) zoals eerder beschreven, en die op Hallo subnet.</span><span class="sxs-lookup"><span data-stu-id="9b3a2-347">Create UDRs (for example, route tables) as described earlier, and set that on hello subnet.</span></span>
- <span data-ttu-id="9b3a2-348">Hallo-as-omgeving maken met behulp van een Resource Manager-sjabloon, zoals beschreven in [een as-omgeving maken met behulp van een Resource Manager-sjabloon][MakeASEfromTemplate].</span><span class="sxs-lookup"><span data-stu-id="9b3a2-348">Create hello ASE by using a Resource Manager template as described in [Create an ASE by using a Resource Manager template][MakeASEfromTemplate].</span></span>

<!--Image references-->
[1]: ./media/network_considerations_with_an_app_service_environment/networkase-overflow.png
[2]: ./media/network_considerations_with_an_app_service_environment/networkase-overflow2.png
[3]: ./media/network_considerations_with_an_app_service_environment/networkase-ipaddresses.png
[4]: ./media/network_considerations_with_an_app_service_environment/networkase-inboundnsg.png
[5]: ./media/network_considerations_with_an_app_service_environment/networkase-outboundnsg.png
[6]: ./media/network_considerations_with_an_app_service_environment/networkase-udr.png
[7]: ./media/network_considerations_with_an_app_service_environment/networkase-subnet.png

<!--Links-->
[Intro]: ./intro.md
[MakeExternalASE]: ./create-external-ase.md
[MakeASEfromTemplate]: ./create-from-template.md
[MakeILBASE]: ./create-ilb-ase.md
[ASENetwork]: ./network-info.md
[ASEReadme]: ./readme.md
[UsingASE]: ./using-an-ase.md
[UDRs]: ../../virtual-network/virtual-networks-udr-overview.md
[NSGs]: ../../virtual-network/virtual-networks-nsg.md
[ConfigureASEv1]: ../../app-service-web/app-service-web-configure-an-app-service-environment.md
[ASEv1Intro]: ../../app-service-web/app-service-app-service-environment-intro.md
[webapps]: ../../app-service-web/app-service-web-overview.md
[mobileapps]: ../../app-service-mobile/app-service-mobile-value-prop.md
[APIapps]: ../../app-service-api/app-service-api-apps-why-best-platform.md
[Functions]: ../../azure-functions/index.yml
[Pricing]: http://azure.microsoft.com/pricing/details/app-service/
[ARMOverview]: ../../azure-resource-manager/resource-group-overview.md
[ConfigureSSL]: ../../app-service-web/web-sites-purchase-ssl-web-site.md
[Kudu]: http://azure.microsoft.com/resources/videos/super-secret-kudu-debug-console-for-azure-web-sites/
[AppDeploy]: ../../app-service-web/web-sites-deploy.md
[ASEWAF]: ../../app-service-web/app-service-app-service-environment-web-application-firewall.md
[AppGW]: ../../application-gateway/application-gateway-web-application-firewall-overview.md
[ASEManagement]: ./management-addresses.md
