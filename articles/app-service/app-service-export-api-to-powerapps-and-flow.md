---
title: Een Azure gehoste API exporteren naar PowerApps en Microsoft-stroom | Microsoft Docs
description: Overzicht van het blootstellen van een gehoste API in App Service PowerApps en Microsoft-Flow
services: app-service
documentationcenter: 
author: mattchenderson
manager: erikre
editor: 
ms.assetid: 
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 06/20/2017
ms.author: mahender
ms.openlocfilehash: 0d166a2e5b60c3b9f911f9fc3ad49ad7f252abb4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/11/2017
---
# <a name="exporting-an-azure-hosted-api-to-powerapps-and-microsoft-flow"></a><span data-ttu-id="daa53-103">Een Azure gehoste API exporteren naar PowerApps en Microsoft-stroom</span><span class="sxs-lookup"><span data-stu-id="daa53-103">Exporting an Azure-hosted API to PowerApps and Microsoft Flow</span></span>

## <a name="creating-custom-connectors-for-powerapps-and-microsoft-flow"></a><span data-ttu-id="daa53-104">Maken van aangepaste connectors voor PowerApps en Microsoft-Flow</span><span class="sxs-lookup"><span data-stu-id="daa53-104">Creating custom connectors for PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="daa53-105">[PowerApps](https://powerapps.com) is een service voor het bouwen en met behulp van aangepaste zakelijke apps die verbinding maken met uw gegevens en alle platforms.</span><span class="sxs-lookup"><span data-stu-id="daa53-105">[PowerApps](https://powerapps.com) is a service for building and using custom business apps that connect to your data and work across platforms.</span></span> <span data-ttu-id="daa53-106">[Microsoft-Flow](https://flow.microsoft.com) kunt u gemakkelijk om werkstromen en bedrijfsprocessen tussen uw favoriete apps en services te automatiseren.</span><span class="sxs-lookup"><span data-stu-id="daa53-106">[Microsoft Flow](https://flow.microsoft.com) makes it easy to automate workflows and business processes between your favorite apps and services.</span></span> <span data-ttu-id="daa53-107">Zowel PowerApps als Microsoft Flow worden geleverd met diverse ingebouwde connectors met gegevensbronnen, zoals Office 365, Dynamics 365 en Salesforce.</span><span class="sxs-lookup"><span data-stu-id="daa53-107">Both PowerApps and Microsoft Flow come with a variety of built-in connectors to data sources such as Office 365, Dynamics 365, Salesforce, and more.</span></span> <span data-ttu-id="daa53-108">Gebruikers moeten echter ook kunnen gebruikmaken van gegevensbronnen en API's die zijn gebouwd door hun organisatie.</span><span class="sxs-lookup"><span data-stu-id="daa53-108">However, users also need to be able to leverage data sources and APIs being built by their organization.</span></span>

<span data-ttu-id="daa53-109">Ontwikkelaars die u beschikbaar wilt maken van hun API's grotere schaal binnen de organisatie wilt op dezelfde manier hun API's beschikbaar stellen aan PowerApps en Microsoft-Flow-gebruikers.</span><span class="sxs-lookup"><span data-stu-id="daa53-109">Similarly, developers that want to expose their APIs more broadly within the organization may want to make their APIs available to PowerApps and Microsoft Flow users.</span></span> <span data-ttu-id="daa53-110">In dit onderwerp wordt beschreven hoe u een API die is gebouwd met Azure App Service- of Azure Functions PowerApps en Microsoft-Flow blootstellen.</span><span class="sxs-lookup"><span data-stu-id="daa53-110">This topic will show you how to expose an API built with Azure App Service or Azure Functions to PowerApps and Microsoft Flow.</span></span> <span data-ttu-id="daa53-111">[Azure App Service](https://azure.microsoft.com/services/app-service/) is een platform as a service-oplossing waarmee ontwikkelaars snel en eenvoudig ontwikkelen bedrijfsniveau web, mobiel en API-toepassingen.</span><span class="sxs-lookup"><span data-stu-id="daa53-111">[Azure App Service](https://azure.microsoft.com/services/app-service/) is a platform-as-a-service offering that allows developers to quickly and easily build enterprise-grade web, mobile, and API applications.</span></span> <span data-ttu-id="daa53-112">[Azure Functions](https://azure.microsoft.com/services/functions/) is een op basis van gebeurtenissen zonder server compute-oplossing waarmee u snel auteur-code die op andere onderdelen van uw systeem en schalen op basis van vraag reageren kan.</span><span class="sxs-lookup"><span data-stu-id="daa53-112">[Azure Functions](https://azure.microsoft.com/services/functions/) is an event-based serverless compute solution that allows you to quickly author code that can react to other parts of your system and scale based on demand.</span></span>

<span data-ttu-id="daa53-113">Zie voor meer informatie over deze services:</span><span class="sxs-lookup"><span data-stu-id="daa53-113">To learn more about these services, see:</span></span>
- [<span data-ttu-id="daa53-114">PowerApps begeleide Learning</span><span class="sxs-lookup"><span data-stu-id="daa53-114">PowerApps Guided Learning</span></span>](https://powerapps.microsoft.com/guided-learning/learning-introducing-powerapps/) 
- [<span data-ttu-id="daa53-115">Microsoft-stroom begeleide Learning</span><span class="sxs-lookup"><span data-stu-id="daa53-115">Microsoft Flow Guided Learning</span></span>](https://flow.microsoft.com/guided-learning/learning-introducing-flow/)
- [<span data-ttu-id="daa53-116">Wat is App Service?</span><span class="sxs-lookup"><span data-stu-id="daa53-116">What is App Service?</span></span>](https://docs.microsoft.com/azure/app-service/app-service-value-prop-what-is)
- [<span data-ttu-id="daa53-117">Wat is Azure Functions</span><span class="sxs-lookup"><span data-stu-id="daa53-117">What is Azure Functions</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-overview)

## <a name="sharing-an-api-definition"></a><span data-ttu-id="daa53-118">Delen van een API-definitie</span><span class="sxs-lookup"><span data-stu-id="daa53-118">Sharing an API definition</span></span>

<span data-ttu-id="daa53-119">API's worden vaak beschreven met behulp van een [OpenAPI document](https://www.openapis.org/) (ook wel aangeduid als een document 'Swagger').</span><span class="sxs-lookup"><span data-stu-id="daa53-119">APIs are often described using an [OpenAPI document](https://www.openapis.org/) (sometimes referred to as a "Swagger" document).</span></span> <span data-ttu-id="daa53-120">Dit document bevat alle informatie over welke bewerkingen beschikbaar zijn en hoe de gegevens moeten worden gestructureerd.</span><span class="sxs-lookup"><span data-stu-id="daa53-120">This contains all of the information about what operations are available and how the data should be structured.</span></span> <span data-ttu-id="daa53-121">PowerApps en Microsoft-Flow kunnen aangepaste connectors voor elk OpenAPI 2.0-document maken.</span><span class="sxs-lookup"><span data-stu-id="daa53-121">PowerApps and Microsoft Flow can create custom connectors for any OpenAPI 2.0 document.</span></span> <span data-ttu-id="daa53-122">Zodra een aangepaste connector is gemaakt, kunnen worden gebruikt op dezelfde manier als een van de ingebouwde connectors en snel kunnen worden geïntegreerd in een toepassing.</span><span class="sxs-lookup"><span data-stu-id="daa53-122">Once a custom connector is created, it can be used in exactly the same way as one of the built-in connectors and can quickly be integrated into an application.</span></span>

<span data-ttu-id="daa53-123">Azure App Service en Azure Functions hebben [ingebouwde ondersteuning](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) voor maken en beheren van een document OpenAPI die als host fungeert.</span><span class="sxs-lookup"><span data-stu-id="daa53-123">Azure App Service and Azure Functions have [built-in support](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) for creating, hosting, and managing an OpenAPI document.</span></span> <span data-ttu-id="daa53-124">Een aangepaste connector voor een web, mobiel, API of functie-app maakt, moet PowerApps en stroom om een kopie van de definitie worden gegeven.</span><span class="sxs-lookup"><span data-stu-id="daa53-124">In order to create a custom connector for a web, mobile, API, or function app, PowerApps and Flow need to be given a copy of the definition.</span></span>

> [!NOTE]
> <span data-ttu-id="daa53-125">Omdat een kopie van de API-definitie wordt gebruikt, informatie PowerApps en Microsoft-Flow geen onmiddellijk over updates of grote wijzigingen aan de toepassing.</span><span class="sxs-lookup"><span data-stu-id="daa53-125">Because a copy of the API definition is being used, PowerApps and Microsoft Flow will not immediately know about updates or breaking changes to the application.</span></span> <span data-ttu-id="daa53-126">Als u een nieuwe versie van de API beschikbaar wordt gesteld, moeten deze stappen voor de nieuwe versie worden herhaald.</span><span class="sxs-lookup"><span data-stu-id="daa53-126">If a new version of the API is made available, these steps should be repeated for the new version.</span></span> 

<span data-ttu-id="daa53-127">Om PowerApps en Microsoft-Flow met de gehoste API-definitie voor uw app, de volgende stappen uit:</span><span class="sxs-lookup"><span data-stu-id="daa53-127">To provide PowerApps and Microsoft Flow with the hosted API definition for your app, follow these steps:</span></span>

1. <span data-ttu-id="daa53-128">Open de [Azure Portal](https://portal.azure.com) en navigeer naar uw App Service- of Azure Functions-toepassing.</span><span class="sxs-lookup"><span data-stu-id="daa53-128">Open the [Azure Portal](https://portal.azure.com) and navigate to your App Service or Azure Functions application.</span></span>

    <span data-ttu-id="daa53-129">Als u Azure App Service gebruikt, selecteert u **API-definitie** uit de lijst met instellingen.</span><span class="sxs-lookup"><span data-stu-id="daa53-129">If using Azure App Service, select **API definition** from the settings list.</span></span> 
    
    <span data-ttu-id="daa53-130">Als u Azure Functions, selecteert u de functie-app en kies vervolgens **platformfuncties**, en vervolgens **API-definitie**.</span><span class="sxs-lookup"><span data-stu-id="daa53-130">If using Azure Functions, select your function app, and then choose **Platform features**, and then **API definition**.</span></span> <span data-ttu-id="daa53-131">U kunt er ook voor kiezen om te openen de **API-definitie (preview)** tabblad, in plaats daarvan.</span><span class="sxs-lookup"><span data-stu-id="daa53-131">You could also choose to open the **API definition (preview)** tab instead.</span></span>

2. <span data-ttu-id="daa53-132">Als een API-definitie is opgegeven, ziet u een **exporteren naar PowerApps + Microsoft Flow** knop.</span><span class="sxs-lookup"><span data-stu-id="daa53-132">If an API definition has been provided, you will see an **Export to PowerApps + Microsoft Flow** button.</span></span> <span data-ttu-id="daa53-133">Klik op deze knop om te beginnen met de export.</span><span class="sxs-lookup"><span data-stu-id="daa53-133">Click this button to begin the export process.</span></span>

3. <span data-ttu-id="daa53-134">Selecteer de **exportmodus**.</span><span class="sxs-lookup"><span data-stu-id="daa53-134">Select the **Export mode**.</span></span> <span data-ttu-id="daa53-135">Hiermee bepaalt u de stappen die u moet volgen om u te maken van een connector.</span><span class="sxs-lookup"><span data-stu-id="daa53-135">This determines the steps you will need to follow to create a connector.</span></span> <span data-ttu-id="daa53-136">App Service biedt twee opties voor het leveren van PowerApps en Microsoft-Flow met uw API-definitie:</span><span class="sxs-lookup"><span data-stu-id="daa53-136">App Service offers two options for providing PowerApps and Microsoft Flow with your API definition:</span></span>

    <span data-ttu-id="daa53-137">**Express** kunt u de aangepaste connector uit binnen de Azure portal maken.</span><span class="sxs-lookup"><span data-stu-id="daa53-137">**Express** lets you create the custom connector from within the Azure portal.</span></span> <span data-ttu-id="daa53-138">Vereist dat de huidige aangemelde gebruiker toegangsrechten heeft voor connectors maken in de doelomgeving.</span><span class="sxs-lookup"><span data-stu-id="daa53-138">It requires that the curent logged-in user has permission to create connectors in the target environment.</span></span> <span data-ttu-id="daa53-139">Dit is de aanbevolen aanpak als aan deze eis kan worden voldaan.</span><span class="sxs-lookup"><span data-stu-id="daa53-139">This is the recommended approach if that requirement can be met.</span></span> <span data-ttu-id="daa53-140">Als u deze modus gebruikt, volgt u de [export Express](#express) onderstaande instructies.</span><span class="sxs-lookup"><span data-stu-id="daa53-140">If using this mode, follow the [Express export](#express) instructions below.</span></span>

    <span data-ttu-id="daa53-141">**Handmatige** kunt u een kopie van de API-definitie die kan worden geïmporteerd met behulp van de portals PowerApps of Microsoft Flow exporteren.</span><span class="sxs-lookup"><span data-stu-id="daa53-141">**Manual** lets you export a copy of the API definiton which can be imported using the PowerApps or Microsoft Flow portals.</span></span> <span data-ttu-id="daa53-142">Dit is de aanbevolen aanpak als de Azure-gebruiker en de gebruiker met machtigingen voor het maken van connectors verschillende personen of als de connector moet worden gemaakt in een andere tenant.</span><span class="sxs-lookup"><span data-stu-id="daa53-142">This is the recommended approach if the Azure user and the user with permission to create connectors are different people or if the connector needs to be created in another tenant.</span></span> <span data-ttu-id="daa53-143">Als u deze modus gebruikt, volgt u de [handmatig exporteren en importeren](#manual) onderstaande instructies.</span><span class="sxs-lookup"><span data-stu-id="daa53-143">If using this mode, follow the [Manual export and import](#manual) instructions below.</span></span>

<a name="express"></a>
## <a name="express-export"></a><span data-ttu-id="daa53-144">Snelle exporteren</span><span class="sxs-lookup"><span data-stu-id="daa53-144">Express export</span></span>

<span data-ttu-id="daa53-145">In deze sectie maakt u een nieuwe aangepaste connector uit binnen de Azure-portal.</span><span class="sxs-lookup"><span data-stu-id="daa53-145">In this section, you will create a new custom connector from within the Azure portal.</span></span> <span data-ttu-id="daa53-146">U moet worden aangemeld bij de tenant waarnaar u wilt exporteren en u gemachtigd bent om een aangepaste connector maken in de doelomgeving.</span><span class="sxs-lookup"><span data-stu-id="daa53-146">You must be logged into the tenant to which you wish to export, and you must have permission to create a custom connector in the target environment.</span></span>

1. <span data-ttu-id="daa53-147">Selecteer de omgeving waarin u wilt maken van de connector.</span><span class="sxs-lookup"><span data-stu-id="daa53-147">Select the environment in which you would like to create the connector.</span></span> <span data-ttu-id="daa53-148">Geef een naam op voor uw aangepaste connector.</span><span class="sxs-lookup"><span data-stu-id="daa53-148">Then provide a name for your custom connector.</span></span>

2. <span data-ttu-id="daa53-149">Als uw API-definitie definities beveiliging bevat, wordt deze in stap &#2; genoemd.</span><span class="sxs-lookup"><span data-stu-id="daa53-149">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="daa53-150">Als vereist, geeft u de configuratiegegevens van de beveiliging die nodig zijn voor gebruikers toegang verlenen tot uw API.</span><span class="sxs-lookup"><span data-stu-id="daa53-150">If required, provide the security configuration details needed to grant users access to your API.</span></span> <span data-ttu-id="daa53-151">Zie voor meer informatie [verificatie](#auth) hieronder.</span><span class="sxs-lookup"><span data-stu-id="daa53-151">For more information, see [Authentication](#auth) below.</span></span> 

3. <span data-ttu-id="daa53-152">Klik op **OK** om uw aangepaste connector te maken.</span><span class="sxs-lookup"><span data-stu-id="daa53-152">Click **OK** to create your custom connector.</span></span>


<a name="manual"></a>
## <a name="manual-export-and-import"></a><span data-ttu-id="daa53-153">Handmatige exporteren en importeren</span><span class="sxs-lookup"><span data-stu-id="daa53-153">Manual export and import</span></span>

<span data-ttu-id="daa53-154">Om een aangepaste connector voor een web, mobiel, API of functie-app maakt, worden twee stappen vereist:</span><span class="sxs-lookup"><span data-stu-id="daa53-154">In order to create a custom connector for a web, mobile, API, or function app, two steps will be needed:</span></span>

1. [<span data-ttu-id="daa53-155">Bij het ophalen van de API-definitie van App Service- of Azure Functions</span><span class="sxs-lookup"><span data-stu-id="daa53-155">Retrieving the API definition from App Service or Azure Functions</span></span>](#export)
2. [<span data-ttu-id="daa53-156">Importeren van de API-definitie in PowerApps en Microsoft-Flow</span><span class="sxs-lookup"><span data-stu-id="daa53-156">Importing the API definition into PowerApps and Microsoft Flow</span></span>](#import)

<span data-ttu-id="daa53-157">Het is mogelijk dat deze twee stappen worden uitgevoerd door afzonderlijke personen binnen een organisatie, moeten zoals een opgegeven gebruiker geen machtiging voor beide acties uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="daa53-157">It is possible that these two steps will need to be carried out by separate individuals within an organization, as a given user may not have permission to perform both actions.</span></span> <span data-ttu-id="daa53-158">In dit geval moet een ontwikkelaar die Inzender toegang tot de App Service- of Azure Functions-toepassing heeft de API-definitie (een enkele JSON-bestand) of een koppeling naar deze verkrijgen.</span><span class="sxs-lookup"><span data-stu-id="daa53-158">In this case, a developer who has contributor access to the App Service or Azure Functions application will need to obtain the API definition (a single JSON file) or a link to it.</span></span> <span data-ttu-id="daa53-159">Vervolgens moet ze die definitie voor de eigenaar van een PowerApps of Microsoft Flow opgeven.</span><span class="sxs-lookup"><span data-stu-id="daa53-159">They will then need to provide that definition to a PowerApps or Microsoft Flow owner.</span></span> <span data-ttu-id="daa53-160">Die eigenaar kunt de metagegevens voor het maken van de aangepaste connector gebruiken.</span><span class="sxs-lookup"><span data-stu-id="daa53-160">That owner can use the metadata to create the custom connector.</span></span>

<a name="export"></a>
### <a name="retrieving-the-api-definition-from-app-service-or-azure-functions"></a><span data-ttu-id="daa53-161">Bij het ophalen van de API-definitie van App Service- of Azure Functions</span><span class="sxs-lookup"><span data-stu-id="daa53-161">Retrieving the API definition from App Service or Azure Functions</span></span>

<span data-ttu-id="daa53-162">In deze sectie exporteert u de API-definitie voor uw App Service API later in de portal PowerApps of Microsoft Flow moet worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="daa53-162">In this section, you will export the API definition for your App Service API, to be used later in the PowerApps or Microsoft Flow portal.</span></span>

1. <span data-ttu-id="daa53-163">U kunt een **downloaden van de API-definitie** of **een koppeling**.</span><span class="sxs-lookup"><span data-stu-id="daa53-163">You can choose to either **Download the API definition** or **Get a link**.</span></span> <span data-ttu-id="daa53-164">Afhankelijk van wat u kiest, het resultaat in de volgende sectie worden verstrekt.</span><span class="sxs-lookup"><span data-stu-id="daa53-164">Whichever you choose, the result will be provided in the next section.</span></span> <span data-ttu-id="daa53-165">Selecteer een van deze opties en volg de instructies.</span><span class="sxs-lookup"><span data-stu-id="daa53-165">Select one of these options and follow the instructions.</span></span>
 
2. <span data-ttu-id="daa53-166">Als uw API-definitie definities beveiliging bevat, wordt deze in stap &#2; genoemd.</span><span class="sxs-lookup"><span data-stu-id="daa53-166">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="daa53-167">Tijdens het importeren, PowerApps en Microsoft Flow detecteert deze en voor informatie over beveiliging, wordt gevraagd.</span><span class="sxs-lookup"><span data-stu-id="daa53-167">During import, PowerApps and Microsoft Flow will detect these and will prompt for security information.</span></span> <span data-ttu-id="daa53-168">Verzamel de referenties die zijn gerelateerd aan elke definitie voor gebruik in de volgende sectie.</span><span class="sxs-lookup"><span data-stu-id="daa53-168">Gather the credentials related to each definition for use in the next section.</span></span> <span data-ttu-id="daa53-169">Zie voor meer informatie [verificatie](#auth) hieronder.</span><span class="sxs-lookup"><span data-stu-id="daa53-169">For more information, see [Authentication](#auth) below.</span></span> 

<a name="import"></a>
### <a name="importing-the-api-definition-into-powerapps-and-microsoft-flow"></a><span data-ttu-id="daa53-170">Importeren van de API-definitie in PowerApps en Microsoft-Flow</span><span class="sxs-lookup"><span data-stu-id="daa53-170">Importing the API definition into PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="daa53-171">In deze sectie maakt u een aangepaste connector in PowerApps en Microsoft-Flow met behulp van de API-definitie eerder hebt verkregen.</span><span class="sxs-lookup"><span data-stu-id="daa53-171">In this section, you will create a custom connector in PowerApps and Microsoft Flow using the API definition obtained earlier.</span></span> <span data-ttu-id="daa53-172">Aangepaste connectors worden gedeeld tussen de twee services, dus u moet slechts één keer in de definitie voor het importeren.</span><span class="sxs-lookup"><span data-stu-id="daa53-172">Custom connectors are shared between the two services, so you only need to import the definition once.</span></span> <span data-ttu-id="daa53-173">Zie voor meer informatie over aangepaste connectors [registreren en gebruiken van aangepaste connectors in PowerApps] en [registreren en gebruiken van aangepaste connectors in Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="daa53-173">For more information on custom connectors, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

1. <span data-ttu-id="daa53-174">Open de [Powerapps webportal](https://web.powerapps.com) of de [Microsoft Flow webportal](https://flow.microsoft.com/), en meld u aan.</span><span class="sxs-lookup"><span data-stu-id="daa53-174">Open the [Powerapps web portal](https://web.powerapps.com) or the [Microsoft Flow web portal](https://flow.microsoft.com/), and sign in.</span></span> 

2. <span data-ttu-id="daa53-175">Klik op de **instellingen** (het pictogram tandwielpictogram) op de rechterbovenhoek van de pagina en selecteer knop **aangepaste connectors**.</span><span class="sxs-lookup"><span data-stu-id="daa53-175">Click the **Settings** button (the gear icon) at the upper right of the page and select **Custom connectors**.</span></span> 

3. <span data-ttu-id="daa53-176">Klik op **maken van aangepaste connector**.</span><span class="sxs-lookup"><span data-stu-id="daa53-176">Click **Create custom connector**.</span></span>

4. <span data-ttu-id="daa53-177">Op de **algemene** tabblad, Geef een naam voor uw API en vervolgens de definitie OpenAPI uploaden of plak in de metagegevens-URL.</span><span class="sxs-lookup"><span data-stu-id="daa53-177">On the **General** tab, provide a name for your API, and then upload the OpenAPI definition or paste in the metadata URL.</span></span> <span data-ttu-id="daa53-178">Klik op **gaan**.</span><span class="sxs-lookup"><span data-stu-id="daa53-178">Click **Continue**.</span></span>

4. <span data-ttu-id="daa53-179">Op de **beveiliging** tabblad als u wordt gevraagd om te voorzien van verificatiegegevens, voer de waarden in de vorige sectie hebt verkregen.</span><span class="sxs-lookup"><span data-stu-id="daa53-179">On the **Security** tab, if you are prompted to provide authentication details, enter the values obtained in the previous section.</span></span> <span data-ttu-id="daa53-180">Als dat niet het geval is, gaat u verder met de volgende stap.</span><span class="sxs-lookup"><span data-stu-id="daa53-180">If not, proceed to the next step.</span></span>

5. <span data-ttu-id="daa53-181">Op de **definities** tabblad alle bewerkingen die zijn gedefinieerd in uw bestand OpenAPI worden automatisch ingevuld.</span><span class="sxs-lookup"><span data-stu-id="daa53-181">On the **Definitions** tab, all the operations defined in your OpenAPI file are auto-populated.</span></span> <span data-ttu-id="daa53-182">Als alle vereiste bewerkingen zijn gedefinieerd, kunt u gaan met de volgende stap.</span><span class="sxs-lookup"><span data-stu-id="daa53-182">If all your required operations are defined, you can go to the next step.</span></span> <span data-ttu-id="daa53-183">Zo niet, u kunt toevoegen en bewerkingen hier wijzigen.</span><span class="sxs-lookup"><span data-stu-id="daa53-183">If not, you can add and modify operations here.</span></span>

6. <span data-ttu-id="daa53-184">Klik op **-connector maken**.</span><span class="sxs-lookup"><span data-stu-id="daa53-184">Click **Create connector**.</span></span> <span data-ttu-id="daa53-185">Als u testen API-aanroepen wilt, gaat u naar de volgende stap.</span><span class="sxs-lookup"><span data-stu-id="daa53-185">If you want to test API calls, go to the next step.</span></span>

7. <span data-ttu-id="daa53-186">Op de **testen** tabblad, geen verbinding maken, selecteer een bewerking voor het testen en voer alle gegevens die nodig is voor de bewerking.</span><span class="sxs-lookup"><span data-stu-id="daa53-186">On the **Test** tab, create a connection, select an operation to test, and enter any data required by the operation.</span></span>

8. <span data-ttu-id="daa53-187">Klik op **testen bewerking**.</span><span class="sxs-lookup"><span data-stu-id="daa53-187">Click **Test operation**.</span></span>


<a name="auth"></a>
## <a name="authentication"></a><span data-ttu-id="daa53-188">Authentication</span><span class="sxs-lookup"><span data-stu-id="daa53-188">Authentication</span></span>

<span data-ttu-id="daa53-189">PowerApps en Microsoft-Flow ondersteuning systeemeigen voor een verzameling van id-providers die kunnen worden gebruikt om aan te melden gebruikers van uw aangepaste connector.</span><span class="sxs-lookup"><span data-stu-id="daa53-189">PowerApps and Microsoft Flow natively support a collection of identity providers which can be used to log in users of your custom connector.</span></span> <span data-ttu-id="daa53-190">Als uw API is verificatie vereist, zorg ervoor dat deze wordt vastgelegd als een _beveiliging definitie_ in uw document OpenAPI.</span><span class="sxs-lookup"><span data-stu-id="daa53-190">If your API requires authentication, ensure that it is captured as a _security definition_ in your OpenAPI document.</span></span> <span data-ttu-id="daa53-191">Tijdens het exporteren moet u bieden configuratiewaarden waarmee PowerApps een Microsoft-Flow aanmelding acties uit te voeren.</span><span class="sxs-lookup"><span data-stu-id="daa53-191">During export, you will need to provide configuration values that allow PowerApps an Microsoft Flow to perform login actions.</span></span>

<span data-ttu-id="daa53-192">Deze sectie bevat informatie over de verificatietypen die worden ondersteund door de express-stroom: API-sleutel, Azure Active Directory en algemene OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="daa53-192">This section covers the authentication types which are supported by the express flow: API key, Azure Active Directory, and Generic OAuth 2.0.</span></span> <span data-ttu-id="daa53-193">Zie voor een volledige lijst met providers en de referenties voor elk is vereist, [registreren en gebruiken van aangepaste connectors in PowerApps] en [registreren en gebruiken van aangepaste connectors in Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="daa53-193">For a complete list of providers and the credentials each requires, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

### <a name="api-key"></a><span data-ttu-id="daa53-194">API-sleutel</span><span class="sxs-lookup"><span data-stu-id="daa53-194">API key</span></span>
<span data-ttu-id="daa53-195">Wanneer dit beveiligingsschema wordt gebruikt, worden de gebruikers van de connector wordt gevraagd naar de sleutel opgeven wanneer ze een verbinding maakt.</span><span class="sxs-lookup"><span data-stu-id="daa53-195">When this security scheme is used, the users of your connector will be prompted to provide the key when they create a connection.</span></span> <span data-ttu-id="daa53-196">U kunt de naam om te weten welke sleutel is vereist in een API-sleutel opgeven.</span><span class="sxs-lookup"><span data-stu-id="daa53-196">You can provide an API key name to help them know which key is needed.</span></span> <span data-ttu-id="daa53-197">Voor Azure Functions wordt dit doorgaans een van de sleutels van de host die betrekking hebben op de verschillende functies in de functie-app.</span><span class="sxs-lookup"><span data-stu-id="daa53-197">For Azure Functions, this will typically be one of the host keys, covering several functions within the function app.</span></span>

### <a name="azure-active-directory"></a><span data-ttu-id="daa53-198">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="daa53-198">Azure Active Directory</span></span>
<span data-ttu-id="daa53-199">Bij het configureren van een aangepaste connector die AAD aanmelding vereist twee AAD-toepassing registraties zijn vereist: één voor het modelleren van de back-end API en één als model voor de connector in PowerApps en stroom.</span><span class="sxs-lookup"><span data-stu-id="daa53-199">When configuring a custom connector that requires AAD login, two AAD application registrations are required: one to model the backend API, and one to model the connector in PowerApps and Flow.</span></span>

<span data-ttu-id="daa53-200">Uw API moet worden geconfigureerd om te werken met de eerste registratie en dit wordt al worden afgehandeld als u gebruikt de [App Service-verificatie/autorisatie](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) functie.</span><span class="sxs-lookup"><span data-stu-id="daa53-200">Your API should be configured to work with the first registration, and this will already be taken care of if you used the [App Service Authentication/Authorization](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) feature.</span></span>

<span data-ttu-id="daa53-201">U moet handmatig de registratie van de tweede voor de connector te maken met de stappen behandeld in [een AAD-toepassing toe te voegen](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span><span class="sxs-lookup"><span data-stu-id="daa53-201">You will have to manually create the second registration for the connector, using the steps covered in [Adding an AAD application](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span></span> <span data-ttu-id="daa53-202">De registratie moet hebben toegang tot uw API en antwoord-URL van de gedelegeerde `https://msmanaged-na.consent.azure-apim.net/redirect`.</span><span class="sxs-lookup"><span data-stu-id="daa53-202">The registration needs to have delegated access to your API and a reply URL of `https://msmanaged-na.consent.azure-apim.net/redirect`.</span></span> <span data-ttu-id="daa53-203">Zie [in dit voorbeeld](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) vervangen voor meer details over uw API voor de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="daa53-203">Please see [this example](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) for more detail, substituting your API for the Azure Resource Manager.</span></span>

<span data-ttu-id="daa53-204">De volgende configuratiewaarden zijn vereist:</span><span class="sxs-lookup"><span data-stu-id="daa53-204">The following configuration values are required:</span></span>
- <span data-ttu-id="daa53-205">**Client-ID** -de client-ID van de registratie van de AAD-connector</span><span class="sxs-lookup"><span data-stu-id="daa53-205">**Client ID** - the client ID of your connector AAD registration</span></span>
- <span data-ttu-id="daa53-206">**Clientgeheim** -het clientgeheim van de registratie van de AAD-connector</span><span class="sxs-lookup"><span data-stu-id="daa53-206">**Client secret** - the client secret of your connector AAD registration</span></span>
- <span data-ttu-id="daa53-207">**Aanmeldings-URL** -de basis-URL voor AAD.</span><span class="sxs-lookup"><span data-stu-id="daa53-207">**Login URL** - the base URL for AAD.</span></span> <span data-ttu-id="daa53-208">In de openbare Azure, dit wordt doorgaans `https://login.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="daa53-208">In public Azure, this will typically be `https://login.windows.net`.</span></span>
- <span data-ttu-id="daa53-209">**Tenant-ID** -de ID van de tenant moet worden gebruikt voor de aanmelding.</span><span class="sxs-lookup"><span data-stu-id="daa53-209">**Tenant ID** - the ID of the tenant to be used for the login.</span></span> <span data-ttu-id="daa53-210">Dit moet 'algemene' of de ID van de tenant waarin de connector wordt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="daa53-210">This should be "common" or the ID of the tenant in which the connector is being created.</span></span>
- <span data-ttu-id="daa53-211">**Bron-URL** -de bron-URL van uw API-back-end AAD-registratie</span><span class="sxs-lookup"><span data-stu-id="daa53-211">**Resource URL** - the resource URL of your API backend AAD registration</span></span>

> [!IMPORTANT]
> <span data-ttu-id="daa53-212">Als een andere persoon de API-definitie in PowerApps en Microsoft-Flow als onderdeel van de handmatige stroom importeren wilt, moet u hen voorzien van de client-ID en clientgeheim **van de registratie van de connector**, evenals de bron-URL van uw API.</span><span class="sxs-lookup"><span data-stu-id="daa53-212">If another individual will be importing the API definition into PowerApps and Microsoft Flow as part of the manual flow, you will need to provide them with the client ID and client secret **of the connector registration**, as well as the resource URL of your API.</span></span> <span data-ttu-id="daa53-213">Zorg ervoor dat deze geheime gegevens veilig worden beheerd.</span><span class="sxs-lookup"><span data-stu-id="daa53-213">Make sure that these secrets are managed securely.</span></span> <span data-ttu-id="daa53-214">**De beveiligingsreferenties van de API zelf niet delen.**</span><span class="sxs-lookup"><span data-stu-id="daa53-214">**Do not share the security credentials of the API itself.**</span></span>

### <a name="generic-oauth-20"></a><span data-ttu-id="daa53-215">Algemene OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="daa53-215">Generic OAuth 2.0</span></span>
<span data-ttu-id="daa53-216">De algemene OAuth 2.0-ondersteuning kunt u integreren met elke OAuth 2.0-provider.</span><span class="sxs-lookup"><span data-stu-id="daa53-216">The generic OAuth 2.0 support allows you to integrate with any OAuth 2.0 provider.</span></span> <span data-ttu-id="daa53-217">Hiermee kunt u op te zetten in een aangepaste provider die niet systeemeigen worden ondersteund.</span><span class="sxs-lookup"><span data-stu-id="daa53-217">This allows you to bring in any custom provider which is not natively supported.</span></span>

<span data-ttu-id="daa53-218">De volgende configuratiewaarden zijn vereist:</span><span class="sxs-lookup"><span data-stu-id="daa53-218">The following configuration values are required:</span></span>
- <span data-ttu-id="daa53-219">**Client-ID** -de OAuth 2.0-client-ID</span><span class="sxs-lookup"><span data-stu-id="daa53-219">**Client ID** - the OAuth 2.0 client ID</span></span>
- <span data-ttu-id="daa53-220">**Clientgeheim** -het clientgeheim OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="daa53-220">**Client secret** - the OAuth 2.0 client secret</span></span>
- <span data-ttu-id="daa53-221">**Autorisatie-URL** -OAuth 2.0-autorisatie-URL</span><span class="sxs-lookup"><span data-stu-id="daa53-221">**Authorization URL** - the OAuth 2.0 authorization URL</span></span>
- <span data-ttu-id="daa53-222">**URL token** -de URL van OAuth 2.0-token</span><span class="sxs-lookup"><span data-stu-id="daa53-222">**Token URL** - the OAuth 2.0 token URL</span></span>
- <span data-ttu-id="daa53-223">**Vernieuwen van de URL** -URL van de OAuth 2.0-vernieuwen</span><span class="sxs-lookup"><span data-stu-id="daa53-223">**Refresh URL** - the OAuth 2.0 refresh URL</span></span>



<span data-ttu-id="daa53-224">[registreren en gebruiken van aangepaste connectors in PowerApps]: https://powerapps.microsoft.com/tutorials/register-custom-api/</span><span class="sxs-lookup"><span data-stu-id="daa53-224">[Register and use custom connectors in PowerApps]: https://powerapps.microsoft.com/tutorials/register-custom-api/</span></span>
<span data-ttu-id="daa53-225">[registreren en gebruiken van aangepaste connectors in Microsoft Flow]: https://flow.microsoft.com/documentation/register-custom-api/</span><span class="sxs-lookup"><span data-stu-id="daa53-225">[Register and use custom connectors in Microsoft Flow]: https://flow.microsoft.com/documentation/register-custom-api/</span></span>
