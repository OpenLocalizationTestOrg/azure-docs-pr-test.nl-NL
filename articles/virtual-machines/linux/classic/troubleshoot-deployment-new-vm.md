---
title: Linux-VM-implementatie klassieke aaaTroubleshoot | Microsoft Docs
description: Klassieke implementatieproblemen bij het maken van een nieuwe virtuele Linux-machine in Azure oplossen
services: virtual-machines-linux
documentationcenter: 
author: JiangChen79
manager: felixwu
editor: 
tags: top-support-issue
ms.assetid: c8a963fa-6b2a-4c7a-a1f4-7793adb02b19
ms.service: virtual-machines-linux
ms.workload: na
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: cjiang
ms.openlocfilehash: a642bfd9a543cd6d2104b03fe04193d9352ccae1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshoot-classic-deployment-issues-with-creating-a-new-linux-virtual-machine-in-azure"></a><span data-ttu-id="6e7a3-103">Klassieke implementatieproblemen met het maken van een nieuwe virtuele Linux-machine in Azure oplossen</span><span class="sxs-lookup"><span data-stu-id="6e7a3-103">Troubleshoot classic deployment issues with creating a new Linux virtual machine in Azure</span></span>
[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-selectors](../../../../includes/virtual-machines-linux-troubleshoot-deployment-new-vm-selectors-include.md)]

[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-opening](../../../../includes/virtual-machines-troubleshoot-deployment-new-vm-opening-include.md)]

> [!IMPORTANT] 
> <span data-ttu-id="6e7a3-104">Azure heeft twee verschillende implementatiemodellen voor het maken en werken met resources: [Resource Manager en Classic](../../../resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="6e7a3-104">Azure has two different deployment models for creating and working with resources: [Resource Manager and Classic](../../../resource-manager-deployment-model.md).</span></span> <span data-ttu-id="6e7a3-105">In dit artikel bevat informatie over met behulp van Hallo klassieke implementatiemodel.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-105">This article covers using hello Classic deployment model.</span></span> <span data-ttu-id="6e7a3-106">Microsoft raadt aan dat de meeste nieuwe implementaties het Resource Manager-model hello gebruiken.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-106">Microsoft recommends that most new deployments use hello Resource Manager model.</span></span> <span data-ttu-id="6e7a3-107">Zie voor Hallo Resource Manager-versie van dit artikel [hier](../troubleshoot-deployment-new-vm.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="6e7a3-107">For hello Resource Manager version of this article, see [here](../troubleshoot-deployment-new-vm.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

[!INCLUDE [support-disclaimer](../../../../includes/support-disclaimer.md)]

## <a name="collect-audit-logs"></a><span data-ttu-id="6e7a3-108">De auditlogboeken verzamelen</span><span class="sxs-lookup"><span data-stu-id="6e7a3-108">Collect audit logs</span></span>
<span data-ttu-id="6e7a3-109">het oplossen van problemen toostart verzamelen Hallo audit registreert tooidentify Hallo fout Hallo probleem gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-109">toostart troubleshooting, collect hello audit logs tooidentify hello error associated with hello issue.</span></span>

<span data-ttu-id="6e7a3-110">Klik in hello Azure-portal, op **Bladeren** > **virtuele machines** > *uw Windows-machine*  >   **Instellingen** > **controlelogboeken**.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-110">In hello Azure portal, click **Browse** > **Virtual machines** > *your Windows virtual machine* > **Settings** > **Audit logs**.</span></span>

[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-issue1](../../../../includes/virtual-machines-troubleshoot-deployment-new-vm-issue1-include.md)]

[!INCLUDE [virtual-machines-linux-troubleshoot-deployment-new-vm-table](../../../../includes/virtual-machines-linux-troubleshoot-deployment-new-vm-table.md)]

<span data-ttu-id="6e7a3-111">**Y:** als Hallo OS Linux gegeneraliseerd, en deze wordt geüpload en/of vastgelegd Hello gegeneraliseerd instellen, wordt niet eventuele fouten.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-111">**Y:** If hello OS is Linux generalized, and it is uploaded and/or captured with hello generalized setting, then there won’t be any errors.</span></span> <span data-ttu-id="6e7a3-112">Op dezelfde manier als Hallo OS Linux speciaal bedoeld is, en deze wordt geüpload en/of vastgelegd met gespecialiseerde Hallo instelling, en eventuele fouten niet.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-112">Similarly, if hello OS is Linux specialized, and it is uploaded and/or captured with hello specialized setting, then there won’t be any errors.</span></span>

<span data-ttu-id="6e7a3-113">**Fouten uploaden:**</span><span class="sxs-lookup"><span data-stu-id="6e7a3-113">**Upload Errors:**</span></span>

<span data-ttu-id="6e7a3-114">**N<sup>1</sup>:** als Hallo OS Linux gegeneraliseerd en is geüpload als gespecialiseerde, ontvangt u een inrichting time-outfout omdat Hallo VM is vastgelopen bij Hallo fase inrichten.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-114">**N<sup>1</sup>:** If hello OS is Linux generalized, and it is uploaded as specialized, you will get a provisioning timeout error because hello VM is stuck at hello provisioning stage.</span></span>

<span data-ttu-id="6e7a3-115">**N<sup>2</sup>:** als Hallo OS is Linux gespecialiseerde en als gegeneraliseerd is geüpload, krijgt u een inrichting is mislukt omdat hello nieuwe virtuele machine wordt uitgevoerd met de oorspronkelijke computernaam hello, gebruikersnaam en wachtwoord.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-115">**N<sup>2</sup>:** If hello OS is Linux specialized, and it is uploaded as generalized, you will get a provisioning failure error because hello new VM is running with hello original computer name, username and password.</span></span>

<span data-ttu-id="6e7a3-116">**Oplossing:**</span><span class="sxs-lookup"><span data-stu-id="6e7a3-116">**Resolution:**</span></span>

<span data-ttu-id="6e7a3-117">tooresolve beide deze fouten uploaden Hallo oorspronkelijke VHD, beschikbare on-premises, Hallo met dezelfde instelling als die voor Hallo OS (gegeneraliseerd/specifieke).</span><span class="sxs-lookup"><span data-stu-id="6e7a3-117">tooresolve both these errors, upload hello original VHD, available on-prem, with hello same setting as that for hello OS (generalized/specialized).</span></span> <span data-ttu-id="6e7a3-118">tooupload zoals gegeneraliseerd, houd er rekening mee toorun-inrichting eerst ervan ongedaan maakt.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-118">tooupload as generalized, remember toorun -deprovision first.</span></span> <span data-ttu-id="6e7a3-119">Zie [maken en uploaden van een virtuele harde schijf die bevat Hallo Linux-besturingssysteem](create-upload-vhd.md) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-119">See [Create and Upload a Virtual Hard Disk that Contains hello Linux Operating System](create-upload-vhd.md) for more information.</span></span>

<span data-ttu-id="6e7a3-120">**Vastleggen fouten:**</span><span class="sxs-lookup"><span data-stu-id="6e7a3-120">**Capture Errors:**</span></span>

<span data-ttu-id="6e7a3-121">**N<sup>3</sup>:** als Hallo OS Linux gegeneraliseerd en deze wordt vastgelegd als gespecialiseerde, ontvangt u een inrichting time-outfout omdat Hallo oorspronkelijke VM kan niet worden gebruikt als deze is gemarkeerd als gegeneraliseerd.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-121">**N<sup>3</sup>:** If hello OS is Linux generalized, and it is captured as specialized, you will get a provisioning timeout error because hello original VM is not usable as it is marked as generalized.</span></span>

<span data-ttu-id="6e7a3-122">**N<sup>4</sup>:** als Hallo OS is Linux gespecialiseerde en deze is vastgelegd, zoals gegeneraliseerd, krijgt u een inrichting is mislukt omdat hello nieuwe virtuele machine wordt uitgevoerd met de oorspronkelijke computernaam hello, gebruikersnaam en wachtwoord.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-122">**N<sup>4</sup>:** If hello OS is Linux specialized, and it is captured as generalized, you will get a provisioning failure error because hello new VM is running with hello original computer name, username and password.</span></span> <span data-ttu-id="6e7a3-123">Bovendien Hallo oorspronkelijke VM kan niet worden gebruikt omdat deze is gemarkeerd als gespecialiseerde.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-123">Also, hello original VM is not usable because it is marked as specialized.</span></span>

<span data-ttu-id="6e7a3-124">**Oplossing:**</span><span class="sxs-lookup"><span data-stu-id="6e7a3-124">**Resolution:**</span></span>

<span data-ttu-id="6e7a3-125">tooresolve beide deze fouten Hallo huidige installatiekopie verwijderen vanuit de portal Hallo en [opnieuw vastleggen van Hallo huidige VHD's](capture-image.md) Hallo met dezelfde instelling als die voor Hallo OS (gegeneraliseerd/specifieke).</span><span class="sxs-lookup"><span data-stu-id="6e7a3-125">tooresolve both these errors, delete hello current image from hello portal, and [recapture it from hello current VHDs](capture-image.md) with hello same setting as that for hello OS (generalized/specialized).</span></span>

## <a name="issue-custom-gallery-marketplace-image-allocation-failure"></a><span data-ttu-id="6e7a3-126">Probleem: Aangepaste / galerie / marketplace-installatiekopie; Toewijzingsfout</span><span class="sxs-lookup"><span data-stu-id="6e7a3-126">Issue: Custom/ gallery/ marketplace image; allocation failure</span></span>
<span data-ttu-id="6e7a3-127">Deze fout in situaties zich voordoet wanneer de nieuwe VM-aanvraag Hallo tooa-cluster dat ofwel geen beschikbare vrije ruimte tooaccommodate Hallo aanvraag heeft wordt verzonden of Hallo aangevraagde VM-grootte kan niet worden ondersteund.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-127">This error arises in situations when hello new VM request is sent tooa cluster that either does not have available free space tooaccommodate hello request, or cannot support hello VM size being requested.</span></span> <span data-ttu-id="6e7a3-128">Het is niet mogelijk toomix andere reeks van virtuele machines in Hallo dezelfde cloudservice.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-128">It is not possible toomix different series of VMs in hello same cloud service.</span></span> <span data-ttu-id="6e7a3-129">Dus als u wilt dat toocreate een nieuwe virtuele machine van een ander formaat dan wat uw cloudservice kan ondersteunen, mislukt Hallo compute aanvraag.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-129">So if you want toocreate a new VM of a different size than what your cloud service can support, hello compute request will fail.</span></span>

<span data-ttu-id="6e7a3-130">Afhankelijk van de beperkingen van de cloudservice Hallo Hallo u toocreate Hallo van nieuwe virtuele machine, een fout is veroorzaakt door een van twee situaties kunnen optreden.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-130">Depending on hello constraints of hello cloud service you use toocreate hello new VM, you might encounter an error caused by one of two situations.</span></span>

<span data-ttu-id="6e7a3-131">**1 oorzaak:** Hallo-cloudservice is vastgemaakt tooa specifieke cluster of gekoppelde tooan affiniteitsgroep en daarom vastgemaakt tooa specifieke cluster standaard is.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-131">**Cause 1:** hello cloud service is pinned tooa specific cluster, or it is linked tooan affinity group, and hence pinned tooa specific cluster by design.</span></span> <span data-ttu-id="6e7a3-132">Zodat nieuwe compute resource in die groep affiniteit aanvragen worden geprobeerd in Hallo dezelfde cluster waar Hallo bestaande bronnen worden gehost.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-132">So new compute resource requests in that affinity group are tried in hello same cluster where hello existing resources are hosted.</span></span> <span data-ttu-id="6e7a3-133">Echter hello hetzelfde cluster mogelijk geen ondersteuning Hallo aangevraagd VM-grootte of hebt u onvoldoende beschikbare ruimte, wat resulteert in een toewijzingsfout.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-133">However, hello same cluster may either not support hello requested VM size or have insufficient available space, resulting in an allocation error.</span></span> <span data-ttu-id="6e7a3-134">Dit geldt of Hallo nieuwe resources zijn gemaakt via een nieuwe cloudservice of een bestaande cloudservice.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-134">This is true whether hello new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="6e7a3-135">**Oplossing 1:**</span><span class="sxs-lookup"><span data-stu-id="6e7a3-135">**Resolution 1:**</span></span>

* <span data-ttu-id="6e7a3-136">Een nieuwe cloudservice maken en deze koppelen aan een regio of een regio op basis van een virtueel netwerk.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-136">Create a new cloud service and associate it with either a region or a region-based virtual network.</span></span>
* <span data-ttu-id="6e7a3-137">Maak een nieuwe virtuele machine in Hallo nieuwe cloudservice.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-137">Create a new VM in hello new cloud service.</span></span>
  <span data-ttu-id="6e7a3-138">Als u een fout opgetreden krijgt bij een poging een nieuwe cloudservice toocreate, probeer op een later tijdstip of regio voor de cloudservice Hallo Hallo wijzigen.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-138">If you get an error when trying toocreate a new cloud service, either retry at a later time or change hello region for hello cloud service.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="6e7a3-139">Als u een nieuwe virtuele machine in een bestaande cloudservice toocreate probeert maar kan niet en toocreate een nieuwe cloudservice voor uw nieuwe virtuele machine was, kunt u tooconsolidate alle virtuele machines in Hallo dezelfde cloudservice.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-139">If you were trying toocreate a new VM in an existing cloud service but couldn’t, and had toocreate a new cloud service for your new VM, you can choose tooconsolidate all your VMs in hello same cloud service.</span></span> <span data-ttu-id="6e7a3-140">toodo dus Hallo virtuele machines in de bestaande cloudservice Hallo verwijderen en opnieuw ze van hun schijven in de nieuwe cloudservice Hallo vastleggen.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-140">toodo so, delete hello VMs in hello existing cloud service, and recapture them from their disks in hello new cloud service.</span></span> <span data-ttu-id="6e7a3-141">Het is echter belangrijk tooremember dat nieuwe cloudservice Hallo heeft een nieuwe naam en het VIP, dus u tooupdate moet deze voor alle Hallo afhankelijkheden die momenteel gebruikmaken van deze informatie voor een bestaande cloudservice Hallo.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-141">However, it is important tooremember that hello new cloud service will have a new name and VIP, so you will need tooupdate these for all hello dependencies that currently use this information for hello existing cloud service.</span></span>
> 
> 

<span data-ttu-id="6e7a3-142">**2 oorzaak:** Hallo-cloudservice is gekoppeld aan een virtueel netwerk dat is gekoppeld tooan affiniteitsgroep, dus is het specifieke cluster tooa vastgemaakt aan het ontwerp.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-142">**Cause 2:** hello cloud service is associated with a virtual network that is linked tooan affinity group, so it is pinned tooa specific cluster by design.</span></span> <span data-ttu-id="6e7a3-143">Alle nieuwe compute resource aanvragen in die groep affiniteit worden daarom heeft geprobeerd in Hallo dezelfde cluster waar Hallo bestaande bronnen worden gehost.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-143">All new compute resource requests in that affinity group are therefore tried in hello same cluster where hello existing resources are hosted.</span></span> <span data-ttu-id="6e7a3-144">Echter hello hetzelfde cluster mogelijk geen ondersteuning Hallo aangevraagd VM-grootte of hebt u onvoldoende beschikbare ruimte, wat resulteert in een toewijzingsfout.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-144">However, hello same cluster may either not support hello requested VM size or have insufficient available space, resulting in an allocation error.</span></span> <span data-ttu-id="6e7a3-145">Dit geldt of Hallo nieuwe resources zijn gemaakt via een nieuwe cloudservice of een bestaande cloudservice.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-145">This is true whether hello new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="6e7a3-146">**Oplossing 2:**</span><span class="sxs-lookup"><span data-stu-id="6e7a3-146">**Resolution 2:**</span></span>

* <span data-ttu-id="6e7a3-147">Maak een nieuw regionaal virtueel netwerk.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-147">Create a new regional virtual network.</span></span>
* <span data-ttu-id="6e7a3-148">Maken van nieuwe virtuele machine in een nieuw virtueel netwerk Hallo Hallo.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-148">Create hello new VM in hello new virtual network.</span></span>
* <span data-ttu-id="6e7a3-149">[Verbinding maken met uw bestaande virtuele netwerk](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/) toohello nieuw virtueel netwerk.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-149">[Connect your existing virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/) toohello new virtual network.</span></span> <span data-ttu-id="6e7a3-150">Zie voor meer informatie over [regionale virtuele netwerken](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="6e7a3-150">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span> <span data-ttu-id="6e7a3-151">U kunt ook [migreren van uw virtuele netwerk op basis van affiniteit-groep tooa regionaal virtueel netwerk](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), en maak vervolgens Hallo van nieuwe virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6e7a3-151">Alternatively, you can [migrate your affinity-group-based virtual network tooa regional virtual network](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), and then create hello new VM.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6e7a3-152">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="6e7a3-152">Next steps</span></span>
<span data-ttu-id="6e7a3-153">Als u problemen ondervindt wanneer u een gestopte Linux VM starten of het formaat van een bestaande Linux VM in Azure, Zie [klassieke implementatieproblemen oplossen met opnieuw te starten of het formaat van een bestaande virtuele Linux-Machine in Azure](restart-resize-error-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="6e7a3-153">If you encounter issues when you start a stopped Linux VM or resize an existing Linux VM in Azure, see [Troubleshoot classic deployment issues with restarting or resizing an existing Linux Virtual Machine in Azure](restart-resize-error-troubleshooting.md).</span></span>

