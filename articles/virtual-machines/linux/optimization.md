---
title: Optimaliseren van uw virtuele Linux-machine in Azure | Microsoft Docs
description: Meer informatie over een aantal optimalisatietips om ervoor te zorgen dat u uw Linux-VM voor optimale prestaties in Azure hebt ingesteld
keywords: virtuele Linux-machine, linux virtuele machine, ubuntu virtuele machine
services: virtual-machines-linux
documentationcenter: 
author: rickstercdn
manager: timlt
editor: tysonn
tags: azure-resource-manager
ms.assetid: 8baa30c8-d40e-41ac-93d0-74e96fe18d4c
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: rclaus
ms.openlocfilehash: eb79d574fd4dddfb986660cc338bc8748f2082c2
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/29/2017
---
# <a name="optimize-your-linux-vm-on-azure"></a><span data-ttu-id="8ef1d-104">Uw Linux VM optimaliseren voor Azure</span><span class="sxs-lookup"><span data-stu-id="8ef1d-104">Optimize your Linux VM on Azure</span></span>
<span data-ttu-id="8ef1d-105">Maken van virtuele Linux-machine (VM) is eenvoudig doen vanaf de opdrachtregel of in de portal.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-105">Creating a Linux virtual machine (VM) is easy to do from the command line or from the portal.</span></span> <span data-ttu-id="8ef1d-106">Deze zelfstudie laat zien hoe u om te controleren of u dit hebt ingesteld om de prestaties van het Microsoft Azure-platform te optimaliseren.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-106">This tutorial shows you how to ensure you have set it up to optimize its performance on the Microsoft Azure platform.</span></span> <span data-ttu-id="8ef1d-107">In dit onderwerp maakt gebruik van een virtuele Ubuntu Server-machine, maar u kunt ook maken Linux virtuele machine met [uw eigen installatiekopieën die u als sjabloon](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8ef1d-107">This topic uses an Ubuntu Server VM, but you can also create Linux virtual machine using [your own images as templates](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="8ef1d-108">Vereisten</span><span class="sxs-lookup"><span data-stu-id="8ef1d-108">Prerequisites</span></span>
<span data-ttu-id="8ef1d-109">In dit onderwerp wordt ervan uitgegaan dat u hebt al een werkende Azure-abonnement ([gratis proefversie te registreren](https://azure.microsoft.com/pricing/free-trial/)) en u hebt al een virtuele machine ingericht in uw Azure-abonnement.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-109">This topic assumes you already have a working Azure subscription ([free trial signup](https://azure.microsoft.com/pricing/free-trial/)) and have already provisioned a VM into your Azure subscription.</span></span> <span data-ttu-id="8ef1d-110">Zorg ervoor dat u de meest recente hebt [Azure CLI 2.0](/cli/azure/install-az-cli2) geïnstalleerd en aangemeld bij uw Azure-abonnement met [az aanmelding](/cli/azure/#login) voordat u [een virtuele machine maken](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8ef1d-110">Make sure that you have the latest [Azure CLI 2.0](/cli/azure/install-az-cli2) installed and logged in to your Azure subscription with [az login](/cli/azure/#login) before you [create a VM](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

## <a name="azure-os-disk"></a><span data-ttu-id="8ef1d-111">Azure Besturingssysteemschijf</span><span class="sxs-lookup"><span data-stu-id="8ef1d-111">Azure OS Disk</span></span>
<span data-ttu-id="8ef1d-112">Wanneer u een Linux-VM in Azure maakt, heeft deze twee schijven zijn gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-112">Once you create a Linux VM in Azure, it has two disks associated with it.</span></span> <span data-ttu-id="8ef1d-113">**/ dev/sda** staat voor de schijf OS **/dev/sdb** staat voor de tijdelijke schijf.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-113">**/dev/sda** is your OS disk, **/dev/sdb** is your temporary disk.</span></span>  <span data-ttu-id="8ef1d-114">Gebruik niet de belangrijkste besturingssysteemschijf (**/dev/sda**) voor alles behalve het besturingssysteem die is geoptimaliseerd voor snelle VM-opstarten en biedt geen goede prestaties voor uw werkbelastingen.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-114">Do not use the main OS disk (**/dev/sda**) for anything except the operating system as it is optimized for fast VM boot time and does not provide good performance for your workloads.</span></span> <span data-ttu-id="8ef1d-115">U wilt een of meer schijven toevoegen aan uw virtuele machine persistent ophalen en opslag van uw gegevens geoptimaliseerd.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-115">You want to attach one or more disks to your VM to get persistent and optimized storage for your data.</span></span> 

## <a name="adding-disks-for-size-and-performance-targets"></a><span data-ttu-id="8ef1d-116">Het toevoegen van schijven voor grootte- en prestatiedoelen</span><span class="sxs-lookup"><span data-stu-id="8ef1d-116">Adding Disks for Size and Performance targets</span></span>
<span data-ttu-id="8ef1d-117">Op basis van de VM-grootte, kunt u maximaal 16 extra schijven op een A-serie, 32 schijven op een D-reeks koppelen en 64 schijven op een G-serie machine - elke maximaal 1 TB groot.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-117">Based on the VM size, you can attach up to 16 additional disks on an A-Series, 32 disks on a D-Series and 64 disks on a G-Series machine - each up to 1 TB in size.</span></span> <span data-ttu-id="8ef1d-118">U kunt extra schijven toevoegen naar behoefte per uw ruimte en de vereisten voor IOps.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-118">You add extra disks as needed per your space and IOps requirements.</span></span> <span data-ttu-id="8ef1d-119">Elke schijf heeft een prestatiedoel van 500 IOps voor Standard-opslag en maximaal 5000 IOP's per schijf voor Premium-opslag.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-119">Each disk has a performance target of 500 IOps for Standard Storage and up to 5000 IOps per disk for Premium Storage.</span></span>  <span data-ttu-id="8ef1d-120">Zie voor meer informatie over Premium-opslag schijven [Premium-opslag: krachtige opslag voor Azure Virtual machines](../../storage/common/storage-premium-storage.md)</span><span class="sxs-lookup"><span data-stu-id="8ef1d-120">For more information about Premium Storage disks, see [Premium Storage: High-Performance Storage for Azure VMs](../../storage/common/storage-premium-storage.md)</span></span>

<span data-ttu-id="8ef1d-121">Als u de hoogste IOps op schijven met Premium-opslag waar de cache-instellingen zijn ingesteld op **ReadOnly** of **geen**, moet u uitschakelen **barrières** tijdens het koppelen van het bestandssysteem in Linux.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-121">To achieve the highest IOps on Premium Storage disks where their cache settings have been set to either **ReadOnly** or **None**, you must disable **barriers** while mounting the file system in Linux.</span></span> <span data-ttu-id="8ef1d-122">U hoeft niet barrières omdat schrijfbewerkingen naar de Premium-opslag ondersteund schijven duurzame voor deze cache-instellingen.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-122">You do not need barriers because the writes to Premium Storage backed disks are durable for these cache settings.</span></span>

* <span data-ttu-id="8ef1d-123">Als u **reiserFS**, barrières van uitschakelen met de optie koppelpunt `barrier=none` (gebruikt voor het inschakelen van barrières `barrier=flush`)</span><span class="sxs-lookup"><span data-stu-id="8ef1d-123">If you use **reiserFS**, disable barriers using the mount option `barrier=none` (For enabling barriers, use `barrier=flush`)</span></span>
* <span data-ttu-id="8ef1d-124">Als u **ext3/ext4**, barrières van uitschakelen met de optie koppelpunt `barrier=0` (gebruikt voor het inschakelen van barrières `barrier=1`)</span><span class="sxs-lookup"><span data-stu-id="8ef1d-124">If you use **ext3/ext4**, disable barriers using the mount option `barrier=0` (For enabling barriers, use `barrier=1`)</span></span>
* <span data-ttu-id="8ef1d-125">Als u **XFS**, barrières van uitschakelen met de optie koppelpunt `nobarrier` (Gebruik de optie voor het inschakelen van barrières `barrier`)</span><span class="sxs-lookup"><span data-stu-id="8ef1d-125">If you use **XFS**, disable barriers using the mount option `nobarrier` (For enabling barriers, use the option `barrier`)</span></span>

## <a name="unmanaged-storage-account-considerations"></a><span data-ttu-id="8ef1d-126">Aandachtspunten voor gebruikersaccounts onbeheerde opslag</span><span class="sxs-lookup"><span data-stu-id="8ef1d-126">Unmanaged storage account considerations</span></span>
<span data-ttu-id="8ef1d-127">De standaardactie wanneer u een virtuele machine met de Azure CLI 2.0 maken is het gebruik van beheerde Azure-schijven.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-127">The default action when you create a VM with the Azure CLI 2.0 is to use Azure Managed Disks.</span></span>  <span data-ttu-id="8ef1d-128">Deze schijven worden verwerkt door de Azure-platform en hoeven niet de voorbereidings- of locatie om op te slaan.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-128">These disks are handled by the Azure platform and do not require any preparation or location to store them.</span></span>  <span data-ttu-id="8ef1d-129">Niet-beheerde schijven vereisen een opslagaccount en hebben enkele aanvullende prestatie-overwegingen.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-129">Unmanaged disks require a storage account and have some additional performance considerations.</span></span>  <span data-ttu-id="8ef1d-130">Zie voor meer informatie over beheerde schijven [overzicht Azure Managed Disks](../windows/managed-disks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="8ef1d-130">For more information about managed disks, see [Azure Managed Disks overview](../windows/managed-disks-overview.md).</span></span>  <span data-ttu-id="8ef1d-131">De volgende sectie bevat een overzicht van prestatie-overwegingen wanneer u het niet-beheerde schijven gebruikt.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-131">The following section outlines performance considerations only when you use unmanaged disks.</span></span>  <span data-ttu-id="8ef1d-132">Opnieuw, de standaardwaarde en aanbevolen opslagoplossing beheerde schijven te gebruiken.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-132">Again, the default and recommended storage solution is to use managed disks.</span></span>

<span data-ttu-id="8ef1d-133">Als u een virtuele machine met niet-beheerde schijven maakt, zorg er dan voor dat u Koppel de schijven van de storage-accounts die zich in dezelfde regio bevinden als uw virtuele machine om te controleren dicht en netwerklatentie minimaliseren.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-133">If you create a VM with unmanaged disks, make sure that you attach disks from storage accounts residing in the same region as your VM to ensure close proximity and minimize network latency.</span></span>  <span data-ttu-id="8ef1d-134">Elk Standard-opslag-account is een maximum van 20 k IOps en een capaciteit van de grootte van 500 TB.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-134">Each Standard storage account has a maximum of 20k IOps and a 500 TB size capacity.</span></span>  <span data-ttu-id="8ef1d-135">Deze limiet werkt ongeveer 40 intensief gebruikte schijven, inclusief de besturingssysteemschijf en eventuele gegevensschijven die u maakt.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-135">This  limit works out to approximately 40 heavily used disks including both the OS disk and any data disks you create.</span></span> <span data-ttu-id="8ef1d-136">Er is geen limiet voor de maximale IOps voor Premium Storage-accounts, maar er is een limiet van 32 TB.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-136">For Premium Storage accounts, there is no Maximum IOps limit but there is a 32 TB size limit.</span></span> 

<span data-ttu-id="8ef1d-137">Wanneer het omgaan met een hoge IOps werkbelastingen en u hebt ervoor gekozen Standard-opslag voor uw schijven, moet u mogelijk de schijven verdelen over meerdere opslagaccounts om ervoor te zorgen dat u hebt niet de 20.000 IOps-limiet voor Standard-opslag-accounts bereikt.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-137">When dealing with high IOps workloads and you have chosen Standard Storage for your disks, you might need to split the disks across multiple storage accounts to make sure you have not hit the 20,000 IOps limit for Standard Storage accounts.</span></span> <span data-ttu-id="8ef1d-138">Uw virtuele machine kan een combinatie van schijven uit tussen verschillende opslagaccounts en opslagaccounttypen bereiken van de optimale configuratie bevatten.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-138">Your VM can contain a mix of disks from across different storage accounts and storage account types to achieve your optimal configuration.</span></span>
 

## <a name="your-vm-temporary-drive"></a><span data-ttu-id="8ef1d-139">De VM tijdelijke schijf</span><span class="sxs-lookup"><span data-stu-id="8ef1d-139">Your VM Temporary drive</span></span>
<span data-ttu-id="8ef1d-140">Wanneer u een virtuele machine, maakt Azure biedt standaard u met een besturingssysteemschijf (**/dev/sda**) en een tijdelijke schijf (**/dev/sdb**).</span><span class="sxs-lookup"><span data-stu-id="8ef1d-140">By default when you create a VM, Azure provides you with an OS disk (**/dev/sda**) and a temporary disk (**/dev/sdb**).</span></span>  <span data-ttu-id="8ef1d-141">Alle aanvullende schijven u, weergeven als toevoegen **/dev/sdc**, **/dev/sdd**, **/dev/sde** enzovoort.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-141">All additional disks you add show up as **/dev/sdc**, **/dev/sdd**, **/dev/sde** and so on.</span></span> <span data-ttu-id="8ef1d-142">Alle gegevens op de tijdelijke schijf (**/dev/sdb**) is niet duurzame, en kunnen verloren gaan als specifieke gebeurtenissen, zoals VM-grootte, opnieuw installeren, of onderhoud zorgt ervoor uw virtuele machine opnieuw wordt opgestart dat.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-142">All data on your temporary disk (**/dev/sdb**) is not durable, and can be lost if specific events like VM Resizing, redeployment, or maintenance forces a restart of your VM.</span></span>  <span data-ttu-id="8ef1d-143">De grootte en het type van de tijdelijke schijf is gekoppeld aan de VM-grootte die u hebt gekozen tijdens de implementatie.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-143">The size and type of your temporary disk is related to the VM size you chose at deployment time.</span></span> <span data-ttu-id="8ef1d-144">Alle premium het formaat van virtuele machines (DS, G en DS_V2-serie) het tijdelijke station worden ondersteund door een lokale SSD voor extra prestaties van maximaal 48k IOps.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-144">All of the premium size VMs (DS, G, and DS_V2 series) the temporary drive are backed by a local SSD for additional performance of up to 48k IOps.</span></span> 

## <a name="linux-swap-file"></a><span data-ttu-id="8ef1d-145">Wisselbestand van Linux</span><span class="sxs-lookup"><span data-stu-id="8ef1d-145">Linux Swap File</span></span>
<span data-ttu-id="8ef1d-146">Als uw Azure VM van een installatiekopie van een Ubuntu of virtuele CoreOS is, kunt u CustomData gebruiken om te verzenden van een cloud-config naar cloud init.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-146">If your Azure VM is from an Ubuntu or CoreOS image, then you can use CustomData to send a cloud-config to cloud-init.</span></span> <span data-ttu-id="8ef1d-147">Als u [geüpload een aangepaste installatiekopie van Linux](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) die gebruikmaakt van cloud-init, u ook configureren met behulp van cloud-init swap-partities.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-147">If you [uploaded a custom Linux image](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) that uses cloud-init, you also configure swap partitions using cloud-init.</span></span>

<span data-ttu-id="8ef1d-148">Ubuntu Cloud afbeeldingen, moet u cloud-init gebruiken voor het configureren van de wisseling partitie.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-148">On Ubuntu Cloud Images, you must use cloud-init to configure the swap partition.</span></span> <span data-ttu-id="8ef1d-149">Zie voor meer informatie [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span><span class="sxs-lookup"><span data-stu-id="8ef1d-149">For more information, see [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span></span>

<span data-ttu-id="8ef1d-150">Voor installatiekopieën zonder ondersteuning voor cloud-init zijn VM-installatiekopieën die zijn geïmplementeerd vanuit Azure Marketplace een VM-Linux-Agent geïntegreerd met het besturingssysteem.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-150">For images without cloud-init support, VM images deployed from the Azure Marketplace have a VM Linux Agent integrated with the OS.</span></span> <span data-ttu-id="8ef1d-151">Deze agent kan de virtuele machine om te communiceren met verschillende Azure-services.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-151">This agent allows the VM to interact with various Azure services.</span></span> <span data-ttu-id="8ef1d-152">Ervan uitgaande dat u een standaardinstallatiekopie vanuit Azure Marketplace hebt geïmplementeerd, moet u volgt te werk om instellingen voor het wisselbestand Linux correct te configureren:</span><span class="sxs-lookup"><span data-stu-id="8ef1d-152">Assuming you have deployed a standard image from the Azure Marketplace, you would need to do the following to correctly configure your Linux swap file settings:</span></span>

<span data-ttu-id="8ef1d-153">Zoek en wijzigen van twee vermeldingen in de **/etc/waagent.conf** bestand.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-153">Locate and modify two entries in the **/etc/waagent.conf** file.</span></span> <span data-ttu-id="8ef1d-154">Ze bepalen de aanwezigheid van een speciale wisselbestand en grootte van het wisselbestand.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-154">They control the existence of a dedicated swap file and size of the swap file.</span></span> <span data-ttu-id="8ef1d-155">De parameters die u wilt wijzigen zijn `ResourceDisk.EnableSwap=N` en`ResourceDisk.SwapSizeMB=0`</span><span class="sxs-lookup"><span data-stu-id="8ef1d-155">The parameters you are looking to modify are `ResourceDisk.EnableSwap=N` and `ResourceDisk.SwapSizeMB=0`</span></span> 

<span data-ttu-id="8ef1d-156">Wijzig de parameters voor de volgende instellingen:</span><span class="sxs-lookup"><span data-stu-id="8ef1d-156">Change the parameters to the following settings:</span></span>

* <span data-ttu-id="8ef1d-157">ResourceDisk.EnableSwap=Y</span><span class="sxs-lookup"><span data-stu-id="8ef1d-157">ResourceDisk.EnableSwap=Y</span></span>
* <span data-ttu-id="8ef1d-158">ResourceDisk.SwapSizeMB={size in MB voor uw behoeften}</span><span class="sxs-lookup"><span data-stu-id="8ef1d-158">ResourceDisk.SwapSizeMB={size in MB to meet your needs}</span></span> 

<span data-ttu-id="8ef1d-159">Zodra u de wijziging hebt aangebracht, moet u moet de waagent of opnieuw opstarten van uw Linux-VM om deze wijzigingen weer te geven.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-159">Once you have made the change, you need to restart the waagent or restart your Linux VM to reflect those changes.</span></span>  <span data-ttu-id="8ef1d-160">U weet dat de wijzigingen zijn uitgevoerd en er is een wisselbestand gemaakt wanneer u de `free` opdracht voor het weergeven van de vrije ruimte.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-160">You know the changes have been implemented and a swap file has been created when you use the `free` command to view free space.</span></span> <span data-ttu-id="8ef1d-161">Het volgende voorbeeld heeft een wisselbestand van 512MB gemaakt naar aanleiding van het wijzigen van de **waagent.conf** bestand:</span><span class="sxs-lookup"><span data-stu-id="8ef1d-161">The following example has a 512MB swap file created as a result of modifying the **waagent.conf** file:</span></span>

```bash
azuseruser@myVM:~$ free
            total       used       free     shared    buffers     cached
Mem:       3525156     804168    2720988        408       8428     633192
-/+ buffers/cache:     162548    3362608
Swap:       524284          0     524284
```

## <a name="io-scheduling-algorithm-for-premium-storage"></a><span data-ttu-id="8ef1d-162">I/o-planning algoritme voor Premium-opslag</span><span class="sxs-lookup"><span data-stu-id="8ef1d-162">I/O scheduling algorithm for Premium Storage</span></span>
<span data-ttu-id="8ef1d-163">Met de 2.6.18 Linux kernel, de standaard i/o planning algoritme is gewijzigd van de Deadline in CFQ (volledig evenredige queuing algoritme).</span><span class="sxs-lookup"><span data-stu-id="8ef1d-163">With the 2.6.18 Linux kernel, the default I/O scheduling algorithm was changed from Deadline to CFQ (Completely fair queuing algorithm).</span></span> <span data-ttu-id="8ef1d-164">Er is te verwaarlozen verschil in prestatieverschillen tussen CFQ en de Deadline voor willekeurige toegang i/o-patronen.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-164">For random access I/O patterns, there is negligible difference in performance differences between CFQ and Deadline.</span></span>  <span data-ttu-id="8ef1d-165">Overschakelen naar het algoritme Nooperation of Deadline leveren betere i/o-prestaties voor SSD-schijven op basis van waar de schijf-i/o-patroon hoofdzakelijk sequentieel is.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-165">For SSD-based disks where the disk I/O pattern is predominantly sequential, switching back to the NOOP or Deadline algorithm can achieve better I/O performance.</span></span>

### <a name="view-the-current-io-scheduler"></a><span data-ttu-id="8ef1d-166">De huidige i/o-planner weergeven</span><span class="sxs-lookup"><span data-stu-id="8ef1d-166">View the current I/O scheduler</span></span>
<span data-ttu-id="8ef1d-167">Gebruik de volgende opdracht:</span><span class="sxs-lookup"><span data-stu-id="8ef1d-167">Use the following command:</span></span>  

```bash
cat /sys/block/sda/queue/scheduler
```

<span data-ttu-id="8ef1d-168">U ziet na uitvoer, waarmee wordt aangegeven van de huidige Taakplanner.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-168">You see following output, which indicates the current scheduler.</span></span>  

```bash
noop [deadline] cfq
```

### <a name="change-the-current-device-devsda-of-io-scheduling-algorithm"></a><span data-ttu-id="8ef1d-169">Wijzigen van het huidige apparaat (/ dev/sda) van i/o algoritme plannen</span><span class="sxs-lookup"><span data-stu-id="8ef1d-169">Change the current device (/dev/sda) of I/O scheduling algorithm</span></span>
<span data-ttu-id="8ef1d-170">Gebruik de volgende opdrachten:</span><span class="sxs-lookup"><span data-stu-id="8ef1d-170">Use the following commands:</span></span>  

```bash
azureuser@myVM:~$ sudo su -
root@myVM:~# echo "noop" >/sys/block/sda/queue/scheduler
root@myVM:~# sed -i 's/GRUB_CMDLINE_LINUX=""/GRUB_CMDLINE_LINUX_DEFAULT="quiet splash elevator=noop"/g' /etc/default/grub
root@myVM:~# update-grub
```

> [!NOTE]
> <span data-ttu-id="8ef1d-171">Toepassen van deze instelling voor **/dev/sda** alleen is niet handig.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-171">Applying this setting for **/dev/sda** alone is not useful.</span></span> <span data-ttu-id="8ef1d-172">Ingesteld op alle gegevensschijven waar opeenvolgende i/o zomaar het i/o-patroon.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-172">Set on all data disks where sequential I/O dominates the I/O pattern.</span></span>  

<span data-ttu-id="8ef1d-173">U ziet de volgende uitvoer, die aangeeft dat **grub.cfg** met succes is opnieuw opgebouwd en dat de planner standaard is bijgewerkt naar Nooperation.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-173">You should see the following output, indicating that **grub.cfg** has been rebuilt successfully and that the default scheduler has been updated to NOOP.</span></span>  

```bash
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-3.13.0-34-generic
Found initrd image: /boot/initrd.img-3.13.0-34-generic
Found linux image: /boot/vmlinuz-3.13.0-32-generic
Found initrd image: /boot/initrd.img-3.13.0-32-generic
Found memtest86+ image: /memtest86+.elf
Found memtest86+ image: /memtest86+.bin
done
```

<span data-ttu-id="8ef1d-174">Voor de distributie-familie van Redhat hoeft u alleen de volgende opdracht:</span><span class="sxs-lookup"><span data-stu-id="8ef1d-174">For the Redhat distribution family, you only need the following command:</span></span>   

```bash
echo 'echo noop >/sys/block/sda/queue/scheduler' >> /etc/rc.local
```

## <a name="using-software-raid-to-achieve-higher-iops"></a><span data-ttu-id="8ef1d-175">Met behulp van Software-RAID bereiken hoger ik / Ops</span><span class="sxs-lookup"><span data-stu-id="8ef1d-175">Using Software RAID to achieve higher I/Ops</span></span>
<span data-ttu-id="8ef1d-176">Als uw werkbelastingen meer IOps vereisen dan één schijf kan bieden, moet u een software-RAID-configuratie van meerdere schijven gebruiken.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-176">If your workloads require more IOps than a single disk can provide, you need to use a software RAID configuration of multiple disks.</span></span> <span data-ttu-id="8ef1d-177">Omdat Azure al tolerantie van de schijf op de lokale fabric-laag voert, kunt u het hoogste niveau van de prestaties van een configuratie van RAID-0 striping van bereiken.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-177">Because Azure already performs disk resiliency at the local fabric layer, you achieve the highest level of performance from a RAID-0 striping configuration.</span></span>  <span data-ttu-id="8ef1d-178">Inrichten en schijven te maken in de Azure-omgeving en deze koppelt aan uw Linux-VM voordat partitioneren, formatteren en koppelen van de stations.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-178">Provision and create disks in the Azure environment and attach them to your Linux VM before partitioning, formatting and mounting the drives.</span></span>  <span data-ttu-id="8ef1d-179">Meer informatie over het configureren van een software-RAID-instellingen op uw Linux-VM in azure vindt u in de  **[configureren van Software-RAID op Linux](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)**  document.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-179">More details on configuring a software RAID setup on your Linux VM in azure can be found in the **[Configuring Software RAID on Linux](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)** document.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8ef1d-180">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="8ef1d-180">Next Steps</span></span>
<span data-ttu-id="8ef1d-181">Denk eraan dat als met alle optimalisatie discussies die u nodig hebt voor het uitvoeren van de tests voor en na elke wijziging voor het meten van de gevolgen heeft voor de wijziging.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-181">Remember, as with all optimization discussions, you need to perform tests before and after each change to measure the impact the change has.</span></span>  <span data-ttu-id="8ef1d-182">Optimalisatie wordt stap voor stap processen met verschillende resultaten op verschillende computers in uw omgeving.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-182">Optimization is a step by step process that has different results across different machines in your environment.</span></span>  <span data-ttu-id="8ef1d-183">Wat werkt voor één configuratie werkt niet voor anderen.</span><span class="sxs-lookup"><span data-stu-id="8ef1d-183">What works for one configuration may not work for others.</span></span>

<span data-ttu-id="8ef1d-184">Sommige nuttig koppelingen naar aanvullende bronnen:</span><span class="sxs-lookup"><span data-stu-id="8ef1d-184">Some useful links to additional resources:</span></span> 

* [<span data-ttu-id="8ef1d-185">Premium Storage: opslag met hoge prestaties voor de werkbelasting van virtuele Azure-machines</span><span class="sxs-lookup"><span data-stu-id="8ef1d-185">Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads</span></span>](../../storage/common/storage-premium-storage.md)
* [<span data-ttu-id="8ef1d-186">Gebruikershandleiding voor Azure Linux-Agent</span><span class="sxs-lookup"><span data-stu-id="8ef1d-186">Azure Linux Agent User Guide</span></span>](../windows/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="8ef1d-187">MySQL-prestaties op Azure Linux virtuele machines optimaliseren</span><span class="sxs-lookup"><span data-stu-id="8ef1d-187">Optimizing MySQL Performance on Azure Linux VMs</span></span>](classic/optimize-mysql.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json)
* [<span data-ttu-id="8ef1d-188">Configureren van Software-RAID op Linux</span><span class="sxs-lookup"><span data-stu-id="8ef1d-188">Configure Software RAID on Linux</span></span>](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

