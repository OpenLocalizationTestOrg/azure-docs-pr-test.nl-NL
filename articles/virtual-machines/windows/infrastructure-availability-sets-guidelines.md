---
title: Beschikbaarheidssets voor Windows-machines in Azure | Microsoft Docs
description: Meer informatie over de sleutel ontwerpen en implementeren van de richtlijnen voor het implementeren van Beschikbaarheidssets in Azure-infrastructuurservices.
documentationcenter: 
services: virtual-machines-windows
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: f9449f58-664b-4d5d-82f6-84c5d083047f
ms.service: virtual-machines-windows
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-windows
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: f94004fbd32dcc8a2394fcdfe2ac61519364f176
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/11/2017
---
# <a name="azure-availability-sets-guidelines-for-windows-vms"></a><span data-ttu-id="00287-103">Azure beschikbaarheidssets richtlijnen voor VM's van Windows</span><span class="sxs-lookup"><span data-stu-id="00287-103">Azure availability sets guidelines for Windows VMs</span></span>

[!INCLUDE [virtual-machines-windows-infrastructure-guidelines-intro](../../../includes/virtual-machines-windows-infrastructure-guidelines-intro.md)]

<span data-ttu-id="00287-104">Dit artikel is gericht op het inzicht in de vereiste stappen van de planning voor beschikbaarheidssets om te controleren of uw toepassingen blijft toegankelijk tijdens gepland of ongepland gebeurtenissen.</span><span class="sxs-lookup"><span data-stu-id="00287-104">This article focuses on understanding the required planning steps for availability sets to ensure your applications remains accessible during planned or unplanned events.</span></span>

## <a name="implementation-guidelines-for-availability-sets"></a><span data-ttu-id="00287-105">Richtlijnen voor de implementatie van beschikbaarheidsset instellen</span><span class="sxs-lookup"><span data-stu-id="00287-105">Implementation guidelines for availability sets</span></span>
<span data-ttu-id="00287-106">Beslissingen te nemen:</span><span class="sxs-lookup"><span data-stu-id="00287-106">Decisions:</span></span>

* <span data-ttu-id="00287-107">Hoeveel beschikbaarheidssets moet u voor de verschillende functies en lagen in de infrastructuur van uw toepassingen?</span><span class="sxs-lookup"><span data-stu-id="00287-107">How many availability sets do you need for the various roles and tiers in your application infrastructure?</span></span>

<span data-ttu-id="00287-108">Taken:</span><span class="sxs-lookup"><span data-stu-id="00287-108">Tasks:</span></span>

* <span data-ttu-id="00287-109">Definieer het aantal virtuele machines in elke toepassingslaag die u nodig hebt.</span><span class="sxs-lookup"><span data-stu-id="00287-109">Define the number of VMs in each application tier you require.</span></span>
* <span data-ttu-id="00287-110">Bepalen of u moet het aantal fouten aanpassen of domeinen moet worden gebruikt voor uw toepassing bijwerken.</span><span class="sxs-lookup"><span data-stu-id="00287-110">Determine if you need to adjust the number of fault or update domains to be used for your application.</span></span>
* <span data-ttu-id="00287-111">Definieer de vereiste beschikbaarheidssets met uw naamgevingsconventie en wat virtuele machines zich bevinden.</span><span class="sxs-lookup"><span data-stu-id="00287-111">Define the required availability sets using your naming convention and what VMs reside in them.</span></span> <span data-ttu-id="00287-112">Een virtuele machine kan alleen worden opgenomen in een beschikbaarheidsset.</span><span class="sxs-lookup"><span data-stu-id="00287-112">A VM can only reside in one availability set.</span></span>

## <a name="availability-sets"></a><span data-ttu-id="00287-113">Beschikbaarheidssets</span><span class="sxs-lookup"><span data-stu-id="00287-113">Availability sets</span></span>
<span data-ttu-id="00287-114">In Azure, kunnen virtuele machines (VM's) worden geplaatst op een logische groepering aangeroepen van een beschikbaarheidsset.</span><span class="sxs-lookup"><span data-stu-id="00287-114">In Azure, virtual machines (VMs) can be placed in to a logical grouping called an availability set.</span></span> <span data-ttu-id="00287-115">Wanneer u virtuele machines binnen een beschikbaarheidsset maakt, wordt in de Azure-platform de plaatsing van deze VMs verdeelt over de onderliggende infrastructuur.</span><span class="sxs-lookup"><span data-stu-id="00287-115">When you create VMs within an availability set, the Azure platform distributes the placement of those VMs across the underlying infrastructure.</span></span> <span data-ttu-id="00287-116">Moet er een gebeurtenis gepland onderhoud aan de Azure-platform of een onderliggende hardware-infrastructuur fault, het gebruik van beschikbaarheidssets zorgt ervoor dat er ten minste één virtuele machine actief blijft.</span><span class="sxs-lookup"><span data-stu-id="00287-116">Should there be a planned maintenance event to the Azure platform or an underlying hardware / infrastructure fault, the use of availability sets ensures that at least one VM remains running.</span></span>

<span data-ttu-id="00287-117">Als een best practice toepassingen moeten bevindt zich niet op een enkele virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="00287-117">As a best practice, applications should not reside on a single VM.</span></span> <span data-ttu-id="00287-118">Een beschikbaarheidsset die een enkele virtuele machine bevat krijgen geen beveiliging bij gepland of ongepland gebeurtenissen binnen het Azure-platform.</span><span class="sxs-lookup"><span data-stu-id="00287-118">An availability set that contains a single VM doesn't gain any protection from planned or unplanned events within the Azure platform.</span></span> <span data-ttu-id="00287-119">De [Azure SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines) twee of meer virtuele machines binnen een beschikbaarheidsset om toe te staan de verdeling van virtuele machines over de onderliggende infrastructuur vereist.</span><span class="sxs-lookup"><span data-stu-id="00287-119">The [Azure SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines) requires two or more VMs within an availability set to allow the distribution of VMs across the underlying infrastructure.</span></span> <span data-ttu-id="00287-120">Als u [Azure Premium-opslag](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), de Azure SLA van toepassing is op een enkele virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="00287-120">If you are using [Azure Premium Storage](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), the Azure SLA applies to a single VM.</span></span>

<span data-ttu-id="00287-121">De onderliggende infrastructuur in Azure is onderverdeeld met meerdere hardware-clusters.</span><span class="sxs-lookup"><span data-stu-id="00287-121">The underlying infrastructure in Azure is divided in to multiple hardware clusters.</span></span> <span data-ttu-id="00287-122">Elk cluster hardware kan een bereik van VM-grootten ondersteunen.</span><span class="sxs-lookup"><span data-stu-id="00287-122">Each hardware cluster can support a range of VM sizes.</span></span> <span data-ttu-id="00287-123">Een beschikbaarheidsset kan alleen worden gehost op een cluster met één hardware op elk punt in tijd.</span><span class="sxs-lookup"><span data-stu-id="00287-123">An availability set can only be hosted on a single hardware cluster at any point in time.</span></span> <span data-ttu-id="00287-124">Het bereik van VM-grootten die kunnen optreden in een beschikbaarheidsset één is daarom beperkt tot het bereik van VM-grootten ondersteund door de hardware-cluster.</span><span class="sxs-lookup"><span data-stu-id="00287-124">Therefore, the range of VM sizes that can exist in a single availability set is limited to the range of VM sizes supported by the hardware cluster.</span></span> <span data-ttu-id="00287-125">Het cluster hardware voor de beschikbaarheidsset is geselecteerd als de eerste virtuele machine in de beschikbaarheidsset is geïmplementeerd of bij het starten van de eerste virtuele machine in een beschikbaarheidsset waar alle VM's momenteel in de status gestopt-de toewijzing ongedaan gemaakt zijn.</span><span class="sxs-lookup"><span data-stu-id="00287-125">The hardware cluster for the availability set is selected when the first VM in the availability set is deployed or when starting the first VM in an availability set where all VMs are currently in the stopped-deallocated state.</span></span> <span data-ttu-id="00287-126">De volgende PowerShell-opdracht kan worden gebruikt om te bepalen het bereik van VM-grootten beschikbaar voor een beschikbaarheidsset: ' Get-AzureRmVMSize - ResourceGroupName \<tekenreeks\> - AvailabilitySetName \<tekenreeks\>'</span><span class="sxs-lookup"><span data-stu-id="00287-126">The following PowerShell command can be used to determine the range of VM sizes available for an availability set: "Get-AzureRmVMSize -ResourceGroupName \<string\> -AvailabilitySetName \<string\>"</span></span>

<span data-ttu-id="00287-127">Elk cluster hardware is onderverdeeld meerdere domeinen van de update en domeinen met fouten.</span><span class="sxs-lookup"><span data-stu-id="00287-127">Each hardware cluster is divided in to multiple update domains and fault domains.</span></span> <span data-ttu-id="00287-128">Deze domeinen zijn gedefinieerd door welke hosts delen een gemeenschappelijke Updatefase of share vergelijkbare fysieke infrastructuur zoals stroom en netwerken.</span><span class="sxs-lookup"><span data-stu-id="00287-128">These domains are defined by what hosts share a common update cycle, or share similar physical infrastructure such as power and networking.</span></span> <span data-ttu-id="00287-129">Azure distribueert automatisch uw virtuele machines binnen een beschikbaarheidsset tussen domeinen te onderhouden, beschikbaarheid en fouttolerantie.</span><span class="sxs-lookup"><span data-stu-id="00287-129">Azure automatically distributes your VMs within an availability set across domains to maintain availability and fault tolerance.</span></span> <span data-ttu-id="00287-130">Afhankelijk van de grootte van uw toepassing en het aantal virtuele machines binnen een beschikbaarheidsset, kunt u het aantal domeinen die u wilt gebruiken aanpassen.</span><span class="sxs-lookup"><span data-stu-id="00287-130">Depending on the size of your application and the number of VMs within an availability set, you can adjust the number of domains you wish to use.</span></span> <span data-ttu-id="00287-131">U kunt meer lezen over [beschikbaarheid en het gebruik van de update en fouttolerantie domeinen beheren](manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="00287-131">You can read more about [managing availability and use of update and fault domains](manage-availability.md).</span></span>

<span data-ttu-id="00287-132">Plan de toepassingslagen die u gebruikt bij het ontwerpen van de infrastructuur van uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="00287-132">When designing your application infrastructure, plan the application tiers that you use.</span></span> <span data-ttu-id="00287-133">Groep virtuele machines die hetzelfde doel in voor de beschikbaarheid van dienen wordt ingesteld, zoals een beschikbaarheidsset voor de front-virtuele machines waarop IIS wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="00287-133">Group VMs that serve the same purpose in to availability sets, such as an availability set for your front-end VMs running IIS.</span></span> <span data-ttu-id="00287-134">Maak een afzonderlijke beschikbaarheidsset voor uw back-end-VM's met SQL Server.</span><span class="sxs-lookup"><span data-stu-id="00287-134">Create a separate availability set for your back-end VMs running SQL Server.</span></span> <span data-ttu-id="00287-135">Het doel is om ervoor te zorgen dat elk onderdeel van uw toepassing wordt beveiligd door een beschikbaarheidsset en ten minste eenmaal exemplaar altijd actief blijft.</span><span class="sxs-lookup"><span data-stu-id="00287-135">The goal is to ensure that each component of your application is protected by an availability set and at least once instance always remains running.</span></span>

<span data-ttu-id="00287-136">Load balancers kunnen worden gebruikt voor elke toepassingslaag samenwerking met een beschikbaarheidsset en ervoor zorgen dat verkeer kan altijd worden doorgestuurd naar een actief exemplaar.</span><span class="sxs-lookup"><span data-stu-id="00287-136">Load balancers can be utilized in front of each application tier to work alongside an availability set and ensure traffic can always be routed to a running instance.</span></span> <span data-ttu-id="00287-137">Uw virtuele machines mogelijk blijven in bedrijf tijdens geplande en ongeplande onderhoud gebeurtenissen zonder een load balancer, maar de eindgebruiker mogelijk niet oplossen als de primaire virtuele machine niet beschikbaar is.</span><span class="sxs-lookup"><span data-stu-id="00287-137">Without a load balancer, your VMs may continue running throughout planned and unplanned maintenance events, but your end user may not be able to resolve them if the primary VM is unavailable.</span></span>

<span data-ttu-id="00287-138">Ontwerp uw toepassing voor hoge beschikbaarheid in de opslaglaag.</span><span class="sxs-lookup"><span data-stu-id="00287-138">Design your application for high availability at storage layer.</span></span> <span data-ttu-id="00287-139">De beste [gebruik beheerd de schijven voor virtuele machines in een Beschikbaarheidsset](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span><span class="sxs-lookup"><span data-stu-id="00287-139">The best practice is to [use Managed Disks for VMs in an Availability Set](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span></span> <span data-ttu-id="00287-140">Als u niet-beheerde schijven en gebruikt we raden u [converteren van virtuele machines in de Beschikbaarheidsset beheerd schijven te gebruiken](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span><span class="sxs-lookup"><span data-stu-id="00287-140">If you are currently using unmanaged disks, we highly recommend you to [convert VMs in Availability Set to use Managed Disks](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span></span>

## <a name="next-steps"></a><span data-ttu-id="00287-141">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="00287-141">Next steps</span></span>
[!INCLUDE [virtual-machines-windows-infrastructure-guidelines-next-steps](../../../includes/virtual-machines-windows-infrastructure-guidelines-next-steps.md)]
