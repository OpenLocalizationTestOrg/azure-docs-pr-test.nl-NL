---
title: Best practices prestaties for SQL Server in Azure | Microsoft Docs
description: Bevat de aanbevolen procedures voor het optimaliseren van de prestaties van SQL Server in Microsoft Azure VM's.
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: a0c85092-2113-4982-b73a-4e80160bac36
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 06/27/2017
ms.author: jroth
ms.openlocfilehash: 5595ea016ab01d20cee82b75f56623bb0727a1b3
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/29/2017
---
# <a name="performance-best-practices-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="429b1-103">Aanbevolen procedures voor prestaties voor SQL Server op virtuele machines van Azure</span><span class="sxs-lookup"><span data-stu-id="429b1-103">Performance best practices for SQL Server in Azure Virtual Machines</span></span>

## <a name="overview"></a><span data-ttu-id="429b1-104">Overzicht</span><span class="sxs-lookup"><span data-stu-id="429b1-104">Overview</span></span>

<span data-ttu-id="429b1-105">Dit onderwerp bevat aanbevolen procedures voor het optimaliseren van de prestaties van SQL Server in Microsoft Azure Virtual machines.</span><span class="sxs-lookup"><span data-stu-id="429b1-105">This topic provides best practices for optimizing SQL Server performance in Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="429b1-106">Tijdens het uitvoeren van SQL Server in Azure Virtual Machines, is het raadzaam dat u doorgaat met de dezelfde databaseprestaties afstemmen van de opties die van toepassing op SQL Server in on-premises server-omgeving.</span><span class="sxs-lookup"><span data-stu-id="429b1-106">While running SQL Server in Azure Virtual Machines, we recommend that you continue using the same database performance tuning options that are applicable to SQL Server in on-premises server environment.</span></span> <span data-ttu-id="429b1-107">De prestaties van een relationele database in een openbare cloud is afhankelijk van veel factoren zoals de grootte van een virtuele machine en de configuratie van de gegevensschijven.</span><span class="sxs-lookup"><span data-stu-id="429b1-107">However, the performance of a relational database in a public cloud depends on many factors such as the size of a virtual machine, and the configuration of the data disks.</span></span>

<span data-ttu-id="429b1-108">Bij het maken van SQL Server-installatiekopieÃ«n [Houd rekening met het inrichten van uw virtuele machines in de Azure portal](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="429b1-108">When creating SQL Server images, [consider provisioning your VMs in the Azure portal](virtual-machines-windows-portal-sql-server-provision.md).</span></span> <span data-ttu-id="429b1-109">SQL Server-VM's ingericht in de Portal met Resource Manager implementeren alle deze best practices, met inbegrip van de opslagconfiguratie.</span><span class="sxs-lookup"><span data-stu-id="429b1-109">SQL Server VMs provisioned in the Portal with Resource Manager implement all these best practices, including the storage configuration.</span></span>

<span data-ttu-id="429b1-110">In dit artikel is gericht op het ophalen van de *aanbevolen* prestaties voor SQL Server op Azure Virtual machines.</span><span class="sxs-lookup"><span data-stu-id="429b1-110">This article is focused on getting the *best* performance for SQL Server on Azure VMs.</span></span> <span data-ttu-id="429b1-111">Als uw werkbelasting minder zwaar worden belast, kunt u elke optimalisatie onderstaande mogelijk niet nodig.</span><span class="sxs-lookup"><span data-stu-id="429b1-111">If your workload is less demanding, you might not require every optimization listed below.</span></span> <span data-ttu-id="429b1-112">Houd rekening met uw prestatievereisten past en werkbelasting patronen als u deze aanbevelingen evalueren.</span><span class="sxs-lookup"><span data-stu-id="429b1-112">Consider your performance needs and workload patterns as you evaluate these recommendations.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="quick-check-list"></a><span data-ttu-id="429b1-113">Lijst met snelle controle</span><span class="sxs-lookup"><span data-stu-id="429b1-113">Quick check list</span></span>

<span data-ttu-id="429b1-114">Hier volgt een lijst met snelle controle voor optimale prestaties van SQL Server op Azure Virtual Machines:</span><span class="sxs-lookup"><span data-stu-id="429b1-114">The following is a quick check list for optimal performance of SQL Server on Azure Virtual Machines:</span></span>

| <span data-ttu-id="429b1-115">Onderwerp</span><span class="sxs-lookup"><span data-stu-id="429b1-115">Area</span></span> | <span data-ttu-id="429b1-116">Optimalisaties</span><span class="sxs-lookup"><span data-stu-id="429b1-116">Optimizations</span></span> |
| --- | --- |
| [<span data-ttu-id="429b1-117">VM-grootte</span><span class="sxs-lookup"><span data-stu-id="429b1-117">VM size</span></span>](#vm-size-guidance) |<span data-ttu-id="429b1-118">[DS3](../../virtual-machines-windows-sizes-memory.md) of hoger voor SQL Enterprise edition.</span><span class="sxs-lookup"><span data-stu-id="429b1-118">[DS3](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Enterprise edition.</span></span><br/><br/><span data-ttu-id="429b1-119">[DS2](../../virtual-machines-windows-sizes-memory.md) of hoger voor SQL Standard- en Web-edities.</span><span class="sxs-lookup"><span data-stu-id="429b1-119">[DS2](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Standard and Web editions.</span></span> |
| [<span data-ttu-id="429b1-120">Storage</span><span class="sxs-lookup"><span data-stu-id="429b1-120">Storage</span></span>](#storage-guidance) |<span data-ttu-id="429b1-121">Gebruik [Premium-opslag](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="429b1-121">Use [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="429b1-122">Standard-opslag wordt alleen aanbevolen voor ontwikkelen en testen.</span><span class="sxs-lookup"><span data-stu-id="429b1-122">Standard storage is only recommended for dev/test.</span></span><br/><br/><span data-ttu-id="429b1-123">Houd de [opslagaccount](../../../storage/common/storage-create-storage-account.md) en SQL Server VM in dezelfde regio.</span><span class="sxs-lookup"><span data-stu-id="429b1-123">Keep the [storage account](../../../storage/common/storage-create-storage-account.md) and SQL Server VM in the same region.</span></span><br/><br/><span data-ttu-id="429b1-124">Schakel Azure [geografisch redundante opslag](../../../storage/common/storage-redundancy.md) (geo-replicatie) van het opslagaccount.</span><span class="sxs-lookup"><span data-stu-id="429b1-124">Disable Azure [geo-redundant storage](../../../storage/common/storage-redundancy.md) (geo-replication) on the storage account.</span></span> |
| [<span data-ttu-id="429b1-125">Schijven</span><span class="sxs-lookup"><span data-stu-id="429b1-125">Disks</span></span>](#disks-guidance) |<span data-ttu-id="429b1-126">Gebruik een minimum van 2 [P30 schijven](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 voor logboekbestanden, 1 voor gegevensbestanden en TempDB).</span><span class="sxs-lookup"><span data-stu-id="429b1-126">Use a minimum of 2 [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 for log files; 1 for data files and TempDB).</span></span><br/><br/><span data-ttu-id="429b1-127">Vermijd het gebruik van besturingssysteem of tijdelijke schijven voor database-opslag of registratie.</span><span class="sxs-lookup"><span data-stu-id="429b1-127">Avoid using operating system or temporary disks for database storage or logging.</span></span><br/><br/><span data-ttu-id="429b1-128">Lezen inschakelen voor het opslaan in cache op de schijven die als host fungeert voor de gegevensbestanden en TempDB.</span><span class="sxs-lookup"><span data-stu-id="429b1-128">Enable read caching on the disk(s) hosting the data files and TempDB.</span></span><br/><br/><span data-ttu-id="429b1-129">Schakel niet opslaan in cache op een of meer schijven die als host fungeert voor het logboekbestand.</span><span class="sxs-lookup"><span data-stu-id="429b1-129">Do not enable caching on disk(s) hosting the log file.</span></span><br/><br/><span data-ttu-id="429b1-130">Belangrijk: Stop de service SQL Server bij het wijzigen van de cache-instellingen voor een virtuele machine van Azure-schijf.</span><span class="sxs-lookup"><span data-stu-id="429b1-130">Important: Stop the SQL Server service when changing the cache settings for an Azure VM disk.</span></span><br/><br/><span data-ttu-id="429b1-131">Als u verbeterde i/o-doorvoer meerdere Azure gegevensschijven stripe.</span><span class="sxs-lookup"><span data-stu-id="429b1-131">Stripe multiple Azure data disks to get increased IO throughput.</span></span><br/><br/><span data-ttu-id="429b1-132">Formatteren met grootten gedocumenteerde toewijzing.</span><span class="sxs-lookup"><span data-stu-id="429b1-132">Format with documented allocation sizes.</span></span> |
| [<span data-ttu-id="429b1-133">I/O 'S</span><span class="sxs-lookup"><span data-stu-id="429b1-133">I/O</span></span>](#io-guidance) |<span data-ttu-id="429b1-134">Database pagina compressie inschakelen.</span><span class="sxs-lookup"><span data-stu-id="429b1-134">Enable database page compression.</span></span><br/><br/><span data-ttu-id="429b1-135">Schakel directe bestand de initialisatie van de gegevensbestanden worden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="429b1-135">Enable instant file initialization for data files.</span></span><br/><br/><span data-ttu-id="429b1-136">Beperk of autogrow op de database uitschakelen.</span><span class="sxs-lookup"><span data-stu-id="429b1-136">Limit or disable autogrow on the database.</span></span><br/><br/><span data-ttu-id="429b1-137">Autoshrink op de database niet uitschakelen.</span><span class="sxs-lookup"><span data-stu-id="429b1-137">Disable autoshrink on the database.</span></span><br/><br/><span data-ttu-id="429b1-138">Verplaats alle databases naar gegevensschijven, met inbegrip van systeemdatabases.</span><span class="sxs-lookup"><span data-stu-id="429b1-138">Move all databases to data disks, including system databases.</span></span><br/><br/><span data-ttu-id="429b1-139">SQL Server-fout logboek- en traceringsbestanden bestandsmappen naar gegevensschijven verplaatsen.</span><span class="sxs-lookup"><span data-stu-id="429b1-139">Move SQL Server error log and trace file directories to data disks.</span></span><br/><br/><span data-ttu-id="429b1-140">Het instellen van standaardbestandslocaties voor back-up en -database.</span><span class="sxs-lookup"><span data-stu-id="429b1-140">Setup default backup and database file locations.</span></span><br/><br/><span data-ttu-id="429b1-141">Schakel vergrendelde pagina's.</span><span class="sxs-lookup"><span data-stu-id="429b1-141">Enable locked pages.</span></span><br/><br/><span data-ttu-id="429b1-142">SQL Server prestaties correcties toepassen.</span><span class="sxs-lookup"><span data-stu-id="429b1-142">Apply SQL Server performance fixes.</span></span> |
| [<span data-ttu-id="429b1-143">Specifieke functies</span><span class="sxs-lookup"><span data-stu-id="429b1-143">Feature specific</span></span>](#feature-specific-guidance) |<span data-ttu-id="429b1-144">Back-up rechtstreeks naar de blob-opslag.</span><span class="sxs-lookup"><span data-stu-id="429b1-144">Back up directly to blob storage.</span></span> |

<span data-ttu-id="429b1-145">Voor meer informatie over *hoe* en *waarom* zodat deze optimalisaties Controleer de details en de richtlijnen in de volgende secties.</span><span class="sxs-lookup"><span data-stu-id="429b1-145">For more information on *how* and *why* to make these optimizations, please review the details and guidance provided in following sections.</span></span>

## <a name="vm-size-guidance"></a><span data-ttu-id="429b1-146">Richtlijnen voor VM-grootte</span><span class="sxs-lookup"><span data-stu-id="429b1-146">VM size guidance</span></span>

<span data-ttu-id="429b1-147">Voor gevoelige toepassingen prestaties, wordt aanbevolen dat u de volgende [grootten voor virtuele machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span><span class="sxs-lookup"><span data-stu-id="429b1-147">For performance sensitive applications, itâs recommended that you use the following [virtual machines sizes](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span></span>

* <span data-ttu-id="429b1-148">**SQL Server Enterprise Edition**: DS3 of hoger</span><span class="sxs-lookup"><span data-stu-id="429b1-148">**SQL Server Enterprise Edition**: DS3 or higher</span></span>
* <span data-ttu-id="429b1-149">**SQL Server Standard en Web-edities**: DS2 of hoger</span><span class="sxs-lookup"><span data-stu-id="429b1-149">**SQL Server Standard and Web Editions**: DS2 or higher</span></span>

## <a name="storage-guidance"></a><span data-ttu-id="429b1-150">Richtlijnen voor opslag</span><span class="sxs-lookup"><span data-stu-id="429b1-150">Storage guidance</span></span>

<span data-ttu-id="429b1-151">DS-serie (samen met DSv2-serie en GS-serie) VMs ondersteuning [Premium-opslag](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="429b1-151">DS-series (along with DSv2-series and GS-series) VMs support [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="429b1-152">Premium-opslag wordt aanbevolen voor alle productieworkloads.</span><span class="sxs-lookup"><span data-stu-id="429b1-152">Premium Storage is recommended for all production workloads.</span></span>

> [!WARNING]
> <span data-ttu-id="429b1-153">Standard-opslag heeft verschillende latenties en bandbreedte en wordt alleen aanbevolen voor ontwikkel-/ testwerkbelastingen.</span><span class="sxs-lookup"><span data-stu-id="429b1-153">Standard Storage has varying latencies and bandwidth and is only recommended for dev/test workloads.</span></span> <span data-ttu-id="429b1-154">Productieworkloads moeten Premium-opslag gebruiken.</span><span class="sxs-lookup"><span data-stu-id="429b1-154">Production workloads should use Premium Storage.</span></span>

<span data-ttu-id="429b1-155">Bovendien is het raadzaam dat u uw Azure storage-account maken in hetzelfde Datacenter als uw virtuele machines van SQL Server om te beperken van overdracht vertragingen.</span><span class="sxs-lookup"><span data-stu-id="429b1-155">In addition, we recommend that you create your Azure storage account in the same data center as your SQL Server virtual machines to reduce transfer delays.</span></span> <span data-ttu-id="429b1-156">Wanneer u een opslagaccount maakt, uitschakelen geo-replicatie zoals consistent schrijven volgorde over meerdere schijven kan niet worden gegarandeerd.</span><span class="sxs-lookup"><span data-stu-id="429b1-156">When creating a storage account, disable geo-replication as consistent write order across multiple disks is not guaranteed.</span></span> <span data-ttu-id="429b1-157">Overweeg in plaats daarvan het configureren van een SQL Server-technologie disaster recovery tussen twee Azure-datacenters.</span><span class="sxs-lookup"><span data-stu-id="429b1-157">Instead, consider configuring a SQL Server disaster recovery technology between two Azure data centers.</span></span> <span data-ttu-id="429b1-158">Zie voor meer informatie [hoge beschikbaarheid en herstel na noodgevallen voor SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="429b1-158">For more information, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="disks-guidance"></a><span data-ttu-id="429b1-159">Schijven richtlijnen</span><span class="sxs-lookup"><span data-stu-id="429b1-159">Disks guidance</span></span>

<span data-ttu-id="429b1-160">Er zijn drie belangrijkste schijftypen op een virtuele machine van Azure:</span><span class="sxs-lookup"><span data-stu-id="429b1-160">There are three main disk types on an Azure VM:</span></span>

* <span data-ttu-id="429b1-161">**Besturingssysteemschijf**: wanneer u een virtuele Machine in Azure maakt, ten minste Ã©Ã©n schijf zal worden gekoppeld aan het platform (aangeduid als de **C** station) naar de virtuele machine voor de schijf van uw besturingssysteem.</span><span class="sxs-lookup"><span data-stu-id="429b1-161">**OS disk**: When you create an Azure Virtual Machine, the platform will attach at least one disk (labeled as the **C** drive) to the VM for your operating system disk.</span></span> <span data-ttu-id="429b1-162">Deze schijf is een VHD die is opgeslagen als een pagina-blob in de opslag.</span><span class="sxs-lookup"><span data-stu-id="429b1-162">This disk is a VHD stored as a page blob in storage.</span></span>
* <span data-ttu-id="429b1-163">**Tijdelijke schijf**: Azure Virtual Machines bevatten een andere schijf met de naam van de tijdelijke schijf (aangeduid als de **D**: station).</span><span class="sxs-lookup"><span data-stu-id="429b1-163">**Temporary disk**: Azure Virtual Machines contain another disk called the temporary disk (labeled as the **D**: drive).</span></span> <span data-ttu-id="429b1-164">Dit is een schijf op het knooppunt dat kan worden gebruikt voor scratchruimte.</span><span class="sxs-lookup"><span data-stu-id="429b1-164">This is a disk on the node that can be used for scratch space.</span></span>
* <span data-ttu-id="429b1-165">**Gegevensschijven**: U kunt ook extra schijven koppelen aan uw virtuele machine als gegevensschijven en deze in de opslag worden opgeslagen als pagina-blobs.</span><span class="sxs-lookup"><span data-stu-id="429b1-165">**Data disks**: You can also attach additional disks to your virtual machine as data disks, and these will be stored in storage as page blobs.</span></span>

<span data-ttu-id="429b1-166">De volgende secties beschrijven de aanbevelingen voor het gebruik van deze andere schijven.</span><span class="sxs-lookup"><span data-stu-id="429b1-166">The following sections describe recommendations for using these different disks.</span></span>

### <a name="operating-system-disk"></a><span data-ttu-id="429b1-167">Besturingssysteemschijf</span><span class="sxs-lookup"><span data-stu-id="429b1-167">Operating system disk</span></span>

<span data-ttu-id="429b1-168">De schijf van een besturingssysteem is een VHD die u kunt opstarten en koppelen als een versie van een besturingssysteem en wordt aangeduid als **C** station.</span><span class="sxs-lookup"><span data-stu-id="429b1-168">An operating system disk is a VHD that you can boot and mount as a running version of an operating system and is labeled as **C** drive.</span></span>

<span data-ttu-id="429b1-169">Standaardwaarde cachebeleid op de schijf van het besturingssysteem is **lezen/schrijven**.</span><span class="sxs-lookup"><span data-stu-id="429b1-169">Default caching policy on the operating system disk is **Read/Write**.</span></span> <span data-ttu-id="429b1-170">Voor gevoelige toepassingen prestaties, is het raadzaam dat u gegevensschijven in plaats van de besturingssysteemschijf.</span><span class="sxs-lookup"><span data-stu-id="429b1-170">For performance sensitive applications, we recommend that you use data disks instead of the operating system disk.</span></span> <span data-ttu-id="429b1-171">Zie het gedeelte over gegevensschijven hieronder.</span><span class="sxs-lookup"><span data-stu-id="429b1-171">See the section on Data Disks below.</span></span>

### <a name="temporary-disk"></a><span data-ttu-id="429b1-172">Tijdelijke schijf</span><span class="sxs-lookup"><span data-stu-id="429b1-172">Temporary disk</span></span>

<span data-ttu-id="429b1-173">Het station voor tijdelijke opslag, aangeduid als de **D**: schijf, is niet opgeslagen in Azure blob-opslag.</span><span class="sxs-lookup"><span data-stu-id="429b1-173">The temporary storage drive, labeled as the **D**: drive, is not persisted to Azure blob storage.</span></span> <span data-ttu-id="429b1-174">Sla niet uw Gebruikersdatabasebestanden of transactielogboekbestanden gebruiker op de **D**: station.</span><span class="sxs-lookup"><span data-stu-id="429b1-174">Do not store your user database files or user transaction log files on the **D**: drive.</span></span>

<span data-ttu-id="429b1-175">Voor D-reeks, Dv2-serie en G-serie virtuele machines is het tijdelijke station op deze virtuele machines op SSD gebaseerd.</span><span class="sxs-lookup"><span data-stu-id="429b1-175">For D-series, Dv2-series, and G-series VMs, the temporary drive on these VMs is SSD-based.</span></span> <span data-ttu-id="429b1-176">Als uw werkbelasting intensief gebruik van TempDB (bijvoorbeeld voor tijdelijke objecten of complexe joins maakt) TempDB opslaan op de **D** station kan leiden tot hogere TempDB-doorvoer en lagere latentie van TempDB.</span><span class="sxs-lookup"><span data-stu-id="429b1-176">If your workload makes heavy use of TempDB (e.g. for temporary objects or complex joins), storing TempDB on the **D** drive could result in higher TempDB throughput and lower TempDB latency.</span></span>

<span data-ttu-id="429b1-177">Voor virtuele machines die ondersteuning bieden voor Premium-opslag (DS-serie, DSv2-serie en GS-serie), wordt u aangeraden TempDB opslaan op een schijf die ondersteuning biedt voor Premium-opslag met lees-caching is ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="429b1-177">For VMs that support Premium Storage (DS-series, DSv2-series, and GS-series), we recommend storing TempDB on a disk that supports Premium Storage with read caching enabled.</span></span> <span data-ttu-id="429b1-178">Er is een uitzondering op deze aanbeveling; Als het gebruik van uw TempDB intensief gebruik gemaakt schrijven wordt, kunt u betere prestaties bereiken doordat de TempDB op de lokale **D** station, dat ook SSD op basis van de grootte van deze machine.</span><span class="sxs-lookup"><span data-stu-id="429b1-178">There is one exception to this recommendation; if your TempDB usage is write-intensive, you can achieve higher performance by storing TempDB on the local **D** drive, which is also SSD-based on these machine sizes.</span></span>

### <a name="data-disks"></a><span data-ttu-id="429b1-179">Gegevensschijven</span><span class="sxs-lookup"><span data-stu-id="429b1-179">Data disks</span></span>

* <span data-ttu-id="429b1-180">**Gegevensschijven gebruiken voor gegevens en logboekbestanden**: ten minste 2 Premium-opslag gebruiken [P30 schijven](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) waar Ã©Ã©n schijf bevat de logboekbestanden en de andere bevat de gegevens en bestanden van TempDB.</span><span class="sxs-lookup"><span data-stu-id="429b1-180">**Use data disks for data and log files**: At a minimum, use 2 Premium Storage [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) where one disk contains the log file(s) and the other contains the data and TempDB file(s).</span></span> <span data-ttu-id="429b1-181">Elke schijf Premium-opslag biedt een aantal IOPs en bandbreedte (MB/s), afhankelijk van de grootte, zoals beschreven in het volgende artikel: [Premium-opslag voor schijven met behulp van](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="429b1-181">Each Premium Storage disk provides a number of IOPs and bandwidth (MB/s) depending on its size, as described in the following article: [Using Premium Storage for Disks](../../../storage/common/storage-premium-storage.md).</span></span>

* <span data-ttu-id="429b1-182">**Striping schijf**: voor een meer doorvoer, kunt u extra gegevensschijven toevoegen en gebruiken van Striping van de schijf.</span><span class="sxs-lookup"><span data-stu-id="429b1-182">**Disk Striping**: For more throughput, you can add additional data disks and use Disk Striping.</span></span> <span data-ttu-id="429b1-183">Om te bepalen het aantal gegevensschijven, moet u het aantal IOPS en bandbreedte die is vereist voor uw logboekbestanden, en voor uw gegevens en bestanden TempDB analyseren.</span><span class="sxs-lookup"><span data-stu-id="429b1-183">To determine the number of data disks, you need to analyze the number of IOPS and bandwidth required for your log file(s), and for your data and TempDB file(s).</span></span> <span data-ttu-id="429b1-184">U ziet dat andere VM-grootten verschillende beperkingen hebben op het aantal IOPs en bandbreedte die wordt ondersteund, raadpleegt u de tabellen op IOP's per [VM-grootte](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="429b1-184">Notice that different VM sizes have different limits on the number of IOPs and bandwidth supported, see the tables on IOPS per [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="429b1-185">Gebruik de volgende richtlijnen:</span><span class="sxs-lookup"><span data-stu-id="429b1-185">Use the following guidelines:</span></span>

  * <span data-ttu-id="429b1-186">Gebruik voor Windows 8/Windows Server 2012 of later, [opslagruimten](https://technet.microsoft.com/library/hh831739.aspx) met de volgende richtlijnen:</span><span class="sxs-lookup"><span data-stu-id="429b1-186">For Windows 8/Windows Server 2012 or later, use [Storage Spaces](https://technet.microsoft.com/library/hh831739.aspx) with the following guidelines:</span></span>

      1. <span data-ttu-id="429b1-187">Stel de interleave (stripe-grootte) op 64 KB (65536 bytes) voor OLTP-werkbelastingen en 256 KB (262144 bytes) voor magazijnbeheer werkbelastingen gegevens om te voorkomen dat van invloed op de prestaties als gevolg van onjuiste uitlijning partitie.</span><span class="sxs-lookup"><span data-stu-id="429b1-187">Set the interleave (stripe size) to 64 KB (65536 bytes) for OLTP workloads and 256 KB (262144 bytes) for data warehousing workloads to avoid performance impact due to partition misalignment.</span></span> <span data-ttu-id="429b1-188">Dit moet worden ingesteld met PowerShell.</span><span class="sxs-lookup"><span data-stu-id="429b1-188">This must be set with PowerShell.</span></span>
      1. <span data-ttu-id="429b1-189">Aantal kolommen ingesteld = het aantal fysieke schijven.</span><span class="sxs-lookup"><span data-stu-id="429b1-189">Set column count = number of physical disks.</span></span> <span data-ttu-id="429b1-190">PowerShell gebruiken bij het configureren van meer dan 8 schijven (geen Server Manager UI).</span><span class="sxs-lookup"><span data-stu-id="429b1-190">Use PowerShell when configuring more than 8 disks (not Server Manager UI).</span></span> 

    <span data-ttu-id="429b1-191">De volgende PowerShell wordt een nieuwe opslaggroep gemaakt met de grootte interleave 64 KB en het aantal kolommen in 2:</span><span class="sxs-lookup"><span data-stu-id="429b1-191">For example, the following PowerShell creates a new storage pool with the interleave size to 64 KB and the number of columns to 2:</span></span>

    ```powershell
    $PoolCount = Get-PhysicalDisk -CanPool $True
    $PhysicalDisks = Get-PhysicalDisk | Where-Object {$_.FriendlyName -like "*2" -or $_.FriendlyName -like "*3"}

    New-StoragePool -FriendlyName "DataFiles" -StorageSubsystemFriendlyName "Storage Spaces*" -PhysicalDisks $PhysicalDisks | New-VirtualDisk -FriendlyName "DataFiles" -Interleave 65536 -NumberOfColumns 2 -ResiliencySettingName simple âUseMaximumSize |Initialize-Disk -PartitionStyle GPT -PassThru |New-Partition -AssignDriveLetter -UseMaximumSize |Format-Volume -FileSystem NTFS -NewFileSystemLabel "DataDisks" -AllocationUnitSize 65536 -Confirm:$false 
    ```

  * <span data-ttu-id="429b1-192">Voor Windows 2008 R2 of eerder, kunt u dynamische schijven (OS striped volumes) en de stripe-grootte is altijd 64 KB.</span><span class="sxs-lookup"><span data-stu-id="429b1-192">For Windows 2008 R2 or earlier, you can use dynamic disks (OS striped volumes) and the stripe size is always 64 KB.</span></span> <span data-ttu-id="429b1-193">Houd er rekening mee dat deze optie is afgeschaft vanaf Windows 8 of Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="429b1-193">Note that this option is deprecated as of Windows 8/Windows Server 2012.</span></span> <span data-ttu-id="429b1-194">Zie voor meer informatie, de instructie ondersteuning op [Virtual Disk-Service in een overgang naar Windows Storage Management API](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span><span class="sxs-lookup"><span data-stu-id="429b1-194">For information, see the support statement at [Virtual Disk Service is transitioning to Windows Storage Management API](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span></span>

  * <span data-ttu-id="429b1-195">Als uw werkbelasting geen logboek intensieve is en niet toegewezen IOP's hoeft, kunt u slechts Ã©Ã©n opslaggroep kunt configureren.</span><span class="sxs-lookup"><span data-stu-id="429b1-195">If your workload is not log intensive and does not need dedicated IOPs, you can configure just one storage pool.</span></span> <span data-ttu-id="429b1-196">Anders maakt u twee opslaggroepen, Ã©Ã©n voor de logboekbestanden en een andere opslaggroep voor de gegevensbestanden en TempDB.</span><span class="sxs-lookup"><span data-stu-id="429b1-196">Otherwise, create two storage pools, one for the log file(s) and another storage pool for the data file(s) and TempDB.</span></span> <span data-ttu-id="429b1-197">Het aantal schijven die zijn gekoppeld aan elke opslaggroep op basis van de load-verwachtingen bepalen.</span><span class="sxs-lookup"><span data-stu-id="429b1-197">Determine the number of disks associated with each storage pool based on your load expectations.</span></span> <span data-ttu-id="429b1-198">Houd er rekening mee dat andere VM-grootten toestaan verschillend aantal gegevensschijven gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="429b1-198">Keep in mind that different VM sizes allow different numbers of attached data disks.</span></span> <span data-ttu-id="429b1-199">Zie voor meer informatie [grootten voor virtuele Machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="429b1-199">For more information, see [Sizes for Virtual Machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

  * <span data-ttu-id="429b1-200">Als u geen Premium-opslag (ontwikkelen en testen scenario's), de aanbeveling is het toevoegen van het maximum aantal gegevensschijven dat wordt ondersteund door uw [VM-grootte](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) en schijf-Striping gebruiken.</span><span class="sxs-lookup"><span data-stu-id="429b1-200">If you are not using Premium Storage (dev/test scenarios), the recommendation is to add the maximum number of data disks supported by your [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) and use Disk Striping.</span></span>

* <span data-ttu-id="429b1-201">**Cachebeleid**: gegevensschijven voor de Premium-opslag, inschakelen Lees-caching op de gegevensschijven gegevensbestanden en TempDB alleen hosten.</span><span class="sxs-lookup"><span data-stu-id="429b1-201">**Caching policy**: For Premium Storage data disks, enable read caching on the data disks hosting your data files and TempDB only.</span></span> <span data-ttu-id="429b1-202">Als u geen Premium-opslag gebruikt, niet is ingeschakeld eventuele cachegebruik op eventuele gegevensschijven.</span><span class="sxs-lookup"><span data-stu-id="429b1-202">If you are not using Premium Storage, do not enable any caching on any data disks.</span></span> <span data-ttu-id="429b1-203">Voor instructies over het configureren van de schijfcache, raadpleegt u de volgende onderwerpen: [Set AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) en [Set AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span><span class="sxs-lookup"><span data-stu-id="429b1-203">For instructions on configuring disk caching, see the following topics: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) and [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span></span>

  > [!WARNING]
  > <span data-ttu-id="429b1-204">Stop de service SQL Server bij het wijzigen van de cache-instelling van de virtuele machine van Azure-schijven om te voorkomen dat de mogelijkheid van een beschadiging van de database.</span><span class="sxs-lookup"><span data-stu-id="429b1-204">Stop the SQL Server service when changing the cache setting of Azure VM disks to avoid the possibility of any database corruption.</span></span>

* <span data-ttu-id="429b1-205">**Clustergrootte van NTFS**: bij het opmaken van de gegevensschijf wordt aanbevolen dat u een clustergrootte van 64 KB voor gegevens en logboekbestanden, evenals TempDB.</span><span class="sxs-lookup"><span data-stu-id="429b1-205">**NTFS allocation unit size**: When formatting the data disk, it is recommended that you use a 64-KB allocation unit size for data and log files as well as TempDB.</span></span>

* <span data-ttu-id="429b1-206">**Best practices voor schijf**: wanneer een gegevensschijf verwijderen of wijzigen van een cachetype, de SQL Server-service stoppen tijdens de wijziging.</span><span class="sxs-lookup"><span data-stu-id="429b1-206">**Disk management best practices**: When removing a data disk or changing its cache type, stop the SQL Server service during the change.</span></span> <span data-ttu-id="429b1-207">Wanneer de cache-instellingen worden gewijzigd op de schijf met het besturingssysteem, Azure stopt de virtuele machine, wijzigt u het cachetype, en de virtuele machine opnieuw is opgestart.</span><span class="sxs-lookup"><span data-stu-id="429b1-207">When the caching settings are changed on the OS disk, Azure stops the VM, changes the cache type, and restarts the VM.</span></span> <span data-ttu-id="429b1-208">Wanneer een gegevensschijf van de cache-instellingen worden gewijzigd, wordt de virtuele machine is niet gestopt, maar de gegevensschijf is losgekoppeld van de virtuele machine tijdens de wijziging en klik vervolgens opnieuw.</span><span class="sxs-lookup"><span data-stu-id="429b1-208">When the cache settings of a data disk are changed, the VM is not stopped, but the data disk is detached from the VM during the change and then reattached.</span></span>

  > [!WARNING]
  > <span data-ttu-id="429b1-209">De SQL Server-service tijdens deze bewerkingen stoppen is mislukt, kan leiden tot beschadiging van de database.</span><span class="sxs-lookup"><span data-stu-id="429b1-209">Failure to stop the SQL Server service during these operations can cause database corruption.</span></span>

## <a name="io-guidance"></a><span data-ttu-id="429b1-210">I/o-richtlijnen</span><span class="sxs-lookup"><span data-stu-id="429b1-210">I/O guidance</span></span>

* <span data-ttu-id="429b1-211">De beste resultaten met Premium-opslag zijn bereikt wanneer u uw toepassing en aanvragen parallelize.</span><span class="sxs-lookup"><span data-stu-id="429b1-211">The best results with Premium Storage are achieved when you parallelize your application and requests.</span></span> <span data-ttu-id="429b1-212">Premium-opslag is bedoeld voor scenario's waarbij de i/o-wachtrijdiepte groter dan 1, is daarom u weinig of geen prestatieverbeteringen voor seriÃ«le aanvragen single thread ziet (zelfs als ze zich intensieve opslag).</span><span class="sxs-lookup"><span data-stu-id="429b1-212">Premium Storage is designed for scenarios where the IO queue depth is greater than 1, so you will see little or no performance gains for single-threaded serial requests (even if they are storage intensive).</span></span> <span data-ttu-id="429b1-213">Dit kan bijvoorbeeld van de testresultaten single thread-prestaties analyseprogramma's, zoals SQLIO invloed.</span><span class="sxs-lookup"><span data-stu-id="429b1-213">For example, this could impact the single-threaded test results of performance analysis tools, such as SQLIO.</span></span>

* <span data-ttu-id="429b1-214">Overweeg het gebruik van [database pagina compressie](https://msdn.microsoft.com/library/cc280449.aspx) zoals kunt verbeteren de prestaties van i/o-intensieve werkbelastingen.</span><span class="sxs-lookup"><span data-stu-id="429b1-214">Consider using [database page compression](https://msdn.microsoft.com/library/cc280449.aspx) as it can help improve performance of I/O intensive workloads.</span></span> <span data-ttu-id="429b1-215">De compressie van gegevens kan echter de CPU-verbruik op de databaseserver verhogen.</span><span class="sxs-lookup"><span data-stu-id="429b1-215">However, the data compression might increase the CPU consumption on the database server.</span></span>

* <span data-ttu-id="429b1-216">Overweeg in te schakelen instant file-initialisatie in minder tijd die nodig is voor de toewijzing van het eerste bestand.</span><span class="sxs-lookup"><span data-stu-id="429b1-216">Consider enabling instant file initialization to reduce the time that is required for initial file allocation.</span></span> <span data-ttu-id="429b1-217">Om te profiteren van de initialisatie van de directe bestanden, u de SQL Server (MSSQLSERVER) serviceaccount met SE_MANAGE_VOLUME_NAME verlenen en toe te voegen aan de **volumeonderhoudstaken uitvoeren** beveiligingsbeleid.</span><span class="sxs-lookup"><span data-stu-id="429b1-217">To take advantage of instant file initialization, you grant the SQL Server (MSSQLSERVER) service account with SE_MANAGE_VOLUME_NAME and add it to the **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="429b1-218">Als u van een SQL Server-platforminstallatiekopie voor Azure gebruikmaakt, de standaard-serviceaccount (NT Service\MSSQLSERVER) is niet toegevoegd aan de **volumeonderhoudstaken uitvoeren** beveiligingsbeleid.</span><span class="sxs-lookup"><span data-stu-id="429b1-218">If you are using a SQL Server platform image for Azure, the default service account (NT Service\MSSQLSERVER) isnât added to the **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="429b1-219">Initialisatie van de directe bestanden met andere woorden, niet is ingeschakeld in een installatiekopie van SQL Server-Azure-platform.</span><span class="sxs-lookup"><span data-stu-id="429b1-219">In other words, instant file initialization is not enabled in a SQL Server Azure platform image.</span></span> <span data-ttu-id="429b1-220">Na het toevoegen van de SQL Server-serviceaccount de **volumeonderhoudstaken uitvoeren** beveiligingsbeleid, de SQL Server-service opnieuw starten.</span><span class="sxs-lookup"><span data-stu-id="429b1-220">After adding the SQL Server service account to the **Perform Volume Maintenance Tasks** security policy, restart the SQL Server service.</span></span> <span data-ttu-id="429b1-221">Er zijn beveiligingsoverwegingen voor het gebruik van deze functie.</span><span class="sxs-lookup"><span data-stu-id="429b1-221">There could be security considerations for using this feature.</span></span> <span data-ttu-id="429b1-222">Zie voor meer informatie [initialiseren van de Database-bestand](https://msdn.microsoft.com/library/ms175935.aspx).</span><span class="sxs-lookup"><span data-stu-id="429b1-222">For more information, see [Database File Initialization](https://msdn.microsoft.com/library/ms175935.aspx).</span></span>

* <span data-ttu-id="429b1-223">**autogrow** wordt beschouwd als slechts een geval van nood voor onverwachte groei.</span><span class="sxs-lookup"><span data-stu-id="429b1-223">**autogrow** is considered to be merely a contingency for unexpected growth.</span></span> <span data-ttu-id="429b1-224">Beheert de groei van uw gegevens en logboekbestanden op dagelijks met autogrow niet.</span><span class="sxs-lookup"><span data-stu-id="429b1-224">Do not manage your data and log growth on a day-to-day basis with autogrow.</span></span> <span data-ttu-id="429b1-225">Als autogrow wordt gebruikt, is vooraf uitbreiding van het bestand met de schakeloptie grootte.</span><span class="sxs-lookup"><span data-stu-id="429b1-225">If autogrow is used, pre-grow the file using the Size switch.</span></span>

* <span data-ttu-id="429b1-226">Zorg ervoor dat **autoshrink** is uitgeschakeld om te voorkomen dat onnodige overhead die u kunt de prestaties negatief beÃ¯nvloeden.</span><span class="sxs-lookup"><span data-stu-id="429b1-226">Make sure **autoshrink** is disabled to avoid unnecessary overhead that can negatively affect performance.</span></span>

* <span data-ttu-id="429b1-227">Verplaats alle databases naar gegevensschijven, met inbegrip van systeemdatabases.</span><span class="sxs-lookup"><span data-stu-id="429b1-227">Move all databases to data disks, including system databases.</span></span> <span data-ttu-id="429b1-228">Zie voor meer informatie [systeemdatabases verplaatsen](https://msdn.microsoft.com/library/ms345408.aspx).</span><span class="sxs-lookup"><span data-stu-id="429b1-228">For more information, see [Move System Databases](https://msdn.microsoft.com/library/ms345408.aspx).</span></span>

* <span data-ttu-id="429b1-229">SQL Server-fout logboek- en traceringsbestanden bestandsmappen naar gegevensschijven verplaatsen.</span><span class="sxs-lookup"><span data-stu-id="429b1-229">Move SQL Server error log and trace file directories to data disks.</span></span> <span data-ttu-id="429b1-230">Dit is mogelijk in SQL Server Configuration Manager met de rechtermuisknop op uw SQL Server-exemplaar eigenschappen te selecteren.</span><span class="sxs-lookup"><span data-stu-id="429b1-230">This can be done in SQL Server Configuration Manager by right-clicking your SQL Server instance and selecting properties.</span></span> <span data-ttu-id="429b1-231">De instellingen voor foutpagina logboek- en traceringsbestanden bestand kunnen worden gewijzigd in de **opstartparameters** tabblad. De map Dump is opgegeven in de **Geavanceerd** tabblad. De volgende schermafbeelding ziet waar de fout logboek starten van de parameter.</span><span class="sxs-lookup"><span data-stu-id="429b1-231">The error log and trace file settings can be changed in the **Startup Parameters** tab. The Dump Directory is specified in the **Advanced** tab. The following screenshot shows where to look for the error log startup parameter.</span></span>

    ![Schermafbeelding van de SQL-foutenlogboek](./media/virtual-machines-windows-sql-performance/sql_server_error_log_location.png)

* <span data-ttu-id="429b1-233">Het instellen van standaardbestandslocaties voor back-up en -database.</span><span class="sxs-lookup"><span data-stu-id="429b1-233">Setup default backup and database file locations.</span></span> <span data-ttu-id="429b1-234">Gebruik de aanbevelingen in dit onderwerp en de wijzigingen aanbrengen in het eigenschappenvenster van de Server.</span><span class="sxs-lookup"><span data-stu-id="429b1-234">Use the recommendations in this topic, and make the changes in the Server properties window.</span></span> <span data-ttu-id="429b1-235">Zie voor instructies [weergeven of wijzigen van de standaard locaties voor gegevens en logboekbestanden (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span><span class="sxs-lookup"><span data-stu-id="429b1-235">For instructions, see [View or Change the Default Locations for Data and Log Files (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span></span> <span data-ttu-id="429b1-236">De volgende schermafbeelding ziet u waar u deze wijzigingen aanbrengt.</span><span class="sxs-lookup"><span data-stu-id="429b1-236">The following screenshot demonstrates where to make these changes.</span></span>

    ![Logboekbestanden voor SQL-gegevens en back-up](./media/virtual-machines-windows-sql-performance/sql_server_default_data_log_backup_locations.png)
* <span data-ttu-id="429b1-238">Vergrendelde pagina's te verminderen, IO en eventuele activiteiten Paginering inschakelen.</span><span class="sxs-lookup"><span data-stu-id="429b1-238">Enable locked pages to reduce IO and any paging activities.</span></span> <span data-ttu-id="429b1-239">Zie voor meer informatie [inschakelen van de vergrendeling pagina's in de optie geheugen (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span><span class="sxs-lookup"><span data-stu-id="429b1-239">For more information, see [Enable the Lock Pages in Memory Option (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span></span>

* <span data-ttu-id="429b1-240">Als u SQL Server 2012 uitvoert, installeert u Service Pack 1 Cumulative Update 10.</span><span class="sxs-lookup"><span data-stu-id="429b1-240">If you are running SQL Server 2012, install Service Pack 1 Cumulative Update 10.</span></span> <span data-ttu-id="429b1-241">Deze update bevat de oplossing voor slechte prestaties in i/o tijdens het uitvoeren van select into-instructie van de tijdelijke tabel in SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="429b1-241">This update contains the fix for poor performance on I/O when you execute select into temporary table statement in SQL Server 2012.</span></span> <span data-ttu-id="429b1-242">Zie voor meer informatie, dit [knowledge base-artikel](http://support.microsoft.com/kb/2958012).</span><span class="sxs-lookup"><span data-stu-id="429b1-242">For information, see this [knowledge base article](http://support.microsoft.com/kb/2958012).</span></span>

* <span data-ttu-id="429b1-243">Overweeg het comprimeren van gegevensbestanden bij de overdracht / out van Azure.</span><span class="sxs-lookup"><span data-stu-id="429b1-243">Consider compressing any data files when transferring in/out of Azure.</span></span>

## <a name="feature-specific-guidance"></a><span data-ttu-id="429b1-244">Functie voor specifieke aanwijzingen</span><span class="sxs-lookup"><span data-stu-id="429b1-244">Feature specific guidance</span></span>

<span data-ttu-id="429b1-245">Sommige implementaties mogelijk extra prestatievoordelen met behulp van meer geavanceerde configuratie technieken bereiken.</span><span class="sxs-lookup"><span data-stu-id="429b1-245">Some deployments may achieve additional performance benefits using more advanced configuration techniques.</span></span> <span data-ttu-id="429b1-246">De volgende lijst worden gemarkeerd voor sommige SQL Server-functies waarmee u betere prestaties bereiken:</span><span class="sxs-lookup"><span data-stu-id="429b1-246">The following list highlights some SQL Server features that can help you to achieve better performance:</span></span>

* <span data-ttu-id="429b1-247">**Back-up naar Azure storage**: bij het uitvoeren van back-ups voor SQL Server op Azure virtuele machines, kunt u [SQL Server back-up naar URL](https://msdn.microsoft.com/library/dn435916.aspx).</span><span class="sxs-lookup"><span data-stu-id="429b1-247">**Backup to Azure storage**: When performing backups for SQL Server running in Azure virtual machines, you can use [SQL Server Backup to URL](https://msdn.microsoft.com/library/dn435916.aspx).</span></span> <span data-ttu-id="429b1-248">Deze functie is beschikbaar vanaf SQL Server 2012 SP1 CU2 en aanbevolen voor back-ups op de schijven bijgesloten gegevens.</span><span class="sxs-lookup"><span data-stu-id="429b1-248">This feature is available starting with SQL Server 2012 SP1 CU2 and recommended for backing up to the attached data disks.</span></span> <span data-ttu-id="429b1-249">Wanneer u back-up/herstel naar/van de Azure-opslag, volgt u de aanbevelingen op [SQL Server back-up naar URL aanbevolen procedures en probleemoplossing en terugzetten van back-ups die zijn opgeslagen in Azure Storage](https://msdn.microsoft.com/library/jj919149.aspx).</span><span class="sxs-lookup"><span data-stu-id="429b1-249">When you backup/restore to/from Azure storage, follow the recommendations provided at [SQL Server Backup to URL Best Practices and Troubleshooting and Restoring from Backups Stored in Azure Storage](https://msdn.microsoft.com/library/jj919149.aspx).</span></span> <span data-ttu-id="429b1-250">U kunt ook deze back-ups met automatiseren [automatische back-up voor SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span><span class="sxs-lookup"><span data-stu-id="429b1-250">You can also automate these backups using [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

    <span data-ttu-id="429b1-251">Voorafgaand aan SQL Server 2012, kunt u [SQL Server back-up naar Azure hulpprogramma](https://www.microsoft.com/download/details.aspx?id=40740).</span><span class="sxs-lookup"><span data-stu-id="429b1-251">Prior to SQL Server 2012, you can use [SQL Server Backup to Azure Tool](https://www.microsoft.com/download/details.aspx?id=40740).</span></span> <span data-ttu-id="429b1-252">Dit hulpprogramma kunt u back-doorvoer met meerdere back-stripe-doelen te verhogen.</span><span class="sxs-lookup"><span data-stu-id="429b1-252">This tool can help to increase backup throughput using multiple backup stripe targets.</span></span>

* <span data-ttu-id="429b1-253">**SQL Server-gegevensbestanden in Azure**: deze nieuwe functie [SQL Server-gegevensbestanden in Azure](https://msdn.microsoft.com/library/dn385720.aspx), is beschikbaar vanaf SQL Server 2014.</span><span class="sxs-lookup"><span data-stu-id="429b1-253">**SQL Server Data Files in Azure**: This new feature, [SQL Server Data Files in Azure](https://msdn.microsoft.com/library/dn385720.aspx), is available starting with SQL Server 2014.</span></span> <span data-ttu-id="429b1-254">Met SQL Server met gegevensbestanden in Azure, ziet u vergelijkbare prestatiekenmerken als het gebruik van Azure gegevensschijven.</span><span class="sxs-lookup"><span data-stu-id="429b1-254">Running SQL Server with data files in Azure demonstrates comparable performance characteristics as using Azure data disks.</span></span>

## <a name="next-steps"></a><span data-ttu-id="429b1-255">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="429b1-255">Next Steps</span></span>

<span data-ttu-id="429b1-256">Zie voor aanbevolen procedures voor beveiliging, [beveiligingsoverwegingen voor het SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span><span class="sxs-lookup"><span data-stu-id="429b1-256">For security best practices, see [Security Considerations for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span></span>

<span data-ttu-id="429b1-257">Zie de andere virtuele Machine van SQL Server-onderwerpen op [SQL Server op Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="429b1-257">Review other SQL Server Virtual Machine topics at [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
