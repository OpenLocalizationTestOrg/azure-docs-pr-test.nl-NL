---
title: Overwegingen voor SQL Server in Azure aaaSecurity | Microsoft Docs
description: Dit onderwerp bevat algemene richtlijnen voor het beveiligen van SQL Server wordt uitgevoerd in een virtuele Machine van Azure.
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: d710c296-e490-43e7-8ca9-8932586b71da
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 06/02/2017
ms.author: jroth
ms.openlocfilehash: 14c3d828fa87446da67beea6d28886de254afe15
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="security-considerations-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="55861-103">Veiligheidsoverwegingen voor SQL Server in Azure Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="55861-103">Security Considerations for SQL Server in Azure Virtual Machines</span></span>

<span data-ttu-id="55861-104">Dit onderwerp bevat algemene richtlijnen voor beveiliging die helpt bij het vaststellen van beveiligde toegang tooSQL Server-exemplaren in Azure een virtuele machine (VM).</span><span class="sxs-lookup"><span data-stu-id="55861-104">This topic includes overall security guidelines that help establish secure access tooSQL Server instances in an Azure virtual machine (VM).</span></span>

<span data-ttu-id="55861-105">Azure voldoet aan de verschillende regelgeving vanuit de sector en standaarden waarmee u kunnen een compatibele oplossing toobuild met SQL Server in een virtuele machine wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="55861-105">Azure complies with several industry regulations and standards that can enable you toobuild a compliant solution with SQL Server running in a virtual machine.</span></span> <span data-ttu-id="55861-106">Zie voor meer informatie over de naleving van regelgeving met Azure [Azure Vertrouwenscentrum](https://azure.microsoft.com/support/trust-center/).</span><span class="sxs-lookup"><span data-stu-id="55861-106">For information about regulatory compliance with Azure, see [Azure Trust Center](https://azure.microsoft.com/support/trust-center/).</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="control-access-toohello-sql-vm"></a><span data-ttu-id="55861-107">Beheer toegang toohello SQL VM</span><span class="sxs-lookup"><span data-stu-id="55861-107">Control access toohello SQL VM</span></span>

<span data-ttu-id="55861-108">Wanneer u uw virtuele machine van SQL Server maakt, kunt u overwegen hoe toocarefully bepalen wie toegang toohello machine en tooSQL Server.</span><span class="sxs-lookup"><span data-stu-id="55861-108">When you create your SQL Server virtual machine, consider how toocarefully control who has access toohello machine and tooSQL Server.</span></span> <span data-ttu-id="55861-109">In het algemeen moet u doen Hallo volgende:</span><span class="sxs-lookup"><span data-stu-id="55861-109">In general, you should do hello following:</span></span>

- <span data-ttu-id="55861-110">Beperken van toegang tooSQL tooonly Hallo servertoepassingen en clients die u nodig hebt.</span><span class="sxs-lookup"><span data-stu-id="55861-110">Restrict access tooSQL Server tooonly hello applications and clients that need it.</span></span>
- <span data-ttu-id="55861-111">Volg de aanbevolen procedures voor het beheren van gebruikersaccounts en wachtwoorden.</span><span class="sxs-lookup"><span data-stu-id="55861-111">Follow best practices for managing user accounts and passwords.</span></span>

<span data-ttu-id="55861-112">Hallo volgende secties bieden suggesties over denken via deze punten.</span><span class="sxs-lookup"><span data-stu-id="55861-112">hello following sections provide suggestions on thinking through these points.</span></span>

## <a name="secure-connections"></a><span data-ttu-id="55861-113">Beveiligde verbindingen</span><span class="sxs-lookup"><span data-stu-id="55861-113">Secure connections</span></span>

<span data-ttu-id="55861-114">Wanneer u een virtuele machine van SQL Server met een afbeelding maakt, Hallo **SQL Server-verbindingen** optie geeft u de keuze van Hallo **lokale (binnen VM)**, **privé (binnen virtueel netwerk)** , of **openbaar (Internet)**.</span><span class="sxs-lookup"><span data-stu-id="55861-114">When you create a SQL Server virtual machine with a gallery image, hello **SQL Server Connectivity** option gives you hello choice of **Local (inside VM)**, **Private (within Virtual Network)**, or **Public (Internet)**.</span></span>

![SQL Server-verbinding](./media/virtual-machines-windows-sql-security/sql-vm-connectivity-option.png)

<span data-ttu-id="55861-116">Voor de beste beveiliging Hallo optie Hallo meest beperkende voor uw scenario.</span><span class="sxs-lookup"><span data-stu-id="55861-116">For hello best security, choose hello most restrictive option for your scenario.</span></span> <span data-ttu-id="55861-117">Bijvoorbeeld, als u een toepassing die toegang heeft tot SQL Server op Hallo dezelfde VM vervolgens **lokale** is de veiligste optie Hallo.</span><span class="sxs-lookup"><span data-stu-id="55861-117">For example, if you are running an application that accesses SQL Server on hello same VM, then **Local** is hello most secure choice.</span></span> <span data-ttu-id="55861-118">Als u werkt met een Azure-toepassing waarvoor toegang toohello SQL Server vervolgens **persoonlijke** communicatie tooSQL Server alleen binnen de opgegeven Hallo beveiligt [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="55861-118">If you are running an Azure application that requires access toohello SQL Server, then **Private** secures communication tooSQL Server only within hello specified [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="55861-119">Als u nodig hebt **openbare** (internest) toegang toohello SQL Server VM vervolgens Zorg ervoor dat toofollow andere aanbevolen procedures in dit onderwerp tooreduce uw oppervlak aanval.</span><span class="sxs-lookup"><span data-stu-id="55861-119">If you require **Public** (internest) access toohello SQL Server VM, then make sure toofollow other best practices in this topic tooreduce your attack surface area.</span></span>

<span data-ttu-id="55861-120">Hallo geselecteerde opties in de portal hello gebruiken inkomende beveiligingsregels op Hallo VMs [Netwerkbeveiligingsgroep](../../../virtual-network/virtual-networks-nsg.md) tooallow (NSG) of weigeren netwerkverkeer tooyour virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="55861-120">hello selected options in hello portal use inbound security rules on hello VMs [Network Security Group](../../../virtual-network/virtual-networks-nsg.md) (NSG) tooallow or deny network traffic tooyour virtual machine.</span></span> <span data-ttu-id="55861-121">U kunt wijzigen of nieuwe inkomende NSG-regels maken tooallow verkeer toohello SQL Server-poort (standaard 1433).</span><span class="sxs-lookup"><span data-stu-id="55861-121">You can modify or create new inbound NSG rules tooallow traffic toohello SQL Server port (default 1433).</span></span> <span data-ttu-id="55861-122">U kunt ook bepaalde IP-adressen die toocommunicate via deze poort mogen opgeven.</span><span class="sxs-lookup"><span data-stu-id="55861-122">You can also specify specific IP addresses that are allowed toocommunicate over this port.</span></span>

![Netwerkbeveiligingsgroepen](./media/virtual-machines-windows-sql-security/sql-vm-network-security-group-rules.png)

<span data-ttu-id="55861-124">Bovendien tooNSG toorestrict netwerkverkeer regels, kunt u ook Hallo Windows Firewall op Hallo virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="55861-124">In addition tooNSG rules toorestrict network traffic, you can also use hello Windows Firewall on hello virtual machine.</span></span>

<span data-ttu-id="55861-125">Als u van eindpunten met het klassieke implementatiemodel hello gebruikmaakt, verwijdert u geen eindpunten op Hallo virtuele machine als u deze niet gebruikt.</span><span class="sxs-lookup"><span data-stu-id="55861-125">If you are using endpoints with hello classic deployment model, remove any endpoints on hello virtual machine if you do not use them.</span></span> <span data-ttu-id="55861-126">Zie voor instructies over het gebruik van ACL's met eindpunten [beheren Hallo ACL op een eindpunt](../classic/setup-endpoints.md#manage-the-acl-on-an-endpoint).</span><span class="sxs-lookup"><span data-stu-id="55861-126">For instructions on using ACLs with endpoints, see [Manage hello ACL on an endpoint](../classic/setup-endpoints.md#manage-the-acl-on-an-endpoint).</span></span> <span data-ttu-id="55861-127">Dit is niet nodig is voor virtuele machines die gebruikmaken van Hallo Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="55861-127">This is not necessary for VMs that use hello Resource Manager.</span></span>

<span data-ttu-id="55861-128">Ten slotte kunt u de versleutelde verbindingen voor Hallo exemplaar van SQL Server Database Engine Hallo uw virtuele machine van Azure inschakelen.</span><span class="sxs-lookup"><span data-stu-id="55861-128">Finally, consider enabling encrypted connections for hello instance of hello SQL Server Database Engine in your Azure virtual machine.</span></span> <span data-ttu-id="55861-129">Configureer SQL server-exemplaar met een ondertekend certificaat.</span><span class="sxs-lookup"><span data-stu-id="55861-129">Configure SQL server instance with a signed certificate.</span></span> <span data-ttu-id="55861-130">Zie voor meer informatie [versleutelde verbindingen inschakelen toohello Database-Engine](https://docs.microsoft.com/sql/database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine) en [syntaxis verbindingsreeks](https://msdn.microsoft.com/library/ms254500.aspx).</span><span class="sxs-lookup"><span data-stu-id="55861-130">For more information, see [Enable Encrypted Connections toohello Database Engine](https://docs.microsoft.com/sql/database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine) and [Connection String Syntax](https://msdn.microsoft.com/library/ms254500.aspx).</span></span>

## <a name="use-a-non-default-port"></a><span data-ttu-id="55861-131">Gebruik van een niet-standaard poort</span><span class="sxs-lookup"><span data-stu-id="55861-131">Use a non-default port</span></span>

<span data-ttu-id="55861-132">Standaard luistert SQL Server op een bekende poort 1433.</span><span class="sxs-lookup"><span data-stu-id="55861-132">By default, SQL Server listens on a well-known port, 1433.</span></span> <span data-ttu-id="55861-133">Voor een betere beveiliging toolisten van SQL Server op een niet-standaard-poort, zoals 1401 te configureren.</span><span class="sxs-lookup"><span data-stu-id="55861-133">For increased security, configure SQL Server toolisten on a non-default port, such as 1401.</span></span> <span data-ttu-id="55861-134">Als u een installatiekopie van SQL Server-galerie in hello Azure-portal inricht, kunt u deze poort in Hallo **SQL Server-instellingen** blade.</span><span class="sxs-lookup"><span data-stu-id="55861-134">If you provision a SQL Server gallery image in hello Azure portal, you can specify this port in hello **SQL Server settings** blade.</span></span>

<span data-ttu-id="55861-135">tooconfigure deze na het inrichten, hebt u twee opties:</span><span class="sxs-lookup"><span data-stu-id="55861-135">tooconfigure this after provisioning, you have two options:</span></span>

- <span data-ttu-id="55861-136">Voor virtuele machines van Resource Manager, kunt u **SQL Server-configuratiebestand** van Hallo VM overzichtsblade.</span><span class="sxs-lookup"><span data-stu-id="55861-136">For Resource Manager VMs, you can select **SQL Server configuration** from hello VM overview blade.</span></span> <span data-ttu-id="55861-137">Dit biedt een optie toochange Hallo poort.</span><span class="sxs-lookup"><span data-stu-id="55861-137">This provides an option toochange hello port.</span></span>

  ![TCP-poort wijzigen in portal](./media/virtual-machines-windows-sql-security/sql-vm-change-tcp-port.png)

- <span data-ttu-id="55861-139">Voor klassieke virtuele machines of SQL Server-VM's die niet zijn ingericht met Hallo-portal, kunt u handmatig Hallo poort configureren door verbinding te maken op afstand toohello VM.</span><span class="sxs-lookup"><span data-stu-id="55861-139">For Classic VMs or for SQL Server VMs that were not provisioned with hello portal, you can manually configure hello port by connecting remotely toohello VM.</span></span> <span data-ttu-id="55861-140">Zie voor de configuratiestappen hello, [een tooListen Server configureren op een specifieke TCP-poort](https://docs.microsoft.com/sql/database-engine/configure-windows/configure-a-server-to-listen-on-a-specific-tcp-port).</span><span class="sxs-lookup"><span data-stu-id="55861-140">For hello configuration steps, see [Configure a Server tooListen on a Specific TCP Port](https://docs.microsoft.com/sql/database-engine/configure-windows/configure-a-server-to-listen-on-a-specific-tcp-port).</span></span> <span data-ttu-id="55861-141">Als u deze handmatig techniek gebruikt, moet u ook een Windows Firewall regel tooallow binnenkomend verkeer op TCP-poort tooadd.</span><span class="sxs-lookup"><span data-stu-id="55861-141">If you use this manual technique, you also need tooadd a Windows Firewall rule tooallow incoming traffic on that TCP port.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="55861-142">Het opgeven van een niet-standaardpoort is een goed idee als uw SQL Server-poort openen toopublic internet-verbindingen.</span><span class="sxs-lookup"><span data-stu-id="55861-142">Specifying a non-default port is a good idea if your SQL Server port is open toopublic internet connections.</span></span>

<span data-ttu-id="55861-143">Wanneer SQL Server naar een niet-standaardpoort luistert, moet u poort Hallo opgeven wanneer u verbinding maakt.</span><span class="sxs-lookup"><span data-stu-id="55861-143">When SQL Server is listening on a non-default port, you must specify hello port when you connect.</span></span> <span data-ttu-id="55861-144">Neem bijvoorbeeld een scenario waarbij Hallo server IP-adres 13.55.255.255 en SQL Server luistert op poort 1401.</span><span class="sxs-lookup"><span data-stu-id="55861-144">For example, consider a scenario where hello server IP address is 13.55.255.255 and SQL Server is listening on port 1401.</span></span> <span data-ttu-id="55861-145">tooconnect tooSQL Server, geeft u `13.55.255.255,1401` in Hallo-verbindingsreeks.</span><span class="sxs-lookup"><span data-stu-id="55861-145">tooconnect tooSQL Server, you would specify `13.55.255.255,1401` in hello connection string.</span></span>

## <a name="manage-accounts"></a><span data-ttu-id="55861-146">Accounts beheren</span><span class="sxs-lookup"><span data-stu-id="55861-146">Manage accounts</span></span>

<span data-ttu-id="55861-147">U wilt niet dat aanvallers tooeasily schatting accountnamen of wachtwoorden.</span><span class="sxs-lookup"><span data-stu-id="55861-147">You don't want attackers tooeasily guess account names or passwords.</span></span> <span data-ttu-id="55861-148">Gebruik Hallo toohelp tips te volgen:</span><span class="sxs-lookup"><span data-stu-id="55861-148">Use hello following tips toohelp:</span></span>

- <span data-ttu-id="55861-149">Maak een unieke lokale administrator-account met heeft geen naam **beheerder**.</span><span class="sxs-lookup"><span data-stu-id="55861-149">Create a unique local administrator account that is not named **Administrator**.</span></span>

- <span data-ttu-id="55861-150">Complexe sterke wachtwoorden gebruiken voor alle accounts.</span><span class="sxs-lookup"><span data-stu-id="55861-150">Use complex strong passwords for all your accounts.</span></span> <span data-ttu-id="55861-151">Voor meer informatie over het toocreate een sterk wachtwoord, Zie [maken van een sterk wachtwoord](https://support.microsoft.com/instantanswers/9bd5223b-efbe-aa95-b15a-2fb37bef637d/create-a-strong-password) artikel.</span><span class="sxs-lookup"><span data-stu-id="55861-151">For more information about how toocreate a strong password, see [Create a strong password](https://support.microsoft.com/instantanswers/9bd5223b-efbe-aa95-b15a-2fb37bef637d/create-a-strong-password) article.</span></span>

- <span data-ttu-id="55861-152">Azure selecteert standaard Windows-verificatie tijdens de installatie van de virtuele Machine van SQL Server.</span><span class="sxs-lookup"><span data-stu-id="55861-152">By default, Azure selects Windows Authentication during SQL Server Virtual Machine setup.</span></span> <span data-ttu-id="55861-153">Daarom Hallo **SA** aanmelding is uitgeschakeld en een wachtwoord is toegewezen door setup.</span><span class="sxs-lookup"><span data-stu-id="55861-153">Therefore, hello **SA** login is disabled and a password is assigned by setup.</span></span> <span data-ttu-id="55861-154">We raden aan dat Hallo **SA** aanmelding moet niet worden gebruikt of ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="55861-154">We recommend that hello **SA** login should not be used or enabled.</span></span> <span data-ttu-id="55861-155">Als u een SQL-aanmelding hebben moet, een van volgende strategieën hello gebruiken:</span><span class="sxs-lookup"><span data-stu-id="55861-155">If you must have a SQL login, use one of hello following strategies:</span></span>

  - <span data-ttu-id="55861-156">Een SQL-account maken met een unieke naam met **sysadmin** lidmaatschap.</span><span class="sxs-lookup"><span data-stu-id="55861-156">Create a SQL account with a unique name that has **sysadmin** membership.</span></span> <span data-ttu-id="55861-157">U kunt dit doen via de portal Hallo doordat **SQL-verificatie** tijdens het inrichten.</span><span class="sxs-lookup"><span data-stu-id="55861-157">You can do this from hello portal by enabling **SQL Authentication** during provisioning.</span></span>

    > [!TIP] 
    > <span data-ttu-id="55861-158">Als u SQL-verificatie niet tijdens het inrichten inschakelt, moet u handmatig wijzigen Hallo verificatiemodus te**SQL Server en Windows-verificatiemodus**.</span><span class="sxs-lookup"><span data-stu-id="55861-158">If you do not enable SQL Authentication during provisioning, you must manually change hello authentication mode too**SQL Server and Windows Authentication Mode**.</span></span> <span data-ttu-id="55861-159">Zie voor meer informatie [wijziging Server-verificatiemodus](https://docs.microsoft.com/sql/database-engine/configure-windows/change-server-authentication-mode).</span><span class="sxs-lookup"><span data-stu-id="55861-159">For more information, see [Change Server Authentication Mode](https://docs.microsoft.com/sql/database-engine/configure-windows/change-server-authentication-mode).</span></span>

  - <span data-ttu-id="55861-160">Als u Hallo gebruiken moet **SA** aanmelding, enable Hallo aanmelding na inrichting en het toewijzen van een sterk wachtwoord.</span><span class="sxs-lookup"><span data-stu-id="55861-160">If you must use hello **SA** login, enable hello login after provisioning and assign a new strong password.</span></span>

## <a name="follow-on-premises-best-practices"></a><span data-ttu-id="55861-161">Volg de aanbevolen procedures voor lokale</span><span class="sxs-lookup"><span data-stu-id="55861-161">Follow on-premises best practices</span></span>

<span data-ttu-id="55861-162">Bovendien toohello procedures wordt beschreven in dit onderwerp wordt aangeraden dat u bekijken en Hallo traditionele on-premises beveiligingsprocedures implementeren, indien van toepassing.</span><span class="sxs-lookup"><span data-stu-id="55861-162">In addition toohello practices described in this topic, we recommend that you review and implement hello traditional on-premises security practices where applicable.</span></span> <span data-ttu-id="55861-163">Zie voor meer informatie [beveiligingsoverwegingen voor een SQL Server-installatie](https://docs.microsoft.com/sql/sql-server/install/security-considerations-for-a-sql-server-installation)</span><span class="sxs-lookup"><span data-stu-id="55861-163">For more information, see [Security Considerations for a SQL Server Installation](https://docs.microsoft.com/sql/sql-server/install/security-considerations-for-a-sql-server-installation)</span></span>

## <a name="next-steps"></a><span data-ttu-id="55861-164">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="55861-164">Next Steps</span></span>

<span data-ttu-id="55861-165">Als u ook geïnteresseerd in aanbevolen procedures om de prestaties, Zie [Best Practices prestaties for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span><span class="sxs-lookup"><span data-stu-id="55861-165">If you are also interested in best practices around performance, see [Performance Best Practices for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span></span>

<span data-ttu-id="55861-166">Voor andere onderwerpen die betrekking toorunning SQL-Server in Azure VM's hebben, Zie [SQL Server op Azure Virtual Machines-overzicht](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="55861-166">For other topics related toorunning SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

