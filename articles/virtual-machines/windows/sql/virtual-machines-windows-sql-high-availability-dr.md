---
title: aaaHigh beschikbaarheid en herstel na noodgevallen voor SQL Server | Microsoft Docs
description: "Een beschrijving van de hello verschillende soorten HADR strategieën voor SQL Server wordt uitgevoerd in Azure Virtual Machines."
services: virtual-machines-windows
documentationcenter: na
author: MikeRayMSFT
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: 53981f7e-8370-4979-b26a-93a5988d905f
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 06/27/2017
ms.author: mikeray
ms.openlocfilehash: 2b62d8b30520952ba6b7da7177a2c2de95bea8ce
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="high-availability-and-disaster-recovery-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="e0b1b-103">Maximale beschikbaarheid en herstel na noodgeval voor SQL Server in SQL Server Virtual Machine</span><span class="sxs-lookup"><span data-stu-id="e0b1b-103">High availability and disaster recovery for SQL Server in Azure Virtual Machines</span></span>

<span data-ttu-id="e0b1b-104">Microsoft Azure virtuele machines (VM's) met SQL Server kunt lagere Hallo kosten van een hoge beschikbaarheid en noodherstel (HADR) database hersteloplossing.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-104">Microsoft Azure virtual machines (VMs) with SQL Server can help lower hello cost of a high availability and disaster recovery (HADR) database solution.</span></span> <span data-ttu-id="e0b1b-105">De meeste HADR van SQL Server-oplossingen worden ondersteund in Azure virtuele machines, als Azure alleen-lezen en als de hybride-oplossingen.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-105">Most SQL Server HADR solutions are supported in Azure virtual machines, both as Azure-only and as hybrid solutions.</span></span> <span data-ttu-id="e0b1b-106">In een Azure-only-oplossing, Hallo gehele HADR systeem wordt uitgevoerd in Azure.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-106">In an Azure-only solution, hello entire HADR system runs in Azure.</span></span> <span data-ttu-id="e0b1b-107">In een hybride-configuratie van Hallo oplossing wordt uitgevoerd in Azure en Hallo andere onderdeel wordt uitgevoerd op lokale in uw organisatie.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-107">In a hybrid configuration, part of hello solution runs in Azure and hello other part runs on-premises in your organization.</span></span> <span data-ttu-id="e0b1b-108">Hallo flexibiliteit van hello Azure-omgeving kunt u toomove geheel of gedeeltelijk tooAzure toosatisfy Hallo budget en HADR vereisten van uw SQL Server-database systemen.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-108">hello flexibility of hello Azure environment enables you toomove partially or completely tooAzure toosatisfy hello budget and HADR requirements of your SQL Server database systems.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="understanding-hello-need-for-an-hadr-solution"></a><span data-ttu-id="e0b1b-109">Understanding Hallo behoefte aan een oplossing HADR</span><span class="sxs-lookup"><span data-stu-id="e0b1b-109">Understanding hello need for an HADR solution</span></span>
<span data-ttu-id="e0b1b-110">Is tooyou tooensure dat uw databasesysteem bezit Hallo HADR mogelijkheden die Hallo service level agreement (SLA) vereist.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-110">It is up tooyou tooensure that your database system possesses hello HADR capabilities that hello service-level agreement (SLA) requires.</span></span> <span data-ttu-id="e0b1b-111">Hallo feit die Azure mechanismen voor hoge beschikbaarheid biedt, zoals service herstel voor cloudservices en herstel foutdetectie voor virtuele Machines, kan niet zichzelf garanderen u voldoen aan de SLA Hallo gewenst.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-111">hello fact that Azure provides high availability mechanisms, such as service healing for cloud services and failure recovery detection for Virtual Machines, does not itself guarantee you can meet hello desired SLA.</span></span> <span data-ttu-id="e0b1b-112">Deze mechanismen beveiligen Hallo hoge beschikbaarheid van virtuele machines hello, maar niet Hallo beschikbaarheid van SQL Server uitgevoerd binnen Hallo virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-112">These mechanisms protect hello high availability of hello VMs but not hello high availability of SQL Server running inside hello VMs.</span></span> <span data-ttu-id="e0b1b-113">Is het mogelijk voor Hallo SQL Server-exemplaar toofail Hallo VM is online en in orde.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-113">It is possible for hello SQL Server instance toofail while hello VM is online and healthy.</span></span> <span data-ttu-id="e0b1b-114">Bovendien zelfs Hallo hoge beschikbaarheid mechanismen verstrekt door Azure toestaan uitvaltijd Hallo VMs vanwege tooevents zoals het herstellen van de software- of hardwarestoringen en updates van besturingssystemen.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-114">Moreover, even hello high availability mechanisms provided by Azure allow for downtime of hello VMs due tooevents such as recovery from software or hardware failures and operating system upgrades.</span></span>

<span data-ttu-id="e0b1b-115">Bovendien geografisch redundante opslag (GRS) in Azure, dit wordt geïmplementeerd met een functie geo-replicatie, mogelijk niet een voldoende noodherstel voor uw databases.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-115">In addition, Geo Redundant Storage (GRS) in Azure, which is implemented with a feature called geo-replication, may not be an adequate disaster recovery solution for your databases.</span></span> <span data-ttu-id="e0b1b-116">Omdat geo-replicatie worden gegevens asynchroon verzendt, kunnen u recente updates verloren in Hallo-gebeurtenis van noodherstel.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-116">Because geo-replication sends data asynchronously, recent updates can be lost in hello event of disaster.</span></span> <span data-ttu-id="e0b1b-117">Meer informatie over de beperkingen van geo-replicatie worden behandeld in Hallo [Geo-replicatie wordt niet ondersteund voor gegevens en logboekbestanden op afzonderlijke schijven](#geo-replication-support) sectie.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-117">More information regarding geo-replication limitations are covered in hello [Geo-replication not supported for data and log files on separate disks](#geo-replication-support) section.</span></span>

## <a name="hadr-deployment-architectures"></a><span data-ttu-id="e0b1b-118">HADR implementatie architecturen</span><span class="sxs-lookup"><span data-stu-id="e0b1b-118">HADR deployment architectures</span></span>
<span data-ttu-id="e0b1b-119">SQL Server HADR technologieën die worden ondersteund in Azure omvatten:</span><span class="sxs-lookup"><span data-stu-id="e0b1b-119">SQL Server HADR technologies that are supported in Azure include:</span></span>

* [<span data-ttu-id="e0b1b-120">Altijd op beschikbaarheidsgroepen</span><span class="sxs-lookup"><span data-stu-id="e0b1b-120">Always On Availability Groups</span></span>](https://technet.microsoft.com/library/hh510230.aspx)
* [<span data-ttu-id="e0b1b-121">Altijd op de failovercluster-exemplaren</span><span class="sxs-lookup"><span data-stu-id="e0b1b-121">Always On Failover Cluster Instances</span></span>](https://technet.microsoft.com/library/ms189134.aspx)
* [<span data-ttu-id="e0b1b-122">Back-upfunctie voor logboekbestanden</span><span class="sxs-lookup"><span data-stu-id="e0b1b-122">Log Shipping</span></span>](https://technet.microsoft.com/library/ms187103.aspx)
* [<span data-ttu-id="e0b1b-123">SQL Server-back-up en herstel met Azure Blob Storage-Service</span><span class="sxs-lookup"><span data-stu-id="e0b1b-123">SQL Server Backup and Restore with Azure Blob Storage Service</span></span>](https://msdn.microsoft.com/library/jj919148.aspx)
* <span data-ttu-id="e0b1b-124">[Databasespiegeling](https://technet.microsoft.com/library/ms189852.aspx) - in SQL Server 2016 afgeschaft</span><span class="sxs-lookup"><span data-stu-id="e0b1b-124">[Database Mirroring](https://technet.microsoft.com/library/ms189852.aspx) - Deprecated in SQL Server 2016</span></span>

<span data-ttu-id="e0b1b-125">Het is mogelijk toocombine Hallo technologieën bij elkaar tooimplement een SQL Server-oplossing met hoge beschikbaarheid en -mogelijkheden voor herstel na noodgevallen.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-125">It is possible toocombine hello technologies together tooimplement a SQL Server solution that has both high availability and disaster recovery capabilities.</span></span> <span data-ttu-id="e0b1b-126">Afhankelijk van het Hallo-technologie die u gebruikt, moet een hybride implementatie mogelijk een VPN-tunnel Hello virtuele Azure-netwerk.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-126">Depending on hello technology you use, a hybrid deployment may require a VPN tunnel with hello Azure virtual network.</span></span> <span data-ttu-id="e0b1b-127">Hallo in de volgende secties ziet u enkele Hallo voorbeeld implementatie architecturen.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-127">hello sections below show you some of hello example deployment architectures.</span></span>

## <a name="azure-only-high-availability-solutions"></a><span data-ttu-id="e0b1b-128">Azure alleen-lezen: oplossingen voor hoge beschikbaarheid</span><span class="sxs-lookup"><span data-stu-id="e0b1b-128">Azure-only: High availability solutions</span></span>

<span data-ttu-id="e0b1b-129">U kunt een oplossing voor hoge beschikbaarheid hebben voor SQL Server op het databaseniveau van een met AlwaysOn-beschikbaarheidsgroepen - beschikbaarheidsgroepen aangeroepen.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-129">You can have a high availability solution for SQL Server at a database level with Always On Availability Groups - called availability groups.</span></span> <span data-ttu-id="e0b1b-130">U kunt ook maken een oplossing voor hoge beschikbaarheid op het niveau van een exemplaar met altijd op Failover Cluster Instances - failover cluster-exemplaren.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-130">You can also create a high availability solution at an instance level with Always On Failover Cluster Instances - failover cluster instances.</span></span> <span data-ttu-id="e0b1b-131">Voor aanvullende redundantie, kunt u redundantie op beide niveaus maken door het maken van beschikbaarheidsgroepen op failover cluster-exemplaren.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-131">For additional redundancy, you can create redundancy at both levels by creating availability groups on failover cluster instances.</span></span> 

| <span data-ttu-id="e0b1b-132">Technologie</span><span class="sxs-lookup"><span data-stu-id="e0b1b-132">Technology</span></span> | <span data-ttu-id="e0b1b-133">Voorbeeld architecturen</span><span class="sxs-lookup"><span data-stu-id="e0b1b-133">Example Architectures</span></span> |
| --- | --- |
| <span data-ttu-id="e0b1b-134">**Beschikbaarheidsgroepen**</span><span class="sxs-lookup"><span data-stu-id="e0b1b-134">**Availability groups**</span></span> |<span data-ttu-id="e0b1b-135">Beschikbaarheidsreplica's uitgevoerd in de virtuele machines in Azure Hallo dezelfde regio bieden hoge beschikbaarheid.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-135">Availability replicas running in Azure VMs in hello same region provide high availability.</span></span> <span data-ttu-id="e0b1b-136">U moet tooconfigure een domeincontroller VM, omdat Windows failover clustering een Active Directory-domein vereist.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-136">You need tooconfigure a domain controller VM, because Windows failover clustering requires an Active Directory domain.</span></span><br/> <span data-ttu-id="e0b1b-137">![Beschikbaarheidsgroepen](./media/virtual-machines-windows-sql-high-availability-dr/azure_only_ha_always_on.gif)</span><span class="sxs-lookup"><span data-stu-id="e0b1b-137">![Availability Groups](./media/virtual-machines-windows-sql-high-availability-dr/azure_only_ha_always_on.gif)</span></span><br/><span data-ttu-id="e0b1b-138">Zie voor meer informatie [beschikbaarheidsgroepen configureren in Azure (GUI)](virtual-machines-windows-portal-sql-alwayson-availability-groups.md).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-138">For more information, see [Configure Availability Groups in Azure (GUI)](virtual-machines-windows-portal-sql-alwayson-availability-groups.md).</span></span> |
| <span data-ttu-id="e0b1b-139">**Failover cluster-exemplaren**</span><span class="sxs-lookup"><span data-stu-id="e0b1b-139">**Failover cluster instances**</span></span> |<span data-ttu-id="e0b1b-140">Failover Cluster exemplaren (FCI), die gedeelde opslag is vereist, kunnen op verschillende manieren 3 worden gemaakt.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-140">Failover Cluster Instances (FCI), which require shared storage, can be created in 3 different ways.</span></span><br/><br/><span data-ttu-id="e0b1b-141">1. Een failovercluster met twee knooppunten met behulp van gekoppelde opslag in Azure VM's met [Windows Server 2016 opslagruimten Direct \(S2D\) ](virtual-machines-windows-portal-sql-create-failover-cluster.md) tooprovide een op software gebaseerde virtueel SAN.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-141">1. A two-node failover cluster running in Azure VMs with attached storage using [Windows Server 2016 Storage Spaces Direct \(S2D\)](virtual-machines-windows-portal-sql-create-failover-cluster.md) tooprovide a software-based virtual SAN.</span></span><br/><br/><span data-ttu-id="e0b1b-142">2. Twee knooppunten failovercluster uitgevoerd in Azure VM's met opslag ondersteund door een clustering oplossing van derden.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-142">2. A two-node failover cluster running in Azure VMs with storage supported by a third-party clustering solution.</span></span> <span data-ttu-id="e0b1b-143">Zie voor een specifieke voorbeeld die gebruikmaakt van SIOS DataKeeper [hoge beschikbaarheid voor een bestandsshare met behulp van failover clustering en 3e softwareleveranciers SIOS DataKeeper](https://azure.microsoft.com/blog/high-availability-for-a-file-share-using-wsfc-ilb-and-3rd-party-software-sios-datakeeper/).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-143">For a specific example that uses SIOS DataKeeper, see [High availability for a file share using failover clustering and 3rd party software SIOS DataKeeper](https://azure.microsoft.com/blog/high-availability-for-a-file-share-using-wsfc-ilb-and-3rd-party-software-sios-datakeeper/).</span></span><br/><br/><span data-ttu-id="e0b1b-144">3. Een failovercluster met twee knooppunten uitgevoerd in Azure VM's met externe iSCSI-doel gedeelde blokopslag via ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-144">3. A two-node failover cluster running in Azure VMs with remote iSCSI Target shared block storage via ExpressRoute.</span></span> <span data-ttu-id="e0b1b-145">NetApp persoonlijke opslag (NPS) wordt bijvoorbeeld een iSCSI-doel via ExpressRoute met Equinix tooAzure virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-145">For example, NetApp Private Storage (NPS) exposes an iSCSI target via ExpressRoute with Equinix tooAzure VMs.</span></span><br/><br/><span data-ttu-id="e0b1b-146">Voor gedeelde opslag van derden en oplossingen voor replicatie van gegevens, moet u contact op met leverancier van de Hallo voor alle gegevens van de gerelateerde tooaccessing problemen op failover.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-146">For third-party shared storage and data replication solutions, you should contact hello vendor for any issues related tooaccessing data on failover.</span></span><br/><br/><span data-ttu-id="e0b1b-147">Houd er rekening mee dat als u met FCI boven [Azure File storage](https://azure.microsoft.com/services/storage/files/) wordt nog niet ondersteund, omdat deze oplossing geen gebruik van Premium-opslag.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-147">Note that using FCI on top of [Azure File storage](https://azure.microsoft.com/services/storage/files/) is not supported yet, because this solution does not utilize Premium Storage.</span></span> <span data-ttu-id="e0b1b-148">Wij werken toosupport dit snel.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-148">We are working toosupport this soon.</span></span> |

## <a name="azure-only-disaster-recovery-solutions"></a><span data-ttu-id="e0b1b-149">Azure alleen-lezen: oplossingen voor herstel na noodgevallen</span><span class="sxs-lookup"><span data-stu-id="e0b1b-149">Azure-only: Disaster recovery solutions</span></span>
<span data-ttu-id="e0b1b-150">U kunt een noodherstel voor uw SQL Server-databases in Azure met behulp van beschikbaarheidsgroepen, databasespiegeling of back-up en herstellen met de storage-blobs.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-150">You can have a disaster recovery solution for your SQL Server databases in Azure using availability groups, database mirroring, or backup and restore with storage blobs.</span></span>

| <span data-ttu-id="e0b1b-151">Technologie</span><span class="sxs-lookup"><span data-stu-id="e0b1b-151">Technology</span></span> | <span data-ttu-id="e0b1b-152">Voorbeeld architecturen</span><span class="sxs-lookup"><span data-stu-id="e0b1b-152">Example Architectures</span></span> |
| --- | --- |
| <span data-ttu-id="e0b1b-153">**Beschikbaarheidsgroepen**</span><span class="sxs-lookup"><span data-stu-id="e0b1b-153">**Availability Groups**</span></span> |<span data-ttu-id="e0b1b-154">De beschikbaarheidsreplica is uitgevoerd in meerdere datacenters in Azure VM's voor herstel na noodgevallen.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-154">Availability replicas running across multiple datacenters in Azure VMs for disaster recovery.</span></span> <span data-ttu-id="e0b1b-155">Deze oplossing regio-overschrijdende beschermd tegen storing van de volledige site.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-155">This cross-region solution protects against complete site outage.</span></span> <br/> <span data-ttu-id="e0b1b-156">![Beschikbaarheidsgroepen](./media/virtual-machines-windows-sql-high-availability-dr/azure_only_dr_alwayson.png)</span><span class="sxs-lookup"><span data-stu-id="e0b1b-156">![Availability Groups](./media/virtual-machines-windows-sql-high-availability-dr/azure_only_dr_alwayson.png)</span></span><br/><span data-ttu-id="e0b1b-157">Binnen een regio moeten alle replica's binnen Hallo dezelfde cloudservice en Hallo hetzelfde VNet.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-157">Within a region, all replicas should be within hello same cloud service and hello same VNet.</span></span> <span data-ttu-id="e0b1b-158">Omdat elke regio een afzonderlijk VNet, vereist deze oplossingen VNet tooVNet connectiviteit.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-158">Because each region will have a separate VNet, these solutions require VNet tooVNet connectivity.</span></span> <span data-ttu-id="e0b1b-159">Zie voor meer informatie [Azure-portal configureren een VNet-naar-VNet-verbinding gebruikt Hallo](../../../vpn-gateway/vpn-gateway-howto-vnet-vnet-resource-manager-portal.md).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-159">For more information, see [Configure a VNet-to-VNet connection using hello Azure portal](../../../vpn-gateway/vpn-gateway-howto-vnet-vnet-resource-manager-portal.md).</span></span> <span data-ttu-id="e0b1b-160">Zie voor gedetailleerde instructies [een SQL Server-beschikbaarheidsgroep configureren op Azure Virtual Machines in verschillende regio's](virtual-machines-windows-portal-sql-availability-group-dr.md).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-160">For detailed instructions, see [Configure a SQL Server Availability Group on Azure Virtual Machines in Different Regions](virtual-machines-windows-portal-sql-availability-group-dr.md).</span></span>|
| <span data-ttu-id="e0b1b-161">**Databasespiegeling**</span><span class="sxs-lookup"><span data-stu-id="e0b1b-161">**Database Mirroring**</span></span> |<span data-ttu-id="e0b1b-162">Principal en gespiegelde en servers die in verschillende datacenters voor herstel na noodgevallen.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-162">Principal and mirror and servers running in different datacenters for disaster recovery.</span></span> <span data-ttu-id="e0b1b-163">U moet implementeren met behulp van servercertificaten omdat active directory-domein kan niet meerdere datacenters omvatten.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-163">You must deploy using server certificates because an active directory domain cannot span multiple datacenters.</span></span><br/>![Databasespiegeling](./media/virtual-machines-windows-sql-high-availability-dr/azure_only_dr_dbmirroring.gif) |
| <span data-ttu-id="e0b1b-165">**Back-up en herstel met Azure Blob Storage-Service**</span><span class="sxs-lookup"><span data-stu-id="e0b1b-165">**Backup and Restore with Azure Blob Storage Service**</span></span> |<span data-ttu-id="e0b1b-166">Productiedatabases back-ups rechtstreeks tooblob opslag in een ander datacenter voor herstel na noodgevallen.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-166">Production databases backed up directly tooblob storage in a different datacenter for disaster recovery.</span></span><br/><span data-ttu-id="e0b1b-167">![Back-up en herstel](./media/virtual-machines-windows-sql-high-availability-dr/azure_only_dr_backup_restore.gif)</span><span class="sxs-lookup"><span data-stu-id="e0b1b-167">![Backup and Restore](./media/virtual-machines-windows-sql-high-availability-dr/azure_only_dr_backup_restore.gif)</span></span><br/><span data-ttu-id="e0b1b-168">Zie voor meer informatie [back-up en herstel voor SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-168">For more information, see [Backup and Restore for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).</span></span> |

## <a name="hybrid-it-disaster-recovery-solutions"></a><span data-ttu-id="e0b1b-169">Hybride IT: Noodhersteloplossingen</span><span class="sxs-lookup"><span data-stu-id="e0b1b-169">Hybrid IT: Disaster recovery solutions</span></span>
<span data-ttu-id="e0b1b-170">Als u beschikt over van een noodherstel voor uw SQL Server-databases in een hybride IT-omgeving met beschikbaarheidsgroepen, databasespiegeling-upfunctie voor logboekbestanden en back-up en herstellen met de opslag van de Azure-blog.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-170">You can have a disaster recovery solution for your SQL Server databases in a hybrid-IT environment using availability groups, database mirroring, log shipping, and backup and restore with Azure blog storage.</span></span>

| <span data-ttu-id="e0b1b-171">Technologie</span><span class="sxs-lookup"><span data-stu-id="e0b1b-171">Technology</span></span> | <span data-ttu-id="e0b1b-172">Voorbeeld architecturen</span><span class="sxs-lookup"><span data-stu-id="e0b1b-172">Example Architectures</span></span> |
| --- | --- |
| <span data-ttu-id="e0b1b-173">**Beschikbaarheidsgroepen**</span><span class="sxs-lookup"><span data-stu-id="e0b1b-173">**Availability Groups**</span></span> |<span data-ttu-id="e0b1b-174">Sommige beschikbaarheidsreplica's uitgevoerd in de Azure VM's en andere replica's met on-premises voor herstel na noodgevallen voor cross-site.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-174">Some availability replicas running in Azure VMs and other replicas running on-premises for cross-site disaster recovery.</span></span> <span data-ttu-id="e0b1b-175">Hallo productiesite kan worden on-premises of in een Azure-datacenter.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-175">hello production site can be either on-premises or in an Azure datacenter.</span></span><br/>![Beschikbaarheidsgroepen](./media/virtual-machines-windows-sql-high-availability-dr/hybrid_dr_alwayson.gif)<br/><span data-ttu-id="e0b1b-177">Omdat alle beschikbaarheidsreplica's moeten in Hallo hetzelfde failovercluster hello cluster moet span beide netwerken (een meerdere subnetten failover-cluster).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-177">Because all availability replicas must be in hello same failover cluster, hello cluster must span both networks (a multi-subnet failover cluster).</span></span> <span data-ttu-id="e0b1b-178">Deze configuratie is vereist voor een VPN-verbinding tussen Azure en Hallo on-premises netwerk.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-178">This configuration requires a VPN connection between Azure and hello on-premises network.</span></span><br/><br/><span data-ttu-id="e0b1b-179">Voor geslaagde noodherstel van uw database, moet u ook een replicadomeincontroller op Hallo disaster recovery site installeren.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-179">For successful disaster recovery of your databases, you should also install a replica domain controller at hello disaster recovery site.</span></span><br/><br/><span data-ttu-id="e0b1b-180">Het is mogelijk toouse Hallo Replica Wizard toevoegen in SSMS tooadd een Azure replica tooan bestaande AlwaysOn-beschikbaarheidsgroep.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-180">It is possible toouse hello Add Replica Wizard in SSMS tooadd an Azure replica tooan existing Always On Availability Group.</span></span> <span data-ttu-id="e0b1b-181">Zie voor meer informatie, zelfstudie: uw tooAzure AlwaysOn-beschikbaarheidsgroep uitbreiden.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-181">For more information, see Tutorial: Extend your Always On Availability Group tooAzure.</span></span> |
| <span data-ttu-id="e0b1b-182">**Databasespiegeling**</span><span class="sxs-lookup"><span data-stu-id="e0b1b-182">**Database Mirroring**</span></span> |<span data-ttu-id="e0b1b-183">Een partner uitgevoerd in een virtuele machine van Azure en Hallo andere on-premises voor noodherstel van cross-site met behulp van servercertificaten uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-183">One partner running in an Azure VM and hello other running on-premises for cross-site disaster recovery using server certificates.</span></span> <span data-ttu-id="e0b1b-184">Partners hoeft geen toobe in hetzelfde Active Directory-domein Hallo en er is geen VPN-verbinding vereist.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-184">Partners do not need toobe in hello same Active Directory domain, and no VPN connection is required.</span></span><br/><span data-ttu-id="e0b1b-185">![Databasespiegeling](./media/virtual-machines-windows-sql-high-availability-dr/hybrid_dr_dbmirroring.gif)</span><span class="sxs-lookup"><span data-stu-id="e0b1b-185">![Database Mirroring](./media/virtual-machines-windows-sql-high-availability-dr/hybrid_dr_dbmirroring.gif)</span></span><br/><span data-ttu-id="e0b1b-186">Een andere database mirroring scenario omvat één partner uitgevoerd in een virtuele machine van Azure en hello andere uitgevoerd on-premises in Hallo dezelfde Active Directory-domein voor herstel na noodgevallen voor cross-site.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-186">Another database mirroring scenario involves one partner running in an Azure VM and hello other running on-premises in hello same Active Directory domain for cross-site disaster recovery.</span></span> <span data-ttu-id="e0b1b-187">Een [VPN-verbinding tussen hello Azure virtuele netwerk en Hallo on-premises netwerk](../../../vpn-gateway/vpn-gateway-site-to-site-create.md) is vereist.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-187">A [VPN connection between hello Azure virtual network and hello on-premises network](../../../vpn-gateway/vpn-gateway-site-to-site-create.md) is required.</span></span><br/><br/><span data-ttu-id="e0b1b-188">Voor geslaagde noodherstel van uw database, moet u ook een replicadomeincontroller op Hallo disaster recovery site installeren.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-188">For successful disaster recovery of your databases, you should also install a replica domain controller at hello disaster recovery site.</span></span> |
| <span data-ttu-id="e0b1b-189">**Back-upfunctie voor logboekbestanden**</span><span class="sxs-lookup"><span data-stu-id="e0b1b-189">**Log Shipping**</span></span> |<span data-ttu-id="e0b1b-190">Één server worden uitgevoerd in een virtuele machine van Azure en Hallo andere on-premises voor herstel na noodgevallen voor cross-site uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-190">One server running in an Azure VM and hello other running on-premises for cross-site disaster recovery.</span></span> <span data-ttu-id="e0b1b-191">Back-upfunctie voor logboekbestanden hangt af van het Windows-bestanden delen, zodat een VPN-verbinding tussen Hallo virtuele Azure-netwerk en Hallo lokale netwerk is vereist.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-191">Log shipping depends on Windows file sharing, so a VPN connection between hello Azure virtual network and hello on-premises network is required.</span></span><br/>![Back-upfunctie voor logboekbestanden](./media/virtual-machines-windows-sql-high-availability-dr/hybrid_dr_log_shipping.gif)<br/><span data-ttu-id="e0b1b-193">Voor geslaagde noodherstel van uw database, moet u ook een replicadomeincontroller op Hallo disaster recovery site installeren.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-193">For successful disaster recovery of your databases, you should also install a replica domain controller at hello disaster recovery site.</span></span> |
| <span data-ttu-id="e0b1b-194">**Back-up en herstel met Azure Blob Storage-Service**</span><span class="sxs-lookup"><span data-stu-id="e0b1b-194">**Backup and Restore with Azure Blob Storage Service**</span></span> |<span data-ttu-id="e0b1b-195">Een on-premises productiedatabases back-ups rechtstreeks tooAzure blob storage voor herstel na noodgevallen.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-195">On-premises production databases backed up directly tooAzure blob storage for disaster recovery.</span></span><br/><span data-ttu-id="e0b1b-196">![Back-up en herstel](./media/virtual-machines-windows-sql-high-availability-dr/hybrid_dr_backup_restore.gif)</span><span class="sxs-lookup"><span data-stu-id="e0b1b-196">![Backup and Restore](./media/virtual-machines-windows-sql-high-availability-dr/hybrid_dr_backup_restore.gif)</span></span><br/><span data-ttu-id="e0b1b-197">Zie voor meer informatie [back-up en herstel voor SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-197">For more information, see [Backup and Restore for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).</span></span> |

## <a name="important-considerations-for-sql-server-hadr-in-azure"></a><span data-ttu-id="e0b1b-198">Belangrijke aandachtspunten voor SQL Server HADR in Azure</span><span class="sxs-lookup"><span data-stu-id="e0b1b-198">Important considerations for SQL Server HADR in Azure</span></span>
<span data-ttu-id="e0b1b-199">Azure virtuele machines, opslag en netwerken hebben andere operationele kenmerken dan een on-premises, niet-gevirtualiseerde IT-infrastructuur.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-199">Azure VMs, storage, and networking have different operational characteristics than an on-premises, non-virtualized IT infrastructure.</span></span> <span data-ttu-id="e0b1b-200">Een succesvolle implementatie van een oplossing voor HADR SQL Server in Azure, moet u inzicht in deze verschillen en ontwerp van uw oplossing tooaccommodate ze.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-200">A successful implementation of a HADR SQL Server solution in Azure requires that you understand these differences and design your solution tooaccommodate them.</span></span>

### <a name="high-availability-nodes-in-an-availability-set"></a><span data-ttu-id="e0b1b-201">Knooppunten voor hoge beschikbaarheid in een beschikbaarheidsset</span><span class="sxs-lookup"><span data-stu-id="e0b1b-201">High availability nodes in an availability set</span></span>
<span data-ttu-id="e0b1b-202">Beschikbaarheidssets in Azure, kunt u tooplace Hallo hoge beschikbaarheid knooppunten in afzonderlijke domeinen met fouten (FDs) en Update-domeinen (UDs).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-202">Availability sets in Azure enable you tooplace hello high availability nodes into separate Fault Domains (FDs) and Update Domains (UDs).</span></span> <span data-ttu-id="e0b1b-203">Voor Azure Virtual machines toobe geplaatst in Hallo dezelfde beschikbaarheidsset, moet u implementeren ze Hallo moeten dezelfde cloudservice.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-203">For Azure VMs toobe placed in hello same availability set, you must deploy them in hello same cloud service.</span></span> <span data-ttu-id="e0b1b-204">Alleen knooppunten in dezelfde cloudservice kan deelnemen Hallo Hallo dezelfde beschikbaarheidsset.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-204">Only nodes in hello same cloud service can participate in hello same availability set.</span></span> <span data-ttu-id="e0b1b-205">Zie voor meer informatie [beheren Hallo beschikbaarheid van virtuele Machines](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-205">For more information, see [Manage hello Availability of Virtual Machines](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

### <a name="failover-cluster-behavior-in-azure-networking"></a><span data-ttu-id="e0b1b-206">Gedrag van de failover-cluster in Azure-netwerken</span><span class="sxs-lookup"><span data-stu-id="e0b1b-206">Failover cluster behavior in Azure networking</span></span>
<span data-ttu-id="e0b1b-207">niet-RFC-compatibele DHCP-service in Azure Hallo kan leiden tot Hallo maken van een bepaalde toofail failover cluster configuraties, vanwege toohello clusternetwerknaam een dubbel IP-adres wordt toegewezen, zoals Hallo hetzelfde IP-adressen als een van de clusterknooppunten Hallo.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-207">hello non-RFC-compliant DHCP service in Azure can cause hello creation of certain failover cluster configurations toofail, due toohello cluster network name being assigned a duplicate IP address, such as hello same IP address as one of hello cluster nodes.</span></span> <span data-ttu-id="e0b1b-208">Dit is een probleem wanneer u beschikbaarheidsgroepen gebruikt, die afhankelijk van de functie failover clustering van Hallo Windows is implementeren.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-208">This is an issue when you implement Availability Groups, which depends on hello Windows failover cluster feature.</span></span>

<span data-ttu-id="e0b1b-209">Houd rekening met Hallo scenario als een cluster met twee knooppunten wordt gemaakt en online is gekomen:</span><span class="sxs-lookup"><span data-stu-id="e0b1b-209">Consider hello scenario when a two-node cluster is created and brought online:</span></span>

1. <span data-ttu-id="e0b1b-210">Hallo-cluster online komt en vervolgens knooppunt1 een dynamisch toegewezen IP-adres voor de clusternetwerknaam Hallo-aanvragen.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-210">hello cluster comes online, then NODE1 requests a dynamically assigned IP address for hello cluster network name.</span></span>
2. <span data-ttu-id="e0b1b-211">Er is geen IP-adres behalve knooppunt1 eigen IP-adres wordt bepaald door Hallo DHCP-service, omdat de DHCP-service Hallo herkent die Hallo aanvraag afkomstig is van knooppunt1 zelf.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-211">No IP address other than NODE1’s own IP address is given by hello DHCP service, since hello DHCP service recognizes that hello request comes from NODE1 itself.</span></span>
3. <span data-ttu-id="e0b1b-212">Windows detecteert dat een dubbel adres tooNODE1 zowel toohello netwerknaam van failover-cluster is toegewezen en toocome online clustergroep Hallo-standaard is mislukt.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-212">Windows detects that a duplicate address is assigned both tooNODE1 and toohello failover cluster network name, and hello default cluster group fails toocome online.</span></span>
4. <span data-ttu-id="e0b1b-213">Hallo standaardclustergroep verplaatst tooNODE2 die wordt beschouwd knooppunt1 van IP-adres als Hallo cluster-IP-adres en Hallo standaardclustergroep online brengt.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-213">hello default cluster group moves tooNODE2, which treats NODE1’s IP address as hello cluster IP address and brings hello default cluster group online.</span></span>
5. <span data-ttu-id="e0b1b-214">Wanneer Knooppunt2 tooestablish connectiviteit met knooppunt1 probeert, laat pakketten die gericht zijn op knooppunt1 nooit Knooppunt2 omdat hiermee het knooppunt1 van IP-adres tooitself wordt opgelost.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-214">When NODE2 attempts tooestablish connectivity with NODE1, packets directed at NODE1 never leave NODE2 because it resolves NODE1’s IP address tooitself.</span></span> <span data-ttu-id="e0b1b-215">Knooppunt2 kan geen verbinding maken met knooppunt1, vervolgens quorum verliest en Hallo cluster wordt afgesloten.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-215">NODE2 cannot establish connectivity with NODE1, then loses quorum and shuts down hello cluster.</span></span>
6. <span data-ttu-id="e0b1b-216">In de tussentijd Hallo knooppunt1 pakketten tooNODE2 kunt verzenden, maar Knooppunt2 kan niet antwoorden.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-216">In hello meantime, NODE1 can send packets tooNODE2, but NODE2 cannot reply.</span></span> <span data-ttu-id="e0b1b-217">Knooppunt1 quorum verliest en Hallo cluster wordt afgesloten.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-217">NODE1 loses quorum and shuts down hello cluster.</span></span>

<span data-ttu-id="e0b1b-218">Dit scenario kunt u voorkomen door het toewijzen van een ongebruikt statische IP-adres, zoals een link-local IP-adres zoals 169.254.1.1, toohello clusternetwerknaam in volgorde toobring Hallo clusternetwerknaam online.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-218">This scenario can be avoided by assigning an unused static IP address, such as a link-local IP address like 169.254.1.1, toohello cluster network name in order toobring hello cluster network name online.</span></span> <span data-ttu-id="e0b1b-219">toosimplify dit verwerken, Zie [Windows configureren van failover-cluster in Azure voor beschikbaarheidsgroepen](http://social.technet.microsoft.com/wiki/contents/articles/14776.configuring-windows-failover-cluster-in-windows-azure-for-alwayson-availability-groups.aspx).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-219">toosimplify this process, see [Configuring Windows failover cluster in Azure for availability groups](http://social.technet.microsoft.com/wiki/contents/articles/14776.configuring-windows-failover-cluster-in-windows-azure-for-alwayson-availability-groups.aspx).</span></span>

<span data-ttu-id="e0b1b-220">Zie voor meer informatie [beschikbaarheidsgroepen configureren in Azure (GUI)](virtual-machines-windows-portal-sql-alwayson-availability-groups.md).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-220">For more information, see [Configure availability groups in Azure (GUI)](virtual-machines-windows-portal-sql-alwayson-availability-groups.md).</span></span>

### <a name="availability-group-listener-support"></a><span data-ttu-id="e0b1b-221">Beschikbaarheid van groep listener-ondersteuning</span><span class="sxs-lookup"><span data-stu-id="e0b1b-221">Availability group listener support</span></span>
<span data-ttu-id="e0b1b-222">Beschikbaarheid beschikbaarheidsgroeplisteners worden ondersteund op Azure VM's met Windows Server 2008 R2, Windows Server 2012, Windows Server 2012 R2 en Windows Server 2016.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-222">Availability group listeners are supported on Azure VMs running Windows Server 2008 R2, Windows Server 2012, Windows Server 2012 R2, and Windows Server 2016.</span></span> <span data-ttu-id="e0b1b-223">Deze ondersteuning wordt mogelijk gemaakt door Hallo gebruik van netwerktaakverdeling-eindpunten die zijn ingeschakeld op Hallo Azure Virtual machines die beschikbaarheid groepsknooppunten.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-223">This support is made possible by hello use of load-balanced endpoints enabled on hello Azure VMs that are availability group nodes.</span></span> <span data-ttu-id="e0b1b-224">U moet stappen speciale configuratie voor Hallo listeners toowork voor zowel clienttoepassingen die worden uitgevoerd in Azure, evenals die lokaal wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-224">You must follow special configuration steps for hello listeners toowork for both client applications that are running in Azure as well as those running on-premises.</span></span>

<span data-ttu-id="e0b1b-225">Er zijn twee manieren voor het instellen van de listener: externe (openbaar) of interne.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-225">There are two main options for setting up your listener: external (public) or internal.</span></span> <span data-ttu-id="e0b1b-226">Hallo externe (openbare)-listener gebruikt een internetverbinding de load balancer en is gekoppeld met een openbare virtuele IP-adres (VIP) die toegankelijk is via internet Hallo.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-226">hello external (public) listener uses an internet facing load balancer and is associated with a public Virtual IP (VIP) that is accessible over hello internet.</span></span> <span data-ttu-id="e0b1b-227">Een interne listener maakt gebruik van een interne load balancer en alleen ondersteunt clients binnen hetzelfde virtuele netwerk Hallo.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-227">An internal listener uses an internal load balancer and only supports clients within hello same Virtual Network.</span></span> <span data-ttu-id="e0b1b-228">Voor een load balancer type, moet u Direct Server Return inschakelen.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-228">For either load balancer type, you must enable Direct Server Return.</span></span> 

<span data-ttu-id="e0b1b-229">Als Hallo beschikbaarheidsgroep omvat meerdere Azure subnetten (zoals een implementatie die over Azure-regio's), verbindingsreeks Hallo-client moet bevatten '**MultisubnetFailover = True**'.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-229">If hello Availability Group spans multiple Azure subnets (such as a deployment that crosses Azure regions), hello client connection string must include "**MultisubnetFailover=True**".</span></span> <span data-ttu-id="e0b1b-230">Dit resulteert in parallelle verbinding pogingen toohello replica's in verschillende subnetten Hallo.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-230">This results in parallel connection attempts toohello replicas in hello different subnets.</span></span> <span data-ttu-id="e0b1b-231">Zie voor instructies over het instellen van een listener</span><span class="sxs-lookup"><span data-stu-id="e0b1b-231">For instructions on setting up a listener, see</span></span>

* <span data-ttu-id="e0b1b-232">[Een ILB-listener voor beschikbaarheidsgroepen configureren in Azure](virtual-machines-windows-portal-sql-ps-alwayson-int-listener.md).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-232">[Configure an ILB listener for availability groups in Azure](virtual-machines-windows-portal-sql-ps-alwayson-int-listener.md).</span></span>
* <span data-ttu-id="e0b1b-233">[Een externe-listener voor beschikbaarheidsgroepen configureren in Azure](../classic/ps-sql-ext-listener.md).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-233">[Configure an external listener for availability groups in Azure](../classic/ps-sql-ext-listener.md).</span></span>

<span data-ttu-id="e0b1b-234">U kunt nog steeds tooeach beschikbaarheidsreplica afzonderlijk verbinden door verbinding te maken rechtstreeks toohello service-exemplaar.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-234">You can still connect tooeach availability replica separately by connecting directly toohello service instance.</span></span> <span data-ttu-id="e0b1b-235">Bovendien aangezien beschikbaarheidsgroepen achterwaarts compatibel met databasespiegeling clients, kunt u toohello beschikbaarheidsreplica's zoals partners voor databasespiegeling, zolang het Hallo-replica's zijn geconfigureerd vergelijkbare toodatabase spiegelen:</span><span class="sxs-lookup"><span data-stu-id="e0b1b-235">Also, since availability groups are backward compatible with database mirroring clients, you can connect toohello availability replicas like database mirroring partners as long as hello replicas are configured similar toodatabase mirroring:</span></span>

* <span data-ttu-id="e0b1b-236">Eén primaire replica en één secundaire replica</span><span class="sxs-lookup"><span data-stu-id="e0b1b-236">One primary replica and one secondary replica</span></span>
* <span data-ttu-id="e0b1b-237">Hallo secundaire replica is geconfigureerd als niet-leesbare (**leesbare secundaire** optie ingesteld te**Nee**)</span><span class="sxs-lookup"><span data-stu-id="e0b1b-237">hello secondary replica is configured as non-readable (**Readable Secondary** option set too**No**)</span></span>

<span data-ttu-id="e0b1b-238">Een voorbeeld van de client-verbindingsreeks die overeenkomt met toothis database mirroring-achtige configuratie met behulp van de ADO.NET- of SQL Server Native Client lager is dan:</span><span class="sxs-lookup"><span data-stu-id="e0b1b-238">An example client connection string that corresponds toothis database mirroring-like configuration using ADO.NET or SQL Server Native Client is below:</span></span>

    Data Source=ReplicaServer1;Failover Partner=ReplicaServer2;Initial Catalog=AvailabilityDatabase;

<span data-ttu-id="e0b1b-239">Zie voor meer informatie over clientverbindingen controleren:</span><span class="sxs-lookup"><span data-stu-id="e0b1b-239">For more information on client connectivity, see:</span></span>

* [<span data-ttu-id="e0b1b-240">Met behulp van Connection String trefwoorden met SQL Server Native Client</span><span class="sxs-lookup"><span data-stu-id="e0b1b-240">Using Connection String Keywords with SQL Server Native Client</span></span>](https://msdn.microsoft.com/library/ms130822.aspx)
* [<span data-ttu-id="e0b1b-241">Verbinding maken met Clients tooa Database Mirroring sessie (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="e0b1b-241">Connect Clients tooa Database Mirroring Session (SQL Server)</span></span>](https://technet.microsoft.com/library/ms175484.aspx)
* [<span data-ttu-id="e0b1b-242">Verbinding maken met tooAvailability Listener in hybride IT-groep</span><span class="sxs-lookup"><span data-stu-id="e0b1b-242">Connecting tooAvailability Group Listener in Hybrid IT</span></span>](http://blogs.msdn.com/b/sqlalwayson/archive/2013/02/14/connecting-to-availability-group-listener-in-hybrid-it.aspx)
* [<span data-ttu-id="e0b1b-243">Beschikbaarheidsgroep-Listeners, clientconnectiviteit en Failover van de toepassing (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="e0b1b-243">Availability Group Listeners, Client Connectivity, and Application Failover (SQL Server)</span></span>](https://technet.microsoft.com/library/hh213417.aspx)
* [<span data-ttu-id="e0b1b-244">Met behulp van verbindingsreeksen Database Mirroring met beschikbaarheidsgroepen</span><span class="sxs-lookup"><span data-stu-id="e0b1b-244">Using Database-Mirroring Connection Strings with Availability Groups</span></span>](https://technet.microsoft.com/library/hh213417.aspx)

### <a name="network-latency-in-hybrid-it"></a><span data-ttu-id="e0b1b-245">Netwerklatentie in hybride IT</span><span class="sxs-lookup"><span data-stu-id="e0b1b-245">Network latency in hybrid IT</span></span>
<span data-ttu-id="e0b1b-246">U moet uw oplossing HADR met Hallo verondersteld dat er perioden met hoge netwerklatentie tussen uw on-premises netwerk en Azure implementeren.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-246">You should deploy your HADR solution with hello assumption that there may be periods of time with high network latency between your on-premises network and Azure.</span></span> <span data-ttu-id="e0b1b-247">Bij het implementeren van replica's tooAzure, moet u asynchrone doorvoer in plaats van synchrone doorvoer voor Hallo Synchronisatiemodus.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-247">When deploying replicas tooAzure, you should use asynchronous commit instead of synchronous commit for hello synchronization mode.</span></span> <span data-ttu-id="e0b1b-248">Wanneer database mirroring servers implementeren zowel on-premises en in Azure, kunt u Hallo krachtige modus gebruiken in plaats van Hallo hoge veiligheid modus.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-248">When deploying database mirroring servers both on-premises and in Azure, use hello high-performance mode instead of hello high-safety mode.</span></span>

### <a name="geo-replication-support"></a><span data-ttu-id="e0b1b-249">Geo-replicatie-ondersteuning</span><span class="sxs-lookup"><span data-stu-id="e0b1b-249">Geo-replication support</span></span>
<span data-ttu-id="e0b1b-250">Geo-replicatie in Azure-schijven biedt geen ondersteuning voor het Hallo-gegevensbestand en logboekbestand Hallo dezelfde database toobe op afzonderlijke schijven opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-250">Geo-replication in Azure disks does not support hello data file and log file of hello same database toobe stored on separate disks.</span></span> <span data-ttu-id="e0b1b-251">GRS repliceert wijzigingen op elke schijf afzonderlijk en asynchroon.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-251">GRS replicates changes on each disk independently and asynchronously.</span></span> <span data-ttu-id="e0b1b-252">Dit mechanisme zorgt ervoor dat Hallo schrijven volgorde binnen een enkele schijf op Hallo geogerepliceerde kopie, maar niet tussen geogerepliceerde kopieën van meerdere schijven.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-252">This mechanism guarantees hello write order within a single disk on hello geo-replicated copy, but not across geo-replicated copies of multiple disks.</span></span> <span data-ttu-id="e0b1b-253">Als u een database toostore het gegevensbestand en een logboekbestand op afzonderlijke schijven configureert, hersteld Hallo schijven na een noodgeval kan een meer recente kopie van het gegevensbestand Hallo dan Hallo-logboekbestand, welke einden Hallo vooraf geschreven logboek in SQL Server en Hallo ACID bevatten Eigenschappen van transacties.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-253">If you configure a database toostore its data file and its log file on separate disks, hello recovered disks after a disaster may contain a more up-to-date copy of hello data file than hello log file, which breaks hello write-ahead log in SQL Server and hello ACID properties of transactions.</span></span> <span data-ttu-id="e0b1b-254">Als u geen Hallo optie toodisable geo-replicatie op Hallo storage-account, moet u alle gegevens behouden en logboekbestanden voor een bepaalde database op Hallo dezelfde schijf.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-254">If you do not have hello option toodisable geo-replication on hello storage account, you should keep all data and log files for a given database on hello same disk.</span></span> <span data-ttu-id="e0b1b-255">Als u meer dan één schijf vanwege de grootte van de database Hallo toohello gebruiken moet, moet u een van de noodhersteloplossingen hello tooensure gegevensredundantie bovenstaande toodeploy.</span><span class="sxs-lookup"><span data-stu-id="e0b1b-255">If you must use more than one disk due toohello size of hello database, you need toodeploy one of hello disaster recovery solutions listed above tooensure data redundancy.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e0b1b-256">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="e0b1b-256">Next steps</span></span>
<span data-ttu-id="e0b1b-257">Als u een virtuele machine van Azure met SQL Server toocreate nodig hebt, raadpleegt u [inrichten van een virtuele Machine van SQL Server op Azure](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-257">If you need toocreate an Azure virtual machine with SQL Server, see [Provisioning a SQL Server Virtual Machine on Azure](virtual-machines-windows-portal-sql-server-provision.md).</span></span>

<span data-ttu-id="e0b1b-258">tooget hello optimale prestaties van SQL Server wordt uitgevoerd op een Azure-VM Zie Hallo richtlijnen in [Best Practices prestaties for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-258">tooget hello best performance from SQL Server running on an Azure VM, see hello guidance in [Performance Best Practices for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span></span>

<span data-ttu-id="e0b1b-259">Voor andere onderwerpen die betrekking toorunning SQL-Server in Azure VM's hebben, Zie [SQL Server op Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e0b1b-259">For other topics related toorunning SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

### <a name="other-resources"></a><span data-ttu-id="e0b1b-260">Meer informatie</span><span class="sxs-lookup"><span data-stu-id="e0b1b-260">Other resources</span></span>
* [<span data-ttu-id="e0b1b-261">Een nieuw Active Directory-forest installeren in Azure</span><span class="sxs-lookup"><span data-stu-id="e0b1b-261">Install a new Active Directory forest in Azure</span></span>](../../../active-directory/active-directory-new-forest-virtual-machine.md)
* [<span data-ttu-id="e0b1b-262">Failover-Cluster maken voor beschikbaarheidsgroepen in Azure VM</span><span class="sxs-lookup"><span data-stu-id="e0b1b-262">Create Failover Cluster for availability groups in Azure VM</span></span>](http://gallery.technet.microsoft.com/scriptcenter/Create-WSFC-Cluster-for-7c207d3a)

