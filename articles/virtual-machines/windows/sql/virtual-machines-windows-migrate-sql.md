---
title: een SQL Server-database tooSQL Server op een virtuele machine aaaMigrate | Microsoft Docs
description: Meer informatie over hoe een on-premises gebruiker toomigrate tooSQL Server in een virtuele machine van Azure-database.
services: virtual-machines-windows
documentationcenter: 
author: sabotta
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: 00fd08c6-98fa-4d62-a3b8-ca20aa5246b1
ms.service: virtual-machines-sql
ms.workload: iaas-sql-server
ms.tgt_pltfrm: vm-windows-sql-server
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: carlasab
ms.openlocfilehash: 9c7aba30304ea40796412d2ddc885f6d4a58be2a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="migrate-a-sql-server-database-toosql-server-in-an-azure-vm"></a><span data-ttu-id="f6f7c-103">Migreren van een SQL Server-database tooSQL Server in een Azure VM</span><span class="sxs-lookup"><span data-stu-id="f6f7c-103">Migrate a SQL Server database tooSQL Server in an Azure VM</span></span>

<span data-ttu-id="f6f7c-104">Er zijn een aantal methoden toomigrate een lokale SQL Server gebruiker database tooSQL Server in een Azure VM.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-104">There are a number of methods toomigrate an on-premises SQL Server user database tooSQL Server in an Azure VM.</span></span> <span data-ttu-id="f6f7c-105">Dit artikel wordt kort bespreken verschillende methoden en aanbevolen om de beste methode Hallo voor verschillende scenario's.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-105">This article will briefly discuss various methods and recommend hello best method for various scenarios.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="what-are-hello-primary-migration-methods"></a><span data-ttu-id="f6f7c-106">Wat zijn de primaire migratiemethoden Hallo?</span><span class="sxs-lookup"><span data-stu-id="f6f7c-106">What are hello primary migration methods?</span></span>
<span data-ttu-id="f6f7c-107">Hallo primaire migratiemethoden zijn:</span><span class="sxs-lookup"><span data-stu-id="f6f7c-107">hello primary migration methods are:</span></span>

* <span data-ttu-id="f6f7c-108">Lokale back-up maken gebruik van compressie en handmatig kopiëren Hallo back-upbestand in hello Azure virtuele machine</span><span class="sxs-lookup"><span data-stu-id="f6f7c-108">Perform on-premises backup using compression and manually copy hello backup file into hello Azure virtual machine</span></span>
* <span data-ttu-id="f6f7c-109">Maken en uitvoeren van een back-tooURL in hello Azure virtuele machine van Hallo-URL</span><span class="sxs-lookup"><span data-stu-id="f6f7c-109">Perform a backup tooURL and restore into hello Azure virtual machine from hello URL</span></span>
* <span data-ttu-id="f6f7c-110">Ontkoppel en kopieer Hallo gegevens en logboekbestanden bestanden tooAzure blob-opslag en koppel vervolgens tooSQL Server in Azure VM van URL</span><span class="sxs-lookup"><span data-stu-id="f6f7c-110">Detach and then copy hello data and log files tooAzure blob storage and then attach tooSQL Server in Azure VM from URL</span></span>
* <span data-ttu-id="f6f7c-111">Converteren van lokale fysieke machine tooHyper-V-VHD en vervolgens implementeren als nieuwe virtuele machine via geüpload VHD uploaden tooAzure Blob-opslag</span><span class="sxs-lookup"><span data-stu-id="f6f7c-111">Convert on-premises physical machine tooHyper-V VHD, upload tooAzure Blob storage, and then deploy as new VM using uploaded VHD</span></span>
* <span data-ttu-id="f6f7c-112">Verzenden van de harde schijf met de Windows-Service voor importeren/exporteren</span><span class="sxs-lookup"><span data-stu-id="f6f7c-112">Ship hard drive using Windows Import/Export Service</span></span>
* <span data-ttu-id="f6f7c-113">Zo hebt u een AlwaysOn-implementatie van on-premises, gebruikt u Hallo [Azure Replica Wizard toevoegen](../classic/sql-onprem-availability.md) toocreate een replica in Azure en vervolgens failover, gebruikers toohello Azure database-exemplaar aan te wijzen</span><span class="sxs-lookup"><span data-stu-id="f6f7c-113">If you have an AlwaysOn deployment on-premises, use hello [Add Azure Replica Wizard](../classic/sql-onprem-availability.md) toocreate a replica in Azure and then failover, pointing users toohello Azure database instance</span></span>
* <span data-ttu-id="f6f7c-114">SQL Server gebruiken [transactionele replicatie](https://msdn.microsoft.com/library/ms151176.aspx) tooconfigure hello Azure SQL Server-exemplaar als een abonnee en Schakel replicatie, wijzen gebruikers toohello Azure database-exemplaar uit</span><span class="sxs-lookup"><span data-stu-id="f6f7c-114">Use SQL Server [transactional replication](https://msdn.microsoft.com/library/ms151176.aspx) tooconfigure hello Azure SQL Server instance as a subscriber and then disable replication, pointing users toohello Azure database instance</span></span>

> [!TIP]
> <span data-ttu-id="f6f7c-115">Ook kunt u deze databases met dezelfde technieken toomove tussen VM's van SQL Server in Azure.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-115">You can also use these same techniques toomove databases between SQL Server VMs in Azure.</span></span> <span data-ttu-id="f6f7c-116">Bijvoorbeeld: Er is geen ondersteunde manier tooupgrade een VM van de SQL Server-afbeelding van één versie /-editie tooanother.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-116">For example, there is no supported way tooupgrade a SQL Server gallery-image VM from one version/edition tooanother.</span></span> <span data-ttu-id="f6f7c-117">In dit geval moet u een nieuwe virtuele machine een SQL-Server maken met Hallo nieuwe versie /-editie en voert u een van Hallo migratie technieken in dit artikel toomove uw databases.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-117">In this case, you should create a new SQL Server VM with hello new version/edition, and then use one of hello migration techniques in this article toomove your databases.</span></span> 

## <a name="choosing-your-migration-method"></a><span data-ttu-id="f6f7c-118">Uw migratiemethode kiezen</span><span class="sxs-lookup"><span data-stu-id="f6f7c-118">Choosing your migration method</span></span>
<span data-ttu-id="f6f7c-119">Voor optimale prestaties overdracht, migreren Hallo-databasebestanden in hello Azure-VM met een gecomprimeerde back-upbestand.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-119">For optimum data transfer performance, migrate hello database files into hello Azure VM using a compressed backup file.</span></span>

<span data-ttu-id="f6f7c-120">toominimize downtime tijdens het migratieproces Hallo-database, de optie AlwaysOn Hallo of Hallo transactionele replicatie-optie gebruiken.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-120">toominimize downtime during hello database migration process, use either hello AlwaysOn option or hello transactional replication option.</span></span>

<span data-ttu-id="f6f7c-121">Als het niet mogelijk toouse Hallo hierboven methoden, handmatig migreren van uw database.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-121">If it is not possible toouse hello above methods, manually migrate your database.</span></span> <span data-ttu-id="f6f7c-122">Met deze optie kunt u in het algemeen beginnen met een databaseback-up gevolgd door een kopie van Hallo databaseback-up naar Azure en voert u een database terugzetten.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-122">Using this method, you will generally start with a database backup followed by a copy of hello database backup into Azure and then perform a database restore.</span></span> <span data-ttu-id="f6f7c-123">U kunt ook Hallo-databasebestanden zichzelf te kopiëren naar Azure en koppelt u ze.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-123">You can also copy hello database files themselves into Azure and then attach them.</span></span> <span data-ttu-id="f6f7c-124">Er zijn verschillende methoden waarmee u deze handmatige verwerking van een database migreren naar een virtuele machine van Azure kunt uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-124">There are several methods by which you can accomplish this manual process of migrating a database into an Azure VM.</span></span>

> [!NOTE]
> <span data-ttu-id="f6f7c-125">Wanneer u tooSQL Server 2014 of SQL Server 2016 van oudere versies van SQL Server bijwerkt, moet u rekening houden of er wijzigingen nodig zijn.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-125">When you upgrade tooSQL Server 2014 or SQL Server 2016 from older versions of SQL Server, you should consider whether changes are needed.</span></span> <span data-ttu-id="f6f7c-126">Het is raadzaam dat u alle afhankelijkheden op functies die niet wordt ondersteund door de nieuwe versie van SQL Server Hallo als onderdeel van uw migratieproject te houden.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-126">We recommend that you address all dependencies on features not supported by hello new version of SQL Server as part of your migration project.</span></span> <span data-ttu-id="f6f7c-127">Zie voor meer informatie over scenario's en edities van Hallo ondersteund [tooSQL Server Upgrade](https://msdn.microsoft.com/library/bb677622.aspx).</span><span class="sxs-lookup"><span data-stu-id="f6f7c-127">For more information on hello supported editions and scenarios, see [Upgrade tooSQL Server](https://msdn.microsoft.com/library/bb677622.aspx).</span></span>

<span data-ttu-id="f6f7c-128">Hallo volgende tabel geeft een lijst van elk van de primaire migratiemethoden Hallo en wordt beschreven wanneer Hallo gebruik van elke methode is het meest geschikt.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-128">hello following table lists each of hello primary migration methods and discusses when hello use of each method is most appropriate.</span></span>

| <span data-ttu-id="f6f7c-129">Methode</span><span class="sxs-lookup"><span data-stu-id="f6f7c-129">Method</span></span> | <span data-ttu-id="f6f7c-130">De versie van de gegevensbron-database</span><span class="sxs-lookup"><span data-stu-id="f6f7c-130">Source database version</span></span> | <span data-ttu-id="f6f7c-131">De versie van de doel-database</span><span class="sxs-lookup"><span data-stu-id="f6f7c-131">Destination database version</span></span> | <span data-ttu-id="f6f7c-132">De grootte van de back-beperking op de bron database</span><span class="sxs-lookup"><span data-stu-id="f6f7c-132">Source database backup size constraint</span></span> | <span data-ttu-id="f6f7c-133">Opmerkingen</span><span class="sxs-lookup"><span data-stu-id="f6f7c-133">Notes</span></span> |
| --- | --- | --- | --- | --- |
| [<span data-ttu-id="f6f7c-134">Lokale back-up maken gebruik van compressie en handmatig kopiëren Hallo back-upbestand in hello Azure virtuele machine</span><span class="sxs-lookup"><span data-stu-id="f6f7c-134">Perform on-premises backup using compression and manually copy hello backup file into hello Azure virtual machine</span></span>](#backup-and-restore) |<span data-ttu-id="f6f7c-135">SQL Server 2005 of hoger</span><span class="sxs-lookup"><span data-stu-id="f6f7c-135">SQL Server 2005 or greater</span></span> |<span data-ttu-id="f6f7c-136">SQL Server 2005 of hoger</span><span class="sxs-lookup"><span data-stu-id="f6f7c-136">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="f6f7c-137">De opslaglimiet van de Azure VM</span><span class="sxs-lookup"><span data-stu-id="f6f7c-137">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) | <span data-ttu-id="f6f7c-138">Dit is een zeer eenvoudige en uitgebreid geteste techniek voor het verplaatsen van databases op computers.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-138">This is a very simple and well-tested technique for moving databases across machines.</span></span> |
| [<span data-ttu-id="f6f7c-139">Maken en uitvoeren van een back-tooURL in hello Azure virtuele machine van Hallo-URL</span><span class="sxs-lookup"><span data-stu-id="f6f7c-139">Perform a backup tooURL and restore into hello Azure virtual machine from hello URL</span></span>](#backup-to-url-and-restore) |<span data-ttu-id="f6f7c-140">SQL Server 2012 SP1 CU2 of hoger</span><span class="sxs-lookup"><span data-stu-id="f6f7c-140">SQL Server 2012 SP1 CU2 or greater</span></span> |<span data-ttu-id="f6f7c-141">SQL Server 2012 SP1 CU2 of hoger</span><span class="sxs-lookup"><span data-stu-id="f6f7c-141">SQL Server 2012 SP1 CU2 or greater</span></span> |<span data-ttu-id="f6f7c-142">< 12,8 TB voor SQL Server 2016, anders < 1 TB</span><span class="sxs-lookup"><span data-stu-id="f6f7c-142">< 12.8 TB for SQL Server 2016, otherwise < 1 TB</span></span> | <span data-ttu-id="f6f7c-143">Deze methode is alleen een andere manier toomove Hallo back-upbestand toohello virtuele machine met behulp van Azure-opslag.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-143">This method is just another way toomove hello backup file toohello VM using Azure storage.</span></span> |
| [<span data-ttu-id="f6f7c-144">Ontkoppel en kopieer Hallo gegevens en logboekbestanden bestanden tooAzure blob-opslag en koppel vervolgens tooSQL Server in Azure virtuele machine van de URL</span><span class="sxs-lookup"><span data-stu-id="f6f7c-144">Detach and then copy hello data and log files tooAzure blob storage and then attach tooSQL Server in Azure virtual machine from URL</span></span>](#detach-and-attach-from-url) |<span data-ttu-id="f6f7c-145">SQL Server 2005 of hoger</span><span class="sxs-lookup"><span data-stu-id="f6f7c-145">SQL Server 2005 or greater</span></span> |<span data-ttu-id="f6f7c-146">SQL Server 2014 of hoger</span><span class="sxs-lookup"><span data-stu-id="f6f7c-146">SQL Server 2014 or greater</span></span> |[<span data-ttu-id="f6f7c-147">De opslaglimiet van de Azure VM</span><span class="sxs-lookup"><span data-stu-id="f6f7c-147">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="f6f7c-148">Gebruik deze methode wanneer u van plan te bent[Bewaar deze bestanden hello Azure Blob storage-service met](https://msdn.microsoft.com/library/dn385720.aspx) en koppel deze tooSQL Server uitgevoerd in een virtuele machine van Azure, met name met zeer grote databases</span><span class="sxs-lookup"><span data-stu-id="f6f7c-148">Use this method when you plan too[store these files using hello Azure Blob storage service](https://msdn.microsoft.com/library/dn385720.aspx) and attach them tooSQL Server running in an Azure VM, particularly with very large databases</span></span> |
| [<span data-ttu-id="f6f7c-149">Convert on-premises machine tooHyper-V-VHD's, uploaden tooAzure Blob-opslag, en vervolgens een nieuwe virtuele machine met behulp van geüploade VHD implementeren</span><span class="sxs-lookup"><span data-stu-id="f6f7c-149">Convert on-premises machine tooHyper-V VHDs, upload tooAzure Blob storage, and then deploy a new virtual machine using uploaded VHD</span></span>](#convert-to-vm-and-upload-to-url-and-deploy-as-new-vm) |<span data-ttu-id="f6f7c-150">SQL Server 2005 of hoger</span><span class="sxs-lookup"><span data-stu-id="f6f7c-150">SQL Server 2005 or greater</span></span> |<span data-ttu-id="f6f7c-151">SQL Server 2005 of hoger</span><span class="sxs-lookup"><span data-stu-id="f6f7c-151">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="f6f7c-152">De opslaglimiet van de Azure VM</span><span class="sxs-lookup"><span data-stu-id="f6f7c-152">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="f6f7c-153">Gebruiken wanneer [brengen van uw eigen SQL Server-licentie](../../../sql-database/sql-database-paas-vs-sql-server-iaas.md), bij het migreren van een database die u in een oudere versie van SQL Server wordt uitgevoerd of bij het migreren systeem en gebruikersdatabases samen als onderdeel van de migratie van de database is afhankelijk van andere Hallo gebruikersdatabases en/of systeemdatabases.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-153">Use when [bringing your own SQL Server license](../../../sql-database/sql-database-paas-vs-sql-server-iaas.md), when migrating a database that you will run on an older version of SQL Server, or when migrating system and user databases together as part of hello migration of database dependent on other user databases and/or system databases.</span></span> |
| [<span data-ttu-id="f6f7c-154">Verzenden van de harde schijf met de Windows-Service voor importeren/exporteren</span><span class="sxs-lookup"><span data-stu-id="f6f7c-154">Ship hard drive using Windows Import/Export Service</span></span>](#ship-hard-drive) |<span data-ttu-id="f6f7c-155">SQL Server 2005 of hoger</span><span class="sxs-lookup"><span data-stu-id="f6f7c-155">SQL Server 2005 or greater</span></span> |<span data-ttu-id="f6f7c-156">SQL Server 2005 of hoger</span><span class="sxs-lookup"><span data-stu-id="f6f7c-156">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="f6f7c-157">De opslaglimiet van de Azure VM</span><span class="sxs-lookup"><span data-stu-id="f6f7c-157">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="f6f7c-158">Gebruik Hallo [Windows Import/Export-Service](../../../storage/common/storage-import-export-service.md) wanneer handmatige copy-methode is te langzaam, zoals met zeer grote databases</span><span class="sxs-lookup"><span data-stu-id="f6f7c-158">Use hello [Windows Import/Export Service](../../../storage/common/storage-import-export-service.md) when manual copy method is too slow, such as with very large databases</span></span> |
| [<span data-ttu-id="f6f7c-159">Gebruik hello Azure Replica Wizard toevoegen</span><span class="sxs-lookup"><span data-stu-id="f6f7c-159">Use hello Add Azure Replica Wizard</span></span>](../classic/sql-onprem-availability.md) |<span data-ttu-id="f6f7c-160">SQL Server 2012 of hoger</span><span class="sxs-lookup"><span data-stu-id="f6f7c-160">SQL Server 2012 or greater</span></span> |<span data-ttu-id="f6f7c-161">SQL Server 2012 of hoger</span><span class="sxs-lookup"><span data-stu-id="f6f7c-161">SQL Server 2012 or greater</span></span> |[<span data-ttu-id="f6f7c-162">De opslaglimiet van de Azure VM</span><span class="sxs-lookup"><span data-stu-id="f6f7c-162">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="f6f7c-163">Minimaliseert uitvaltijd, gebruik wanneer u een AlwaysOn-on-premises-implementatie</span><span class="sxs-lookup"><span data-stu-id="f6f7c-163">Minimizes downtime, use when you have an AlwaysOn on-premises deployment</span></span> |
| [<span data-ttu-id="f6f7c-164">Transactionele replicatie van SQL Server gebruiken</span><span class="sxs-lookup"><span data-stu-id="f6f7c-164">Use SQL Server transactional replication</span></span>](https://msdn.microsoft.com/library/ms151176.aspx) |<span data-ttu-id="f6f7c-165">SQL Server 2005 of hoger</span><span class="sxs-lookup"><span data-stu-id="f6f7c-165">SQL Server 2005 or greater</span></span> |<span data-ttu-id="f6f7c-166">SQL Server 2005 of hoger</span><span class="sxs-lookup"><span data-stu-id="f6f7c-166">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="f6f7c-167">De opslaglimiet van de Azure VM</span><span class="sxs-lookup"><span data-stu-id="f6f7c-167">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="f6f7c-168">Gebruik deze optie wanneer u toominimize uitvaltijd nodig en geen een AlwaysOn-on-premises-implementatie hoeft</span><span class="sxs-lookup"><span data-stu-id="f6f7c-168">Use when you need toominimize downtime and do not have an AlwaysOn on-premises deployment</span></span> |

## <a name="backup-and-restore"></a><span data-ttu-id="f6f7c-169">Back-ups en herstellen</span><span class="sxs-lookup"><span data-stu-id="f6f7c-169">Backup and restore</span></span>
<span data-ttu-id="f6f7c-170">Maak een back-up van de database met compressie Hallo back-toohello VM kopiëren en vervolgens Hallo-database te herstellen.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-170">Back up your database with compression, copy hello backup toohello VM, and then restore hello database.</span></span> <span data-ttu-id="f6f7c-171">Als uw back-upbestand groter dan 1 TB is, moet u het stripe omdat Hallo maximale grootte van een VM-schijf 1 TB is.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-171">If your backup file is larger than 1 TB, you must stripe it because hello maximum size of a VM disk is 1 TB.</span></span> <span data-ttu-id="f6f7c-172">Hallo volgende algemene stappen toomigrate een gebruikersdatabase die met deze handmatige methode gebruiken:</span><span class="sxs-lookup"><span data-stu-id="f6f7c-172">Use hello following general steps toomigrate a user database using this manual method:</span></span>

1. <span data-ttu-id="f6f7c-173">Voer een volledige back-tooan on-premises locatie.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-173">Perform a full database backup tooan on-premises location.</span></span>
2. <span data-ttu-id="f6f7c-174">Maken of een virtuele machine met de versie van SQL Server gewenst Hallo uploaden.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-174">Create or upload a virtual machine with hello version of SQL Server desired.</span></span>
3. <span data-ttu-id="f6f7c-175">Het instellen van connectiviteit op basis van uw vereisten.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-175">Setup connectivity based on your requirements.</span></span> <span data-ttu-id="f6f7c-176">Zie [verbinding maken met virtuele Machine van SQL Server op Azure (Resource Manager) tooa](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="f6f7c-176">See [Connect tooa SQL Server Virtual Machine on Azure (Resource Manager)](virtual-machines-windows-sql-connect.md).</span></span>
4. <span data-ttu-id="f6f7c-177">Kopieer de back-up bestand(en) tooyour VM met extern bureaublad, Windows Verkenner of Hallo opdracht kopiëren vanaf een opdrachtprompt.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-177">Copy your backup file(s) tooyour VM using remote desktop, Windows Explorer or hello copy command from a command prompt.</span></span>

## <a name="backup-toourl-and-restore"></a><span data-ttu-id="f6f7c-178">TooURL back-up en herstel</span><span class="sxs-lookup"><span data-stu-id="f6f7c-178">Backup tooURL and restore</span></span>
<span data-ttu-id="f6f7c-179">In plaats van een back-up van het lokale bestand tooa, kunt u Hallo [back-tooURL](https://msdn.microsoft.com/library/dn435916.aspx) en herstel van URL toohello VM.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-179">Instead of backing up tooa local file, you can use hello [backup tooURL](https://msdn.microsoft.com/library/dn435916.aspx) and then restore from URL toohello VM.</span></span> <span data-ttu-id="f6f7c-180">Worden aanbevolen voor prestaties en vereist tooexceed Hallo groottebeperkingen per blob met SQL Server 2016 striped back-upsets worden ondersteund.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-180">With SQL Server 2016, striped backup sets are supported, are recommended for performance, and required tooexceed hello size limits per blob.</span></span> <span data-ttu-id="f6f7c-181">Voor zeer grote databases Hallo gebruik van Hallo [Windows Import/Export-Service](../../../storage/common/storage-import-export-service.md) wordt aanbevolen.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-181">For very large databases, hello use of hello [Windows Import/Export Service](../../../storage/common/storage-import-export-service.md) is recommended.</span></span>

## <a name="detach-and-attach-from-url"></a><span data-ttu-id="f6f7c-182">Ontkoppel en koppelen van URL</span><span class="sxs-lookup"><span data-stu-id="f6f7c-182">Detach and attach from URL</span></span>
<span data-ttu-id="f6f7c-183">Ontkoppel de database en logboekbestanden bestanden en dragen deze te[Azure Blob storage](https://msdn.microsoft.com/library/dn385720.aspx).</span><span class="sxs-lookup"><span data-stu-id="f6f7c-183">Detach your database and log files and transfer them too[Azure Blob storage](https://msdn.microsoft.com/library/dn385720.aspx).</span></span> <span data-ttu-id="f6f7c-184">Koppel vervolgens Hallo-database van Hallo-URL op de virtuele machine van Azure.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-184">Then attach hello database from hello URL on your Azure VM.</span></span> <span data-ttu-id="f6f7c-185">Gebruik deze optie als u wilt dat Hallo fysieke database bestanden tooreside in Blob-opslag.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-185">Use this if you want hello physical database files tooreside in Blob storage.</span></span> <span data-ttu-id="f6f7c-186">Dit kan handig zijn voor zeer grote databases.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-186">This might be useful for very large databases.</span></span> <span data-ttu-id="f6f7c-187">Hallo volgende algemene stappen toomigrate een gebruikersdatabase die met deze handmatige methode gebruiken:</span><span class="sxs-lookup"><span data-stu-id="f6f7c-187">Use hello following general steps toomigrate a user database using this manual method:</span></span>

1. <span data-ttu-id="f6f7c-188">Loskoppelen van de databasebestanden Hallo van Hallo lokale database-exemplaar.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-188">Detach hello database files from hello on-premises database instance.</span></span>
2. <span data-ttu-id="f6f7c-189">Hallo losgekoppeld databasebestanden kopiëren naar Azure blob storage met Hallo [AZCopy-opdrachtregelprogramma](../../../storage/common/storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="f6f7c-189">Copy hello detached database files into Azure blob storage using hello [AZCopy command-line utility](../../../storage/common/storage-use-azcopy.md).</span></span>
3. <span data-ttu-id="f6f7c-190">Hallo-databasebestanden uit hello Azure-URL toohello SQL Server-exemplaar in hello Azure VM toevoegen.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-190">Attach hello database files from hello Azure URL toohello SQL Server instance in hello Azure VM.</span></span>

## <a name="convert-toovm-and-upload-toourl-and-deploy-as-new-vm"></a><span data-ttu-id="f6f7c-191">TooVM converteren en tooURL uploaden en implementeren als een nieuwe virtuele machine</span><span class="sxs-lookup"><span data-stu-id="f6f7c-191">Convert tooVM and upload tooURL and deploy as new VM</span></span>
<span data-ttu-id="f6f7c-192">Gebruik deze methode toomigrate alle systeem- en -databases in een lokale SQL Server-exemplaar tooAzure virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-192">Use this method toomigrate all system and user databases in an on-premises SQL Server instance tooAzure virtual machine.</span></span> <span data-ttu-id="f6f7c-193">Hallo volgende algemene stappen toomigrate een volledige SQL Server-exemplaar met behulp van deze handmatige methode gebruiken:</span><span class="sxs-lookup"><span data-stu-id="f6f7c-193">Use hello following general steps toomigrate an entire SQL Server instance using this manual method:</span></span>

1. <span data-ttu-id="f6f7c-194">Convert fysieke of virtuele machines tooHyper-V-VHD's met behulp van [Microsoft Virtual Machine Converter](https://technet.microsoft.com/library/dn874008(v=ws.11).aspx).</span><span class="sxs-lookup"><span data-stu-id="f6f7c-194">Convert physical or virtual machines tooHyper-V VHDs by using [Microsoft Virtual Machine Converter](https://technet.microsoft.com/library/dn874008(v=ws.11).aspx).</span></span>
2. <span data-ttu-id="f6f7c-195">VHD-bestanden tooAzure opslag uploaden via Hallo [cmdlet Add-AzureVHD](https://msdn.microsoft.com/library/windowsazure/dn495173.aspx).</span><span class="sxs-lookup"><span data-stu-id="f6f7c-195">Upload VHD files tooAzure Storage by using hello [Add-AzureVHD cmdlet](https://msdn.microsoft.com/library/windowsazure/dn495173.aspx).</span></span>
3. <span data-ttu-id="f6f7c-196">Implementeer een nieuwe virtuele machine met behulp van Hallo VHD geüpload.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-196">Deploy a new virtual machine by using hello uploaded VHD.</span></span>

> [!NOTE]
> <span data-ttu-id="f6f7c-197">toomigrate een volledige toepassing, kunt u overwegen [Azure Site Recovery](../../../site-recovery/site-recovery-overview.md)].</span><span class="sxs-lookup"><span data-stu-id="f6f7c-197">toomigrate an entire application, consider using [Azure Site Recovery](../../../site-recovery/site-recovery-overview.md)].</span></span>

## <a name="ship-hard-drive"></a><span data-ttu-id="f6f7c-198">Verzenden van de harde schijf</span><span class="sxs-lookup"><span data-stu-id="f6f7c-198">Ship hard drive</span></span>
<span data-ttu-id="f6f7c-199">Gebruik Hallo [Windows Import/Export-Service methode](../../../storage/common/storage-import-export-service.md) tootransfer grote hoeveelheden bestand gegevens tooAzure Blob-opslag in situaties waarbij uploaden via Hallo netwerk beperkend dure of niet haalbaar is is.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-199">Use hello [Windows Import/Export Service method](../../../storage/common/storage-import-export-service.md) tootransfer large amounts of file data tooAzure Blob storage in situations where uploading over hello network is prohibitively expensive or not feasible.</span></span> <span data-ttu-id="f6f7c-200">Met deze service verzenden van een of meer harde schijven met deze gegevens tooan Azure-Datacenter, waar uw gegevens worden geüpload tooyour storage-account.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-200">With this service, you send one or more hard drives containing that data tooan Azure data center, where your data will be uploaded tooyour storage account.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f6f7c-201">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="f6f7c-201">Next Steps</span></span>
<span data-ttu-id="f6f7c-202">Zie voor meer informatie over het uitvoeren van SQL Server op Azure Virtual Machines [SQL Server op Azure Virtual Machines-overzicht](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f6f7c-202">For more information about running SQL Server on Azure Virtual Machines, see [SQL Server on Azure Virtual Machines overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

<span data-ttu-id="f6f7c-203">Zie voor instructies over het maken van een virtuele Machine van Azure SQL Server vanuit een vastgelegd beeld [Tips & trucs voor SQL Azure virtuele machines van de vastgelegde installatiekopieën klonen](https://blogs.msdn.microsoft.com/psssql/2016/07/06/tips-tricks-on-cloning-azure-sql-virtual-machines-from-captured-images/) op Hallo CSS SQL Server-Engineers-blog.</span><span class="sxs-lookup"><span data-stu-id="f6f7c-203">For instructions on creating an Azure SQL Server Virtual Machine from a captured image, see [Tips & Tricks on ‘cloning’ Azure SQL virtual machines from captured images](https://blogs.msdn.microsoft.com/psssql/2016/07/06/tips-tricks-on-cloning-azure-sql-virtual-machines-from-captured-images/) on hello CSS SQL Server Engineers blog.</span></span>

