---
title: Een virtuele SQL Server-machine inrichten | Microsoft Docs
description: Richt in Azure een virtuele SQL Server-machine in en maak hier verbinding mee via de portal. In deze zelfstudie wordt de Resource Manager-modus gebruikt.
services: virtual-machines-windows
documentationcenter: na
author: rothja
editor: 
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 1aff691f-a40a-4de2-b6a0-def1384e086e
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: infrastructure-services
ms.date: 04/03/2017
ms.author: jroth
experimental_id: a641df96-f27d-40
ms.openlocfilehash: c51908058bb785cb33da21de76ba3c956b6b9f1f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/11/2017
---
# <a name="provision-a-sql-server-virtual-machine-in-the-azure-portal"></a><span data-ttu-id="6bb69-104">Een virtuele SQL Server-machine inrichten in Azure Portal</span><span class="sxs-lookup"><span data-stu-id="6bb69-104">Provision a SQL Server virtual machine in the Azure Portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="6bb69-105">Portal</span><span class="sxs-lookup"><span data-stu-id="6bb69-105">Portal</span></span>](virtual-machines-windows-portal-sql-server-provision.md)
> * [<span data-ttu-id="6bb69-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="6bb69-106">PowerShell</span></span>](virtual-machines-windows-ps-sql-create.md)
> 
> 

<span data-ttu-id="6bb69-107">In deze end-to-end zelfstudie wordt getoond hoe u Azure Portal kunt gebruiken voor het inrichten van een virtuele machine waarop SQL Server wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="6bb69-107">This end-to-end tutorial shows you how to use the Azure Portal to provision a virtual machine running SQL Server.</span></span>

<span data-ttu-id="6bb69-108">De galerie met virtuele machines van Azure bevat diverse installatiekopieën met Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6bb69-108">The Azure virtual machine (VM) gallery includes several images that contain Microsoft SQL Server.</span></span> <span data-ttu-id="6bb69-109">Met een paar klikken kunt u in de galerie een van de installatiekopieën voor een virtuele SQL-machine selecteren en inrichten in uw Azure-omgeving.</span><span class="sxs-lookup"><span data-stu-id="6bb69-109">With a few clicks, you can select one of the SQL VM images from the gallery and provision it in your Azure environment.</span></span>

<span data-ttu-id="6bb69-110">In deze zelfstudie leert u het volgende:</span><span class="sxs-lookup"><span data-stu-id="6bb69-110">In this tutorial, you will:</span></span>

* [<span data-ttu-id="6bb69-111">Een installatiekopie voor een virtuele SQL-machine in de galerie selecteren</span><span class="sxs-lookup"><span data-stu-id="6bb69-111">Select a SQL VM image from the gallery</span></span>](#select-a-sql-vm-image-from-the-gallery)
* [<span data-ttu-id="6bb69-112">De virtuele machine configureren en maken</span><span class="sxs-lookup"><span data-stu-id="6bb69-112">Configure and create the VM</span></span>](#configure-the-vm)
* [<span data-ttu-id="6bb69-113">De virtuele machine openen via Extern bureaublad</span><span class="sxs-lookup"><span data-stu-id="6bb69-113">Open the VM with Remote Desktop</span></span>](#open-the-vm-with-remote-desktop)
* [<span data-ttu-id="6bb69-114">Op afstand verbinding maken met SQL Server</span><span class="sxs-lookup"><span data-stu-id="6bb69-114">Connect to SQL Server remotely</span></span>](#connect-to-sql-server-remotely)

## <a name="select-a-sql-vm-image-from-the-gallery"></a><span data-ttu-id="6bb69-115">Een installatiekopie voor een virtuele SQL-machine in de galerie selecteren</span><span class="sxs-lookup"><span data-stu-id="6bb69-115">Select a SQL VM image from the gallery</span></span>
1. <span data-ttu-id="6bb69-116">Meld u met uw account aan bij de [Azure Portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="6bb69-116">Log in to the [Azure portal](https://portal.azure.com) using your account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="6bb69-117">Als u geen Azure-account hebt, gaat u naar [Azure, gratis proefversie](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="6bb69-117">If you do not have an Azure account, visit [Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>

2. <span data-ttu-id="6bb69-118">Klik in Azure Portal op **Nieuw**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-118">On the Azure portal, click **New**.</span></span> <span data-ttu-id="6bb69-119">In de portal wordt de blade **Nieuw** geopend.</span><span class="sxs-lookup"><span data-stu-id="6bb69-119">The portal opens the **New** blade.</span></span> <span data-ttu-id="6bb69-120">De resources voor virtuele SQL Server-machines bevinden zich in de groep **Berekenen** van de Marketplace.</span><span class="sxs-lookup"><span data-stu-id="6bb69-120">The SQL Server VM resources are in the **Compute** group of the Marketplace.</span></span>
3. <span data-ttu-id="6bb69-121">Klik op de blade **Nieuw** op **Berekenen** en klik vervolgens op **Alles weergeven**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-121">In the **New** blade, click **Compute** and then click **See all**.</span></span>
4. <span data-ttu-id="6bb69-122">Typ in het tekstvak **Filter** de tekst 'SQL Server' en druk op Enter.</span><span class="sxs-lookup"><span data-stu-id="6bb69-122">In the **Filter** text box type SQL Server, and press the ENTER key.</span></span>

   ![Blade Virtuele machines in Azure](./media/virtual-machines-windows-portal-sql-server-provision/azure-compute-blade2.png)

5. <span data-ttu-id="6bb69-124">Bekijk de beschikbare SQL Server-installatiekopieën.</span><span class="sxs-lookup"><span data-stu-id="6bb69-124">Review the available SQL Server images.</span></span> <span data-ttu-id="6bb69-125">Elke installatiekopie correspondeert met een bepaalde SQL Server-versie en een bepaald besturingssysteem.</span><span class="sxs-lookup"><span data-stu-id="6bb69-125">Each image identifies a SQL Server version and an operating system.</span></span> 
6. <span data-ttu-id="6bb69-126">Selecteer de installatiekopie voor SQL Server 2016 SP1 Developer op Windows Server 2016.</span><span class="sxs-lookup"><span data-stu-id="6bb69-126">Select the image for SQL Server 2016 SP1 Developer on Windows Server 2016.</span></span>

   > [!TIP]
   > <span data-ttu-id="6bb69-127">In deze zelfstudie maken we gebruik van de Developer Edition omdat deze een complete versie van de SQL Server is die gratis gebruikt kan worden voor ontwikkelings-/testdoeleinden.</span><span class="sxs-lookup"><span data-stu-id="6bb69-127">The Developer edition is used in this tutorial because it is a full-featured edition of SQL Server that is free for development testing purposes.</span></span> <span data-ttu-id="6bb69-128">U betaalt alleen voor de kosten van het uitvoeren van de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-128">You pay only for the cost of running the VM.</span></span>

   > [!NOTE]
   > <span data-ttu-id="6bb69-129">SQL VM-images bevatten de licentiekosten voor SQL Server als prijzen per minuut van de virtuele machine die u maakt (met uitzondering van de Developer en Express Editions).</span><span class="sxs-lookup"><span data-stu-id="6bb69-129">SQL VM images include the licensing costs for SQL Server into the per-minute pricing of the VM you create (except for the Developer and Express editions).</span></span> <span data-ttu-id="6bb69-130">SQL Server Developer is gratis voor ontwikkeling/testen (niet voor productiedoeleinden) en SQL Express is gratis voor lichte werkbelasting (minder dan 1 GB geheugen, minder dan 10 GB opslagruimte).</span><span class="sxs-lookup"><span data-stu-id="6bb69-130">SQL Server Developer is free for development/testing (not production) and SQL Express is free for lightweight workloads (less than 1 GB memory, less than 10-GB storage).</span></span>
   > <span data-ttu-id="6bb69-131">Er is nog een andere mogelijkheid en dat is BYOL (bring-your-own-license). U betaalt dan alleen voor de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-131">There is another option to bring-your-own-license (BYOL) and pay only for the VM.</span></span> <span data-ttu-id="6bb69-132">De namen van de installatiekopieën worden voorafgegaan door {BYOL}.</span><span class="sxs-lookup"><span data-stu-id="6bb69-132">Those image names are prefixed with {BYOL}.</span></span> <span data-ttu-id="6bb69-133">Zie [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md) (Prijsrichtlijnen voor SQL Server Azure VM's) voor meer informatie over deze opties.</span><span class="sxs-lookup"><span data-stu-id="6bb69-133">For more information on these options, see [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md).</span></span>

7. <span data-ttu-id="6bb69-134">Controleer onder **Een implementatiemodel selecteren** of **Resource Manager** is geselecteerd.</span><span class="sxs-lookup"><span data-stu-id="6bb69-134">Under **Select a deployment model**, verify that **Resource Manager** is selected.</span></span> <span data-ttu-id="6bb69-135">Resource Manager is het aanbevolen implementatiemodel voor nieuwe virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="6bb69-135">Resource Manager is the recommended deployment model for new virtual machines.</span></span> <span data-ttu-id="6bb69-136">Klik op **Create**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-136">Click **Create**.</span></span>

    ![Virtuele SQL-machines maken met Resource Manager](./media/virtual-machines-windows-portal-sql-server-provision/azure-compute-sql-deployment-model.png)

## <a name="configure-the-vm"></a><span data-ttu-id="6bb69-138">De virtuele machine configureren</span><span class="sxs-lookup"><span data-stu-id="6bb69-138">Configure the VM</span></span>
<span data-ttu-id="6bb69-139">Er zijn vijf blades voor het configureren van een virtuele SQL Server-machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-139">There are five blades for configuring a SQL Server virtual machine.</span></span>

| <span data-ttu-id="6bb69-140">Stap</span><span class="sxs-lookup"><span data-stu-id="6bb69-140">Step</span></span> | <span data-ttu-id="6bb69-141">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="6bb69-141">Description</span></span> |
| --- | --- |
| <span data-ttu-id="6bb69-142">**Basisinstellingen**</span><span class="sxs-lookup"><span data-stu-id="6bb69-142">**Basics**</span></span> |[<span data-ttu-id="6bb69-143">Basisinstellingen configureren</span><span class="sxs-lookup"><span data-stu-id="6bb69-143">Configure basic settings</span></span>](#1-configure-basic-settings) |
| <span data-ttu-id="6bb69-144">**Grootte**</span><span class="sxs-lookup"><span data-stu-id="6bb69-144">**Size**</span></span> |[<span data-ttu-id="6bb69-145">De grootte van de virtuele machine kiezen</span><span class="sxs-lookup"><span data-stu-id="6bb69-145">Choose virtual machine size</span></span>](#2-choose-virtual-machine-size) |
| <span data-ttu-id="6bb69-146">**Instellingen**</span><span class="sxs-lookup"><span data-stu-id="6bb69-146">**Settings**</span></span> |[<span data-ttu-id="6bb69-147">Optionele kenmerken configureren</span><span class="sxs-lookup"><span data-stu-id="6bb69-147">Configure optional features</span></span>](#3-configure-optional-features) |
| <span data-ttu-id="6bb69-148">**SQL Server-instellingen**</span><span class="sxs-lookup"><span data-stu-id="6bb69-148">**SQL Server settings**</span></span> |[<span data-ttu-id="6bb69-149">SQL Server-instellingen configureren</span><span class="sxs-lookup"><span data-stu-id="6bb69-149">Configure SQL server settings</span></span>](#4-configure-sql-server-settings) |
| <span data-ttu-id="6bb69-150">**Samenvatting**</span><span class="sxs-lookup"><span data-stu-id="6bb69-150">**Summary**</span></span> |[<span data-ttu-id="6bb69-151">De samenvatting bekijken</span><span class="sxs-lookup"><span data-stu-id="6bb69-151">Review the summary</span></span>](#5-review-the-summary) |

## <a name="1-configure-basic-settings"></a><span data-ttu-id="6bb69-152">1. Basisinstellingen configureren</span><span class="sxs-lookup"><span data-stu-id="6bb69-152">1. Configure basic settings</span></span>
<span data-ttu-id="6bb69-153">Op de blade **Basisbeginselen** geeft u de volgende gegevens op:</span><span class="sxs-lookup"><span data-stu-id="6bb69-153">On the **Basics** blade, provide the following information:</span></span>

* <span data-ttu-id="6bb69-154">Voer een unieke **naam** in voor de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-154">Enter a unique virtual machine **Name**.</span></span>
* <span data-ttu-id="6bb69-155">Geef een **gebruikersnaam** op voor het lokale beheerdersaccount op de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-155">Specify a **User name** for the local administrator account on the VM.</span></span> <span data-ttu-id="6bb69-156">Dit account wordt ook toegevoegd aan de vaste serverrol **sysadmin** van de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6bb69-156">This account is also added to the SQL Server **sysadmin** fixed server role.</span></span>
* <span data-ttu-id="6bb69-157">Geef een sterk **wachtwoord** op.</span><span class="sxs-lookup"><span data-stu-id="6bb69-157">Provide a strong **Password**.</span></span>
* <span data-ttu-id="6bb69-158">Als u meerdere abonnementen hebt, controleert u of het juiste abonnement is gekoppeld aan de nieuwe virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-158">If you have multiple subscriptions, verify that the subscription is correct for the new VM.</span></span>
* <span data-ttu-id="6bb69-159">Typ in het vak **Resourcegroep** een naam voor een nieuwe resourcegroep.</span><span class="sxs-lookup"><span data-stu-id="6bb69-159">In the **Resource group** box, type a name for a new resource group.</span></span> <span data-ttu-id="6bb69-160">U kunt ook een bestaande resourcegroep gebruiken door op **Bestaande gebruiken** te klikken.</span><span class="sxs-lookup"><span data-stu-id="6bb69-160">Alternatively, to use an existing resource group click **Use existing**.</span></span> <span data-ttu-id="6bb69-161">Een resourcegroep is een verzameling verwante resources in Azure (virtuele machines, opslagaccounts, virtuele netwerken enz.).</span><span class="sxs-lookup"><span data-stu-id="6bb69-161">A resource group is a collection of related resources in Azure (virtual machines, storage accounts, virtual networks, etc.).</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="6bb69-162">Het is een goed idee om een nieuwe resourcegroep te maken als u het gebruik van SQL Server in Azure alleen wilt testen of hier meer over te weten wilt komen.</span><span class="sxs-lookup"><span data-stu-id="6bb69-162">Using a new resource group is helpful if you are just testing or learning about SQL Server deployments in Azure.</span></span> <span data-ttu-id="6bb69-163">Als u klaar bent met testen, verwijdert u gewoon de resourcegroep. De virtuele machine en alle resources die aan de resourcegroep zijn gekoppeld, worden dan automatisch verwijderd.</span><span class="sxs-lookup"><span data-stu-id="6bb69-163">After you finish with your test, delete the resource group to automatically delete the VM and all resources associated with that resource group.</span></span> <span data-ttu-id="6bb69-164">Zie voor meer informatie over resourcegroepen [Overzicht van Azure Resource Manager](../../../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6bb69-164">For more information about resource groups, see [Azure Resource Manager Overview](../../../azure-resource-manager/resource-group-overview.md).</span></span>
  > 
  > 
* <span data-ttu-id="6bb69-165">Selecteer een **locatie** voor uw implementatie.</span><span class="sxs-lookup"><span data-stu-id="6bb69-165">Select a **Location** for this deployment.</span></span>
* <span data-ttu-id="6bb69-166">Klik op **OK** om de instellingen op te slaan.</span><span class="sxs-lookup"><span data-stu-id="6bb69-166">Click **OK** to save the settings.</span></span>
  
    ![Blade SQL-basisbeginselen](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-basic.png)

## <a name="2-choose-virtual-machine-size"></a><span data-ttu-id="6bb69-168">2. De grootte van de virtuele machine kiezen</span><span class="sxs-lookup"><span data-stu-id="6bb69-168">2. Choose virtual machine size</span></span>
<span data-ttu-id="6bb69-169">Bij de stap **Grootte** kiest u de grootte van uw virtuele machine. Dit doet u op de blade **Een grootte kiezen**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-169">On the **Size** step, choose a virtual machine size in the **Choose a size** blade.</span></span> <span data-ttu-id="6bb69-170">De blade geeft in eerste instantie aanbevolen grootten voor de machine weer op basis van de geselecteerde installatiekopie.</span><span class="sxs-lookup"><span data-stu-id="6bb69-170">The blade initially displays recommended machine sizes based on the image you selected.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="6bb69-171">De geschatte maandelijkse kosten die worden weergegeven op de blade **Grootte kiezen**, zijn niet inclusief de kosten voor SQL Server-licentieverlening.</span><span class="sxs-lookup"><span data-stu-id="6bb69-171">The estimated monthly cost displayed on the **Choose a size** blade does not include SQL Server licensing costs.</span></span> <span data-ttu-id="6bb69-172">Deze geschatte maandelijkse kosten omvatten alleen de kosten voor de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-172">This estimated monthly cost is the cost of the VM alone.</span></span> <span data-ttu-id="6bb69-173">Voor de Express- en Developer-edities van SQL Server zijn dit de totale geschatte kosten.</span><span class="sxs-lookup"><span data-stu-id="6bb69-173">For the Express and Developer editions of SQL Server, this is the total estimated cost.</span></span> <span data-ttu-id="6bb69-174">Zie de [pagina met prijzen voor virtuele Windows-machines](https://azure.microsoft.com/pricing/details/virtual-machines/windows/) en selecteer de gewenste editie van SQL server.</span><span class="sxs-lookup"><span data-stu-id="6bb69-174">For other editions, see the [Windows Virtual Machines pricing page](https://azure.microsoft.com/pricing/details/virtual-machines/windows/) and select your target edition of SQL Server.</span></span> <span data-ttu-id="6bb69-175">Zie ook [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md) (Prijsrichtlijnen voor SQL Server Azure VM's).</span><span class="sxs-lookup"><span data-stu-id="6bb69-175">Also see the [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md).</span></span>

![Opties voor de grootte van uw virtuele SQL-machine](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-vm-choose-a-size.png)

<span data-ttu-id="6bb69-177">Voor productieworkloads raden we u aan voor de virtuele machine een grootte te selecteren die ondersteuning biedt voor [Premium Storage](../../../storage/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="6bb69-177">For production workloads, we recommend selecting a virtual machine size that supports [Premium Storage](../../../storage/storage-premium-storage.md).</span></span> <span data-ttu-id="6bb69-178">Als u dat prestatieniveau niet nodig hebt, klikt u op de knop **Alle weergeven** om alle opties voor machinegrootte weer te geven.</span><span class="sxs-lookup"><span data-stu-id="6bb69-178">If you do not require that level of performance, use the **View all** button, which shows all machine size options.</span></span> <span data-ttu-id="6bb69-179">Voor een ontwikkelings- of testomgeving kunt u bijvoorbeeld een kleinere machinegrootte gebruiken.</span><span class="sxs-lookup"><span data-stu-id="6bb69-179">For example, you might use a smaller machine size for a development or test environment.</span></span>

> [!NOTE]
> <span data-ttu-id="6bb69-180">Zie [Grootten van virtuele machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) voor meer informatie over de grootten van virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="6bb69-180">For more information about virtual machine sizes, [Sizes for virtual machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="6bb69-181">Zie voor overwegingen met betrekking tot de grootte van een virtuele SQL Server-machine [Aanbevolen procedures voor prestaties voor SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span><span class="sxs-lookup"><span data-stu-id="6bb69-181">For considerations about SQL Server VM sizes, see [Performance best practices for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span></span>

<span data-ttu-id="6bb69-182">Kies de grootte van uw machine en klik vervolgens op **Selecteren**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-182">Choose your machine size, and then click **Select**.</span></span>

## <a name="3-configure-optional-features"></a><span data-ttu-id="6bb69-183">3. Optionele kenmerken configureren</span><span class="sxs-lookup"><span data-stu-id="6bb69-183">3. Configure optional features</span></span>
<span data-ttu-id="6bb69-184">Op de blade **Instellingen** configureert u de Azure-opslag, -netwerken en -bewaking voor de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-184">On the **Settings** blade, configure Azure storage, networking, and monitoring for the virtual machine.</span></span>

* <span data-ttu-id="6bb69-185">Geef onder **Opslag** het **Schijftype** op (Standard of Premium (SSD)).</span><span class="sxs-lookup"><span data-stu-id="6bb69-185">Under **Storage**, specify a **Disk type** of either Standard or Premium (SSD).</span></span> <span data-ttu-id="6bb69-186">Voor productieworkloads wordt Premium Storage aanbevolen.</span><span class="sxs-lookup"><span data-stu-id="6bb69-186">Premium storage is recommended for production workloads.</span></span>

> [!NOTE]
> <span data-ttu-id="6bb69-187">Als u Premium (SSD) selecteert voor een machinegrootte die geen ondersteuning biedt voor Premium Storage, wordt de grootte van uw machine automatisch gewijzigd.</span><span class="sxs-lookup"><span data-stu-id="6bb69-187">If you select Premium (SSD) for a machine size that does not support Premium Storage, your machine size changes automatically.</span></span>  
> 
> 

* <span data-ttu-id="6bb69-188">Onder **Opslagaccount** kunt u de automatisch ingerichte opslagaccountnaam accepteren.</span><span class="sxs-lookup"><span data-stu-id="6bb69-188">Under **Storage account**, you can accept the automatically provisioned storage account name.</span></span> <span data-ttu-id="6bb69-189">U kunt ook op **Opslagaccount** klikken om een bestaand account te kiezen en het opslagtype voor het account te configureren.</span><span class="sxs-lookup"><span data-stu-id="6bb69-189">You can also click on **Storage account** to choose an existing account and configure the storage account type.</span></span> <span data-ttu-id="6bb69-190">Azure maakt standaard een nieuw opslagaccount met lokaal redundante opslag.</span><span class="sxs-lookup"><span data-stu-id="6bb69-190">By default, Azure creates a new storage account with locally redundant storage.</span></span> <span data-ttu-id="6bb69-191">Zie voor meer informatie over opslagopties [Azure Storage-replicatie](../../../storage/storage-redundancy.md).</span><span class="sxs-lookup"><span data-stu-id="6bb69-191">For more information about storage options, see [Azure Storage replication](../../../storage/storage-redundancy.md).</span></span>
* <span data-ttu-id="6bb69-192">Onder **Netwerk** kunt u de automatisch ingevulde waarden accepteren.</span><span class="sxs-lookup"><span data-stu-id="6bb69-192">Under **Network**, you can accept the automatically populated values.</span></span> <span data-ttu-id="6bb69-193">U kunt ook op elke functie klikken om het **Virtuele netwerk**, het **Subnet**, het **Openbaar IP-adres** en de **Netwerkbeveiligingsgroep** handmatig te configureren.</span><span class="sxs-lookup"><span data-stu-id="6bb69-193">You can also click on each feature to manually configure the **Virtual network**, **Subnet**, **Public IP address**, and **Network Security Group**.</span></span> <span data-ttu-id="6bb69-194">Houd voor deze zelfstudie de standaardwaarden aan.</span><span class="sxs-lookup"><span data-stu-id="6bb69-194">For the purposes of this tutorial, keep the default values.</span></span>
* <span data-ttu-id="6bb69-195">In Azure wordt **Bewaking** standaard ingeschakeld met hetzelfde opslagaccount als dat van de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-195">Azure enables **Monitoring** by default with the same storage account designated for the VM.</span></span> <span data-ttu-id="6bb69-196">U kunt deze instellingen hier wijzigen.</span><span class="sxs-lookup"><span data-stu-id="6bb69-196">You can change these settings here.</span></span>
* <span data-ttu-id="6bb69-197">Geef onder **Beschikbaarheidsset** een beschikbaarheidsset op.</span><span class="sxs-lookup"><span data-stu-id="6bb69-197">Under **Availability set**, specify an availability set.</span></span> <span data-ttu-id="6bb69-198">Voor deze zelfstudie kunt u **geen** selecteren.</span><span class="sxs-lookup"><span data-stu-id="6bb69-198">For the purposes of this tutorial, you can select **none**.</span></span> <span data-ttu-id="6bb69-199">Als u van plan bent de SQL AlwaysOn-beschikbaarheidsgroepen in te stellen, moet u de beschikbaarheid configureren om te voorkomen dat de virtuele machine opnieuw wordt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="6bb69-199">If you plan to set up SQL AlwaysOn Availability Groups, configure the availability to avoid recreating the virtual machine.</span></span>  <span data-ttu-id="6bb69-200">Zie voor meer informatie [De beschikbaarheid van virtuele machines beheren](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="6bb69-200">For more information, see [Manage the Availability of Virtual Machines](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="6bb69-201">Klik op **OK** wanneer u klaar bent met het configureren van deze instellingen.</span><span class="sxs-lookup"><span data-stu-id="6bb69-201">When you are done configuring these settings, click **OK**.</span></span>

## <a name="4-configure-sql-server-settings"></a><span data-ttu-id="6bb69-202">4. SQL Server-instellingen configureren</span><span class="sxs-lookup"><span data-stu-id="6bb69-202">4. Configure SQL server settings</span></span>
<span data-ttu-id="6bb69-203">Op de blade **SQL Server-instellingen** configureert u specifieke instellingen en optimalisaties voor SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6bb69-203">On the **SQL Server settings** blade, configure specific settings and optimizations for SQL Server.</span></span> <span data-ttu-id="6bb69-204">U kunt onder meer de volgende instellingen voor SQL Server configureren.</span><span class="sxs-lookup"><span data-stu-id="6bb69-204">The settings that you can configure for SQL Server include the following settings.</span></span>

| <span data-ttu-id="6bb69-205">Instelling</span><span class="sxs-lookup"><span data-stu-id="6bb69-205">Setting</span></span> |
| --- |
| [<span data-ttu-id="6bb69-206">Connectiviteit</span><span class="sxs-lookup"><span data-stu-id="6bb69-206">Connectivity</span></span>](#connectivity) |
| [<span data-ttu-id="6bb69-207">Verificatie</span><span class="sxs-lookup"><span data-stu-id="6bb69-207">Authentication</span></span>](#authentication) |
| [<span data-ttu-id="6bb69-208">Opslagconfiguratie</span><span class="sxs-lookup"><span data-stu-id="6bb69-208">Storage configuration</span></span>](#storage-configuration) |
| [<span data-ttu-id="6bb69-209">Automatisch patch toepassen</span><span class="sxs-lookup"><span data-stu-id="6bb69-209">Automated Patching</span></span>](#automated-patching) |
| [<span data-ttu-id="6bb69-210">Automatische back-up</span><span class="sxs-lookup"><span data-stu-id="6bb69-210">Automated Backup</span></span>](#automated-backup) |
| [<span data-ttu-id="6bb69-211">Integratie van Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="6bb69-211">Azure Key Vault Integration</span></span>](#azure-key-vault-integration) |
| [<span data-ttu-id="6bb69-212">R Services</span><span class="sxs-lookup"><span data-stu-id="6bb69-212">R Services</span></span>](#r-services) |

### <a name="connectivity"></a><span data-ttu-id="6bb69-213">Connectiviteit</span><span class="sxs-lookup"><span data-stu-id="6bb69-213">Connectivity</span></span>
<span data-ttu-id="6bb69-214">Geef onder **SQL-connectiviteit** het gewenste type toegang tot het SQL Server-exemplaar op deze virtuele machine op.</span><span class="sxs-lookup"><span data-stu-id="6bb69-214">Under **SQL connectivity**, specify the type of access you want to the SQL Server instance on this VM.</span></span> <span data-ttu-id="6bb69-215">Voor deze zelfstudie selecteert u **Openbaar (internet)** om machines of services op internet toe te staan verbinding te maken met SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6bb69-215">For the purposes of this tutorial, select **Public (internet)** to allow connections to SQL Server from machines or services on the internet.</span></span> <span data-ttu-id="6bb69-216">Als deze optie is geselecteerd, configureert Azure automatisch de firewall en de netwerkbeveiligingsgroep voor verkeer op poort 1433.</span><span class="sxs-lookup"><span data-stu-id="6bb69-216">With this option selected, Azure automatically configures the firewall and the network security group to allow traffic on port 1433.</span></span>  

![SQL-connectiviteitsopties](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-connectivity-alt.png)

<span data-ttu-id="6bb69-218">Voor verbinding met SQL Server via internet moet u ook SQL Server-verificatie inschakelen. Dit wordt beschreven in het volgende gedeelte.</span><span class="sxs-lookup"><span data-stu-id="6bb69-218">To connect to SQL Server via the internet, you also must enable SQL Server Authentication, which is described in the next section.</span></span>

> [!NOTE]
> <span data-ttu-id="6bb69-219">Het is mogelijk om meer beperkingen in te stellen voor netwerkcommunicatie met uw virtuele SQL Server-machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-219">It is possible to add more restrictions for the network communications to your SQL Server VM.</span></span> <span data-ttu-id="6bb69-220">U kunt meer beperkingen toevoegen door de netwerkbeveiligingsgroep te bewerken nadat de virtuele machine is gemaakt.</span><span class="sxs-lookup"><span data-stu-id="6bb69-220">You can add more restrictions by editing the Network Security Group after the VM is created.</span></span> <span data-ttu-id="6bb69-221">Zie voor meer informatie [Wat is een netwerkbeveiligingsgroep (NSG)?](../../../virtual-network/virtual-networks-nsg.md)</span><span class="sxs-lookup"><span data-stu-id="6bb69-221">For more information, see [What is a Network Security Group (NSG)?](../../../virtual-network/virtual-networks-nsg.md)</span></span>
> 
> 

<span data-ttu-id="6bb69-222">Als u de mogelijkheid om via internet verbinding te maken met de database-engine liever niet inschakelt, kiest u een van de volgende opties:</span><span class="sxs-lookup"><span data-stu-id="6bb69-222">If you would prefer to not enable connections to the Database Engine via the internet, choose one of the following options:</span></span>

* <span data-ttu-id="6bb69-223">**Lokaal (alleen binnen VM)** om alleen verbindingen met SQL Server vanuit de virtuele machine toe te staan.</span><span class="sxs-lookup"><span data-stu-id="6bb69-223">**Local (inside VM only)** to allow connections to SQL Server only from within the VM.</span></span>
* <span data-ttu-id="6bb69-224">**Privé (binnen virtueel netwerk)** om verbindingen met SQL Server toe te staan vanaf machines of services in hetzelfde virtuele netwerk.</span><span class="sxs-lookup"><span data-stu-id="6bb69-224">**Private (within Virtual Network)** to allow connections to SQL Server from machines or services in the same virtual network.</span></span>

> [!NOTE]
> <span data-ttu-id="6bb69-225">Met de installatiekopie van virtuele machines voor edities van SQL Server Express wordt het TCP/IP-protocol niet automatisch ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="6bb69-225">The virtual machine image for SQL Server Express edition does not automatically enable the TCP/IP protocol.</span></span> <span data-ttu-id="6bb69-226">Dit geldt ook voor de openbare en persoonlijke connectiviteitsopties.</span><span class="sxs-lookup"><span data-stu-id="6bb69-226">This is true even for the Public and  Private connectivity options.</span></span> <span data-ttu-id="6bb69-227">Voor de Express-editie moet u SQL Server Configuration Manager gebruiken om [het TCP/IP-protocol](#configure-sql-server-to-listen-on-the-tcp-protocol) handmatig in te schakelen nadat de VM is gemaakt.</span><span class="sxs-lookup"><span data-stu-id="6bb69-227">For Express edition, you must use SQL Server Configuration Manager to [manually enable the TCP/IP protocol](#configure-sql-server-to-listen-on-the-tcp-protocol) after creating the VM.</span></span>
> 
> 

<span data-ttu-id="6bb69-228">In het algemeen kunt u de beveiliging verbeteren door te kiezen voor de meest beperkende connectiviteit die voor uw scenario mogelijk is.</span><span class="sxs-lookup"><span data-stu-id="6bb69-228">In general, improve security by choosing the most restrictive connectivity that your scenario allows.</span></span> <span data-ttu-id="6bb69-229">Alle opties kunnen echter worden beveiligd via regels van de netwerkbeveiligingsgroep en SQL/Windows-verificatie.</span><span class="sxs-lookup"><span data-stu-id="6bb69-229">But all the options are securable through Network Security Group rules and SQL/Windows Authentication.</span></span>

<span data-ttu-id="6bb69-230">**Poort** is standaard ingesteld op 1433.</span><span class="sxs-lookup"><span data-stu-id="6bb69-230">**Port** defaults to 1433.</span></span> <span data-ttu-id="6bb69-231">U kunt een ander poortnummer opgeven.</span><span class="sxs-lookup"><span data-stu-id="6bb69-231">You can specify a different port number.</span></span>
<span data-ttu-id="6bb69-232">Zie voor meer informatie [Verbinden met een SQL Server-VM (Resource Manager) | Microsoft Azure](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="6bb69-232">For more information, see [Connect to a SQL Server Virtual Machine (Resource Manager) | Microsoft Azure](virtual-machines-windows-sql-connect.md).</span></span>

### <a name="authentication"></a><span data-ttu-id="6bb69-233">Verificatie</span><span class="sxs-lookup"><span data-stu-id="6bb69-233">Authentication</span></span>
<span data-ttu-id="6bb69-234">Als u SQL Server-verificatie vereist, klikt u onder **SQL-verificatie** op **Inschakelen**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-234">If you require SQL Server Authentication, click **Enable** under **SQL authentication**.</span></span>

![SQL Server-verificatie](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-authentication.png)

> [!NOTE]
> <span data-ttu-id="6bb69-236">Als u van plan bent via internet toegang te verkrijgen tot SQL Server (d.w.z. via een openbare verbinding), moet u hier SQL-verificatie inschakelen.</span><span class="sxs-lookup"><span data-stu-id="6bb69-236">If you plan to access SQL Server over the internet (that is, the Public connectivity option), you must enable SQL authentication here.</span></span> <span data-ttu-id="6bb69-237">Voor openbare toegang tot de SQL Server is het gebruik van SQL-verificatie vereist.</span><span class="sxs-lookup"><span data-stu-id="6bb69-237">Public access to the SQL Server requires the use of SQL Authentication.</span></span>
> 
> 

<span data-ttu-id="6bb69-238">Als u SQL Server-verificatie inschakelt, geeft u een **Aanmeldingsnaam** en een **Wachtwoord** op.</span><span class="sxs-lookup"><span data-stu-id="6bb69-238">If you enable SQL Server Authentication, specify a **Login name** and **Password**.</span></span> <span data-ttu-id="6bb69-239">Deze gebruikersnaam is geconfigureerd als aanmeldingsnaam voor SQL Server-verificatie en lid van de vaste serverrol **sysadmin**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-239">This user name is configured as a SQL Server Authentication login and member of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="6bb69-240">Zie [Een verificatiemodus kiezen](http://msdn.microsoft.com/library/ms144284.aspx) voor meer informatie over de verificatiemodi.</span><span class="sxs-lookup"><span data-stu-id="6bb69-240">For more information about Authentication Modes, see [Choose an Authentication Mode](http://msdn.microsoft.com/library/ms144284.aspx).</span></span>

<span data-ttu-id="6bb69-241">Als u SQL Server-verificatie niet inschakelt, kunt u het lokale beheerdersaccount op de virtuele machine gebruiken om verbinding te maken met het SQL Server-exemplaar.</span><span class="sxs-lookup"><span data-stu-id="6bb69-241">If you do not enable SQL Server Authentication, then you can use the local Administrator account on the VM to connect to the SQL Server instance.</span></span>

### <a name="storage-configuration"></a><span data-ttu-id="6bb69-242">Opslagconfiguratie</span><span class="sxs-lookup"><span data-stu-id="6bb69-242">Storage configuration</span></span>
<span data-ttu-id="6bb69-243">Klik op **Opslagconfiguratie** om de opslagvereisten op te geven.</span><span class="sxs-lookup"><span data-stu-id="6bb69-243">Click **Storage configuration** to specify the storage requirements.</span></span>

![SQL-opslagconfiguratie](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-storage.png)

> [!NOTE]
> <span data-ttu-id="6bb69-245">Als u Standaardopslag selecteert, is deze optie niet beschikbaar.</span><span class="sxs-lookup"><span data-stu-id="6bb69-245">If you select Standard storage, this option is not available.</span></span> <span data-ttu-id="6bb69-246">Automatische opslagoptimalisatie is alleen beschikbaar voor Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="6bb69-246">Automatic storage optimization is available only for Premium Storage.</span></span>
> 
> 

<span data-ttu-id="6bb69-247">U kunt vereisten opgeven als i/o-bewerkingen per seconde (IOP's), als doorvoer in MB/s en als totale grootte van de opslagruimte.</span><span class="sxs-lookup"><span data-stu-id="6bb69-247">You can specify requirements as input/output operations per second (IOPs), throughput in MB/s, and total storage size.</span></span> <span data-ttu-id="6bb69-248">Configureer deze waarden met behulp van de schuifregelaar.</span><span class="sxs-lookup"><span data-stu-id="6bb69-248">Configure these values by using the sliding scales.</span></span> <span data-ttu-id="6bb69-249">De portal berekent automatisch het aantal schijven op basis van deze vereisten.</span><span class="sxs-lookup"><span data-stu-id="6bb69-249">The portal automatically calculates the number of disks based on these requirements.</span></span>

<span data-ttu-id="6bb69-250">Standaard wordt de opslag in Azure geoptimaliseerd voor 5000 IOP's, 200 MB en 1 TB opslagruimte.</span><span class="sxs-lookup"><span data-stu-id="6bb69-250">By default, Azure optimizes the storage for 5000 IOPs, 200 MBs, and 1 TB of storage space.</span></span> <span data-ttu-id="6bb69-251">U kunt deze opslaginstellingen wijzigen op basis van de workload.</span><span class="sxs-lookup"><span data-stu-id="6bb69-251">You can change these storage settings based on workload.</span></span> <span data-ttu-id="6bb69-252">Selecteer onder **Opslag geoptimaliseerd voor** een van de volgende opties:</span><span class="sxs-lookup"><span data-stu-id="6bb69-252">Under **Storage optimized for**, select one of the following options:</span></span>

* <span data-ttu-id="6bb69-253">**Algemeen** is de standaardinstelling en ondersteunt de meeste workloads.</span><span class="sxs-lookup"><span data-stu-id="6bb69-253">**General** is the default setting and supports most workloads.</span></span>
* <span data-ttu-id="6bb69-254">Met **Transactionele** verwerking wordt de opslag voor OLTP-workloads van traditionele databases geoptimaliseerd.</span><span class="sxs-lookup"><span data-stu-id="6bb69-254">**Transactional** processing optimizes the storage for traditional database OLTP workloads.</span></span>
* <span data-ttu-id="6bb69-255">**Gegevensopslag** optimaliseert de opslag voor analyse- en rapportageworkloads.</span><span class="sxs-lookup"><span data-stu-id="6bb69-255">**Data warehousing** optimizes the storage for analytic and reporting workloads.</span></span>

> [!NOTE]
> <span data-ttu-id="6bb69-256">De bovenste limieten op de schuifregelaars variëren afhankelijk van de grootte van de geselecteerde virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-256">The upper limits on the sliders vary depending on your selected virtual machine size.</span></span>
> 
> 

### <a name="automated-patching"></a><span data-ttu-id="6bb69-257">Automatisch patchen</span><span class="sxs-lookup"><span data-stu-id="6bb69-257">Automated patching</span></span>
<span data-ttu-id="6bb69-258">**Automatisch patchen** is standaard ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="6bb69-258">**Automated patching** is enabled by default.</span></span> <span data-ttu-id="6bb69-259">Met automatisch patchen kan Azure automatisch een patch uitvoeren voor SQL Server en het besturingssysteem.</span><span class="sxs-lookup"><span data-stu-id="6bb69-259">Automated patching allows Azure to automatically patch SQL Server and the operating system.</span></span> <span data-ttu-id="6bb69-260">Geef een dag van de week, een tijd en een periode op voor een onderhoudssessie.</span><span class="sxs-lookup"><span data-stu-id="6bb69-260">Specify a day of the week, time, and duration for a maintenance window.</span></span> <span data-ttu-id="6bb69-261">Azure voert de patch uit tijdens deze onderhoudssessie.</span><span class="sxs-lookup"><span data-stu-id="6bb69-261">Azure performs patching in this maintenance window.</span></span> <span data-ttu-id="6bb69-262">Het onderhoudsschema maakt voor de tijd gebruik van de landinstellingen van de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-262">The maintenance window schedule uses the VM locale for time.</span></span> <span data-ttu-id="6bb69-263">Als u niet wilt dat Azure een automatische patch uitvoert voor SQL Server en het besturingssysteem, klikt u op **Uitschakelen**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-263">If you do not want Azure to automatically patch SQL Server and the operating system, click **Disable**.</span></span>  

![Automatisch patchen van SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-patching.png)

<span data-ttu-id="6bb69-265">Zie voor meer informatie [Automatisch patchen voor SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-patching.md).</span><span class="sxs-lookup"><span data-stu-id="6bb69-265">For more information, see [Automated Patching for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-patching.md).</span></span>

### <a name="automated-backup"></a><span data-ttu-id="6bb69-266">Automatische back-up</span><span class="sxs-lookup"><span data-stu-id="6bb69-266">Automated backup</span></span>
<span data-ttu-id="6bb69-267">Schakel automatische databaseback-ups in voor alle databases onder **Automatische back-up**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-267">Enable automatic database backups for all databases under **Automated backup**.</span></span> <span data-ttu-id="6bb69-268">Automatische back-up is standaard uitgeschakeld.</span><span class="sxs-lookup"><span data-stu-id="6bb69-268">Automated backup is disabled by default.</span></span>

<span data-ttu-id="6bb69-269">Als u automatische back-up van SQL inschakelt, kunt u de volgende instellingen configureren:</span><span class="sxs-lookup"><span data-stu-id="6bb69-269">When you enable SQL automated backup, you can configure the following settings:</span></span>

* <span data-ttu-id="6bb69-270">De retentieperiode (dagen) voor back-ups</span><span class="sxs-lookup"><span data-stu-id="6bb69-270">Retention period (days) for backups</span></span>
* <span data-ttu-id="6bb69-271">Het opslagaccount dat voor back-ups moet worden gebruikt</span><span class="sxs-lookup"><span data-stu-id="6bb69-271">Storage account to use for backups</span></span>
* <span data-ttu-id="6bb69-272">Versleutelingsoptie en wachtwoord voor back-ups</span><span class="sxs-lookup"><span data-stu-id="6bb69-272">Encryption option and password for backups</span></span>
* <span data-ttu-id="6bb69-273">Back-up maken van systeemdatabases</span><span class="sxs-lookup"><span data-stu-id="6bb69-273">Backup system databases</span></span>
* <span data-ttu-id="6bb69-274">Back-upschema configureren</span><span class="sxs-lookup"><span data-stu-id="6bb69-274">Configure backup schedule</span></span>

<span data-ttu-id="6bb69-275">Voor het versleutelen van de back-up klikt u op **Inschakelen**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-275">To encrypt the backup, click **Enable**.</span></span> <span data-ttu-id="6bb69-276">Geef het **Wachtwoord** op.</span><span class="sxs-lookup"><span data-stu-id="6bb69-276">Then specify the **Password**.</span></span> <span data-ttu-id="6bb69-277">Azure maakt een certificaat voor het versleutelen van de back-ups en gebruikt het opgegeven wachtwoord om dit certificaat te beschermen.</span><span class="sxs-lookup"><span data-stu-id="6bb69-277">Azure creates a certificate to encrypt the backups and uses the specified password to protect that certificate.</span></span>

![Automatische back-up van SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-autobackup2.png)

 <span data-ttu-id="6bb69-279">Zie voor meer informatie [Automatische back-up voor SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span><span class="sxs-lookup"><span data-stu-id="6bb69-279">For more information, see [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

### <a name="azure-key-vault-integration"></a><span data-ttu-id="6bb69-280">Integratie van Azure Sleutelkluis</span><span class="sxs-lookup"><span data-stu-id="6bb69-280">Azure Key Vault integration</span></span>
<span data-ttu-id="6bb69-281">Voor het opslaan van beveiligingsgeheimen in Azure voor versleuteling klikt u op **Integratie van Azure Sleutelkluis**. Klik vervolgens op **Inschakelen**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-281">To store security secrets in Azure for encryption, click **Azure key vault integration** and click **Enable**.</span></span>

![Integratie van Azure Sleutelkluis in SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-akv.png)

<span data-ttu-id="6bb69-283">De volgende tabel bevat de vereiste parameters voor het configureren van de Azure Sleutelkluis-integratie.</span><span class="sxs-lookup"><span data-stu-id="6bb69-283">The following table lists the parameters required to configure Azure Key Vault Integration.</span></span>

| <span data-ttu-id="6bb69-284">PARAMETER</span><span class="sxs-lookup"><span data-stu-id="6bb69-284">PARAMETER</span></span> | <span data-ttu-id="6bb69-285">BESCHRIJVING</span><span class="sxs-lookup"><span data-stu-id="6bb69-285">DESCRIPTION</span></span> | <span data-ttu-id="6bb69-286">VOORBEELD</span><span class="sxs-lookup"><span data-stu-id="6bb69-286">EXAMPLE</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6bb69-287">**Key Vault-URL**</span><span class="sxs-lookup"><span data-stu-id="6bb69-287">**Key Vault URL**</span></span> |<span data-ttu-id="6bb69-288">De locatie van de sleutelkluis.</span><span class="sxs-lookup"><span data-stu-id="6bb69-288">The location of the key vault.</span></span> |<span data-ttu-id="6bb69-289">https://contosokeyvault.vault.azure.net/</span><span class="sxs-lookup"><span data-stu-id="6bb69-289">https://contosokeyvault.vault.azure.net/</span></span> |
| <span data-ttu-id="6bb69-290">**Principal-naam**</span><span class="sxs-lookup"><span data-stu-id="6bb69-290">**Principal name**</span></span> |<span data-ttu-id="6bb69-291">Principal-naam voor de Azure Active Directory-service.</span><span class="sxs-lookup"><span data-stu-id="6bb69-291">Azure Active Directory service principal name.</span></span> <span data-ttu-id="6bb69-292">Deze naam wordt ook wel aangeduid als de Client-ID.</span><span class="sxs-lookup"><span data-stu-id="6bb69-292">This name is also referred to as the Client ID.</span></span> |<span data-ttu-id="6bb69-293">fde2b411-33d5-4e11-af04eb07b669ccf2</span><span class="sxs-lookup"><span data-stu-id="6bb69-293">fde2b411-33d5-4e11-af04eb07b669ccf2</span></span> |
| <span data-ttu-id="6bb69-294">**Principal-geheim**</span><span class="sxs-lookup"><span data-stu-id="6bb69-294">**Principal secret**</span></span> |<span data-ttu-id="6bb69-295">Principal-geheim voor de Azure Active Directory-service.</span><span class="sxs-lookup"><span data-stu-id="6bb69-295">Azure Active Directory service principal secret.</span></span> <span data-ttu-id="6bb69-296">Dit geheim wordt ook wel aangeduid als het Clientgeheim.</span><span class="sxs-lookup"><span data-stu-id="6bb69-296">This secret is also referred to as the Client Secret.</span></span> |<span data-ttu-id="6bb69-297">9VTJSQwzlFepD8XODnzy8n2V01Jd8dAjwm/azF1XDKM=</span><span class="sxs-lookup"><span data-stu-id="6bb69-297">9VTJSQwzlFepD8XODnzy8n2V01Jd8dAjwm/azF1XDKM=</span></span> |
| <span data-ttu-id="6bb69-298">**Referentienaam**</span><span class="sxs-lookup"><span data-stu-id="6bb69-298">**Credential name**</span></span> |<span data-ttu-id="6bb69-299">**Referentienaam**: de Azure Sleutelkluis-integratie maakt een referentie in SQL Server, zodat de virtuele machine toegang heeft tot de sleutelkluis.</span><span class="sxs-lookup"><span data-stu-id="6bb69-299">**Credential name**: AKV Integration creates a credential within SQL Server, allowing the VM to have access to the key vault.</span></span> <span data-ttu-id="6bb69-300">Kies een naam voor deze referentie.</span><span class="sxs-lookup"><span data-stu-id="6bb69-300">Choose a name for this credential.</span></span> |<span data-ttu-id="6bb69-301">mycred1</span><span class="sxs-lookup"><span data-stu-id="6bb69-301">mycred1</span></span> |

<span data-ttu-id="6bb69-302">Zie voor meer informatie [Integratie van Azure Sleutelkluis configureren voor SQL Server op Azure-VM's](virtual-machines-windows-ps-sql-keyvault.md).</span><span class="sxs-lookup"><span data-stu-id="6bb69-302">For more information, see [Configure Azure Key Vault Integration for SQL Server on Azure VMs](virtual-machines-windows-ps-sql-keyvault.md).</span></span>

<span data-ttu-id="6bb69-303">Wanneer u klaar bent met het configureren van de SQL Server-instellingen, klikt u op **OK**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-303">When you are finished configuring SQL Server settings, click **OK**.</span></span>

### <a name="r-services"></a><span data-ttu-id="6bb69-304">R services</span><span class="sxs-lookup"><span data-stu-id="6bb69-304">R services</span></span>
<span data-ttu-id="6bb69-305">U kunt [SQL Server R Services](https://msdn.microsoft.com/library/mt604845.aspx) inschakelen.</span><span class="sxs-lookup"><span data-stu-id="6bb69-305">You can enable [SQL Server R Services](https://msdn.microsoft.com/library/mt604845.aspx).</span></span> <span data-ttu-id="6bb69-306">Met SQL Server R Services kunt u geavanceerde analyses gebruiken met SQL Server 2016.</span><span class="sxs-lookup"><span data-stu-id="6bb69-306">SQL Server R Services enables you to use advanced analytics with SQL Server 2016.</span></span> <span data-ttu-id="6bb69-307">Klik op **Inschakelen** op de blade **SQL Server-instellingen**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-307">Click **Enable** on the **SQL Server Settings** blade.</span></span>

![SQL Server R Services inschakelen](./media/virtual-machines-windows-portal-sql-server-provision/azure-vm-sql-server-r-services.png)


## <a name="5-review-the-summary"></a><span data-ttu-id="6bb69-309">5. De samenvatting bekijken</span><span class="sxs-lookup"><span data-stu-id="6bb69-309">5. Review the summary</span></span>
<span data-ttu-id="6bb69-310">Op de blade **Samenvatting** controleert u de samenvatting en klikt u op **OK** om de SQL Server, de resourcegroep en de resources te maken die zijn opgegeven voor deze virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-310">On the **Summary** blade, review the summary and click **OK** to create SQL Server, resource group, and resources specified for this VM.</span></span>

<span data-ttu-id="6bb69-311">U kunt de implementatie bewaken vanuit Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="6bb69-311">You can monitor the deployment from the azure portal.</span></span> <span data-ttu-id="6bb69-312">Met de knop **Meldingen** boven aan het scherm kunt u de algemene status van de implementatie weergeven.</span><span class="sxs-lookup"><span data-stu-id="6bb69-312">The **Notifications** button at the top of the screen shows basic status of the deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="6bb69-313">Om u een idee te geven van de implementatietijden, heb ik een virtuele SQL-machine voor de regio VS - oost geïmplementeerd met standaardinstellingen.</span><span class="sxs-lookup"><span data-stu-id="6bb69-313">To provide you with an idea on deployment times, I deployed a SQL VM to the East US region with default settings.</span></span> <span data-ttu-id="6bb69-314">Deze testimplementatie nam in totaal 26 minuten in beslag.</span><span class="sxs-lookup"><span data-stu-id="6bb69-314">This test deployment took a total of 26 minutes to complete.</span></span> <span data-ttu-id="6bb69-315">Afhankelijk van uw regio en de geselecteerde instellingen bent u mogelijk meer of minder tijd kwijt aan de implementatie.</span><span class="sxs-lookup"><span data-stu-id="6bb69-315">But you might experience a faster or slower deployment time based on your region and selected settings.</span></span>
> 
> 

## <a name="open-the-vm-with-remote-desktop"></a><span data-ttu-id="6bb69-316">De virtuele machine openen via Extern bureaublad</span><span class="sxs-lookup"><span data-stu-id="6bb69-316">Open the VM with Remote Desktop</span></span>
<span data-ttu-id="6bb69-317">Doorloop de volgende stappen om via Extern bureaublad verbinding te maken met de virtuele machine:</span><span class="sxs-lookup"><span data-stu-id="6bb69-317">Use the following steps to connect to the virtual machine with Remote Desktop:</span></span>

1. <span data-ttu-id="6bb69-318">Nadat u de virtuele Azure-machine hebt gemaakt, wordt het pictogram van de virtuele machine weergegeven op uw Azure-dashboard.</span><span class="sxs-lookup"><span data-stu-id="6bb69-318">After the Azure VM is built, the icon for the VM appears on your Azure dashboard.</span></span> <span data-ttu-id="6bb69-319">U kunt de virtuele machine ook vinden door te bladeren door uw bestaande virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="6bb69-319">You can also find it by browsing your existing virtual machines.</span></span> <span data-ttu-id="6bb69-320">Klik op de nieuwe virtuele SQL-machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-320">Click on your new SQL virtual machine.</span></span> <span data-ttu-id="6bb69-321">De blade **Virtuele machine** wordt weergegeven. Hierop ziet u de details van uw virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-321">A **Virtual machine** blade displays your virtual machine details.</span></span>
2. <span data-ttu-id="6bb69-322">Klik boven aan de blade **Virtuele machine** op **Verbinden**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-322">At the top of the **Virtual machine** blade, click **Connect**.</span></span>
3. <span data-ttu-id="6bb69-323">De browser downloadt een RDP-bestand voor de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-323">The browser downloads an RDP file for the VM.</span></span> <span data-ttu-id="6bb69-324">Open het RDP-bestand.</span><span class="sxs-lookup"><span data-stu-id="6bb69-324">Open the RDP file.</span></span>
    <span data-ttu-id="6bb69-325">![Verbinding met de virtuele SQL-machine via Extern bureaublad](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-vm-remote-desktop.png)</span><span class="sxs-lookup"><span data-stu-id="6bb69-325">![Remote Desktop to SQL VM](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-vm-remote-desktop.png)</span></span>
4. <span data-ttu-id="6bb69-326">Verbinding met extern bureaublad meldt dat de uitgever van deze externe verbinding niet kan worden geïdentificeerd.</span><span class="sxs-lookup"><span data-stu-id="6bb69-326">The Remote Desktop Connection notifies you that the publisher of this remote connection cannot be identified.</span></span> <span data-ttu-id="6bb69-327">Klik op **Verbinden** om door te gaan.</span><span class="sxs-lookup"><span data-stu-id="6bb69-327">Click **Connect** to continue.</span></span>
5. <span data-ttu-id="6bb69-328">Klik in het dialoogvenster **Windows-beveiliging** op **Een ander account gebruiken**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-328">In the **Windows Security** dialog, click **Use another account**.</span></span>
6. <span data-ttu-id="6bb69-329">Voor **Gebruikersnaam** typt u **\<gebruikersnaam>**, waarbij <user name> de gebruikersnaam is die u hebt opgegeven bij het instellen van de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-329">For **User name** type **\<user name>**, where <user name> is the user name that you specified when you configured the VM.</span></span> <span data-ttu-id="6bb69-330">U moet vóór de naam een backslash toevoegen.</span><span class="sxs-lookup"><span data-stu-id="6bb69-330">You have to add an initial backslash before the name.</span></span>
7. <span data-ttu-id="6bb69-331">Typ het **Wachtwoord** dat u eerder hebt geconfigureerd voor deze virtuele machine. Klik vervolgens op **OK** om verbinding te maken.</span><span class="sxs-lookup"><span data-stu-id="6bb69-331">Type the **Password** that you previously configured for this VM, and then click **OK** to connect.</span></span>
8. <span data-ttu-id="6bb69-332">Als u in een ander dialoogvenster **Verbinding met extern bureaublad** wordt gevraagd of u verbinding wilt maken, klikt u op **Ja**.</span><span class="sxs-lookup"><span data-stu-id="6bb69-332">If another **Remote Desktop Connection** dialog asks you whether to connect, click **Yes**.</span></span>

<span data-ttu-id="6bb69-333">Nadat u verbinding hebt gemaakt met de virtuele SQL Server-machine, kunt u SQL Server Management Studio starten en verbinding maken met Windows-verificatie met behulp van de lokale beheerdersreferenties.</span><span class="sxs-lookup"><span data-stu-id="6bb69-333">After you connect to the SQL Server virtual machine, you can launch SQL Server Management Studio and connect with Windows Authentication using your local administrator credentials.</span></span> <span data-ttu-id="6bb69-334">Als u SQL Server-verificatie inschakelt, kunt u ook verbinding maken met SQL-verificatie. Dit kan met behulp van de SQL-aanmeldingsnaam en het wachtwoord die u hebt geconfigureerd tijdens het inrichten.</span><span class="sxs-lookup"><span data-stu-id="6bb69-334">If you enabled SQL Server Authentication, you can also connect with SQL Authentication using the SQL login and password you configured during provisioning.</span></span>

<span data-ttu-id="6bb69-335">Met toegang tot de machine kunt u rechtstreeks de instellingen voor de machine en de SQL Server wijzigen op basis van uw vereisten.</span><span class="sxs-lookup"><span data-stu-id="6bb69-335">Access to the machine enables you to directly change machine and SQL Server settings based on your requirements.</span></span> <span data-ttu-id="6bb69-336">U kunt bijvoorbeeld de firewallinstellingen configureren of de SQL Server-configuratie-instellingen wijzigen.</span><span class="sxs-lookup"><span data-stu-id="6bb69-336">For example, you could configure the firewall settings or change SQL Server configuration settings.</span></span>

## <a name="connect-to-sql-server-remotely"></a><span data-ttu-id="6bb69-337">Op afstand verbinding maken met SQL Server</span><span class="sxs-lookup"><span data-stu-id="6bb69-337">Connect to SQL Server remotely</span></span>
<span data-ttu-id="6bb69-338">In deze zelfstudie hebben we **Openbare** toegang voor de virtuele machine en **SQL Server-verificatie** geselecteerd.</span><span class="sxs-lookup"><span data-stu-id="6bb69-338">In this tutorial, we selected **Public** access for the virtual machine and **SQL Server Authentication**.</span></span> <span data-ttu-id="6bb69-339">Door deze instellingen is de virtuele machine automatisch geconfigureerd voor het toestaan van SQL Server-verbindingen vanaf elke client via internet (ervan uitgaande dat deze beschikken over de juiste SQL-aanmeldgegevens).</span><span class="sxs-lookup"><span data-stu-id="6bb69-339">These settings automatically configured the virtual machine to allow SQL Server connections from any client over the internet (assuming they have the correct SQL login).</span></span>

> [!NOTE]
> <span data-ttu-id="6bb69-340">Als u tijdens het inrichten niet Openbaar hebt geselecteerd, zijn er extra stappen vereist voor toegang via internet tot uw SQL Server-exemplaar.</span><span class="sxs-lookup"><span data-stu-id="6bb69-340">If you did not select Public during provisioning, then extra steps are required to access your SQL Server instance over the internet.</span></span> <span data-ttu-id="6bb69-341">Zie voor meer informatie [Verbinden met een SQL Server-VM](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="6bb69-341">For more information, see  [Connect to a SQL Server Virtual Machine](virtual-machines-windows-sql-connect.md).</span></span>
> 
> 

<span data-ttu-id="6bb69-342">In de volgende secties ziet u hoe u vanaf een andere computer via internet verbinding maakt met uw SQL Server-exemplaar op de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="6bb69-342">The following sections show how to connect to your SQL Server instance on your VM from a different computer over the internet.</span></span>

> [!INCLUDE [Connect to SQL Server in a VM Resource Manager](../../../../includes/virtual-machines-sql-server-connection-steps-resource-manager.md)]
> 
> 

## <a name="next-steps"></a><span data-ttu-id="6bb69-343">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="6bb69-343">Next Steps</span></span>
<span data-ttu-id="6bb69-344">Zie voor meer informatie over het gebruik van SQL Server in Azure [SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) en de [Veelgestelde vragen](virtual-machines-windows-sql-server-iaas-faq.md).</span><span class="sxs-lookup"><span data-stu-id="6bb69-344">For other information about using SQL Server in Azure, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) and the [Frequently Asked Questions](virtual-machines-windows-sql-server-iaas-faq.md).</span></span>

<span data-ttu-id="6bb69-345">Bekijk voor een video-overzicht van SQL Server in Azure Virtual Machines [Azure VM is het beste platform voor SQL Server 2016](https://channel9.msdn.com/Events/DataDriven/SQLServer2016/Azure-VM-is-the-best-platform-for-SQL-Server-2016).</span><span class="sxs-lookup"><span data-stu-id="6bb69-345">For a video overview of SQL Server on Azure Virtual Machines, watch [Azure VM is the best platform for SQL Server 2016](https://channel9.msdn.com/Events/DataDriven/SQLServer2016/Azure-VM-is-the-best-platform-for-SQL-Server-2016).</span></span>

<span data-ttu-id="6bb69-346">[Bekijk het leertraject](https://azure.microsoft.com/documentation/learning-paths/sql-azure-vm/) voor virtuele SQL Server-machines in Azure.</span><span class="sxs-lookup"><span data-stu-id="6bb69-346">[Explore the Learning Path](https://azure.microsoft.com/documentation/learning-paths/sql-azure-vm/) for SQL Server on Azure virtual machines.</span></span>

