---
title: End-to-end SSL inschakelen in Azure Application Gateway | Microsoft Docs
description: Op deze pagina wordt de ondersteuning voor end-to-end SSL in Application Gateway beschreven.
documentationcenter: na
services: application-gateway
author: amsriva
manager: rossort
editor: amsriva
ms.assetid: 3976399b-25ad-45eb-8eb3-fdb736a598c5
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.custom: H1Hack27Feb2017
ms.workload: infrastructure-services
ms.date: 07/19/2017
ms.author: amsriva
ms.openlocfilehash: 689ee54dc1db2ea371b08270718278fd98c65bb5
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/18/2017
---
# <a name="overview-of-end-to-end-ssl-with-application-gateway"></a><span data-ttu-id="da112-103">Overzicht van end-to-end SSL met Application Gateway</span><span class="sxs-lookup"><span data-stu-id="da112-103">Overview of end to end SSL with Application Gateway</span></span>

<span data-ttu-id="da112-104">Application Gateway ondersteunt SSL-beëindiging op de gateway, waarna het verkeer normaal gesproken onversleuteld naar de back-endservers wordt doorgeleid.</span><span class="sxs-lookup"><span data-stu-id="da112-104">Application gateway supports SSL termination at the gateway, after which traffic typically flows unencrypted to the backend servers.</span></span> <span data-ttu-id="da112-105">Met deze functie voorkomt u prijzige overhead voor het versleutelen en ontsleutelen voor uw webservers.</span><span class="sxs-lookup"><span data-stu-id="da112-105">This feature allows web servers to be unburdened from costly encryption and decryption overhead.</span></span> <span data-ttu-id="da112-106">Voor sommige gebruikers is onversleutelde communicatie met de back-endserververs echter onacceptabel.</span><span class="sxs-lookup"><span data-stu-id="da112-106">However for some customers unencrypted communication to the backend servers is not an acceptable option.</span></span> <span data-ttu-id="da112-107">Deze onversleutelde communicatie kan het gevolg zijn van de beveiligings- of nalevingsvereisten of misschien kan de toepassing alleen worden gebruikt via een beveiligde verbinding.</span><span class="sxs-lookup"><span data-stu-id="da112-107">This unencrypted communication could be due to security requirements, compliance requirements, or the application may only accept a secure connection.</span></span> <span data-ttu-id="da112-108">Voor zulke toepassingen ondersteunt Application Gateway end-to-end SSL-versleuteling.</span><span class="sxs-lookup"><span data-stu-id="da112-108">For such applications, application gateway supports end to end SSL encryption.</span></span>

## <a name="overview"></a><span data-ttu-id="da112-109">Overzicht</span><span class="sxs-lookup"><span data-stu-id="da112-109">Overview</span></span>

<span data-ttu-id="da112-110">Met end-to-end SSL kunt u veilig gevoelige gegevens versleuteld verzenden naar de back-endserver, terwijl u gebruik blijft maken van de voordelen van de Layer 7-taakverdelingsfuncties die Application Gateway te bieden heeft.</span><span class="sxs-lookup"><span data-stu-id="da112-110">End to end SSL allows you to securely transmit sensitive data to the backend encrypted while still taking advantage of the benefits of Layer 7 load balancing features which application gateway provides.</span></span> <span data-ttu-id="da112-111">Voorbeelden van deze functies zijn: sessieaffiniteit op basis van cookies, routering op basis van een URL, ondersteuning voor routering op basis van sites en de mogelijkheid om X-Forwarded-*-headers in te voegen.</span><span class="sxs-lookup"><span data-stu-id="da112-111">Some of these features are cookie-based session affinity, URL-based routing, support for routing based on sites, or ability to inject X-Forwarded-* headers.</span></span>

<span data-ttu-id="da112-112">Wanneer Application Gateway is geconfigureerd met de communicatiemodus voor end-to-end SSL, worden door Application Gateway de SSL-sessies op de gateway beëindigd en wordt het gebruikersverkeer ontsleuteld.</span><span class="sxs-lookup"><span data-stu-id="da112-112">When configured with end to end SSL communication mode, application gateway terminates the SSL sessions at the gateway and decrypts user traffic.</span></span> <span data-ttu-id="da112-113">Vervolgens worden de geconfigureerde regels toegepast voor het selecteren van het juiste exemplaar van de back-endgroep waarnaar het verkeer moet worden doorgeleid.</span><span class="sxs-lookup"><span data-stu-id="da112-113">It then applies the configured rules to select an appropriate backend pool instance to route traffic to.</span></span> <span data-ttu-id="da112-114">Application Gateway initieert vervolgens een nieuwe SSL-verbinding met de back-endserver en versleutelt de gegevens opnieuw met het openbare-sleutelcertificaat van de back-endserver, voordat de aanvraag naar de back-endserver wordt verstuurd.</span><span class="sxs-lookup"><span data-stu-id="da112-114">Application gateway then initiates a new SSL connection to the backend server and re-encrypts data using the backend server's public key certificate before transmitting the request to the backend.</span></span> <span data-ttu-id="da112-115">End-to-end SSL wordt ingeschakeld door de protocolinstelling in BackendHTTPSetting in te stellen op HTTPS. Dit wordt vervolgens toegepast op een back-endgroep.</span><span class="sxs-lookup"><span data-stu-id="da112-115">End to end SSL is enabled by setting protocol setting in BackendHTTPSetting to HTTPS, which is then applied to a backend pool.</span></span> <span data-ttu-id="da112-116">Elke back-endserver in de back-endgroep waarvoor end-to-end SSL is ingeschakeld, moet worden geconfigureerd met een certificaat zodat beveiligde communicatie mogelijk is.</span><span class="sxs-lookup"><span data-stu-id="da112-116">Each backend server in the backend pool with end to end SSL enabled must be configured with a certificate to allow secure communication.</span></span>

![end-to-end SSL-scenario][1]

<span data-ttu-id="da112-118">In dit voorbeeld worden-aanvragen via TLS1.2 doorgestuurd naar de back-endservers in Pool1 met behulp van end-to-end SSL.</span><span class="sxs-lookup"><span data-stu-id="da112-118">In this example, requests using TLS1.2 are routed to backend servers in Pool1 using end to end SSL.</span></span>

## <a name="end-to-end-ssl-and-whitelisting-of-certificates"></a><span data-ttu-id="da112-119">End-to-end SSL en het opnemen van certificaten in een lijst van toegestane certificaten</span><span class="sxs-lookup"><span data-stu-id="da112-119">End to end SSL and whitelisting of certificates</span></span>

<span data-ttu-id="da112-120">Application Gateway communiceert alleen met bekende back-endexemplaren waarvan het certificaat is opgenomen in een lijst van toegestane certificaten voor de Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="da112-120">Application gateway only communicates with known backend instances that have whitelisted their certificate with the application gateway.</span></span> <span data-ttu-id="da112-121">Als u het opnemen van certificaten in een lijst van toegestane certificaten wilt inschakelen, moet u de openbare sleutel van de back-endservercertificaten uploaden naar de Application Gateway (niet het basiscertificaat).</span><span class="sxs-lookup"><span data-stu-id="da112-121">To enable whitelisting of certificates, you must upload the public key of backend server certificates to the application gateway (not the root certificate).</span></span> <span data-ttu-id="da112-122">Alleen verbindingen met bekende en goedgekeurde back-ends zijn vervolgens toegestaan.</span><span class="sxs-lookup"><span data-stu-id="da112-122">Only connections to known and whitelisted backends are then allowed.</span></span> <span data-ttu-id="da112-123">De resterende back-ends hebben een gatewayfout als resultaat.</span><span class="sxs-lookup"><span data-stu-id="da112-123">The remaining backends results in a gateway error.</span></span> <span data-ttu-id="da112-124">Zelfondertekende certificaten zijn uitsluitend bedoeld voor testdoeleinden en het wordt afgeraden om deze in een productieomgeving te gebruiken.</span><span class="sxs-lookup"><span data-stu-id="da112-124">Self-signed certificates are for test purposes only and not recommended for production workloads.</span></span> <span data-ttu-id="da112-125">Dergelijke certificaten moeten ook worden opgenomen in een lijst van toegestane certificaten voor de toepassingsgateway, zoals in de bovenstaande stappen wordt beschreven. Wanneer dit het geval is, kunnen ze worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="da112-125">Such certificates have to be whitelisted with the application gateway as described in the preceding steps before they can be used.</span></span>

## <a name="next-steps"></a><span data-ttu-id="da112-126">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="da112-126">Next steps</span></span>

<span data-ttu-id="da112-127">Wanneer u meer te weten bent gekomen over end-to-end SSL, gaat u naar [Enable end to end SSL on application gateway](application-gateway-end-to-end-ssl-powershell.md) (End-to-end SSL inschakelen in Application Gateway) om een toepassingsgateway te maken met end-to-end SSL.</span><span class="sxs-lookup"><span data-stu-id="da112-127">After learning about end to end SSL, go to [enable end to end SSL on application gateway](application-gateway-end-to-end-ssl-powershell.md) to create an application gateway using end to end SSL.</span></span>

<!--Image references-->

[1]: ./media/application-gateway-backend-ssl/scenario.png
