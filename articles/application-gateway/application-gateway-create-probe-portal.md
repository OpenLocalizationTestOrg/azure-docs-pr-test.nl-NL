---
title: een aangepaste aaaCreate probe - Azure Application Gateway - Azure Portal | Microsoft Docs
description: Meer informatie over hoe toocreate een aangepaste test voor Application Gateway met behulp van Hallo-portal
services: application-gateway
documentationcenter: na
author: georgewallace
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 33fd5564-43a7-4c54-a9ec-b1235f661f97
ms.service: application-gateway
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/26/2017
ms.author: gwallace
ms.openlocfilehash: 9e9309045ef33ba1010868783949b4fde31619ec
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="create-a-custom-probe-for-application-gateway-by-using-hello-portal"></a><span data-ttu-id="be1ad-103">Een aangepaste test voor de toepassingsgateway maken met behulp van Hallo-portal</span><span class="sxs-lookup"><span data-stu-id="be1ad-103">Create a custom probe for Application Gateway by using hello portal</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="be1ad-104">Azure Portal</span><span class="sxs-lookup"><span data-stu-id="be1ad-104">Azure portal</span></span>](application-gateway-create-probe-portal.md)
> * [<span data-ttu-id="be1ad-105">Azure Resource Manager PowerShell</span><span class="sxs-lookup"><span data-stu-id="be1ad-105">Azure Resource Manager PowerShell</span></span>](application-gateway-create-probe-ps.md)
> * [<span data-ttu-id="be1ad-106">Azure Classic PowerShell</span><span class="sxs-lookup"><span data-stu-id="be1ad-106">Azure Classic PowerShell</span></span>](application-gateway-create-probe-classic-ps.md)

<span data-ttu-id="be1ad-107">In dit artikel voegt u een aangepaste test tooan bestaande toepassingsgateway via hello Azure-portal.</span><span class="sxs-lookup"><span data-stu-id="be1ad-107">In this article, you add a custom probe tooan existing application gateway through hello Azure portal.</span></span> <span data-ttu-id="be1ad-108">Aangepaste tests zijn handig voor toepassingen die de pagina controle van een specifieke status hebben, of voor toepassingen die een geslaagde reactie op Hallo standaardwebtoepassing geen bieden.</span><span class="sxs-lookup"><span data-stu-id="be1ad-108">Custom probes are useful for applications that have a specific health check page or for applications that do not provide a successful response on hello default web application.</span></span>

## <a name="before-you-begin"></a><span data-ttu-id="be1ad-109">Voordat u begint</span><span class="sxs-lookup"><span data-stu-id="be1ad-109">Before you begin</span></span>

<span data-ttu-id="be1ad-110">Als u nog geen een application gateway, gaat u naar [een toepassingsgateway maken](application-gateway-create-gateway-portal.md) toocreate een application gateway toowork met.</span><span class="sxs-lookup"><span data-stu-id="be1ad-110">If you do not already have an application gateway, visit [Create an Application Gateway](application-gateway-create-gateway-portal.md) toocreate an application gateway toowork with.</span></span>

## <span data-ttu-id="be1ad-111"><a name="createprobe"></a>Hallo-test maken</span><span class="sxs-lookup"><span data-stu-id="be1ad-111"><a name="createprobe"></a>Create hello probe</span></span>

<span data-ttu-id="be1ad-112">Tests worden geconfigureerd in een proces in twee stappen via Hallo-portal.</span><span class="sxs-lookup"><span data-stu-id="be1ad-112">Probes are configured in a two-step process through hello portal.</span></span> <span data-ttu-id="be1ad-113">de eerste stap Hallo is toocreate Hallo test.</span><span class="sxs-lookup"><span data-stu-id="be1ad-113">hello first step is toocreate hello probe.</span></span> <span data-ttu-id="be1ad-114">In de tweede stap hello voegt u Hallo test toohello back-end voor HTTP-instellingen van de toepassingsgateway Hallo.</span><span class="sxs-lookup"><span data-stu-id="be1ad-114">In hello second step, you add hello probe toohello backend http settings of hello application gateway.</span></span>

1. <span data-ttu-id="be1ad-115">Meld u bij toohello [Azure-portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="be1ad-115">Log in toohello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="be1ad-116">Als u nog een account hebt, kunt u zich aanmelden voor een [gratis proefversie van één maand](https://azure.microsoft.com/free)</span><span class="sxs-lookup"><span data-stu-id="be1ad-116">If you don't already have an account, you can sign up for a [free one-month trial](https://azure.microsoft.com/free)</span></span>

1. <span data-ttu-id="be1ad-117">Klik op alle resources in hello Azure-portal venster Favorieten.</span><span class="sxs-lookup"><span data-stu-id="be1ad-117">In hello Azure portal Favorites pane, click All resources.</span></span> <span data-ttu-id="be1ad-118">Klik op Hallo toepassingsgateway in Hallo alle resources blade.</span><span class="sxs-lookup"><span data-stu-id="be1ad-118">Click hello application gateway in hello All resources blade.</span></span> <span data-ttu-id="be1ad-119">Als u hebt geselecteerd al Hallo-abonnement verschillende resources heeft, kunt u partners.contoso.net in Hallo Filter met de naam...</span><span class="sxs-lookup"><span data-stu-id="be1ad-119">If hello subscription you selected already has several resources in it, you can enter partners.contoso.net in hello Filter by name…</span></span> <span data-ttu-id="be1ad-120">vak tooeasily toegang Hallo toepassingsgateway.</span><span class="sxs-lookup"><span data-stu-id="be1ad-120">box tooeasily access hello application gateway.</span></span>

1. <span data-ttu-id="be1ad-121">Klik op **Probes** en klik op Hallo **toevoegen** knop tooadd een test.</span><span class="sxs-lookup"><span data-stu-id="be1ad-121">Click **Probes** and click hello **Add** button tooadd a probe.</span></span>

  ![Test-blade met informatie is ingevuld toevoegen][1]

1. <span data-ttu-id="be1ad-123">Op Hallo **toevoegen health test** blade Vul Hallo vereist voor de test Hallo en klikt u op wanneer u klaar **OK**.</span><span class="sxs-lookup"><span data-stu-id="be1ad-123">On hello **Add health probe** blade, fill out hello required information for hello probe, and when complete click **OK**.</span></span>

  |<span data-ttu-id="be1ad-124">**Instelling**</span><span class="sxs-lookup"><span data-stu-id="be1ad-124">**Setting**</span></span> | <span data-ttu-id="be1ad-125">**Waarde**</span><span class="sxs-lookup"><span data-stu-id="be1ad-125">**Value**</span></span> | <span data-ttu-id="be1ad-126">**Details**</span><span class="sxs-lookup"><span data-stu-id="be1ad-126">**Details**</span></span>|
  |---|---|---|
  |<span data-ttu-id="be1ad-127">**Naam**</span><span class="sxs-lookup"><span data-stu-id="be1ad-127">**Name**</span></span>|<span data-ttu-id="be1ad-128">customProbe</span><span class="sxs-lookup"><span data-stu-id="be1ad-128">customProbe</span></span>|<span data-ttu-id="be1ad-129">Deze waarde is een beschrijvende naam toohello-test die toegankelijk is in het Hallo-portal.</span><span class="sxs-lookup"><span data-stu-id="be1ad-129">This value is a friendly name toohello probe that is accessible in hello portal.</span></span>|
  |<span data-ttu-id="be1ad-130">**Protocol**</span><span class="sxs-lookup"><span data-stu-id="be1ad-130">**Protocol**</span></span>|<span data-ttu-id="be1ad-131">HTTP of HTTPS</span><span class="sxs-lookup"><span data-stu-id="be1ad-131">HTTP or HTTPS</span></span> | <span data-ttu-id="be1ad-132">Hallo-protocol dat Hallo health test wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="be1ad-132">hello protocol that hello health probe uses.</span></span>|
  |<span data-ttu-id="be1ad-133">**Host**</span><span class="sxs-lookup"><span data-stu-id="be1ad-133">**Host**</span></span>|<span data-ttu-id="be1ad-134">Internet Explorer</span><span class="sxs-lookup"><span data-stu-id="be1ad-134">i.e</span></span> <span data-ttu-id="be1ad-135">contoso.com</span><span class="sxs-lookup"><span data-stu-id="be1ad-135">contoso.com</span></span>|<span data-ttu-id="be1ad-136">Deze waarde is Hallo-hostnaam die wordt gebruikt voor de Hallo test.</span><span class="sxs-lookup"><span data-stu-id="be1ad-136">This value is hello host name that is used for hello probe.</span></span> <span data-ttu-id="be1ad-137">Van toepassing alleen als er meerdere locaties is geconfigureerd op Application Gateway, of gebruik anders '127.0.0.1'.</span><span class="sxs-lookup"><span data-stu-id="be1ad-137">Applicable only when multi-site is configured on Application Gateway, otherwise use '127.0.0.1'.</span></span> <span data-ttu-id="be1ad-138">Deze waarde verschilt van de VM-hostnaam Hallo.</span><span class="sxs-lookup"><span data-stu-id="be1ad-138">This value is different from hello VM host name.</span></span>|
  |<span data-ttu-id="be1ad-139">**Pad**</span><span class="sxs-lookup"><span data-stu-id="be1ad-139">**Path**</span></span>|<span data-ttu-id="be1ad-140">/ of een ander pad</span><span class="sxs-lookup"><span data-stu-id="be1ad-140">/ or another path</span></span>|<span data-ttu-id="be1ad-141">Hallo rest van de volledige url voor de aangepaste test Hallo Hallo.</span><span class="sxs-lookup"><span data-stu-id="be1ad-141">hello remainder of hello full url for hello custom probe.</span></span> <span data-ttu-id="be1ad-142">Een geldig pad begint met '/'.</span><span class="sxs-lookup"><span data-stu-id="be1ad-142">A valid path starts with '/'.</span></span> <span data-ttu-id="be1ad-143">Gebruik voor het standaardpad Hallo van http://contoso.com alleen '/'</span><span class="sxs-lookup"><span data-stu-id="be1ad-143">For hello default path of http://contoso.com just use '/'</span></span> |
  |<span data-ttu-id="be1ad-144">**Interval (sec)**</span><span class="sxs-lookup"><span data-stu-id="be1ad-144">**Interval (secs)**</span></span>|<span data-ttu-id="be1ad-145">30</span><span class="sxs-lookup"><span data-stu-id="be1ad-145">30</span></span>|<span data-ttu-id="be1ad-146">Hoe vaak hello test wordt uitgevoerd toocheck status.</span><span class="sxs-lookup"><span data-stu-id="be1ad-146">How often hello probe is run toocheck for health.</span></span> <span data-ttu-id="be1ad-147">Het is niet raadzaam tooset Hallo lager is dan 30 seconden.</span><span class="sxs-lookup"><span data-stu-id="be1ad-147">It is not recommended tooset hello lower than 30 seconds.</span></span>|
  |<span data-ttu-id="be1ad-148">**Time-out (sec)**</span><span class="sxs-lookup"><span data-stu-id="be1ad-148">**Timeout (secs)**</span></span>|<span data-ttu-id="be1ad-149">30</span><span class="sxs-lookup"><span data-stu-id="be1ad-149">30</span></span>|<span data-ttu-id="be1ad-150">Hallo hoeveelheid tijd Hallo test wacht voordat een time-out optreedt. Hallo time-out interval behoeften toobe hoog genoeg een http-aanroep tooensure Hallo back-end health-pagina kan worden gemaakt, is beschikbaar.</span><span class="sxs-lookup"><span data-stu-id="be1ad-150">hello amount of time hello probe waits before timing out. hello timeout interval needs toobe high enough that an http call can be made tooensure hello backend health page is available.</span></span>|
  |<span data-ttu-id="be1ad-151">**Drempelwaarde voor onjuiste status**</span><span class="sxs-lookup"><span data-stu-id="be1ad-151">**Unhealthy threshold**</span></span>|<span data-ttu-id="be1ad-152">3</span><span class="sxs-lookup"><span data-stu-id="be1ad-152">3</span></span>|<span data-ttu-id="be1ad-153">Aantal mislukte pogingen toobe niet in orde beschouwd.</span><span class="sxs-lookup"><span data-stu-id="be1ad-153">Number of failed attempts toobe considered unhealthy.</span></span> <span data-ttu-id="be1ad-154">Een drempelwaarde 0 betekent dat als een controle mislukt Hallo back-end wordt onmiddellijk bepaald beschadigd.</span><span class="sxs-lookup"><span data-stu-id="be1ad-154">A threshold of 0 means that if a health check fails hello back-end is determined unhealthy immediately.</span></span>|

  > [!IMPORTANT]
  > <span data-ttu-id="be1ad-155">Hallo-hostnaam is niet hetzelfde als servernaam Hallo.</span><span class="sxs-lookup"><span data-stu-id="be1ad-155">hello host name is not hello same as server name.</span></span> <span data-ttu-id="be1ad-156">Deze waarde is Hallo-naam van Hallo virtuele host op Hallo-toepassingsserver wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="be1ad-156">This value is hello name of hello virtual host running on hello application server.</span></span> <span data-ttu-id="be1ad-157">Hallo-test wordt verzonden toohttp: / /(host name):(port from httpsetting)/urlPath</span><span class="sxs-lookup"><span data-stu-id="be1ad-157">hello probe is sent toohttp://(host name):(port from httpsetting)/urlPath</span></span>

## <a name="add-probe-toohello-gateway"></a><span data-ttu-id="be1ad-158">Test toohello gateway toevoegen</span><span class="sxs-lookup"><span data-stu-id="be1ad-158">Add probe toohello gateway</span></span>

<span data-ttu-id="be1ad-159">Nu hello test is gemaakt, is het tijd tooadd het toohello gateway.</span><span class="sxs-lookup"><span data-stu-id="be1ad-159">Now that hello probe has been created, it is time tooadd it toohello gateway.</span></span> <span data-ttu-id="be1ad-160">Test-instellingen zijn ingesteld op Hallo back-end voor HTTP-instellingen van de toepassingsgateway Hallo.</span><span class="sxs-lookup"><span data-stu-id="be1ad-160">Probe settings are set on hello backend http settings of hello application gateway.</span></span>

1. <span data-ttu-id="be1ad-161">Klik op **HTTP-instellingen** op Hallo application gateway toobring up Hallo configuratie blade klikt u op Hallo huidige back-end HTTP-instellingen die worden vermeld in het Hallo-venster.</span><span class="sxs-lookup"><span data-stu-id="be1ad-161">Click **HTTP settings** on hello application gateway, toobring up hello configuration blade click hello current backend http settings listed in hello window.</span></span>

  ![venster van de instellingen voor HTTPS][2]

1. <span data-ttu-id="be1ad-163">Op Hallo **appGatewayBackEndHttpSettings** instellingenblade, selectievakje Hallo **gebruik aangepaste test** selectievakje in en kies Hallo test gemaakt in Hallo [maken Hallo test](#createprobe) sectie op Hallo **aangepaste test** vervolgkeuzelijst...</span><span class="sxs-lookup"><span data-stu-id="be1ad-163">On hello **appGatewayBackEndHttpSettings** settings blade, check hello **Use custom probe** checkbox and choose hello probe created in hello [Create hello probe](#createprobe) section on hello **Custom probe** drop-down..</span></span>
<span data-ttu-id="be1ad-164">Wanneer voltooid, klikt u op **opslaan** en het Hallo-instellingen worden toegepast.</span><span class="sxs-lookup"><span data-stu-id="be1ad-164">When complete, click **Save** and hello settings are applied.</span></span>

<span data-ttu-id="be1ad-165">Hallo standaard test controleert Hallo toegang toohello standaardwebtoepassing.</span><span class="sxs-lookup"><span data-stu-id="be1ad-165">hello default probe checks hello default access toohello web application.</span></span> <span data-ttu-id="be1ad-166">Nu dat een aangepaste test is gemaakt, gebruikt de toepassingsgateway Hallo Hallo aangepast pad gedefinieerd toomonitor health voor Hallo back-endservers.</span><span class="sxs-lookup"><span data-stu-id="be1ad-166">Now that a custom probe has been created, hello application gateway uses hello custom path defined toomonitor health for hello backend servers.</span></span> <span data-ttu-id="be1ad-167">Op basis van criteria Hallo die is gedefinieerd, controleert toepassingsgateway Hallo Hallo pad dat is opgegeven in Hallo test.</span><span class="sxs-lookup"><span data-stu-id="be1ad-167">Based on hello criteria that was defined, hello application gateway checks hello path specified in hello probe.</span></span> <span data-ttu-id="be1ad-168">Als Hallo toohost:Port aanroepen / pad niet in een HTTP 200-399 statusantwoord resulteert, wordt Hallo-server buiten rotatie genomen als Hallo slecht weergavedrempel is bereikt.</span><span class="sxs-lookup"><span data-stu-id="be1ad-168">If hello call toohost:Port/path does not return an HTTP 200-399 status response, hello server is taken out of rotation after hello unhealthy threshold is reached.</span></span> <span data-ttu-id="be1ad-169">Zoeken blijft op Hallo slecht exemplaar toodetermine wanneer deze opnieuw in orde is.</span><span class="sxs-lookup"><span data-stu-id="be1ad-169">Probing continues on hello unhealthy instance toodetermine when it becomes healthy again.</span></span> <span data-ttu-id="be1ad-170">Zodra Hallo-exemplaar wordt toegevoegd back toohealthy-servergroep, verkeer begint stromende tooit opnieuw en zoek toohello exemplaar wordt voortgezet met de opgegeven interval als normale gebruiker.</span><span class="sxs-lookup"><span data-stu-id="be1ad-170">Once hello instance is added back toohealthy server pool, traffic begins flowing tooit again and probing toohello instance continues at user specified interval as normal.</span></span>

## <a name="next-steps"></a><span data-ttu-id="be1ad-171">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="be1ad-171">Next steps</span></span>

<span data-ttu-id="be1ad-172">hoe tooconfigure SSL-Offloading met Azure Application Gateway, Zie toolearn [SSL-Offload configureren](application-gateway-ssl-portal.md)</span><span class="sxs-lookup"><span data-stu-id="be1ad-172">toolearn how tooconfigure SSL Offloading with Azure Application Gateway, see [Configure SSL Offload](application-gateway-ssl-portal.md)</span></span>

[1]: ./media/application-gateway-create-probe-portal/figure1.png
[2]: ./media/application-gateway-create-probe-portal/figure2.png

