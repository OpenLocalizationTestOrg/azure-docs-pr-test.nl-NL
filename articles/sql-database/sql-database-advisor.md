---
title: aaaPerformance aanbevelingen - Azure SQL Database | Microsoft Docs
description: Hello Azure SQL Database bevat aanbevelingen voor de SQL-Databases die u kunt de huidige queryprestaties verbeteren.
services: sql-database
documentationcenter: 
author: stevestein
manager: jhubbard
editor: monicar
ms.assetid: 1db441ff-58f5-45da-8d38-b54dc2aa6145
ms.service: sql-database
ms.custom: monitor & tune
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/05/2017
ms.author: sstein
ms.openlocfilehash: 77db338a0a395aec78c9e02849ae5ba4f2d01680
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="performance-recommendations"></a><span data-ttu-id="aa110-103">Aanbevelingen voor prestaties</span><span class="sxs-lookup"><span data-stu-id="aa110-103">Performance recommendations</span></span>

<span data-ttu-id="aa110-104">Azure SQL Database leert en aanpast aan uw toepassing en aangepaste aanbevelingen zodat u toomaximize Hallo prestaties van uw SQL-databases.</span><span class="sxs-lookup"><span data-stu-id="aa110-104">Azure SQL Database learns and adapts with your application and provides customized recommendations enabling you toomaximize hello performance of your SQL databases.</span></span> <span data-ttu-id="aa110-105">Prestaties van uw wordt continu beoordeeld door het analyseren van uw gebruiksgeschiedenis SQL-Database.</span><span class="sxs-lookup"><span data-stu-id="aa110-105">Your performance is continuously assessed by analyzing your SQL Database usage history.</span></span> <span data-ttu-id="aa110-106">Hallo aanbevelingen die beschikbaar zijn in een database unieke werkbelasting patroon zijn gebaseerd en de prestaties te verbeteren.</span><span class="sxs-lookup"><span data-stu-id="aa110-106">hello recommendations that are provided are based on a database unique workload pattern and help improve its performance.</span></span>

> [!NOTE]
> <span data-ttu-id="aa110-107">Het is raadzaam van het gebruik van aanbevelingen doordat automatische afstemming van uw database.</span><span class="sxs-lookup"><span data-stu-id="aa110-107">Recommended way of using recommendations is by enabling ‘Automatic tuning’ on your database.</span></span> <span data-ttu-id="aa110-108">Zie voor meer informatie [automatische afstemming](sql-database-automatic-tuning.md).</span><span class="sxs-lookup"><span data-stu-id="aa110-108">For details, see [Automatic tuning](sql-database-automatic-tuning.md).</span></span>
>

## <a name="create-index-recommendations"></a><span data-ttu-id="aa110-109">Indexaanbevelingen maken</span><span class="sxs-lookup"><span data-stu-id="aa110-109">Create index recommendations</span></span>
<span data-ttu-id="aa110-110">Azure SQL Database continu bewaakt Hallo query's wordt uitgevoerd en identificeert Hallo-indexen die Hallo prestaties kunnen verbeteren.</span><span class="sxs-lookup"><span data-stu-id="aa110-110">Azure SQL Database continuously monitors hello queries being executed and identifies hello indexes that could improve hello performance.</span></span> <span data-ttu-id="aa110-111">Als voldoende vertrouwen is gebouwd die een bepaalde index ontbreekt, zal een nieuwe **Create index** aanbeveling wordt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="aa110-111">Once enough confidence is built that a certain index is missing, a new **Create index** recommendation will be created.</span></span> <span data-ttu-id="aa110-112">Azure SQL Database builds vertrouwen door het schatten van de prestaties beter Hallo index zou via tijd doen.</span><span class="sxs-lookup"><span data-stu-id="aa110-112">Azure SQL Database builds confidence by estimating performance gain hello index would bring through time.</span></span> <span data-ttu-id="aa110-113">Afhankelijk van Hallo geschatte prestatieverbetering te bereiken, aanbevelingen gecategoriseerd als hoog, Gemiddeld of laag.</span><span class="sxs-lookup"><span data-stu-id="aa110-113">Depending on hello estimated performance gain, recommendations are categorized as High, Medium,  or Low.</span></span> 

<span data-ttu-id="aa110-114">Indexen die zijn gemaakt met behulp van de aanbevelingen zijn altijd gemarkeerd als auto_created indexen.</span><span class="sxs-lookup"><span data-stu-id="aa110-114">Indexes created using recommendations are always flagged as auto_created indexes.</span></span> <span data-ttu-id="aa110-115">U kunt zien welke indexen zijn auto_created door te kijken sys.indexes weergeven.</span><span class="sxs-lookup"><span data-stu-id="aa110-115">You can see which indexes are auto_created by looking at sys.indexes view.</span></span> <span data-ttu-id="aa110-116">Automatisch gemaakt indexen blokkeren niet ALTER/RENAME-opdrachten.</span><span class="sxs-lookup"><span data-stu-id="aa110-116">Auto created indexes don’t block ALTER/RENAME commands.</span></span> <span data-ttu-id="aa110-117">Als u toodrop Hallo kolom van een index worden gemaakt van het automatisch probeert, Hallo-opdracht is geslaagd en Hallo automatisch index gemaakt met Hallo opdracht ook is verwijderd.</span><span class="sxs-lookup"><span data-stu-id="aa110-117">If you try toodrop hello column that has an auto created index over it, hello command passes and hello auto created index is dropped with hello command as well.</span></span> <span data-ttu-id="aa110-118">Gewone indexen blokkeren Hallo ALTER/Wijzig de naam van de opdracht bij de kolommen die zijn geïndexeerd.</span><span class="sxs-lookup"><span data-stu-id="aa110-118">Regular indexes would block hello ALTER/RENAME command on columns that are indexed.</span></span>

<span data-ttu-id="aa110-119">Zodra Hallo maakt indexaanbeveling wordt toegepast, Azure SQL Database prestaties van query's Hallo met Hallo basislijnprestaties wordt vergeleken.</span><span class="sxs-lookup"><span data-stu-id="aa110-119">Once hello create index recommendation is applied, Azure SQL Database will compare performance of hello queries with hello baseline performance.</span></span> <span data-ttu-id="aa110-120">Als een nieuwe index gebracht verbeteringen in de prestaties van hello, aanbeveling gemarkeerd als geslaagd en impact rapport beschikbaar.</span><span class="sxs-lookup"><span data-stu-id="aa110-120">If new index brought improvements in hello performance, recommendation will be flagged as successful and impact report will be available.</span></span> <span data-ttu-id="aa110-121">Als Hallo-index niet Hallo voordelen zetten, worden deze automatisch hersteld.</span><span class="sxs-lookup"><span data-stu-id="aa110-121">In case hello index didn’t bring hello benefits, it will be automatically reverted.</span></span> <span data-ttu-id="aa110-122">Op deze manier Azure SQL Database zorgt ervoor dat met behulp van aanbevelingen worden alleen de Hallo databaseprestaties.</span><span class="sxs-lookup"><span data-stu-id="aa110-122">This way Azure SQL Database ensures that using recommendations will only improve hello database performance.</span></span>

<span data-ttu-id="aa110-123">Alle **Create index** aanbeveling heeft een vorige uit beleid dat Hallo aanbeveling toepassen als Hallo database of een groep DTU-gebruik hoger dan 80% in laatste 20 minuten of is als Hallo opslag hoger dan 90% van het gebruik van is niet wordt toegestaan.</span><span class="sxs-lookup"><span data-stu-id="aa110-123">Any **Create index** recommendation has a back off policy that won’t allow applying hello recommendation if hello database or pool DTU usage was above 80% in last 20 minutes or if hello storage is above 90% of usage.</span></span> <span data-ttu-id="aa110-124">Hallo-aanbeveling wordt in dit geval worden uitgesteld.</span><span class="sxs-lookup"><span data-stu-id="aa110-124">In this case, hello recommendation will be postponed.</span></span>

## <a name="drop-index-recommendations"></a><span data-ttu-id="aa110-125">Aanbevelingen voor indexen verwijderen</span><span class="sxs-lookup"><span data-stu-id="aa110-125">Drop index recommendations</span></span>
<span data-ttu-id="aa110-126">Daarnaast analyseert toodetecting een ontbrekende index, Azure SQL Database continu Hallo prestaties van de bestaande indexen.</span><span class="sxs-lookup"><span data-stu-id="aa110-126">In addition toodetecting a missing index, Azure SQL Database continuously analyzes hello performance of existing indexes.</span></span> <span data-ttu-id="aa110-127">Als de index wordt niet gebruikt, wordt Azure SQL Database het beste neer te zetten.</span><span class="sxs-lookup"><span data-stu-id="aa110-127">If index is not used, Azure SQL Database will recommend dropping it.</span></span> <span data-ttu-id="aa110-128">Verwijderen van een index wordt in beide gevallen aangeraden:</span><span class="sxs-lookup"><span data-stu-id="aa110-128">Dropping an index is recommended in two cases:</span></span>
* <span data-ttu-id="aa110-129">Index is een duplicaat van een andere index (dezelfde geïndexeerd en kolom, partitie-schema en filters opgenomen)</span><span class="sxs-lookup"><span data-stu-id="aa110-129">Index is a duplicate of another index (same indexed and included column, partition schema, and filters)</span></span>
* <span data-ttu-id="aa110-130">Index wordt niet gebruikt voor een langere periode (93 dagen)</span><span class="sxs-lookup"><span data-stu-id="aa110-130">Index is unused for a prolonged period (93 days)</span></span>

<span data-ttu-id="aa110-131">Aanbevelingen voor indexen verwijderen doorlopen ook Hallo controle na implementatie.</span><span class="sxs-lookup"><span data-stu-id="aa110-131">Drop index recommendations also go through hello verification after implementation.</span></span> <span data-ttu-id="aa110-132">Hallo impact rapport zijn beschikbaar als Hallo prestaties worden verbeterd.</span><span class="sxs-lookup"><span data-stu-id="aa110-132">If hello performance is improved hello impact report will be available.</span></span> <span data-ttu-id="aa110-133">Als de prestaties zijn afgenomen, wordt er aanbeveling hersteld.</span><span class="sxs-lookup"><span data-stu-id="aa110-133">In case performance degradation is detected, recommendation will be reverted.</span></span>


## <a name="parameterize-queries-recommendations"></a><span data-ttu-id="aa110-134">Aanbevelingen voor query's voorzien</span><span class="sxs-lookup"><span data-stu-id="aa110-134">Parameterize queries recommendations</span></span>
<span data-ttu-id="aa110-135">**Query's voorzien** aanbevelingen worden weergegeven wanneer er een of meer query's die zijn voortdurend wordt gecompileerd maar uiteindelijk Hallo uitvoeringsplan voor dezelfde query.</span><span class="sxs-lookup"><span data-stu-id="aa110-135">**Parameterize queries** recommendations appear when you have one or more queries that are constantly being recompiled but end up with hello same query execution plan.</span></span> <span data-ttu-id="aa110-136">Deze voorwaarde een kans tooapply parameterisering, waardoor queryplannen toobe in de cache opgeslagen en opnieuw gebruikt in toekomstige prestaties verbeteren en de beperking van Resourcegebruik Hallo gedwongen wordt geopend.</span><span class="sxs-lookup"><span data-stu-id="aa110-136">This condition opens up an opportunity tooapply forced parameterization, which will allow query plans toobe cached and reused in hello future improving performance and reducing resource usage.</span></span> 

<span data-ttu-id="aa110-137">Elke query uitgegeven voor de SQL Server in eerste instantie moet toobe gecompileerd toogenerate een plan kan worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="aa110-137">Every query issued against SQL Server initially needs toobe compiled toogenerate an execution plan.</span></span> <span data-ttu-id="aa110-138">Elk gegenereerde plan wordt toegevoegd toohello plancache en een volgende uitvoering Hallo dezelfde query opnieuw kunt gebruiken bij dit abonnement vanuit de cache hello, hoeft u Hallo aanvullende compilatie.</span><span class="sxs-lookup"><span data-stu-id="aa110-138">Each generated plan is added toohello plan cache and subsequent executions of hello same query can reuse this plan from hello cache, eliminating hello need for additional compilation.</span></span> 

<span data-ttu-id="aa110-139">Toepassingen die verzenden van query's die niet-geparametriseerde waarden bevatten, kunnen leiden prestatieoverhead tooa, waarbij elke dergelijke query met andere parameterwaarden Hallo uitvoeringsplan wordt gecompileerd opnieuw.</span><span class="sxs-lookup"><span data-stu-id="aa110-139">Applications that send queries, which include non-parameterized values, can lead tooa performance overhead, where for every such query with different parameter values hello execution plan is compiled again.</span></span> <span data-ttu-id="aa110-140">In veel gevallen Hallo dezelfde query's met verschillende parameter waarden genereren Hallo dezelfde uitvoering plannen, maar deze plannen worden nog steeds afzonderlijk toohello plancache toegevoegd.</span><span class="sxs-lookup"><span data-stu-id="aa110-140">In many cases hello same queries with different parameter values generate hello same execution plans, but these plans are still separately added toohello plan cache.</span></span> <span data-ttu-id="aa110-141">Compileren uitvoering plannen database bronnen gebruiken, Hallo duur van de tijd en overloop Hallo queryplan cache veroorzaakt toobe verwijderd uit de cache Hallo-abonnementen te verhogen.</span><span class="sxs-lookup"><span data-stu-id="aa110-141">Recompiling execution plans use database resources, increase hello query duration time and overflow hello plan cache causing plans toobe evicted from hello cache.</span></span> <span data-ttu-id="aa110-142">Dit gedrag van SQL Server kan worden gewijzigd door in te stellen Hallo gedwongen parameterisering optie op Hallo-database.</span><span class="sxs-lookup"><span data-stu-id="aa110-142">This behavior of SQL Server can be altered by setting hello forced parameterization option on hello database.</span></span> 

<span data-ttu-id="aa110-143">toohelp u schatten Hallo gevolgen van deze aanbeveling, u zijn opgegeven met een vergelijking tussen de werkelijke CPU Hallo gebruiks- en Hallo geprojecteerd CPU-gebruik (alsof Hallo aanbeveling werd toegepast).</span><span class="sxs-lookup"><span data-stu-id="aa110-143">toohelp you estimate hello impact of this recommendation, you are provided with a comparison between hello actual CPU usage and hello projected CPU usage (as if hello recommendation was applied).</span></span> <span data-ttu-id="aa110-144">Bovendien tooCPU besparingen, de duur van uw query verlaagt voor Hallo-tijd besteed aan de compilatie.</span><span class="sxs-lookup"><span data-stu-id="aa110-144">In addition tooCPU savings, your query duration decreases for hello time spent in compilation.</span></span> <span data-ttu-id="aa110-145">Er worden ook veel minder overhead op plancache, zodat de meerderheid van Hallo toostay in de cache-abonnementen en opnieuw worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="aa110-145">There will also be much less overhead on plan cache, allowing majority of hello plans toostay in cache and be reused.</span></span> <span data-ttu-id="aa110-146">U kunt deze aanbeveling toepassen snel en eenvoudig door te klikken op Hallo **toepassen** opdracht.</span><span class="sxs-lookup"><span data-stu-id="aa110-146">You can apply this recommendation quickly and easily by clicking on hello **Apply** command.</span></span> 

<span data-ttu-id="aa110-147">Als u deze aanbeveling uitvoert, geforceerde parameterisering binnen enkele minuten in de database wordt het ingeschakeld en wordt het Hallo bewaking van proces ongeveer 24 uur duurt.</span><span class="sxs-lookup"><span data-stu-id="aa110-147">Once you apply this recommendation, it will enable forced parameterization within minutes on your database and it starts hello monitoring process which approximately lasts for 24 hours.</span></span> <span data-ttu-id="aa110-148">U gaat na deze periode worden kunnen toosee Hallo validatierapport waarin CPU-gebruik van uw database 24 uur vóór en na Hallo aanbeveling is toegepast.</span><span class="sxs-lookup"><span data-stu-id="aa110-148">After this period, you will be able toosee hello validation report that shows CPU usage of your database 24 hours before and after hello recommendation has been applied.</span></span> <span data-ttu-id="aa110-149">SQL Database Advisor is een beveiligingsmechanisme dat Hallo toegepast aanbeveling automatisch teruggezet als de regressie van een prestaties is gedetecteerd.</span><span class="sxs-lookup"><span data-stu-id="aa110-149">SQL Database Advisor has a safety mechanism that automatically reverts hello applied recommendation in case a performance regression has been detected.</span></span>

## <a name="fix-schema-issues-recommendations"></a><span data-ttu-id="aa110-150">Aanbevelingen voor schema-problemen oplossen</span><span class="sxs-lookup"><span data-stu-id="aa110-150">Fix schema issues recommendations</span></span>
<span data-ttu-id="aa110-151">**Los de problemen schema** aanbevelingen worden weergegeven wanneer hello SQL Database-service een afwijkingsdetectie in Hallo aantal schema-gerelateerde SQL fouten op uw Azure SQL Database plaatsvinden meldingen.</span><span class="sxs-lookup"><span data-stu-id="aa110-151">**Fix schema issues** recommendations appear when hello SQL Database service notices an anomaly in hello number of schema-related SQL errors happening on your Azure SQL Database.</span></span> <span data-ttu-id="aa110-152">Deze aanbeveling wordt doorgaans weergegeven wanneer de database meerdere fouten over schema (ongeldige kolomnaam, Ongeldige objectnaam, enzovoort) binnen een uur optreedt.</span><span class="sxs-lookup"><span data-stu-id="aa110-152">This recommendation typically appears when your database encounters multiple schema-related errors (invalid column name, invalid object name, etc.) within an hour.</span></span>

<span data-ttu-id="aa110-153">'Problemen met het schema' vormen een klasse syntaxisfouten in SQL Server die gebeuren wanneer de definitie van de SQL-query Hallo Hallo en Hallo definitie van Hallo-databaseschema zijn niet uitgelijnd.</span><span class="sxs-lookup"><span data-stu-id="aa110-153">“Schema issues” are a class of syntax errors in SQL Server that happen when hello definition of hello SQL query and hello definition of hello database schema are not aligned.</span></span> <span data-ttu-id="aa110-154">Bijvoorbeeld, een Hallo kolommen werd verwacht door Hallo query ontbreekt mogelijk in de doeltabel Hallo of vice versa.</span><span class="sxs-lookup"><span data-stu-id="aa110-154">For example, one of hello columns expected by hello query may be missing in hello target table, or vice versa.</span></span> 

<span data-ttu-id="aa110-155">Aanbeveling 'Schema probleem op te lossen' wordt weergegeven wanneer Azure SQL Database-service een afwijkingsdetectie in Hallo aantal schema-gerelateerde SQL fouten op uw Azure SQL Database plaatsvinden meldingen.</span><span class="sxs-lookup"><span data-stu-id="aa110-155">“Fix schema issue” recommendation appears when Azure SQL Database service notices an anomaly in hello number of schema-related SQL errors happening on your Azure SQL Database.</span></span> <span data-ttu-id="aa110-156">Hallo volgende tabel toont Hallo fouten die gerelateerd tooschema problemen zijn:</span><span class="sxs-lookup"><span data-stu-id="aa110-156">hello following table shows hello errors that are related tooschema issues:</span></span>

| <span data-ttu-id="aa110-157">SQL-foutcode</span><span class="sxs-lookup"><span data-stu-id="aa110-157">SQL Error Code</span></span> | <span data-ttu-id="aa110-158">Bericht</span><span class="sxs-lookup"><span data-stu-id="aa110-158">Message</span></span> |
| --- | --- |
| <span data-ttu-id="aa110-159">201</span><span class="sxs-lookup"><span data-stu-id="aa110-159">201</span></span> |<span data-ttu-id="aa110-160">Procedure of functie '*'verwacht dat de parameter'*', die niet is opgegeven.</span><span class="sxs-lookup"><span data-stu-id="aa110-160">Procedure or function '*' expects parameter '*', which was not supplied.</span></span> |
| <span data-ttu-id="aa110-161">207</span><span class="sxs-lookup"><span data-stu-id="aa110-161">207</span></span> |<span data-ttu-id="aa110-162">Ongeldige kolomnaam ' *'.</span><span class="sxs-lookup"><span data-stu-id="aa110-162">Invalid column name '*'.</span></span> |
| <span data-ttu-id="aa110-163">208</span><span class="sxs-lookup"><span data-stu-id="aa110-163">208</span></span> |<span data-ttu-id="aa110-164">Ongeldige objectnaam ' *'.</span><span class="sxs-lookup"><span data-stu-id="aa110-164">Invalid object name '*'.</span></span> |
| <span data-ttu-id="aa110-165">213</span><span class="sxs-lookup"><span data-stu-id="aa110-165">213</span></span> |<span data-ttu-id="aa110-166">Kolomnaam of -nummer van opgegeven waarden komt niet overeen met tabeldefinitie.</span><span class="sxs-lookup"><span data-stu-id="aa110-166">Column name or number of supplied values does not match table definition.</span></span> |
| <span data-ttu-id="aa110-167">2812</span><span class="sxs-lookup"><span data-stu-id="aa110-167">2812</span></span> |<span data-ttu-id="aa110-168">Kan de opgeslagen procedure niet vinden ' *'.</span><span class="sxs-lookup"><span data-stu-id="aa110-168">Could not find stored procedure '*'.</span></span> |
| <span data-ttu-id="aa110-169">8144</span><span class="sxs-lookup"><span data-stu-id="aa110-169">8144</span></span> |<span data-ttu-id="aa110-170">Procedure of functie * heeft te veel argumenten opgegeven.</span><span class="sxs-lookup"><span data-stu-id="aa110-170">Procedure or function * has too many arguments specified.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="aa110-171">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="aa110-171">Next steps</span></span>
<span data-ttu-id="aa110-172">Uw aanbevelingen controleren en doorgaan tooapply ze toorefine prestaties.</span><span class="sxs-lookup"><span data-stu-id="aa110-172">Monitor your recommendations and continue tooapply them toorefine performance.</span></span> <span data-ttu-id="aa110-173">Database-werkbelastingen zijn dynamisch en continu wijzigen.</span><span class="sxs-lookup"><span data-stu-id="aa110-173">Database workloads are dynamic and change continuously.</span></span> <span data-ttu-id="aa110-174">SQL-Database advisor toomonitor blijft en aanbevelingen die potentieel prestaties van uw database kunt verbeteren.</span><span class="sxs-lookup"><span data-stu-id="aa110-174">SQL Database advisor continues toomonitor and provide recommendations that can potentially improve your database's performance.</span></span> 

* <span data-ttu-id="aa110-175">Zie [prestaties aanbevelingen in hello Azure-portal](sql-database-advisor-portal.md) voor stapsgewijze instructies voor hoe toouse prestaties aanbevelingen in hello Azure-portal.</span><span class="sxs-lookup"><span data-stu-id="aa110-175">See [Performance recommendations in hello Azure portal](sql-database-advisor-portal.md) for steps on how toouse performance recommendations in hello Azure portal.</span></span>
* <span data-ttu-id="aa110-176">Zie [inzichten voor queryprestaties](sql-database-query-performance.md) toolearn over en bekijkt hello prestatie-invloed van de meest gebruikte query's.</span><span class="sxs-lookup"><span data-stu-id="aa110-176">See [Query Performance Insights](sql-database-query-performance.md) toolearn about and view hello performance impact of your top queries.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="aa110-177">Aanvullende bronnen</span><span class="sxs-lookup"><span data-stu-id="aa110-177">Additional resources</span></span>
* [<span data-ttu-id="aa110-178">Query Store</span><span class="sxs-lookup"><span data-stu-id="aa110-178">Query Store</span></span>](https://msdn.microsoft.com/library/dn817826.aspx)
* [<span data-ttu-id="aa110-179">INDEX MAKEN</span><span class="sxs-lookup"><span data-stu-id="aa110-179">CREATE INDEX</span></span>](https://msdn.microsoft.com/library/ms188783.aspx)
* [<span data-ttu-id="aa110-180">Toegangsbeheer op basis van rollen</span><span class="sxs-lookup"><span data-stu-id="aa110-180">Role-based access control</span></span>](../active-directory/role-based-access-control-what-is.md)

