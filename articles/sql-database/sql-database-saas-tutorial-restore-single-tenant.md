---
title: een Azure SQL database in een multitenant-app aaaRestore | Microsoft Docs
description: "Meer informatie over hoe toorestore één tenants SQL database na het per ongeluk verwijderen van gegevens"
keywords: zelfstudie sql-database
services: sql-database
documentationcenter: 
author: stevestein
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: scale out apps
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/10/2017
ms.author: billgib;sstein
ms.openlocfilehash: 8507ecec2424c135f1859b88ebf2bb4e17538a58
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="restore-a-wingtip-saas-tenants-sql-database"></a><span data-ttu-id="11f25-104">Een Wingtip SaaS tenants SQL-database herstellen</span><span class="sxs-lookup"><span data-stu-id="11f25-104">Restore a Wingtip SaaS tenants SQL database</span></span>

<span data-ttu-id="11f25-105">Hallo Wingtip SaaS app gebouwd met behulp van een database per tenant-model, waarbij elke tenant hun eigen database heeft.</span><span class="sxs-lookup"><span data-stu-id="11f25-105">hello Wingtip SaaS app is built using a database-per-tenant model, where each tenant has their own database.</span></span> <span data-ttu-id="11f25-106">Een van de voordelen Hallo van dit model is dat deze is eenvoudig toorestore één tenant gegevens in isolatie zonder enige impact op andere tenants.</span><span class="sxs-lookup"><span data-stu-id="11f25-106">One of hello benefits of this model is that it is easy toorestore a single tenant’s data in isolation without impacting other tenants.</span></span>

<span data-ttu-id="11f25-107">In deze zelfstudie leert u twee data recovery patronen:</span><span class="sxs-lookup"><span data-stu-id="11f25-107">In this tutorial you learn two data recovery patterns:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="11f25-108">Een database herstellen naar een parallelle database (side-by-side)</span><span class="sxs-lookup"><span data-stu-id="11f25-108">Restore a database into a parallel database (side-by-side)</span></span>
> * <span data-ttu-id="11f25-109">Een database in place herstellen</span><span class="sxs-lookup"><span data-stu-id="11f25-109">Restore a database in place</span></span>


|||
|:--|:--|
| <span data-ttu-id="11f25-110">**Tenant tooa voorafgaande punt in tijd, in een parallelle database herstellen**</span><span class="sxs-lookup"><span data-stu-id="11f25-110">**Restore tenant tooa prior point in time, into a parallel database**</span></span> | <span data-ttu-id="11f25-111">Dit patroon kan worden gebruikt door Hallo tenant voor controle, controle en naleving, enz. Hallo oorspronkelijke database online en ongewijzigd blijft.</span><span class="sxs-lookup"><span data-stu-id="11f25-111">This pattern can be used by hello tenant for review, auditing, compliance, etc. hello original database remains online and unchanged.</span></span> |
| <span data-ttu-id="11f25-112">**Tenant in-place herstellen**</span><span class="sxs-lookup"><span data-stu-id="11f25-112">**Restore tenant in-place**</span></span> | <span data-ttu-id="11f25-113">Dit patroon is gewoonlijk gebruikte toorecover een tenant tooa voorafgaande punt in tijd, nadat de gegevens in een tenant per ongeluk worden verwijderd.</span><span class="sxs-lookup"><span data-stu-id="11f25-113">This pattern is typically used toorecover a tenant tooa prior point in time, after a tenant accidentally deletes data.</span></span> <span data-ttu-id="11f25-114">Hallo oorspronkelijke database wordt offline gezet en vervangen door de herstelde database Hallo.</span><span class="sxs-lookup"><span data-stu-id="11f25-114">hello original database is taken offline, and replaced with hello restored database.</span></span> |
|||

<span data-ttu-id="11f25-115">toocomplete in deze zelfstudie, zorg ervoor dat Hallo volgende vereisten zijn voltooid:</span><span class="sxs-lookup"><span data-stu-id="11f25-115">toocomplete this tutorial, make sure hello following prerequisites are completed:</span></span>

* <span data-ttu-id="11f25-116">Hallo Wingtip SaaS-app wordt geïmplementeerd.</span><span class="sxs-lookup"><span data-stu-id="11f25-116">hello Wingtip SaaS app is deployed.</span></span> <span data-ttu-id="11f25-117">Zie toodeploy in minder dan vijf minuten [implementeren en verkennen Hallo Wingtip SaaS-toepassing](sql-database-saas-tutorial.md)</span><span class="sxs-lookup"><span data-stu-id="11f25-117">toodeploy in less than five minutes, see [Deploy and explore hello Wingtip SaaS application](sql-database-saas-tutorial.md)</span></span>
* <span data-ttu-id="11f25-118">Azure PowerShell is geïnstalleerd.</span><span class="sxs-lookup"><span data-stu-id="11f25-118">Azure PowerShell is installed.</span></span> <span data-ttu-id="11f25-119">Zie [Aan de slag met Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="11f25-119">For details, see [Getting started with Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps)</span></span>

## <a name="introduction-toohello-saas-tenant-restore-pattern"></a><span data-ttu-id="11f25-120">Inleiding toohello SaaS tenant terugzetten patroon</span><span class="sxs-lookup"><span data-stu-id="11f25-120">Introduction toohello SaaS tenant restore pattern</span></span>

<span data-ttu-id="11f25-121">Voor de tenant Hallo herstellen patroon, zijn er twee eenvoudige patronen voor het herstellen van gegevens van een afzonderlijke tenant.</span><span class="sxs-lookup"><span data-stu-id="11f25-121">For hello tenant restore pattern, there are two simple patterns for restoring an individual tenant's data.</span></span> <span data-ttu-id="11f25-122">Omdat de tenant-databases zijn geïsoleerd van elkaar, heeft herstellen van een tenant geen invloed op een andere tenant-gegevens.</span><span class="sxs-lookup"><span data-stu-id="11f25-122">Because tenant databases are isolated from each other, restoring one tenant has no impact on any other tenant's data.</span></span>

<span data-ttu-id="11f25-123">Gegevens worden teruggezet in de eerste patroon hello, in een nieuwe database.</span><span class="sxs-lookup"><span data-stu-id="11f25-123">In hello first pattern, data is restored into a new database.</span></span> <span data-ttu-id="11f25-124">Hallo tenant krijgt vervolgens toegang toothis database naast hun productiegegevens.</span><span class="sxs-lookup"><span data-stu-id="11f25-124">hello tenant is then given access toothis database alongside their production data.</span></span> <span data-ttu-id="11f25-125">Dit patroon toestaat dat een tenant admin tooreview Hallo hersteld gegevens en wordt mogelijk gebruikt tooselectively huidige gegevenswaarden overschrijven.</span><span class="sxs-lookup"><span data-stu-id="11f25-125">This pattern allows a tenant admin tooreview hello restored data and potentially use it tooselectively overwrite current data values.</span></span> <span data-ttu-id="11f25-126">Is toohello SaaS app designer toodetermine hoe geavanceerde hello gegevensherstel opties moeten zijn.</span><span class="sxs-lookup"><span data-stu-id="11f25-126">It's up toohello SaaS app designer toodetermine just how sophisticated hello data recovery options should be.</span></span> <span data-ttu-id="11f25-127">Eenvoudig gegevens kunnen tooreview Hallo status in op een bepaald tijdstip was wordt mogelijk alle die vereist is in sommige scenario's.</span><span class="sxs-lookup"><span data-stu-id="11f25-127">Simply being able tooreview data in hello state it was in at a given point in time may be all that is required in some scenarios.</span></span> <span data-ttu-id="11f25-128">Als het Hallo-database maakt gebruik van [geo-replicatie](sql-database-geo-replication-overview.md), het is raadzaam Hallo vereist gegevens kopiëren van Hallo hersteld kopiëren naar de oorspronkelijke database Hallo.</span><span class="sxs-lookup"><span data-stu-id="11f25-128">If hello database uses [geo-replication](sql-database-geo-replication-overview.md), we recommend copying hello required data from hello restored copy into hello original database.</span></span> <span data-ttu-id="11f25-129">Als u de oorspronkelijke database Hallo met de database hersteld Hallo vervangt, kunt u tooreconfigure moet en geo-replicatie opnieuw synchroniseren.</span><span class="sxs-lookup"><span data-stu-id="11f25-129">If you replace hello original database with hello restored database, you need tooreconfigure and resynchronize geo-replication.</span></span>

<span data-ttu-id="11f25-130">In de tweede patroon hello, waarbij ervan wordt uitgegaan dat Hallo tenant heeft gehad een verlies of beschadiging van gegevens, productiedatabase Hallo-tenant is teruggezet tooa voorafgaande punt in tijd.</span><span class="sxs-lookup"><span data-stu-id="11f25-130">In hello second pattern, which assumes that hello tenant has suffered a loss or corruption of data, hello tenant’s production database is restored tooa prior point in time.</span></span> <span data-ttu-id="11f25-131">In de Hallo herstellen in place patroon, wordt Hallo tenant offline gezet gedurende een korte periode tijdens het Hallo-database is hersteld en weer online.</span><span class="sxs-lookup"><span data-stu-id="11f25-131">In hello restore in place pattern, hello tenant is taken offline for a brief time while hello database is restored and brought back online.</span></span> <span data-ttu-id="11f25-132">Hallo oorspronkelijke database wordt verwijderd, maar kan nog steeds worden hersteld vanuit als u back tooan toogo moet zelfs eerdere punt in tijd.</span><span class="sxs-lookup"><span data-stu-id="11f25-132">hello original database is deleted, but can still be restored from if you need toogo back tooan even earlier point in time.</span></span> <span data-ttu-id="11f25-133">Hallo-database in plaats van te verwijderen, kan wijzigen in een variant van dit patroon naamswijzigingen Hallo database biedt geen extra voordelen in termen van de beveiliging van gegevens.</span><span class="sxs-lookup"><span data-stu-id="11f25-133">A variation of this pattern could rename hello database instead of deleting it, although renaming hello database offers no additional advantage in terms of data security.</span></span>

## <a name="get-hello-wingtip-application-scripts"></a><span data-ttu-id="11f25-134">Hallo Wingtip toepassingsscripts ophalen</span><span class="sxs-lookup"><span data-stu-id="11f25-134">Get hello Wingtip application scripts</span></span>

<span data-ttu-id="11f25-135">Hallo Wingtip SaaS-scripts en broncode van toepassing zijn beschikbaar in Hallo [WingtipSaaS](https://github.com/Microsoft/WingtipSaaS) github-opslagplaats.</span><span class="sxs-lookup"><span data-stu-id="11f25-135">hello Wingtip SaaS scripts and application source code are available in hello [WingtipSaaS](https://github.com/Microsoft/WingtipSaaS) github repo.</span></span> <span data-ttu-id="11f25-136">[Stappen toodownload Hallo Wingtip SaaS scripts](sql-database-wtp-overview.md#download-and-unblock-the-wingtip-saas-scripts).</span><span class="sxs-lookup"><span data-stu-id="11f25-136">[Steps toodownload hello Wingtip SaaS scripts](sql-database-wtp-overview.md#download-and-unblock-the-wingtip-saas-scripts).</span></span>

## <a name="simulate-a-tenant-accidentally-deleting-data"></a><span data-ttu-id="11f25-137">Simuleren van een tenant per ongeluk verwijderen van gegevens</span><span class="sxs-lookup"><span data-stu-id="11f25-137">Simulate a tenant accidentally deleting data</span></span>

<span data-ttu-id="11f25-138">toodemonstrate deze herstelscenario's, moeten we te*per ongeluk* sommige gegevens in een van Hallo tenant databases verwijderen.</span><span class="sxs-lookup"><span data-stu-id="11f25-138">toodemonstrate these recovery scenarios, we need too*accidentally* delete some data in one of hello tenant databases.</span></span> <span data-ttu-id="11f25-139">Terwijl u elke record verwijderen kunt, ophalen door referentiële integriteit schendingen Hallo volgende stap ingesteld Hallo demo toonot geblokkeerd!</span><span class="sxs-lookup"><span data-stu-id="11f25-139">While you can delete any record, hello next step sets up hello demo toonot get blocked by referential integrity violations!</span></span> <span data-ttu-id="11f25-140">Ook worden sommige ticket inkoopgegevens kunt u later in Hallo *Wingtip SaaS Analytics zelfstudies*.</span><span class="sxs-lookup"><span data-stu-id="11f25-140">It also adds some ticket purchase data you can use later in hello *Wingtip SaaS Analytics tutorials*.</span></span>

<span data-ttu-id="11f25-141">Hallo ticket generator script uitvoeren en aanvullende gegevens te maken.</span><span class="sxs-lookup"><span data-stu-id="11f25-141">Run hello ticket generator script and create additional data.</span></span> <span data-ttu-id="11f25-142">Hallo ticket generator komt opzettelijk niet kopen van tickets voor elke laatste gebeurtenis van tenants.</span><span class="sxs-lookup"><span data-stu-id="11f25-142">hello ticket generator intentionally does not purchase tickets for each tenants last event.</span></span>

1. <span data-ttu-id="11f25-143">Open... \\Learning-Modules\\hulpprogramma's\\*Demo TicketGenerator.ps1* in Hallo *PowerShell ISE*</span><span class="sxs-lookup"><span data-stu-id="11f25-143">Open ...\\Learning Modules\\Utilities\\*Demo-TicketGenerator.ps1* in hello *PowerShell ISE*</span></span>
1. <span data-ttu-id="11f25-144">Druk op **F5** toorun Hallo script en genereren van klanten en verkoopgegevens ticket.</span><span class="sxs-lookup"><span data-stu-id="11f25-144">Press **F5** toorun hello script and generate customers and ticket sales data.</span></span>


### <a name="open-hello-events-app-tooreview-hello-current-events"></a><span data-ttu-id="11f25-145">Hallo gebeurtenissen app tooreview Hallo huidige gebeurtenissen openen</span><span class="sxs-lookup"><span data-stu-id="11f25-145">Open hello Events app tooreview hello current events</span></span>

1. <span data-ttu-id="11f25-146">Open Hallo *gebeurtenissen Hub* (http://events.wtp.&lt; gebruiker&gt;. trafficmanager.net) en klik op **Contoso overleg Hall**:</span><span class="sxs-lookup"><span data-stu-id="11f25-146">Open hello *Events Hub* (http://events.wtp.&lt;user&gt;.trafficmanager.net) and click **Contoso Concert Hall**:</span></span>

   ![events hub](media/sql-database-saas-tutorial-restore-single-tenant/events-hub.png)

1. <span data-ttu-id="11f25-148">Blader Hallo lijst met gebeurtenissen en noteer de laatste gebeurtenis Hallo in Hallo lijst:</span><span class="sxs-lookup"><span data-stu-id="11f25-148">Scroll hello list of events and make a note of hello last event in hello list:</span></span>

   ![laatste gebeurtenis](media/sql-database-saas-tutorial-restore-single-tenant/last-event.png)


### <a name="run-hello-demo-scenario-tooaccidentally-delete-hello-last-event"></a><span data-ttu-id="11f25-150">Hallo demo scenario tooaccidentally Hallo laatste verwijderingsgebeurtenis uitvoeren</span><span class="sxs-lookup"><span data-stu-id="11f25-150">Run hello demo scenario tooaccidentally delete hello last event</span></span>

1. <span data-ttu-id="11f25-151">Open... \\Learning-Modules\\voor bedrijfscontinuïteit en noodherstel\\RestoreTenant\\*Demo RestoreTenant.ps1* in Hallo *PowerShell ISE*, en set Hallo waarde te volgen:</span><span class="sxs-lookup"><span data-stu-id="11f25-151">Open ...\\Learning Modules\\Business Continuity and Disaster Recovery\\RestoreTenant\\*Demo-RestoreTenant.ps1* in hello *PowerShell ISE*, and set hello following value:</span></span>
   * <span data-ttu-id="11f25-152">**$DemoScenario** = **1**stelt te**1** -gebeurtenissen met geen verkopen ticket verwijderen.</span><span class="sxs-lookup"><span data-stu-id="11f25-152">**$DemoScenario** = **1**, Set too**1** - Delete events with no ticket sales.</span></span>
1. <span data-ttu-id="11f25-153">Druk op **F5** toorun Hallo script en verwijderen van de laatste gebeurtenis Hallo.</span><span class="sxs-lookup"><span data-stu-id="11f25-153">Press **F5** toorun hello script and delete hello last event.</span></span> <span data-ttu-id="11f25-154">U ziet een bevestiging bericht vergelijkbaar toohello volgende:</span><span class="sxs-lookup"><span data-stu-id="11f25-154">You should see a confirmation message similar toohello following:</span></span>

   ```Console
   Deleting unsold events from Contoso Concert Hall ...
   Deleted event 'Seriously Strauss' from Contoso Concert Hall venue.
   ```

1. <span data-ttu-id="11f25-155">Hallo Contoso gebeurtenissen pagina wordt geopend.</span><span class="sxs-lookup"><span data-stu-id="11f25-155">hello Contoso events page opens.</span></span> <span data-ttu-id="11f25-156">Schuif naar beneden en controleer of het Hallo-gebeurtenis is verwijderd.</span><span class="sxs-lookup"><span data-stu-id="11f25-156">Scroll down and verify hello event is gone.</span></span> <span data-ttu-id="11f25-157">Als Hallo gebeurtenis nog steeds in de lijst hello wordt, klikt u op vernieuwen en controleer of dat het is verwijderd.</span><span class="sxs-lookup"><span data-stu-id="11f25-157">If hello event is still in hello list, click refresh and verify it is gone.</span></span>

   ![laatste gebeurtenis](media/sql-database-saas-tutorial-restore-single-tenant/last-event-deleted.png)


## <a name="restore-a-tenant-database-in-parallel-with-hello-production-database"></a><span data-ttu-id="11f25-159">Een tenant-database in combinatie met de productiedatabase Hallo herstellen</span><span class="sxs-lookup"><span data-stu-id="11f25-159">Restore a tenant database in parallel with hello production database</span></span>

<span data-ttu-id="11f25-160">In deze oefening herstelt Hallo Contoso overleg Hall database tooa punt in tijd voordat het Hallo-gebeurtenis is verwijderd.</span><span class="sxs-lookup"><span data-stu-id="11f25-160">This exercise restores hello Contoso Concert Hall database tooa point in time before hello event was deleted.</span></span> <span data-ttu-id="11f25-161">Nadat Hallo-gebeurtenis in de vorige stappen Hallo is verwijderd, kunt u toorecover wilt en Hallo verwijderde gegevens zien.</span><span class="sxs-lookup"><span data-stu-id="11f25-161">After hello event is deleted in hello previous steps, you want toorecover and see hello deleted data.</span></span> <span data-ttu-id="11f25-162">U hoeft niet toorestore uw productiedatabase met Hallo verwijderde record, maar u toorecover Hallo oude database tooaccess Hallo oude gegevens nodig voor andere zakelijke redenen.</span><span class="sxs-lookup"><span data-stu-id="11f25-162">You don't need toorestore your production database with hello deleted record, but you need toorecover hello old database tooaccess hello old data for other business reasons.</span></span>

 <span data-ttu-id="11f25-163">Hallo *terugzetten TenantInParallel.ps1* script maakt een parallelle tenant-database en een parallelle catalogusvermelding beide met de naam *ContosoConcertHall\_oude*.</span><span class="sxs-lookup"><span data-stu-id="11f25-163">hello *Restore-TenantInParallel.ps1* script creates a parallel tenant database, and a parallel catalog entry both named *ContosoConcertHall\_old*.</span></span> <span data-ttu-id="11f25-164">Dit patroon van terugzetten is het meest geschikt is voor het herstellen van een secundaire gegevensverlies of voor compatibiliteit en controle herstelscenario's.</span><span class="sxs-lookup"><span data-stu-id="11f25-164">This pattern of restore is best suited for recovering from a minor data loss or for compliance and auditing recovery scenarios.</span></span> <span data-ttu-id="11f25-165">Het is ook aanbevolen benadering wanneer u Hallo [geo-replicatie](sql-database-geo-replication-overview.md).</span><span class="sxs-lookup"><span data-stu-id="11f25-165">It is also hello recommended approach when you are using [geo-replication](sql-database-geo-replication-overview.md).</span></span>

1. <span data-ttu-id="11f25-166">Volledige Hallo [simuleren van een gebruiker per ongeluk verwijderen van gegevens](#simulate-a-tenant-accidentally-deleting-data) sectie.</span><span class="sxs-lookup"><span data-stu-id="11f25-166">Complete hello [simulate a user accidentally deleting data](#simulate-a-tenant-accidentally-deleting-data) section.</span></span>
1. <span data-ttu-id="11f25-167">Open... \\Learning-Modules\\voor bedrijfscontinuïteit en noodherstel\\RestoreTenant\\_Demo RestoreTenant.ps1_ in Hallo *PowerShell ISE*.</span><span class="sxs-lookup"><span data-stu-id="11f25-167">Open ...\\Learning Modules\\Business Continuity and Disaster Recovery\\RestoreTenant\\_Demo-RestoreTenant.ps1_ in hello *PowerShell ISE*.</span></span>
1. <span data-ttu-id="11f25-168">Stel **$DemoScenario** = **2**, stel deze optie te**2** te*terugzetten tenant parallel*.</span><span class="sxs-lookup"><span data-stu-id="11f25-168">Set **$DemoScenario** = **2**, Set this too**2** too*Restore tenant in parallel*.</span></span>
1. <span data-ttu-id="11f25-169">Druk op **F5** toorun Hallo script.</span><span class="sxs-lookup"><span data-stu-id="11f25-169">Press **F5** toorun hello script.</span></span>

<span data-ttu-id="11f25-170">Hallo script herstelt Hallo tenant-database (tooa parallelle database) tooa punt in tijd voordat u Hallo-gebeurtenis in de vorige sectie Hallo verwijderd.</span><span class="sxs-lookup"><span data-stu-id="11f25-170">hello script restores hello tenant database (tooa parallel database) tooa point in time before you deleted hello event in hello previous section.</span></span> <span data-ttu-id="11f25-171">Deze maakt een tweede database, verwijdert u alle bestaande catalogus metagegevens die voorkomt in deze database en voegt Hallo database toohello catalogus onder Hallo *ContosoConcertHall\_oude* vermelding.</span><span class="sxs-lookup"><span data-stu-id="11f25-171">It creates a second database, removes any existing catalog metadata that exists in this database, and adds hello database toohello catalog under hello *ContosoConcertHall\_old* entry.</span></span>

<span data-ttu-id="11f25-172">Hallo demoscript opent Hallo gebeurtenissen pagina in uw browser.</span><span class="sxs-lookup"><span data-stu-id="11f25-172">hello demo script opens hello events page in your browser.</span></span> <span data-ttu-id="11f25-173">Opmerking van Hallo URL: ```http://events.wtp.&lt;user&gt;.trafficmanager.net/contosoconcerthall_old``` gegevens uit de database hersteld Hallo zien waar *_old* toohello-naam is toegevoegd.</span><span class="sxs-lookup"><span data-stu-id="11f25-173">Note from hello URL: ```http://events.wtp.&lt;user&gt;.trafficmanager.net/contosoconcerthall_old``` that this is showing data from hello restored database where *_old* is added toohello name.</span></span>

<span data-ttu-id="11f25-174">Scroll Hallo gebeurtenissen in Hallo browser tooconfirm die gebeurtenis verwijderd in de vorige sectie Hallo Hallo is hersteld.</span><span class="sxs-lookup"><span data-stu-id="11f25-174">Scroll hello events listed in hello browser tooconfirm that hello event deleted in hello previous section has been restored.</span></span>

<span data-ttu-id="11f25-175">Houd er rekening mee dat exposing Hallo hersteld tenant als een extra tenant, met een eigen gebeurtenissen app toobrowse-tickets onwaarschijnlijk toobe hoe u een tenant toegang tot toorestored gegevens, maar fungeert tooeasily illustreren Hallo terugzetten patroon wilt bieden.</span><span class="sxs-lookup"><span data-stu-id="11f25-175">Note that exposing hello restored tenant as an additional tenant, with its own Events app toobrowse tickets, is unlikely toobe how you would provide a tenant access toorestored data, but serves tooeasily illustrate hello restore pattern.</span></span>

<span data-ttu-id="11f25-176">In werkelijkheid, zou u waarschijnlijk alleen deze herstelde database behouden voor een opgegeven periode.</span><span class="sxs-lookup"><span data-stu-id="11f25-176">In reality, you would probably only retain this restored database for a defined period.</span></span> <span data-ttu-id="11f25-177">U kunt Hallo hersteld tenant vermelding verwijderen zodra u klaar bent met aanroepen Hallo *verwijderen RestoredTenant.ps1* script.</span><span class="sxs-lookup"><span data-stu-id="11f25-177">You can delete hello restored tenant entry once you are finished by calling hello *Remove-RestoredTenant.ps1* script.</span></span>

1. <span data-ttu-id="11f25-178">Stel **$DemoScenario** te**4** tooselect hello *verwijderen hersteld tenant* scenario.</span><span class="sxs-lookup"><span data-stu-id="11f25-178">Set **$DemoScenario** too**4** tooselect hello *remove restored tenant* scenario.</span></span>
1. <span data-ttu-id="11f25-179">**Uitvoeren van** **met** **F5**</span><span class="sxs-lookup"><span data-stu-id="11f25-179">**Execute** **using** **F5**</span></span>
1. <span data-ttu-id="11f25-180">Hallo *ContosoConcertHall\_oude* vermelding is nu verwijderd uit de catalogus Hallo.</span><span class="sxs-lookup"><span data-stu-id="11f25-180">hello *ContosoConcertHall\_old* entry is now deleted from hello catalog.</span></span> <span data-ttu-id="11f25-181">Opwekken en Hallo gebeurtenissen pagina voor deze tenant in uw browser te sluiten.</span><span class="sxs-lookup"><span data-stu-id="11f25-181">Go ahead and close hello events page for this tenant in your browser.</span></span>


## <a name="restore-a-tenant-in-place-replacing-hello-existing-tenant-database"></a><span data-ttu-id="11f25-182">Een tenant aanwezig is, vervangt Hallo bestaande tenant-database herstellen</span><span class="sxs-lookup"><span data-stu-id="11f25-182">Restore a tenant in place, replacing hello existing tenant database</span></span>

<span data-ttu-id="11f25-183">In deze oefening herstelt Hallo Contoso overleg Hall tenant tooa punt in tijd voordat het Hallo-gebeurtenis is verwijderd.</span><span class="sxs-lookup"><span data-stu-id="11f25-183">This exercise restores hello Contoso Concert Hall tenant tooa point in time before hello event was deleted.</span></span> <span data-ttu-id="11f25-184">Hallo *terugzetten TenantInPlace* script herstelt Hallo huidige tenant database tooa nieuwe database wijzen tooa vorige punt in tijd en verwijderingen Hallo oorspronkelijke database.</span><span class="sxs-lookup"><span data-stu-id="11f25-184">hello *Restore-TenantInPlace* script restores hello current tenant database tooa new database pointing tooa previous point in time, and deletes hello original database.</span></span> <span data-ttu-id="11f25-185">Dit patroon van terugzetten is het meest geschikt voor het herstellen van ernstige gegevensbeschadiging omdat er mogelijk belangrijke gegevens verloren gaan die tenant Hallo tooaccommodate zou hebben.</span><span class="sxs-lookup"><span data-stu-id="11f25-185">This pattern of restore is best suited for recovering from serious data corruption as there may be significant data loss that hello tenant would have tooaccommodate.</span></span>

1. <span data-ttu-id="11f25-186">Open **Demo RestoreTenant.ps1** bestand in PowerShell ISE</span><span class="sxs-lookup"><span data-stu-id="11f25-186">Open **Demo-RestoreTenant.ps1** file in PowerShell ISE</span></span>
1. <span data-ttu-id="11f25-187">Stel **$DemoScenario** te**5** tooselect hello *tenant in place scenario herstellen*.</span><span class="sxs-lookup"><span data-stu-id="11f25-187">Set **$DemoScenario** too**5** tooselect hello *restore tenant in place scenario*.</span></span>
1. <span data-ttu-id="11f25-188">Uitvoeren met behulp van **F5**.</span><span class="sxs-lookup"><span data-stu-id="11f25-188">Execute using **F5**.</span></span>

<span data-ttu-id="11f25-189">Hallo script herstelt Hallo tenant database tooa punt vijf minuten voordat het Hallo-gebeurtenis is verwijderd.</span><span class="sxs-lookup"><span data-stu-id="11f25-189">hello script restores hello tenant database tooa point five minutes before hello event was deleted.</span></span> <span data-ttu-id="11f25-190">Dit wordt uitgevoerd door de eerste duurt Hallo Contoso overleg Hall tenant offline zodat er geen verdere toohello gegevens bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="11f25-190">It does this by first taking hello Contoso Concert Hall tenant offline so there are no further updates toohello data.</span></span> <span data-ttu-id="11f25-191">Vervolgens een parallelle database is gemaakt door te herstellen vanaf herstelpunt Hallo en de naam met een tijdstempel tooensure Hallo databasenaam niet in strijd met bestaande tenant Hallo-databasenaam.</span><span class="sxs-lookup"><span data-stu-id="11f25-191">Then, a parallel database is created by restoring from hello restore point and named with a timestamp tooensure hello database name does not conflict with hello existing tenant database name.</span></span> <span data-ttu-id="11f25-192">Vervolgens Hallo oude tenant-database wordt verwijderd en de herstelde database Hallo hernoemde toohello oorspronkelijke databasenaam is.</span><span class="sxs-lookup"><span data-stu-id="11f25-192">Next, hello old tenant database is deleted, and hello restored database is renamed toohello original database name.</span></span> <span data-ttu-id="11f25-193">Ten slotte brengen Contoso overleg Hall online tooallow Hallo app access toohello hersteld-database.</span><span class="sxs-lookup"><span data-stu-id="11f25-193">Finally, Contoso Concert Hall is brought online tooallow hello app access toohello restored database.</span></span>

<span data-ttu-id="11f25-194">U hersteld Hallo database tooa punt in tijd voordat het Hallo-gebeurtenis is verwijderd.</span><span class="sxs-lookup"><span data-stu-id="11f25-194">You successfully restored hello database tooa point in time before hello event was deleted.</span></span> <span data-ttu-id="11f25-195">Hallo gebeurtenissen wordt geopend, dus controleer Hallo laatste gebeurtenis is hersteld.</span><span class="sxs-lookup"><span data-stu-id="11f25-195">hello Events page opens, so confirm hello last event has been restored.</span></span>


## <a name="next-steps"></a><span data-ttu-id="11f25-196">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="11f25-196">Next steps</span></span>

<span data-ttu-id="11f25-197">In deze zelfstudie heeft u het volgende geleerd:</span><span class="sxs-lookup"><span data-stu-id="11f25-197">In this tutorial, you learned how to:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="11f25-198">Een database herstellen naar een parallelle database (side-by-side)</span><span class="sxs-lookup"><span data-stu-id="11f25-198">Restore a database into a parallel database (side-by-side)</span></span>
> * <span data-ttu-id="11f25-199">Een database in place herstellen</span><span class="sxs-lookup"><span data-stu-id="11f25-199">Restore a database in place</span></span>

[<span data-ttu-id="11f25-200">Tenant-databaseschema beheren</span><span class="sxs-lookup"><span data-stu-id="11f25-200">Manage tenant database schema</span></span>](sql-database-saas-tutorial-schema-management.md)

## <a name="additional-resources"></a><span data-ttu-id="11f25-201">Aanvullende bronnen</span><span class="sxs-lookup"><span data-stu-id="11f25-201">Additional resources</span></span>

* <span data-ttu-id="11f25-202">Aanvullende [zelfstudies waarin voort op Hallo Wingtip SaaS-toepassing bouwen](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)</span><span class="sxs-lookup"><span data-stu-id="11f25-202">Additional [tutorials that build upon hello Wingtip SaaS application](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)</span></span>
* [<span data-ttu-id="11f25-203">Overzicht van zakelijke continuïteit met Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="11f25-203">Overview of business continuity with Azure SQL Database</span></span>](sql-database-business-continuity.md)
* [<span data-ttu-id="11f25-204">Meer informatie over back-ups van SQL-Database</span><span class="sxs-lookup"><span data-stu-id="11f25-204">Learn about SQL Database backups</span></span>](sql-database-automated-backups.md)
