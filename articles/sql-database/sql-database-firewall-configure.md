---
title: firewallregels voor SQL-Database aaaAzure | Microsoft Docs
description: Meer informatie over hoe de firewall met server- en databaseniveau regels toomanage firewalltoegang voor tooconfigure een SQL-database.
keywords: databasefirewall
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: cgronlun
tags: 
ms.assetid: ac57f84c-35c3-4975-9903-241c8059011e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 04/10/2017
ms.author: rickbyh
ms.openlocfilehash: 6a8cdf629d0d0e55421a5e9f9b894a21371be568
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-sql-database-server-level-and-database-level-firewall-rules"></a><span data-ttu-id="f26e2-104">Azure SQL Database-server- en databaseniveau firewall-regels</span><span class="sxs-lookup"><span data-stu-id="f26e2-104">Azure SQL Database server-level and database-level firewall rules</span></span> 

<span data-ttu-id="f26e2-105">Microsoft Azure SQL Database levert een relationele-databaseservice voor Azure en andere op internet gebaseerde toepassingen.</span><span class="sxs-lookup"><span data-stu-id="f26e2-105">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="f26e2-106">toohelp uw gegevens beschermen, firewalls te voorkomen dat alle toegang tooyour-databaseserver totdat u opgeven welke computers over machtigingen beschikken.</span><span class="sxs-lookup"><span data-stu-id="f26e2-106">toohelp protect your data, firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="f26e2-107">Hallo firewall verleent toegang toodatabases op basis van Hallo IP-adres van elke aanvraag die afkomstig zijn.</span><span class="sxs-lookup"><span data-stu-id="f26e2-107">hello firewall grants access toodatabases based on hello originating IP address of each request.</span></span>

## <a name="overview"></a><span data-ttu-id="f26e2-108">Overzicht</span><span class="sxs-lookup"><span data-stu-id="f26e2-108">Overview</span></span>

<span data-ttu-id="f26e2-109">Alle Transact-SQL toegang tooyour Azure SQL-server wordt in eerste instantie wordt geblokkeerd door Hallo firewall.</span><span class="sxs-lookup"><span data-stu-id="f26e2-109">Initially, all Transact-SQL access tooyour Azure SQL server is blocked by hello firewall.</span></span> <span data-ttu-id="f26e2-110">toobegin met behulp van uw Azure SQL-server, moet u een of meer serverniveau firewallregels waarmee toegang tooyour Azure SQL-server opgeven.</span><span class="sxs-lookup"><span data-stu-id="f26e2-110">toobegin using your Azure SQL server, you must specify one or more server-level firewall rules that enable access tooyour Azure SQL server.</span></span> <span data-ttu-id="f26e2-111">Gebruik Hallo firewall-regels toospecify welk IP-adres een bereik van Hallo Internet zijn toegestaan en of Azure-toepassingen tooconnect tooyour Azure SQL-server kunnen proberen.</span><span class="sxs-lookup"><span data-stu-id="f26e2-111">Use hello firewall rules toospecify which IP address ranges from hello Internet are allowed, and whether Azure applications can attempt tooconnect tooyour Azure SQL server.</span></span>

<span data-ttu-id="f26e2-112">tooselectively verlenen toegang toojust een van de databases Hallo in uw Azure SQL-server, moet u een regel databaseniveau voor Hallo vereiste database maken.</span><span class="sxs-lookup"><span data-stu-id="f26e2-112">tooselectively grant access toojust one of hello databases in your Azure SQL server, you must create a database-level rule for hello required database.</span></span> <span data-ttu-id="f26e2-113">Geef een IP-adresbereik voor Hallo database firewallregel buiten Hallo IP-adresbereik dat is opgegeven in de firewallregel op serverniveau hello, en zorg ervoor dat Hallo IP-adres van de client Hallo Hallo bereik dat is opgegeven in Hallo databaseniveau regel valt.</span><span class="sxs-lookup"><span data-stu-id="f26e2-113">Specify an IP address range for hello database firewall rule that is beyond hello IP address range specified in hello server-level firewall rule, and ensure that hello IP address of hello client falls in hello range specified in hello database-level rule.</span></span>

<span data-ttu-id="f26e2-114">Verbindingspogingen van Hallo Internet en Azure moet eerst Hallo firewall passeren voordat ze uw Azure SQL-server of SQL-Database bereiken kunnen, zoals wordt weergegeven in het volgende diagram Hallo:</span><span class="sxs-lookup"><span data-stu-id="f26e2-114">Connection attempts from hello Internet and Azure must first pass through hello firewall before they can reach your Azure SQL server or SQL Database, as shown in hello following diagram:</span></span>

   ![Diagram met beschrijving van firewallconfiguratie.][1]

* <span data-ttu-id="f26e2-116">**Firewallregels op serverniveau:** deze regels inschakelen clients tooaccess uw hele Azure SQL-server, dat wil zeggen, alle Hallo databases binnen dezelfde logische server Hallo.</span><span class="sxs-lookup"><span data-stu-id="f26e2-116">**Server-level firewall rules:** These rules enable clients tooaccess your entire Azure SQL server, that is, all hello databases within hello same logical server.</span></span> <span data-ttu-id="f26e2-117">Deze regels worden opgeslagen in Hallo **master** database.</span><span class="sxs-lookup"><span data-stu-id="f26e2-117">These rules are stored in hello **master** database.</span></span> <span data-ttu-id="f26e2-118">Firewallregels op serverniveau kunnen worden geconfigureerd met behulp van Hallo portal of met behulp van Transact-SQL-instructies.</span><span class="sxs-lookup"><span data-stu-id="f26e2-118">Server-level firewall rules can be configured by using hello portal or by using Transact-SQL statements.</span></span> <span data-ttu-id="f26e2-119">toocreate serverniveau firewallregels met hello Azure-portal of PowerShell, moet u de eigenaar van de Hallo-abonnement of een bijdrager abonnement.</span><span class="sxs-lookup"><span data-stu-id="f26e2-119">toocreate server-level firewall rules using hello Azure portal or PowerShell, you must be hello subscription owner or a subscription contributor.</span></span> <span data-ttu-id="f26e2-120">toocreate een firewallregel op serverniveau met Transact-SQL, moet u verbinding maken toohello SQL Database-exemplaar als Hallo principal-aanmelding op serverniveau of hello Azure Active Directory-beheerder (wat betekent dat er eerst een firewallregel op serverniveau moet worden gemaakt door een gebruiker met machtigingen op Azure-niveau).</span><span class="sxs-lookup"><span data-stu-id="f26e2-120">toocreate a server-level firewall rule using Transact-SQL, you must connect toohello SQL Database instance as hello server-level principal login or hello Azure Active Directory administrator (which means that a server-level firewall rule must first be created by a user with Azure-level permissions).</span></span>
* <span data-ttu-id="f26e2-121">**Databaseniveau firewallregels:** deze regels inschakelen clients tooaccess bepaalde (beveiligde) databases binnen Hallo dezelfde logische server.</span><span class="sxs-lookup"><span data-stu-id="f26e2-121">**Database-level firewall rules:** These rules enable clients tooaccess certain (secure) databases within hello same logical server.</span></span> <span data-ttu-id="f26e2-122">U kunt deze regels voor elke database maken (inclusief Hallo **master** database0) en ze worden opgeslagen in afzonderlijke databases Hallo.</span><span class="sxs-lookup"><span data-stu-id="f26e2-122">You can create these rules for each database (including hello **master** database0) and they are stored in hello individual databases.</span></span> <span data-ttu-id="f26e2-123">Firewallregel op databaseniveau regels kunnen alleen worden geconfigureerd met behulp van Transact-SQL-instructies en pas nadat u hebt geconfigureerd Hallo eerste niveau van de server-firewall.</span><span class="sxs-lookup"><span data-stu-id="f26e2-123">Database-level firewall rules can only be configured by using Transact-SQL statements and only after you have configured hello first server-level firewall.</span></span> <span data-ttu-id="f26e2-124">Als u een IP-adresbereik in Hallo firewallregel op databaseniveau regel die is opgegeven in de firewallregel op serverniveau Hallo buiten Hallo-bereik opgeeft, alleen de clients die hebben Hallo databaseniveau bereik met IP-adressen, hebben toegang tot Hallo-database.</span><span class="sxs-lookup"><span data-stu-id="f26e2-124">If you specify an IP address range in hello database-level firewall rule that is outside hello range specified in hello server-level firewall rule, only those clients that have IP addresses in hello database-level range can access hello database.</span></span> <span data-ttu-id="f26e2-125">U kunt voor een database maximaal 128 firewallregels op databaseniveau opgeven.</span><span class="sxs-lookup"><span data-stu-id="f26e2-125">You can have a maximum of 128 database-level firewall rules for a database.</span></span> <span data-ttu-id="f26e2-126">Databaseniveau firewallregels voor hoofd- en -databases kunnen alleen worden gemaakt en beheerd via de Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="f26e2-126">Database-level firewall rules for master and user databases can only be created and managed through Transact-SQL.</span></span> <span data-ttu-id="f26e2-127">Zie voor meer informatie over het configureren van de firewallregel op databaseniveau regels Hallo voorbeeld verderop in dit artikel en Zie [sp_set_database_firewall_rule (Azure SQL-Databases)](https://msdn.microsoft.com/library/dn270010.aspx).</span><span class="sxs-lookup"><span data-stu-id="f26e2-127">For more information on configuring database-level firewall rules, see hello example later in this article and see [sp_set_database_firewall_rule (Azure SQL Databases)](https://msdn.microsoft.com/library/dn270010.aspx).</span></span>

<span data-ttu-id="f26e2-128">**Aanbeveling:** Microsoft raadt het gebruik van de firewallregel op databaseniveau regels wanneer mogelijke tooenhance beveiligings- en toomake uw meer draagbare database.</span><span class="sxs-lookup"><span data-stu-id="f26e2-128">**Recommendation:** Microsoft recommends using database-level firewall rules whenever possible tooenhance security and toomake your database more portable.</span></span> <span data-ttu-id="f26e2-129">Gebruik firewallregels op serverniveau voor beheerders en wanneer er veel databases die Hallo hebben dezelfde vereisten voor toegang en u niet wilt dat toospend tijd elke database afzonderlijk configureren.</span><span class="sxs-lookup"><span data-stu-id="f26e2-129">Use server-level firewall rules for administrators and when you have many databases that have hello same access requirements and you don't want toospend time configuring each database individually.</span></span>

> [!Note]
> <span data-ttu-id="f26e2-130">Zie voor meer informatie over draagbare databases in de context van Hallo van zakelijke continuïteit [verificatievereisten voor herstel na noodgevallen](sql-database-geo-replication-security-config.md).</span><span class="sxs-lookup"><span data-stu-id="f26e2-130">For information about portable databases in hello context of business continuity, see [Authentication requirements for disaster recovery](sql-database-geo-replication-security-config.md).</span></span>
>

### <a name="connecting-from-hello-internet"></a><span data-ttu-id="f26e2-131">Verbinding maken vanaf Internet Hallo</span><span class="sxs-lookup"><span data-stu-id="f26e2-131">Connecting from hello Internet</span></span>

<span data-ttu-id="f26e2-132">Wanneer een computer tooconnect tooyour-databaseserver van Hallo Internet probeert, controleert Hallo firewall eerst Hallo IP-adres van de aanvraag met de Hallo firewallregel op databaseniveau regels voor Hallo-database die Hallo verbinding vraagt Hallo die afkomstig zijn:</span><span class="sxs-lookup"><span data-stu-id="f26e2-132">When a computer attempts tooconnect tooyour database server from hello Internet, hello firewall first checks hello originating IP address of hello request against hello database-level firewall rules, for hello database that hello connection is requesting:</span></span>

* <span data-ttu-id="f26e2-133">Als Hallo IP-adres van de aanvraag Hallo binnen één van de opgegeven in Hallo databaseniveau firewallregels Hallo-bereiken, krijgt Hallo verbinding toohello SQL-Database waarin Hallo-regel.</span><span class="sxs-lookup"><span data-stu-id="f26e2-133">If hello IP address of hello request is within one of hello ranges specified in hello database-level firewall rules, hello connection is granted toohello SQL Database that contains hello rule.</span></span>
* <span data-ttu-id="f26e2-134">Als Hallo IP-adres van de aanvraag Hallo zich niet binnen een opgegeven in de firewallregel op databaseniveau Hallo Hallo-bereiken, worden Hallo serverniveau firewall-regels gecontroleerd.</span><span class="sxs-lookup"><span data-stu-id="f26e2-134">If hello IP address of hello request is not within one of hello ranges specified in hello database-level firewall rule, hello server-level firewall rules are checked.</span></span> <span data-ttu-id="f26e2-135">Als Hallo IP-adres van de aanvraag Hallo binnen één van de opgegeven in het niveau van de server-firewallregels Hallo Hallo-bereiken, wordt Hallo verbinding verleend.</span><span class="sxs-lookup"><span data-stu-id="f26e2-135">If hello IP address of hello request is within one of hello ranges specified in hello server-level firewall rules, hello connection is granted.</span></span> <span data-ttu-id="f26e2-136">Firewallregels op serverniveau gelden tooall SQL-databases op Hallo Azure SQL-server.</span><span class="sxs-lookup"><span data-stu-id="f26e2-136">Server-level firewall rules apply tooall SQL databases on hello Azure SQL server.</span></span>  
* <span data-ttu-id="f26e2-137">Als Hallo IP-adres van de aanvraag Hallo valt niet binnen Hallo bereiken opgegeven in een Hallo databaseniveau of serverniveau firewallregels, Hallo-verbindingsaanvraag is mislukt.</span><span class="sxs-lookup"><span data-stu-id="f26e2-137">If hello IP address of hello request is not within hello ranges specified in any of hello database-level or server-level firewall rules, hello connection request fails.</span></span>

> [!NOTE]
> <span data-ttu-id="f26e2-138">tooaccess Azure SQL Database van de lokale computer, zorg ervoor dat het Hallo-firewall op uw netwerk en de lokale computer staat uitgaande communicatie op TCP-poort 1433.</span><span class="sxs-lookup"><span data-stu-id="f26e2-138">tooaccess Azure SQL Database from your local computer, ensure hello firewall on your network and local computer allows outgoing communication on TCP port 1433.</span></span>
> 

### <a name="connecting-from-azure"></a><span data-ttu-id="f26e2-139">Verbinding maken vanuit Azure</span><span class="sxs-lookup"><span data-stu-id="f26e2-139">Connecting from Azure</span></span>
<span data-ttu-id="f26e2-140">tooallow toepassingen vanuit Azure tooconnect tooyour Azure SQL-server, Azure-verbindingen moeten zijn ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="f26e2-140">tooallow applications from Azure tooconnect tooyour Azure SQL server, Azure connections must be enabled.</span></span> <span data-ttu-id="f26e2-141">Wanneer een toepassing van Azure tooconnect tooyour database-server probeert, controleert Hallo-firewall of dat de Azure-verbindingen zijn toegestaan.</span><span class="sxs-lookup"><span data-stu-id="f26e2-141">When an application from Azure attempts tooconnect tooyour database server, hello firewall verifies that Azure connections are allowed.</span></span> <span data-ttu-id="f26e2-142">Een firewall instellen met de begin- en einddatum adres gelijk too0.0.0.0 geeft aan dat deze verbindingen zijn toegestaan.</span><span class="sxs-lookup"><span data-stu-id="f26e2-142">A firewall setting with starting and ending address equal too0.0.0.0 indicates these connections are allowed.</span></span> <span data-ttu-id="f26e2-143">Als Hallo verbindingspoging niet is toegestaan, wordt in Hallo aanvraag hello Azure SQL Database-server niet bereiken.</span><span class="sxs-lookup"><span data-stu-id="f26e2-143">If hello connection attempt is not allowed, hello request does not reach hello Azure SQL Database server.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f26e2-144">Deze optie configureert Hallo firewall tooallow alle verbindingen van Azure, inclusief verbindingen van Hallo abonnementen van andere klanten.</span><span class="sxs-lookup"><span data-stu-id="f26e2-144">This option configures hello firewall tooallow all connections from Azure including connections from hello subscriptions of other customers.</span></span> <span data-ttu-id="f26e2-145">Geautoriseerde gebruikers wanneer deze optie, zorg ervoor dat uw aanmelding en gebruikersmachtigingen tooonly toegang beperken.</span><span class="sxs-lookup"><span data-stu-id="f26e2-145">When selecting this option, make sure your login and user permissions limit access tooonly authorized users.</span></span>
> 

## <a name="creating-and-managing-firewall-rules"></a><span data-ttu-id="f26e2-146">Maken en beheren van de firewall-regels</span><span class="sxs-lookup"><span data-stu-id="f26e2-146">Creating and managing firewall rules</span></span>
<span data-ttu-id="f26e2-147">Hallo eerste niveau van de server firewall-instellingen kan worden gemaakt met Hallo [Azure-portal](https://portal.azure.com/) of programmatisch met [Azure PowerShell](https://msdn.microsoft.com/library/azure/dn546724.aspx), [Azure CLI](/cli/azure/sql/server/firewall-rule#create), of Hallo [REST-API](https://msdn.microsoft.com/library/azure/dn505712.aspx).</span><span class="sxs-lookup"><span data-stu-id="f26e2-147">hello first server-level firewall setting can be created using hello [Azure portal](https://portal.azure.com/) or programmatically using [Azure PowerShell](https://msdn.microsoft.com/library/azure/dn546724.aspx), [Azure CLI](/cli/azure/sql/server/firewall-rule#create), or hello [REST API](https://msdn.microsoft.com/library/azure/dn505712.aspx).</span></span> <span data-ttu-id="f26e2-148">Volgende firewallregels op serverniveau kunt u maken en beheren met deze methoden en via Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="f26e2-148">Subsequent server-level firewall rules can be created and managed using these methods, and through Transact-SQL.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="f26e2-149">Firewallregel op databaseniveau regels kunnen alleen worden gemaakt en beheerd met behulp van Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="f26e2-149">Database-level firewall rules can only be created and managed using Transact-SQL.</span></span> 
>

<span data-ttu-id="f26e2-150">tooimprove prestaties, serverniveau firewall regels op databaseniveau Hallo tijdelijk worden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="f26e2-150">tooimprove performance, server-level firewall rules are temporarily cached at hello database level.</span></span> <span data-ttu-id="f26e2-151">toorefresh hello cache, Zie [DBCC FLUSHAUTHCACHE](https://msdn.microsoft.com/library/mt627793.aspx).</span><span class="sxs-lookup"><span data-stu-id="f26e2-151">toorefresh hello cache, see [DBCC FLUSHAUTHCACHE](https://msdn.microsoft.com/library/mt627793.aspx).</span></span> 

> [!TIP]
> <span data-ttu-id="f26e2-152">U kunt [SQL Database Auditing](sql-database-auditing.md) wijzigingen van de server- en databaseniveau firewall tooaudit.</span><span class="sxs-lookup"><span data-stu-id="f26e2-152">You can use [SQL Database Auditing](sql-database-auditing.md) tooaudit server-level and database-level firewall changes.</span></span>
>

### <a name="azure-portal"></a><span data-ttu-id="f26e2-153">Azure Portal</span><span class="sxs-lookup"><span data-stu-id="f26e2-153">Azure portal</span></span>

<span data-ttu-id="f26e2-154">tooset een firewallregel op serverniveau in hello Azure-portal, kunt u ofwel gaan toohello overzichtspagina voor uw Azure SQL database of Hallo overzichtspagina voor de logische server van uw Azure-Database.</span><span class="sxs-lookup"><span data-stu-id="f26e2-154">tooset a server-level firewall rule in hello Azure portal, you can either go toohello Overview page for your Azure SQL database or hello Overview page for your Azure Database logical server.</span></span>

> [!TIP]
> <span data-ttu-id="f26e2-155">Zie voor een zelfstudie [maken een database met behulp van Azure-portal Hallo](sql-database-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="f26e2-155">For a tutorial, see [Create a DB using hello Azure portal](sql-database-get-started-portal.md).</span></span>
>

<span data-ttu-id="f26e2-156">**Van de overzichtspagina van database**</span><span class="sxs-lookup"><span data-stu-id="f26e2-156">**From database overview page**</span></span>

1. <span data-ttu-id="f26e2-157">tooset een firewallregel op serverniveau van overzichtspagina Hallo-database, klikt u op **ingesteld serverfirewall** op Hallo werkbalk zoals weergegeven in Hallo volgende afbeelding: Hallo **Firewall-instellingen** pagina voor Hallo SQL Database-server wordt geopend.</span><span class="sxs-lookup"><span data-stu-id="f26e2-157">tooset a server-level firewall rule from hello database overview page, click **Set server firewall** on hello toolbar as shown in hello following image: hello **Firewall settings** page for hello SQL Database server opens.</span></span>

      ![serverfirewallregel](./media/sql-database-get-started-portal/server-firewall-rule.png) 

2. <span data-ttu-id="f26e2-159">Klik op **client-IP toevoegen** op Hallo werkbalk tooadd Hallo IP-adres van de computer Hallo u momenteel gebruikt en klik vervolgens op **opslaan**.</span><span class="sxs-lookup"><span data-stu-id="f26e2-159">Click **Add client IP** on hello toolbar tooadd hello IP address of hello computer you are currently using and then click **Save**.</span></span> <span data-ttu-id="f26e2-160">Er wordt een firewallregel op serverniveau gemaakt voor uw huidige IP-adres.</span><span class="sxs-lookup"><span data-stu-id="f26e2-160">A server-level firewall rule is created for your current IP address.</span></span>

      ![serverfirewallregel instellen](./media/sql-database-get-started-portal/server-firewall-rule-set.png) 

<span data-ttu-id="f26e2-162">**Van de overzichtspagina van server**</span><span class="sxs-lookup"><span data-stu-id="f26e2-162">**From server overview page**</span></span>

<span data-ttu-id="f26e2-163">Hallo overzichtspagina voor uw server wordt geopend, waarin u Hallo volledig gekwalificeerde servernaam (zoals **mynewserver20170403.database.windows.net**) en biedt opties voor verdere configuratie.</span><span class="sxs-lookup"><span data-stu-id="f26e2-163">hello overview page for your server opens, showing you hello fully qualified server name (such as **mynewserver20170403.database.windows.net**) and provides options for further configuration.</span></span>

1. <span data-ttu-id="f26e2-164">tooset een regel niveau van de server van de overzichtspagina van server, klikt u op **Firewall** in Hallo links menu onder instellingen zoals weergegeven zoals in Hallo installatiekopie te volgen:</span><span class="sxs-lookup"><span data-stu-id="f26e2-164">tooset a server-level rule from server overview page, click **Firewall** in hello left-hand menu under Settings as showed in hello following image:</span></span> 

     ![overzicht van de logische server](./media/sql-database-migrate-your-sql-server-database/logical-server-overview.png)

2. <span data-ttu-id="f26e2-166">Klik op **client-IP toevoegen** op Hallo werkbalk tooadd Hallo IP-adres van de computer Hallo u momenteel gebruikt en klik vervolgens op **opslaan**.</span><span class="sxs-lookup"><span data-stu-id="f26e2-166">Click **Add client IP** on hello toolbar tooadd hello IP address of hello computer you are currently using and then click **Save**.</span></span> <span data-ttu-id="f26e2-167">Er wordt een firewallregel op serverniveau gemaakt voor uw huidige IP-adres.</span><span class="sxs-lookup"><span data-stu-id="f26e2-167">A server-level firewall rule is created for your current IP address.</span></span>

     ![serverfirewallregel instellen](./media/sql-database-migrate-your-sql-server-database/server-firewall-rule-set.png)

### <a name="transact-sql"></a><span data-ttu-id="f26e2-169">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="f26e2-169">Transact-SQL</span></span>
| <span data-ttu-id="f26e2-170">Catalogusweergave of opgeslagen procedure</span><span class="sxs-lookup"><span data-stu-id="f26e2-170">Catalog View or Stored Procedure</span></span> | <span data-ttu-id="f26e2-171">Niveau</span><span class="sxs-lookup"><span data-stu-id="f26e2-171">Level</span></span> | <span data-ttu-id="f26e2-172">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="f26e2-172">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="f26e2-173">sys.firewall_rules</span><span class="sxs-lookup"><span data-stu-id="f26e2-173">sys.firewall_rules</span></span>](https://msdn.microsoft.com/library/dn269980.aspx) |<span data-ttu-id="f26e2-174">Server</span><span class="sxs-lookup"><span data-stu-id="f26e2-174">Server</span></span> |<span data-ttu-id="f26e2-175">Hallo huidige serverniveau firewall-regels worden weergegeven</span><span class="sxs-lookup"><span data-stu-id="f26e2-175">Displays hello current server-level firewall rules</span></span> |
| [<span data-ttu-id="f26e2-176">sp_set_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="f26e2-176">sp_set_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270017.aspx) |<span data-ttu-id="f26e2-177">Server</span><span class="sxs-lookup"><span data-stu-id="f26e2-177">Server</span></span> |<span data-ttu-id="f26e2-178">Hiermee worden de firewallregels op serverniveau gemaakt of bijgewerkt</span><span class="sxs-lookup"><span data-stu-id="f26e2-178">Creates or updates server-level firewall rules</span></span> |
| [<span data-ttu-id="f26e2-179">sp_delete_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="f26e2-179">sp_delete_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270024.aspx) |<span data-ttu-id="f26e2-180">Server</span><span class="sxs-lookup"><span data-stu-id="f26e2-180">Server</span></span> |<span data-ttu-id="f26e2-181">Verwijdert firewallregels op serverniveau</span><span class="sxs-lookup"><span data-stu-id="f26e2-181">Removes server-level firewall rules</span></span> |
| [<span data-ttu-id="f26e2-182">sys.database_firewall_rules</span><span class="sxs-lookup"><span data-stu-id="f26e2-182">sys.database_firewall_rules</span></span>](https://msdn.microsoft.com/library/dn269982.aspx) |<span data-ttu-id="f26e2-183">Database</span><span class="sxs-lookup"><span data-stu-id="f26e2-183">Database</span></span> |<span data-ttu-id="f26e2-184">Geeft het huidige firewallregel op databaseniveau regels Hallo</span><span class="sxs-lookup"><span data-stu-id="f26e2-184">Displays hello current database-level firewall rules</span></span> |
| [<span data-ttu-id="f26e2-185">sp_set_database_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="f26e2-185">sp_set_database_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270010.aspx) |<span data-ttu-id="f26e2-186">Database</span><span class="sxs-lookup"><span data-stu-id="f26e2-186">Database</span></span> |<span data-ttu-id="f26e2-187">Gemaakt of bijgewerkt Hallo databaseniveau firewall-regels</span><span class="sxs-lookup"><span data-stu-id="f26e2-187">Creates or updates hello database-level firewall rules</span></span> |
| [<span data-ttu-id="f26e2-188">sp_delete_database_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="f26e2-188">sp_delete_database_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270030.aspx) |<span data-ttu-id="f26e2-189">Databases</span><span class="sxs-lookup"><span data-stu-id="f26e2-189">Databases</span></span> |<span data-ttu-id="f26e2-190">Verwijdert firewallregels op databaseniveau</span><span class="sxs-lookup"><span data-stu-id="f26e2-190">Removes database-level firewall rules</span></span> |


<span data-ttu-id="f26e2-191">Hallo volgende voorbeelden Bekijk Hallo bestaande regels, een bereik met IP-adressen op Hallo server Contoso inschakelen en een firewallregel worden verwijderd:</span><span class="sxs-lookup"><span data-stu-id="f26e2-191">hello following examples review hello existing rules, enable a range of IP addresses on hello server Contoso, and deletes a firewall rule:</span></span>
   
```sql
SELECT * FROM sys.firewall_rules ORDER BY name;
```
  
<span data-ttu-id="f26e2-192">Voeg daarna een firewallregel toe.</span><span class="sxs-lookup"><span data-stu-id="f26e2-192">Next, add a firewall rule.</span></span>
   
```sql
EXECUTE sp_set_firewall_rule @name = N'ContosoFirewallRule',
   @start_ip_address = '192.168.1.1', @end_ip_address = '192.168.1.10'
```

<span data-ttu-id="f26e2-193">een firewallregel op serverniveau, toodelete hello sp_delete_firewall_rule opgeslagen procedure uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="f26e2-193">toodelete a server-level firewall rule, execute hello sp_delete_firewall_rule stored procedure.</span></span> <span data-ttu-id="f26e2-194">Hallo wordt volgende voorbeeld met de naam ContosoFirewallRule Hallo-regel:</span><span class="sxs-lookup"><span data-stu-id="f26e2-194">hello following example deletes hello rule named ContosoFirewallRule:</span></span>
   
```sql
EXECUTE sp_delete_firewall_rule @name = N'ContosoFirewallRule'
```   

### <a name="azure-powershell"></a><span data-ttu-id="f26e2-195">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="f26e2-195">Azure PowerShell</span></span>
| <span data-ttu-id="f26e2-196">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="f26e2-196">Cmdlet</span></span> | <span data-ttu-id="f26e2-197">Niveau</span><span class="sxs-lookup"><span data-stu-id="f26e2-197">Level</span></span> | <span data-ttu-id="f26e2-198">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="f26e2-198">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="f26e2-199">Get-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="f26e2-199">Get-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546731.aspx) |<span data-ttu-id="f26e2-200">Server</span><span class="sxs-lookup"><span data-stu-id="f26e2-200">Server</span></span> |<span data-ttu-id="f26e2-201">Retourneert de huidige serverniveau firewall-regels Hallo</span><span class="sxs-lookup"><span data-stu-id="f26e2-201">Returns hello current server-level firewall rules</span></span> |
| [<span data-ttu-id="f26e2-202">New-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="f26e2-202">New-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546724.aspx) |<span data-ttu-id="f26e2-203">Server</span><span class="sxs-lookup"><span data-stu-id="f26e2-203">Server</span></span> |<span data-ttu-id="f26e2-204">Maakt een nieuwe firewallregel op serverniveau</span><span class="sxs-lookup"><span data-stu-id="f26e2-204">Creates a new server-level firewall rule</span></span> |
| [<span data-ttu-id="f26e2-205">Set-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="f26e2-205">Set-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546739.aspx) |<span data-ttu-id="f26e2-206">Server</span><span class="sxs-lookup"><span data-stu-id="f26e2-206">Server</span></span> |<span data-ttu-id="f26e2-207">Updates Hallo eigenschappen van een bestaande firewallregel op serverniveau</span><span class="sxs-lookup"><span data-stu-id="f26e2-207">Updates hello properties of an existing server-level firewall rule</span></span> |
| [<span data-ttu-id="f26e2-208">Remove-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="f26e2-208">Remove-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546727.aspx) |<span data-ttu-id="f26e2-209">Server</span><span class="sxs-lookup"><span data-stu-id="f26e2-209">Server</span></span> |<span data-ttu-id="f26e2-210">Verwijdert firewallregels op serverniveau</span><span class="sxs-lookup"><span data-stu-id="f26e2-210">Removes server-level firewall rules</span></span> |


<span data-ttu-id="f26e2-211">Hallo volgende voorbeeld wordt een firewallregel op serverniveau met behulp van PowerShell:</span><span class="sxs-lookup"><span data-stu-id="f26e2-211">hello following example sets a server-level firewall rule using PowerShell:</span></span>

```powershell
New-AzureRmSqlServerFirewallRule -ResourceGroupName "myResourceGroup" `
    -ServerName $servername `
    -FirewallRuleName "AllowSome" -StartIpAddress "0.0.0.0" -EndIpAddress "0.0.0.0"
```

> [!TIP]
> <span data-ttu-id="f26e2-212">Zie voor PowerShell-voorbeelden in Hallo context van een snel starten, [maken DB - PowerShell](sql-database-get-started-powershell.md) en [een individuele database maken en configureren van een firewallregel met behulp van PowerShell](scripts/sql-database-create-and-configure-database-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="f26e2-212">For PowerShell examples in hello context of a quick start, see [Create DB - PowerShell](sql-database-get-started-powershell.md) and [Create a single database and configure a firewall rule using PowerShell](scripts/sql-database-create-and-configure-database-powershell.md)</span></span>
>

### <a name="azure-cli"></a><span data-ttu-id="f26e2-213">Azure CLI</span><span class="sxs-lookup"><span data-stu-id="f26e2-213">Azure CLI</span></span>
| <span data-ttu-id="f26e2-214">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="f26e2-214">Cmdlet</span></span> | <span data-ttu-id="f26e2-215">Niveau</span><span class="sxs-lookup"><span data-stu-id="f26e2-215">Level</span></span> | <span data-ttu-id="f26e2-216">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="f26e2-216">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="f26e2-217">sql server-firewall AZ maken</span><span class="sxs-lookup"><span data-stu-id="f26e2-217">az sql server firewall create</span></span>](/cli/azure/sql/server/firewall-rule#create) | <span data-ttu-id="f26e2-218">Maakt een firewall regel tooallow toegang tooall SQL-Databases op Hallo-server uit Hallo opgegeven IP-adresbereik.</span><span class="sxs-lookup"><span data-stu-id="f26e2-218">Creates a firewall rule tooallow access tooall SQL Databases on hello server from hello entered IP address range.</span></span>|
| [<span data-ttu-id="f26e2-219">AZ sql server firewall verwijderen</span><span class="sxs-lookup"><span data-stu-id="f26e2-219">az sql server firewall delete</span></span>](/cli/azure/sql/server/firewall-rule#delete)| <span data-ttu-id="f26e2-220">Hiermee verwijdert u een firewallregel.</span><span class="sxs-lookup"><span data-stu-id="f26e2-220">Deletes a firewall rule.</span></span>|
| [<span data-ttu-id="f26e2-221">lijst van AZ sql server-firewall</span><span class="sxs-lookup"><span data-stu-id="f26e2-221">az sql server firewall list</span></span>](/cli/azure/sql/server/firewall-rule#list)| <span data-ttu-id="f26e2-222">Geeft een lijst Hallo firewallregels.</span><span class="sxs-lookup"><span data-stu-id="f26e2-222">Lists hello firewall rules.</span></span>|
| [<span data-ttu-id="f26e2-223">AZ sql server-firewallregel weergeven</span><span class="sxs-lookup"><span data-stu-id="f26e2-223">az sql server firewall rule show</span></span>](/cli/azure/sql/server/firewall-rule#show)| <span data-ttu-id="f26e2-224">Hallo worden details weergegeven van een firewallregel.</span><span class="sxs-lookup"><span data-stu-id="f26e2-224">Shows hello details of a firewall rule.</span></span>|
| [<span data-ttu-id="f26e2-225">AX-update van sql server firewall-regel</span><span class="sxs-lookup"><span data-stu-id="f26e2-225">ax sql server firewall rule update</span></span>](/cli/azure/sql/server/firewall-rule#update)| <span data-ttu-id="f26e2-226">Een firewallregel bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="f26e2-226">Updates a firewall rule.</span></span>

<span data-ttu-id="f26e2-227">Hallo volgende voorbeeld wordt een firewallregel op serverniveau hello Azure CLI gebruiken:</span><span class="sxs-lookup"><span data-stu-id="f26e2-227">hello following example sets a server-level firewall rule using hello Azure CLI:</span></span> 

```azurecli-interactive
az sql server firewall-rule create --resource-group myResourceGroup --server $servername \
    -n AllowYourIp --start-ip-address 0.0.0.0 --end-ip-address 0.0.0.0
```

> [!TIP]
> <span data-ttu-id="f26e2-228">Zie voor een voorbeeld Azure CLI in Hallo context van een snel starten [maken DDB - Azure CLI](sql-database-get-started-cli.md) en [een individuele database maken en configureren van een firewallregel hello Azure CLI gebruiken](scripts/sql-database-create-and-configure-database-cli.md)</span><span class="sxs-lookup"><span data-stu-id="f26e2-228">For an Azure CLI example in hello context of a quick start, see [Create DDB - Azure CLI](sql-database-get-started-cli.md) and [Create a single database and configure a firewall rule using hello Azure CLI](scripts/sql-database-create-and-configure-database-cli.md)</span></span>
>

### <a name="rest-api"></a><span data-ttu-id="f26e2-229">REST API</span><span class="sxs-lookup"><span data-stu-id="f26e2-229">REST API</span></span>
| <span data-ttu-id="f26e2-230">API</span><span class="sxs-lookup"><span data-stu-id="f26e2-230">API</span></span> | <span data-ttu-id="f26e2-231">Niveau</span><span class="sxs-lookup"><span data-stu-id="f26e2-231">Level</span></span> | <span data-ttu-id="f26e2-232">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="f26e2-232">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f26e2-233">[List Firewall Rules](https://msdn.microsoft.com/library/azure/dn505715.aspx) (Lijst met firewallregels)</span><span class="sxs-lookup"><span data-stu-id="f26e2-233">[List Firewall Rules](https://msdn.microsoft.com/library/azure/dn505715.aspx)</span></span> |<span data-ttu-id="f26e2-234">Server</span><span class="sxs-lookup"><span data-stu-id="f26e2-234">Server</span></span> |<span data-ttu-id="f26e2-235">Hallo huidige serverniveau firewall-regels worden weergegeven</span><span class="sxs-lookup"><span data-stu-id="f26e2-235">Displays hello current server-level firewall rules</span></span> |
| <span data-ttu-id="f26e2-236">[Create Firewall Rule](https://msdn.microsoft.com/library/azure/dn505712.aspx) (Firewallregel maken)</span><span class="sxs-lookup"><span data-stu-id="f26e2-236">[Create Firewall Rule](https://msdn.microsoft.com/library/azure/dn505712.aspx)</span></span> |<span data-ttu-id="f26e2-237">Server</span><span class="sxs-lookup"><span data-stu-id="f26e2-237">Server</span></span> |<span data-ttu-id="f26e2-238">Hiermee worden de firewallregels op serverniveau gemaakt of bijgewerkt</span><span class="sxs-lookup"><span data-stu-id="f26e2-238">Creates or updates server-level firewall rules</span></span> |
| <span data-ttu-id="f26e2-239">[Set Firewall Rule](https://msdn.microsoft.com/library/azure/dn505707.aspx) (Firewallregel instellen)</span><span class="sxs-lookup"><span data-stu-id="f26e2-239">[Set Firewall Rule](https://msdn.microsoft.com/library/azure/dn505707.aspx)</span></span> |<span data-ttu-id="f26e2-240">Server</span><span class="sxs-lookup"><span data-stu-id="f26e2-240">Server</span></span> |<span data-ttu-id="f26e2-241">Updates Hallo eigenschappen van een bestaande firewallregel op serverniveau</span><span class="sxs-lookup"><span data-stu-id="f26e2-241">Updates hello properties of an existing server-level firewall rule</span></span> |
| <span data-ttu-id="f26e2-242">[Delete Firewall Rule](https://msdn.microsoft.com/library/azure/dn505706.aspx) (Firewallregel verwijderen)</span><span class="sxs-lookup"><span data-stu-id="f26e2-242">[Delete Firewall Rule](https://msdn.microsoft.com/library/azure/dn505706.aspx)</span></span> |<span data-ttu-id="f26e2-243">Server</span><span class="sxs-lookup"><span data-stu-id="f26e2-243">Server</span></span> |<span data-ttu-id="f26e2-244">Verwijdert firewallregels op serverniveau</span><span class="sxs-lookup"><span data-stu-id="f26e2-244">Removes server-level firewall rules</span></span> |

## <a name="server-level-firewall-rule-versus-a-database-level-firewall-rule"></a><span data-ttu-id="f26e2-245">Firewallregel op serverniveau ten opzichte van een firewallregel op databaseniveau</span><span class="sxs-lookup"><span data-stu-id="f26e2-245">Server-level firewall rule versus a database-level firewall rule</span></span>
<span data-ttu-id="f26e2-246">Q.</span><span class="sxs-lookup"><span data-stu-id="f26e2-246">Q.</span></span> <span data-ttu-id="f26e2-247">Gebruikers van één database worden volledig geïsoleerd van een andere database?</span><span class="sxs-lookup"><span data-stu-id="f26e2-247">Should users of one database be fully isolated from another database?</span></span>   
  <span data-ttu-id="f26e2-248">Zo ja, verlenen toegang met behulp van de firewallregel op databaseniveau regels.</span><span class="sxs-lookup"><span data-stu-id="f26e2-248">If yes, grant access using database-level firewall rules.</span></span> <span data-ttu-id="f26e2-249">Zo voorkomt u met behulp van serverniveau firewallregels, die toegang via de firewall Hallo tooall databases verlenen, Hallo diepte van de beveiliging te verminderen.</span><span class="sxs-lookup"><span data-stu-id="f26e2-249">This avoids using server-level firewall rules, which permit access through hello firewall tooall databases, reducing hello depth of your defenses.</span></span>   
 
<span data-ttu-id="f26e2-250">Q.</span><span class="sxs-lookup"><span data-stu-id="f26e2-250">Q.</span></span> <span data-ttu-id="f26e2-251">Hebben gebruikers op Hallo IP-adres moet toegang tot tooall databases?</span><span class="sxs-lookup"><span data-stu-id="f26e2-251">Do users at hello IP address’s need access tooall databases?</span></span>   
  <span data-ttu-id="f26e2-252">Gebruik serverniveau firewall-regels tooreduce Hallo hoe vaak die moet u firewallregels configureren.</span><span class="sxs-lookup"><span data-stu-id="f26e2-252">Use server-level firewall rules tooreduce hello number of times you must configure firewall rules.</span></span>   

<span data-ttu-id="f26e2-253">Q.</span><span class="sxs-lookup"><span data-stu-id="f26e2-253">Q.</span></span> <span data-ttu-id="f26e2-254">Toegang via hello Azure-portal, PowerShell of REST-API Hallo hebben Hallo persoon die of het team alleen Hallo firewallregels configureren?</span><span class="sxs-lookup"><span data-stu-id="f26e2-254">Does hello person or team configuring hello firewall rules only have access through hello Azure portal, PowerShell, or hello REST API?</span></span>   
  <span data-ttu-id="f26e2-255">Hebt u firewallregels op serverniveau.</span><span class="sxs-lookup"><span data-stu-id="f26e2-255">You must use server-level firewall rules.</span></span> <span data-ttu-id="f26e2-256">Firewallregels databaseniveau kunnen alleen worden geconfigureerd met behulp van Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="f26e2-256">Database-level firewall rules can only be configured using Transact-SQL.</span></span>  

<span data-ttu-id="f26e2-257">Q.</span><span class="sxs-lookup"><span data-stu-id="f26e2-257">Q.</span></span> <span data-ttu-id="f26e2-258">Hallo persoon die of het team Hallo firewallregels configureren verboden in dat de geavanceerde machtiging op databaseniveau Hallo?</span><span class="sxs-lookup"><span data-stu-id="f26e2-258">Is hello person or team configuring hello firewall rules prohibited from having high-level permission at hello database level?</span></span>   
  <span data-ttu-id="f26e2-259">Gebruik de firewallregels op serverniveau.</span><span class="sxs-lookup"><span data-stu-id="f26e2-259">Use server-level firewall rules.</span></span> <span data-ttu-id="f26e2-260">Configureren van de firewallregel op databaseniveau regels met Transact-SQL vereist ten minste `CONTROL DATABASE` op databaseniveau Hallo toestemming.</span><span class="sxs-lookup"><span data-stu-id="f26e2-260">Configuring database-level firewall rules using Transact-SQL, requires at least `CONTROL DATABASE` permission at hello database level.</span></span>  

<span data-ttu-id="f26e2-261">Q.</span><span class="sxs-lookup"><span data-stu-id="f26e2-261">Q.</span></span> <span data-ttu-id="f26e2-262">Hallo persoon die of het team configureren of Hallo firewallregels, controle is centraal beheren van de firewallregels voor veel (bijvoorbeeld 100) van databases?</span><span class="sxs-lookup"><span data-stu-id="f26e2-262">Is hello person or team configuring or auditing hello firewall rules, centrally managing firewall rules for many (perhaps 100s) of databases?</span></span>   
  <span data-ttu-id="f26e2-263">Deze selectie zijn afhankelijk van uw behoeften en omgeving.</span><span class="sxs-lookup"><span data-stu-id="f26e2-263">This selection depends upon your needs and environment.</span></span> <span data-ttu-id="f26e2-264">Firewallregels op serverniveau misschien gemakkelijker tooconfigure maar regels op Hallo databaseniveau scripting kunt configureren.</span><span class="sxs-lookup"><span data-stu-id="f26e2-264">Server-level firewall rules might be easier tooconfigure, but scripting can configure rules at hello database-level.</span></span> <span data-ttu-id="f26e2-265">En zelfs als u firewallregels op serverniveau gebruikt, moet u mogelijk tooaudit Hallo database-firewallregels, toosee als gebruikers met `CONTROL` machtiging op Hallo database firewallregel op databaseniveau regels hebt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="f26e2-265">And even if you use server-level firewall rules, you might need tooaudit hello database-firewall rules, toosee if users with `CONTROL` permission on hello database have created database-level firewall rules.</span></span>   

<span data-ttu-id="f26e2-266">Q.</span><span class="sxs-lookup"><span data-stu-id="f26e2-266">Q.</span></span> <span data-ttu-id="f26e2-267">Kan ik een combinatie van beide firewallregels voor server- en databaseniveau gebruiken?</span><span class="sxs-lookup"><span data-stu-id="f26e2-267">Can I use a mix of both server-level and database-level firewall rules?</span></span>   
  <span data-ttu-id="f26e2-268">Ja.</span><span class="sxs-lookup"><span data-stu-id="f26e2-268">Yes.</span></span> <span data-ttu-id="f26e2-269">Sommige gebruikers, zoals beheerders mogelijk firewallregels op serverniveau.</span><span class="sxs-lookup"><span data-stu-id="f26e2-269">Some users, such as administrators might need server-level firewall rules.</span></span> <span data-ttu-id="f26e2-270">Andere gebruikers, zoals gebruikers van een databasetoepassing mogelijk databaseniveau firewallregels.</span><span class="sxs-lookup"><span data-stu-id="f26e2-270">Other users, such as users of a database application, might need database-level firewall rules.</span></span>   

## <a name="troubleshooting-hello-database-firewall"></a><span data-ttu-id="f26e2-271">Hallo-databasefirewall probleemoplossing</span><span class="sxs-lookup"><span data-stu-id="f26e2-271">Troubleshooting hello database firewall</span></span>
<span data-ttu-id="f26e2-272">Overweeg de volgende punten wanneer toegang toohello Microsoft Azure SQL Database-service niet meer werkt zoals verwacht Hallo:</span><span class="sxs-lookup"><span data-stu-id="f26e2-272">Consider hello following points when access toohello Microsoft Azure SQL Database service does not behave as you expect:</span></span>

* <span data-ttu-id="f26e2-273">**Configuratie van de lokale firewall:** voordat de computer toegang heeft tot Azure SQL Database, moet u mogelijk toocreate een firewall-uitzondering op uw computer voor TCP-poort 1433.</span><span class="sxs-lookup"><span data-stu-id="f26e2-273">**Local firewall configuration:** Before your computer can access Azure SQL Database, you may need toocreate a firewall exception on your computer for TCP port 1433.</span></span> <span data-ttu-id="f26e2-274">Als u verbindingen binnen een grens van hello Azure-cloud maken, hebt u mogelijk tooopen extra poorten.</span><span class="sxs-lookup"><span data-stu-id="f26e2-274">If you are making connections inside hello Azure cloud boundary, you may have tooopen additional ports.</span></span> <span data-ttu-id="f26e2-275">Zie voor meer informatie, Hallo **SQL-Database: buiten tegenover binnen** sectie van [poorten buiten 1433 voor ADO.NET 4.5 en SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md).</span><span class="sxs-lookup"><span data-stu-id="f26e2-275">For more information, see hello **SQL Database: Outside vs inside** section of [Ports beyond 1433 for ADO.NET 4.5 and SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md).</span></span>
* <span data-ttu-id="f26e2-276">**Netwerkadresomzetting (NAT):** vervaldatum tooNAT, Hallo IP-adres van uw computer tooconnect tooAzure SQL-Database is mogelijk anders dan Hallo IP-adres wordt weergegeven in uw computer IP-configuratie-instellingen.</span><span class="sxs-lookup"><span data-stu-id="f26e2-276">**Network address translation (NAT):** Due tooNAT, hello IP address used by your computer tooconnect tooAzure SQL Database may be different than hello IP address shown in your computer IP configuration settings.</span></span> <span data-ttu-id="f26e2-277">tooview hello IP-adres de computer is met behulp van tooconnect tooAzure toohello portal aanmelden en navigeer toohello **configureren** tabblad op Hallo-server die als host fungeert voor uw database.</span><span class="sxs-lookup"><span data-stu-id="f26e2-277">tooview hello IP address your computer is using tooconnect tooAzure, log in toohello portal and navigate toohello **Configure** tab on hello server that hosts your database.</span></span> <span data-ttu-id="f26e2-278">Onder Hallo **IP-adressen toegestaan** sectie hello **huidige IP-adres van de Client** wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="f26e2-278">Under hello **Allowed IP Addresses** section, hello **Current Client IP Address** is displayed.</span></span> <span data-ttu-id="f26e2-279">Klik op **toevoegen** toohello **IP-adressen toegestaan** tooallow deze computer tooaccess Hallo-server.</span><span class="sxs-lookup"><span data-stu-id="f26e2-279">Click **Add** toohello **Allowed IP Addresses** tooallow this computer tooaccess hello server.</span></span>
* <span data-ttu-id="f26e2-280">**Acceptatielijst toohello wijzigingen zijn niet van kracht:** kunnen er maar liefst vijf minuten uitstellen wordt toohello Azure SQL Database firewall configuratie tootake effect gewijzigd.</span><span class="sxs-lookup"><span data-stu-id="f26e2-280">**Changes toohello allow list have not taken effect yet:** There may be as much as a five-minute delay for changes toohello Azure SQL Database firewall configuration tootake effect.</span></span>
* <span data-ttu-id="f26e2-281">**Hallo-aanmelding is niet gemachtigd of een onjuist wachtwoord is gebruikt:** als een aanmelding heeft geen machtigingen voor hello Azure SQL Database-server of Hallo wachtwoord onjuist is, Hallo verbinding toohello Azure SQL Database-server is geweigerd.</span><span class="sxs-lookup"><span data-stu-id="f26e2-281">**hello login is not authorized or an incorrect password was used:** If a login does not have permissions on hello Azure SQL Database server or hello password used is incorrect, hello connection toohello Azure SQL Database server is denied.</span></span> <span data-ttu-id="f26e2-282">Maken van een firewallinstelling biedt alleen clients met een kans tooattempt verbinding tooyour server; elke client moet Hallo noodzakelijke beveiligingsreferenties opgeven.</span><span class="sxs-lookup"><span data-stu-id="f26e2-282">Creating a firewall setting only provides clients with an opportunity tooattempt connecting tooyour server; each client must provide hello necessary security credentials.</span></span> <span data-ttu-id="f26e2-283">Zie Databases, aanmeldingen en gebruikers beheren in Azure SQL Database, voor meer informatie over het voorbereiden van aanmeldingen.</span><span class="sxs-lookup"><span data-stu-id="f26e2-283">For more information about preparing logins, see Managing Databases, Logins, and Users in Azure SQL Database.</span></span>
* <span data-ttu-id="f26e2-284">**Dynamische IP-adres:** als u een internetverbinding met dynamische IP-adressering hebt en u problemen ondervindt bij het ophalen via de firewall Hallo, kunt u een van de volgende oplossingen Hallo kan proberen:</span><span class="sxs-lookup"><span data-stu-id="f26e2-284">**Dynamic IP address:** If you have an Internet connection with dynamic IP addressing and you are having trouble getting through hello firewall, you could try one of hello following solutions:</span></span>
  
  * <span data-ttu-id="f26e2-285">Vraag uw Internetproviderverbindingen (ISP) voor Hallo IP-adresbereik toegewezen tooyour clientcomputers die toegang hello Azure SQL Database-server en vervolgens Hallo IP-adresbereik toevoegen als een firewallregel.</span><span class="sxs-lookup"><span data-stu-id="f26e2-285">Ask your Internet Service Provider (ISP) for hello IP address range assigned tooyour client computers that access hello Azure SQL Database server, and then add hello IP address range as a firewall rule.</span></span>
  * <span data-ttu-id="f26e2-286">Statische IP-adressen in plaats daarvan voor uw clientcomputers ophalen en voeg vervolgens Hallo IP-adressen als firewallregels.</span><span class="sxs-lookup"><span data-stu-id="f26e2-286">Get static IP addressing instead for your client computers, and then add hello IP addresses as firewall rules.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f26e2-287">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="f26e2-287">Next steps</span></span>

- <span data-ttu-id="f26e2-288">Zie voor een snel starten over het maken van een database en een firewallregel op serverniveau [maken van een Azure SQL database](sql-database-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="f26e2-288">For a quick start on creating a database and a server-level firewall rule, see [Create an Azure SQL database](sql-database-get-started-portal.md).</span></span>
- <span data-ttu-id="f26e2-289">Zie voor hulp bij het maken van verbinding tooan Azure SQL-database van open-source of toepassingen van derden, [snel starten-clientcode voorbeelden tooSQL Database](https://msdn.microsoft.com/library/azure/ee336282.aspx).</span><span class="sxs-lookup"><span data-stu-id="f26e2-289">For help in connecting tooan Azure SQL database from open source or third-party applications, see [Client quick-start code samples tooSQL Database](https://msdn.microsoft.com/library/azure/ee336282.aspx).</span></span>
- <span data-ttu-id="f26e2-290">Zie voor informatie over extra poorten mogelijk moet u tooopen Hallo **SQL-Database: buiten tegenover binnen** sectie van [poorten buiten 1433 voor ADO.NET 4.5 en SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md)</span><span class="sxs-lookup"><span data-stu-id="f26e2-290">For information on additional ports that you may need tooopen, see hello **SQL Database: Outside vs inside** section of [Ports beyond 1433 for ADO.NET 4.5 and SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md)</span></span>
- <span data-ttu-id="f26e2-291">Zie voor een overzicht van Azure SQL Database-beveiliging [beveiliging van uw database](sql-database-security-overview.md)</span><span class="sxs-lookup"><span data-stu-id="f26e2-291">For an overview of Azure SQL Database security, see [Securing your database](sql-database-security-overview.md)</span></span>

<!--Image references-->
[1]: ./media/sql-database-firewall-configure/sqldb-firewall-1.png
