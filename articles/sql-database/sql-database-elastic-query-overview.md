---
title: overzicht van de elastische query aaaAzure SQL Database | Microsoft Docs
description: Overzicht van Hallo elastische query functie
services: sql-database
documentationcenter: 
manager: jhubbard
author: MladjoA
ms.assetid: a8bf0e2c-bc74-44d0-9b1e-bcc9a6aa2e33
ms.service: sql-database
ms.custom: scale out apps
ms.workload: sql-database
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/27/2016
ms.author: mlandzic
ms.openlocfilehash: db17f551882cfcae0da67fdda12708baeb6db81c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-sql-database-elastic-query-overview-preview"></a><span data-ttu-id="0ad34-103">Overzicht Azure SQL Database elastische query (preview)</span><span class="sxs-lookup"><span data-stu-id="0ad34-103">Azure SQL Database elastic query overview (preview)</span></span>
<span data-ttu-id="0ad34-104">Hallo elastische query-functie (in preview) kunt u toorun een verspreid over meerdere databases in Azure SQL Database Transact-SQL-query.</span><span class="sxs-lookup"><span data-stu-id="0ad34-104">hello elastic query feature (in preview) enables you toorun a Transact-SQL query that spans multiple databases in Azure SQL Database.</span></span> <span data-ttu-id="0ad34-105">Hiermee kunt u tooperform cross-databasequery's tooaccess externe tabellen en tooconnect Microsoft en derden hulpprogramma's (Excel, Power BI, Tableau, enz.) tooquery over gegevenslagen met meerdere databases.</span><span class="sxs-lookup"><span data-stu-id="0ad34-105">It allows you tooperform cross-database queries tooaccess remote tables, and tooconnect Microsoft and third party tools (Excel, PowerBI, Tableau, etc.) tooquery across data tiers with multiple databases.</span></span> <span data-ttu-id="0ad34-106">Met deze functie kunt u query's toolarge gegevenslagen in SQL-Database uitbreiden en visualiseren Hallo resultaten in business intelligence (BI)-rapporten.</span><span class="sxs-lookup"><span data-stu-id="0ad34-106">Using this feature, you can scale out queries toolarge data tiers in SQL Database and visualize hello results in business intelligence (BI) reports.</span></span>


## <a name="why-use-elastic-queries"></a><span data-ttu-id="0ad34-107">Waarom elastische query's gebruiken?</span><span class="sxs-lookup"><span data-stu-id="0ad34-107">Why use elastic queries?</span></span>

<span data-ttu-id="0ad34-108">**Azure SQL Database**</span><span class="sxs-lookup"><span data-stu-id="0ad34-108">**Azure SQL Database**</span></span>

<span data-ttu-id="0ad34-109">Vragen over Azure SQL-databases volledig in T-SQL.</span><span class="sxs-lookup"><span data-stu-id="0ad34-109">Query across Azure SQL databases completely in T-SQL.</span></span> <span data-ttu-id="0ad34-110">Hierdoor kan alleen-lezen query's naar externe databases.</span><span class="sxs-lookup"><span data-stu-id="0ad34-110">This allows for read-only querying of remote databases.</span></span> <span data-ttu-id="0ad34-111">Dit biedt een optie voor het huidige on-premises SQL Server toomigrate-toepassingen voor klanten met drie en vierkleuren part namen of gekoppelde server tooSQL DB.</span><span class="sxs-lookup"><span data-stu-id="0ad34-111">This provides an option for current on-premises SQL Server customers toomigrate applications using three- and four-part names or linked server tooSQL DB.</span></span>

<span data-ttu-id="0ad34-112">**Beschikbaar in standard-laag**</span><span class="sxs-lookup"><span data-stu-id="0ad34-112">**Available on standard tier**</span></span>

<span data-ttu-id="0ad34-113">Elastische query wordt ondersteund op Hallo standaard prestatielaag in toevoeging toohello Premium prestatielaag.</span><span class="sxs-lookup"><span data-stu-id="0ad34-113">Elastic query is supported on hello Standard performance tier in addition toohello Premium performance tier.</span></span> <span data-ttu-id="0ad34-114">Zie Hallo sectie over Preview beperkingen hieronder op prestaties beperkingen voor lagere prestatielagen.</span><span class="sxs-lookup"><span data-stu-id="0ad34-114">See hello section on Preview Limitations below on performance limitations for lower performance tiers.</span></span>

<span data-ttu-id="0ad34-115">**Push tooremote databases**</span><span class="sxs-lookup"><span data-stu-id="0ad34-115">**Push tooremote databases**</span></span>

<span data-ttu-id="0ad34-116">Elastische query's kunnen nu toohello externe databases van SQL-parameters voor de uitvoering van push.</span><span class="sxs-lookup"><span data-stu-id="0ad34-116">Elastic queries can now push SQL parameters toohello remote databases for execution.</span></span>

<span data-ttu-id="0ad34-117">**Opgeslagen procedure kan worden uitgevoerd**</span><span class="sxs-lookup"><span data-stu-id="0ad34-117">**Stored procedure execution**</span></span>

<span data-ttu-id="0ad34-118">Uitvoeren van extern opgeslagen procedureaanroepen of externe functies met [sp\_uitvoeren \_externe](https://msdn.microsoft.com/library/mt703714).</span><span class="sxs-lookup"><span data-stu-id="0ad34-118">Execute remote stored procedure calls or remote functions using [sp\_execute \_remote](https://msdn.microsoft.com/library/mt703714).</span></span>

<span data-ttu-id="0ad34-119">**Flexibiliteit**</span><span class="sxs-lookup"><span data-stu-id="0ad34-119">**Flexibility**</span></span>

<span data-ttu-id="0ad34-120">Externe tabellen met elastische query kunnen nu tooremote tabellen met een ander schema of de tabelnaam verwijzen.</span><span class="sxs-lookup"><span data-stu-id="0ad34-120">External tables with elastic query can now refer tooremote tables with a different schema or table name.</span></span>

## <a name="elastic-query-scenarios"></a><span data-ttu-id="0ad34-121">Elastische query scenario 's</span><span class="sxs-lookup"><span data-stu-id="0ad34-121">Elastic query scenarios</span></span>

<span data-ttu-id="0ad34-122">Hallo-doel is toofacilitate scenario's waarbij meerdere databases rijen in een enkel algehele resultaat bijdragen opvragen.</span><span class="sxs-lookup"><span data-stu-id="0ad34-122">hello goal is toofacilitate querying scenarios where multiple databases contribute rows into a single overall result.</span></span> <span data-ttu-id="0ad34-123">Hallo query kan ofwel worden samengesteld door Hallo gebruiker of toepassing rechtstreeks of indirect via hulpprogramma's die verbonden toohello database zijn.</span><span class="sxs-lookup"><span data-stu-id="0ad34-123">hello query can either be composed by hello user or application directly, or indirectly through tools that are connected toohello database.</span></span> <span data-ttu-id="0ad34-124">Dit is vooral nuttig bij het maken van rapporten met commerciële BI of gegevens integratie-hulpprogramma's, of een toepassing die niet kan worden gewijzigd.</span><span class="sxs-lookup"><span data-stu-id="0ad34-124">This is especially useful when creating reports, using commercial BI or data integration tools—or any application that cannot be changed.</span></span> <span data-ttu-id="0ad34-125">U kunt met een elastische query opvragen via verschillende databases met Hallo vertrouwde SQL Server-connectiviteit ervaring in hulpprogramma's zoals Excel, Power BI, Tableau of Hiermee.</span><span class="sxs-lookup"><span data-stu-id="0ad34-125">With an elastic query, you can query across several databases using hello familiar SQL Server connectivity experience in tools such as Excel, PowerBI, Tableau, or Cognos.</span></span>
<span data-ttu-id="0ad34-126">Een elastische query kunt eenvoudig toegang tooan hele verzameling-databases via query's die zijn uitgegeven door SQL Server Management Studio of Visual Studio en vereenvoudigt tussen meerdere databases opvragen van Entity Framework of andere ORM-omgevingen.</span><span class="sxs-lookup"><span data-stu-id="0ad34-126">An elastic query allows easy access tooan entire collection of databases through queries issued by SQL Server Management Studio or Visual Studio, and facilitates cross-database querying from Entity Framework or other ORM environments.</span></span> <span data-ttu-id="0ad34-127">Afbeelding 1 toont een scenario waarbij een bestaande cloud toepassing (waarin Hallo [clientbibliotheek voor elastische database](sql-database-elastic-database-client-library.md)) bouwt voort op de gegevens van een uitgebreide laag en een elastische query wordt gebruikt voor het melden van meerdere databases.</span><span class="sxs-lookup"><span data-stu-id="0ad34-127">Figure 1 shows a scenario where an existing cloud application (which uses hello [elastic database client library](sql-database-elastic-database-client-library.md)) builds on a scaled-out data tier, and an elastic query is used for cross-database reporting.</span></span>

<span data-ttu-id="0ad34-128">**Afbeelding 1** elastische query gebruikt op de uitgebreide gegevenslaag</span><span class="sxs-lookup"><span data-stu-id="0ad34-128">**Figure 1** Elastic query used on scaled-out data tier</span></span>

![Elastische query gebruikt op de uitgebreide gegevenslaag][1]

<span data-ttu-id="0ad34-130">Klant-scenario's voor de elastische query worden gekenmerkt door Hallo topologieën te volgen:</span><span class="sxs-lookup"><span data-stu-id="0ad34-130">Customer scenarios for elastic query are characterized by hello following topologies:</span></span>

* <span data-ttu-id="0ad34-131">**Verticale partities - query's voor meerdere databases** (topologie 1): Hallo gegevens verticaal is gepartitioneerd tussen een aantal databases in een gegevenslaag.</span><span class="sxs-lookup"><span data-stu-id="0ad34-131">**Vertical partitioning - Cross-database queries** (Topology 1): hello data is partitioned vertically between a number of databases in a data tier.</span></span> <span data-ttu-id="0ad34-132">Normaal gesproken zich verschillende sets van tabellen op verschillende databases.</span><span class="sxs-lookup"><span data-stu-id="0ad34-132">Typically, different sets of tables reside on different databases.</span></span> <span data-ttu-id="0ad34-133">Dat betekent dat Hallo-schema verschilt van andere databases.</span><span class="sxs-lookup"><span data-stu-id="0ad34-133">That means that hello schema is different on different databases.</span></span> <span data-ttu-id="0ad34-134">Alle tabellen voor inventarisatie zijn bijvoorbeeld op de ene database terwijl alle accounting-gerelateerde tabellen op een tweede database zijn.</span><span class="sxs-lookup"><span data-stu-id="0ad34-134">For instance, all tables for inventory are on one database while all accounting-related tables are on a second database.</span></span> <span data-ttu-id="0ad34-135">Algemene gebruiksvoorbeelden met deze topologie vereisen een tooquery via of toocompile rapporten tussen tabellen in verschillende databases.</span><span class="sxs-lookup"><span data-stu-id="0ad34-135">Common use cases with this topology require one tooquery across or toocompile reports across tables in several databases.</span></span>
* <span data-ttu-id="0ad34-136">**Horizontale partitionering - Sharding** (topologie 2): de gegevens zijn gepartitioneerd horizontaal toodistribute rijen in een uitgebreid uit gegevens laag.</span><span class="sxs-lookup"><span data-stu-id="0ad34-136">**Horizontal Partitioning - Sharding** (Topology 2): Data is partitioned horizontally toodistribute rows across a scaled out data tier.</span></span> <span data-ttu-id="0ad34-137">Met deze methode is Hallo schema identiek zijn op alle deelnemende databases.</span><span class="sxs-lookup"><span data-stu-id="0ad34-137">With this approach, hello schema is identical on all participating databases.</span></span> <span data-ttu-id="0ad34-138">Deze aanpak wordt ook 'sharding' genoemd.</span><span class="sxs-lookup"><span data-stu-id="0ad34-138">This approach is also called “sharding”.</span></span> <span data-ttu-id="0ad34-139">Sharding kan worden uitgevoerd en beheerd via (1) Hallo elastische database extra bibliotheken of (2) self-sharding.</span><span class="sxs-lookup"><span data-stu-id="0ad34-139">Sharding can be performed and managed using (1) hello elastic database tools libraries or (2) self-sharding.</span></span> <span data-ttu-id="0ad34-140">Een elastische query is gebruikt tooquery of compileren rapporten over veel shards.</span><span class="sxs-lookup"><span data-stu-id="0ad34-140">An elastic query is used tooquery or compile reports across many shards.</span></span>

> [!NOTE]
> <span data-ttu-id="0ad34-141">Elastische query werkt het beste voor incidentele reporting scenario's waar de meeste Hallo verwerking kan worden uitgevoerd op Hallo gegevenslaag.</span><span class="sxs-lookup"><span data-stu-id="0ad34-141">Elastic query works best for occasional reporting scenarios where most of hello processing can be performed on hello data tier.</span></span> <span data-ttu-id="0ad34-142">Voor zware reporting werklasten of datawarehousescenario's met meer complexe query's ook overwegen [Azure SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/).</span><span class="sxs-lookup"><span data-stu-id="0ad34-142">For heavy reporting workloads or data warehousing scenarios with more complex queries, also consider using [Azure SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/).</span></span>
>  

## <a name="vertical-partitioning---cross-database-queries"></a><span data-ttu-id="0ad34-143">Verticale partities - query's met meerdere databases</span><span class="sxs-lookup"><span data-stu-id="0ad34-143">Vertical partitioning - cross-database queries</span></span>

<span data-ttu-id="0ad34-144">toobegin coderen, Zie [aan de slag met cross-databasequery (verticale partities)](sql-database-elastic-query-getting-started-vertical.md).</span><span class="sxs-lookup"><span data-stu-id="0ad34-144">toobegin coding, see [Getting started with cross-database query (vertical partitioning)](sql-database-elastic-query-getting-started-vertical.md).</span></span>

<span data-ttu-id="0ad34-145">Een elastische query kan worden gebruikt toomake gegevens in een SQL-database beschikbaar tooother SQL-databases.</span><span class="sxs-lookup"><span data-stu-id="0ad34-145">An elastic query can be used toomake data located in a SQL database available tooother SQL databases.</span></span> <span data-ttu-id="0ad34-146">Hierdoor kunnen query's van één database toorefer tootables in een andere externe SQL-database.</span><span class="sxs-lookup"><span data-stu-id="0ad34-146">This allows queries from one database toorefer tootables in any other remote SQL database.</span></span> <span data-ttu-id="0ad34-147">de eerste stap Hallo is toodefine een externe gegevensbron voor elke externe database.</span><span class="sxs-lookup"><span data-stu-id="0ad34-147">hello first step is toodefine an external data source for each remote database.</span></span> <span data-ttu-id="0ad34-148">Hallo externe gegevensbron is gedefinieerd in de lokale database Hallo van waaruit u toogain toegang tootables zich op de externe database hello wilt.</span><span class="sxs-lookup"><span data-stu-id="0ad34-148">hello external data source is defined in hello local database from which you want toogain access tootables located on hello remote database.</span></span> <span data-ttu-id="0ad34-149">Er zijn geen wijzigingen nodig op Hallo externe database.</span><span class="sxs-lookup"><span data-stu-id="0ad34-149">No changes are necessary on hello remote database.</span></span> <span data-ttu-id="0ad34-150">Voor typische verticale partities scenario's waarbij verschillende databases verschillende schema's, elastische query's worden gebruikt tooimplement algemene gebruiksvoorbeelden zoals toegang tot tooreference gegevens en uitvoeren van query's voor meerdere databases.</span><span class="sxs-lookup"><span data-stu-id="0ad34-150">For typical vertical partitioning scenarios where different databases have different schemas, elastic queries can be used tooimplement common use cases such as access tooreference data and cross-database querying.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0ad34-151">U moet beschikken over een externe gegevensbron ALTER machtiging.</span><span class="sxs-lookup"><span data-stu-id="0ad34-151">You must possess ALTER ANY EXTERNAL DATA SOURCE permission.</span></span> <span data-ttu-id="0ad34-152">Deze machtiging is opgenomen in de machtiging ALTER DATABASE Hallo.</span><span class="sxs-lookup"><span data-stu-id="0ad34-152">This permission is included with hello ALTER DATABASE permission.</span></span> <span data-ttu-id="0ad34-153">EEN externe gegevensbron ALTER machtigingen zijn vereist toorefer toohello onderliggende gegevensbron.</span><span class="sxs-lookup"><span data-stu-id="0ad34-153">ALTER ANY EXTERNAL DATA SOURCE permissions are needed toorefer toohello underlying data source.</span></span>
>

<span data-ttu-id="0ad34-154">**Referentiegegevens**: Hallo-topologie wordt gebruikt voor gegevensbeheer verwijzing.</span><span class="sxs-lookup"><span data-stu-id="0ad34-154">**Reference data**: hello topology is used for reference data management.</span></span> <span data-ttu-id="0ad34-155">In Hallo afbeelding hieronder, twee tabellen (T1 en T2) referentiegegevens worden bewaard op een specifieke database.</span><span class="sxs-lookup"><span data-stu-id="0ad34-155">In hello figure below, two tables (T1 and T2) with reference data are kept on a dedicated database.</span></span> <span data-ttu-id="0ad34-156">Met een elastische query, u kunt nu toegang tot tabellen T1 en T2 op afstand uit andere databases, zoals weergegeven in afbeelding Hallo.</span><span class="sxs-lookup"><span data-stu-id="0ad34-156">Using an elastic query, you can now access tables T1 and T2 remotely from other databases, as shown in hello figure.</span></span> <span data-ttu-id="0ad34-157">Topologie gebruik 1 als verwijzingsdimensies kleine of externe query's in de verwijzingstabel zijn hebben selectief predicaten.</span><span class="sxs-lookup"><span data-stu-id="0ad34-157">Use topology 1 if reference tables are small or remote queries into reference table have selective predicates.</span></span>

<span data-ttu-id="0ad34-158">**Afbeelding 2** verticale partitioneren: gebruik elastische query tooquery referentiegegevens</span><span class="sxs-lookup"><span data-stu-id="0ad34-158">**Figure 2** Vertical partitioning - Using elastic query tooquery reference data</span></span>

![Verticale partities - elastische query tooquery referentiegegevens gebruiken][3]

<span data-ttu-id="0ad34-160">**Opvragen van meerdere databases**: elastische query inschakelen gebruiksvoorbeelden waarvoor het uitvoeren van query's in verschillende SQL-databases.</span><span class="sxs-lookup"><span data-stu-id="0ad34-160">**Cross-database querying**: Elastic queries enable use cases that require querying across several SQL databases.</span></span> <span data-ttu-id="0ad34-161">Afbeelding 3 ziet u vier verschillende databases: CRM, inventaris, HR en producten.</span><span class="sxs-lookup"><span data-stu-id="0ad34-161">Figure 3 shows four different databases: CRM, Inventory, HR and Products.</span></span> <span data-ttu-id="0ad34-162">Query's uitgevoerd in een van de databases Hallo moeten ook een toegang tot tooone of alle andere databases Hallo.</span><span class="sxs-lookup"><span data-stu-id="0ad34-162">Queries performed in one of hello databases also need access tooone or all hello other databases.</span></span> <span data-ttu-id="0ad34-163">Een elastische query kunt u de database voor deze aanvraag configureren door het uitvoeren van een paar eenvoudige DDL-componenten op elk van de vier databases Hallo.</span><span class="sxs-lookup"><span data-stu-id="0ad34-163">Using an elastic query, you can configure your database for this case by running a few simple DDL statements on each of hello four databases.</span></span> <span data-ttu-id="0ad34-164">Toegang tooa externe tabel is na deze eenmalige configuratie net zo eenvoudig als het lokale tabel tooa verwijst van T-SQL-query's of van uw BI-hulpprogramma's.</span><span class="sxs-lookup"><span data-stu-id="0ad34-164">After this one-time configuration, access tooa remote table is as simple as referring tooa local table from your T-SQL queries or from your BI tools.</span></span> <span data-ttu-id="0ad34-165">Deze aanpak wordt aanbevolen als Hallo externe query's niet veel resultaten retourneren.</span><span class="sxs-lookup"><span data-stu-id="0ad34-165">This approach is recommended if hello remote queries do not return large results.</span></span>

<span data-ttu-id="0ad34-166">**Afbeelding 3** verticale partities: met elastische query tooquery via verschillende databases</span><span class="sxs-lookup"><span data-stu-id="0ad34-166">**Figure 3** Vertical partitioning - Using elastic query tooquery across various databases</span></span>

![Verticale partities: met elastische query tooquery via verschillende databases][4]

<span data-ttu-id="0ad34-168">Hallo volgt configureren elastische databasequery's voor verticale partities scenario's waarvoor toegang tooa tabel zich bevindt op externe SQL-databases met Hallo dezelfde schema:</span><span class="sxs-lookup"><span data-stu-id="0ad34-168">hello following steps configure elastic database queries for vertical partitioning scenarios that require access tooa table located on remote SQL databases with hello same schema:</span></span>

* <span data-ttu-id="0ad34-169">[CREATE MASTER KEY](https://msdn.microsoft.com/library/ms174382.aspx) mymasterkey</span><span class="sxs-lookup"><span data-stu-id="0ad34-169">[CREATE MASTER KEY](https://msdn.microsoft.com/library/ms174382.aspx) mymasterkey</span></span>
* <span data-ttu-id="0ad34-170">[CREATE DATABASE SCOPED CREDENTIAL](https://msdn.microsoft.com/library/mt270260.aspx) mycredential</span><span class="sxs-lookup"><span data-stu-id="0ad34-170">[CREATE DATABASE SCOPED CREDENTIAL](https://msdn.microsoft.com/library/mt270260.aspx) mycredential</span></span>
* <span data-ttu-id="0ad34-171">[CREATE/DROP EXTERNAL DATA SOURCE](https://msdn.microsoft.com/library/dn935022.aspx) mydatasource van het type **RDBMS**</span><span class="sxs-lookup"><span data-stu-id="0ad34-171">[CREATE/DROP EXTERNAL DATA SOURCE](https://msdn.microsoft.com/library/dn935022.aspx) mydatasource of type **RDBMS**</span></span>
* <span data-ttu-id="0ad34-172">[CREATE/DROP externe tabel](https://msdn.microsoft.com/library/dn935021.aspx) mytable</span><span class="sxs-lookup"><span data-stu-id="0ad34-172">[CREATE/DROP EXTERNAL TABLE](https://msdn.microsoft.com/library/dn935021.aspx) mytable</span></span>

<span data-ttu-id="0ad34-173">U kunt na het uitvoeren van Hallo DDL-componenten Hallo externe tabel "MijnTabel" openen alsof het een lokale tabel.</span><span class="sxs-lookup"><span data-stu-id="0ad34-173">After running hello DDL statements, you can access hello remote table “mytable” as though it were a local table.</span></span> <span data-ttu-id="0ad34-174">Azure SQL Database automatisch Hiermee opent u een externe verbinding toohello-database, verwerkt uw aanvraag op de externe database Hallo en Hallo als resultaat gegeven.</span><span class="sxs-lookup"><span data-stu-id="0ad34-174">Azure SQL Database automatically opens a connection toohello remote database, processes your request on hello remote database, and returns hello results.</span></span>

## <a name="horizontal-partitioning---sharding"></a><span data-ttu-id="0ad34-175">Horizontale partitioneren - sharding</span><span class="sxs-lookup"><span data-stu-id="0ad34-175">Horizontal partitioning - sharding</span></span>
<span data-ttu-id="0ad34-176">Het gebruik van elastische query tooperform rapportagetaken via een shard, dat wil zeggen, horizontaal is gepartitioneerd, gegevenslaag vereist een [elastische database shard-toewijzing](sql-database-elastic-scale-shard-map-management.md) toorepresent Hallo databases van Hallo gegevenslaag.</span><span class="sxs-lookup"><span data-stu-id="0ad34-176">Using elastic query tooperform reporting tasks over a sharded, i.e., horizontally partitioned, data tier requires an [elastic database shard map](sql-database-elastic-scale-shard-map-management.md) toorepresent hello databases of hello data tier .</span></span> <span data-ttu-id="0ad34-177">Normaal gesproken alleen een enkele shard-toewijzing in dit scenario wordt gebruikt en een specifieke database met elastische querymogelijkheden (hoofdknooppunt) fungeert als Hallo toegangspunt voor het melden van query's.</span><span class="sxs-lookup"><span data-stu-id="0ad34-177">Typically, only a single shard map is used in this scenario and a dedicated database with elastic query capabilities (head node) serves as hello entry point for reporting queries.</span></span> <span data-ttu-id="0ad34-178">Alleen deze specifieke database moet toegang toohello shard-toewijzing.</span><span class="sxs-lookup"><span data-stu-id="0ad34-178">Only this dedicated database needs access toohello shard map.</span></span> <span data-ttu-id="0ad34-179">Afbeelding 4 ziet u deze topologie en de configuratie met Hallo elastische query database en shard-toewijzing.</span><span class="sxs-lookup"><span data-stu-id="0ad34-179">Figure 4 illustrates this topology and its configuration with hello elastic query database and shard map.</span></span> <span data-ttu-id="0ad34-180">Hallo-databases in de gegevenslaag Hallo kunnen zijn van een Azure SQL Database versie of editie.</span><span class="sxs-lookup"><span data-stu-id="0ad34-180">hello databases in hello data tier can be of any Azure SQL Database version or edition.</span></span> <span data-ttu-id="0ad34-181">Zie voor meer informatie over Hallo-clientbibliotheek voor elastische database en het maken van kaarten shard [Shard kaart management](sql-database-elastic-scale-shard-map-management.md).</span><span class="sxs-lookup"><span data-stu-id="0ad34-181">For more information about hello elastic database client library and creating shard maps, see [Shard map management](sql-database-elastic-scale-shard-map-management.md).</span></span>

<span data-ttu-id="0ad34-182">**Afbeelding 4** horizontale partitioneren - elastische query gebruiken voor rapportage over de lagen van de gedeelde gegevens</span><span class="sxs-lookup"><span data-stu-id="0ad34-182">**Figure 4** Horizontal partitioning - Using elastic query for reporting over sharded data tiers</span></span>

![Horizontale partitioneren - elastische query gebruiken voor rapportage over de lagen van de gedeelde gegevens][5]

> [!NOTE]
> <span data-ttu-id="0ad34-184">Elastische query uitvoeren op Database (hoofdknooppunt) kan afzonderlijke database of het Hallo kan ook dezelfde database die hosts Hallo shard-toewijzing.</span><span class="sxs-lookup"><span data-stu-id="0ad34-184">Elastic Query Database (head node) can be separate database, or it can be hello same database that hosts hello shard map.</span></span> <span data-ttu-id="0ad34-185">Welke configuratie u kiest, zorg ervoor dat die laag service en de prestaties van de database is hoog genoeg toohandle Hallo verwacht hoeveelheid aanmelding/queryaanvragen.</span><span class="sxs-lookup"><span data-stu-id="0ad34-185">Whatever configuration you choose, make sure that service and performance tier of that database is high enough toohandle hello expected  amount of login/query requests.</span></span>

<span data-ttu-id="0ad34-186">Hallo configureren volgt elastische databasequery's voor horizontale partitionering scenario's waarvoor toegang tooa set van de tabel die zich bevinden op (meestal) verschillende externe SQL-databases:</span><span class="sxs-lookup"><span data-stu-id="0ad34-186">hello following steps configure elastic database queries for horizontal partitioning scenarios that require access tooa set of table that are located on (typically) several remote SQL databases:</span></span>

* <span data-ttu-id="0ad34-187">[CREATE MASTER KEY](https://msdn.microsoft.com/library/ms174382.aspx) mymasterkey</span><span class="sxs-lookup"><span data-stu-id="0ad34-187">[CREATE MASTER KEY](https://msdn.microsoft.com/library/ms174382.aspx) mymasterkey</span></span>
* <span data-ttu-id="0ad34-188">[CREATE DATABASE SCOPED CREDENTIAL](https://msdn.microsoft.com/library/mt270260.aspx) mycredential</span><span class="sxs-lookup"><span data-stu-id="0ad34-188">[CREATE DATABASE SCOPED CREDENTIAL](https://msdn.microsoft.com/library/mt270260.aspx) mycredential</span></span>
* <span data-ttu-id="0ad34-189">Maak een [shard-toewijzing](sql-database-elastic-scale-shard-map-management.md) die de gegevenslaag Hallo-clientbibliotheek voor elastische database gebruiken.</span><span class="sxs-lookup"><span data-stu-id="0ad34-189">Create a [shard map](sql-database-elastic-scale-shard-map-management.md) representing your data tier using hello elastic database client library.</span></span>   
* <span data-ttu-id="0ad34-190">[CREATE/DROP EXTERNAL DATA SOURCE](https://msdn.microsoft.com/library/dn935022.aspx) mydatasource van het type **SHARD_MAP_MANAGER**</span><span class="sxs-lookup"><span data-stu-id="0ad34-190">[CREATE/DROP EXTERNAL DATA SOURCE](https://msdn.microsoft.com/library/dn935022.aspx) mydatasource of type **SHARD_MAP_MANAGER**</span></span>
* <span data-ttu-id="0ad34-191">[CREATE/DROP externe tabel](https://msdn.microsoft.com/library/dn935021.aspx) mytable</span><span class="sxs-lookup"><span data-stu-id="0ad34-191">[CREATE/DROP EXTERNAL TABLE](https://msdn.microsoft.com/library/dn935021.aspx) mytable</span></span>

<span data-ttu-id="0ad34-192">Wanneer u deze stappen hebt uitgevoerd, kunt u Hallo horizontaal gepartitioneerde tabel "MijnTabel" openen alsof het een lokale tabel.</span><span class="sxs-lookup"><span data-stu-id="0ad34-192">Once you have performed these steps, you can access hello horizontally partitioned table “mytable” as though it were a local table.</span></span> <span data-ttu-id="0ad34-193">Azure SQL Database automatisch wordt geopend meerdere parallelle verbindingen toohello externe databases waar Hallo tabellen fysiek zijn opgeslagen, verwerkt aanvragen voor externe databases Hallo Hallo en Hallo als resultaat gegeven.</span><span class="sxs-lookup"><span data-stu-id="0ad34-193">Azure SQL Database automatically opens multiple parallel connections toohello remote databases where hello tables are physically stored, processes hello requests on hello remote databases, and returns hello results.</span></span>
<span data-ttu-id="0ad34-194">Meer informatie over het Hallo-stappen die nodig zijn voor Hallo horizontale partitionering scenario vindt u [elastische query voor het partitioneren van de horizontale](sql-database-elastic-query-horizontal-partitioning.md).</span><span class="sxs-lookup"><span data-stu-id="0ad34-194">More information on hello steps required for hello horizontal partitioning scenario can be found in [elastic query for horizontal partitioning](sql-database-elastic-query-horizontal-partitioning.md).</span></span>

<span data-ttu-id="0ad34-195">toobegin coderen, Zie [aan de slag met elastische query voor horizontale partitioneren (sharding)](sql-database-elastic-query-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="0ad34-195">toobegin coding, see [Getting started with elastic query for horizontal partitioning (sharding)](sql-database-elastic-query-getting-started.md).</span></span>

## <a name="t-sql-querying"></a><span data-ttu-id="0ad34-196">T-SQL-query</span><span class="sxs-lookup"><span data-stu-id="0ad34-196">T-SQL querying</span></span>
<span data-ttu-id="0ad34-197">Als u uw externe gegevensbronnen en uw externe tabellen hebt gedefinieerd, kunt u gewone SQL Server-verbinding tekenreeksen tooconnect toohello databases waar u uw externe tabellen gedefinieerd.</span><span class="sxs-lookup"><span data-stu-id="0ad34-197">Once you have defined your external data sources and your external tables, you can use regular SQL Server connection strings tooconnect toohello databases where you defined your external tables.</span></span> <span data-ttu-id="0ad34-198">Vervolgens kunt u uitvoeren T-SQL-instructies over de externe tabellen voor die verbinding met Hallo beperkingen die hieronder worden beschreven.</span><span class="sxs-lookup"><span data-stu-id="0ad34-198">You can then run T-SQL statements over your external tables on that connection with hello limitations outlined below.</span></span> <span data-ttu-id="0ad34-199">U vindt meer informatie over en voorbeelden van T-SQL-query's in Hallo documentatie onderwerpen voor [horizontaal partitioneren](sql-database-elastic-query-horizontal-partitioning.md) en [verticale partities](sql-database-elastic-query-vertical-partitioning.md).</span><span class="sxs-lookup"><span data-stu-id="0ad34-199">You can find more information and examples of T-SQL queries in hello documentation topics for [horizontal partitioning](sql-database-elastic-query-horizontal-partitioning.md) and [vertical partitioning](sql-database-elastic-query-vertical-partitioning.md).</span></span>

## <a name="connectivity-for-tools"></a><span data-ttu-id="0ad34-200">Connectiviteit voor hulpprogramma 's</span><span class="sxs-lookup"><span data-stu-id="0ad34-200">Connectivity for tools</span></span>
<span data-ttu-id="0ad34-201">U kunt reguliere tekenreeksen tooconnect van de SQL Server-verbinding gebruiken uw toepassingen en gegevens of BI integratie extra toodatabases waarvoor externe tabellen.</span><span class="sxs-lookup"><span data-stu-id="0ad34-201">You can use regular SQL Server connection strings tooconnect your applications and BI or data integration tools toodatabases that have external tables.</span></span> <span data-ttu-id="0ad34-202">Zorg ervoor dat SQL Server wordt ondersteund als een gegevensbron voor het hulpprogramma.</span><span class="sxs-lookup"><span data-stu-id="0ad34-202">Make sure that SQL Server is supported as a data source for your tool.</span></span> <span data-ttu-id="0ad34-203">Eenmaal zijn verbonden, raadpleegt u toohello elastische database en Hallo externe querytabellen in de database, net zoals u met een andere SQL Server-database doen zou dat u verbinding toowith uw hulpprogramma maakt.</span><span class="sxs-lookup"><span data-stu-id="0ad34-203">Once connected, refer toohello elastic query database and hello external tables in that database just like you would do with any other SQL Server database that you connect toowith your tool.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0ad34-204">Verificatie met behulp van Azure Active Directory met elastische query's is momenteel niet ondersteund.</span><span class="sxs-lookup"><span data-stu-id="0ad34-204">Authentication using Azure Active Directory with elastic queries is not currently supported.</span></span>
> 
> 

## <a name="cost"></a><span data-ttu-id="0ad34-205">Kosten</span><span class="sxs-lookup"><span data-stu-id="0ad34-205">Cost</span></span>
<span data-ttu-id="0ad34-206">Elastische query is opgenomen in Hallo kosten van Azure SQL Database-databases.</span><span class="sxs-lookup"><span data-stu-id="0ad34-206">Elastic query is included into hello cost of Azure SQL Database databases.</span></span> <span data-ttu-id="0ad34-207">Denk eraan dat waar uw externe databases zich bevindt in een andere Datacenter dan Hallo elastische query endpoint-topologieën worden ondersteund, maar de uitgaande gegevens uit externe databases worden in rekening gebracht regular [Azure tarieven](https://azure.microsoft.com/pricing/details/data-transfers/).</span><span class="sxs-lookup"><span data-stu-id="0ad34-207">Note that topologies where your remote databases are in a different data center than hello elastic query endpoint are supported, but data egress from remote databases are charged regular [Azure rates](https://azure.microsoft.com/pricing/details/data-transfers/).</span></span>

## <a name="preview-limitations"></a><span data-ttu-id="0ad34-208">Preview-beperkingen</span><span class="sxs-lookup"><span data-stu-id="0ad34-208">Preview limitations</span></span>
* <span data-ttu-id="0ad34-209">Uw eerste elastische query uit te voeren kan duren tooa enkele minuten op Hallo standaard prestatielaag.</span><span class="sxs-lookup"><span data-stu-id="0ad34-209">Running your first elastic query can take up tooa few minutes on hello Standard performance tier.</span></span> <span data-ttu-id="0ad34-210">Deze tijd is nodig tooload Hallo elastische queryfunctionaliteit; laden van de prestaties worden verbeterd met hogere prestatielagen.</span><span class="sxs-lookup"><span data-stu-id="0ad34-210">This time is necessary tooload hello elastic query functionality; loading performance improves with higher performance tiers.</span></span>
* <span data-ttu-id="0ad34-211">Scripts van externe gegevensbronnen of externe tabellen van SSMS of SSDT is nog niet ondersteund.</span><span class="sxs-lookup"><span data-stu-id="0ad34-211">Scripting of external data sources or external tables from SSMS or SSDT is not yet supported.</span></span>
* <span data-ttu-id="0ad34-212">Importeren/exporteren voor SQL database ondersteunt nog geen externe gegevensbronnen en externe tabellen.</span><span class="sxs-lookup"><span data-stu-id="0ad34-212">Import/Export for SQL DB does not yet support external data sources and external tables.</span></span> <span data-ttu-id="0ad34-213">Als u toouse voor importeren/exporteren moet, deze objecten verwijderen voordat u exporteert en vervolgens opnieuw maken na het importeren.</span><span class="sxs-lookup"><span data-stu-id="0ad34-213">If you need toouse Import/Export, drop these objects before exporting and then re-create them after importing.</span></span>
* <span data-ttu-id="0ad34-214">Elastische query ondersteunt momenteel alleen-lezentoegang tooexternal tabellen.</span><span class="sxs-lookup"><span data-stu-id="0ad34-214">Elastic query currently only supports read-only access tooexternal tables.</span></span> <span data-ttu-id="0ad34-215">U kunt alle functies van T-SQL echter gebruiken op Hallo database waarvoor Hallo externe tabel is gedefinieerd.</span><span class="sxs-lookup"><span data-stu-id="0ad34-215">You can, however, use full T-SQL functionality on hello database where hello external table is defined.</span></span> <span data-ttu-id="0ad34-216">Dit is handig in, bijvoorbeeld tijdelijke resultaten stand te houden met behulp van bijvoorbeeld selecteert < column_list > in < local_table > of toodefine opgeslagen procedures op Hallo elastische query uitvoeren op database die tooexternal tabellen verwijzen.</span><span class="sxs-lookup"><span data-stu-id="0ad34-216">This can be useful to, e.g., persist temporary results using, e.g., SELECT <column_list> INTO <local_table>, or toodefine stored procedures on hello elastic query database which refer tooexternal tables.</span></span>
* <span data-ttu-id="0ad34-217">Met uitzondering van nvarchar(max), worden LOB-typen niet ondersteund in definities van de externe tabel.</span><span class="sxs-lookup"><span data-stu-id="0ad34-217">Except for nvarchar(max), LOB types are not supported in external table definitions.</span></span> <span data-ttu-id="0ad34-218">Als tijdelijke oplossing kunt u een weergave op Hallo externe database die in nvarchar(max) Hallo LOB-typen cast maken, uw externe tabel via Hallo weergeven in plaats van de basistabel Hallo definiëren en vervolgens geconverteerd naar het oorspronkelijke LOB type Hallo in uw query's.</span><span class="sxs-lookup"><span data-stu-id="0ad34-218">As a workaround, you can create a view on hello remote database that casts hello LOB type into nvarchar(max), define your external table over hello view instead of hello base table and then cast it back into hello original LOB type in your queries.</span></span>
* <span data-ttu-id="0ad34-219">Kolom statistieken over externe tabellen worden momenteel niet ondersteund.</span><span class="sxs-lookup"><span data-stu-id="0ad34-219">Column statistics over external tables are currently not supported.</span></span> <span data-ttu-id="0ad34-220">Tabellen statistieken worden ondersteund, maar moeten toobe die handmatig zijn gemaakt.</span><span class="sxs-lookup"><span data-stu-id="0ad34-220">Tables statistics are supported, but need toobe created manually.</span></span>

## <a name="feedback"></a><span data-ttu-id="0ad34-221">Feedback</span><span class="sxs-lookup"><span data-stu-id="0ad34-221">Feedback</span></span>
<span data-ttu-id="0ad34-222">Neem delen feedback over uw ervaringen met elastische query's met ons op de onderstaande Disqus Hallo MSDN-forums, of op Stackoverflow.</span><span class="sxs-lookup"><span data-stu-id="0ad34-222">Please share feedback on your experience with elastic queries with us on Disqus below, hello MSDN forums, or on Stackoverflow.</span></span> <span data-ttu-id="0ad34-223">We zijn geïnteresseerd in alle soorten feedback over Hallo-service (defecte producten, ruwe randen, functie hiaten).</span><span class="sxs-lookup"><span data-stu-id="0ad34-223">We are interested in all kinds of feedback about hello service (defects, rough edges, feature gaps).</span></span>

## <a name="next-steps"></a><span data-ttu-id="0ad34-224">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="0ad34-224">Next steps</span></span>

* <span data-ttu-id="0ad34-225">Zie voor een verticale partitie zelfstudie [aan de slag met cross-databasequery (verticale partities)](sql-database-elastic-query-getting-started-vertical.md).</span><span class="sxs-lookup"><span data-stu-id="0ad34-225">For a vertical partitioning tutorial, see [Getting started with cross-database query (vertical partitioning)](sql-database-elastic-query-getting-started-vertical.md).</span></span>
* <span data-ttu-id="0ad34-226">Zie voor de syntaxis en voorbeelden query's voor verticaal gepartitioneerde gegevens [gegevens opvragen verticaal gepartitioneerd)](sql-database-elastic-query-vertical-partitioning.md)</span><span class="sxs-lookup"><span data-stu-id="0ad34-226">For syntax and sample queries for vertically partitioned data, see [Querying vertically partitioned data)](sql-database-elastic-query-vertical-partitioning.md)</span></span>
* <span data-ttu-id="0ad34-227">Zie voor een zelfstudie horizontaal partitioneren (sharding) [aan de slag met elastische query voor horizontale partitioneren (sharding)](sql-database-elastic-query-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="0ad34-227">For a horizontal partitioning (sharding) tutorial, see [Getting started with elastic query for horizontal partitioning (sharding)](sql-database-elastic-query-getting-started.md).</span></span>
* <span data-ttu-id="0ad34-228">Zie voor de syntaxis en voorbeelden query's voor horizontaal gepartitioneerde gegevens [gegevens opvragen horizontaal gepartitioneerd)](sql-database-elastic-query-horizontal-partitioning.md)</span><span class="sxs-lookup"><span data-stu-id="0ad34-228">For syntax and sample queries for horizontally partitioned data, see [Querying horizontally partitioned data)](sql-database-elastic-query-horizontal-partitioning.md)</span></span>
* <span data-ttu-id="0ad34-229">Zie [sp\_uitvoeren \_externe](https://msdn.microsoft.com/library/mt703714) voor een opgeslagen procedure die een Transact-SQL-instructie op een enkele externe Azure SQL Database of een set van databases die fungeren als shards in een horizontale partitieschema wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="0ad34-229">See [sp\_execute \_remote](https://msdn.microsoft.com/library/mt703714) for a stored procedure that executes a Transact-SQL statement on a single remote Azure SQL Database or set of databases serving as shards in a horizontal partitioning scheme.</span></span>

<!--Image references-->
[1]: ./media/sql-database-elastic-query-overview/overview.png
[2]: ./media/sql-database-elastic-query-overview/topology1.png
[3]: ./media/sql-database-elastic-query-overview/vertpartrrefdata.png
[4]: ./media/sql-database-elastic-query-overview/verticalpartitioning.png
[5]: ./media/sql-database-elastic-query-overview/horizontalpartitioning.png

<!--anchors-->
