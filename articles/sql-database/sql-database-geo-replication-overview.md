---
title: aaaFailover groepen en actieve geo-replicatie - Azure SQL Database | Microsoft Docs
description: Automatische failover groepen met actieve geo-replicatie kunt u toosetup 4 replica's van uw database in een hello Azure-datacenters en autoomatically failover in Hallo-gebeurtenis van een storing.
services: sql-database
documentationcenter: na
author: anosov1960
manager: jhubbard
editor: monicar
ms.assetid: 2a29f657-82fb-4283-9a83-e14a144bfd93
ms.service: sql-database
ms.custom: business continuity
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: NA
ms.date: 07/10/2017
ms.author: sashan
ms.openlocfilehash: 7a39af8505624c0f19c5abccff051af836b1f9bc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="overview-failover-groups-and-active-geo-replication"></a><span data-ttu-id="8691d-103">Overzicht: Failover-groepen en actieve geo-replicatie</span><span class="sxs-lookup"><span data-stu-id="8691d-103">Overview: Failover groups and active geo-replication</span></span>
<span data-ttu-id="8691d-104">Actieve geo-replicatie kunt u tooconfigure van toofour leesbare secundaire databases in Hallo dezelfde of verschillende datacenters locaties (regio's).</span><span class="sxs-lookup"><span data-stu-id="8691d-104">Active geo-replication enables you tooconfigure up toofour readable secondary databases in hello same or different data center locations (regions).</span></span> <span data-ttu-id="8691d-105">Secundaire databases zijn beschikbaar voor het uitvoeren van query's en failover in geval van een data center onderbreking of Hallo onvermogen tooconnect toohello primaire database Hallo.</span><span class="sxs-lookup"><span data-stu-id="8691d-105">Secondary databases are available for querying and for failover in hello case of a data center outage or hello inability tooconnect toohello primary database.</span></span> <span data-ttu-id="8691d-106">Hallo failover moet handmatig worden gestart door de toepassing hello van Hallo-gebruiker.</span><span class="sxs-lookup"><span data-stu-id="8691d-106">hello failover must be initiated manually by hello application of hello user.</span></span> <span data-ttu-id="8691d-107">Na een failover heeft de nieuwe primaire Hallo het eindpunt van een andere verbinding.</span><span class="sxs-lookup"><span data-stu-id="8691d-107">After failover, hello new primary has a different connection end-point.</span></span> 

> [!NOTE]
> <span data-ttu-id="8691d-108">Actieve geo-replicatie is beschikbaar voor alle databases in alle Servicelagen in alle regio's.</span><span class="sxs-lookup"><span data-stu-id="8691d-108">Active geo-replication is available for all databases in all service tiers in all regions.</span></span>
>  

<span data-ttu-id="8691d-109">Azure SQL Database automatische failover groepen (in preview) is een voorziening waarmee SQL-Database tooautomatically beheren relatie geo-replicatie, connectiviteit en failover op grote schaal.</span><span class="sxs-lookup"><span data-stu-id="8691d-109">Azure SQL Database auto-failover groups (in-preview) is a SQL Database feature designed tooautomatically manage geo-replication relationship, connectivity, and failover at scale.</span></span> <span data-ttu-id="8691d-110">Met deze Hallo klanten voordeel Hallo mogelijkheid tooautomatically meerdere verwante databases in de secundaire regio Hallo herstellen na onherstelbare regionale fouten of andere niet-geplande gebeurtenissen die leiden verlies van volledige of gedeeltelijke Hallo SQL Database-service tot beschikbaarheid in Hallo primaire regio.</span><span class="sxs-lookup"><span data-stu-id="8691d-110">With it, hello customers gain hello ability tooautomatically recover multiple related databases in hello secondary region after catastrophic regional failures or other unplanned events that result in full or partial loss of hello SQL Database service’s availability in hello primary region.</span></span> <span data-ttu-id="8691d-111">Bovendien kan Hallo leesbare secundaire databases toooffload alleen-lezen werkbelastingen worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="8691d-111">Additionally, they can use hello readable secondary databases toooffload read-only workloads.</span></span>  <span data-ttu-id="8691d-112">Omdat automatische failover groepen hebben betrekking op meerdere databases die moeten ze zijn geconfigureerd op de primaire server Hallo.</span><span class="sxs-lookup"><span data-stu-id="8691d-112">Because auto-failover groups involve multiple databases they must be configured on hello primary server.</span></span> <span data-ttu-id="8691d-113">Primaire en secundaire servers zich bevinden in Hallo hetzelfde abonnement.</span><span class="sxs-lookup"><span data-stu-id="8691d-113">Both primary and secondary servers must be in hello same subscription.</span></span> <span data-ttu-id="8691d-114">Automatische failover groepen ondersteuning voor replicatie van alle databases in Hallo groep tooonly één secundaire server in een andere regio.</span><span class="sxs-lookup"><span data-stu-id="8691d-114">Auto-failover groups support replication of all databases in hello group tooonly one secondary server in a different region.</span></span> <span data-ttu-id="8691d-115">Actieve geo-replicatie, zonder automatische failover-groepen, kunt u too4 secundaire replica's in elke regio.</span><span class="sxs-lookup"><span data-stu-id="8691d-115">Active geo-replication, without auto-failover groups, allows up too4 secondaries in any region.</span></span>

<span data-ttu-id="8691d-116">Als u van actieve geo-replicatie gebruikmaakt en voor de primaire database is mislukt reden of gewoon behoeften toobe offline gezet, kunt u failover tooany van de secundaire databases starten.</span><span class="sxs-lookup"><span data-stu-id="8691d-116">If you are using active geo-replication and for any reason your primary database fails, or simply needs toobe taken offline, you can initiate failover tooany of your secondary databases.</span></span> <span data-ttu-id="8691d-117">Wanneer failover geactiveerde tooone van Hallo secundaire databases, andere secundaire replica's worden automatisch gekoppelde toohello nieuwe primaire.</span><span class="sxs-lookup"><span data-stu-id="8691d-117">When failover is activated tooone of hello secondary databases, all other secondaries are automatically linked toohello new primary.</span></span> <span data-ttu-id="8691d-118">Als u automatische failover databaseherstel toomanage (in preview) en een storing die van invloed is op een of meer databases in de resultaten van Groepsbeleid Hallo in automatische failover Hallo gegroepeerd.</span><span class="sxs-lookup"><span data-stu-id="8691d-118">If you are using auto-failover groups (in-preview) toomanage database recovery and any outage that impacts one or several of hello databases in hello group results in automatic failover.</span></span> <span data-ttu-id="8691d-119">U kunt automatische failover-beleid voor Hallo die het beste voldoet aan de behoeften van uw toepassing configureren of kunt u opt-out en handmatige activering gebruiken.</span><span class="sxs-lookup"><span data-stu-id="8691d-119">You can configure hello auto-failover policy that best meets your application needs, or you can opt out and use manual activation.</span></span> <span data-ttu-id="8691d-120">Bovendien automatisch een failover-groepen (in preview) Geef alleen-lezen en alleen-lezen-listener-eindpunten die blijven ongewijzigd tijdens failovers.</span><span class="sxs-lookup"><span data-stu-id="8691d-120">In addition, auto-failover groups (in-preview) provide read-write and read-only listener end-points that remain unchanged during failovers.</span></span> <span data-ttu-id="8691d-121">Of u handmatig of automatisch failover-activering gebruikt, verandert failover alle secundaire databases in Hallo groep tooprimary.</span><span class="sxs-lookup"><span data-stu-id="8691d-121">Whether you use manual or automatic failover activation, failover switches all secondary databases in hello group tooprimary.</span></span> <span data-ttu-id="8691d-122">Nadat Hallo database failover is voltooid, is Hallo DNS-record automatisch bijgewerkt tooredirect Hallo eindpunten toohello nieuw gebied.</span><span class="sxs-lookup"><span data-stu-id="8691d-122">After hello database failover is completed, hello DNS record is automatically updated tooredirect hello end-points toohello new region.</span></span>

<span data-ttu-id="8691d-123">U kunt replicatie en failover van een individuele database of een set van databases op een server of in een elastische pool van actieve geo-replicatie beheren.</span><span class="sxs-lookup"><span data-stu-id="8691d-123">You can manage replication and failover of an individual database or a set of databases on a server or in an elastic pool using active geo-replication.</span></span> <span data-ttu-id="8691d-124">U kunt doen dat met Hallo [Azure-portal](sql-database-geo-replication-portal.md), [PowerShell](sql-database-geo-replication-powershell.md), [Transact-SQL](sql-database-geo-replication-transact-sql.md), of Hallo [REST-API](https://msdn.microsoft.com/library/azure/mt163685.aspx).</span><span class="sxs-lookup"><span data-stu-id="8691d-124">You can do that using hello [Azure portal](sql-database-geo-replication-portal.md), [PowerShell](sql-database-geo-replication-powershell.md), [Transact-SQL](sql-database-geo-replication-transact-sql.md), or hello [REST API](https://msdn.microsoft.com/library/azure/mt163685.aspx).</span></span> <span data-ttu-id="8691d-125">Controleert de verificatievereisten Hallo voor uw server en database zijn geconfigureerd op de nieuwe primaire Hallo na een failover.</span><span class="sxs-lookup"><span data-stu-id="8691d-125">After failover, ensure hello authentication requirements for your server and database are configured on hello new primary.</span></span> <span data-ttu-id="8691d-126">Zie voor meer informatie [beveiliging van SQL Database na het herstel na noodgevallen](sql-database-geo-replication-security-config.md).</span><span class="sxs-lookup"><span data-stu-id="8691d-126">For details, see [SQL Database security after disaster recovery](sql-database-geo-replication-security-config.md).</span></span> <span data-ttu-id="8691d-127">Dit geldt beide tooactive geo-replicatie en automatische failover groepen (in preview).</span><span class="sxs-lookup"><span data-stu-id="8691d-127">This applies both tooactive geo-replication and auto-failover groups (in-preview).</span></span>

<span data-ttu-id="8691d-128">Actieve geo-replicatie maakt gebruik van Hallo [altijd op](https://docs.microsoft.com/sql/database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server) technologie van SQL Server-tooasynchronously doorgevoerde transacties op Hallo primaire database tooa secundaire database read committed-momentopname-isolatie (RCSI) met repliceren.</span><span class="sxs-lookup"><span data-stu-id="8691d-128">Active geo-replication leverages hello [Always On](https://docs.microsoft.com/sql/database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server) technology of SQL Server tooasynchronously replicate committed transactions on hello primary database tooa secondary database using read committed snapshot isolation (RCSI).</span></span> <span data-ttu-id="8691d-129">Automatische failover groepen bieden Hallo groep semantiek boven op actieve geo-replicatie maar Hallo mechanisme voor dezelfde asynchrone replicatie wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="8691d-129">Auto-failover groups provide hello group semantics on top of active geo-replication but hello same asynchronous replication mechanism is used.</span></span> <span data-ttu-id="8691d-130">Wanneer ze op een willekeurig moment Hallo secundaire database is mogelijk enigszins achter de primaire database hello, Hallo secundaire gegevens kan worden gegarandeerd toonever gedeeltelijke transacties hebben.</span><span class="sxs-lookup"><span data-stu-id="8691d-130">While at any given point, hello secondary database might be slightly behind hello primary database, hello secondary data is guaranteed toonever have partial transactions.</span></span> <span data-ttu-id="8691d-131">Regio-overschrijdende redundantie kan toepassingen tooquickly herstellen vanuit een permanente verlies van een hele datacenter of delen van een datacenter veroorzaakt door een natuurramp, onherstelbare menselijke fouten of schadelijke acties uit.</span><span class="sxs-lookup"><span data-stu-id="8691d-131">Cross-region redundancy enables applications tooquickly recover from a permanent loss of an entire datacenter or parts of a datacenter caused by natural disasters, catastrophic human errors, or malicious acts.</span></span> <span data-ttu-id="8691d-132">Hallo specifieke RPO gegevens kan worden gevonden op [overzicht van zakelijke continuïteit](sql-database-business-continuity.md).</span><span class="sxs-lookup"><span data-stu-id="8691d-132">hello specific RPO data can be found at [Overview of Business Continuity](sql-database-business-continuity.md).</span></span>

<span data-ttu-id="8691d-133">Hallo toont volgende afbeelding een voorbeeld van actieve geo-replicatie geconfigureerd met een primaire in Hallo Noordelijk Centraal, VS regio en secundaire in Hallo Zuid-centraal VS regio.</span><span class="sxs-lookup"><span data-stu-id="8691d-133">hello following figure shows an example of active geo-replication configured with a primary in hello North Central US region and secondary in hello South Central US region.</span></span>

![geo-replicatie-relatie](./media/sql-database-active-geo-replication/geo-replication-relationship.png)

<span data-ttu-id="8691d-135">Omdat secundaire databases Hallo kunnen gelezen worden, worden ze gebruikte toooffload alleen-lezen werkbelastingen, zoals rapportage van taken.</span><span class="sxs-lookup"><span data-stu-id="8691d-135">Because hello secondary databases are readable, they can be used toooffload read-only workloads such as reporting jobs.</span></span> <span data-ttu-id="8691d-136">Als u actieve geo-replicatie gebruikt, is het mogelijk toocreate Hallo secundaire database in Hallo dezelfde regio met primaire hello, maar niet verhogen van de toepassing hello herstelmogelijkheden toocatastrophic fouten.</span><span class="sxs-lookup"><span data-stu-id="8691d-136">If you are using active geo-replication, it is possible toocreate hello secondary database in hello same region with hello primary, but it does not increase hello application's resilience toocatastrophic failures.</span></span> <span data-ttu-id="8691d-137">Als u automatische failover-groepen (in preview) gebruikt, wordt de secundaire database altijd gemaakt in een andere regio.</span><span class="sxs-lookup"><span data-stu-id="8691d-137">If you are using auto-failover groups (in-preview), your secondary database is always created in a different region.</span></span>

<span data-ttu-id="8691d-138">Bovendien kan toodisaster herstel actieve geo-replicatie worden gebruikt in Hallo volgen scenario's:</span><span class="sxs-lookup"><span data-stu-id="8691d-138">In addition toodisaster recovery active geo-replication can be used in hello following scenarios:</span></span>

* <span data-ttu-id="8691d-139">**Migratie van de database**: kunt u actieve geo-replicatie toomigrate een database van één server tooanother online met minimale downtime.</span><span class="sxs-lookup"><span data-stu-id="8691d-139">**Database migration**: You can use active geo-replication toomigrate a database from one server tooanother online with minimum downtime.</span></span>
* <span data-ttu-id="8691d-140">**Toepassingsupgrades**: U kunt een extra secundaire als een mislukken back-up maken tijdens toepassingsupgrades.</span><span class="sxs-lookup"><span data-stu-id="8691d-140">**Application upgrades**: You can create an extra secondary as a fail back copy during application upgrades.</span></span>

<span data-ttu-id="8691d-141">tooachieve echte bedrijfscontinuïteit, toe te voegen databaseredundantie tussen datacentra is slechts een deel van het Hallo-oplossing.</span><span class="sxs-lookup"><span data-stu-id="8691d-141">tooachieve real business continuity, adding database redundancy between datacenters is only part of hello solution.</span></span> <span data-ttu-id="8691d-142">Herstellen van een toepassing (service) end-to-end nadat een onherstelbare fout is vereist voor herstel van alle onderdelen die deel uitmaken van Hallo-service en afhankelijke services.</span><span class="sxs-lookup"><span data-stu-id="8691d-142">Recovering an application (service) end-to-end after a catastrophic failure requires recovery of all components that constitute hello service and any dependent services.</span></span> <span data-ttu-id="8691d-143">Voorbeelden van deze onderdelen zijn Hallo-clientsoftware (bijvoorbeeld een browser met een aangepaste JavaScript), web-front-ends, opslag- en DNS.</span><span class="sxs-lookup"><span data-stu-id="8691d-143">Examples of these components include hello client software (for example, a browser with a custom JavaScript), web front ends, storage, and DNS.</span></span> <span data-ttu-id="8691d-144">Het is essentieel dat alle onderdelen robuuste toohello dezelfde fouten zijn en beschikbaar binnen de Hallo beoogde hersteltijd (RTO) van uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="8691d-144">It is critical that all components are resilient toohello same failures and become available within hello recovery time objective (RTO) of your application.</span></span> <span data-ttu-id="8691d-145">Daarom moet tooidentify alle afhankelijke services en begrijpen Hallo garanties en mogelijkheden bieden.</span><span class="sxs-lookup"><span data-stu-id="8691d-145">Therefore, you need tooidentify all dependent services and understand hello guarantees and capabilities they provide.</span></span> <span data-ttu-id="8691d-146">Vervolgens moet u passende stappen tooensure die uw servicefuncties tijdens de failover van Hallo services waarvan deze afhankelijk is, Hallo nemen.</span><span class="sxs-lookup"><span data-stu-id="8691d-146">Then, you must take adequate steps tooensure that your service functions during hello failover of hello services on which it depends.</span></span> <span data-ttu-id="8691d-147">Zie voor meer informatie over het ontwerpen van oplossingen voor herstel na noodgevallen [Cloudoplossingen voor Disaster Recovery met actieve geo-replicatie ontwerpen](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="8691d-147">For more information about designing solutions for disaster recovery, see [Designing Cloud Solutions for Disaster Recovery Using active geo-replication](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span></span>

## <a name="active-geo-replication-capabilities"></a><span data-ttu-id="8691d-148">Mogelijkheden van actieve geo-replicatie</span><span class="sxs-lookup"><span data-stu-id="8691d-148">Active geo-replication capabilities</span></span>
<span data-ttu-id="8691d-149">Hallo actieve geo-replicatie functie biedt Hallo essentiële mogelijkheden te volgen:</span><span class="sxs-lookup"><span data-stu-id="8691d-149">hello active geo-replication feature provides hello following essential capabilities:</span></span>
* <span data-ttu-id="8691d-150">**Automatische asynchrone replicatie**: U kunt alleen een secundaire database maken door de bestaande database tooan toe te voegen.</span><span class="sxs-lookup"><span data-stu-id="8691d-150">**Automatic Asynchronous Replication**: You can only create a secondary database by adding tooan existing database.</span></span> <span data-ttu-id="8691d-151">Hallo secundaire kan worden gemaakt in een Azure SQL Database-server.</span><span class="sxs-lookup"><span data-stu-id="8691d-151">hello secondary can be created in any Azure SQL Database server.</span></span> <span data-ttu-id="8691d-152">Zodra gemaakt, wordt Hallo secundaire database ingevuld met Hallo-gegevens van de primaire database Hallo gekopieerd.</span><span class="sxs-lookup"><span data-stu-id="8691d-152">Once created, hello secondary database is populated with hello data copied from hello primary database.</span></span> <span data-ttu-id="8691d-153">Dit proces staat bekend als seeding.</span><span class="sxs-lookup"><span data-stu-id="8691d-153">This process is known as seeding.</span></span> <span data-ttu-id="8691d-154">Nadat de secundaire database is gemaakt en seeding, primaire database toohello asynchroon zijn updates toohello secundaire database automatisch gerepliceerd.</span><span class="sxs-lookup"><span data-stu-id="8691d-154">After secondary database has been created and seeded, updates toohello primary database are asynchronously replicated toohello secondary database automatically.</span></span> <span data-ttu-id="8691d-155">Asynchrone replicatie betekent dat transacties worden vastgelegd op de primaire database Hallo voordat u deze gerepliceerde toohello secundaire database.</span><span class="sxs-lookup"><span data-stu-id="8691d-155">Asynchronous replication means that transactions are committed on hello primary database before they are replicated toohello secondary database.</span></span> 
* <span data-ttu-id="8691d-156">**Leesbare secundaire databases**: een toepassing heeft toegang tot een secundaire database voor alleen-lezen bewerkingen met behulp van Hallo dezelfde of verschillende beveiligings-principals die wordt gebruikt voor toegang tot de primaire database Hallo.</span><span class="sxs-lookup"><span data-stu-id="8691d-156">**Readable secondary databases**: An application can access a secondary database for read-only operations using hello same or different security principals used for accessing hello primary database.</span></span> <span data-ttu-id="8691d-157">Hallo secundaire databases werkt met snapshot-isolatie modus tooensure replicatie van Hallo-updates van primaire hello (logboek replay) niet door query's die worden uitgevoerd op de secundaire Hallo is vertraagd.</span><span class="sxs-lookup"><span data-stu-id="8691d-157">hello secondary databases operate in snapshot isolation mode tooensure replication of hello updates of hello primary (log replay) is not delayed by queries executed on hello secondary.</span></span>

   > [!NOTE]
   > <span data-ttu-id="8691d-158">Hallo logboek replay is vertraagd op Hallo secundaire database als er schema-updates of wordt ontvangen van Hallo primaire waarvoor een schemavergrendeling op Hallo secundaire database.</span><span class="sxs-lookup"><span data-stu-id="8691d-158">hello log replay is delayed on hello secondary database if there are schema updates that it is receiving from hello Primary that require a schema lock on hello secondary database.</span></span> 
   > 

* <span data-ttu-id="8691d-159">**Meerdere secundaire databases**: twee of meer secundaire databases verhogen redundantie en niveau van beveiliging voor de primaire database Hallo en toepassingen.</span><span class="sxs-lookup"><span data-stu-id="8691d-159">**Multiple readable secondaries**: Two or more secondary databases increase redundancy and level of protection for hello primary database and application.</span></span> <span data-ttu-id="8691d-160">Als er meerdere secundaire databases bestaan, blijft toepassing hello beveiligd zelfs als een van de secundaire databases Hallo mislukt.</span><span class="sxs-lookup"><span data-stu-id="8691d-160">If multiple secondary databases exist, hello application remains protected even if one of hello secondary databases fails.</span></span> <span data-ttu-id="8691d-161">Als er slechts één secundaire database, en dit mislukt, de toepassing hello wordt blootgesteld toohigher risico totdat er een nieuwe secundaire database is gemaakt.</span><span class="sxs-lookup"><span data-stu-id="8691d-161">If there is only one secondary database, and it fails, hello application is exposed toohigher risk until a new secondary database is created.</span></span>

   > [!NOTE]
   > <span data-ttu-id="8691d-162">Als u van actieve geo-replicatie toobuild een globaal gedistribueerde toepassing gebruikmaakt en moet tooprovide alleen-lezen toegang toodata in meer dan 4 regio's, kunt u secundaire van een secundaire (dit proces wordt '-koppeling genoemd).</span><span class="sxs-lookup"><span data-stu-id="8691d-162">If you are using active geo-replication toobuild a globally distributed application and need tooprovide read-only access toodata in more than 4 regions, you can create secondary of a secondary (a process known as chaining).</span></span> <span data-ttu-id="8691d-163">Op deze manier kunt u vrijwel onbeperkt schalen van databasereplicatie bereiken.</span><span class="sxs-lookup"><span data-stu-id="8691d-163">This way you can achieve virtually unlimited scale of database replication.</span></span> <span data-ttu-id="8691d-164">Bovendien verminderd chaining Hallo van replicatie vanaf de primaire database Hallo.</span><span class="sxs-lookup"><span data-stu-id="8691d-164">In addition, chaining reduces hello overhead of replication from hello primary database.</span></span> <span data-ttu-id="8691d-165">Hallo nadeel is Hallo verbeterde replication lag op Hallo leaf meest secundaire databases.</span><span class="sxs-lookup"><span data-stu-id="8691d-165">hello trade-off is hello increased replication lag on hello leaf-most secondary databases.</span></span> <span data-ttu-id="8691d-166">.</span><span class="sxs-lookup"><span data-stu-id="8691d-166">.</span></span> 
   >

* <span data-ttu-id="8691d-167">**Ondersteuning van de elastische groep databases**: actieve geo-replicatie kan worden geconfigureerd voor een database in een elastische pool.</span><span class="sxs-lookup"><span data-stu-id="8691d-167">**Support of elastic pool databases**: Active geo-replication can be configured for any database in any elastic pool.</span></span> <span data-ttu-id="8691d-168">Hallo secundaire database kan worden in een andere elastische pool.</span><span class="sxs-lookup"><span data-stu-id="8691d-168">hello secondary database can be in another elastic pool.</span></span> <span data-ttu-id="8691d-169">Voor gewone databases Hallo secundaire worden een elastische pool en omgekeerd zolang Hallo Servicelagen zijn Hallo dezelfde.</span><span class="sxs-lookup"><span data-stu-id="8691d-169">For regular databases, hello secondary can be an elastic pool and vice versa as long as hello service tiers are hello same.</span></span> 
* <span data-ttu-id="8691d-170">**Configureerbare prestatieniveau van de secundaire database Hallo**: een secundaire database kan worden gemaakt met een lager prestatieniveau dan Hallo primaire.</span><span class="sxs-lookup"><span data-stu-id="8691d-170">**Configurable performance level of hello secondary database**: A secondary database can be created with lower performance level than hello primary.</span></span> <span data-ttu-id="8691d-171">Primaire en secundaire databases zijn vereist toohave Hallo dezelfde servicelaag.</span><span class="sxs-lookup"><span data-stu-id="8691d-171">Both primary and secondary databases are required toohave hello same service tier.</span></span> <span data-ttu-id="8691d-172">Deze optie wordt niet aanbevolen voor toepassingen met hoge database schrijfactiviteiten omdat Hallo verbeterde replication lag Hallo risico van gegevensverlies aanzienlijke na een failover verhoogt.</span><span class="sxs-lookup"><span data-stu-id="8691d-172">This option is not recommended for applications with high database write activity because hello increased replication lag increases hello risk of substantial data loss after a failover.</span></span> <span data-ttu-id="8691d-173">Nadat de failover Hallo toepassing prestaties beïnvloed tot Hallo nieuwe primaire is bovendien bijgewerkte tooa hogere prestaties niveau.</span><span class="sxs-lookup"><span data-stu-id="8691d-173">In addition, after failover hello application’s performance is impacted until hello new primary is upgraded tooa higher performance level.</span></span> <span data-ttu-id="8691d-174">Hallo logboek IO percentage diagram in Azure portal biedt een goede manier tooestimate Hallo minimaal prestatieniveau van Hallo secundaire die vereiste toosustain Hallo replicatie laden.</span><span class="sxs-lookup"><span data-stu-id="8691d-174">hello log IO percentage chart on Azure portal provides a good way tooestimate hello minimal performance level of hello secondary that is required toosustain hello replication load.</span></span> <span data-ttu-id="8691d-175">Bijvoorbeeld, als uw primaire database P6 (1000 DTU) en het logboek-i/o-procent is heeft toobe ten minste 50% Hallo secundaire P4 (500 DTU).</span><span class="sxs-lookup"><span data-stu-id="8691d-175">For example, if your Primary database is P6 (1000 DTU) and its log IO percent is 50% hello secondary needs toobe at least P4 (500 DTU).</span></span> <span data-ttu-id="8691d-176">U kunt ook ophalen Hallo logboek IO gegevens met [sys.resource_stats](https://msdn.microsoft.com/library/dn269979.aspx) of [sys.dm_db_resource_stats](https://msdn.microsoft.com/library/dn800981.aspx) weergaven van de database.</span><span class="sxs-lookup"><span data-stu-id="8691d-176">You can also retrieve hello log IO data using [sys.resource_stats](https://msdn.microsoft.com/library/dn269979.aspx) or [sys.dm_db_resource_stats](https://msdn.microsoft.com/library/dn800981.aspx) database views.</span></span>  <span data-ttu-id="8691d-177">Zie voor meer informatie over Hallo SQL-Database prestatieniveaus [SQL Database-opties en prestaties](sql-database-service-tiers.md).</span><span class="sxs-lookup"><span data-stu-id="8691d-177">For more information on hello SQL Database performance levels, see [SQL Database options and performance](sql-database-service-tiers.md).</span></span> 
* <span data-ttu-id="8691d-178">**Gebruiker beheerde failover en failback**: een secundaire database expliciet geschakelde toohello primaire rol kan zijn op elk gewenst moment door de toepassing hello of Hallo gebruiker.</span><span class="sxs-lookup"><span data-stu-id="8691d-178">**User-controlled failover and failback**: A secondary database can explicitly be switched toohello primary role at any time by hello application or hello user.</span></span> <span data-ttu-id="8691d-179">Tijdens een werkelijke storing Hallo moet 'niet-geplande' worden gebruikt, die direct bijdraagt aan een secundaire toobe Hallo primaire.</span><span class="sxs-lookup"><span data-stu-id="8691d-179">During a real outage hello “unplanned” option should be used, which immediately promotes a secondary toobe hello primary.</span></span> <span data-ttu-id="8691d-180">Wanneer Hallo mislukte primaire wordt hersteld en is beschikbaar opnieuw Hallo systeem automatisch aanhalingstekens Hallo hersteld als een secundaire primaire en brengt u het up-to-date blijven met de nieuwe primaire Hallo.</span><span class="sxs-lookup"><span data-stu-id="8691d-180">When hello failed primary recovers and is available again, hello system automatically marks hello recovered primary as a secondary and bring it up-to-date with hello new primary.</span></span> <span data-ttu-id="8691d-181">Vervaldatum toohello asynchrone aard van replicatie, kan een kleine hoeveelheid gegevens worden verbroken tijdens niet-geplande failovers als een primaire mislukt voordat het Hallo meest recente wijzigingen toohello secundaire wordt gerepliceerd.</span><span class="sxs-lookup"><span data-stu-id="8691d-181">Due toohello asynchronous nature of replication, a small amount of data can be lost during unplanned failovers if a primary fails before it replicates hello most recent changes toohello secondary.</span></span> <span data-ttu-id="8691d-182">Als een primaire met meerdere secundaire replica's failover wordt uitgevoerd, Hallo system Hallo Replicatierelaties automatisch geconfigureerd en koppelingen Hallo resterende secundaire servers toohello zojuist gepromoveerd primaire zonder tussenkomst van de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="8691d-182">When a primary with multiple secondaries fails over, hello system automatically reconfigures hello replication relationships and links hello remaining secondaries toohello newly promoted primary without requiring any user intervention.</span></span> <span data-ttu-id="8691d-183">Nadat het Hallo-uitval waardoor Hallo failover wordt verholpen, kan het wenselijk tooreturn Hallo toepassing toohello primaire regio zijn.</span><span class="sxs-lookup"><span data-stu-id="8691d-183">After hello outage that caused hello failover is mitigated, it may be desirable tooreturn hello application toohello primary region.</span></span> <span data-ttu-id="8691d-184">toodo dat Hallo failover-opdracht moet worden aangeroepen met Hallo 'gepland' optie.</span><span class="sxs-lookup"><span data-stu-id="8691d-184">toodo that, hello failover command should be invoked with hello “planned” option.</span></span> 
* <span data-ttu-id="8691d-185">**Referenties en firewallregels synchroon te houden**: wordt u aangeraden [database firewallregels](sql-database-firewall-configure.md) voor databases geogerepliceerde zodat deze regels kunnen worden gerepliceerd met Hallo database tooensure wordt alle secundaire databases hebt Hallo dezelfde firewallregels als primaire Hallo.</span><span class="sxs-lookup"><span data-stu-id="8691d-185">**Keeping credentials and firewall rules in sync**: We recommend using [database firewall rules](sql-database-firewall-configure.md) for geo-replicated databases so these rules can be replicated with hello database tooensure all secondary databases have hello same firewall rules as hello primary.</span></span> <span data-ttu-id="8691d-186">Deze aanpak overbodig Hallo voor klanten toomanually configureren en firewallregels op servers die als host fungeert voor zowel de primaire en secundaire databases Hallo onderhouden.</span><span class="sxs-lookup"><span data-stu-id="8691d-186">This approach eliminates hello need for customers toomanually configure and maintain firewall rules on servers hosting both hello primary and secondary databases.</span></span> <span data-ttu-id="8691d-187">Op deze manier met behulp van [databasegebruikers opgenomen](sql-database-manage-logins.md) voor gegevens toegang zorgt ervoor dat zowel primaire als secundaire databases hebben altijd dezelfde gebruikersreferenties zodat tijdens een failover geen onderbrekingen is Hallo vanwege toomismatches met aanmeldingen en wachtwoorden.</span><span class="sxs-lookup"><span data-stu-id="8691d-187">Similarly, using [contained database users](sql-database-manage-logins.md) for data access ensures both primary and secondary databases always have hello same user credentials so during a failover, there is no disruptions due toomismatches with logins and passwords.</span></span> <span data-ttu-id="8691d-188">Met Hallo toevoeging van [Azure Active Directory](../active-directory/active-directory-whatis.md), klanten toegang tooboth primaire en secundaire gebruikersdatabases kunnen beheren en elimineren Hallo nodig voor het beheren van referenties in databases kan worden overgeslagen.</span><span class="sxs-lookup"><span data-stu-id="8691d-188">With hello addition of [Azure Active Directory](../active-directory/active-directory-whatis.md), customers can manage user access tooboth primary and secondary databases and eliminating hello need for managing credentials in databases altogether.</span></span>

## <a name="auto-failover-group-capabilities"></a><span data-ttu-id="8691d-189">Mogelijkheden voor automatische failover-groep</span><span class="sxs-lookup"><span data-stu-id="8691d-189">Auto-failover group capabilities</span></span>

<span data-ttu-id="8691d-190">Automatische failover groepsfunctie biedt een krachtige abstractie van actieve geo-replicatie door de groep niveau replicatie en automatische failover-ondersteuning.</span><span class="sxs-lookup"><span data-stu-id="8691d-190">Auto-failover groups feature provides a powerful abstraction of active geo-replication by supporting group level replication and automatic failover.</span></span> <span data-ttu-id="8691d-191">Daarnaast verwijdert deze Hallo noodzaak toochange Hallo-SQL-verbindingsreeks na een failover doordat Hallo aanvullende listener-eindpunten.</span><span class="sxs-lookup"><span data-stu-id="8691d-191">In addition, it removes hello necessity toochange hello SQL connection string after failover by providing hello additional listener end-points.</span></span> 

* <span data-ttu-id="8691d-192">**Failover-groep**: een of meer groepen van failover kunnen worden gemaakt tussen twee servers in verschillende regio's (primaire en secundaire servers).</span><span class="sxs-lookup"><span data-stu-id="8691d-192">**Failover group**: One or many failover groups can be created between two servers in different regions (primary and secondary servers).</span></span> <span data-ttu-id="8691d-193">Elke groep kan een of meer databases die worden hersteld als een eenheid voor het geval alle of sommige primaire databases niet meer beschikbaar is vanwege onderbreking in de primaire regio Hallo tooan bevatten.</span><span class="sxs-lookup"><span data-stu-id="8691d-193">Each group can include one or several databases that are recovered as a unit in case all or some primary databases become unavailable due tooan outage in hello primary region.</span></span>  
* <span data-ttu-id="8691d-194">**Primaire server**: een server die als host fungeert voor Hallo primaire databases in Hallo failover-groep.</span><span class="sxs-lookup"><span data-stu-id="8691d-194">**Primary server**: A server that hosts hello primary databases in hello failover group.</span></span>
* <span data-ttu-id="8691d-195">**Secundaire server**: een server die als host fungeert voor Hallo secundaire databases in Hallo failover-groep.</span><span class="sxs-lookup"><span data-stu-id="8691d-195">**Secondary server**: A server that hosts hello secondary databases in hello failover group.</span></span> <span data-ttu-id="8691d-196">Hallo secundaire server kan niet in Hallo dezelfde regio bevinden als de primaire server Hallo.</span><span class="sxs-lookup"><span data-stu-id="8691d-196">hello secondary server cannot be in hello same region as hello primary server.</span></span>
* <span data-ttu-id="8691d-197">**Toe te voegen toofailover databasesgroep**: U kunt verschillende databases binnen een server te plaatsen of in een elastische pool in Hallo dezelfde failover-groep.</span><span class="sxs-lookup"><span data-stu-id="8691d-197">**Adding databases toofailover group**: You can put several databases within a server or within an elastic pool into hello same failover group.</span></span> <span data-ttu-id="8691d-198">Als u een zelfstandige database toohello groep toevoegt, wordt automatisch een secundaire database gemaakt met behulp van hetzelfde niveau van edition en prestaties Hallo.</span><span class="sxs-lookup"><span data-stu-id="8691d-198">If you add a standalone database toohello group, it automatically creates a secondary database using hello same edition and performance level.</span></span> <span data-ttu-id="8691d-199">Als de primaire database Hallo in een elastische pool, Hallo secundaire wordt automatisch gemaakt in Hallo elastische pool Hello dezelfde naam.</span><span class="sxs-lookup"><span data-stu-id="8691d-199">If hello primary database is in an elastic pool, hello secondary is automatically created in hello elastic pool with hello same name.</span></span> <span data-ttu-id="8691d-200">Als u een database die al een secundaire database in de secundaire server Hallo toevoegt, wordt die geo-replicatie wordt overgenomen door Hallo-groep.</span><span class="sxs-lookup"><span data-stu-id="8691d-200">If you add a database that already has a secondary database in hello secondary server, that geo-replication is inherited by hello group.</span></span>

   > [!NOTE]
   > <span data-ttu-id="8691d-201">Wanneer u een database die al een secundaire database in een server die geen deel uitmaakt van Hallo failover groep toevoegt, wordt een nieuwe secundaire gemaakt in Hallo secundaire server.</span><span class="sxs-lookup"><span data-stu-id="8691d-201">When adding a database that already has a secondary database in a server that is not part of hello failover group, a new secondary is created in hello secondary server.</span></span> 
   >

* <span data-ttu-id="8691d-202">**Failover-groep lezen-schrijven listener**: een DNS CNAME-record wordt gevormd als  **&lt;failover groepsnaam&gt;. database.windows.net** die de huidige primaire server-URL toohello verwijst.</span><span class="sxs-lookup"><span data-stu-id="8691d-202">**Failover group read-write listener**: A DNS CNAME record formed as **&lt;failover-group-name&gt;.database.windows.net** that points toohello current primary server URL.</span></span> <span data-ttu-id="8691d-203">Hallo lezen-schrijven SQL-toepassingen kunt tootransparently toohello primaire database opnieuw verbinding maken wanneer Hallo primaire gewijzigd na een failover.</span><span class="sxs-lookup"><span data-stu-id="8691d-203">It allows hello read-write SQL applications tootransparently reconnect toohello primary database when hello primary changes after failover.</span></span> 
* <span data-ttu-id="8691d-204">**Failover-groep alleen-lezen-listener**: een DNS CNAME-record wordt gevormd als  **&lt;failover groepsnaam&gt;. secondary.database.windows.net** die toohello secundaire server URL verwijst.</span><span class="sxs-lookup"><span data-stu-id="8691d-204">**Failover group read-only listener**: A DNS CNAME record formed as **&lt;failover-group-name&gt;.secondary.database.windows.net** that points toohello secondary server’s URL.</span></span> <span data-ttu-id="8691d-205">Het Hallo kan alleen-lezen SQL-toepassingen tootransparently verbinding toohello secundaire database met behulp van Hallo opgegeven regels voor taakverdeling.</span><span class="sxs-lookup"><span data-stu-id="8691d-205">It allows hello read-only SQL applications tootransparently connect toohello secondary database using hello specified load-balancing rules.</span></span> <span data-ttu-id="8691d-206">U kunt eventueel opgeven als u wilt dat Hallo alleen-lezen toobe verkeer automatisch omgeleid toohello primaire server als de secundaire server Hallo niet beschikbaar is.</span><span class="sxs-lookup"><span data-stu-id="8691d-206">Optionally you can specify if you want hello read-only traffic toobe automatically re-directed toohello primary server when hello secondary server is not available.</span></span>
* <span data-ttu-id="8691d-207">**Beleid voor automatische failover**: Hallo failover-groep is standaard geconfigureerd met een beleid voor automatische failover.</span><span class="sxs-lookup"><span data-stu-id="8691d-207">**Automatic failover policy**: By default, hello failover group is configured with an automatic failover policy.</span></span> <span data-ttu-id="8691d-208">Hallo system activeert failover als Hallo storing wordt gedetecteerd.</span><span class="sxs-lookup"><span data-stu-id="8691d-208">hello system triggers failover as soon as hello failure is detected.</span></span> <span data-ttu-id="8691d-209">Als u toocontrol Hallo de werkstroom van de toepassing hello wilt, kunt u automatische failover uitschakelen.</span><span class="sxs-lookup"><span data-stu-id="8691d-209">If you want toocontrol hello failover workflow from hello application, you can turn off automatic failover.</span></span> 
* <span data-ttu-id="8691d-210">**Handmatige failover**: U kunt failover handmatig op elk gewenst moment ongeacht Hallo automatische failover-configuratie.</span><span class="sxs-lookup"><span data-stu-id="8691d-210">**Manual failover**: You can initiate failover manually at any time regardless of hello automatic failover configuration.</span></span> <span data-ttu-id="8691d-211">Als automatische failover-beleid niet geconfigureerd voor handmatige failover is is het vereiste toorecover databases in Hallo failover-groep.</span><span class="sxs-lookup"><span data-stu-id="8691d-211">If automatic failover policy is not configured manual failover is required toorecover databases in hello failover group.</span></span> <span data-ttu-id="8691d-212">U kunt de geforceerde of beschrijvende failover (met volledige gegevenssynchronisatie) starten.</span><span class="sxs-lookup"><span data-stu-id="8691d-212">You can initiate forced or friendly failover (with full data synchronization).</span></span> <span data-ttu-id="8691d-213">Hallo laatstgenoemde kan gebruikte toorelocate Hallo actieve server toohello primaire regio worden.</span><span class="sxs-lookup"><span data-stu-id="8691d-213">hello latter could be used toorelocate hello active server toohello primary region.</span></span> <span data-ttu-id="8691d-214">Als de failover is voltooid zijn Hallo DNS-records automatisch bijgewerkt tooensure connectiviteit toohello juiste server.</span><span class="sxs-lookup"><span data-stu-id="8691d-214">When failover is completed hello DNS records are automatically updated tooensure connectivity toohello correct server.</span></span>
* <span data-ttu-id="8691d-215">**Respijtperiode met gegevensverlies**: omdat Hallo primaire en secundaire databases worden gesynchroniseerd met de asynchrone replicatie Hallo failover kan leiden tot verlies van gegevens.</span><span class="sxs-lookup"><span data-stu-id="8691d-215">**Grace period with data loss**: Because hello primary and secondary databases are synchronized using asynchronous replication hello failover may result in data loss.</span></span> <span data-ttu-id="8691d-216">U kunt Hallo automatische failover beleid tooreflect aanpassen van uw toepassing tolerantie toodata gegevensverlies.</span><span class="sxs-lookup"><span data-stu-id="8691d-216">You can customize hello automatic failover policy tooreflect your application’s tolerance toodata loss.</span></span> <span data-ttu-id="8691d-217">Door het configureren van **GracePeriodWithDataLossHours**, kunt u bepalen hoe lang Hallo-systeem wacht voordat het Hallo-failover die waarschijnlijk tooresult gegevensverlies is gestart.</span><span class="sxs-lookup"><span data-stu-id="8691d-217">By configuring **GracePeriodWithDataLossHours**, you can control how long hello system waits before initiating hello failover that is likely tooresult data loss.</span></span> 

   > [!NOTE]
   > <span data-ttu-id="8691d-218">Wanneer systeem detecteert dat de databases in de groep Hallo Hallo nog steeds online zijn (bijvoorbeeld Hallo onderbreking alleen van invloed op Hallo service besturingselement vlak), wordt onmiddellijk Hallo failover met volledige gegevenssynchronisatie (beschrijvende failover) ongeacht Hallo waarde geactiveerd ingesteld door **GracePeriodWithDataLossHours**.</span><span class="sxs-lookup"><span data-stu-id="8691d-218">When system detects that hello databases in hello group are still online (for example, hello outage only impacted hello service control plane), it immediately activates hello failover with full data synchronization (friendly failover) regardless of hello value set by **GracePeriodWithDataLossHours**.</span></span> <span data-ttu-id="8691d-219">Dit gedrag zorgt ervoor dat er geen gegevens verloren gaan tijdens het Hallo-herstel.</span><span class="sxs-lookup"><span data-stu-id="8691d-219">This behavior ensures that there is no data loss during hello recovery.</span></span> <span data-ttu-id="8691d-220">Hallo respijtperiode heeft alleen effect als een beschrijvende failover niet mogelijk is.</span><span class="sxs-lookup"><span data-stu-id="8691d-220">hello grace period takes effect only when a friendly failover is not possible.</span></span> <span data-ttu-id="8691d-221">Als Hallo onderbreking is verholpen voordat Hallo respijtperiode is verlopen, Hallo failover niet is geactiveerd.</span><span class="sxs-lookup"><span data-stu-id="8691d-221">If hello outage is mitigated before hello grace period expires, hello failover is not activated.</span></span>
   >

* <span data-ttu-id="8691d-222">**Meerdere failover groepen**: U kunt meerdere groepen voor failover voor Hallo configureren dezelfde combinatie van servers toocontrol Hallo schaal van failovers.</span><span class="sxs-lookup"><span data-stu-id="8691d-222">**Multiple failover groups**: You can configure multiple failover groups for hello same pair of servers toocontrol hello scale of failovers.</span></span> <span data-ttu-id="8691d-223">Elke groep onafhankelijk failover wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="8691d-223">Each group fails over independently.</span></span> <span data-ttu-id="8691d-224">Als uw toepassing met meerdere tenants elastische pools gebruikt, kunt u deze mogelijkheid toomix primaire en secundaire databases in elke groep.</span><span class="sxs-lookup"><span data-stu-id="8691d-224">If your multi-tenant application uses elastic pools, you can use this capability toomix primary and secondary databases in each pool.</span></span> <span data-ttu-id="8691d-225">Op deze manier kunt u beperken Hallo gevolgen van een storing tooonly helft Hallo tenants.</span><span class="sxs-lookup"><span data-stu-id="8691d-225">This way you can reduce hello impact of an outage tooonly half of hello tenants.</span></span>

## <a name="best-practices-of-building-highly-available-service"></a><span data-ttu-id="8691d-226">Aanbevolen procedures van het bouwen van maximaal beschikbare service</span><span class="sxs-lookup"><span data-stu-id="8691d-226">Best practices of building highly available service</span></span>

<span data-ttu-id="8691d-227">een maximaal beschikbare service die gebruikmaakt van Azure SQL database Hallo klanten toobuild moet als volgt:</span><span class="sxs-lookup"><span data-stu-id="8691d-227">toobuild a highly available service that uses Azure SQL database hello customers should follow these guidelines:</span></span>
- <span data-ttu-id="8691d-228">**Failover-groep gebruiken**: een of meer groepen van failover kunnen worden gemaakt tussen twee servers in verschillende regio's (primaire en secundaire servers).</span><span class="sxs-lookup"><span data-stu-id="8691d-228">**Use failover group**: One or many failover groups can be created between two servers in different regions (primary and secondary servers).</span></span> <span data-ttu-id="8691d-229">Elke groep kan een of meer databases die worden hersteld als een eenheid voor het geval alle of sommige primaire databases niet meer beschikbaar is vanwege onderbreking in de primaire regio Hallo tooan bevatten.</span><span class="sxs-lookup"><span data-stu-id="8691d-229">Each group can include one or several databases that are recovered as a unit in case all or some primary databases become unavailable due tooan outage in hello primary region.</span></span> <span data-ttu-id="8691d-230">Hallo failover groep maakt geo-secundaire database met dezelfde service doelstelling als primaire Hallo Hallo.</span><span class="sxs-lookup"><span data-stu-id="8691d-230">hello failover group creates geo-secondary database with hello same service objective as hello primary.</span></span> <span data-ttu-id="8691d-231">Als u een bestaande geo-replicatie relatie toohello failover groep Zorg ervoor dat Hallo geo-secundaire is geconfigureerd met dezelfde service level objective als Hallo toevoegt Hallo primaire.</span><span class="sxs-lookup"><span data-stu-id="8691d-231">If you add an existing geo-replication relationship toohello failover group make sure hello geo-secondary is configured with hello same service level objective as hello primary.</span></span>
- <span data-ttu-id="8691d-232">**Gebruik alleen-lezen-listener voor OLTP-werkbelasting**: bij het uitvoeren van OLTP-bewerkingen gebruik  **&lt;failover groepsnaam&gt;. database.windows.net** zoals Hallo server-URL en het Hallo-verbindingen zijn automatisch gerichte toohello primaire.</span><span class="sxs-lookup"><span data-stu-id="8691d-232">**Use read-write listener for OLTP workload**: When performing OLTP operations use **&lt;failover-group-name&gt;.database.windows.net** as hello server URL and hello connections will be automatically directed toohello primary.</span></span> <span data-ttu-id="8691d-233">Deze URL wordt niet gewijzigd na een failover Hallo.</span><span class="sxs-lookup"><span data-stu-id="8691d-233">This URL will not change after hello failover.</span></span>  
<span data-ttu-id="8691d-234">Opmerking Hallo failover omvat het bijwerken van Hallo DNS-record dus Hallo clientverbindingen omgeleide toohello nieuwe primaire is alleen geldig na Hallo client DNS-cache is vernieuwd.</span><span class="sxs-lookup"><span data-stu-id="8691d-234">Note hello failover involves updating hello DNS record so hello client connections will be redirected toohello new primary only after hello client DNS cache is refreshed.</span></span>
- <span data-ttu-id="8691d-235">**Gebruik van alleen-lezen-listener voor de werkbelasting van alleen-lezen**: als u een logisch is geïsoleerd alleen-lezen-werkbelasting die fouttolerante toocertain veroudering van gegevens hebt, kunt u Hallo secundaire database in de toepassing hello.</span><span class="sxs-lookup"><span data-stu-id="8691d-235">**Use read-only listener for read-only workload**: If you have a logically isolated read-only workload that is tolerant toocertain staleness of data, you can use hello secondary database in hello application.</span></span> <span data-ttu-id="8691d-236">Voor alleen-lezen-sessies gebruiken  **&lt;failover groepsnaam&gt;. secondary.database.windows.net** zoals Hallo server-URL en het Hallo-verbinding automatisch gerichte toohello secundaire zijn.</span><span class="sxs-lookup"><span data-stu-id="8691d-236">For read-only sessions use **&lt;failover-group-name&gt;.secondary.database.windows.net** as hello server URL and hello connection will be automatically directed toohello secondary.</span></span> <span data-ttu-id="8691d-237">Het is ook raadzaam die u hebt opgegeven in de verbindingsreeks bedoeling lezen met behulp van **ApplicationIntent ReadOnly =**.</span><span class="sxs-lookup"><span data-stu-id="8691d-237">It is also recommended that you indicate in connection string read intent by using **ApplicationIntent=ReadOnly**.</span></span> 
- <span data-ttu-id="8691d-238">**Worden voorbereid voor de prestaties nadelig beïnvloeden**: SQL failover besluit is onafhankelijk van het Hallo rest van de toepassing hello of andere services die worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="8691d-238">**Be prepared for perf degradation**: SQL failover decision is independent from hello rest of hello application or other services used.</span></span> <span data-ttu-id="8691d-239">Hallo-toepassing worden "gecombineerd" met een aantal onderdelen in één regio en sommige in een andere.</span><span class="sxs-lookup"><span data-stu-id="8691d-239">hello application may be “mixed” with some components in one region and some in another.</span></span> <span data-ttu-id="8691d-240">tooavoid hello degradatie, zorg Hallo redundante toepassingsimplementatie in Hallo DR regio en Hallo richtlijnen in dit artikel.</span><span class="sxs-lookup"><span data-stu-id="8691d-240">tooavoid hello degradation, ensure hello redundant application deployment in hello DR region and follow hello guidelines in this article.</span></span>  
<span data-ttu-id="8691d-241">Opmerking Hallo toepassing in Hallo DR regio geen toouse een andere verbindingsreeks.</span><span class="sxs-lookup"><span data-stu-id="8691d-241">Note hello application in hello DR region does not have toouse a different connection string.</span></span>  
- <span data-ttu-id="8691d-242">**Voorbereiden voor gegevensverlies**: als er een storing wordt gedetecteerd, SQL lezen-schrijven failover automatisch geactiveerd als er geen gegevens verloren gaan toohello aanbevolen van onze kennis.</span><span class="sxs-lookup"><span data-stu-id="8691d-242">**Prepare for data loss**: If an outage is detected, SQL automatically triggers read-write failover if there is zero data loss toohello best of our knowledge.</span></span> <span data-ttu-id="8691d-243">Anders dat wordt gewacht totdat u door het opgegeven Hallo-periode **GracePeriodWithDataLossHours**.</span><span class="sxs-lookup"><span data-stu-id="8691d-243">Otherwise, it waits for hello period you specified by **GracePeriodWithDataLossHours**.</span></span> <span data-ttu-id="8691d-244">Als u hebt opgegeven **GracePeriodWithDataLossHours**, worden voorbereid op verlies van gegevens.</span><span class="sxs-lookup"><span data-stu-id="8691d-244">If you specified **GracePeriodWithDataLossHours**, be prepared for data loss.</span></span> <span data-ttu-id="8691d-245">In het algemeen tijdens uitval, Azure meer gericht op beschikbaarheid.</span><span class="sxs-lookup"><span data-stu-id="8691d-245">In general, during outages, Azure favors availability.</span></span> <span data-ttu-id="8691d-246">Als u geen enkele gegevens verloren gaan, zorg ervoor dat tooset **GracePeriodWithDataLossHours** tooa voldoende getal, zoals 24 uur.</span><span class="sxs-lookup"><span data-stu-id="8691d-246">If you cannot afford data loss, make sure tooset **GracePeriodWithDataLossHours** tooa sufficiently large number, such as 24 hours.</span></span> 


## <a name="upgrading-or-downgrading-a-primary-database"></a><span data-ttu-id="8691d-247">Een upgrade of een primaire database downgraden</span><span class="sxs-lookup"><span data-stu-id="8691d-247">Upgrading or downgrading a primary database</span></span>
<span data-ttu-id="8691d-248">U kunt de upgrade of een prestatieniveau van primaire database tooa verschillende downgraden (binnen Hallo dezelfde servicelaag) zonder te verbreken geen secundaire databases.</span><span class="sxs-lookup"><span data-stu-id="8691d-248">You can upgrade or downgrade a primary database tooa different performance level (within hello same service tier) without disconnecting any secondary databases.</span></span> <span data-ttu-id="8691d-249">Bij het bijwerken, wordt aangeraden dat u eerst de secundaire database Hallo upgraden en werk vervolgens Hallo primaire.</span><span class="sxs-lookup"><span data-stu-id="8691d-249">When upgrading, we recommend that you upgrade hello secondary database first, and then upgrade hello primary.</span></span> <span data-ttu-id="8691d-250">Wanneer downgraden, Hallo volgorde omkeren: Hallo primaire eerst downgraden en vervolgens gebruik maken van secundaire Hallo.</span><span class="sxs-lookup"><span data-stu-id="8691d-250">When downgrading, reverse hello order: downgrade hello primary first, and then downgrade hello secondary.</span></span> <span data-ttu-id="8691d-251">Wanneer u bijwerkt of Hallo database tooa verschillende servicelaag downgraden wordt deze aanbeveling afgedwongen.</span><span class="sxs-lookup"><span data-stu-id="8691d-251">When you upgrade or downgrade hello database tooa different service tier this recommendation is enforced.</span></span> 

> [!NOTE]
> <span data-ttu-id="8691d-252">Als u een secundaire database als onderdeel van de failoverconfiguratie groep Hallo gemaakt is het niet aanbevolen toodowngrade Hallo secundaire database.</span><span class="sxs-lookup"><span data-stu-id="8691d-252">If you created secondary database as part of hello failover group configuration it is not recommended toodowngrade hello secondary database.</span></span> <span data-ttu-id="8691d-253">Dit is tooensure uw gegevenslaag is voldoende capaciteit tooprocess uw reguliere werkbelasting nadat de failover is geactiveerd.</span><span class="sxs-lookup"><span data-stu-id="8691d-253">This is tooensure your data tier has sufficient capacity tooprocess your regular workload after failover is activated.</span></span> 
>

## <a name="preventing-hello-loss-of-critical-data"></a><span data-ttu-id="8691d-254">Hallo verlies van kritieke gegevens te voorkomen</span><span class="sxs-lookup"><span data-stu-id="8691d-254">Preventing hello loss of critical data</span></span>
<span data-ttu-id="8691d-255">Doorlopend kopiëren gebruikt vanwege toohello hoge latentie voor wide area network, een mechanisme voor asynchrone replicatie.</span><span class="sxs-lookup"><span data-stu-id="8691d-255">Due toohello high latency of wide area networks, continuous copy uses an asynchronous replication mechanism.</span></span> <span data-ttu-id="8691d-256">Asynchrone replicatie maakt gegevensverlies onvermijdelijke als er een fout optreedt.</span><span class="sxs-lookup"><span data-stu-id="8691d-256">Asynchronous replication makes some data loss unavoidable if a failure occurs.</span></span> <span data-ttu-id="8691d-257">Sommige toepassingen vereisen echter geen verlies van gegevens.</span><span class="sxs-lookup"><span data-stu-id="8691d-257">However, some applications may require no data loss.</span></span> <span data-ttu-id="8691d-258">tooprotect deze essentiële updates, een toepassingsontwikkelaar kunnen aanroepen Hallo [sp_wait_for_database_copy_sync](https://msdn.microsoft.com/library/dn467644.aspx) system procedure onmiddellijk na het Hallo-transactie doorvoeren.</span><span class="sxs-lookup"><span data-stu-id="8691d-258">tooprotect these critical updates, an application developer can call hello [sp_wait_for_database_copy_sync](https://msdn.microsoft.com/library/dn467644.aspx) system procedure immediately after committing hello transaction.</span></span> <span data-ttu-id="8691d-259">Het aanroepen van **sp_wait_for_database_copy_sync** blokken Hallo thread aanroepen totdat Hallo laatste doorgevoerde transactie is verzonden toohello secundaire database.</span><span class="sxs-lookup"><span data-stu-id="8691d-259">Calling **sp_wait_for_database_copy_sync** blocks hello calling thread until hello last committed transaction has been transmitted toohello secondary database.</span></span> <span data-ttu-id="8691d-260">Echter, het wacht niet Hallo verzonden transacties toobe opnieuw afgespeeld en doorgevoerd op de secundaire Hallo.</span><span class="sxs-lookup"><span data-stu-id="8691d-260">However, it does not wait for hello transmitted transactions toobe replayed and committed on hello secondary.</span></span> <span data-ttu-id="8691d-261">**sp_wait_for_database_copy_sync** is binnen het bereik tooa specifieke doorlopend kopiëren koppeling.</span><span class="sxs-lookup"><span data-stu-id="8691d-261">**sp_wait_for_database_copy_sync** is scoped tooa specific continuous copy link.</span></span> <span data-ttu-id="8691d-262">Elke gebruiker met Hallo verbinding rechten toohello primaire database kunt deze procedure aanroept.</span><span class="sxs-lookup"><span data-stu-id="8691d-262">Any user with hello connection rights toohello primary database can call this procedure.</span></span>

> [!NOTE]
> <span data-ttu-id="8691d-263">**sp_wait_for_database_copy_sync** wordt gegevensverlies voorkomen na een failover, maar deze wordt niet gegarandeerd dat volledige synchronisatie voor leestoegang.</span><span class="sxs-lookup"><span data-stu-id="8691d-263">**sp_wait_for_database_copy_sync** will prevent data loss after failover, but it will not guarantee full synchronization for read access.</span></span> <span data-ttu-id="8691d-264">Hallo vertraging veroorzaakt door een **sp_wait_for_database_copy_sync** procedureaanroep kan aanzienlijke en is afhankelijk van grootte van het transactielogboek Hallo HALLO hallo gelijktijdig met Hallo-aanroep.</span><span class="sxs-lookup"><span data-stu-id="8691d-264">hello delay caused by a **sp_wait_for_database_copy_sync** procedure call can be significant and depends on hello size of hello transaction log at hello time of hello call.</span></span> 
> 

## <a name="programmatically-managing-failover-groups-and-active-geo-replication"></a><span data-ttu-id="8691d-265">Failover-groepen en actieve geo-replicatie programmatisch te beheren</span><span class="sxs-lookup"><span data-stu-id="8691d-265">Programmatically managing failover groups and active geo-replication</span></span>
<span data-ttu-id="8691d-266">Zoals eerder besproken automatische failover-groepen (in preview) en actief is geo-replicatie kan ook worden beheerd via een programma met Azure PowerShell en Hallo REST-API.</span><span class="sxs-lookup"><span data-stu-id="8691d-266">As discussed previously, auto-failover groups (in-preview) and active geo-replication can also be managed programmatically using Azure PowerShell and hello REST API.</span></span> <span data-ttu-id="8691d-267">Hallo volgende tabellen beschrijven Hallo reeks opdrachten die beschikbaar zijn.</span><span class="sxs-lookup"><span data-stu-id="8691d-267">hello following tables describe hello set of commands available.</span></span>

<span data-ttu-id="8691d-268">**Azure Resource Manager-API en op rollen gebaseerde beveiliging**: actieve geo-replicatie bevat een set met Azure Resource Manager-API's voor beheer, met inbegrip van Hallo [REST-API van Azure SQL Database](https://docs.microsoft.com/rest/api/sql/) en [Azure PowerShell-cmdlets](https://docs.microsoft.com/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="8691d-268">**Azure Resource Manager API and role-based security**: Active geo-replication includes a set of Azure Resource Manager APIs for management, including hello [Azure SQL Database REST API](https://docs.microsoft.com/rest/api/sql/) and [Azure PowerShell cmdlets](https://docs.microsoft.com/powershell/azure/overview).</span></span> <span data-ttu-id="8691d-269">Deze API's vereisen Hallo gebruik van resourcegroepen en ondersteuning voor beveiliging op basis van rollen (RBAC).</span><span class="sxs-lookup"><span data-stu-id="8691d-269">These APIs require hello use of resource groups and support role-based security (RBAC).</span></span> <span data-ttu-id="8691d-270">Zie voor meer informatie over hoe tooimplement toegang krijgen tot rollen, [rollen gebaseerd toegangsbeheer](../active-directory/role-based-access-control-what-is.md).</span><span class="sxs-lookup"><span data-stu-id="8691d-270">For more information on how tooimplement access roles, see [Azure Role-Based Access Control](../active-directory/role-based-access-control-what-is.md).</span></span>

> [!NOTE]
> <span data-ttu-id="8691d-271">Veel nieuwe functies van actieve geo-replicatie worden alleen ondersteund met [Azure Resource Manager](../azure-resource-manager/resource-group-overview.md) op basis van [REST-API van Azure SQL](https://msdn.microsoft.com/library/azure/mt163571.aspx) en [Azure SQL Database PowerShell-cmdlets](https://msdn.microsoft.com/library/azure/mt574084.aspx).</span><span class="sxs-lookup"><span data-stu-id="8691d-271">Many new features of active geo-replication are only supported using [Azure Resource Manager](../azure-resource-manager/resource-group-overview.md) based [Azure SQL REST API](https://msdn.microsoft.com/library/azure/mt163571.aspx) and [Azure SQL Database PowerShell cmdlets](https://msdn.microsoft.com/library/azure/mt574084.aspx).</span></span> <span data-ttu-id="8691d-272">Hallo [(klassiek) REST-API](https://msdn.microsoft.com/library/azure/dn505719.aspx) en [cmdlets van Azure SQL Database (klassiek)](https://msdn.microsoft.com/library/azure/dn546723.aspx) worden ondersteund voor neerwaartse compatibiliteit met behulp van hello Azure Resource Manager gebaseerde API's worden aanbevolen.</span><span class="sxs-lookup"><span data-stu-id="8691d-272">hello [(classic) REST API](https://msdn.microsoft.com/library/azure/dn505719.aspx) and [Azure SQL Database (classic) cmdlets](https://msdn.microsoft.com/library/azure/dn546723.aspx) are supported for backward compatibility so using hello Azure Resource Manager-based APIs are recommended.</span></span> 
> 

## <a name="manage-sql-database-failover-using-using-transact-sql"></a><span data-ttu-id="8691d-273">SQL database failover met behulp van Transact-SQL beheren</span><span class="sxs-lookup"><span data-stu-id="8691d-273">Manage SQL database failover using using Transact-SQL</span></span>

| <span data-ttu-id="8691d-274">Opdracht</span><span class="sxs-lookup"><span data-stu-id="8691d-274">Command</span></span> | <span data-ttu-id="8691d-275">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="8691d-275">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="8691d-276">ALTER DATABASE (Azure SQL Database)</span><span class="sxs-lookup"><span data-stu-id="8691d-276">ALTER DATABASE (Azure SQL Database)</span></span>](https://msdn.microsoft.com/library/mt574871.aspx) |<span data-ttu-id="8691d-277">SECUNDAIRE ON-SERVER toevoegen argument toocreate een secundaire database gebruiken voor een bestaande database en start gegevensreplicatie</span><span class="sxs-lookup"><span data-stu-id="8691d-277">Use ADD SECONDARY ON SERVER argument toocreate a secondary database for an existing database and starts data replication</span></span> |
| [<span data-ttu-id="8691d-278">ALTER DATABASE (Azure SQL Database)</span><span class="sxs-lookup"><span data-stu-id="8691d-278">ALTER DATABASE (Azure SQL Database)</span></span>](https://msdn.microsoft.com/library/mt574871.aspx) |<span data-ttu-id="8691d-279">Gebruik een FAILOVER of FORCE_FAILOVER_ALLOW_DATA_LOSS tooswitch een secundaire database toobe primaire tooinitiate failover</span><span class="sxs-lookup"><span data-stu-id="8691d-279">Use FAILOVER or FORCE_FAILOVER_ALLOW_DATA_LOSS tooswitch a secondary database toobe primary tooinitiate failover</span></span> |
| [<span data-ttu-id="8691d-280">ALTER DATABASE (Azure SQL Database)</span><span class="sxs-lookup"><span data-stu-id="8691d-280">ALTER DATABASE (Azure SQL Database)</span></span>](https://msdn.microsoft.com/library/mt574871.aspx) |<span data-ttu-id="8691d-281">Gebruik secundaire ON-SERVER verwijderen tooterminate een gegevensreplicatie tussen een SQL-Database en het Hallo opgegeven secundaire database.</span><span class="sxs-lookup"><span data-stu-id="8691d-281">Use REMOVE SECONDARY ON SERVER tooterminate a data replication between a SQL Database and hello specified secondary database.</span></span> |
| [<span data-ttu-id="8691d-282">sys.geo_replication_links (Azure SQL Database)</span><span class="sxs-lookup"><span data-stu-id="8691d-282">sys.geo_replication_links (Azure SQL Database)</span></span>](https://msdn.microsoft.com/library/mt575501.aspx) |<span data-ttu-id="8691d-283">Retourneert informatie over alle bestaande replicatiekoppelingen voor elke database op logische hello Azure SQL Database-server.</span><span class="sxs-lookup"><span data-stu-id="8691d-283">Returns information about all existing replication links for each database on hello Azure SQL Database logical server.</span></span> |
| [<span data-ttu-id="8691d-284">sys.dm_geo_replication_link_status (Azure SQL Database)</span><span class="sxs-lookup"><span data-stu-id="8691d-284">sys.dm_geo_replication_link_status (Azure SQL Database)</span></span>](https://msdn.microsoft.com/library/mt575504.aspx) |<span data-ttu-id="8691d-285">Opgehaald Hallo tijd van laatste replicatie, laatste vertraging van replicatie en andere informatie over de replicatiekoppeling Hallo voor een bepaalde SQL-database.</span><span class="sxs-lookup"><span data-stu-id="8691d-285">Gets hello last replication time, last replication lag, and other information about hello replication link for a given SQL database.</span></span> |
| [<span data-ttu-id="8691d-286">sys.dm_operation_status bevat (Azure SQL Database)</span><span class="sxs-lookup"><span data-stu-id="8691d-286">sys.dm_operation_status (Azure SQL Database)</span></span>](https://msdn.microsoft.com/library/dn270022.aspx) |<span data-ttu-id="8691d-287">Hallo-status voor alle databasebewerkingen waaronder Hallo status van replicatiekoppelingen Hallo bevat.</span><span class="sxs-lookup"><span data-stu-id="8691d-287">Shows hello status for all database operations including hello status of hello replication links.</span></span> |
| [<span data-ttu-id="8691d-288">sp_wait_for_database_copy_sync (Azure SQL Database)</span><span class="sxs-lookup"><span data-stu-id="8691d-288">sp_wait_for_database_copy_sync (Azure SQL Database)</span></span>](https://msdn.microsoft.com/library/dn467644.aspx) |<span data-ttu-id="8691d-289">zorgt ervoor dat Hallo toepassing toowait totdat alle doorgevoerde transacties zijn gerepliceerd en bevestigd door Hallo actieve secundaire database.</span><span class="sxs-lookup"><span data-stu-id="8691d-289">causes hello application toowait until all committed transactions are replicated and acknowledged by hello active secondary database.</span></span> |
|  | |

## <a name="manage-sql-database-failover-using-using-powershell"></a><span data-ttu-id="8691d-290">SQL database failover met behulp van PowerShell beheren</span><span class="sxs-lookup"><span data-stu-id="8691d-290">Manage SQL database failover using using PowerShell</span></span>

| <span data-ttu-id="8691d-291">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="8691d-291">Cmdlet</span></span> | <span data-ttu-id="8691d-292">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="8691d-292">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="8691d-293">Get-AzureRmSqlDatabase</span><span class="sxs-lookup"><span data-stu-id="8691d-293">Get-AzureRmSqlDatabase</span></span>](/powershell/module/azurerm.sql/get-azurermsqldatabase) |<span data-ttu-id="8691d-294">Hiermee haalt u een of meer databases.</span><span class="sxs-lookup"><span data-stu-id="8691d-294">Gets one or more databases.</span></span> |
| [<span data-ttu-id="8691d-295">Nieuwe AzureRmSqlDatabaseSecondary</span><span class="sxs-lookup"><span data-stu-id="8691d-295">New-AzureRmSqlDatabaseSecondary</span></span>](/powershell/module/azurerm.sql/new-azurermsqldatabasesecondary) |<span data-ttu-id="8691d-296">Hiermee maakt u een secundaire database voor een bestaande database en start gegevensreplicatie.</span><span class="sxs-lookup"><span data-stu-id="8691d-296">Creates a secondary database for an existing database and starts data replication.</span></span> |
| [<span data-ttu-id="8691d-297">Set-AzureRmSqlDatabaseSecondary</span><span class="sxs-lookup"><span data-stu-id="8691d-297">Set-AzureRmSqlDatabaseSecondary</span></span>](/powershell/module/azurerm.sql/set-azurermsqldatabasesecondary) |<span data-ttu-id="8691d-298">Een secundaire database toobe primaire tooinitiate failover verandert.</span><span class="sxs-lookup"><span data-stu-id="8691d-298">Switches a secondary database toobe primary tooinitiate failover.</span></span> |
| [<span data-ttu-id="8691d-299">Verwijder AzureRmSqlDatabaseSecondary</span><span class="sxs-lookup"><span data-stu-id="8691d-299">Remove-AzureRmSqlDatabaseSecondary</span></span>](/powershell/module/azurerm.sql/remove-azurermsqldatabasesecondary) |<span data-ttu-id="8691d-300">Beëindigt gegevensreplicatie tussen een SQL-Database en het Hallo opgegeven secundaire database.</span><span class="sxs-lookup"><span data-stu-id="8691d-300">Terminates data replication between a SQL Database and hello specified secondary database.</span></span> |
| [<span data-ttu-id="8691d-301">Get-AzureRmSqlDatabaseReplicationLink</span><span class="sxs-lookup"><span data-stu-id="8691d-301">Get-AzureRmSqlDatabaseReplicationLink</span></span>](/powershell/module/azurerm.sql/get-azurermsqldatabasereplicationlink) |<span data-ttu-id="8691d-302">Hiermee haalt u Hallo geo-replicatiekoppelingen tussen een Azure SQL Database en een resourcegroep of SQL Server.</span><span class="sxs-lookup"><span data-stu-id="8691d-302">Gets hello geo-replication links between an Azure SQL Database and a resource group or SQL Server.</span></span> |
| [<span data-ttu-id="8691d-303">Nieuwe AzureRmSqlDatabaseFailoverGroup</span><span class="sxs-lookup"><span data-stu-id="8691d-303">New-AzureRmSqlDatabaseFailoverGroup</span></span>](/powershell/module/azurerm.sql/set-azurermsqldatabasefailovergroup) |   <span data-ttu-id="8691d-304">Deze opdracht maakt een failover-groep en registreert deze op de primaire en secundaire servers</span><span class="sxs-lookup"><span data-stu-id="8691d-304">This command creates a failover group and registers it on both primary and secondary servers</span></span>|
| [<span data-ttu-id="8691d-305">Verwijder AzureRmSqlDatabaseFailoverGroup</span><span class="sxs-lookup"><span data-stu-id="8691d-305">Remove-AzureRmSqlDatabaseFailoverGroup</span></span>](/powershell/module/azurerm.sql/remove-azurermsqldatabasefailovergroup) | <span data-ttu-id="8691d-306">Hallo failover groep verwijdert van Hallo-server en alle secundaire databases opgenomen Hallo groep verwijderd</span><span class="sxs-lookup"><span data-stu-id="8691d-306">Removes hello failover group from hello server and deletes all secondary databases included hello group</span></span> |
| [<span data-ttu-id="8691d-307">Get-AzureRmSqlDatabaseFailoverGroup</span><span class="sxs-lookup"><span data-stu-id="8691d-307">Get-AzureRmSqlDatabaseFailoverGroup</span></span>](/powershell/module/azurerm.sql/get-azurermsqldatabasefailovergroup) | <span data-ttu-id="8691d-308">Configuratie van failover Hallo opgehaald</span><span class="sxs-lookup"><span data-stu-id="8691d-308">Retrieves hello failover group configuration</span></span> |
| [<span data-ttu-id="8691d-309">Set-AzureRmSqlDatabaseFailoverGroup</span><span class="sxs-lookup"><span data-stu-id="8691d-309">Set-AzureRmSqlDatabaseFailoverGroup</span></span>](/powershell/module/azurerm.sql/set-azurermsqldatabasefailovergroup) |   <span data-ttu-id="8691d-310">Hallo-configuratie van Hallo failover groep wijzigen</span><span class="sxs-lookup"><span data-stu-id="8691d-310">Modifies hello configuration of hello failover group</span></span> |
| [<span data-ttu-id="8691d-311">Switch-AzureRMSqlDatabaseFailoverGroup</span><span class="sxs-lookup"><span data-stu-id="8691d-311">Switch-AzureRMSqlDatabaseFailoverGroup</span></span>](/powershell/module/azurerm.sql/switch-azurermsqldatabasefailovergroup) | <span data-ttu-id="8691d-312">Triggers failover van Hallo failover groep toohello secundaire server</span><span class="sxs-lookup"><span data-stu-id="8691d-312">Triggers failover of hello failover group toohello secondary server</span></span> |
|  | |

> [!IMPORTANT]
> <span data-ttu-id="8691d-313">Zie voor voorbeelden van scripts, [en failover een individuele database met behulp van actieve geo-replicatie configureren](scripts/sql-database-setup-geodr-and-failover-database-powershell.md), [en failover een gegroepeerde database met behulp van actieve geo-replicatie configureren](scripts/sql-database-setup-geodr-and-failover-pool-powershell.md), en [configureren en failover een failover-groep voor één database (preview)] (scripts/sql-database-setup-geodr-failover-database-failover-group-powershell.md.</span><span class="sxs-lookup"><span data-stu-id="8691d-313">For sample scripts, see [Configure and failover a single database using active geo-replication](scripts/sql-database-setup-geodr-and-failover-database-powershell.md), [Configure and failover a pooled database using active geo-replication](scripts/sql-database-setup-geodr-and-failover-pool-powershell.md), and  [Configure and failover a failover group for a single database (preview)](scripts/sql-database-setup-geodr-failover-database-failover-group-powershell.md.</span></span>
>

## <a name="manage-sql-database-failover-using-hello-rest-api"></a><span data-ttu-id="8691d-314">SQL database failover via Hallo REST-API beheren</span><span class="sxs-lookup"><span data-stu-id="8691d-314">Manage SQL database failover using hello REST API</span></span>
| <span data-ttu-id="8691d-315">API</span><span class="sxs-lookup"><span data-stu-id="8691d-315">API</span></span> | <span data-ttu-id="8691d-316">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="8691d-316">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="8691d-317">Maken of de Database-Update (createMode = herstellen)</span><span class="sxs-lookup"><span data-stu-id="8691d-317">Create or Update Database (createMode=Restore)</span></span>](/rest/api/sql/Databases/CreateOrUpdate) |<span data-ttu-id="8691d-318">Gemaakt, bijgewerkt of hersteld van een primaire of secundaire database.</span><span class="sxs-lookup"><span data-stu-id="8691d-318">Creates, updates, or restores a primary or a secondary database.</span></span> |
| [<span data-ttu-id="8691d-319">Get maken of bijwerken van de databasestatus</span><span class="sxs-lookup"><span data-stu-id="8691d-319">Get Create or Update Database Status</span></span>](/rest/api/sql/Databases/CreateOrUpdate) |<span data-ttu-id="8691d-320">Retourneert Hallo status tijdens een bewerking voor maken.</span><span class="sxs-lookup"><span data-stu-id="8691d-320">Returns hello status during a create operation.</span></span> |
| [<span data-ttu-id="8691d-321">Secundaire Database instellen als primaire (geplande Failover)</span><span class="sxs-lookup"><span data-stu-id="8691d-321">Set Secondary Database as Primary (Planned Failover)</span></span>](https://docs.microsoft.com/rest/api/sql/replicationlinkss#ReplicationLinks_Failover) |<span data-ttu-id="8691d-322">Hiermee wordt ingesteld welke replica-database door de storing worden overgenomen uit de huidige primaire replica-database Hallo primaire is.</span><span class="sxs-lookup"><span data-stu-id="8691d-322">Sets which replica database is primary by failing over from hello current primary replica database.</span></span> |
| [<span data-ttu-id="8691d-323">Secundaire Database instellen als primaire (niet-geplande Failover)</span><span class="sxs-lookup"><span data-stu-id="8691d-323">Set Secondary Database as Primary (Unplanned Failover)</span></span>](https://docs.microsoft.com/rest/api/sql/replicationlinks#ReplicationLinks_FailoverAllowDataLoss) |<span data-ttu-id="8691d-324">Hiermee wordt ingesteld welke replica-database door de storing worden overgenomen uit de huidige primaire replica-database Hallo primaire is.</span><span class="sxs-lookup"><span data-stu-id="8691d-324">Sets which replica database is primary by failing over from hello current primary replica database.</span></span> <span data-ttu-id="8691d-325">Deze bewerking kan leiden tot verlies van gegevens.</span><span class="sxs-lookup"><span data-stu-id="8691d-325">This operation might result in data loss.</span></span> |
| [<span data-ttu-id="8691d-326">Replicatiekoppeling ophalen</span><span class="sxs-lookup"><span data-stu-id="8691d-326">Get Replication Link</span></span>](/rest/api/sql/replicationlinks/get) |<span data-ttu-id="8691d-327">Hiermee haalt een bepaalde replicatiekoppeling voor een gegeven SQL-database in een associatie geo-replicatie.</span><span class="sxs-lookup"><span data-stu-id="8691d-327">Gets a specific replication link for a given SQL database in a geo-replication partnership.</span></span> <span data-ttu-id="8691d-328">Het ophalen van Hallo informatie zichtbaar is in de catalogusweergave Hallo-sys.geo_replication_links.</span><span class="sxs-lookup"><span data-stu-id="8691d-328">It retrieves hello information visible in hello sys.geo_replication_links catalog view.</span></span> |
| [<span data-ttu-id="8691d-329">Koppelingen voor databasereplicatie - lijst per Database</span><span class="sxs-lookup"><span data-stu-id="8691d-329">Replication Links - List By Database</span></span>](/rest/api/sql/replicationlinks/listbydatabase) | <span data-ttu-id="8691d-330">Hiermee haalt alle koppelingen voor databasereplicatie voor een gegeven SQL-database in een associatie geo-replicatie.</span><span class="sxs-lookup"><span data-stu-id="8691d-330">Gets all replication links for a given SQL database in a geo-replication partnership.</span></span> <span data-ttu-id="8691d-331">Het ophalen van Hallo informatie zichtbaar is in de catalogusweergave Hallo-sys.geo_replication_links.</span><span class="sxs-lookup"><span data-stu-id="8691d-331">It retrieves hello information visible in hello sys.geo_replication_links catalog view.</span></span> |
| [<span data-ttu-id="8691d-332">Replicatiekoppeling verwijderen</span><span class="sxs-lookup"><span data-stu-id="8691d-332">Delete Replication Link</span></span>](/rest/api/sql/databases/delete) | <span data-ttu-id="8691d-333">Hiermee verwijdert u een databasereplicatiekoppeling.</span><span class="sxs-lookup"><span data-stu-id="8691d-333">Deletes a database replication link.</span></span> <span data-ttu-id="8691d-334">Tijdens de failover kan niet worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="8691d-334">Cannot be done during failover.</span></span> |
| <span data-ttu-id="8691d-335">[Maken of Failover-Update groep] / rest/api/sql/failovergroups/createorupdate)</span><span class="sxs-lookup"><span data-stu-id="8691d-335">[Create or Update Failover Group]/rest/api/sql/failovergroups/createorupdate)</span></span> | <span data-ttu-id="8691d-336">Maken of bijwerken van een failover-groep</span><span class="sxs-lookup"><span data-stu-id="8691d-336">Creates or updates a failover group</span></span> |
| [<span data-ttu-id="8691d-337">Failover-groep verwijderen</span><span class="sxs-lookup"><span data-stu-id="8691d-337">Delete Failover Group</span></span>](/rest/api/sql/failovergroups/delete) | <span data-ttu-id="8691d-338">Hallo failover groep verwijdert van Hallo-server</span><span class="sxs-lookup"><span data-stu-id="8691d-338">Removes hello failover group from hello server</span></span> |
| [<span data-ttu-id="8691d-339">Failover (gepland)</span><span class="sxs-lookup"><span data-stu-id="8691d-339">Failover (Planned)</span></span>](/rest/api/sql/failovergroups/failover) | <span data-ttu-id="8691d-340">Failover van Hallo huidige primaire server toothis server.</span><span class="sxs-lookup"><span data-stu-id="8691d-340">Fails over from hello current primary server toothis server.</span></span> |
| [<span data-ttu-id="8691d-341">Force Failover verlies van gegevens toestaan</span><span class="sxs-lookup"><span data-stu-id="8691d-341">Force Failover Allow Data Loss</span></span>](/rest/api/sql/failovergroups/forcefailoverallowdataloss) |<span data-ttu-id="8691d-342">ails via van Hallo huidige primaire server toothis server.</span><span class="sxs-lookup"><span data-stu-id="8691d-342">ails over from hello current primary server toothis server.</span></span> <span data-ttu-id="8691d-343">Deze bewerking kan leiden tot verlies van gegevens.</span><span class="sxs-lookup"><span data-stu-id="8691d-343">This operation might result in data loss.</span></span> |
| [<span data-ttu-id="8691d-344">Get-Failover-groep</span><span class="sxs-lookup"><span data-stu-id="8691d-344">Get Failover Group</span></span>](/rest/api/sql/failovergroups/get) | <span data-ttu-id="8691d-345">Hiermee haalt u een failover-groep.</span><span class="sxs-lookup"><span data-stu-id="8691d-345">Gets a failover group.</span></span> |
| [<span data-ttu-id="8691d-346">Lijst met failover-groepen door Server</span><span class="sxs-lookup"><span data-stu-id="8691d-346">List Failover Groups By Server</span></span>](/rest/api/sql/failovergroups/listbyserver) | <span data-ttu-id="8691d-347">Een lijst met groepen van Hallo-failover in een server.</span><span class="sxs-lookup"><span data-stu-id="8691d-347">Lists hello failover groups in a server.</span></span> |
| [<span data-ttu-id="8691d-348">Failover-Updategroep</span><span class="sxs-lookup"><span data-stu-id="8691d-348">Update Failover Group</span></span>](/rest/api/sql/failovergroups/update) | <span data-ttu-id="8691d-349">Een groep failover-updates.</span><span class="sxs-lookup"><span data-stu-id="8691d-349">Updates a failover group.</span></span> |
|  | |

## <a name="next-steps"></a><span data-ttu-id="8691d-350">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="8691d-350">Next steps</span></span>
* <span data-ttu-id="8691d-351">Zie voor voorbeeldscripts:</span><span class="sxs-lookup"><span data-stu-id="8691d-351">For sample scripts, see:</span></span>
   - [<span data-ttu-id="8691d-352">Configureren en failover een individuele database met behulp van actieve geo-replicatie</span><span class="sxs-lookup"><span data-stu-id="8691d-352">Configure and failover a single database using active geo-replication</span></span>](scripts/sql-database-setup-geodr-and-failover-database-powershell.md)
   - [<span data-ttu-id="8691d-353">Configureren en failover een gegroepeerde database met behulp van actieve geo-replicatie</span><span class="sxs-lookup"><span data-stu-id="8691d-353">Configure and failover a pooled database using active geo-replication</span></span>](scripts/sql-database-setup-geodr-and-failover-pool-powershell.md)
   - [<span data-ttu-id="8691d-354">Configureren en failover een failover-groep voor één database (preview)</span><span class="sxs-lookup"><span data-stu-id="8691d-354">Configure and failover a failover group for a single database (preview)</span></span>](scripts/sql-database-setup-geodr-failover-database-failover-group-powershell.md)
* <span data-ttu-id="8691d-355">Zie voor een overzicht van zakelijke continuïteit en scenario's [Business continuity-overzicht](sql-database-business-continuity.md)</span><span class="sxs-lookup"><span data-stu-id="8691d-355">For a business continuity overview and scenarios, see [Business continuity overview](sql-database-business-continuity.md)</span></span>
* <span data-ttu-id="8691d-356">toolearn over Azure SQL Database automatische back-ups, Zie [geautomatiseerde back-ups van SQL-Database](sql-database-automated-backups.md).</span><span class="sxs-lookup"><span data-stu-id="8691d-356">toolearn about Azure SQL Database automated backups, see [SQL Database automated backups](sql-database-automated-backups.md).</span></span>
* <span data-ttu-id="8691d-357">toolearn over het gebruik van automatische back-ups voor herstel, Zie [een database terugzetten vanuit Hallo service geïnitieerde back-ups](sql-database-recovery-using-backups.md).</span><span class="sxs-lookup"><span data-stu-id="8691d-357">toolearn about using automated backups for recovery, see [Restore a database from hello service-initiated backups](sql-database-recovery-using-backups.md).</span></span>
* <span data-ttu-id="8691d-358">toolearn over de verificatievereisten voor voor een nieuwe primaire server en database, Zie [beveiliging van SQL Database na het herstel na noodgevallen](sql-database-geo-replication-security-config.md).</span><span class="sxs-lookup"><span data-stu-id="8691d-358">toolearn about authentication requirements for a new primary server and database, see [SQL Database security after disaster recovery](sql-database-geo-replication-security-config.md).</span></span>

