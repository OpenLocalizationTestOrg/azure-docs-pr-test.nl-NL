---
title: SQL Database - automatische afstemming | Microsoft Docs
description: SQL-Database analyseert SQL-query en wordt automatisch aangepast aan de werkbelasting van de gebruiker.
services: sql-database
documentationcenter: 
author: jovanpop-msft
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: monitor & tune
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/05/2017
ms.author: jovanpop
ms.openlocfilehash: f5552793db2d89542782b7d9e8f996314f62e429
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/11/2017
---
# <a name="automatic-tuning"></a><span data-ttu-id="7aa9a-103">Automatisch instellen</span><span class="sxs-lookup"><span data-stu-id="7aa9a-103">Automatic tuning</span></span>

<span data-ttu-id="7aa9a-104">Azure SQL-Database is een volledig beheerde gegevensservice dat de query's die worden uitgevoerd op de database en kunnen de prestaties van de werkbelasting automatisch verbeterd bewaakt.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-104">Azure SQL Database is a fully managed data service that monitors the queries that are executed on the database and can automatically improve performance of the workload.</span></span> <span data-ttu-id="7aa9a-105">Azure SQL-Database heeft een ingebouwde intelligentie mechanisme waarmee automatisch kunt afstemmen en prestaties van uw query's verbeteren door dynamisch aanpassing van de database naar uw workload.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-105">Azure SQL Database has a built-in intelligence mechanism that can automatically tune and improve performance of your queries by dynamically adapting the database to your workload.</span></span> <span data-ttu-id="7aa9a-106">Automatische afstemming in Azure SQL Database is mogelijk een van de belangrijkste functies dat u in Azure SQL-Database inschakelen kunt om de prestaties van uw query's te optimaliseren.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-106">Automatic tuning in Azure SQL Database might be one of the most important features that you can enable on Azure SQL Database to optimize performance of your queries.</span></span>

<span data-ttu-id="7aa9a-107">Raadpleeg dit artikel voor de stappen voor het [inschakelen automatische afstemming](sql-database-automatic-tuning-enable.md) met de Azure portal.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-107">See this article for the steps to [enable automatic tuning](sql-database-automatic-tuning-enable.md) using the Azure portal.</span></span>

## <a name="why-automatic-tuning"></a><span data-ttu-id="7aa9a-108">Waarom automatische afstemming?</span><span class="sxs-lookup"><span data-stu-id="7aa9a-108">Why automatic tuning?</span></span>

<span data-ttu-id="7aa9a-109">Een van de belangrijkste taken in de klassieke databasebeheer wordt bewaakt door de werkbelasting, kritieke SQL-query's, indexen die moeten worden toegevoegd om prestaties te verbeteren en zelden gebruikte indexen te identificeren.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-109">One of the main tasks in classic database administration is monitoring the workload, identifying critical SQL queries, indexes that should be added to improve performance, and rarely used indexes.</span></span> <span data-ttu-id="7aa9a-110">Azure SQL Database biedt gedetailleerde inzicht in de query's en indexen die u wilt bewaken.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-110">Azure SQL Database provides detailed insight into the queries and indexes that you need to monitor.</span></span> <span data-ttu-id="7aa9a-111">Maar doorlopende databasebewaking is een moeilijke, tijdrovende taak, zeker wanneer het om vele databases gaat.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-111">However, constantly monitoring database is a hard and tedious task, especially when dealing with many databases.</span></span> <span data-ttu-id="7aa9a-112">Het beheren van een zeer groot aantal databases mogelijk niet mogelijk om u te doen efficiënt zelfs met alle beschikbare hulpprogramma's en rapporten die Azure SQL Database en de Azure-portal bieden.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-112">Managing a huge number of databases might be impossible to do efficiently even with all available tools and reports that Azure SQL Database and Azure portal provide.</span></span> <span data-ttu-id="7aa9a-113">In plaats van controleren en de database handmatig afstemmen, kunt u enkele van de acties controleren en afstemmen met Azure SQL Database met behulp van de functie voor automatisch afstemmen delegeren.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-113">Instead of monitoring and tuning your database manually, you might consider delegating some of the monitoring and tuning actions to Azure SQL Database using automatic tuning feature.</span></span> 


> [!VIDEO https://channel9.msdn.com/Blogs/Azure-in-the-Enterprise/Enabling-Azure-SQL-Database-Auto-Tuning-at-Scale-for-Microsoft-IT/player]
>

## <a name="how-does-automatic-tuning-work"></a><span data-ttu-id="7aa9a-114">Hoe werkt automatische afstemmen?</span><span class="sxs-lookup"><span data-stu-id="7aa9a-114">How does automatic tuning work?</span></span>

<span data-ttu-id="7aa9a-115">Azure SQL-Database heeft een continue prestaties en -analyse proces dat voortdurend gegevens verzamelt over de kenmerken van uw werkbelasting en identificeren van mogelijke problemen en verbeteringen.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-115">Azure SQL Database has a continuous performance monitoring and analysis process that constantly learns about the characteristic of your workload and identify potential issues and improvements.</span></span>

![Automatische afstemmen-proces](./media/sql-database-automatic-tuning/tuning-process.png)

<span data-ttu-id="7aa9a-117">Dit proces kunnen Azure SQL Database dynamisch aanpassen aan uw werkbelasting door te zoeken welke indexen en planningen mogelijk voor betere prestaties van uw werkbelastingen en welke indexen van invloed op uw werkbelastingen.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-117">This process enables Azure SQL Database to dynamically adapt to your workload by finding what indexes and plans might improve performance of your workloads and what indexes affect your workloads.</span></span> <span data-ttu-id="7aa9a-118">Op basis van deze resultaten, maatregelen automatische afstemming afstemmen ter verbetering van de prestaties van uw workload.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-118">Based on these findings, automatic tuning applies tuning actions that improve performance of your workload.</span></span> <span data-ttu-id="7aa9a-119">Bovendien voortdurend Azure SQL Database prestaties na elke wijziging door automatische afstemming om ervoor te zorgen dat het verbetert de prestaties van uw workload.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-119">In addition, Azure SQL Database continuously monitors performance after any change made by automatic tuning to ensure that it improves performance of your workload.</span></span> <span data-ttu-id="7aa9a-120">Een actie op die u hebt niet de prestaties verbeteren, wordt automatisch hersteld.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-120">Any action that didn’t improve performance is automatically reverted.</span></span> <span data-ttu-id="7aa9a-121">Dit verificatieproces is een belangrijke functie die ervoor zorgt dat elke wijziging door automatische afstemming niet is van de prestaties van uw workload verkleinen.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-121">This verification process is a key feature that ensures that any change made by automatic tuning does not decrease the performance of your workload.</span></span>

<span data-ttu-id="7aa9a-122">Er zijn twee automatische afstemmen aspecten die beschikbaar in Azure SQL Database zijn:</span><span class="sxs-lookup"><span data-stu-id="7aa9a-122">There are two automatic tuning aspects that are available in Azure SQL Database:</span></span>

 -  <span data-ttu-id="7aa9a-123">**Automatische indexbeheer** die identificeert indexen die moeten worden toegevoegd in de database en indexen die moeten worden verwijderd.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-123">**Automatic index management** that identifies indexes that should be added in your database, and indexes that should be removed.</span></span>
 -  <span data-ttu-id="7aa9a-124">**Automatische plan correctie** (binnenkort beschikbaar, al beschikbaar in SQL Server 2017) die problematisch plannen identificeert en correcties SQL plan prestatieproblemen.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-124">**Automatic plan correction** (coming soon, already available in SQL Server 2017) that identifies problematic plans and fixes SQL plan performance problems.</span></span>

## <a name="automatic-index-management"></a><span data-ttu-id="7aa9a-125">Automatische indexbeheer</span><span class="sxs-lookup"><span data-stu-id="7aa9a-125">Automatic index management</span></span>

<span data-ttu-id="7aa9a-126">Beheer van de index is in Azure SQL Database eenvoudig omdat Azure SQL Database gegevens over uw werkbelasting verzamelt en zorgt ervoor dat uw gegevens altijd optimaal is geïndexeerd.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-126">In Azure SQL Database, index management is easy because Azure SQL Database learns about your workload and ensures that your data is always optimally indexed.</span></span> <span data-ttu-id="7aa9a-127">Ontwerp voor de juiste index is van cruciaal belang voor optimale prestaties van uw werkbelasting en beheer van de automatische index kunt u de indexen optimaliseren.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-127">Proper index design is crucial for optimal performance of your workload, and automatic index management can help you optimize your indexes.</span></span> <span data-ttu-id="7aa9a-128">Automatische indexbeheer kunt prestatieproblemen oplossen in onjuist geïndexeerde databases of onderhouden en verbeteren van indexen voor het schema van de bestaande database.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-128">Automatic index management can either fix performance issues in incorrectly indexed databases, or maintain and improve indexes on the existing database schema.</span></span> 

### <a name="why-do-you-need-index-management"></a><span data-ttu-id="7aa9a-129">Waarom moet u beheer van de index?</span><span class="sxs-lookup"><span data-stu-id="7aa9a-129">Why do you need index management?</span></span>

<span data-ttu-id="7aa9a-130">Indexen te versnellen enkele van uw query's die gegevens uit de tabellen lezen. ze kunnen echter de query's die gegevens bijwerken vertragen.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-130">Indexes speed up some of your queries that read data from the tables; however, they can slow down the queries that update data.</span></span> <span data-ttu-id="7aa9a-131">U moet zorgvuldig analyseren wanneer een index te maken en welke kolommen u wilt opnemen in de index.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-131">You need to carefully analyze when to create an index and what columns you need to include in the index.</span></span> <span data-ttu-id="7aa9a-132">Sommige indexen mogelijk niet na enige tijd nodig.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-132">Some indexes might not be needed after some time.</span></span> <span data-ttu-id="7aa9a-133">Daarom moet u regelmatig identificeren en verwijder de indexen die niet in de voordelen weergegeven worden.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-133">Therefore, you would need to periodically identify and drop the indexes that do not bring any benefits.</span></span> <span data-ttu-id="7aa9a-134">Als u de ongebruikte indexen negeert, zouden de prestaties van de query's die gegevens bijwerken zonder geen voordeel op de query's die gegevens lezen worden verlaagd.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-134">If you ignore the unused indexes, performance of the queries that update data would be decreased without any benefit on the queries that read data.</span></span> <span data-ttu-id="7aa9a-135">Ongebruikte indexen ook van invloed op prestaties van het systeem omdat aanvullende updates onnodige logboekregistratie vereisen.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-135">Unused indexes also affect overall performance of the system because additional updates require unnecessary logging.</span></span>

<span data-ttu-id="7aa9a-136">Zoeken naar de optimale reeks indexen ter verbetering van de prestaties van de query's die gegevens lezen uit de tabellen en minimale invloed hebben op updates mogelijk continue en complexe analyse.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-136">Finding the optimal set of indexes that improve performance of the queries that read data from your tables and have minimal impact on updates might require continuous and complex analysis.</span></span>

<span data-ttu-id="7aa9a-137">Azure SQL Database maakt gebruik van ingebouwde intelligentie en geavanceerde regels die het analyseren van uw query's, het identificeren van indexen die optimaal is voor de werkbelasting van uw huidige en de indexen mogelijk verwijderd.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-137">Azure SQL Database uses built-in intelligence and advanced rules that analyze your queries, identify indexes that would be optimal for your current workloads, and the indexes might be removed.</span></span> <span data-ttu-id="7aa9a-138">Azure SQL Database zorgt ervoor dat u hebt een minimaal benodigde aantal indexen die de query's die lezen van gegevens, met de geminimaliseerd gevolgen voor de andere query's optimaliseren.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-138">Azure SQL Database ensures that you have a minimal necessary set of indexes that optimize the queries that read data, with the minimized impact on the other queries.</span></span>

### <a name="how-to-identify-indexes-that-need-to-be-changed-in-your-database"></a><span data-ttu-id="7aa9a-139">Het identificeren van indexen die moeten worden gewijzigd in de database?</span><span class="sxs-lookup"><span data-stu-id="7aa9a-139">How to identify indexes that need to be changed in your database?</span></span>

<span data-ttu-id="7aa9a-140">Azure SQL Database kunt gemakkelijk beheerproces van de index.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-140">Azure SQL Database makes index management process easy.</span></span> <span data-ttu-id="7aa9a-141">In plaats van de klus zijn van een handmatige werkbelasting analyse en bewaking van de index, Azure SQL Database analyseert uw werkbelasting identificeert de query's die snel kunnen worden uitgevoerd met een nieuwe index en niet-gebruikte of dubbele indexen identificeert.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-141">Instead of the tedious process of manual workload analysis and index monitoring, Azure SQL Database analyzes your workload, identifies the queries that could be executed faster with a new index, and identifies unused or duplicated indexes.</span></span> <span data-ttu-id="7aa9a-142">Meer informatie over de identificatie van de indexen die moeten worden gewijzigd op [indexaanbevelingen vinden in Azure portal](sql-database-advisor-portal.md).</span><span class="sxs-lookup"><span data-stu-id="7aa9a-142">Find more information about identification of indexes that should be changed at [Find index recommendations in Azure portal](sql-database-advisor-portal.md).</span></span>

### <a name="automatic-index-management-considerations"></a><span data-ttu-id="7aa9a-143">Automatische index beheeroverwegingen</span><span class="sxs-lookup"><span data-stu-id="7aa9a-143">Automatic index management considerations</span></span>

<span data-ttu-id="7aa9a-144">Als u merkt dat de ingebouwde regels de prestaties van uw database verbeteren, kunt u mogelijk uw indexen automatisch beheren van Azure SQL-database.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-144">If you find that the built-in rules improve the performance of your database, you might let Azure SQL database automatically manage your indexes.</span></span>

<span data-ttu-id="7aa9a-145">Acties die zijn vereist voor het maken van de benodigde indexen in Azure SQL-Databases mogelijk gebruik van bronnen en ondersteuningsbeheerder invloed hebben op prestaties van de werkbelasting.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-145">Actions required to create necessary indexes in Azure SQL Databases might consume resources and temporally affect workload performance.</span></span> <span data-ttu-id="7aa9a-146">Om te beperken van de impact van de index is gemaakt op de prestaties van de werkbelasting, zoekt Azure SQL Database het juiste tijdvenster voor een bewerking voor het beheer van een index.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-146">To minimize the impact of index creation on workload performance, Azure SQL Database finds the appropriate time window for any index management operation.</span></span> <span data-ttu-id="7aa9a-147">Actie afstemmen is uitgesteld als de database bronnen moet voor het uitvoeren van uw workload en gestart wanneer de database voldoende heeft ongebruikte bronnen die kunnen worden gebruikt voor de onderhoudstaak.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-147">Tuning action is postponed if the database needs resources to execute your workload, and started when the database has enough unused resources that can be used for the maintenance task.</span></span> <span data-ttu-id="7aa9a-148">Een belangrijk onderdeel in automatische indexbeheer is een verificatie van de acties.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-148">One important feature in automatic index management is a verification of the actions.</span></span> <span data-ttu-id="7aa9a-149">Wanneer Azure SQL Database maakt of index zakt, analyseert een controleproces prestaties van uw werkbelasting om te controleren dat de actie die de prestaties verbeterd.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-149">When Azure SQL Database creates or drops index, a monitoring process analyzes performance of your workload to verify that the action improved the performance.</span></span> <span data-ttu-id="7aa9a-150">Als dit niet aanzienlijke verbetering – opleveren wordt de actie onmiddellijk ongedaan gemaakt.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-150">If it didn’t bring significant improvement – the action is immediately reverted.</span></span> <span data-ttu-id="7aa9a-151">Op deze manier voor Azure SQL Database zorgt ervoor dat automatische acties dit geen negatieve invloed prestaties van uw workload.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-151">This way, Azure SQL Database ensures that automatic actions do not negatively impact performance of your workload.</span></span> <span data-ttu-id="7aa9a-152">Indexen die zijn gemaakt door automatische afstemming NLB is zichtbaar voor de onderhoudsbewerking op het onderliggende schema.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-152">Indexes created by automatic tuning are transparent for the maintenance operation on the underlying schema.</span></span> <span data-ttu-id="7aa9a-153">Wijzigingen in het schema zoals verwijderen of hernoemen van kolommen worden niet geblokkeerd door de aanwezigheid van automatisch gemaakte indexen.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-153">Schema changes such as dropping or renaming columns are not blocked by the presence of automatically created indexes.</span></span> <span data-ttu-id="7aa9a-154">Indexen die automatisch worden gemaakt met Azure SQL Database worden onmiddellijk verwijderd wanneer gerelateerde tabel- of -kolommen wordt verwijderd.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-154">Indexes that are automatically created by Azure SQL Database are immediately dropped when related table or columns is dropped.</span></span>

## <a name="automatic-plan-choice-correction"></a><span data-ttu-id="7aa9a-155">Automatische plan keuze correctie</span><span class="sxs-lookup"><span data-stu-id="7aa9a-155">Automatic plan choice correction</span></span>

<span data-ttu-id="7aa9a-156">Correctie van automatische planning is een nieuwe automatische afstemmen functie toegevoegd in SQL Server 2017 CTP2.0 waarmee SQL-schema's die zijn vastgelopen.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-156">Automatic plan correction is a new automatic tuning feature added in SQL Server 2017 CTP2.0 that identifies SQL plans that misbehave.</span></span> <span data-ttu-id="7aa9a-157">Deze optie voor automatisch afstemmen is binnenkort beschikbaar in Azure SQL-Database.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-157">This automatic tuning option is coming soon on Azure SQL Database.</span></span> <span data-ttu-id="7aa9a-158">Meer informatie op [automatische afstemming in SQL Server 2017](https://docs.microsoft.com/sql/relational-databases/automatic-tuning/automatic-tuning).</span><span class="sxs-lookup"><span data-stu-id="7aa9a-158">Find more information at [Automatic tuning in SQL Server 2017](https://docs.microsoft.com/sql/relational-databases/automatic-tuning/automatic-tuning).</span></span>

## <a name="next-steps"></a><span data-ttu-id="7aa9a-159">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="7aa9a-159">Next steps</span></span>

- <span data-ttu-id="7aa9a-160">Als u wilt inschakelen automatische afstemming in Azure SQL Database en laat functie voor automatisch afstemmen uw werkbelasting volledig te beheren, Zie [inschakelen automatische afstemming](sql-database-automatic-tuning-enable.md).</span><span class="sxs-lookup"><span data-stu-id="7aa9a-160">To enable automatic tuning in Azure SQL Database and let automatic tuning feature fully manage your workload, see [Enable automatic tuning](sql-database-automatic-tuning-enable.md).</span></span>
- <span data-ttu-id="7aa9a-161">Als u wilt gebruiken voor handmatige afstemmen, kunt u bekijken [afstemmen aanbevelingen in Azure-portal](sql-database-advisor-portal.md) en de waarden die de prestaties van uw query's verbeteren handmatig toepassen.</span><span class="sxs-lookup"><span data-stu-id="7aa9a-161">To use manual tuning, you can review [Tuning recommendations in Azure portal](sql-database-advisor-portal.md) and manually apply the ones that improve performance of your queries.</span></span>
