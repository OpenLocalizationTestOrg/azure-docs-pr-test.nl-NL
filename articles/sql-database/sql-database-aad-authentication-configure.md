---
title: verificatie van aaaConfigure Azure Active Directory - SQL | Microsoft Docs
description: Meer informatie over hoe tooconnect tooSQL Database en SQL Data Warehouse met behulp van Azure Active Directory-verificatie.
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 7e2508a1-347e-4f15-b060-d46602c5ce7e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/10/2017
ms.author: rickbyh
ms.openlocfilehash: d6222da0b840f96d4bcfbc02964dc7c54d5ea1ee
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="configure-and-manage-azure-active-directory-authentication-with-sql-database-or-sql-data-warehouse"></a><span data-ttu-id="a2f40-103">Configureren en beheren van Azure Active Directory-verificatie met SQL-Database of SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="a2f40-103">Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse</span></span>

<span data-ttu-id="a2f40-104">Dit artikel ziet u hoe toocreate en Azure AD te vullen en vervolgens Azure AD te gebruiken met Azure SQL Database en SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="a2f40-104">This article shows you how toocreate and populate Azure AD, and then use Azure AD with Azure SQL Database and SQL Data Warehouse.</span></span> <span data-ttu-id="a2f40-105">Zie voor een overzicht [Azure Active Directory-verificatie](sql-database-aad-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="a2f40-105">For an overview, see [Azure Active Directory Authentication](sql-database-aad-authentication.md).</span></span>

>  [!NOTE]  
>  <span data-ttu-id="a2f40-106">Verbinding maken met tooSQL-Server op een virtuele machine in Azure wordt niet ondersteund met een Azure Active Directory-account.</span><span class="sxs-lookup"><span data-stu-id="a2f40-106">Connecting tooSQL Server running on an Azure VM is not supported using an Azure Active Directory account.</span></span> <span data-ttu-id="a2f40-107">Gebruik in plaats daarvan de Active Directory-account van een domein.</span><span class="sxs-lookup"><span data-stu-id="a2f40-107">Use a domain Active Directory account instead.</span></span>

## <a name="create-and-populate-an-azure-ad"></a><span data-ttu-id="a2f40-108">U maakt en vult u een Azure AD</span><span class="sxs-lookup"><span data-stu-id="a2f40-108">Create and populate an Azure AD</span></span>
<span data-ttu-id="a2f40-109">Maak een Azure AD en deze vullen met gebruikers en groepen.</span><span class="sxs-lookup"><span data-stu-id="a2f40-109">Create an Azure AD and populate it with users and groups.</span></span> <span data-ttu-id="a2f40-110">Azure AD kan worden beheerd Hallo eerste domein Azure AD-domein.</span><span class="sxs-lookup"><span data-stu-id="a2f40-110">Azure AD can be hello initial domain Azure AD managed domain.</span></span> <span data-ttu-id="a2f40-111">Azure AD kan ook worden voor een lokale Active Directory Domain Services die met hello Azure AD is gefedereerd.</span><span class="sxs-lookup"><span data-stu-id="a2f40-111">Azure AD can also be an on-premises Active Directory Domain Services that is federated with hello Azure AD.</span></span>

<span data-ttu-id="a2f40-112">Zie voor meer informatie [uw on-premises identiteiten integreren met Azure Active Directory](../active-directory/active-directory-aadconnect.md), [toevoegen van uw eigen domein naam tooAzure AD](../active-directory/active-directory-add-domain.md), [Microsoft Azure biedt nu ondersteuning voor federatie met Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [beheer van uw Azure AD-directory](https://msdn.microsoft.com/library/azure/hh967611.aspx), [beheren Azure AD dat gebruikmaakt van Windows PowerShell](/powershell/azure/overview?view=azureadps-2.0), en [hybride identiteit Vereiste poorten en protocollen](../active-directory/active-directory-aadconnect-ports.md).</span><span class="sxs-lookup"><span data-stu-id="a2f40-112">For more information, see [Integrating your on-premises identities with Azure Active Directory](../active-directory/active-directory-aadconnect.md), [Add your own domain name tooAzure AD](../active-directory/active-directory-add-domain.md), [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [Administering your Azure AD directory](https://msdn.microsoft.com/library/azure/hh967611.aspx), [Manage Azure AD using Windows PowerShell](/powershell/azure/overview?view=azureadps-2.0), and [Hybrid Identity Required Ports and Protocols](../active-directory/active-directory-aadconnect-ports.md).</span></span>

## <a name="optional-associate-or-change-hello-active-directory-that-is-currently-associated-with-your-azure-subscription"></a><span data-ttu-id="a2f40-113">Optioneel: Koppelen of Hallo active directory die is gekoppeld aan uw Azure-abonnement wijzigen</span><span class="sxs-lookup"><span data-stu-id="a2f40-113">Optional: Associate or change hello active directory that is currently associated with your Azure Subscription</span></span>
<span data-ttu-id="a2f40-114">tooassociate uw database met hello Azure AD-directory voor uw organisatie Hallo directory een vertrouwde map maken voor database Hallo hosting van hello Azure-abonnement.</span><span class="sxs-lookup"><span data-stu-id="a2f40-114">tooassociate your database with hello Azure AD directory for your organization, make hello directory a trusted directory for hello Azure subscription hosting hello database.</span></span> <span data-ttu-id="a2f40-115">Zie [Hoe Azure-abonnementen worden gekoppeld aan Azure AD](https://msdn.microsoft.com/library/azure/dn629581.aspx) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="a2f40-115">For more information, see [How Azure subscriptions are associated with Azure AD](https://msdn.microsoft.com/library/azure/dn629581.aspx).</span></span>

<span data-ttu-id="a2f40-116">**Aanvullende informatie:** om Azure-abonnement heeft een vertrouwensrelatie met een Azure AD-exemplaar.</span><span class="sxs-lookup"><span data-stu-id="a2f40-116">**Additional information:** Every Azure subscription has a trust relationship with an Azure AD instance.</span></span> <span data-ttu-id="a2f40-117">Dit betekent dat dat tooauthenticate directory wordt vertrouwd gebruikers, services en apparaten.</span><span class="sxs-lookup"><span data-stu-id="a2f40-117">This means that it trusts that directory tooauthenticate users, services, and devices.</span></span> <span data-ttu-id="a2f40-118">Meerdere abonnementen kunnen vertrouwen, Hallo dezelfde map, maar een abonnement vertrouwt slechts één directory.</span><span class="sxs-lookup"><span data-stu-id="a2f40-118">Multiple subscriptions can trust hello same directory, but a subscription trusts only one directory.</span></span> <span data-ttu-id="a2f40-119">U kunt zien welke directory wordt vertrouwd door uw abonnement onder Hallo **instellingen** tab aan [https://manage.windowsazure.com/](https://manage.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="a2f40-119">You can see which directory is trusted by your subscription under hello **Settings** tab at [https://manage.windowsazure.com/](https://manage.windowsazure.com/).</span></span> <span data-ttu-id="a2f40-120">Er is een vertrouwensrelatie die een abonnement met een map heeft in tegenstelling tot Hallo-relatie die een abonnement heeft met alle andere resources in Azure (websites, databases, enzovoort), die meer op onderliggende resources van een abonnement lijken.</span><span class="sxs-lookup"><span data-stu-id="a2f40-120">This trust relationship that a subscription has with a directory is unlike hello relationship that a subscription has with all other resources in Azure (websites, databases, and so on), which are more like child resources of a subscription.</span></span> <span data-ttu-id="a2f40-121">Als er een abonnement is verlopen, toegang tot toothose andere resources zijn gekoppeld Hallo abonnement ook geblokkeerd.</span><span class="sxs-lookup"><span data-stu-id="a2f40-121">If a subscription expires, then access toothose other resources associated with hello subscription also stops.</span></span> <span data-ttu-id="a2f40-122">Maar Hallo directory blijft in Azure, en u kunt een ander abonnement koppelen aan die directory en doorgaan toomanage Hallo directory-gebruikers.</span><span class="sxs-lookup"><span data-stu-id="a2f40-122">But hello directory remains in Azure, and you can associate another subscription with that directory and continue toomanage hello directory users.</span></span> <span data-ttu-id="a2f40-123">Zie voor meer informatie over bronnen [informatie over toegang tot bronnen in Azure](https://msdn.microsoft.com/library/azure/dn584083.aspx).</span><span class="sxs-lookup"><span data-stu-id="a2f40-123">For more information about resources, see [Understanding resource access in Azure](https://msdn.microsoft.com/library/azure/dn584083.aspx).</span></span>

<span data-ttu-id="a2f40-124">Hallo volgende procedures wordt uitgelegd hoe toochange Hallo directory voor een bepaald abonnement gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="a2f40-124">hello following procedures show you how toochange hello associated directory for a given subscription.</span></span>
1. <span data-ttu-id="a2f40-125">Verbinding maken met tooyour [klassieke Azure-Portal](https://manage.windowsazure.com/) met behulp van Azure-abonnementbeheerder.</span><span class="sxs-lookup"><span data-stu-id="a2f40-125">Connect tooyour [Azure Classic Portal](https://manage.windowsazure.com/) by using an Azure subscription administrator.</span></span>
2. <span data-ttu-id="a2f40-126">Selecteer op de links banner hello, **instellingen**.</span><span class="sxs-lookup"><span data-stu-id="a2f40-126">On hello left banner, select **SETTINGS**.</span></span>
3. <span data-ttu-id="a2f40-127">Uw abonnementen weergegeven in het welkomstscherm van de instellingen.</span><span class="sxs-lookup"><span data-stu-id="a2f40-127">Your subscriptions appear in hello settings screen.</span></span> <span data-ttu-id="a2f40-128">Als Hallo abonnement niet wordt weergegeven gewenst, klikt u op **abonnementen** vervolgkeuzelijst bovenaan Hallo Hallo **FILTER door DIRECTORY** vak en klik vervolgens op Hallo directory selecteren die uw abonnementen bevat **Toepassen**.</span><span class="sxs-lookup"><span data-stu-id="a2f40-128">If hello desired subscription does not appear, click **Subscriptions** at hello top, drop down hello **FILTER BY DIRECTORY** box and select hello directory that contains your subscriptions, and then click **APPLY**.</span></span>
   
    ![Abonnement selecteren][4]
4. <span data-ttu-id="a2f40-130">In Hallo **instellingen** gebied, klikt u op uw abonnement en klik vervolgens op **DIRECTORY bewerken** Hallo Hallo pagina onderaan in.</span><span class="sxs-lookup"><span data-stu-id="a2f40-130">In hello **settings** area, click your subscription, and then click  **EDIT DIRECTORY** at hello bottom of hello page.</span></span>
   
    ![AD-instellingen-portal][5]
5. <span data-ttu-id="a2f40-132">In Hallo **DIRECTORY bewerken** vak en klik vervolgens op de pijl Hallo voor volgende Selecteer hello Azure Active Directory die is gekoppeld aan uw SQL Server of SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="a2f40-132">In hello **EDIT DIRECTORY** box, select hello Azure Active Directory that is associated with your SQL Server or SQL Data Warehouse, and then click hello arrow for next.</span></span>
   
    ![bewerken-directory-selecteren][6]
6. <span data-ttu-id="a2f40-134">In Hallo **bevestigen** directory dialoogvenster toewijzing, Controleer of '**alle medebeheerders wordt verwijderd.**'</span><span class="sxs-lookup"><span data-stu-id="a2f40-134">In hello **CONFIRM** directory Mapping dialog box, confirm that "**All co-administrators will be removed.**"</span></span>
   
    ![bewerken directory bevestigen][7]
7. <span data-ttu-id="a2f40-136">Klik op Hallo selectievakje tooreload Hallo-portal.</span><span class="sxs-lookup"><span data-stu-id="a2f40-136">Click hello check tooreload hello portal.</span></span>

   > [!NOTE]
   > <span data-ttu-id="a2f40-137">Wanneer u wijzigt Hallo directory, toegang tooall medebeheerders, Azure AD-gebruikers en groepen en gebruikers van de map back-resource worden verwijderd en ze niet langer toegang toothis abonnement of de bijbehorende bronnen hebben.</span><span class="sxs-lookup"><span data-stu-id="a2f40-137">When you change hello directory, access tooall co-administrators, Azure AD users and groups, and directory-backed resource users are removed and they no longer have access toothis subscription or its resources.</span></span> <span data-ttu-id="a2f40-138">Alleen kunt, als servicebeheerder u toegang voor principals die zijn gebaseerd op Hallo nieuwe map.</span><span class="sxs-lookup"><span data-stu-id="a2f40-138">Only you, as a service administrator, can configure access for principals based on hello new directory.</span></span> <span data-ttu-id="a2f40-139">Deze wijziging kan duren voordat een aanzienlijke hoeveelheid tijd toopropagate tooall resources.</span><span class="sxs-lookup"><span data-stu-id="a2f40-139">This change might take a substantial amount of time toopropagate tooall resources.</span></span> <span data-ttu-id="a2f40-140">Hallo-map wordt gewijzigd, ook wijzigingen hello Azure AD-beheerder voor SQL-Database en SQL Data Warehouse en weigeren van toegang tot de database voor een bestaande Azure AD-gebruikers.</span><span class="sxs-lookup"><span data-stu-id="a2f40-140">Changing hello directory, also changes hello Azure AD administrator for SQL Database and SQL Data Warehouse and disallow database access for any existing Azure AD users.</span></span> <span data-ttu-id="a2f40-141">Azure AD Hallo beheerder moet het opnieuw instellen (zoals hieronder wordt beschreven) en nieuwe Azure AD-gebruikers moeten worden gemaakt.</span><span class="sxs-lookup"><span data-stu-id="a2f40-141">hello Azure AD admin must be reset (as described below) and new Azure AD users must be created.</span></span>
   >  

## <a name="create-an-azure-ad-administrator-for-azure-sql-server"></a><span data-ttu-id="a2f40-142">Een Azure AD-beheerder voor Azure SQL-server maken</span><span class="sxs-lookup"><span data-stu-id="a2f40-142">Create an Azure AD administrator for Azure SQL server</span></span>
<span data-ttu-id="a2f40-143">Elke Azure SQL-server (die als host fungeert voor een SQL-Database of SQL Data Warehouse) begint met een administrator-account voor één server Hallo beheerder van Hallo gehele Azure SQL-server.</span><span class="sxs-lookup"><span data-stu-id="a2f40-143">Each Azure SQL server (which hosts a SQL Database or SQL Data Warehouse) starts with a single server administrator account that is hello administrator of hello entire Azure SQL server.</span></span> <span data-ttu-id="a2f40-144">Een tweede SQL Server-beheerder moet worden gemaakt, die een Azure AD-account.</span><span class="sxs-lookup"><span data-stu-id="a2f40-144">A second SQL Server administrator must be created, that is an Azure AD account.</span></span> <span data-ttu-id="a2f40-145">Deze principal is gemaakt als de gebruiker van een ingesloten database in de hoofddatabase Hallo.</span><span class="sxs-lookup"><span data-stu-id="a2f40-145">This principal is created as a contained database user in hello master database.</span></span> <span data-ttu-id="a2f40-146">Als beheerder, beheerdersaccounts Hallo-server lid zijn van Hallo **db_owner** rol in elke gebruiker database en de database van elke gebruiker in te voeren als Hallo **dbo** gebruiker.</span><span class="sxs-lookup"><span data-stu-id="a2f40-146">As administrators, hello server administrator accounts are members of hello **db_owner** role in every user database, and enter each user database as hello **dbo** user.</span></span> <span data-ttu-id="a2f40-147">Zie voor meer informatie over beheerdersaccounts Hallo-server, [het beheren van Databases en aanmeldingen in Azure SQL Database](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="a2f40-147">For more information about hello server administrator accounts, see [Managing Databases and Logins in Azure SQL Database](sql-database-manage-logins.md).</span></span>

<span data-ttu-id="a2f40-148">Als u Azure Active Directory met geo-replicatie, moet hello Azure Active Directory-beheerder voor Hallo primaire en secundaire servers Hallo worden geconfigureerd.</span><span class="sxs-lookup"><span data-stu-id="a2f40-148">When using Azure Active Directory with geo-replication, hello Azure Active Directory administrator must be configured for both hello primary and hello secondary servers.</span></span> <span data-ttu-id="a2f40-149">Als een server een Azure Active Directory-beheerder niet beschikt, vervolgens Azure Active Directory-aanmeldingen en gebruikers ontvangen een tooserver 'Kan geen verbinding maken' fout.</span><span class="sxs-lookup"><span data-stu-id="a2f40-149">If a server does not have an Azure Active Directory administrator, then Azure Active Directory logins and users receive a "Cannot connect" tooserver error.</span></span>

> [!NOTE]
> <span data-ttu-id="a2f40-150">Gebruikers die niet zijn gebaseerd op een Azure AD-account (inclusief hello Azure SQL server-administratoraccount), kan Azure AD-gebruikers, maken, omdat ze geen machtiging toovalidate voorgestelde databasegebruikers Hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a2f40-150">Users that are not based on an Azure AD account (including hello Azure SQL server administrator account), cannot create Azure AD-based users, because they do not have permission toovalidate proposed database users with hello Azure AD.</span></span>
> 

## <a name="provision-an-azure-active-directory-administrator-for-your-azure-sql-server"></a><span data-ttu-id="a2f40-151">Een Azure Active Directory-beheerder voor uw Azure SQL-server inrichten</span><span class="sxs-lookup"><span data-stu-id="a2f40-151">Provision an Azure Active Directory administrator for your Azure SQL server</span></span>

<span data-ttu-id="a2f40-152">Hallo volgende twee procedures laten zien hoe u een Azure Active Directory-beheerder voor uw Azure SQL-server in hello Azure-portal en met behulp van PowerShell tooprovision.</span><span class="sxs-lookup"><span data-stu-id="a2f40-152">hello following two procedures show you how tooprovision an Azure Active Directory administrator for your Azure SQL server in hello Azure portal and by using PowerShell.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="a2f40-153">Azure Portal</span><span class="sxs-lookup"><span data-stu-id="a2f40-153">Azure portal</span></span>
1. <span data-ttu-id="a2f40-154">In Hallo [Azure-portal](https://portal.azure.com/), rechterbovenhoek Hallo in, klikt u op uw verbinding toodrop omlaag in een lijst met mogelijke Active Directory's.</span><span class="sxs-lookup"><span data-stu-id="a2f40-154">In hello [Azure portal](https://portal.azure.com/), in hello upper-right corner, click your connection toodrop down a list of possible Active Directories.</span></span> <span data-ttu-id="a2f40-155">Kies Hallo corrigeren van Active Directory als Hallo standaard Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a2f40-155">Choose hello correct Active Directory as hello default Azure AD.</span></span> <span data-ttu-id="a2f40-156">Deze stap koppelingen Hallo abonnement koppeling met Active Directory met Azure SQL-server om ervoor te zorgen dat hetzelfde abonnement Hallo wordt gebruikt voor zowel Azure AD en SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a2f40-156">This step links hello subscription association with Active Directory with Azure SQL server making sure that hello same subscription is used for both Azure AD and SQL Server.</span></span> <span data-ttu-id="a2f40-157">(hello Azure SQL-server kan worden gehost, Azure SQL Database of Azure SQL Data Warehouse.)</span><span class="sxs-lookup"><span data-stu-id="a2f40-157">(hello Azure SQL server can be hosting either Azure SQL Database or Azure SQL Data Warehouse.)</span></span>   
    <span data-ttu-id="a2f40-158">![Kies ad][8]</span><span class="sxs-lookup"><span data-stu-id="a2f40-158">![choose-ad][8]</span></span>   
    
2. <span data-ttu-id="a2f40-159">In de banner Selecteer links Hallo **SQL-servers**, selecteer uw **SQL server**, en klik vervolgens in Hallo **SQL Server** blade klikt u op **Active Directory-beheerder**.</span><span class="sxs-lookup"><span data-stu-id="a2f40-159">In hello left banner select **SQL servers**, select your **SQL server**, and then in hello **SQL Server** blade, click **Active Directory admin**.</span></span>   
3. <span data-ttu-id="a2f40-160">In Hallo **Active Directory-beheerder** blade, klikt u op **beheerder instellen**.</span><span class="sxs-lookup"><span data-stu-id="a2f40-160">In hello **Active Directory admin** blade, click **Set admin**.</span></span>   
    <span data-ttu-id="a2f40-161">![Selecteer active directory](./media/sql-database-aad-authentication/select-active-directory.png)</span><span class="sxs-lookup"><span data-stu-id="a2f40-161">![select active directory](./media/sql-database-aad-authentication/select-active-directory.png)</span></span>  
    
4. <span data-ttu-id="a2f40-162">In Hallo **admin toevoegen** blade voor een gebruiker, selecteer Hallo gebruiker of groep toobe beheerder zoeken en klik vervolgens op **Selecteer**.</span><span class="sxs-lookup"><span data-stu-id="a2f40-162">In hello **Add admin** blade, search for a user, select hello user or group toobe an administrator, and then click **Select**.</span></span> <span data-ttu-id="a2f40-163">(Hallo Active Directory-beheerder blade ziet u alle leden en groepen van Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a2f40-163">(hello Active Directory admin blade shows all members and groups of your Active Directory.</span></span> <span data-ttu-id="a2f40-164">Gebruikers of groepen die grijs worden weergegeven, kunnen niet worden geselecteerd omdat ze worden niet ondersteund als Azure AD-beheerders.</span><span class="sxs-lookup"><span data-stu-id="a2f40-164">Users or groups that are grayed out cannot be selected because they are not supported as Azure AD administrators.</span></span> <span data-ttu-id="a2f40-165">(Zie Hallo lijst met ondersteunde beheerders in Hallo **Azure AD-functies en beperkingen** sectie van [Azure Active Directory-verificatie gebruiken voor verificatie bij SQL-Database of SQL Data Warehouse](sql-database-aad-authentication.md).) Op rollen gebaseerde toegangsbeheer (RBAC) geldt alleen toohello portal en is niet doorgegeven tooSQL Server.</span><span class="sxs-lookup"><span data-stu-id="a2f40-165">(See hello list of supported admins in hello **Azure AD Features and Limitations** section of [Use Azure Active Directory Authentication for authentication with SQL Database or SQL Data Warehouse](sql-database-aad-authentication.md).) Role-based access control (RBAC) applies only toohello portal and is not propagated tooSQL Server.</span></span>   
    <span data-ttu-id="a2f40-166">![Selecteer beheerder](./media/sql-database-aad-authentication/select-admin.png)</span><span class="sxs-lookup"><span data-stu-id="a2f40-166">![select admin](./media/sql-database-aad-authentication/select-admin.png)</span></span>  
    
5. <span data-ttu-id="a2f40-167">Hallo boven aan het Hallo **Active Directory-beheerder** blade, klikt u op **opslaan**.</span><span class="sxs-lookup"><span data-stu-id="a2f40-167">At hello top of hello **Active Directory admin** blade, click **SAVE**.</span></span>   
    <span data-ttu-id="a2f40-168">![beheerder opslaan](./media/sql-database-aad-authentication/save-admin.png)</span><span class="sxs-lookup"><span data-stu-id="a2f40-168">![save admin](./media/sql-database-aad-authentication/save-admin.png)</span></span>   

<span data-ttu-id="a2f40-169">Hallo-proces van het wijzigen van Hallo beheerder kan enkele minuten duren.</span><span class="sxs-lookup"><span data-stu-id="a2f40-169">hello process of changing hello administrator may take several minutes.</span></span> <span data-ttu-id="a2f40-170">En vervolgens nieuwe beheerder hello wordt weergegeven in Hallo **Active Directory-beheerder** vak.</span><span class="sxs-lookup"><span data-stu-id="a2f40-170">Then hello new administrator appears in hello **Active Directory admin** box.</span></span>

   > [!NOTE]
   > <span data-ttu-id="a2f40-171">Bij het instellen van Azure AD Hallo beheerder, kan niet Hallo nieuwe naam van de serverbeheerder (gebruiker of groep) al aanwezig zijn in virtuele hoofddatabase Hallo als de gebruiker van een SQL Server-verificatie.</span><span class="sxs-lookup"><span data-stu-id="a2f40-171">When setting up hello Azure AD admin, hello new admin name (user or group) cannot already be present in hello virtual master database as a SQL Server authentication user.</span></span> <span data-ttu-id="a2f40-172">Indien aanwezig, mislukt de installatie van hello Azure AD-beheerder; het maken ervan worden teruggedraaid en waarmee wordt aangegeven dat deze een beheerder (naam) al bestaat.</span><span class="sxs-lookup"><span data-stu-id="a2f40-172">If present, hello Azure AD admin setup will fail; rolling back its creation and indicating that such an admin (name) already exists.</span></span> <span data-ttu-id="a2f40-173">Omdat deze een SQL Server authentication-gebruiker geen deel uit van hello Azure AD maakt, wordt elke inspanning tooconnect toohello server met behulp van Azure AD-verificatie mislukt.</span><span class="sxs-lookup"><span data-stu-id="a2f40-173">Since such a SQL Server authentication user is not part of hello Azure AD, any effort tooconnect toohello server using Azure AD authentication fails.</span></span>
   > 


<span data-ttu-id="a2f40-174">toolater verwijdert u een beheerder, boven Hallo Hallo **Active Directory-beheerder** blade, klikt u op **admin verwijderen**, en klik vervolgens op **opslaan**.</span><span class="sxs-lookup"><span data-stu-id="a2f40-174">toolater remove an Admin, at hello top of hello **Active Directory admin** blade, click **Remove admin**, and then click **Save**.</span></span>

### <a name="powershell"></a><span data-ttu-id="a2f40-175">PowerShell</span><span class="sxs-lookup"><span data-stu-id="a2f40-175">PowerShell</span></span>
<span data-ttu-id="a2f40-176">toorun PowerShell-cmdlets, moet u toohave Azure PowerShell is geïnstalleerd en uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="a2f40-176">toorun PowerShell cmdlets, you need toohave Azure PowerShell installed and running.</span></span> <span data-ttu-id="a2f40-177">Zie voor gedetailleerde informatie [hoe tooinstall en configureren van Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="a2f40-177">For detailed information, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

<span data-ttu-id="a2f40-178">een Azure AD-beheerder tooprovision uitvoeren hello Azure PowerShell-opdrachten te volgen:</span><span class="sxs-lookup"><span data-stu-id="a2f40-178">tooprovision an Azure AD admin, execute hello following Azure PowerShell commands:</span></span>

* <span data-ttu-id="a2f40-179">Add-AzureRmAccount</span><span class="sxs-lookup"><span data-stu-id="a2f40-179">Add-AzureRmAccount</span></span>
* <span data-ttu-id="a2f40-180">SELECT-AzureRmSubscription</span><span class="sxs-lookup"><span data-stu-id="a2f40-180">Select-AzureRmSubscription</span></span>

<span data-ttu-id="a2f40-181">Cmdlets tooprovision gebruikt en beheren van Azure AD-beheerder:</span><span class="sxs-lookup"><span data-stu-id="a2f40-181">Cmdlets used tooprovision and manage Azure AD admin:</span></span>

| <span data-ttu-id="a2f40-182">Naam van cmdlet</span><span class="sxs-lookup"><span data-stu-id="a2f40-182">Cmdlet name</span></span> | <span data-ttu-id="a2f40-183">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="a2f40-183">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="a2f40-184">Set-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="a2f40-184">Set-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/set-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="a2f40-185">Voorziet in een Azure Active Directory-beheerder voor Azure SQL-server of Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="a2f40-185">Provisions an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> <span data-ttu-id="a2f40-186">(Moet uit het huidige abonnement Hallo.)</span><span class="sxs-lookup"><span data-stu-id="a2f40-186">(Must be from hello current subscription.)</span></span> |
| [<span data-ttu-id="a2f40-187">Verwijder AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="a2f40-187">Remove-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/remove-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="a2f40-188">Hiermee verwijdert u een Azure Active Directory-beheerder voor Azure SQL-server of Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="a2f40-188">Removes an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> |
| [<span data-ttu-id="a2f40-189">Get-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="a2f40-189">Get-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/get-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="a2f40-190">Retourneert informatie over een Azure Active Directory-beheerder die momenteel zijn geconfigureerd voor hello Azure SQL-server of Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="a2f40-190">Returns information about an Azure Active Directory administrator currently configured for hello Azure SQL server or Azure SQL Data Warehouse.</span></span> |

<span data-ttu-id="a2f40-191">Gebruik PowerShell-opdracht get-help toosee meer gedetailleerde informatie over elk van deze opdrachten, bijvoorbeeld ``get-help Set-AzureRmSqlServerActiveDirectoryAdministrator``.</span><span class="sxs-lookup"><span data-stu-id="a2f40-191">Use PowerShell command get-help toosee more details for each of these commands, for example ``get-help Set-AzureRmSqlServerActiveDirectoryAdministrator``.</span></span>

<span data-ttu-id="a2f40-192">Hallo met het volgende script bepalingen beheerder Azure AD-groep met de naam **DBA_Group** (object-id `40b79501-b343-44ed-9ce7-da4c8cc7353f`) voor Hallo **demo_server** server in een resourcegroep met de naam **groep 23** :</span><span class="sxs-lookup"><span data-stu-id="a2f40-192">hello following script provisions an Azure AD administrator group named **DBA_Group** (object id `40b79501-b343-44ed-9ce7-da4c8cc7353f`) for hello **demo_server** server in a resource group named **Group-23**:</span></span>

```
Set-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23"
-ServerName "demo_server" -DisplayName "DBA_Group"
```

<span data-ttu-id="a2f40-193">Hallo **DisplayName** invoerparameter accepteert weergavenaam hello Azure AD of Hallo principalnaam van gebruiker.</span><span class="sxs-lookup"><span data-stu-id="a2f40-193">hello **DisplayName** input parameter accepts either hello Azure AD display name or hello User Principal Name.</span></span> <span data-ttu-id="a2f40-194">Bijvoorbeeld: ``DisplayName="John Smith"`` en ``DisplayName="johns@contoso.com"``.</span><span class="sxs-lookup"><span data-stu-id="a2f40-194">For example, ``DisplayName="John Smith"`` and ``DisplayName="johns@contoso.com"``.</span></span> <span data-ttu-id="a2f40-195">Voor Azure AD-groepen alleen hello Azure AD wordt weergavenaam ondersteund.</span><span class="sxs-lookup"><span data-stu-id="a2f40-195">For Azure AD groups only hello Azure AD display name is supported.</span></span>

> [!NOTE]
> <span data-ttu-id="a2f40-196">Hello Azure PowerShell-opdracht ```Set-AzureRmSqlServerActiveDirectoryAdministrator``` voorkomt niet dat u Azure AD-beheerders voor niet-ondersteunde gebruikers inrichten.</span><span class="sxs-lookup"><span data-stu-id="a2f40-196">hello Azure PowerShell  command ```Set-AzureRmSqlServerActiveDirectoryAdministrator``` does not prevent you from provisioning Azure AD admins for unsupported users.</span></span> <span data-ttu-id="a2f40-197">Een niet-ondersteunde gebruiker kan worden ingericht, maar kan geen verbinding maken met tooa-database.</span><span class="sxs-lookup"><span data-stu-id="a2f40-197">An unsupported user can be provisioned, but can not connect tooa database.</span></span> 
> 

<span data-ttu-id="a2f40-198">Hallo volgende voorbeeld wordt optioneel Hallo **ObjectID**:</span><span class="sxs-lookup"><span data-stu-id="a2f40-198">hello following example uses hello optional **ObjectID**:</span></span>

```
Set-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23"
-ServerName "demo_server" -DisplayName "DBA_Group" -ObjectId "40b79501-b343-44ed-9ce7-da4c8cc7353f"
```

> [!NOTE]
> <span data-ttu-id="a2f40-199">Hello Azure AD **ObjectID** is vereist wanneer hello **DisplayName** is niet uniek.</span><span class="sxs-lookup"><span data-stu-id="a2f40-199">hello Azure AD **ObjectID** is required when hello **DisplayName** is not unique.</span></span> <span data-ttu-id="a2f40-200">Hallo tooretrieve **ObjectID** en **DisplayName** waarden, gebruik Hallo Active Directory-sectie van de klassieke Azure-Portal en Hallo eigenschappen van een gebruiker of groep weergeven.</span><span class="sxs-lookup"><span data-stu-id="a2f40-200">tooretrieve hello **ObjectID** and **DisplayName** values, use hello Active Directory section of Azure Classic Portal, and view hello properties of a user or group.</span></span>
> 

<span data-ttu-id="a2f40-201">Hallo volgende voorbeeld retourneert informatie over Hallo huidige Azure AD-beheerder voor Azure SQL-server:</span><span class="sxs-lookup"><span data-stu-id="a2f40-201">hello following example returns information about hello current Azure AD admin for Azure SQL server:</span></span>

```
Get-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23" -ServerName "demo_server" | Format-List
```

<span data-ttu-id="a2f40-202">Hallo volgende voorbeeld wordt een Azure AD-beheerder verwijderd.</span><span class="sxs-lookup"><span data-stu-id="a2f40-202">hello following example removes an Azure AD administrator:</span></span>

```
Remove-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23" -ServerName "demo_server"
```

<span data-ttu-id="a2f40-203">U kunt ook een Azure Active Directory-beheerder inrichten met behulp van Hallo REST-API's.</span><span class="sxs-lookup"><span data-stu-id="a2f40-203">You can also provision an Azure Active Directory Administrator by using hello REST APIs.</span></span> <span data-ttu-id="a2f40-204">Zie voor meer informatie [Service Management REST API-verwijzing en bewerkingen voor Azure SQL-Databases bewerkingen voor Azure SQL-Databases](https://msdn.microsoft.com/library/azure/dn505719.aspx)</span><span class="sxs-lookup"><span data-stu-id="a2f40-204">For more information, see [Service Management REST API Reference and Operations for Azure SQL Databases Operations for Azure SQL Databases](https://msdn.microsoft.com/library/azure/dn505719.aspx)</span></span>

### <a name="cli"></a><span data-ttu-id="a2f40-205">CLI</span><span class="sxs-lookup"><span data-stu-id="a2f40-205">CLI</span></span>  
<span data-ttu-id="a2f40-206">U kunt ook een Azure AD-beheerder inrichten door de aanroepende Hallo CLI-opdrachten te volgen:</span><span class="sxs-lookup"><span data-stu-id="a2f40-206">You can also provision an Azure AD admin by calling hello following CLI commands:</span></span>
| <span data-ttu-id="a2f40-207">Opdracht</span><span class="sxs-lookup"><span data-stu-id="a2f40-207">Command</span></span> | <span data-ttu-id="a2f40-208">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="a2f40-208">Description</span></span> |
| --- | --- |
|[<span data-ttu-id="a2f40-209">AZ sql server ad-beheerder maken</span><span class="sxs-lookup"><span data-stu-id="a2f40-209">az sql server ad-admin create</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#create) |<span data-ttu-id="a2f40-210">Voorziet in een Azure Active Directory-beheerder voor Azure SQL-server of Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="a2f40-210">Provisions an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> <span data-ttu-id="a2f40-211">(Moet uit het huidige abonnement Hallo.)</span><span class="sxs-lookup"><span data-stu-id="a2f40-211">(Must be from hello current subscription.)</span></span> |
|[<span data-ttu-id="a2f40-212">AZ sql server ad-beheerder verwijderen</span><span class="sxs-lookup"><span data-stu-id="a2f40-212">az sql server ad-admin delete</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#delete) |<span data-ttu-id="a2f40-213">Hiermee verwijdert u een Azure Active Directory-beheerder voor Azure SQL-server of Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="a2f40-213">Removes an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> |
|[<span data-ttu-id="a2f40-214">lijst met AZ sql server ad-beheerder</span><span class="sxs-lookup"><span data-stu-id="a2f40-214">az sql server ad-admin list</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#list) |<span data-ttu-id="a2f40-215">Retourneert informatie over een Azure Active Directory-beheerder die momenteel zijn geconfigureerd voor hello Azure SQL-server of Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="a2f40-215">Returns information about an Azure Active Directory administrator currently configured for hello Azure SQL server or Azure SQL Data Warehouse.</span></span> |
|[<span data-ttu-id="a2f40-216">update van AZ sql server ad-beheerder</span><span class="sxs-lookup"><span data-stu-id="a2f40-216">az sql server ad-admin update</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#update) |<span data-ttu-id="a2f40-217">Hallo Active Directory-beheerder voor een Azure SQL-server of Azure SQL Data Warehouse-updates.</span><span class="sxs-lookup"><span data-stu-id="a2f40-217">Updates hello Active Directory administrator for an Azure SQL server or Azure SQL Data Warehouse.</span></span> |

<span data-ttu-id="a2f40-218">Zie voor meer informatie over de CLI-opdrachten, [SQL - az sql](https://docs.microsoft.com/cli/azure/sql/server).</span><span class="sxs-lookup"><span data-stu-id="a2f40-218">For more information about CLI commands, see [SQL - az sql](https://docs.microsoft.com/cli/azure/sql/server).</span></span>  


## <a name="configure-your-client-computers"></a><span data-ttu-id="a2f40-219">De clientcomputers configureren</span><span class="sxs-lookup"><span data-stu-id="a2f40-219">Configure your client computers</span></span>
<span data-ttu-id="a2f40-220">U moet Hallo volgende software installeren op alle clientcomputers waarvan uw toepassingen of gebruikers verbinding maken met tooAzure SQL-Database of Azure SQL Data Warehouse met behulp van Azure AD-identiteiten:</span><span class="sxs-lookup"><span data-stu-id="a2f40-220">On all client machines, from which your applications or users connect tooAzure SQL Database or Azure SQL Data Warehouse using Azure AD identities, you must install hello following software:</span></span>

* <span data-ttu-id="a2f40-221">.NET framework 4.6 of hoger van [https://msdn.microsoft.com/library/5a4x27ek.aspx](https://msdn.microsoft.com/library/5a4x27ek.aspx).</span><span class="sxs-lookup"><span data-stu-id="a2f40-221">.NET Framework 4.6 or later from [https://msdn.microsoft.com/library/5a4x27ek.aspx](https://msdn.microsoft.com/library/5a4x27ek.aspx).</span></span>
* <span data-ttu-id="a2f40-222">Azure Active Directory Authentication Library voor SQL Server (**ADALSQL. DLL-bestand**) is beschikbaar in meerdere talen (x x86- en amd64) van Downloadcentrum Hallo op [Microsoft Active Directory Authentication Library voor Microsoft SQL Server](http://www.microsoft.com/download/details.aspx?id=48742).</span><span class="sxs-lookup"><span data-stu-id="a2f40-222">Azure Active Directory Authentication Library for SQL Server (**ADALSQL.DLL**) is available in multiple languages (both x86 and amd64) from hello download center at [Microsoft Active Directory Authentication Library for Microsoft SQL Server](http://www.microsoft.com/download/details.aspx?id=48742).</span></span>

<span data-ttu-id="a2f40-223">U kunt voldoen aan deze voorwaarden voldoet:</span><span class="sxs-lookup"><span data-stu-id="a2f40-223">You can meet these requirements by:</span></span>

* <span data-ttu-id="a2f40-224">Één installeert [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) of [SQL Server Data Tools voor Visual Studio 2015](https://msdn.microsoft.com/library/mt204009.aspx) voldoet aan de vereiste .NET Framework 4.6 Hallo.</span><span class="sxs-lookup"><span data-stu-id="a2f40-224">Installing either [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) or [SQL Server Data Tools for Visual Studio 2015](https://msdn.microsoft.com/library/mt204009.aspx) meets hello .NET Framework 4.6 requirement.</span></span>
* <span data-ttu-id="a2f40-225">SSMS installeert Hallo x86 versie van **ADALSQL. DLL-bestand**.</span><span class="sxs-lookup"><span data-stu-id="a2f40-225">SSMS installs hello x86 version of **ADALSQL.DLL**.</span></span>
* <span data-ttu-id="a2f40-226">Hallo amd64-versie van SSDT is geïnstalleerd **ADALSQL. DLL-bestand**.</span><span class="sxs-lookup"><span data-stu-id="a2f40-226">SSDT installs hello amd64 version of **ADALSQL.DLL**.</span></span>
* <span data-ttu-id="a2f40-227">Hallo meest recente Visual Studio van [Visual Studio-Downloads](https://www.visualstudio.com/downloads/download-visual-studio-vs) voldoet aan de vereisten Hallo .NET Framework 4.6, maar niet geïnstalleerd Hallo vereist amd64-versie van **ADALSQL. DLL-bestand**.</span><span class="sxs-lookup"><span data-stu-id="a2f40-227">hello latest Visual Studio from [Visual Studio Downloads](https://www.visualstudio.com/downloads/download-visual-studio-vs) meets hello .NET Framework 4.6 requirement, but does not install hello required amd64 version of **ADALSQL.DLL**.</span></span>

## <a name="create-contained-database-users-in-your-database-mapped-tooazure-ad-identities"></a><span data-ttu-id="a2f40-228">Ingesloten databasegebruikers in uw database toegewezen tooAzure AD identiteiten maken</span><span class="sxs-lookup"><span data-stu-id="a2f40-228">Create contained database users in your database mapped tooAzure AD identities</span></span>

<span data-ttu-id="a2f40-229">Azure Active Directory-verificatie vereist database gebruikers toobe gemaakt als ingesloten databasegebruikers.</span><span class="sxs-lookup"><span data-stu-id="a2f40-229">Azure Active Directory authentication requires database users toobe created as contained database users.</span></span> <span data-ttu-id="a2f40-230">Een ingesloten database-gebruiker op basis van een Azure AD-identiteit is een databasegebruiker die geen een aanmelding in de hoofddatabase Hallo en welke identiteit maps tooan in Azure AD-directory die is gekoppeld aan de database Hallo Hallo.</span><span class="sxs-lookup"><span data-stu-id="a2f40-230">A contained database user based on an Azure AD identity, is a database user that does not have a login in hello master database, and which maps tooan identity in hello Azure AD directory that is associated with hello database.</span></span> <span data-ttu-id="a2f40-231">Hello Azure AD identity mag een afzonderlijk gebruikersaccount of een groep.</span><span class="sxs-lookup"><span data-stu-id="a2f40-231">hello Azure AD identity can be either an individual user account or a group.</span></span> <span data-ttu-id="a2f40-232">Zie voor meer informatie over ingesloten databasegebruikers [opgenomen databasegebruikers maken uw Database draagbare](https://msdn.microsoft.com/library/ff929188.aspx).</span><span class="sxs-lookup"><span data-stu-id="a2f40-232">For more information about contained database users, see [Contained Database Users- Making Your Database Portable](https://msdn.microsoft.com/library/ff929188.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="a2f40-233">Database-gebruikers (met uitzondering van Hallo van beheerders) kunnen niet worden gemaakt met behulp van de portal.</span><span class="sxs-lookup"><span data-stu-id="a2f40-233">Database users (with hello exception of administrators) cannot be created using portal.</span></span> <span data-ttu-id="a2f40-234">RBAC-rollen zijn niet doorgegeven tooSQL Server, SQL-Database of SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="a2f40-234">RBAC roles are not propagated tooSQL Server, SQL Database, or SQL Data Warehouse.</span></span> <span data-ttu-id="a2f40-235">Azure RBAC-rollen worden gebruikt voor het beheren van Azure-Resources en toodatabase machtigingen niet toepassen.</span><span class="sxs-lookup"><span data-stu-id="a2f40-235">Azure RBAC roles are used for managing Azure Resources, and do not apply toodatabase permissions.</span></span> <span data-ttu-id="a2f40-236">Bijvoorbeeld, Hallo **SQL Server Inzender** rol verleent geen toegang tot tooconnect toohello SQL-Database of SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="a2f40-236">For example, hello **SQL Server Contributor** role does not grant access tooconnect toohello SQL Database or SQL Data Warehouse.</span></span> <span data-ttu-id="a2f40-237">Hallo-machtiging moet rechtstreeks in Hallo-database met behulp van Transact-SQL-instructies worden toegekend.</span><span class="sxs-lookup"><span data-stu-id="a2f40-237">hello access permission must be granted directly in hello database using Transact-SQL statements.</span></span>
>

<span data-ttu-id="a2f40-238">een Azure AD gebaseerde opgenomen databasegebruiker (met uitzondering van Hallo serverbeheerder die eigenaar is van de database Hallo), verbinding toohello database maken met een Azure AD-identiteit als een gebruiker met toocreate ten minste Hallo **elke gebruiker ALTER** machtiging.</span><span class="sxs-lookup"><span data-stu-id="a2f40-238">toocreate an Azure AD-based contained database user (other than hello server administrator that owns hello database), connect toohello database with an Azure AD identity, as a user with at least hello **ALTER ANY USER** permission.</span></span> <span data-ttu-id="a2f40-239">Gebruik vervolgens Hallo Transact-SQL-syntaxis:</span><span class="sxs-lookup"><span data-stu-id="a2f40-239">Then use hello following Transact-SQL syntax:</span></span>

```
CREATE USER <Azure_AD_principal_name> FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="a2f40-240">*Azure_AD_principal_name* Hallo principal-naam van een Azure AD gebruiker of Hallo weergavenaam voor een Azure AD-groep kan worden.</span><span class="sxs-lookup"><span data-stu-id="a2f40-240">*Azure_AD_principal_name* can be hello user principal name of an Azure AD user or hello display name for an Azure AD group.</span></span>

<span data-ttu-id="a2f40-241">**Voorbeelden:** toocreate een ingesloten database-gebruiker voor een Azure AD federatief of beheerd domeingebruiker:</span><span class="sxs-lookup"><span data-stu-id="a2f40-241">**Examples:** toocreate a contained database user representing an Azure AD federated or managed domain user:</span></span>
```
CREATE USER [bob@contoso.com] FROM EXTERNAL PROVIDER;
CREATE USER [alice@fabrikam.onmicrosoft.com] FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="a2f40-242">toocreate een ingesloten database-gebruiker die een Azure AD of federatieve domeingroep, bieden Hallo weergegeven naam van een beveiligingsgroep:</span><span class="sxs-lookup"><span data-stu-id="a2f40-242">toocreate a contained database user representing an Azure AD or federated domain group, provide hello display name of a security group:</span></span>
```
CREATE USER [ICU Nurses] FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="a2f40-243">een ingesloten database-gebruiker die een toepassing die verbinding maakt met behulp van een Azure AD-token toocreate:</span><span class="sxs-lookup"><span data-stu-id="a2f40-243">toocreate a contained database user representing an application that connects using an Azure AD token:</span></span>

```
CREATE USER [appName] FROM EXTERNAL PROVIDER;
```

>  [!TIP]
>  <span data-ttu-id="a2f40-244">U kunt een gebruiker rechtstreeks vanuit een Azure Active Directory dan hello Azure Active Directory die is gekoppeld aan uw Azure-abonnement maken.</span><span class="sxs-lookup"><span data-stu-id="a2f40-244">You cannot directly create a user from an Azure Active Directory other than hello Azure Active Directory that is associated with your Azure subscription.</span></span> <span data-ttu-id="a2f40-245">Echter leden van andere Active Directory's die geïmporteerde gebruikers in Hallo zijn gekoppeld in Active Directory (ook wel externe gebruikers) kan tooan Active Directory-groep worden toegevoegd in Hallo tenant Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a2f40-245">However, members of other Active Directories that are imported users in hello associated Active Directory (known as external users) can be added tooan Active Directory group in hello tenant Active Directory.</span></span> <span data-ttu-id="a2f40-246">Door het maken van een ingesloten database-gebruiker voor de groep AD hello gebruikers van Hallo externe Active Directory kunnen krijgen toegang tooSQL Database.</span><span class="sxs-lookup"><span data-stu-id="a2f40-246">By creating a contained database user for that AD group, hello users from hello external Active Directory can gain access tooSQL Database.</span></span>   

<span data-ttu-id="a2f40-247">Voor meer informatie over het maken van die gebruikers op basis van identiteiten met Azure Active Directory-database, raadpleegt u [gebruiker maken (Transact-SQL)](http://msdn.microsoft.com/library/ms173463.aspx).</span><span class="sxs-lookup"><span data-stu-id="a2f40-247">For more information about creating contained database users based on Azure Active Directory identities, see [CREATE USER (Transact-SQL)](http://msdn.microsoft.com/library/ms173463.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="a2f40-248">Verwijderen hello Azure Active Directory-beheerder voor Azure SQL-server wordt voorkomen dat een Azure AD authentication-gebruiker toohello server verbinding kunnen maken.</span><span class="sxs-lookup"><span data-stu-id="a2f40-248">Removing hello Azure Active Directory administrator for Azure SQL server prevents any Azure AD authentication user from connecting toohello server.</span></span> <span data-ttu-id="a2f40-249">Indien nodig, onbruikbaar Azure AD-gebruikers kunnen handmatig worden verwijderd door de beheerder van een SQL-Database.</span><span class="sxs-lookup"><span data-stu-id="a2f40-249">If necessary, unusable Azure AD users can be dropped manually by a SQL Database administrator.</span></span>   

>  [!NOTE]
>  <span data-ttu-id="a2f40-250">Als u krijgt een **verbinding time-out verstreken**, moet u mogelijk tooset hello `TransparentNetworkIPResolution` parameter van Hallo connection string toofalse.</span><span class="sxs-lookup"><span data-stu-id="a2f40-250">If you receive a **Connection Timeout Expired**, you may need tooset hello `TransparentNetworkIPResolution` parameter of hello connection string toofalse.</span></span> <span data-ttu-id="a2f40-251">Zie voor meer informatie [time-out verbindingsprobleem met .NET Framework 4.6.1 - wordt met TransparentNetworkIPResolution](https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/05/07/connection-timeout-issue-with-net-framework-4-6-1-transparentnetworkipresolution/).</span><span class="sxs-lookup"><span data-stu-id="a2f40-251">For more information, see [Connection timeout issue with .NET Framework 4.6.1 - TransparentNetworkIPResolution](https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/05/07/connection-timeout-issue-with-net-framework-4-6-1-transparentnetworkipresolution/).</span></span>   

   
<span data-ttu-id="a2f40-252">Wanneer u een databasegebruiker maakt, krijgt die gebruiker het Hallo **CONNECT** machtiging en verbinding maken met toothat-database als lid van Hallo **openbare** rol.</span><span class="sxs-lookup"><span data-stu-id="a2f40-252">When you create a database user, that user receives hello **CONNECT** permission and can connect toothat database as a member of hello **PUBLIC** role.</span></span> <span data-ttu-id="a2f40-253">In eerste instantie Hallo alleen machtigingen voor gebruiker beschikbaar toohello worden machtigingen verleend toohello **openbare** rollen of machtigingen die tooany Windows-groepen die ze lid zijn van zijn.</span><span class="sxs-lookup"><span data-stu-id="a2f40-253">Initially hello only permissions available toohello user are any permissions granted toohello **PUBLIC** role, or any permissions granted tooany Windows groups that they are a member of.</span></span> <span data-ttu-id="a2f40-254">Zodra u een Azure AD gebaseerde opgenomen databasegebruiker inricht, kunt u Hallo gebruiker aanvullende machtigingen verlenen Hallo u dezelfde manier als u andere type gebruiker tooany machtiging verlenen.</span><span class="sxs-lookup"><span data-stu-id="a2f40-254">Once you provision an Azure AD-based contained database user, you can grant hello user additional permissions, hello same way as you grant permission tooany other type of user.</span></span> <span data-ttu-id="a2f40-255">Doorgaans machtigingen verlenen toodatabase rollen en gebruikers tooroles toevoegen.</span><span class="sxs-lookup"><span data-stu-id="a2f40-255">Typically grant permissions toodatabase roles, and add users tooroles.</span></span> <span data-ttu-id="a2f40-256">Zie voor meer informatie [Database-Engine machtiging Basics](http://social.technet.microsoft.com/wiki/contents/articles/4433.database-engine-permission-basics.aspx).</span><span class="sxs-lookup"><span data-stu-id="a2f40-256">For more information, see [Database Engine Permission Basics](http://social.technet.microsoft.com/wiki/contents/articles/4433.database-engine-permission-basics.aspx).</span></span> <span data-ttu-id="a2f40-257">Zie voor meer informatie over specifieke functies van de SQL-Database, [het beheren van Databases en aanmeldingen in Azure SQL Database](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="a2f40-257">For more information about special SQL Database roles, see [Managing Databases and Logins in Azure SQL Database](sql-database-manage-logins.md).</span></span>
<span data-ttu-id="a2f40-258">Een federatieve gebruiker die is geïmporteerd in een domein beheren moet Hallo beheerd domein identiteit gebruiken.</span><span class="sxs-lookup"><span data-stu-id="a2f40-258">A federated domain user that is imported into a manage domain, must use hello managed domain identity.</span></span>

> [!NOTE]
> <span data-ttu-id="a2f40-259">Azure AD-gebruikers zijn gemarkeerd in de metagegevens van de database Hallo met het type E (EXTERNAL_USER) en voor groepen met type X (EXTERNAL_GROUPS).</span><span class="sxs-lookup"><span data-stu-id="a2f40-259">Azure AD users are marked in hello database metadata with type E (EXTERNAL_USER) and for groups with type X (EXTERNAL_GROUPS).</span></span> <span data-ttu-id="a2f40-260">Zie voor meer informatie [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span><span class="sxs-lookup"><span data-stu-id="a2f40-260">For more information, see [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span></span> 
>

## <a name="connect-toohello-user-database-or-data-warehouse-by-using-ssms-or-ssdt"></a><span data-ttu-id="a2f40-261">Verbinding maken met toohello gebruiker database of de data warehouse met behulp van SSMS of SSDT</span><span class="sxs-lookup"><span data-stu-id="a2f40-261">Connect toohello user database or data warehouse by using SSMS or SSDT</span></span>  
<span data-ttu-id="a2f40-262">tooconfirm hello Azure AD-beheerder correct is ingesteld, wordt verbinding gemaakt toohello **master** database met de administrator-account hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a2f40-262">tooconfirm hello Azure AD administrator is properly set up, connect toohello **master** database using hello Azure AD administrator account.</span></span>
<span data-ttu-id="a2f40-263">toohello database tooprovision een Azure AD gebaseerde opgenomen databasegebruiker (met uitzondering van Hallo serverbeheerder die eigenaar is van de database Hallo), verbinding met een Azure AD-identiteit die toegang toohello database heeft.</span><span class="sxs-lookup"><span data-stu-id="a2f40-263">tooprovision an Azure AD-based contained database user (other than hello server administrator that owns hello database), connect toohello database with an Azure AD identity that has access toohello database.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a2f40-264">Ondersteuning voor Azure Active Directory-verificatie is beschikbaar met [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) en [SQL Server Data Tools](https://msdn.microsoft.com/library/mt204009.aspx) in Visual Studio 2015.</span><span class="sxs-lookup"><span data-stu-id="a2f40-264">Support for Azure Active Directory authentication is available with [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) and [SQL Server Data Tools](https://msdn.microsoft.com/library/mt204009.aspx) in Visual Studio 2015.</span></span> <span data-ttu-id="a2f40-265">Hallo augustus 2016-versie van SSMS biedt ook ondersteuning voor universele verificatie van Active Directory, zodat beheerders toorequire multi-factor Authentication met behulp van een telefoongesprek, tekstbericht, smartcards met pincode of mobiele app-melding.</span><span class="sxs-lookup"><span data-stu-id="a2f40-265">hello August 2016 release of SSMS also includes support for Active Directory Universal Authentication, which allows administrators toorequire Multi-Factor Authentication using a phone call, text message, smart cards with pin, or mobile app notification.</span></span>
 
## <a name="using-an-azure-ad-identity-tooconnect-using-ssms-or-ssdt"></a><span data-ttu-id="a2f40-266">Met behulp van een Azure AD identity tooconnect met behulp van SSMS of SSDT</span><span class="sxs-lookup"><span data-stu-id="a2f40-266">Using an Azure AD identity tooconnect using SSMS or SSDT</span></span>  

<span data-ttu-id="a2f40-267">Hallo volgende procedures laten zien hoe tooconnect tooa SQL-database met een Azure AD-identiteit met behulp van SQL Server Management Studio of SQL Server-Database Tools.</span><span class="sxs-lookup"><span data-stu-id="a2f40-267">hello following procedures show you how tooconnect tooa SQL database with an Azure AD identity using SQL Server Management Studio or SQL Server Database Tools.</span></span>

### <a name="active-directory-integrated-authentication"></a><span data-ttu-id="a2f40-268">Geïntegreerde verificatie van Active Directory</span><span class="sxs-lookup"><span data-stu-id="a2f40-268">Active Directory integrated authentication</span></span>

<span data-ttu-id="a2f40-269">Gebruik deze methode als u bent aangemeld met uw Azure Active Directory-referenties van een federatieve domein tooWindows.</span><span class="sxs-lookup"><span data-stu-id="a2f40-269">Use this method if you are logged in tooWindows using your Azure Active Directory credentials from a federated domain.</span></span>

1. <span data-ttu-id="a2f40-270">Start Management Studio of Data Tools en in Hallo **tooServer verbinding** (of **tooDatabase Engine verbinding**) in het dialoogvenster in Hallo **verificatie** Selecteer **Geïntegreerd met active Directory -**.</span><span class="sxs-lookup"><span data-stu-id="a2f40-270">Start Management Studio or Data Tools and in hello **Connect tooServer** (or **Connect tooDatabase Engine**) dialog box, in hello **Authentication** box, select **Active Directory - Integrated**.</span></span> <span data-ttu-id="a2f40-271">Er is geen wachtwoord nodig is of omdat de referenties van uw bestaande voor Hallo verbinding krijgt kan worden ingevoerd.</span><span class="sxs-lookup"><span data-stu-id="a2f40-271">No password is needed or can be entered because your existing credentials will be presented for hello connection.</span></span>   

    ![Selecteer AD-geïntegreerde verificatie][11]
2. <span data-ttu-id="a2f40-273">Klikt u op Hallo **opties** knop, en op Hallo **verbindingseigenschappen** pagina in Hallo **toodatabase verbinding** vak, Hallo typenaam van de gebruikersdatabase Hallo gewenste tooconnect Aan.</span><span class="sxs-lookup"><span data-stu-id="a2f40-273">Click hello **Options** button, and on hello **Connection Properties** page, in hello **Connect toodatabase** box, type hello name of hello user database you want tooconnect to.</span></span> <span data-ttu-id="a2f40-274">(Hallo **AD-domein naam of het tenant-ID**' optie wordt alleen ondersteund voor **Universal met MFA verbinding** opties, anders het wordt grijs.)</span><span class="sxs-lookup"><span data-stu-id="a2f40-274">(hello **AD domain name or tenant ID**” option is only supported for **Universal with MFA connection** options, otherwise it is greyed out.)</span></span>  

    ![Selecteer de databasenaam Hallo][13]

## <a name="active-directory-password-authentication"></a><span data-ttu-id="a2f40-276">Active Directory-wachtwoordverificatie</span><span class="sxs-lookup"><span data-stu-id="a2f40-276">Active Directory password authentication</span></span>

<span data-ttu-id="a2f40-277">Gebruik deze methode wanneer u verbinding maakt met een Azure AD principal-naam met behulp van Azure AD Hallo beheerd domein.</span><span class="sxs-lookup"><span data-stu-id="a2f40-277">Use this method when connecting with an Azure AD principal name using hello Azure AD managed domain.</span></span> <span data-ttu-id="a2f40-278">U kunt deze ook gebruiken voor federatieve account zonder toegang toohello domein, bijvoorbeeld bij het op afstand werkt.</span><span class="sxs-lookup"><span data-stu-id="a2f40-278">You can also use it for federated account without access toohello domain, for example when working remotely.</span></span>

<span data-ttu-id="a2f40-279">Gebruik deze methode als u tooWindows met referenties van een domein dat niet is gefedereerd met Azure bent aangemeld, of wanneer u Azure AD-verificatie met Azure AD op basis van de eerste Hallo of Hallo van clientdomein.</span><span class="sxs-lookup"><span data-stu-id="a2f40-279">Use this method if you are logged in tooWindows using credentials from a domain that is not federated with Azure, or when using Azure AD authentication using Azure AD based on hello initial or hello client domain.</span></span>

1. <span data-ttu-id="a2f40-280">Start Management Studio of Data Tools en in Hallo **tooServer verbinding** (of **tooDatabase Engine verbinding**) in het dialoogvenster in Hallo **verificatie** Selecteer **Active Directory - wachtwoord**.</span><span class="sxs-lookup"><span data-stu-id="a2f40-280">Start Management Studio or Data Tools and in hello **Connect tooServer** (or **Connect tooDatabase Engine**) dialog box, in hello **Authentication** box, select **Active Directory - Password**.</span></span>
2. <span data-ttu-id="a2f40-281">In Hallo **gebruikersnaam** typt u de naam van uw Azure Active Directory-gebruiker in de indeling Hallo  **username@domain.com** . Dit moet een account van hello Azure Active Directory of een account van een domein federeren met hello Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a2f40-281">In hello **User name** box, type your Azure Active Directory user name in hello format **username@domain.com**. This must be an account from hello Azure Active Directory or an account from a domain federate with hello Azure Active Directory.</span></span>
3. <span data-ttu-id="a2f40-282">In Hallo **wachtwoord** vak, typ het wachtwoord van de gebruiker voor hello Azure Active Directory-account of federatieve domeinaccount.</span><span class="sxs-lookup"><span data-stu-id="a2f40-282">In hello **Password** box, type your user password for hello Azure Active Directory account or federated domain account.</span></span>

    ![Selecteer verificatie van AD-wachtwoord][12]
4. <span data-ttu-id="a2f40-284">Klikt u op Hallo **opties** knop, en op Hallo **verbindingseigenschappen** pagina in Hallo **toodatabase verbinding** vak, Hallo typenaam van de gebruikersdatabase Hallo gewenste tooconnect Aan.</span><span class="sxs-lookup"><span data-stu-id="a2f40-284">Click hello **Options** button, and on hello **Connection Properties** page, in hello **Connect toodatabase** box, type hello name of hello user database you want tooconnect to.</span></span> <span data-ttu-id="a2f40-285">(Zie afbeelding in de vorige optie Hallo Hallo.)</span><span class="sxs-lookup"><span data-stu-id="a2f40-285">(See hello graphic in hello previous option.)</span></span>

## <a name="using-an-azure-ad-identity-tooconnect-from-a-client-application"></a><span data-ttu-id="a2f40-286">Met behulp van een Azure AD identity tooconnect van een clienttoepassing</span><span class="sxs-lookup"><span data-stu-id="a2f40-286">Using an Azure AD identity tooconnect from a client application</span></span>

<span data-ttu-id="a2f40-287">Hallo volgende procedures laten zien hoe tooconnect tooa SQL-database met een Azure AD-identiteit van een clienttoepassing.</span><span class="sxs-lookup"><span data-stu-id="a2f40-287">hello following procedures show you how tooconnect tooa SQL database with an Azure AD identity from a client application.</span></span>

###  <a name="active-directory-integrated-authentication"></a><span data-ttu-id="a2f40-288">Geïntegreerde verificatie van Active Directory</span><span class="sxs-lookup"><span data-stu-id="a2f40-288">Active Directory integrated authentication</span></span>

<span data-ttu-id="a2f40-289">toouse geïntegreerde Windows-verificatie, Active Directory van uw domein moet worden gefedereerd met Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a2f40-289">toouse integrated Windows authentication, your domain’s Active Directory must be federated with Azure Active Directory.</span></span> <span data-ttu-id="a2f40-290">De clienttoepassing (of een service) verbinding maken met toohello database moet worden uitgevoerd op een machine domein onder de domeinreferenties van een gebruiker.</span><span class="sxs-lookup"><span data-stu-id="a2f40-290">Your client application (or a service) connecting toohello database must be running on a domain-joined machine under a user’s domain credentials.</span></span>

<span data-ttu-id="a2f40-291">tooconnect tooa database met geïntegreerde verificatie en de identiteit van een Azure AD, Hallo verificatie-sleutelwoord in de tekenreeks voor databaseverbinding Hallo tooActive Directory Integrated moet worden ingesteld.</span><span class="sxs-lookup"><span data-stu-id="a2f40-291">tooconnect tooa database using integrated authentication and an Azure AD identity, hello Authentication keyword in hello database connection string must be set tooActive Directory Integrated.</span></span> <span data-ttu-id="a2f40-292">Hallo volgende C#-codevoorbeeld maakt gebruik van ADO .NET.</span><span class="sxs-lookup"><span data-stu-id="a2f40-292">hello following C# code sample uses ADO .NET.</span></span>

```
string ConnectionString =
@"Data Source=n9lxnyuzhv.database.windows.net; Authentication=Active Directory Integrated; Initial Catalog=testdb;";
SqlConnection conn = new SqlConnection(ConnectionString);
conn.Open();
```

<span data-ttu-id="a2f40-293">Hallo sleutelwoord van de verbindingsreeks ``Integrated Security=True`` wordt niet ondersteund voor het verbinden van tooAzure SQL-Database.</span><span class="sxs-lookup"><span data-stu-id="a2f40-293">hello connection string keyword ``Integrated Security=True`` is not supported for connecting tooAzure SQL Database.</span></span> <span data-ttu-id="a2f40-294">Bij het maken van een ODBC-verbinding, moet u tooremove spaties moeten en stel verificatie too'ActiveDirectoryIntegrated'.</span><span class="sxs-lookup"><span data-stu-id="a2f40-294">When making an ODBC connection, you will need tooremove spaces and set Authentication too'ActiveDirectoryIntegrated'.</span></span>

### <a name="active-directory-password-authentication"></a><span data-ttu-id="a2f40-295">Active Directory-wachtwoordverificatie</span><span class="sxs-lookup"><span data-stu-id="a2f40-295">Active Directory password authentication</span></span>

<span data-ttu-id="a2f40-296">tooconnect tooa database met geïntegreerde verificatie en de identiteit van een Azure AD, Hallo verificatie sleutelwoord tooActive wachtwoord voor Active Directory moet worden ingesteld.</span><span class="sxs-lookup"><span data-stu-id="a2f40-296">tooconnect tooa database using integrated authentication and an Azure AD identity, hello Authentication keyword must be set tooActive Directory Password.</span></span> <span data-ttu-id="a2f40-297">Hallo-verbindingsreeks moet gebruikers-ID/UID en het wachtwoord/PWD sleutelwoorden en waarden bevatten.</span><span class="sxs-lookup"><span data-stu-id="a2f40-297">hello connection string must contain User ID/UID and Password/PWD keywords and values.</span></span> <span data-ttu-id="a2f40-298">Hallo volgende C#-codevoorbeeld maakt gebruik van ADO .NET.</span><span class="sxs-lookup"><span data-stu-id="a2f40-298">hello following C# code sample uses ADO .NET.</span></span>

```
string ConnectionString =
@"Data Source=n9lxnyuzhv.database.windows.net; Authentication=Active Directory Password; Initial Catalog=testdb;  UID=bob@contoso.onmicrosoft.com; PWD=MyPassWord!";
SqlConnection conn = new SqlConnection(ConnectionString);
conn.Open();
```

<span data-ttu-id="a2f40-299">Meer informatie over Azure AD-verificatiemethoden met Hallo demo-codevoorbeelden beschikbaar op [Azure AD Authentication GitHub Demo](https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/security/azure-active-directory-auth).</span><span class="sxs-lookup"><span data-stu-id="a2f40-299">Learn more about Azure AD authentication methods using hello demo code samples available at [Azure AD Authentication GitHub Demo](https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/security/azure-active-directory-auth).</span></span>

## <a name="azure-ad-token"></a><span data-ttu-id="a2f40-300">Azure AD-token</span><span class="sxs-lookup"><span data-stu-id="a2f40-300">Azure AD token</span></span>
<span data-ttu-id="a2f40-301">Deze verificatiemethode kan services van de middelste laag tooconnect tooAzure SQL-Database of Azure SQL Data Warehouse door het verkrijgen van een token van Azure Active Directory (AAD).</span><span class="sxs-lookup"><span data-stu-id="a2f40-301">This authentication method allows middle-tier services tooconnect tooAzure SQL Database or Azure SQL Data Warehouse by obtaining a token from Azure Active Directory (AAD).</span></span> <span data-ttu-id="a2f40-302">Hiermee kunt geavanceerde scenario's zoals verificatie op basis van certificaten.</span><span class="sxs-lookup"><span data-stu-id="a2f40-302">It enables sophisticated scenarios including certificate-based authentication.</span></span> <span data-ttu-id="a2f40-303">U moet vier eenvoudige stappen toouse Azure AD-tokenverificatie uitvoeren:</span><span class="sxs-lookup"><span data-stu-id="a2f40-303">You must complete four basic steps toouse Azure AD token authentication:</span></span>

1. <span data-ttu-id="a2f40-304">Uw toepassing registreren met Azure Active Directory en Hallo client-id niet ophalen voor uw code.</span><span class="sxs-lookup"><span data-stu-id="a2f40-304">Register your application with Azure Active Directory and get hello client id for your code.</span></span> 
2. <span data-ttu-id="a2f40-305">Een gebruiker die Hallo databasetoepassing maken.</span><span class="sxs-lookup"><span data-stu-id="a2f40-305">Create a database user representing hello application.</span></span> <span data-ttu-id="a2f40-306">(Voltooid eerder in stap 6).</span><span class="sxs-lookup"><span data-stu-id="a2f40-306">(Completed earlier in step 6.)</span></span>
3. <span data-ttu-id="a2f40-307">Een certificaat op Hallo client-computer wordt uitgevoerd Hallo-toepassing maken.</span><span class="sxs-lookup"><span data-stu-id="a2f40-307">Create a certificate on hello client computer runs hello application.</span></span>
4. <span data-ttu-id="a2f40-308">Hallo-certificaat als een sleutel voor uw toepassing toevoegen.</span><span class="sxs-lookup"><span data-stu-id="a2f40-308">Add hello certificate as a key for your application.</span></span>

<span data-ttu-id="a2f40-309">Voorbeeld-verbindingsreeks:</span><span class="sxs-lookup"><span data-stu-id="a2f40-309">Sample connection string:</span></span>

```
string ConnectionString =@"Data Source=n9lxnyuzhv.database.windows.net; Initial Catalog=testdb;"
SqlConnection conn = new SqlConnection(ConnectionString);
connection.AccessToken = "Your JWT token"
conn.Open();
```

<span data-ttu-id="a2f40-310">Zie voor meer informatie [SQL Server Security-Blog](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/).</span><span class="sxs-lookup"><span data-stu-id="a2f40-310">For more information, see [SQL Server Security Blog](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/).</span></span>

### <a name="sqlcmd"></a><span data-ttu-id="a2f40-311">sqlcmd</span><span class="sxs-lookup"><span data-stu-id="a2f40-311">sqlcmd</span></span>

<span data-ttu-id="a2f40-312">Hallo na instructies, wordt verbinding gemaakt met versie 13,1 van sqlcmd die beschikbaar via Hallo is [Downloadcentrum](http://go.microsoft.com/fwlink/?LinkID=825643).</span><span class="sxs-lookup"><span data-stu-id="a2f40-312">hello following statements, connect using version 13.1 of sqlcmd, which is available from hello [Download Center](http://go.microsoft.com/fwlink/?LinkID=825643).</span></span>

```
sqlcmd -S Target_DB_or_DW.testsrv.database.windows.net  -G  
sqlcmd -S Target_DB_or_DW.testsrv.database.windows.net -U bob@contoso.com -P MyAADPassword -G -l 30
```

## <a name="next-steps"></a><span data-ttu-id="a2f40-313">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="a2f40-313">Next steps</span></span>
- <span data-ttu-id="a2f40-314">Zie [SQL Database-toegang en -beheer](sql-database-control-access.md) voor een overzicht van toegang en beheer in SQL Database.</span><span class="sxs-lookup"><span data-stu-id="a2f40-314">For an overview of access and control in SQL Database, see [SQL Database access and control](sql-database-control-access.md).</span></span>
- <span data-ttu-id="a2f40-315">Zie [Aanmeldingen, gebruikers en databaserollen](sql-database-manage-logins.md) voor een overzicht van aanmeldingen, gebruikers en databaserollen in SQL Database.</span><span class="sxs-lookup"><span data-stu-id="a2f40-315">For an overview of logins, users, and database roles in SQL Database, see [Logins, users, and database roles](sql-database-manage-logins.md).</span></span>
- <span data-ttu-id="a2f40-316">Zie [Principals](https://msdn.microsoft.com/library/ms181127.aspx) voor meer informatie over database-principals.</span><span class="sxs-lookup"><span data-stu-id="a2f40-316">For more information about database principals, see [Principals](https://msdn.microsoft.com/library/ms181127.aspx).</span></span>
- <span data-ttu-id="a2f40-317">Zie [Databaserollen](https://msdn.microsoft.com/library/ms189121.aspx) voor meer informatie over databaserollen.</span><span class="sxs-lookup"><span data-stu-id="a2f40-317">For more information about database roles, see [Database roles](https://msdn.microsoft.com/library/ms189121.aspx).</span></span>
- <span data-ttu-id="a2f40-318">Zie [SQL Database-firewallregels](sql-database-firewall-configure.md) voor meer informatie over de firewallregels in SQL Database.</span><span class="sxs-lookup"><span data-stu-id="a2f40-318">For more information about firewall rules in SQL Database, see [SQL Database firewall rules](sql-database-firewall-configure.md).</span></span>

<!--Image references-->

[1]: ./media/sql-database-aad-authentication/1aad-auth-diagram.png
[2]: ./media/sql-database-aad-authentication/2subscription-relationship.png
[3]: ./media/sql-database-aad-authentication/3admin-structure.png
[4]: ./media/sql-database-aad-authentication/4select-subscription.png
[5]: ./media/sql-database-aad-authentication/5ad-settings-portal.png
[6]: ./media/sql-database-aad-authentication/6edit-directory-select.png
[7]: ./media/sql-database-aad-authentication/7edit-directory-confirm.png
[8]: ./media/sql-database-aad-authentication/8choose-ad.png
[10]: ./media/sql-database-aad-authentication/10choose-admin.png
[11]: ./media/sql-database-aad-authentication/active-directory-integrated.png
[12]: ./media/sql-database-aad-authentication/12connect-using-pw-auth2.png
[13]: ./media/sql-database-aad-authentication/13connect-to-db2.png

