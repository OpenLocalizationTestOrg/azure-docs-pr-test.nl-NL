---
title: 'Azure AD Connect: Upgraden van een vorige versie | Microsoft Docs'
description: Hallo verschillende methoden tooupgrade toohello meest recente versie van Azure Active Directory Connect, met inbegrip van een in-place upgrade en een migratie swing uitgelegd.
services: active-directory
documentationcenter: 
author: AndKjell
manager: femila
editor: 
ms.assetid: 31f084d8-2b89-478c-9079-76cf92e6618f
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: Identity
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: 57bd5b094654e4983cafa303b6f3daecadafb01c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-connect-upgrade-from-a-previous-version-toohello-latest"></a><span data-ttu-id="57528-103">Azure AD Connect: Upgraden van een vorige versie-toohello recente</span><span class="sxs-lookup"><span data-stu-id="57528-103">Azure AD Connect: Upgrade from a previous version toohello latest</span></span>
<span data-ttu-id="57528-104">Dit onderwerp beschrijft Hallo verschillende methoden waarmee u tooupgrade uw meest recente versie van Azure Active Directory (Azure AD) verbinding maken met de installatie toohello kunt.</span><span class="sxs-lookup"><span data-stu-id="57528-104">This topic describes hello different methods that you can use tooupgrade your Azure Active Directory (Azure AD) Connect installation toohello latest release.</span></span> <span data-ttu-id="57528-105">We adviseren dat u zelf de meest recente Hallo releases van Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="57528-105">We recommend that you keep yourself current with hello releases of Azure AD Connect.</span></span> <span data-ttu-id="57528-106">U ook Hallo stappen gebruiken in Hallo [migratie bewegen](#swing-migration) sectie wanneer u een aanzienlijke configuratie wijzigen.</span><span class="sxs-lookup"><span data-stu-id="57528-106">You also use hello steps in hello [Swing migration](#swing-migration) section when you make a substantial configuration change.</span></span>

<span data-ttu-id="57528-107">Als u tooupgrade van DirSync wilt, Zie [een upgrade uitvoert van Azure AD-synchronisatiehulpprogramma (DirSync)](active-directory-aadconnect-dirsync-upgrade-get-started.md) in plaats daarvan.</span><span class="sxs-lookup"><span data-stu-id="57528-107">If you want tooupgrade from DirSync, see [Upgrade from Azure AD sync tool (DirSync)](active-directory-aadconnect-dirsync-upgrade-get-started.md) instead.</span></span>

<span data-ttu-id="57528-108">Er zijn enkele verschillende strategieën waarmee u tooupgrade Azure AD Connect kunt.</span><span class="sxs-lookup"><span data-stu-id="57528-108">There are a few different strategies that you can use tooupgrade Azure AD Connect.</span></span>

| <span data-ttu-id="57528-109">Methode</span><span class="sxs-lookup"><span data-stu-id="57528-109">Method</span></span> | <span data-ttu-id="57528-110">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="57528-110">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="57528-111">Automatische upgrade</span><span class="sxs-lookup"><span data-stu-id="57528-111">Automatic upgrade</span></span>](active-directory-aadconnect-feature-automatic-upgrade.md) |<span data-ttu-id="57528-112">Dit is de eenvoudigste methode Hallo voor klanten met een snelle installatie.</span><span class="sxs-lookup"><span data-stu-id="57528-112">This is hello easiest method for customers with an express installation.</span></span> |
| [<span data-ttu-id="57528-113">In-place upgrade</span><span class="sxs-lookup"><span data-stu-id="57528-113">In-place upgrade</span></span>](#in-place-upgrade) |<span data-ttu-id="57528-114">Als u één server hebt, kunt u Hallo installatie in-place upgraden op Hallo van dezelfde server.</span><span class="sxs-lookup"><span data-stu-id="57528-114">If you have a single server, you can upgrade hello installation in-place on hello same server.</span></span> |
| [<span data-ttu-id="57528-115">Migratie bewegen</span><span class="sxs-lookup"><span data-stu-id="57528-115">Swing migration</span></span>](#swing-migration) |<span data-ttu-id="57528-116">U kunt met twee servers voorbereiden op een van de servers Hallo met Hallo nieuwe release of de configuratie en actieve server Hallo wijzigen wanneer u klaar bent.</span><span class="sxs-lookup"><span data-stu-id="57528-116">With two servers, you can prepare one of hello servers with hello new release or configuration, and change hello active server when you're ready.</span></span> |

<span data-ttu-id="57528-117">Zie voor machtigingen informatie Hallo [machtigingen die vereist zijn voor een upgrade](active-directory-aadconnect-accounts-permissions.md#upgrade).</span><span class="sxs-lookup"><span data-stu-id="57528-117">For permissions information, see hello [permissions required for an upgrade](active-directory-aadconnect-accounts-permissions.md#upgrade).</span></span>

> [!NOTE]
> <span data-ttu-id="57528-118">Nadat u uw nieuwe Azure AD Connect-server toostart synchroniseren wijzigingen tooAzure AD hebt ingeschakeld, moet u niet terugdraaien toousing DirSync of Azure AD Sync. Downgraden van Azure AD Connect toolegacy clients, met inbegrip van DirSync en Azure AD Sync, wordt niet ondersteund en tooissues zoals gegevensverlies kan leiden in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="57528-118">After you've enabled your new Azure AD Connect server toostart synchronizing changes tooAzure AD, you must not roll back toousing DirSync or Azure AD Sync. Downgrading from Azure AD Connect toolegacy clients, including DirSync and Azure AD Sync, isn't supported and can lead tooissues such as data loss in Azure AD.</span></span>

## <a name="in-place-upgrade"></a><span data-ttu-id="57528-119">In-place upgrade</span><span class="sxs-lookup"><span data-stu-id="57528-119">In-place upgrade</span></span>
<span data-ttu-id="57528-120">Een in-place upgrade werkt voor het verplaatsen van Azure AD Sync of Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="57528-120">An in-place upgrade works for moving from Azure AD Sync or Azure AD Connect.</span></span> <span data-ttu-id="57528-121">Werkt niet voor het verplaatsen van DirSync of voor een oplossing met Forefront Identity Manager (FIM) + Azure AD-Connector.</span><span class="sxs-lookup"><span data-stu-id="57528-121">It doesn't work for moving from DirSync or for a solution with Forefront Identity Manager (FIM) + Azure AD Connector.</span></span>

<span data-ttu-id="57528-122">Deze methode verdient de voorkeur wanneer u één server en minder dan ongeveer 100.000 objecten.</span><span class="sxs-lookup"><span data-stu-id="57528-122">This method is preferred when you have a single server and less than about 100,000 objects.</span></span> <span data-ttu-id="57528-123">Er zijn wijzigingen in de toohello out of box sync regels, een volledige import en een volledige synchronisatie uitgevoerd als na de upgrade Hallo.</span><span class="sxs-lookup"><span data-stu-id="57528-123">If there are any changes toohello out-of-box sync rules, a full import and full synchronization occur after hello upgrade.</span></span> <span data-ttu-id="57528-124">Deze methode zorgt ervoor dat de nieuwe configuratie Hallo toegepaste tooall bestaande objecten in Hallo-systeem.</span><span class="sxs-lookup"><span data-stu-id="57528-124">This method ensures that hello new configuration is applied tooall existing objects in hello system.</span></span> <span data-ttu-id="57528-125">Dit kan enkele uren, afhankelijk van het aantal objecten die in het bereik van de synchronisatie-engine Hallo Hallo duren.</span><span class="sxs-lookup"><span data-stu-id="57528-125">This run might take a few hours, depending on hello number of objects that are in scope of hello sync engine.</span></span> <span data-ttu-id="57528-126">Hallo normale delta synchronisatie scheduler (die wordt standaard gesynchroniseerd elke 30 minuten) is onderbroken, maar Wachtwoordsynchronisatie blijft.</span><span class="sxs-lookup"><span data-stu-id="57528-126">hello normal delta synchronization scheduler (which synchronizes every 30 minutes by default) is suspended, but password synchronization continues.</span></span> <span data-ttu-id="57528-127">U kunt overwegen Hallo in-place upgrade tijdens een weekend doen.</span><span class="sxs-lookup"><span data-stu-id="57528-127">You might consider doing hello in-place upgrade during a weekend.</span></span> <span data-ttu-id="57528-128">Als er geen wijzigingen toohello out-of-box-configuratie met Hallo nieuwe Azure AD Connect release, vervolgens een normale delta-import/synchronisatie wordt gestart in plaats daarvan.</span><span class="sxs-lookup"><span data-stu-id="57528-128">If there are no changes toohello out-of-box configuration with hello new Azure AD Connect release, then a normal delta import/sync starts instead.</span></span>  
![In-place upgrade](./media/active-directory-aadconnect-upgrade-previous-version/inplaceupgrade.png)

<span data-ttu-id="57528-130">Als u wijzigingen toohello out-of-box-synchronisatieregels hebt gemaakt, zijn wordt deze regels ingesteld terug toohello standaardconfiguratie bij een upgrade.</span><span class="sxs-lookup"><span data-stu-id="57528-130">If you've made changes toohello out-of-box synchronization rules, then these rules are set back toohello default configuration on upgrade.</span></span> <span data-ttu-id="57528-131">toomake ervoor dat uw configuratie wordt gehouden tussen upgrades, zorg ervoor dat u wijzigingen aanbrengt, zoals ze zijn beschreven in [aanbevolen procedures voor het wijzigen van de standaardconfiguratie Hallo](active-directory-aadconnectsync-best-practices-changing-default-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="57528-131">toomake sure that your configuration is kept between upgrades, make sure that you make changes as they're described in [Best practices for changing hello default configuration](active-directory-aadconnectsync-best-practices-changing-default-configuration.md).</span></span>

<span data-ttu-id="57528-132">Tijdens een upgrade ter plekke, kunnen er wijzigingen die zijn geïntroduceerd waarvoor specifieke synchronisatie activiteiten (met inbegrip van de stap van de volledige Import en volledige synchronisatie) toobe uitgevoerd nadat de upgrade is voltooid.</span><span class="sxs-lookup"><span data-stu-id="57528-132">During in-place upgrade, there may be changes introduced that require specific synchronization activities (including Full Import step and Full Synchronization step) toobe executed after upgrade completes.</span></span> <span data-ttu-id="57528-133">toodefer dergelijke activiteiten, Raadpleeg toosection [hoe toodefer volledige synchronisatie na de upgrade](#how-to-defer-full-synchronization-after-upgrade).</span><span class="sxs-lookup"><span data-stu-id="57528-133">toodefer such activities, refer toosection [How toodefer full synchronization after upgrade](#how-to-defer-full-synchronization-after-upgrade).</span></span>

## <a name="swing-migration"></a><span data-ttu-id="57528-134">Swingmigratie</span><span class="sxs-lookup"><span data-stu-id="57528-134">Swing migration</span></span>
<span data-ttu-id="57528-135">Als u de implementatie van een complexe of veel objecten hebt, kan het niet praktisch toodo een in-place upgrade op Hallo live systeem zijn.</span><span class="sxs-lookup"><span data-stu-id="57528-135">If you have a complex deployment or many objects, it might be impractical toodo an in-place upgrade on hello live system.</span></span> <span data-ttu-id="57528-136">Voor sommige klanten dit proces kan meerdere dagen--duren en gedurende deze tijd geen wijzigingen zijn verwerkt.</span><span class="sxs-lookup"><span data-stu-id="57528-136">For some customers, this process might take multiple days--and during this time, no delta changes are processed.</span></span> <span data-ttu-id="57528-137">U kunt deze methode ook gebruiken wanneer u van plan toomake substantieel zijn gewijzigd tooyour configuratie bent en tootry gewenste ze uit voordat u ze toohello cloud bent gepusht.</span><span class="sxs-lookup"><span data-stu-id="57528-137">You can also use this method when you plan toomake substantial changes tooyour configuration and you want tootry them out before they're pushed toohello cloud.</span></span>

<span data-ttu-id="57528-138">Hallo aanbevolen methode voor deze scenario's is toouse een swing-migratie.</span><span class="sxs-lookup"><span data-stu-id="57528-138">hello recommended method for these scenarios is toouse a swing migration.</span></span> <span data-ttu-id="57528-139">U moet (ten minste) twee servers--één actieve server en één server met tijdelijke bestanden.</span><span class="sxs-lookup"><span data-stu-id="57528-139">You need (at least) two servers--one active server and one staging server.</span></span> <span data-ttu-id="57528-140">Hallo actieve server (weergegeven met ononderbroken blauwe lijnen in de volgende afbeelding Hallo) is verantwoordelijk voor Hallo active productie laden.</span><span class="sxs-lookup"><span data-stu-id="57528-140">hello active server (shown with solid blue lines in hello following picture) is responsible for hello active production load.</span></span> <span data-ttu-id="57528-141">Hallo testserver (weergegeven met onderbroken paarse lijnen) is voorbereid met Hallo nieuwe release of de configuratie.</span><span class="sxs-lookup"><span data-stu-id="57528-141">hello staging server (shown with dashed purple lines) is prepared with hello new release or configuration.</span></span> <span data-ttu-id="57528-142">Wanneer deze volledig klaar is, wordt deze server actief gemaakt.</span><span class="sxs-lookup"><span data-stu-id="57528-142">When it's fully ready, this server is made active.</span></span> <span data-ttu-id="57528-143">Hallo vorige active server, die nu heeft hello oude versie of de configuratie die zijn geïnstalleerd, wordt in Hallo staging-server en wordt bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="57528-143">hello previous active server, which now has hello old version or configuration installed, is made into hello staging server and is upgraded.</span></span>

<span data-ttu-id="57528-144">Hallo twee servers kunnen verschillende versies gebruiken.</span><span class="sxs-lookup"><span data-stu-id="57528-144">hello two servers can use different versions.</span></span> <span data-ttu-id="57528-145">Bijvoorbeeld Hallo actieve server dat u van plan toodecommission bent Azure AD Sync kunt gebruiken en nieuwe testserver hello Azure AD Connect kunt gebruiken.</span><span class="sxs-lookup"><span data-stu-id="57528-145">For example, hello active server that you plan toodecommission can use Azure AD Sync, and hello new staging server can use Azure AD Connect.</span></span> <span data-ttu-id="57528-146">Als u swing migratie toodevelop Hallo een nieuwe configuratie, het een goed idee toohave Hallo dezelfde versies op twee servers.</span><span class="sxs-lookup"><span data-stu-id="57528-146">If you use swing migration toodevelop a new configuration, it's a good idea toohave hello same versions on hello two servers.</span></span>  
![Tijdelijke server](./media/active-directory-aadconnect-upgrade-previous-version/stagingserver1.png)

> [!NOTE]
> <span data-ttu-id="57528-148">Bepaalde klanten graag toohave drie of vier servers voor dit scenario.</span><span class="sxs-lookup"><span data-stu-id="57528-148">Some customers prefer toohave three or four servers for this scenario.</span></span> <span data-ttu-id="57528-149">Wanneer Hallo testserver is geüpgraded, hebt u niet een back-upserver voor [herstel na noodgevallen](active-directory-aadconnectsync-operations.md#disaster-recovery).</span><span class="sxs-lookup"><span data-stu-id="57528-149">When hello staging server is upgraded, you don't have a backup server for [disaster recovery](active-directory-aadconnectsync-operations.md#disaster-recovery).</span></span> <span data-ttu-id="57528-150">Met drie of vier servers, kunt u één set van primaire/stand-by-servers met de nieuwe versie hello, die zorgt ervoor dat er altijd een testserver die gereed tootake via voorbereiden.</span><span class="sxs-lookup"><span data-stu-id="57528-150">With three or four servers, you can prepare one set of primary/standby servers with hello new version, which ensures that there is always a staging server that's ready tootake over.</span></span>

<span data-ttu-id="57528-151">Deze stappen werken ook toomove van Azure AD Sync of een oplossing met FIM + Azure AD-Connector.</span><span class="sxs-lookup"><span data-stu-id="57528-151">These steps also work toomove from Azure AD Sync or a solution with FIM + Azure AD Connector.</span></span> <span data-ttu-id="57528-152">Deze stappen werken niet voor DirSync, maar dezelfde migratie deze methode (ook wel parallelle implementatie) met de stappen voor DirSync Hallo is in [Upgrade Azure Active Directory-synchronisatie (DirSync)](active-directory-aadconnect-dirsync-upgrade-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="57528-152">These steps don't work for DirSync, but hello same swing migration method (also called parallel deployment) with steps for DirSync is in [Upgrade Azure Active Directory sync (DirSync)](active-directory-aadconnect-dirsync-upgrade-get-started.md).</span></span>

### <a name="use-a-swing-migration-tooupgrade"></a><span data-ttu-id="57528-153">Een migratie swing tooupgrade gebruiken</span><span class="sxs-lookup"><span data-stu-id="57528-153">Use a swing migration tooupgrade</span></span>
1. <span data-ttu-id="57528-154">Als u Azure AD Connect op servers en plan tooonly maken een configuratiewijziging hebt gebruikt, zorg ervoor dat uw actieve server- en staging-server zowel met behulp van dezelfde versie Hallo.</span><span class="sxs-lookup"><span data-stu-id="57528-154">If you use Azure AD Connect on both servers and plan tooonly make a configuration change, make sure that your active server and staging server are both using hello same version.</span></span> <span data-ttu-id="57528-155">Waardoor het gemakkelijker toocompare verschillen later.</span><span class="sxs-lookup"><span data-stu-id="57528-155">That makes it easier toocompare differences later.</span></span> <span data-ttu-id="57528-156">Als u een van Azure AD Sync upgrade uitvoert, hebben deze servers verschillende versies.</span><span class="sxs-lookup"><span data-stu-id="57528-156">If you're upgrading from Azure AD Sync, then these servers have different versions.</span></span> <span data-ttu-id="57528-157">Als u een van een oudere versie van Azure AD Connect upgrade uitvoert, is het een goed idee toostart met Hallo twee servers die dezelfde versie met behulp van hello, maar dit is niet vereist.</span><span class="sxs-lookup"><span data-stu-id="57528-157">If you're upgrading from an older version of Azure AD Connect, it's a good idea toostart with hello two servers that are using hello same version, but it's not required.</span></span>
2. <span data-ttu-id="57528-158">Als u een aangepaste configuratie hebt aangebracht en uw testserver beschikt niet over deze stappen Hallo onder [verplaatsen van een aangepaste configuratie van Hallo actieve server toohello testserver](#move-custom-configuration-from-active-to-staging-server).</span><span class="sxs-lookup"><span data-stu-id="57528-158">If you've made a custom configuration and your staging server doesn't have it, follow hello steps under [Move a custom configuration from hello active server toohello staging server](#move-custom-configuration-from-active-to-staging-server).</span></span>
3. <span data-ttu-id="57528-159">Als u een van een oudere versie van Azure AD Connect upgrade uitvoert upgraden Hallo staging-server toohello meest recente versie.</span><span class="sxs-lookup"><span data-stu-id="57528-159">If you're upgrading from an earlier release of Azure AD Connect, upgrade hello staging server toohello latest version.</span></span> <span data-ttu-id="57528-160">Als u, Azure AD Sync verplaatsen wilt, installeert u Azure AD Connect op uw server met tijdelijke bestanden.</span><span class="sxs-lookup"><span data-stu-id="57528-160">If you're moving from Azure AD Sync, then install Azure AD Connect on your staging server.</span></span>
4. <span data-ttu-id="57528-161">Hallo sync engine uitvoeren volledige import en een volledige synchronisatie op de testserver kunt.</span><span class="sxs-lookup"><span data-stu-id="57528-161">Let hello sync engine run full import and full synchronization on your staging server.</span></span>
5. <span data-ttu-id="57528-162">Controleer dat de nieuwe configuratie Hallo niet leiden tot onverwachte wijzigingen met behulp van de stappen onder 'Verifiëren' hello in [controleren Hallo configuratie van een server](active-directory-aadconnectsync-operations.md#verify-the-configuration-of-a-server).</span><span class="sxs-lookup"><span data-stu-id="57528-162">Verify that hello new configuration didn't cause any unexpected changes by using hello steps under "Verify" in [Verify hello configuration of a server](active-directory-aadconnectsync-operations.md#verify-the-configuration-of-a-server).</span></span> <span data-ttu-id="57528-163">Als er iets niet als verwachte, de juiste, Hallo import en synchronisatie uitvoeren, gegevens en controleren Hallo totdat er goed uitziet, door Hallo stappen te volgen.</span><span class="sxs-lookup"><span data-stu-id="57528-163">If something isn't as expected, correct it, run hello import and sync, and verify hello data until it looks good, by following hello steps.</span></span>
6. <span data-ttu-id="57528-164">Hallo staging-server toobe Hallo actieve server overschakelen.</span><span class="sxs-lookup"><span data-stu-id="57528-164">Switch hello staging server toobe hello active server.</span></span> <span data-ttu-id="57528-165">Dit is Hallo laatste stap 'Switch active server' in [controleren Hallo configuratie van een server](active-directory-aadconnectsync-operations.md#verify-the-configuration-of-a-server).</span><span class="sxs-lookup"><span data-stu-id="57528-165">This is hello final step "Switch active server" in [Verify hello configuration of a server](active-directory-aadconnectsync-operations.md#verify-the-configuration-of-a-server).</span></span>
7. <span data-ttu-id="57528-166">Als u een Azure AD Connect upgrade uitvoert, Hallo-server die wordt nu in staging-modus toohello meest recente versie bijwerken.</span><span class="sxs-lookup"><span data-stu-id="57528-166">If you're upgrading Azure AD Connect, upgrade hello server that's now in staging mode toohello latest release.</span></span> <span data-ttu-id="57528-167">Volg dezelfde stappen als voorheen tooget Hallo gegevens en configuratie bijgewerkt Hallo.</span><span class="sxs-lookup"><span data-stu-id="57528-167">Follow hello same steps as before tooget hello data and configuration upgraded.</span></span> <span data-ttu-id="57528-168">Als u Azure AD Sync bijgewerkt, kunt u nu uitschakelen en de oude server buiten gebruik stellen.</span><span class="sxs-lookup"><span data-stu-id="57528-168">If you upgraded from Azure AD Sync, you can now turn off and decommission your old server.</span></span>

### <a name="move-a-custom-configuration-from-hello-active-server-toohello-staging-server"></a><span data-ttu-id="57528-169">Een aangepaste configuratie van Hallo actieve server toohello staging-server verplaatsen</span><span class="sxs-lookup"><span data-stu-id="57528-169">Move a custom configuration from hello active server toohello staging server</span></span>
<span data-ttu-id="57528-170">Als u wijzigingen toohello active configuratieserver hebt gemaakt, moet u toomake zeker die dezelfde Hallo wijzigingen zijn toegepast toohello staging-server.</span><span class="sxs-lookup"><span data-stu-id="57528-170">If you've made configuration changes toohello active server, you need toomake sure that hello same changes are applied toohello staging server.</span></span> <span data-ttu-id="57528-171">toohelp dit verplaatsen, kunt u Hallo [documentatie voor Azure AD Connect-configuratie](https://github.com/Microsoft/AADConnectConfigDocumenter).</span><span class="sxs-lookup"><span data-stu-id="57528-171">toohelp with this move, you can use hello [Azure AD Connect configuration documenter](https://github.com/Microsoft/AADConnectConfigDocumenter).</span></span>

<span data-ttu-id="57528-172">U kunt verplaatsen Hallo aangepaste synchronisatie regels die u hebt gemaakt met behulp van PowerShell.</span><span class="sxs-lookup"><span data-stu-id="57528-172">You can move hello custom sync rules that you've created by using PowerShell.</span></span> <span data-ttu-id="57528-173">U moet de andere Hallo wijzigingen toepassen dezelfde manier op systemen, en u Hallo wijzigingen kan niet worden gemigreerd.</span><span class="sxs-lookup"><span data-stu-id="57528-173">You must apply other changes hello same way on both systems, and you can't migrate hello changes.</span></span> <span data-ttu-id="57528-174">Hallo [configuratie documentatie](https://github.com/Microsoft/AADConnectConfigDocumenter) kunt u vergelijken Hallo twee systemen toomake zeker van te zijn dat ze identiek zijn.</span><span class="sxs-lookup"><span data-stu-id="57528-174">hello [configuration documenter](https://github.com/Microsoft/AADConnectConfigDocumenter) can help you comparing hello two systems toomake sure they are identical.</span></span> <span data-ttu-id="57528-175">Hallo hulpprogramma kan ook helpen bij de automatisering van Hallo stappen in deze sectie.</span><span class="sxs-lookup"><span data-stu-id="57528-175">hello tool can also help in automating hello steps found in this section.</span></span>

<span data-ttu-id="57528-176">U moet tooconfigure Hallo volgende dingen Hallo dezelfde manier op beide servers:</span><span class="sxs-lookup"><span data-stu-id="57528-176">You need tooconfigure hello following things hello same way on both servers:</span></span>

* <span data-ttu-id="57528-177">Verbinding toohello dezelfde forests</span><span class="sxs-lookup"><span data-stu-id="57528-177">Connection toohello same forests</span></span>
* <span data-ttu-id="57528-178">Elk domein en OE filteren</span><span class="sxs-lookup"><span data-stu-id="57528-178">Any domain and OU filtering</span></span>
* <span data-ttu-id="57528-179">Hallo dezelfde optionele functies, zoals Wachtwoordsynchronisatie en wachtwoord terugschrijven</span><span class="sxs-lookup"><span data-stu-id="57528-179">hello same optional features, such as password sync and password writeback</span></span>

<span data-ttu-id="57528-180">**Aangepaste synchronisatieregels verplaatsen**</span><span class="sxs-lookup"><span data-stu-id="57528-180">**Move custom synchronization rules**</span></span>  
<span data-ttu-id="57528-181">toomove aangepaste synchronisatieregels, Hallo te volgen:</span><span class="sxs-lookup"><span data-stu-id="57528-181">toomove custom synchronization rules, do hello following:</span></span>

1. <span data-ttu-id="57528-182">Open **synchronisatie regeleditor** op uw actieve server.</span><span class="sxs-lookup"><span data-stu-id="57528-182">Open **Synchronization Rules Editor** on your active server.</span></span>
2. <span data-ttu-id="57528-183">Selecteer een aangepaste regel.</span><span class="sxs-lookup"><span data-stu-id="57528-183">Select a custom rule.</span></span> <span data-ttu-id="57528-184">Klik op **exporteren**.</span><span class="sxs-lookup"><span data-stu-id="57528-184">Click **Export**.</span></span> <span data-ttu-id="57528-185">Hiermee wordt een Kladblok-venster.</span><span class="sxs-lookup"><span data-stu-id="57528-185">This brings up a Notepad window.</span></span> <span data-ttu-id="57528-186">Hallo tijdelijke bestand opslaan met een PS1-uitbreiding.</span><span class="sxs-lookup"><span data-stu-id="57528-186">Save hello temporary file with a PS1 extension.</span></span> <span data-ttu-id="57528-187">Hierdoor kunt u een PowerShell-script.</span><span class="sxs-lookup"><span data-stu-id="57528-187">This makes it a PowerShell script.</span></span> <span data-ttu-id="57528-188">Hallo PS1-bestand toohello staging-server kopiëren.</span><span class="sxs-lookup"><span data-stu-id="57528-188">Copy hello PS1 file toohello staging server.</span></span>  
   <span data-ttu-id="57528-189">![Exporteren van de synchronisatie-regel](./media/active-directory-aadconnect-upgrade-previous-version/exportrule.png)</span><span class="sxs-lookup"><span data-stu-id="57528-189">![Sync rule export](./media/active-directory-aadconnect-upgrade-previous-version/exportrule.png)</span></span>
3. <span data-ttu-id="57528-190">Hallo Connector GUID verschilt op Hallo staging-server en deze moeten wijzigen.</span><span class="sxs-lookup"><span data-stu-id="57528-190">hello Connector GUID is different on hello staging server, and you must change it.</span></span> <span data-ttu-id="57528-191">tooget hello GUID, start **synchronisatie regeleditor**, selecteer een van de Hallo out-of-box-regels die verwijzen naar Hallo dezelfde verbonden systeem en klik op **exporteren**.</span><span class="sxs-lookup"><span data-stu-id="57528-191">tooget hello GUID, start **Synchronization Rules Editor**, select one of hello out-of-box rules that represent hello same connected system, and click **Export**.</span></span> <span data-ttu-id="57528-192">Hallo GUID in uw PS1-bestand vervangen door Hallo GUID van Hallo staging-server.</span><span class="sxs-lookup"><span data-stu-id="57528-192">Replace hello GUID in your PS1 file with hello GUID from hello staging server.</span></span>
4. <span data-ttu-id="57528-193">Voer Hallo PS1-bestand in een PowerShell-prompt.</span><span class="sxs-lookup"><span data-stu-id="57528-193">In a PowerShell prompt, run hello PS1 file.</span></span> <span data-ttu-id="57528-194">Hiermee maakt u de aangepaste synchronisatieregel Hallo op Hallo staging-server.</span><span class="sxs-lookup"><span data-stu-id="57528-194">This creates hello custom synchronization rule on hello staging server.</span></span>
5. <span data-ttu-id="57528-195">Herhaal dit voor alle aangepaste regels.</span><span class="sxs-lookup"><span data-stu-id="57528-195">Repeat this for all your custom rules.</span></span>

## <a name="how-toodefer-full-synchronization-after-upgrade"></a><span data-ttu-id="57528-196">Hoe toodefer volledige synchronisatie na de upgrade</span><span class="sxs-lookup"><span data-stu-id="57528-196">How toodefer full synchronization after upgrade</span></span>
<span data-ttu-id="57528-197">Tijdens een upgrade ter plekke, kunnen er wijzigingen die zijn geïntroduceerd waarvoor specifieke synchronisatie activiteiten (met inbegrip van de stap van de volledige Import en volledige synchronisatie) toobe uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="57528-197">During in-place upgrade, there may be changes introduced that require specific synchronization activities (including Full Import step and Full Synchronization step) toobe executed.</span></span> <span data-ttu-id="57528-198">Bijvoorbeeld connector schemawijzigingen vereisen **volledige import** stap en out-of-box synchronisatie regel wordt gewijzigd, moeten **volledige synchronisatie** stap toobe uitgevoerd op de betrokken connectors.</span><span class="sxs-lookup"><span data-stu-id="57528-198">For example, connector schema changes require **full import** step and out-of-box synchronization rule changes require **full synchronization** step toobe executed on affected connectors.</span></span> <span data-ttu-id="57528-199">Tijdens de upgrade, Azure AD Connect bepaalt welke synchronisatiebewerkingen zijn vereist en registreert deze als *overschrijft*.</span><span class="sxs-lookup"><span data-stu-id="57528-199">During upgrade, Azure AD Connect determines what synchronization activities are required and records them as *overrides*.</span></span> <span data-ttu-id="57528-200">Hallo volgende synchronisatiecyclus, Hallo synchronisatie scheduler deze overschrijvingen opneemt en deze worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="57528-200">In hello following synchronization cycle, hello synchronization scheduler picks up these overrides and executes them.</span></span> <span data-ttu-id="57528-201">Zodra een onderdrukking met succes wordt uitgevoerd, wordt deze verwijderd.</span><span class="sxs-lookup"><span data-stu-id="57528-201">Once an override is successfully executed, it is removed.</span></span>

<span data-ttu-id="57528-202">Mogelijk zijn er situaties waarin u niet dat deze overschrijvingen tootake plaats onmiddellijk na de upgrade wilt.</span><span class="sxs-lookup"><span data-stu-id="57528-202">There may be situations where you do not want these overrides tootake place immediately after upgrade.</span></span> <span data-ttu-id="57528-203">Bijvoorbeeld, u talrijke gesynchroniseerde objecten hebt en wilt u deze stappen synchronisatie toooccur na kantooruren.</span><span class="sxs-lookup"><span data-stu-id="57528-203">For example, you have numerous synchronized objects and you would like these synchronization steps toooccur after business hours.</span></span> <span data-ttu-id="57528-204">tooremove deze onderdrukt:</span><span class="sxs-lookup"><span data-stu-id="57528-204">tooremove these overrides:</span></span>

1. <span data-ttu-id="57528-205">Tijdens de upgrade, **schakelt** Hallo optie **Hallo synchronisatieproces starten wanneer de configuratie is voltooid**.</span><span class="sxs-lookup"><span data-stu-id="57528-205">During upgrade, **uncheck** hello option **Start hello synchronization process when configuration completes**.</span></span> <span data-ttu-id="57528-206">Dit wordt uitgeschakeld Hallo synchronisatie scheduler en voorkomt dat synchronisatiecyclus die hebben plaatsgevonden automatisch voordat Hallo onderdrukkingen worden verwijderd.</span><span class="sxs-lookup"><span data-stu-id="57528-206">This disables hello synchronization scheduler and prevents synchronization cycle from taking place automatically before hello overrides are removed.</span></span>

   ![DisableFullSyncAfterUpgrade](./media/active-directory-aadconnect-upgrade-previous-version/disablefullsync01.png)

2. <span data-ttu-id="57528-208">Nadat de upgrade is voltooid, voert u Hallo cmdlet toofind uit welke onderdrukkingen zijn toegevoegd na:`Get-ADSyncSchedulerConnectorOverride | fl`</span><span class="sxs-lookup"><span data-stu-id="57528-208">After upgrade completes, run hello following cmdlet toofind out what overrides have been added: `Get-ADSyncSchedulerConnectorOverride | fl`</span></span>

   >[!NOTE]
   > <span data-ttu-id="57528-209">Hallo overschrijvingen zijn specifiek voor een connector.</span><span class="sxs-lookup"><span data-stu-id="57528-209">hello overrides are connector-specific.</span></span> <span data-ttu-id="57528-210">In Hallo volgende voorbeeld, stap van de volledige Import en volledige synchronisatie zijn toegevoegd tooboth Hallo on-premises AD-Connector en Azure AD-Connector.</span><span class="sxs-lookup"><span data-stu-id="57528-210">In hello following example, Full Import step and Full Synchronization step have been added tooboth hello on-premises AD Connector and Azure AD Connector.</span></span>

   ![DisableFullSyncAfterUpgrade](./media/active-directory-aadconnect-upgrade-previous-version/disablefullsync02.png)

3. <span data-ttu-id="57528-212">Noteer Hallo bestaande onderdrukkingen die zijn toegevoegd.</span><span class="sxs-lookup"><span data-stu-id="57528-212">Note down hello existing overrides that have been added.</span></span>
   
4. <span data-ttu-id="57528-213">Hallo tooremove onderdrukt voor zowel volledige import en een volledige synchronisatie op een willekeurige connector Hallo volgende cmdlet uitvoeren:`Set-ADSyncSchedulerConnectorOverride -ConnectorIdentifier <Guid-of-ConnectorIdentifier> -FullImportRequired $false -FullSyncRequired $false`</span><span class="sxs-lookup"><span data-stu-id="57528-213">tooremove hello overrides for both full import and full synchronization on an arbitrary connector, run hello following cmdlet: `Set-ADSyncSchedulerConnectorOverride -ConnectorIdentifier <Guid-of-ConnectorIdentifier> -FullImportRequired $false -FullSyncRequired $false`</span></span>

   <span data-ttu-id="57528-214">tooremove hello onderdrukkingen op alle connectors uitvoeren Hallo volgende PowerShell-script:</span><span class="sxs-lookup"><span data-stu-id="57528-214">tooremove hello overrides on all connectors, execute hello following PowerShell script:</span></span>

   ```
   foreach ($connectorOverride in Get-ADSyncSchedulerConnectorOverride)
   {
       Set-ADSyncSchedulerConnectorOverride -ConnectorIdentifier $connectorOverride.ConnectorIdentifier.Guid -FullSyncRequired $false -FullImportRequired $false
   }
   ```

5. <span data-ttu-id="57528-215">tooresume hello scheduler, Hallo volgende cmdlet uitvoeren:`Set-ADSyncScheduler -SyncCycleEnabled $true`</span><span class="sxs-lookup"><span data-stu-id="57528-215">tooresume hello scheduler, run hello following cmdlet: `Set-ADSyncScheduler -SyncCycleEnabled $true`</span></span>

   >[!IMPORTANT]
   > <span data-ttu-id="57528-216">Houd er rekening mee tooexecute Hallo vereist synchronisatie stappen zo snel mogelijk.</span><span class="sxs-lookup"><span data-stu-id="57528-216">Remember tooexecute hello required synchronization steps at your earliest convenience.</span></span> <span data-ttu-id="57528-217">U kunt handmatig uitvoeren van deze stappen Hallo Synchronization Service Manager of Hallo onderdrukkingen terug met Hallo Set ADSyncSchedulerConnectorOverride cmdlet toevoegen.</span><span class="sxs-lookup"><span data-stu-id="57528-217">You can either manually execute these steps using hello Synchronization Service Manager or add hello overrides back using hello Set-ADSyncSchedulerConnectorOverride cmdlet.</span></span>

<span data-ttu-id="57528-218">Hallo tooadd onderdrukt voor zowel volledige import en een volledige synchronisatie op een willekeurige connector Hallo volgende cmdlet uitvoeren:`Set-ADSyncSchedulerConnectorOverride -ConnectorIdentifier <Guid> -FullImportRequired $true -FullSyncRequired $true`</span><span class="sxs-lookup"><span data-stu-id="57528-218">tooadd hello overrides for both full import and full synchronization on an arbitrary connector, run hello following cmdlet:  `Set-ADSyncSchedulerConnectorOverride -ConnectorIdentifier <Guid> -FullImportRequired $true -FullSyncRequired $true`</span></span>

## <a name="next-steps"></a><span data-ttu-id="57528-219">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="57528-219">Next steps</span></span>
<span data-ttu-id="57528-220">Meer informatie over [uw on-premises identiteiten integreren met Azure Active Directory](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="57528-220">Learn more about [integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>
