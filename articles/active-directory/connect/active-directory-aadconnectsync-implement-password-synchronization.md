---
title: aaaImplement Wachtwoordsynchronisatie met Azure AD Connect-synchronisatie | Microsoft Docs
description: Bevat informatie over hoe Wachtwoordsynchronisatie werkt en hoe tooset up.
services: active-directory
documentationcenter: 
author: MarkusVi
manager: femila
editor: 
ms.assetid: 05f16c3e-9d23-45dc-afca-3d0fa9dbf501
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: billmath
ms.openlocfilehash: a0401640f2a4d914419ee4446f923bb3a972389d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="implement-password-synchronization-with-azure-ad-connect-sync"></a><span data-ttu-id="c5548-103">Wachtwoordsynchronisatie met Azure AD Connect-synchronisatie implementeren</span><span class="sxs-lookup"><span data-stu-id="c5548-103">Implement password synchronization with Azure AD Connect sync</span></span>
<span data-ttu-id="c5548-104">Dit artikel bevat informatie die u nodig toosynchronize uw wachtwoorden van een lokale Active Directory-exemplaar tooa cloud-gebaseerde Azure Active Directory (Azure AD)-exemplaar.</span><span class="sxs-lookup"><span data-stu-id="c5548-104">This article provides information that you need toosynchronize your user passwords from an on-premises Active Directory instance tooa cloud-based Azure Active Directory (Azure AD) instance.</span></span>

## <a name="what-is-password-synchronization"></a><span data-ttu-id="c5548-105">Wat is synchronisatie van wachtwoorden</span><span class="sxs-lookup"><span data-stu-id="c5548-105">What is password synchronization</span></span>
<span data-ttu-id="c5548-106">Hallo kans dat u bent geblokkeerd toegang krijgen tot uw werk vanwege tooa vergeten wachtwoord is gerelateerd toohello nummer van verschillende wachtwoorden moet u tooremember.</span><span class="sxs-lookup"><span data-stu-id="c5548-106">hello probability that you're blocked from getting your work done due tooa forgotten password is related toohello number of different passwords you need tooremember.</span></span> <span data-ttu-id="c5548-107">Hallo meer wachtwoorden moet u tooremember, Hallo hoger Hallo kans tooforget een.</span><span class="sxs-lookup"><span data-stu-id="c5548-107">hello more passwords you need tooremember, hello higher hello probability tooforget one.</span></span> <span data-ttu-id="c5548-108">Hallo meeste helpdesk bronnen vragen en oproepen over wachtwoorden en andere problemen met de wachtwoord-aanvraag.</span><span class="sxs-lookup"><span data-stu-id="c5548-108">Questions and calls about password resets and other password-related issues demand hello most helpdesk resources.</span></span>

<span data-ttu-id="c5548-109">Wachtwoordsynchronisatie is dat een functie toosynchronize wachtwoorden van een lokale Active Directory-exemplaar tooa cloud-gebaseerde Azure AD-exemplaar gebruikt.</span><span class="sxs-lookup"><span data-stu-id="c5548-109">Password synchronization is a feature used toosynchronize user passwords from an on-premises Active Directory instance tooa cloud-based Azure AD instance.</span></span>
<span data-ttu-id="c5548-110">Gebruik deze functie toosign in tooAzure AD-services zoals Office 365, Microsoft Intune, CRM Online en Azure Active Directory Domain Services (Azure AD DS).</span><span class="sxs-lookup"><span data-stu-id="c5548-110">Use this feature toosign in tooAzure AD services like Office 365, Microsoft Intune, CRM Online, and Azure Active Directory Domain Services (Azure AD DS).</span></span> <span data-ttu-id="c5548-111">U zich aanmeldt toohello service met behulp van Hallo hetzelfde wachtwoord dat u toosign in tooyour lokale Active Directory-exemplaar.</span><span class="sxs-lookup"><span data-stu-id="c5548-111">You sign in toohello service by using hello same password you use toosign in tooyour on-premises Active Directory instance.</span></span>

![Wat is Azure AD Connect?](./media/active-directory-aadconnectsync-implement-password-synchronization/arch1.png)

<span data-ttu-id="c5548-113">Vermindert het aantal wachtwoorden hello, moeten uw gebruikers toomaintain toojust een.</span><span class="sxs-lookup"><span data-stu-id="c5548-113">By reducing hello number of passwords, your users need toomaintain toojust one.</span></span> <span data-ttu-id="c5548-114">Wachtwoordsynchronisatie helpt u bij:</span><span class="sxs-lookup"><span data-stu-id="c5548-114">Password synchronization helps you to:</span></span>

* <span data-ttu-id="c5548-115">Hallo productiviteit van uw gebruikers verbeteren.</span><span class="sxs-lookup"><span data-stu-id="c5548-115">Improve hello productivity of your users.</span></span>
* <span data-ttu-id="c5548-116">Uw helpdesk kosten te verlagen.</span><span class="sxs-lookup"><span data-stu-id="c5548-116">Reduce your helpdesk costs.</span></span>  

<span data-ttu-id="c5548-117">Ook als u toouse besluit [Federatie met Active Directory Federation Services (AD FS)](https://channel9.msdn.com/Series/Azure-Active-Directory-Videos-Demos/Configuring-AD-FS-for-user-sign-in-with-Azure-AD-Connect), kunt u eventueel instellen Wachtwoordsynchronisatie als een back-up als uw AD FS-infrastructuur is mislukt.</span><span class="sxs-lookup"><span data-stu-id="c5548-117">Also, if you decide toouse [Federation with Active Directory Federation Services (AD FS)](https://channel9.msdn.com/Series/Azure-Active-Directory-Videos-Demos/Configuring-AD-FS-for-user-sign-in-with-Azure-AD-Connect), you can optionally set up password synchronization as a backup in case your AD FS infrastructure fails.</span></span>

<span data-ttu-id="c5548-118">Wachtwoordsynchronisatie is een uitbreiding toohello directory-synchronisatiefunctie ge√Ømplementeerd door Azure AD Connect-synchronisatie. Wachtwoordsynchronisatie toouse in uw omgeving, moet u:</span><span class="sxs-lookup"><span data-stu-id="c5548-118">Password synchronization is an extension toohello directory synchronization feature implemented by Azure AD Connect sync. toouse password synchronization in your environment, you need to:</span></span>

* <span data-ttu-id="c5548-119">Azure AD Connect installeren.</span><span class="sxs-lookup"><span data-stu-id="c5548-119">Install Azure AD Connect.</span></span>  
* <span data-ttu-id="c5548-120">Adreslijstsynchronisatie configureert tussen uw lokale Active Directory-exemplaar en uw Azure Active Directory-exemplaar.</span><span class="sxs-lookup"><span data-stu-id="c5548-120">Configure directory synchronization between your on-premises Active Directory instance and your Azure Active Directory instance.</span></span>
* <span data-ttu-id="c5548-121">Wachtwoordsynchronisatie inschakelen.</span><span class="sxs-lookup"><span data-stu-id="c5548-121">Enable password synchronization.</span></span>

<span data-ttu-id="c5548-122">Zie [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md) (Uw on-premises identiteiten integreren met Azure Active Directory) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="c5548-122">For more details, see [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>

> [!NOTE]
> <span data-ttu-id="c5548-123">Zie voor meer informatie over Azure Active Directory Domain Services geconfigureerd voor FIPS en Wachtwoordsynchronisatie 'Wachtwoordsynchronisatie en FIPS' verderop in dit artikel.</span><span class="sxs-lookup"><span data-stu-id="c5548-123">For more details about Azure Active Directory Domain Services configured for FIPS and password synchronization, see "Password synchronization and FIPS" later in this article.</span></span>
>
>

## <a name="how-password-synchronization-works"></a><span data-ttu-id="c5548-124">Hoe werkt Wachtwoordsynchronisatie</span><span class="sxs-lookup"><span data-stu-id="c5548-124">How password synchronization works</span></span>
<span data-ttu-id="c5548-125">wachtwoorden worden opgeslagen in de vorm van een weergave van de hash-waarde van de werkelijke gebruikerswachtwoord Hallo Hallo van Hallo Active Directory domain Services.</span><span class="sxs-lookup"><span data-stu-id="c5548-125">hello Active Directory domain service stores passwords in hello form of a hash value representation of hello actual user password.</span></span> <span data-ttu-id="c5548-126">Een hash-waarde is een resultaat van een wiskundige eenrichtingsfunctie (Hallo *hash-algoritme*).</span><span class="sxs-lookup"><span data-stu-id="c5548-126">A hash value is a result of a one-way mathematical function (hello *hashing algorithm*).</span></span> <span data-ttu-id="c5548-127">Er is geen methode toorevert Hallo resultaat van een one-way function toohello tekst zonder opmaak versie van een wachtwoord.</span><span class="sxs-lookup"><span data-stu-id="c5548-127">There is no method toorevert hello result of a one-way function toohello plain text version of a password.</span></span> <span data-ttu-id="c5548-128">U kunt een wachtwoord-hash-toosign in tooyour on-premises netwerk gebruiken.</span><span class="sxs-lookup"><span data-stu-id="c5548-128">You cannot use a password hash toosign in tooyour on-premises network.</span></span>

<span data-ttu-id="c5548-129">uw wachtwoord, Azure AD Connect-synchronisatie pakt de wachtwoord-hash van toosynchronize Hallo lokale Active Directory-exemplaar.</span><span class="sxs-lookup"><span data-stu-id="c5548-129">toosynchronize your password, Azure AD Connect sync extracts your password hash from hello on-premises Active Directory instance.</span></span> <span data-ttu-id="c5548-130">Verwerking van de extra beveiliging wordt toegepast toohello wachtwoordhash voordat deze wordt gesynchroniseerd toohello Azure Active Directory authentication-service.</span><span class="sxs-lookup"><span data-stu-id="c5548-130">Extra security processing is applied toohello password hash before it is synchronized toohello Azure Active Directory authentication service.</span></span> <span data-ttu-id="c5548-131">Wachtwoorden worden gesynchroniseerd, op basis van een gebruiker en in chronologische volgorde.</span><span class="sxs-lookup"><span data-stu-id="c5548-131">Passwords are synchronized on a per-user basis and in chronological order.</span></span>

<span data-ttu-id="c5548-132">Hallo werkelijke gegevensstroom van Hallo wachtwoord-synchronisatieproces is vergelijkbaar toohello synchronisatie van gebruikersgegevens, zoals DisplayName of e-mailadressen.</span><span class="sxs-lookup"><span data-stu-id="c5548-132">hello actual data flow of hello password synchronization process is similar toohello synchronization of user data such as DisplayName or Email Addresses.</span></span> <span data-ttu-id="c5548-133">Wachtwoorden worden echter vaker dan Hallo standaard directory-synchronisatievenster voor andere kenmerken gesynchroniseerd.</span><span class="sxs-lookup"><span data-stu-id="c5548-133">However, passwords are synchronized more frequently than hello standard directory synchronization window for other attributes.</span></span> <span data-ttu-id="c5548-134">Hallo wachtwoord synchronisatieproces wordt elke twee minuten uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="c5548-134">hello password synchronization process runs every 2 minutes.</span></span> <span data-ttu-id="c5548-135">U kunt Hallo frequentie van dit proces niet wijzigen.</span><span class="sxs-lookup"><span data-stu-id="c5548-135">You cannot modify hello frequency of this process.</span></span> <span data-ttu-id="c5548-136">Wanneer u een wachtwoord synchroniseert, overschrijft het Hallo bestaande cloud wachtwoord.</span><span class="sxs-lookup"><span data-stu-id="c5548-136">When you synchronize a password, it overwrites hello existing cloud password.</span></span>

<span data-ttu-id="c5548-137">Hallo eerst die Hallo wachtwoord synchronisatie functie is ingeschakeld, wordt uitgevoerd een initi√´le synchronisatie van wachtwoorden Hallo van alle gebruikers die in het bereik.</span><span class="sxs-lookup"><span data-stu-id="c5548-137">hello first time you enable hello password synchronization feature, it performs an initial synchronization of hello passwords of all in-scope users.</span></span> <span data-ttu-id="c5548-138">U kunt geen expliciet een subset van wachtwoorden van gebruikers die u wilt dat toosynchronize defini√´ren.</span><span class="sxs-lookup"><span data-stu-id="c5548-138">You cannot explicitly define a subset of user passwords that you want toosynchronize.</span></span>

<span data-ttu-id="c5548-139">Wanneer u een on-premises wachtwoord wijzigt, is Hallo bijgewerkt wachtwoord gesynchroniseerd, meestal binnen een paar minuten.</span><span class="sxs-lookup"><span data-stu-id="c5548-139">When you change an on-premises password, hello updated password is synchronized, most often in a matter of minutes.</span></span>
<span data-ttu-id="c5548-140">Hallo wachtwoord synchronisatiefunctie mislukte synchronisatiepogingen wordt automatisch opnieuw geprobeerd.</span><span class="sxs-lookup"><span data-stu-id="c5548-140">hello password synchronization feature automatically retries failed synchronization attempts.</span></span> <span data-ttu-id="c5548-141">Als er een fout optreedt tijdens een poging toosynchronize een wachtwoord, wordt er een fout vastgelegd in de logboeken.</span><span class="sxs-lookup"><span data-stu-id="c5548-141">If an error occurs during an attempt toosynchronize a password, an error is logged in your event viewer.</span></span>

<span data-ttu-id="c5548-142">Hallo synchronisatie van een wachtwoord heeft geen invloed op Hallo-gebruiker die momenteel is aangemeld.</span><span class="sxs-lookup"><span data-stu-id="c5548-142">hello synchronization of a password has no impact on hello user  who is currently signed in.</span></span>
<span data-ttu-id="c5548-143">De huidige sessie van de cloud-service wordt niet direct be√Ønvloed door een gesynchroniseerde wachtwoordwijziging die optreedt terwijl u bent aangemeld met tooa-cloudservice.</span><span class="sxs-lookup"><span data-stu-id="c5548-143">Your current cloud service session is not immediately affected by a synchronized password change that occurs while you are signed in tooa cloud service.</span></span> <span data-ttu-id="c5548-144">Echter, wanneer Hallo-cloudservice, u tooauthenticate opnieuw moet moet u tooprovide uw nieuwe wachtwoord.</span><span class="sxs-lookup"><span data-stu-id="c5548-144">However, when hello cloud service requires you tooauthenticate again, you need tooprovide your new password.</span></span>

<span data-ttu-id="c5548-145">Een gebruiker moet hun bedrijfsreferenties invoeren een tweede keer tooauthenticate tooAzure AD, ongeacht of ze tootheir bedrijfsnetwerk bent aangemeld.</span><span class="sxs-lookup"><span data-stu-id="c5548-145">A user must enter their corporate credentials a second time tooauthenticate tooAzure AD, regardless of whether they're signed in tootheir corporate network.</span></span> <span data-ttu-id="c5548-146">Deze patroon kan echter worden geminimaliseerd als Hallo gebruiker selecteert Hallo behouden mij ondertekend (KMSI) selectievakje apenstaartje in.</span><span class="sxs-lookup"><span data-stu-id="c5548-146">These pattern can be minimized, however, if hello user selects hello Keep me signed in (KMSI) check box at sign in.</span></span> <span data-ttu-id="c5548-147">Deze selectie stelt een sessiecookie dat verificatie voor een korte periode omzeilt.</span><span class="sxs-lookup"><span data-stu-id="c5548-147">This selection sets a session cookie that bypasses authentication for a short period.</span></span> <span data-ttu-id="c5548-148">KMSI gedrag kan worden ingeschakeld of uitgeschakeld door hello Azure AD-beheerder.</span><span class="sxs-lookup"><span data-stu-id="c5548-148">KMSI behavior can be enabled or disabled by hello Azure AD administrator.</span></span>

> [!NOTE]
> <span data-ttu-id="c5548-149">Wachtwoordsynchronisatie wordt alleen ondersteund voor Hallo object type gebruiker in Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c5548-149">Password sync is only supported for hello object type user in Active Directory.</span></span> <span data-ttu-id="c5548-150">Dit wordt niet ondersteund voor Hallo iNetOrgPerson-objecttype.</span><span class="sxs-lookup"><span data-stu-id="c5548-150">It is not supported for hello iNetOrgPerson object type.</span></span>

### <a name="detailed-description-of-how-password-synchronization-works"></a><span data-ttu-id="c5548-151">Gedetailleerde beschrijving van hoe Wachtwoordsynchronisatie werkt</span><span class="sxs-lookup"><span data-stu-id="c5548-151">Detailed description of how password synchronization works</span></span>
<span data-ttu-id="c5548-152">Hallo hieronder wordt beschreven diepgaande hoe werkt Wachtwoordsynchronisatie tussen Active Directory en Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c5548-152">hello following describes in-depth how password synchronization works between Active Directory and Azure AD.</span></span>

![Gedetailleerde wachtwoord stroom](./media/active-directory-aadconnectsync-implement-password-synchronization/arch3.png)


1. <span data-ttu-id="c5548-154">Elke twee minuten Hallo agent voor Wachtwoordsynchronisatie op Hallo AD Connect-server aanvragen opgeslagen wachtwoord-hashes (Hallo unicodePwd kenmerk) van een DC via Hallo standaard [MS DRSR](https://msdn.microsoft.com/library/cc228086.aspx) replicatie-protocol gebruikt toosynchronize gegevens tussen domeincontrollers.</span><span class="sxs-lookup"><span data-stu-id="c5548-154">Every two minutes, hello password synchronization agent on hello AD Connect server requests stored password hashes (hello unicodePwd attribute) from a DC via hello standard [MS-DRSR](https://msdn.microsoft.com/library/cc228086.aspx) replication protocol used toosynchronize data between DCs.</span></span> <span data-ttu-id="c5548-155">Hallo-serviceaccount moet directorywijzigingen repliceren en repliceren Directory alle wijzigingen AD machtigingen (standaard op de installatie) tooobtain Hallo wachtwoord-hashes hebben.</span><span class="sxs-lookup"><span data-stu-id="c5548-155">hello service account must have Replicate Directory Changes and Replicate Directory Changes All AD permissions (granted by default on installation) tooobtain hello password hashes.</span></span>
2. <span data-ttu-id="c5548-156">Voordat u verzendt, Hallo DC versleuteld Hallo MD4 wachtwoord-hash met een sleutel die is een [MD5](http://www.rfc-editor.org/rfc/rfc1321.txt) hash van de sessiesleutel van Hallo RPC en een salt.</span><span class="sxs-lookup"><span data-stu-id="c5548-156">Before sending, hello DC encrypts hello MD4 password hash by using a key that is a [MD5](http://www.rfc-editor.org/rfc/rfc1321.txt) hash of hello RPC session key and a salt.</span></span> <span data-ttu-id="c5548-157">Vervolgens stuurt Hallo resultaat toohello agent voor Wachtwoordsynchronisatie via RPC.</span><span class="sxs-lookup"><span data-stu-id="c5548-157">It then sends hello result toohello password synchronization agent over RPC.</span></span> <span data-ttu-id="c5548-158">Hallo geeft DC ook Hallo salt toohello synchronisatie-agent met behulp van Hallo DC replicatie-protocol, dus Hallo agent kunnen toodecrypt Hallo envelop.</span><span class="sxs-lookup"><span data-stu-id="c5548-158">hello DC also passes hello salt toohello synchronization agent by using hello DC replication protocol, so hello agent will be able toodecrypt hello envelope.</span></span>
3.  <span data-ttu-id="c5548-159">Nadat de agent voor Wachtwoordsynchronisatie Hallo Hallo versleutelde envelop heeft, gebruikt [MD5CryptoServiceProvider](https://msdn.microsoft.com/library/System.Security.Cryptography.MD5CryptoServiceProvider.aspx) en Hallo salt toogenerate een sleutel toodecrypt Hallo ontvangen back tooits oorspronkelijke MD4 gegevensindeling.</span><span class="sxs-lookup"><span data-stu-id="c5548-159">After hello password synchronization agent has hello encrypted envelope, it uses [MD5CryptoServiceProvider](https://msdn.microsoft.com/library/System.Security.Cryptography.MD5CryptoServiceProvider.aspx) and hello salt toogenerate a key toodecrypt hello received data back tooits original MD4 format.</span></span> <span data-ttu-id="c5548-160">Op geen enkel heeft agent voor Wachtwoordsynchronisatie Hallo toegang toohello wachtwoord met ongecodeerde tekst.</span><span class="sxs-lookup"><span data-stu-id="c5548-160">At no point does hello password synchronization agent have access toohello clear text password.</span></span> <span data-ttu-id="c5548-161">Hallo agent voor Wachtwoordsynchronisatie van gebruik van MD5 geldt uitsluitend voor replicatie protocol compatibiliteit met Hallo DC en wordt alleen gebruikt on-premises tussen Hallo DC en Hallo agent voor Wachtwoordsynchronisatie.</span><span class="sxs-lookup"><span data-stu-id="c5548-161">hello password synchronization agent‚Äôs use of MD5 is strictly for replication protocol compatibility with hello DC, and it is only used on premises between hello DC and hello password synchronization agent.</span></span>
4.  <span data-ttu-id="c5548-162">agent voor Wachtwoordsynchronisatie Hallo breidt Hallo 16 bytes binary-wachtwoord-hash too64 bytes door de eerste converteren Hallo hash tooa 32 byte hexadecimale tekenreeks, en vervolgens back-deze tekenreeks converteren naar binair met UTF-16-codering.</span><span class="sxs-lookup"><span data-stu-id="c5548-162">hello password synchronization agent expands hello 16-byte binary password hash too64 bytes by first converting hello hash tooa 32-byte hexadecimal string, then converting this string back into binary with UTF-16 encoding.</span></span>
5.  <span data-ttu-id="c5548-163">agent voor Wachtwoordsynchronisatie Hello wordt toegevoegd een salt die bestaan uit een lengte in 10 bytes salt, toohello 64-bytes binary toofurther beveiligen Hallo oorspronkelijke-hash.</span><span class="sxs-lookup"><span data-stu-id="c5548-163">hello password synchronization agent adds a salt, consisting of a 10-byte length salt, toohello 64-byte binary toofurther protect hello original hash.</span></span>
6.  <span data-ttu-id="c5548-164">agent voor Wachtwoordsynchronisatie Hallo Hallo MD4-hash plus salt combineert en de bestelling op Hallo [PBKDF2](https://www.ietf.org/rfc/rfc2898.txt) functie.</span><span class="sxs-lookup"><span data-stu-id="c5548-164">hello password synchronization agent then combines hello MD4 hash plus salt, and inputs it into hello [PBKDF2](https://www.ietf.org/rfc/rfc2898.txt) function.</span></span> <span data-ttu-id="c5548-165">1000 herhalingen van Hallo [HMAC SHA256](https://msdn.microsoft.com/library/system.security.cryptography.hmacsha256.aspx) sleutelhash hash-algoritme wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="c5548-165">1000 iterations of hello [HMAC-SHA256](https://msdn.microsoft.com/library/system.security.cryptography.hmacsha256.aspx) keyed hashing algorithm is used.</span></span> 
7.  <span data-ttu-id="c5548-166">agent voor Wachtwoordsynchronisatie Hallo Hallo resulterende 32-byte-hash heeft, worden aaneengeschakeld beide salt Hallo en Hallo aantal SHA256 iteraties tooit (voor gebruik door Azure AD) en verzendt Hallo tekenreeks van Azure AD Connect tooAzure AD via SSL.</span><span class="sxs-lookup"><span data-stu-id="c5548-166">hello password synchronization agent takes hello resulting 32-byte hash, concatenates both hello salt and hello number of SHA256 iterations tooit (for use by Azure AD), then transmits hello string from Azure AD Connect tooAzure AD over SSL.</span></span></br> 
8.  <span data-ttu-id="c5548-167">Wanneer een gebruiker probeert toosign in tooAzure AD en hun wachtwoord, hello wachtwoord invoert, wordt uitgevoerd via Hallo dezelfde MD4 + salt + PBKDF2 + HMAC SHA256-proces.</span><span class="sxs-lookup"><span data-stu-id="c5548-167">When a user attempts toosign in tooAzure AD and enters their password, hello password is run through hello same MD4+salt+PBKDF2+HMAC-SHA256 process.</span></span> <span data-ttu-id="c5548-168">Als de resulterende hash Hallo overeenkomt met Hallo hash opgeslagen in Azure AD, wordt Hallo gebruiker Hallo juiste wachtwoord heeft ingevoerd en is geverifieerd.</span><span class="sxs-lookup"><span data-stu-id="c5548-168">If hello resulting hash matches hello hash stored in Azure AD, hello user has entered hello correct password and is authenticated.</span></span> 

>[!Note] 
><span data-ttu-id="c5548-169">Hallo oorspronkelijke MD4-hash is niet verzonden tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="c5548-169">hello original MD4 hash is not transmitted tooAzure AD.</span></span> <span data-ttu-id="c5548-170">In plaats daarvan wordt Hallo SHA256-hash van de oorspronkelijke MD4-hash hello verzonden.</span><span class="sxs-lookup"><span data-stu-id="c5548-170">Instead, hello SHA256 hash of hello original MD4 hash is transmitted.</span></span> <span data-ttu-id="c5548-171">Worden als gevolg hiervan als Hallo hash opgeslagen in Azure AD wordt verkregen, deze kan niet gebruikt in een lokale pass-the-hash-aanval.</span><span class="sxs-lookup"><span data-stu-id="c5548-171">As a result, if hello hash stored in Azure AD is obtained, it cannot be used in an on-premises pass-the-hash attack.</span></span>

### <a name="how-password-synchronization-works-with-azure-active-directory-domain-services"></a><span data-ttu-id="c5548-172">Hoe werkt Wachtwoordsynchronisatie met Azure Active Directory Domain Services</span><span class="sxs-lookup"><span data-stu-id="c5548-172">How password synchronization works with Azure Active Directory Domain Services</span></span>
<span data-ttu-id="c5548-173">U kunt ook Hallo wachtwoord synchronisatie functie toosynchronize uw on-premises wachtwoorden te[Azure Active Directory Domain Services](../../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c5548-173">You can also use hello password synchronization feature toosynchronize your on-premises passwords too[Azure Active Directory Domain Services](../../active-directory-domain-services/active-directory-ds-overview.md).</span></span> <span data-ttu-id="c5548-174">In dit scenario verifieert hello Azure Active Directory Domain Services-exemplaar uw gebruikers in de cloud Hallo met alle Hallo-methoden die beschikbaar zijn in uw lokale Active Directory-exemplaar.</span><span class="sxs-lookup"><span data-stu-id="c5548-174">In this scenario, hello Azure Active Directory Domain Services instance authenticates your users in hello cloud with all hello methods available in your on-premises Active Directory instance.</span></span> <span data-ttu-id="c5548-175">Hallo-ervaring van dit scenario is vergelijkbaar toousing Hallo Active Directory Migration Tool (ADMT) in een on-premises omgeving.</span><span class="sxs-lookup"><span data-stu-id="c5548-175">hello experience of this scenario is similar toousing hello Active Directory Migration Tool (ADMT) in an on-premises environment.</span></span>

### <a name="security-considerations"></a><span data-ttu-id="c5548-176">Beveiligingsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c5548-176">Security considerations</span></span>
<span data-ttu-id="c5548-177">Bij het synchroniseren van wachtwoorden, Hallo tekst zonder opmaak versie van uw wachtwoord is niet blootgestelde toohello wachtwoordfunctie voor synchronisatie, tooAzure AD of een van de services Hallo die zijn gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="c5548-177">When synchronizing passwords, hello plain-text version of your password is not exposed toohello password synchronization feature, tooAzure AD, or any of hello associated services.</span></span>

<span data-ttu-id="c5548-178">Gebruikersverificatie vindt plaats met Azure AD in plaats van op Hallo van organisatie Active Directory-exemplaar.</span><span class="sxs-lookup"><span data-stu-id="c5548-178">User authentication takes place against Azure AD rather than against hello organization's own Active Directory instance.</span></span> <span data-ttu-id="c5548-179">Als uw organisatie opmerkingen over de wachtwoordgegevens in een formulier verlaten premises Hallo, houd dan rekening Hallo feit die Hallo SHA256 wachtwoord opgeslagen gegevens in Azure AD--is een hash van de oorspronkelijke MD4-hash Hallo--veel veiliger is dan wat wordt opgeslagen in Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c5548-179">If your organization has concerns about password data in any form leaving hello premises, consider hello fact that hello SHA256 password data stored in Azure AD--a hash of hello original MD4 hash--is significantly more secure than what is stored in Active Directory.</span></span> <span data-ttu-id="c5548-180">Verder, omdat deze SHA256-hash kan niet worden ontsleuteld, het niet kan worden teruggebracht van toohello organisatie Active Directory-omgeving en weergegeven als een geldige gebruiker-wachtwoord in een pass-the-hash-aanval.</span><span class="sxs-lookup"><span data-stu-id="c5548-180">Further, because this SHA256 hash cannot be decrypted, it cannot be brought back toohello organization's Active Directory environment and presented as a valid user password in a pass-the-hash attack.</span></span>





### <a name="password-policy-considerations"></a><span data-ttu-id="c5548-181">Overwegingen bij het beleid van wachtwoord</span><span class="sxs-lookup"><span data-stu-id="c5548-181">Password policy considerations</span></span>
<span data-ttu-id="c5548-182">Er zijn twee soorten beleid voor wachtwoorden die worden be√Ønvloed door Wachtwoordsynchronisatie inschakelen:</span><span class="sxs-lookup"><span data-stu-id="c5548-182">There are two types of password policies that are affected by enabling password synchronization:</span></span>

* <span data-ttu-id="c5548-183">Beleid voor wachtwoordcomplexiteit</span><span class="sxs-lookup"><span data-stu-id="c5548-183">Password complexity policy</span></span>
* <span data-ttu-id="c5548-184">Vervalbeleid voor wachtwoorden</span><span class="sxs-lookup"><span data-stu-id="c5548-184">Password expiration policy</span></span>

#### <a name="password-complexity-policy"></a><span data-ttu-id="c5548-185">Beleid voor wachtwoordcomplexiteit</span><span class="sxs-lookup"><span data-stu-id="c5548-185">Password complexity policy</span></span>  
<span data-ttu-id="c5548-186">Als Wachtwoordsynchronisatie is ingeschakeld, overschrijven Hallo wachtwoordbeleid complexiteit in uw lokale Active Directory-exemplaar complexiteit beleid in de cloud Hallo voor gesynchroniseerde gebruikers.</span><span class="sxs-lookup"><span data-stu-id="c5548-186">When password synchronization is enabled, hello password complexity policies in your on-premises Active Directory instance override complexity policies in hello cloud for synchronized users.</span></span> <span data-ttu-id="c5548-187">U kunt alle Hallo geldige wachtwoorden van uw lokale Active Directory-exemplaar tooaccess Azure AD-services.</span><span class="sxs-lookup"><span data-stu-id="c5548-187">You can use all of hello valid passwords from your on-premises Active Directory instance tooaccess Azure AD services.</span></span>

> [!NOTE]
> <span data-ttu-id="c5548-188">Wachtwoorden voor gebruikers die zijn gemaakt, rechtstreeks in de cloud Hallo zijn nog steeds onderwerp toopassword beleidsregels zoals gedefinieerd in de cloud Hallo.</span><span class="sxs-lookup"><span data-stu-id="c5548-188">Passwords for users that are created directly in hello cloud are still subject toopassword policies as defined in hello cloud.</span></span>

#### <a name="password-expiration-policy"></a><span data-ttu-id="c5548-189">Vervalbeleid voor wachtwoorden</span><span class="sxs-lookup"><span data-stu-id="c5548-189">Password expiration policy</span></span>  
<span data-ttu-id="c5548-190">Als een gebruiker in het bereik van Wachtwoordsynchronisatie hello, Hallo cloud accountwachtwoord te is ingesteld*nooit verlopen*.</span><span class="sxs-lookup"><span data-stu-id="c5548-190">If a user is in hello scope of password synchronization, hello cloud account password is set too*Never Expire*.</span></span>

<span data-ttu-id="c5548-191">U kunt toosign blijven in tooyour cloudservices met behulp van een gesynchroniseerde wachtwoord dat is verlopen in uw on-premises omgeving.</span><span class="sxs-lookup"><span data-stu-id="c5548-191">You can continue toosign in tooyour cloud services by using a synchronized password that is expired in your on-premises environment.</span></span> <span data-ttu-id="c5548-192">Uw wachtwoord cloud wordt bijgewerkt zodra u Hallo wachtwoord in Hallo on-premises omgeving wijzigen Hallo.</span><span class="sxs-lookup"><span data-stu-id="c5548-192">Your cloud password is updated hello next time you change hello password in hello on-premises environment.</span></span>

#### <a name="account-expiration"></a><span data-ttu-id="c5548-193">Account verloopt</span><span class="sxs-lookup"><span data-stu-id="c5548-193">Account expiration</span></span>
<span data-ttu-id="c5548-194">Als uw organisatie gebruikmaakt van Hallo accountExpires kenmerk als onderdeel van Gebruikersaccountbeheer, let er dan voor dat dit kenmerk is niet gesynchroniseerd tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="c5548-194">If your organization uses hello accountExpires attribute as part of user account management, be aware that this attribute is not synchronized tooAzure AD.</span></span> <span data-ttu-id="c5548-195">Als gevolg hiervan wordt verlopen Active Directory-account in een omgeving die is geconfigureerd voor Wachtwoordsynchronisatie nog steeds actief zijn in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c5548-195">As a result, an expired Active Directory account in an environment configured for password synchronization will still be active in Azure AD.</span></span> <span data-ttu-id="c5548-196">We raden aan dat als Hallo-account is verlopen, een werkstroomactie moet worden geactiveerd door een PowerShell-script waarmee Hallo van Azure AD-gebruikersaccount worden uitgeschakeld.</span><span class="sxs-lookup"><span data-stu-id="c5548-196">We recommend that if hello account is expired, a workflow action should trigger a PowerShell script that disables hello user's Azure AD account.</span></span> <span data-ttu-id="c5548-197">Als u daarentegen wanneer Hallo-account is ingeschakeld, moet hello Azure AD-exemplaar worden ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="c5548-197">Conversely, when hello account is turned on, hello Azure AD instance should be turned on.</span></span>

### <a name="overwrite-synchronized-passwords"></a><span data-ttu-id="c5548-198">Gesynchroniseerde wachtwoorden overschrijven</span><span class="sxs-lookup"><span data-stu-id="c5548-198">Overwrite synchronized passwords</span></span>
<span data-ttu-id="c5548-199">Een beheerder kan handmatig uw wachtwoord opnieuw instellen met behulp van Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c5548-199">An administrator can manually reset your password by using Windows PowerShell.</span></span>

<span data-ttu-id="c5548-200">In dit geval Hallo nieuw wachtwoord overschrijft uw gesynchroniseerde wachtwoord en alle wachtwoordbeleidsregels gedefinieerd in de cloud Hallo zijn toegepaste toohello nieuwe wachtwoord.</span><span class="sxs-lookup"><span data-stu-id="c5548-200">In this case, hello new password overrides your synchronized password, and all password policies defined in hello cloud are applied toohello new password.</span></span>

<span data-ttu-id="c5548-201">Als u uw on-premises-wachtwoord opnieuw wijzigt, Hallo nieuwe wachtwoord is gesynchroniseerd toohello cloud en heeft deze voorrang op wachtwoord Hallo handmatig worden bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="c5548-201">If you change your on-premises password again, hello new password is synchronized toohello cloud, and it overrides hello manually updated password.</span></span>

<span data-ttu-id="c5548-202">Hallo synchronisatie van een wachtwoord heeft geen invloed op Hallo Azure gebruiker die is aangemeld.</span><span class="sxs-lookup"><span data-stu-id="c5548-202">hello synchronization of a password has no impact on hello Azure user who is signed in.</span></span> <span data-ttu-id="c5548-203">De huidige sessie van de cloud-service is niet direct be√Ønvloed door gesynchroniseerde wachtwoord wijzigen die wordt uitgevoerd terwijl u bent aangemeld in tooa-cloudservice.</span><span class="sxs-lookup"><span data-stu-id="c5548-203">Your current cloud service session is not immediately affected by a synchronized password change that occurs while you're signed in tooa cloud service.</span></span> <span data-ttu-id="c5548-204">KMSI breidt Hallo duur van dit verschil.</span><span class="sxs-lookup"><span data-stu-id="c5548-204">KMSI extends hello duration of this difference.</span></span> <span data-ttu-id="c5548-205">Wanneer het Hallo-cloudservice, moet u tooauthenticate opnieuw moet u tooprovide uw nieuwe wachtwoord.</span><span class="sxs-lookup"><span data-stu-id="c5548-205">When hello cloud service requires you tooauthenticate again, you need tooprovide your new password.</span></span>

### <a name="additional-advantages"></a><span data-ttu-id="c5548-206">Extra voordelen</span><span class="sxs-lookup"><span data-stu-id="c5548-206">Additional advantages</span></span>

- <span data-ttu-id="c5548-207">Wachtwoordsynchronisatie is over het algemeen eenvoudiger tooimplement dan een federation-service.</span><span class="sxs-lookup"><span data-stu-id="c5548-207">Generally, password synchronization is simpler tooimplement than a federation service.</span></span> <span data-ttu-id="c5548-208">Deze geen extra servers vereist en elimineert de afhankelijkheid van een maximaal beschikbare federation service tooauthenticate gebruikers.</span><span class="sxs-lookup"><span data-stu-id="c5548-208">It doesn't require any additional servers, and eliminates dependence on a highly available federation service tooauthenticate users.</span></span> 
- <span data-ttu-id="c5548-209">Wachtwoordsynchronisatie kan ook worden ingeschakeld in toevoeging toofederation.</span><span class="sxs-lookup"><span data-stu-id="c5548-209">Password synchronization can also be enabled in addition toofederation.</span></span> <span data-ttu-id="c5548-210">Worden kan gebruikt als terugval als een storing optreedt in uw federatieservice.</span><span class="sxs-lookup"><span data-stu-id="c5548-210">It may be used as a fallback if your federation service experiences an outage.</span></span>












## <a name="enable-password-synchronization"></a><span data-ttu-id="c5548-211">Wachtwoordsynchronisatie inschakelen</span><span class="sxs-lookup"><span data-stu-id="c5548-211">Enable password synchronization</span></span>
<span data-ttu-id="c5548-212">Wanneer u Azure AD Connect installeert met behulp van Hallo **Expresinstellingen** , Wachtwoordsynchronisatie is automatisch ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="c5548-212">When you install Azure AD Connect by using hello **Express Settings** option, password synchronization is automatically enabled.</span></span> <span data-ttu-id="c5548-213">Zie voor meer informatie [aan de slag met Azure AD Connect met expresinstellingen](active-directory-aadconnect-get-started-express.md).</span><span class="sxs-lookup"><span data-stu-id="c5548-213">For more details, see [Getting started with Azure AD Connect using express settings](active-directory-aadconnect-get-started-express.md).</span></span>

<span data-ttu-id="c5548-214">Als u aangepaste instellingen wanneer u Azure AD Connect installeert, is Wachtwoordsynchronisatie beschikbaar op Hallo aanmelden op de gebruikerspagina.</span><span class="sxs-lookup"><span data-stu-id="c5548-214">If you use custom settings when you install Azure AD Connect, password synchronization is available on hello user sign-in page.</span></span> <span data-ttu-id="c5548-215">Zie voor meer informatie [aangepaste installatie van Azure AD Connect](active-directory-aadconnect-get-started-custom.md).</span><span class="sxs-lookup"><span data-stu-id="c5548-215">For more details, see [Custom installation of Azure AD Connect](active-directory-aadconnect-get-started-custom.md).</span></span>

![Wachtwoordsynchronisatie inschakelen](./media/active-directory-aadconnectsync-implement-password-synchronization/usersignin.png)

### <a name="password-synchronization-and-fips"></a><span data-ttu-id="c5548-217">Wachtwoordsynchronisatie en FIPS</span><span class="sxs-lookup"><span data-stu-id="c5548-217">Password synchronization and FIPS</span></span>
<span data-ttu-id="c5548-218">Als uw server is vergrendeld op basis van tooFederal Information Processing Standard (FIPS), wordt MD5 uitgeschakeld.</span><span class="sxs-lookup"><span data-stu-id="c5548-218">If your server has been locked down according tooFederal Information Processing Standard (FIPS), then MD5 is disabled.</span></span>

<span data-ttu-id="c5548-219">**tooenable MD5 voor Wachtwoordsynchronisatie Hallo stappen uitvoeren:**</span><span class="sxs-lookup"><span data-stu-id="c5548-219">**tooenable MD5 for password synchronization, perform hello following steps:**</span></span>

1. <span data-ttu-id="c5548-220">Ga too%programfiles%\Azure AD Sync\Bin.</span><span class="sxs-lookup"><span data-stu-id="c5548-220">Go too%programfiles%\Azure AD Sync\Bin.</span></span>
2. <span data-ttu-id="c5548-221">Open miiserver.exe.config.</span><span class="sxs-lookup"><span data-stu-id="c5548-221">Open miiserver.exe.config.</span></span>
3. <span data-ttu-id="c5548-222">Ga naar toohello configuration/runtime knooppunt achter Hallo Hallo-bestand.</span><span class="sxs-lookup"><span data-stu-id="c5548-222">Go toohello configuration/runtime node at hello end of hello file.</span></span>
4. <span data-ttu-id="c5548-223">Hallo knooppunt volgt toevoegen:`<enforceFIPSPolicy enabled="false"/>`</span><span class="sxs-lookup"><span data-stu-id="c5548-223">Add hello following node: `<enforceFIPSPolicy enabled="false"/>`</span></span>
5. <span data-ttu-id="c5548-224">Sla uw wijzigingen op.</span><span class="sxs-lookup"><span data-stu-id="c5548-224">Save your changes.</span></span>

<span data-ttu-id="c5548-225">Voor een verwijzing naar is dit fragment wat er moet eruitzien als:</span><span class="sxs-lookup"><span data-stu-id="c5548-225">For reference, this snippet is what it should look like:</span></span>

```
    <configuration>
        <runtime>
            <enforceFIPSPolicy enabled="false"/>
        </runtime>
    </configuration>
```

<span data-ttu-id="c5548-226">Zie voor meer informatie over beveiliging en FIPS [AAD Password Sync, versleuteling en FIPS-naleving](https://blogs.technet.microsoft.com/enterprisemobility/2014/06/28/aad-password-sync-encryption-and-fips-compliance/).</span><span class="sxs-lookup"><span data-stu-id="c5548-226">For information about security and FIPS, see [AAD Password Sync, encryption and FIPS compliance](https://blogs.technet.microsoft.com/enterprisemobility/2014/06/28/aad-password-sync-encryption-and-fips-compliance/).</span></span>

## <a name="troubleshoot-password-synchronization"></a><span data-ttu-id="c5548-227">Probleem met Wachtwoordsynchronisatie oplossen</span><span class="sxs-lookup"><span data-stu-id="c5548-227">Troubleshoot password synchronization</span></span>
<span data-ttu-id="c5548-228">Als u problemen met synchronisatie van wachtwoorden hebt, raadpleegt u [Wachtwoordsynchronisatie oplossen](active-directory-aadconnectsync-troubleshoot-password-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="c5548-228">If you have problems with password synchronization, see [Troubleshoot password synchronization](active-directory-aadconnectsync-troubleshoot-password-synchronization.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="c5548-229">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="c5548-229">Next steps</span></span>
* [<span data-ttu-id="c5548-230">Azure AD Connect-synchronisatie: Synchronisatieopties voor aanpassen</span><span class="sxs-lookup"><span data-stu-id="c5548-230">Azure AD Connect sync: Customizing synchronization options</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="c5548-231">Uw on-premises identiteiten integreren met Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="c5548-231">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)
