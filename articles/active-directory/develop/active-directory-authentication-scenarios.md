---
title: aaaAuthentication scenario's voor Azure AD | Microsoft Docs
description: Een overzicht van Hallo vijf meest voorkomende verificatie scenario's voor Azure Active Directory (AAD)
services: active-directory
documentationcenter: dev-center-name
author: skwan
manager: mbaldwin
editor: 
ms.assetid: 0c84e7d0-16aa-4897-82f2-f53c6c990fd9
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 04/27/2017
ms.author: skwan
ms.custom: aaddev
ms.openlocfilehash: 5b391e3f096fcb52934c4a8aff08688352bfd3dc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="authentication-scenarios-for-azure-ad"></a><span data-ttu-id="7b12b-103">Authentication Scenarios for Azure AD (Verificatiescenario's voor Azure AD)</span><span class="sxs-lookup"><span data-stu-id="7b12b-103">Authentication Scenarios for Azure AD</span></span>
<span data-ttu-id="7b12b-104">Azure Active Directory (Azure AD) vereenvoudigt de verificatie voor ontwikkelaars dankzij de identiteit als een service met ondersteuning voor industriestandaard-zoals OAuth 2.0 en OpenID Connect, evenals open-source bibliotheken voor verschillende platforms toohelp u protocollen Start snel coderen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-104">Azure Active Directory (Azure AD) simplifies authentication for developers by providing identity as a service, with support for industry-standard protocols such as OAuth 2.0 and OpenID Connect, as well as open source libraries for different platforms toohelp you start coding quickly.</span></span> <span data-ttu-id="7b12b-105">Dit document helpt u begrijpen Hallo verschillende scenario's Azure AD-ondersteunt en ziet u hoe tooget gestart.</span><span class="sxs-lookup"><span data-stu-id="7b12b-105">This document will help you understand hello various scenarios Azure AD supports and will show you how tooget started.</span></span> <span data-ttu-id="7b12b-106">Het onderverdeeld in Hallo uit te voeren:</span><span class="sxs-lookup"><span data-stu-id="7b12b-106">It’s divided into hello following sections:</span></span>

* [<span data-ttu-id="7b12b-107">Basisprincipes van verificatie in Azure AD</span><span class="sxs-lookup"><span data-stu-id="7b12b-107">Basics of Authentication in Azure AD</span></span>](#basics-of-authentication-in-azure-ad)
* [<span data-ttu-id="7b12b-108">Claims in Azure AD-beveiligingstokens</span><span class="sxs-lookup"><span data-stu-id="7b12b-108">Claims in Azure AD Security Tokens</span></span>](#claims-in-azure-ad-security-tokens)
* [<span data-ttu-id="7b12b-109">Basisbeginselen van het registreren van een toepassing in Azure AD</span><span class="sxs-lookup"><span data-stu-id="7b12b-109">Basics of Registering an Application in Azure AD</span></span>](#basics-of-registering-an-application-in-azure-ad)
* [<span data-ttu-id="7b12b-110">Toepassingstypen en scenario 's</span><span class="sxs-lookup"><span data-stu-id="7b12b-110">Application Types and Scenarios</span></span>](#application-types-and-scenarios)
  
  * [<span data-ttu-id="7b12b-111">Web Browser tooWeb toepassing</span><span class="sxs-lookup"><span data-stu-id="7b12b-111">Web Browser tooWeb Application</span></span>](#web-browser-to-web-application)
  * [<span data-ttu-id="7b12b-112">Toepassing van één pagina (SPA)</span><span class="sxs-lookup"><span data-stu-id="7b12b-112">Single Page Application (SPA)</span></span>](#single-page-application-spa)
  * [<span data-ttu-id="7b12b-113">Systeemeigen toepassing tooWeb API</span><span class="sxs-lookup"><span data-stu-id="7b12b-113">Native Application tooWeb API</span></span>](#native-application-to-web-api)
  * [<span data-ttu-id="7b12b-114">Web Application tooWeb API</span><span class="sxs-lookup"><span data-stu-id="7b12b-114">Web Application tooWeb API</span></span>](#web-application-to-web-api)
  * [<span data-ttu-id="7b12b-115">Daemon of servertoepassing tooWeb API</span><span class="sxs-lookup"><span data-stu-id="7b12b-115">Daemon or Server Application tooWeb API</span></span>](#daemon-or-server-application-to-web-api)

## <a name="basics-of-authentication-in-azure-ad"></a><span data-ttu-id="7b12b-116">Basisprincipes van verificatie in Azure AD</span><span class="sxs-lookup"><span data-stu-id="7b12b-116">Basics of Authentication in Azure AD</span></span>
<span data-ttu-id="7b12b-117">Als u niet bekend met de basisconcepten van verificatie in Azure AD bent, leest u in deze sectie.</span><span class="sxs-lookup"><span data-stu-id="7b12b-117">If you are unfamiliar with basic concepts of authentication in Azure AD, read this section.</span></span> <span data-ttu-id="7b12b-118">Anders kunt u tooskip omlaag te[toepassingstypen en scenario's](#application-types-and-scenarios).</span><span class="sxs-lookup"><span data-stu-id="7b12b-118">Otherwise, you may want tooskip down too[Application Types and Scenarios](#application-types-and-scenarios).</span></span>

<span data-ttu-id="7b12b-119">Laten we eens Hallo meest eenvoudige scenario waarin de identiteit vereist is: een gebruiker in een webbrowser nodig tooauthenticate tooa-webtoepassing.</span><span class="sxs-lookup"><span data-stu-id="7b12b-119">Let’s consider hello most basic scenario where identity is required: a user in a web browser needs tooauthenticate tooa web application.</span></span> <span data-ttu-id="7b12b-120">Dit scenario wordt beschreven in Hallo uitgebreider [webbrowser tooWeb toepassing](#web-browser-to-web-application) sectie, maar een nuttig de punt tooillustrate starten Hallo mogelijkheden van Azure AD en de werking van Hallo scenario concept.</span><span class="sxs-lookup"><span data-stu-id="7b12b-120">This scenario is described in greater detail in hello [Web Browser tooWeb Application](#web-browser-to-web-application) section, but it’s a useful starting point tooillustrate hello capabilities of Azure AD and conceptualize how hello scenario works.</span></span> <span data-ttu-id="7b12b-121">Overweeg het volgende diagram voor dit scenario Hallo:</span><span class="sxs-lookup"><span data-stu-id="7b12b-121">Consider hello following diagram for this scenario:</span></span>

![Overzicht van eenmalige aanmelding tooweb toepassing](./media/active-directory-authentication-scenarios/basics_of_auth_in_aad.png)

<span data-ttu-id="7b12b-123">Met Hallo diagram hierboven in gedachten, dit is wat u moet tooknow over de verschillende onderdelen:</span><span class="sxs-lookup"><span data-stu-id="7b12b-123">With hello diagram above in mind, here’s what you need tooknow about its various components:</span></span>

* <span data-ttu-id="7b12b-124">Azure AD is verantwoordelijk voor het Hallo-identiteit van gebruikers en toepassingen die zijn opgenomen in de map van een organisatie te controleren en uiteindelijk uitgeven beveiligingstokens na een geslaagde verificatie van gebruikers en toepassingen Hallo-identiteitsprovider.</span><span class="sxs-lookup"><span data-stu-id="7b12b-124">Azure AD is hello identity provider, responsible for verifying hello identity of users and applications that exist in an organization’s directory, and ultimately issuing security tokens upon successful authentication of those users and applications.</span></span>
* <span data-ttu-id="7b12b-125">Een toepassing die wil toooutsource verificatie tooAzure AD moet worden geregistreerd in Azure AD dat registreert en het Hallo-app in de directory Hallo wordt aangeduid.</span><span class="sxs-lookup"><span data-stu-id="7b12b-125">An application that wants toooutsource authentication tooAzure AD must be registered in Azure AD, which registers and uniquely identifies hello app in hello directory.</span></span>
* <span data-ttu-id="7b12b-126">Ontwikkelaars kunnen gebruiken Hallo open-source Azure AD-bibliotheken toomake verificatie eenvoudig hello Protocoldetails voor u kan verwerken.</span><span class="sxs-lookup"><span data-stu-id="7b12b-126">Developers can use hello open source Azure AD authentication libraries toomake authentication easy by handling hello protocol details for you.</span></span> <span data-ttu-id="7b12b-127">Zie [Azure Active Directory Authentication Libraries](active-directory-authentication-libraries.md) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="7b12b-127">See [Azure Active Directory Authentication Libraries](active-directory-authentication-libraries.md) for more information.</span></span>

<span data-ttu-id="7b12b-128">• Eenmaal een gebruiker is geverifieerd, Hallo toepassing van de gebruiker hello security token tooensure moet valideren dat de verificatie is geslaagd voor Hallo bedoeld partijen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-128">• Once a user has been authenticated, hello application must validate hello user’s security token tooensure that authentication was successful for hello intended parties.</span></span> <span data-ttu-id="7b12b-129">Ontwikkelaars kunnen Hallo opgegeven verificatie-bibliotheken toohandle validatie van een token van Azure AD, met inbegrip van JSON Web Tokens (JWT) of SAML 2.0 gebruiken.</span><span class="sxs-lookup"><span data-stu-id="7b12b-129">Developers can use hello provided authentication libraries toohandle validation of any token from Azure AD, including JSON Web Tokens (JWT) or SAML 2.0.</span></span> <span data-ttu-id="7b12b-130">Als u tooperform validatie handmatig wilt, raadpleegt u Hallo [JWT-Token Handler](https://msdn.microsoft.com/library/dn205065.aspx) documentatie.</span><span class="sxs-lookup"><span data-stu-id="7b12b-130">If you want tooperform validation manually, see hello [JWT Token Handler](https://msdn.microsoft.com/library/dn205065.aspx) documentation.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7b12b-131">Azure AD maakt gebruik van openbare-sleutelcryptografie toosign tokens en controleer of ze geldig zijn.</span><span class="sxs-lookup"><span data-stu-id="7b12b-131">Azure AD uses public key cryptography toosign tokens and verify that they are valid.</span></span> <span data-ttu-id="7b12b-132">Zie [belangrijke informatie over het ondertekenen van sleutel Rollover in Azure AD](active-directory-signing-key-rollover.md) voor meer informatie over de benodigde logica Hallo moet u in uw toepassing tooensure hebben wordt altijd bijgewerkt met de meest recente sleutels Hallo.</span><span class="sxs-lookup"><span data-stu-id="7b12b-132">See [Important Information About Signing Key Rollover in Azure AD](active-directory-signing-key-rollover.md) for more information on hello necessary logic you must have in your application tooensure it’s always updated with hello latest keys.</span></span>
> 
> 

<span data-ttu-id="7b12b-133">• Hallo stroom van aanvragen en antwoorden voor Hallo verificatieproces wordt bepaald door het Hallo-verificatieprotocol dat is gebruikt, zoals OAuth 2.0, OpenID Connect, WS-Federation of SAML 2.0.</span><span class="sxs-lookup"><span data-stu-id="7b12b-133">• hello flow of requests and responses for hello authentication process is determined by hello authentication protocol that was used, such as OAuth 2.0, OpenID Connect, WS-Federation, or SAML 2.0.</span></span> <span data-ttu-id="7b12b-134">Deze protocollen worden besproken in Hallo nader [Azure Active Directory-verificatieprotocollen](active-directory-authentication-protocols.md) onderwerp en in de volgende secties voor Hallo.</span><span class="sxs-lookup"><span data-stu-id="7b12b-134">These protocols are discussed in more detail in hello [Azure Active Directory Authentication Protocols](active-directory-authentication-protocols.md) topic and in hello sections below.</span></span>

> [!NOTE]
> <span data-ttu-id="7b12b-135">Azure AD Hallo OAuth 2.0 ondersteunt en OpenID Connect standaarden uitgebreide maken gebruik van bearer-tokens, weergegeven als JWTs bearer-tokens.</span><span class="sxs-lookup"><span data-stu-id="7b12b-135">Azure AD supports hello OAuth 2.0 and OpenID Connect standards that make extensive use of bearer tokens, including bearer tokens represented as JWTs.</span></span> <span data-ttu-id="7b12b-136">Een bearer-token is een lichtgewicht beveiligingstoken dat verleent 'bearer' toegang tooa Hallo beveiligde resource.</span><span class="sxs-lookup"><span data-stu-id="7b12b-136">A bearer token is a lightweight security token that grants hello “bearer” access tooa protected resource.</span></span> <span data-ttu-id="7b12b-137">In dit opzicht is Hallo 'bearer' een partij die Hallo token kan opleveren.</span><span class="sxs-lookup"><span data-stu-id="7b12b-137">In this sense, hello “bearer” is any party that can present hello token.</span></span> <span data-ttu-id="7b12b-138">Hoewel een partij moet eerst worden geverifieerd bij Azure AD tooreceive hello bearer-token, als Hallo vereist stappen worden niet genomen toosecure Hallo-token in overdracht en opslag, kunt u het probleem is onderschept en gebruikt door een onbedoelde partij.</span><span class="sxs-lookup"><span data-stu-id="7b12b-138">Though a party must first authenticate with Azure AD tooreceive hello bearer token, if hello required steps are not taken toosecure hello token in transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="7b12b-139">Sommige beveiligingstokens beschikken over een ingebouwde mechanisme om te voorkomen dat onbevoegden kunnen gebruiken, worden de bearer-tokens hebben geen dit mechanisme en moeten worden overgebracht in een beveiligd kanaal zoals transport layer security (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="7b12b-139">While some security tokens have a built-in mechanism for preventing unauthorized parties from using them, bearer tokens do not have this mechanism and must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="7b12b-140">Als een bearer-token wordt verzonden in Hallo wissen, wordt een man-in Hallo middelste aanval kan worden gebruikt door een kwaadwillende tooacquire Hallo-token en gebruiken voor een resource van de beveiligde tooa onbevoegde toegang.</span><span class="sxs-lookup"><span data-stu-id="7b12b-140">If a bearer token is transmitted in hello clear, a man-in hello middle attack can be used by a malicious party tooacquire hello token and use it for an unauthorized access tooa protected resource.</span></span> <span data-ttu-id="7b12b-141">Hallo dezelfde beveiligings-principals van toepassing wanneer caching bearer-tokens voor later gebruik of op te slaan.</span><span class="sxs-lookup"><span data-stu-id="7b12b-141">hello same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="7b12b-142">Altijd voor zorgen dat uw toepassing worden verzonden en bearer-tokens worden opgeslagen op een veilige manier.</span><span class="sxs-lookup"><span data-stu-id="7b12b-142">Always ensure that your application transmits and stores bearer tokens in a secure manner.</span></span> <span data-ttu-id="7b12b-143">Zie voor meer beveiligingsoverwegingen op bearer-tokens [RFC 6750 sectie 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="7b12b-143">For more security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>
> 
> 

<span data-ttu-id="7b12b-144">Nu dat u een overzicht van Hallo basics Hallo secties toounderstand lezen hebt hoe u inrichting werkt in Azure AD en biedt ondersteuning voor algemene scenario's hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-144">Now that you have an overview of hello basics, read hello sections below toounderstand how provisioning works in Azure AD and hello common scenarios Azure AD supports.</span></span>

## <a name="claims-in-azure-ad-security-tokens"></a><span data-ttu-id="7b12b-145">Claims in Azure AD-beveiligingstokens</span><span class="sxs-lookup"><span data-stu-id="7b12b-145">Claims in Azure AD Security Tokens</span></span>
<span data-ttu-id="7b12b-146">Beveiligingstokens die zijn uitgegeven door Azure AD bevatten claims of beweringen van informatie over het Hallo-onderwerp dat is geverifieerd.</span><span class="sxs-lookup"><span data-stu-id="7b12b-146">Security tokens issued by Azure AD contain claims, or assertions of information about hello subject that has been authenticated.</span></span> <span data-ttu-id="7b12b-147">Deze claims kunnen door de toepassing hello worden gebruikt voor verschillende taken.</span><span class="sxs-lookup"><span data-stu-id="7b12b-147">These claims can be used by hello application for various tasks.</span></span> <span data-ttu-id="7b12b-148">Bijvoorbeeld kunnen ze worden gebruikte toovalidate Hallo token, identificeren van de certificaathouder Hallo directory-tenant, gebruikersgegevens weergeven, bepalen van de certificaathouder Hallo autorisatie, enzovoort.</span><span class="sxs-lookup"><span data-stu-id="7b12b-148">For example, they can be used toovalidate hello token, identify hello subject's directory tenant, display user information, determine hello subject's authorization, and so on.</span></span> <span data-ttu-id="7b12b-149">Hallo claims aanwezig zijn in een bepaalde beveiligingstoken zijn afhankelijk van Hallo type token, Hallo type referentie gebruikt tooauthenticate Hallo gebruiker en de configuratie van de toepassing hello.</span><span class="sxs-lookup"><span data-stu-id="7b12b-149">hello claims present in any given security token are dependent upon hello type of token, hello type of credential used tooauthenticate hello user, and hello application configuration.</span></span> <span data-ttu-id="7b12b-150">Een korte beschrijving van elk type claim verzonden door Azure AD wordt vermeld in de onderstaande tabel voor Hallo.</span><span class="sxs-lookup"><span data-stu-id="7b12b-150">A brief description of each type of claim emitted by Azure AD is provided in hello table below.</span></span> <span data-ttu-id="7b12b-151">Voor meer informatie raadpleegt u te[ondersteund Token en claimtypen](active-directory-token-and-claims.md).</span><span class="sxs-lookup"><span data-stu-id="7b12b-151">For more information, refer too[Supported Token and Claim Types](active-directory-token-and-claims.md).</span></span>

| <span data-ttu-id="7b12b-152">Claim</span><span class="sxs-lookup"><span data-stu-id="7b12b-152">Claim</span></span> | <span data-ttu-id="7b12b-153">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="7b12b-153">Description</span></span> |
| --- | --- |
| <span data-ttu-id="7b12b-154">Toepassings-id</span><span class="sxs-lookup"><span data-stu-id="7b12b-154">Application ID</span></span> |<span data-ttu-id="7b12b-155">Hallo-toepassing die van Hallo-token gebruikmaakt te identificeren.</span><span class="sxs-lookup"><span data-stu-id="7b12b-155">Identifies hello application that is using hello token.</span></span> |
| <span data-ttu-id="7b12b-156">Doelgroep</span><span class="sxs-lookup"><span data-stu-id="7b12b-156">Audience</span></span> |<span data-ttu-id="7b12b-157">Hallo geadresseerde resource identificeert Hallo-token is bedoeld voor.</span><span class="sxs-lookup"><span data-stu-id="7b12b-157">Identifies hello recipient resource hello token is intended for.</span></span> |
| <span data-ttu-id="7b12b-158">Application Authentication Context Class Reference</span><span class="sxs-lookup"><span data-stu-id="7b12b-158">Application Authentication Context Class Reference</span></span> |<span data-ttu-id="7b12b-159">Geeft aan hoe client Hallo geverifieerde (openbare client versus vertrouwelijke client).</span><span class="sxs-lookup"><span data-stu-id="7b12b-159">Indicates how hello client was authenticated (public client vs. confidential client).</span></span> |
| <span data-ttu-id="7b12b-160">Verificatie Instant</span><span class="sxs-lookup"><span data-stu-id="7b12b-160">Authentication Instant</span></span> |<span data-ttu-id="7b12b-161">Registreert Hallo datum en tijd waarop Hallo verificatie heeft plaatsgevonden.</span><span class="sxs-lookup"><span data-stu-id="7b12b-161">Records hello date and time when hello authentication occurred.</span></span> |
| <span data-ttu-id="7b12b-162">Verificatiemethode</span><span class="sxs-lookup"><span data-stu-id="7b12b-162">Authentication Method</span></span> |<span data-ttu-id="7b12b-163">Hiermee wordt aangegeven hoe Hallo onderwerp van Hallo-token is geverifieerd (wachtwoord, certificaat, enzovoort).</span><span class="sxs-lookup"><span data-stu-id="7b12b-163">Indicates how hello subject of hello token was authenticated (password, certificate, etc.).</span></span> |
| <span data-ttu-id="7b12b-164">Voornaam</span><span class="sxs-lookup"><span data-stu-id="7b12b-164">First Name</span></span> |<span data-ttu-id="7b12b-165">Biedt de voornaam Hallo van Hallo gebruiker zoals ingesteld in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-165">Provides hello given name of hello user as set in Azure AD.</span></span> |
| <span data-ttu-id="7b12b-166">Groepen</span><span class="sxs-lookup"><span data-stu-id="7b12b-166">Groups</span></span> |<span data-ttu-id="7b12b-167">Object-id's van Azure AD-groepen Hallo gebruiker lid van is bevat.</span><span class="sxs-lookup"><span data-stu-id="7b12b-167">Contains object Ids of Azure AD groups hello user is a member of.</span></span> |
| <span data-ttu-id="7b12b-168">Id-provider</span><span class="sxs-lookup"><span data-stu-id="7b12b-168">Identity Provider</span></span> |<span data-ttu-id="7b12b-169">Registreert Hallo identiteitsprovider die geverifieerd Hallo onderwerp van Hallo-token.</span><span class="sxs-lookup"><span data-stu-id="7b12b-169">Records hello identity provider that authenticated hello subject of hello token.</span></span> |
| <span data-ttu-id="7b12b-170">Verleend aan</span><span class="sxs-lookup"><span data-stu-id="7b12b-170">Issued At</span></span> |<span data-ttu-id="7b12b-171">Registreert Hallo tijd op welke Hallo token is uitgegeven, vaak gebruikt voor het token versheid.</span><span class="sxs-lookup"><span data-stu-id="7b12b-171">Records hello time at which hello token was issued, often used for token freshness.</span></span> |
| <span data-ttu-id="7b12b-172">certificaatverlener</span><span class="sxs-lookup"><span data-stu-id="7b12b-172">Issuer</span></span> |<span data-ttu-id="7b12b-173">Identificeert Hallo STS dat hello token, evenals hello Azure AD-tenant verzonden.</span><span class="sxs-lookup"><span data-stu-id="7b12b-173">Identifies hello STS that emitted hello token as well as hello Azure AD tenant.</span></span> |
| <span data-ttu-id="7b12b-174">Achternaam</span><span class="sxs-lookup"><span data-stu-id="7b12b-174">Last Name</span></span> |<span data-ttu-id="7b12b-175">Biedt Hallo achternaam van de gebruiker Hallo zoals ingesteld in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-175">Provides hello surname of hello user as set in Azure AD.</span></span> |
| <span data-ttu-id="7b12b-176">Naam</span><span class="sxs-lookup"><span data-stu-id="7b12b-176">Name</span></span> |<span data-ttu-id="7b12b-177">Biedt een menselijke leesbare waarde die Hallo onderwerp van Hallo-token aangeeft.</span><span class="sxs-lookup"><span data-stu-id="7b12b-177">Provides a human readable value that identifies hello subject of hello token.</span></span> |
| <span data-ttu-id="7b12b-178">Object-Id</span><span class="sxs-lookup"><span data-stu-id="7b12b-178">Object Id</span></span> |<span data-ttu-id="7b12b-179">Bevat een niet-wijzigbaar, unieke id van Hallo onderwerp in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-179">Contains an immutable, unique identifier of hello subject in Azure AD.</span></span> |
| <span data-ttu-id="7b12b-180">Rollen</span><span class="sxs-lookup"><span data-stu-id="7b12b-180">Roles</span></span> |<span data-ttu-id="7b12b-181">Beschrijvende namen bevat van de rollen van Azure AD-toepassing die gebruiker Hallo heeft gekregen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-181">Contains friendly names of Azure AD Application Roles that hello user has been granted.</span></span> |
| <span data-ttu-id="7b12b-182">Bereik</span><span class="sxs-lookup"><span data-stu-id="7b12b-182">Scope</span></span> |<span data-ttu-id="7b12b-183">Hiermee wordt aangegeven Hallo machtigingen verleend toohello client-toepassing.</span><span class="sxs-lookup"><span data-stu-id="7b12b-183">Indicates hello permissions granted toohello client application.</span></span> |
| <span data-ttu-id="7b12b-184">Onderwerp</span><span class="sxs-lookup"><span data-stu-id="7b12b-184">Subject</span></span> |<span data-ttu-id="7b12b-185">Hiermee wordt aangegeven Hallo principal over welke Hallo asserts token informatie.</span><span class="sxs-lookup"><span data-stu-id="7b12b-185">Indicates hello principal about which hello token asserts information.</span></span> |
| <span data-ttu-id="7b12b-186">Tenant-Id</span><span class="sxs-lookup"><span data-stu-id="7b12b-186">Tenant Id</span></span> |<span data-ttu-id="7b12b-187">Bevat een niet-wijzigbaar, unieke identificatie van Hallo directory-tenant die Hallo token uitgegeven.</span><span class="sxs-lookup"><span data-stu-id="7b12b-187">Contains an immutable, unique identifier of hello directory tenant that issued hello token.</span></span> |
| <span data-ttu-id="7b12b-188">Levensduur van token</span><span class="sxs-lookup"><span data-stu-id="7b12b-188">Token Lifetime</span></span> |<span data-ttu-id="7b12b-189">Hiermee definieert u Hallo tijdsinterval waarbinnen een token geldig is.</span><span class="sxs-lookup"><span data-stu-id="7b12b-189">Defines hello time interval within which a token is valid.</span></span> |
| <span data-ttu-id="7b12b-190">Principalnaam van gebruiker</span><span class="sxs-lookup"><span data-stu-id="7b12b-190">User Principal Name</span></span> |<span data-ttu-id="7b12b-191">Hallo user principal name van Hallo onderwerp bevat.</span><span class="sxs-lookup"><span data-stu-id="7b12b-191">Contains hello user principal name of hello subject.</span></span> |
| <span data-ttu-id="7b12b-192">Versie</span><span class="sxs-lookup"><span data-stu-id="7b12b-192">Version</span></span> |<span data-ttu-id="7b12b-193">Hallo-versienummer van Hallo token bevat.</span><span class="sxs-lookup"><span data-stu-id="7b12b-193">Contains hello version number of hello token.</span></span> |

## <a name="basics-of-registering-an-application-in-azure-ad"></a><span data-ttu-id="7b12b-194">Basisbeginselen van het registreren van een toepassing in Azure AD</span><span class="sxs-lookup"><span data-stu-id="7b12b-194">Basics of Registering an Application in Azure AD</span></span>
<span data-ttu-id="7b12b-195">Alle toepassingen die verificatie tooAzure die AD moet worden geregistreerd in een map heeft.</span><span class="sxs-lookup"><span data-stu-id="7b12b-195">Any application that outsources authentication tooAzure AD must be registered in a directory.</span></span> <span data-ttu-id="7b12b-196">Deze stap omvat het Azure AD om te informeren over uw toepassing, met inbegrip van Hallo URL op waar deze zich bevindt, Hallo URL toosend beantwoordt na verificatie Hallo URI tooidentify uw toepassing en meer.</span><span class="sxs-lookup"><span data-stu-id="7b12b-196">This step involves telling Azure AD about your application, including hello URL where it’s located, hello URL toosend replies after authentication, hello URI tooidentify your application, and more.</span></span> <span data-ttu-id="7b12b-197">Deze informatie is vereist voor een aantal belangrijke oorzaken hebben:</span><span class="sxs-lookup"><span data-stu-id="7b12b-197">This information is required for a few key reasons:</span></span>

* <span data-ttu-id="7b12b-198">Azure AD moet coördinaten toocommunicate met Hallo toepassing bij het verwerken van eenmalige aanmelding of uitwisselen van tokens.</span><span class="sxs-lookup"><span data-stu-id="7b12b-198">Azure AD needs coordinates toocommunicate with hello application when handling sign-on or exchanging tokens.</span></span> <span data-ttu-id="7b12b-199">Deze omvatten Hallo volgende:</span><span class="sxs-lookup"><span data-stu-id="7b12b-199">These include hello following:</span></span>
  
  * <span data-ttu-id="7b12b-200">Aanvraag-ID-URI: Hallo-id voor een toepassing.</span><span class="sxs-lookup"><span data-stu-id="7b12b-200">Application ID URI: hello identifier for an application.</span></span> <span data-ttu-id="7b12b-201">Deze waarde wordt tooAzure AD tijdens verificatie tooindicate welke toepassing hello aanroeper wil een token voor verzonden.</span><span class="sxs-lookup"><span data-stu-id="7b12b-201">This value is sent tooAzure AD during authentication tooindicate which application hello caller wants a token for.</span></span> <span data-ttu-id="7b12b-202">Deze waarde is ook opgenomen in Hallo token zodat Hallo toepassing weet dat Hallo doel bedoeld was.</span><span class="sxs-lookup"><span data-stu-id="7b12b-202">Additionally, this value is included in hello token so that hello application knows it was hello intended target.</span></span>
  * <span data-ttu-id="7b12b-203">Antwoord-URL en de omleidings-URI: In geval van een web-API of een webtoepassing Hallo Hallo antwoord-URL is Hallo locatie toowhich Azure AD Hallo verificatieantwoord verzendt, met inbegrip van een token als verificatie gelukt is.</span><span class="sxs-lookup"><span data-stu-id="7b12b-203">Reply URL and Redirect URI: In hello case of a web API or web application, hello Reply URL is hello location toowhich Azure AD will send hello authentication response, including a token if authentication was successful.</span></span> <span data-ttu-id="7b12b-204">In geval van een systeemeigen toepassing hello Hallo omleidings-URI is dat een unieke id toowhich Azure AD Hallo gebruikersagent in een OAuth 2.0-aanvraag wordt omgeleid.</span><span class="sxs-lookup"><span data-stu-id="7b12b-204">In hello case of a native application, hello Redirect URI is a unique identifier toowhich Azure AD will redirect hello user-agent in an OAuth 2.0 request.</span></span>
  * <span data-ttu-id="7b12b-205">Toepassings-ID: Hallo ID voor een toepassing die wordt gegenereerd door Azure AD wanneer de toepassing hello is geregistreerd.</span><span class="sxs-lookup"><span data-stu-id="7b12b-205">Application ID: hello ID for an application, which is generated by Azure AD when hello application is registered.</span></span> <span data-ttu-id="7b12b-206">Bij het aanvragen van een autorisatiecode of token Hallo toepassings-ID en sleutel verzonden tooAzure AD tijdens de verificatie.</span><span class="sxs-lookup"><span data-stu-id="7b12b-206">When requesting an authorization code or token, hello Application ID and key are sent tooAzure AD during authentication.</span></span>
  * <span data-ttu-id="7b12b-207">Sleutel: Hallo-sleutel die samen met een toepassings-ID wordt verzonden bij het verifiëren van tooAzure AD toocall een web-API.</span><span class="sxs-lookup"><span data-stu-id="7b12b-207">Key: hello key that is sent along with a Application ID when authenticating tooAzure AD toocall a web API.</span></span>
* <span data-ttu-id="7b12b-208">Azure AD-behoeften tooensure Hallo toepassing hello vereiste machtigingen tooaccess uw directorygegevens andere toepassingen in uw organisatie, enzovoort</span><span class="sxs-lookup"><span data-stu-id="7b12b-208">Azure AD needs tooensure hello application has hello required permissions tooaccess your directory data, other applications in your organization, and so on</span></span>

<span data-ttu-id="7b12b-209">Inrichting wordt duidelijker wanneer u begrijpt dat er zijn twee soorten toepassingen die kunnen worden ontwikkeld en geïntegreerd met Azure AD:</span><span class="sxs-lookup"><span data-stu-id="7b12b-209">Provisioning becomes clearer when you understand that there are two categories of applications that can be developed and integrated with Azure AD:</span></span>

* <span data-ttu-id="7b12b-210">Enkele van de toepassing van de tenant: een toepassing voor één tenant is bedoeld voor gebruik in een organisatie.</span><span class="sxs-lookup"><span data-stu-id="7b12b-210">Single tenant application: A single tenant application is intended for use in one organization.</span></span> <span data-ttu-id="7b12b-211">Dit zijn doorgaans line-of-business (LoB)-toepassingen geschreven door de ontwikkelaar van een onderneming.</span><span class="sxs-lookup"><span data-stu-id="7b12b-211">These are typically line-of-business (LoB) applications written by an enterprise developer.</span></span> <span data-ttu-id="7b12b-212">Een toepassing voor één tenant moet alleen toobe waartoe gebruikers in een map en als gevolg hiervan, alleen moet toobe ingericht in één directory.</span><span class="sxs-lookup"><span data-stu-id="7b12b-212">A single tenant application only needs toobe accessed by users in one directory, and as a result, it only needs toobe provisioned in one directory.</span></span> <span data-ttu-id="7b12b-213">Deze toepassingen worden doorgaans door een ontwikkelaar in Hallo organisatie geregistreerd.</span><span class="sxs-lookup"><span data-stu-id="7b12b-213">These applications are typically registered by a developer in hello organization.</span></span>
* <span data-ttu-id="7b12b-214">Multitenant-toepassing: een multitenant-toepassing is niet bedoeld voor gebruik in veel organisaties is slechts één organisatie.</span><span class="sxs-lookup"><span data-stu-id="7b12b-214">Multi-tenant application: A multi-tenant application is intended for use in many organizations, not just one organization.</span></span> <span data-ttu-id="7b12b-215">Dit zijn doorgaans software-as-a-service (SaaS)-toepassingen geschreven door een onafhankelijke softwareleverancier (ISV).</span><span class="sxs-lookup"><span data-stu-id="7b12b-215">These are typically software-as-a-service (SaaS) applications written by an independent software vendor (ISV).</span></span> <span data-ttu-id="7b12b-216">Multitenant-toepassingen moeten toobe ingericht in elke map waar ze worden gebruikt, waarvoor een gebruiker of beheerder toestemming tooregister ze.</span><span class="sxs-lookup"><span data-stu-id="7b12b-216">Multi-tenant applications need toobe provisioned in each directory where they will be used, which requires user or administrator consent tooregister them.</span></span> <span data-ttu-id="7b12b-217">Dit proces toestemming wordt gestart wanneer een toepassing in Hallo directory is geregistreerd en toegang toohello Graph API of een andere web-API krijgt.</span><span class="sxs-lookup"><span data-stu-id="7b12b-217">This consent process starts when an application has been registered in hello directory and is given access toohello Graph API or perhaps another web API.</span></span> <span data-ttu-id="7b12b-218">Wanneer een gebruiker of beheerder van een andere organisatie zich registreert toouse Hallo toepassing, zijn ze een dialoogvenster waarin Hallo machtigingen die vereist zijn voor de toepassing hello weergegeven.</span><span class="sxs-lookup"><span data-stu-id="7b12b-218">When a user or administrator from a different organization signs up toouse hello application, they are presented with a dialog that displays hello permissions hello application requires.</span></span> <span data-ttu-id="7b12b-219">Hallo-gebruiker of beheerder kan toestemming toohello toepassing waarmee Hallo toepassing toegang toohello gegevens vermeld, en ten slotte registers Hallo-toepassing in de directory.</span><span class="sxs-lookup"><span data-stu-id="7b12b-219">hello user or administrator can then consent toohello application, which gives hello application access toohello stated data, and finally registers hello application in their directory.</span></span> <span data-ttu-id="7b12b-220">Zie voor meer informatie [overzicht van Hallo toestemming Framework](active-directory-integrating-applications.md#overview-of-the-consent-framework).</span><span class="sxs-lookup"><span data-stu-id="7b12b-220">For more information, see [Overview of hello Consent Framework](active-directory-integrating-applications.md#overview-of-the-consent-framework).</span></span>

<span data-ttu-id="7b12b-221">Enkele aanvullende overwegingen ontstaan bij het ontwikkelen van een toepassing met meerdere tenants in plaats van een toepassing voor één tenant.</span><span class="sxs-lookup"><span data-stu-id="7b12b-221">Some additional considerations arise when developing a multi-tenant application instead of a single tenant application.</span></span> <span data-ttu-id="7b12b-222">Bijvoorbeeld, als u uw toepassing beschikbaar toousers in meerdere mappen doorvoert, moet u een mechanisme toodetermine waarover ze zich in.</span><span class="sxs-lookup"><span data-stu-id="7b12b-222">For example, if you are making your application available toousers in multiple directories, you need a mechanism toodetermine which tenant they’re in.</span></span> <span data-ttu-id="7b12b-223">Een toepassing voor één tenant hoeft slechts toolook in een eigen map voor een gebruiker, terwijl een multitenant-toepassing een specifieke gebruiker uit alle Hallo mappen tooidentify in Azure AD moet.</span><span class="sxs-lookup"><span data-stu-id="7b12b-223">A single tenant application only needs toolook in its own directory for a user, while a multi-tenant application needs tooidentify a specific user from all hello directories in Azure AD.</span></span> <span data-ttu-id="7b12b-224">tooaccomplish deze taak Azure AD levert een algemene eindpunt voor authenticatie, waarbij elke toepassing met meerdere tenants aanmelden, in plaats van een tenantspecifieke-eindpunt wenden kan.</span><span class="sxs-lookup"><span data-stu-id="7b12b-224">tooaccomplish this task, Azure AD provides a common authentication endpoint where any multi-tenant application can direct sign-in requests, instead of a tenant-specific endpoint.</span></span> <span data-ttu-id="7b12b-225">Dit eindpunt is https://login.microsoftonline.com/common voor alle mappen in Azure AD, terwijl een eindpunt tenantspecifieke mogelijk https://login.microsoftonline.com/contoso.onmicrosoft.com. algemene Hallo-eindpunt is vooral belangrijk tooconsider bij het ontwikkelen van uw toepassing omdat u Hallo benodigde logica toohandle meerdere tenants tijdens het aanmelden, afmelden en validatie van tokens moet.</span><span class="sxs-lookup"><span data-stu-id="7b12b-225">This endpoint is https://login.microsoftonline.com/common for all directories in Azure AD, whereas a tenant-specific endpoint might be https://login.microsoftonline.com/contoso.onmicrosoft.com. hello common endpoint is especially important tooconsider when developing your application because you’ll need hello necessary logic toohandle multiple tenants during sign-in, sign-out, and token validation.</span></span>

<span data-ttu-id="7b12b-226">Als u een toepassing voor één tenant momenteel ontwikkelt, maar toomake wilt deze beschikbaar toomany organisaties, kunt u eenvoudig doorvoeren wijzigingen toohello toepassing en de configuratie in Azure AD-toomake het multitenant-compatibel.</span><span class="sxs-lookup"><span data-stu-id="7b12b-226">If you are currently developing a single tenant application but want toomake it available toomany organizations, you can easily make changes toohello application and its configuration in Azure AD toomake it multi-tenant capable.</span></span> <span data-ttu-id="7b12b-227">Bovendien Hallo maakt gebruik van Azure AD hetzelfde voor alle tokens in alle mappen de handtekeningsleutel, of u biedt verificatie in een één tenant of multitenant-toepassing.</span><span class="sxs-lookup"><span data-stu-id="7b12b-227">In addition, Azure AD uses hello same signing key for all tokens in all directories, whether you are providing authentication in a single tenant or multi-tenant application.</span></span>

<span data-ttu-id="7b12b-228">Elk scenario vermeld in dit document bevat een subsectie die de vereisten voor inrichting beschrijft.</span><span class="sxs-lookup"><span data-stu-id="7b12b-228">Each scenario listed in this document includes a sub-section that describes its provisioning requirements.</span></span> <span data-ttu-id="7b12b-229">Voor meer gedetailleerde informatie over het inrichten van een toepassing in Azure AD en Hallo verschillen tussen één en multitenant-toepassingen, Zie [toepassingen integreren met Azure Active Directory](active-directory-integrating-applications.md) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="7b12b-229">For more in-depth information about provisioning an application in Azure AD and hello differences between single and multi-tenant applications, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md) for more information.</span></span> <span data-ttu-id="7b12b-230">Blijven lezen toounderstand Hallo algemene toepassingsscenario's in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-230">Continue reading toounderstand hello common application scenarios in Azure AD.</span></span>

## <a name="application-types-and-scenarios"></a><span data-ttu-id="7b12b-231">Toepassingstypen en scenario 's</span><span class="sxs-lookup"><span data-stu-id="7b12b-231">Application Types and Scenarios</span></span>
<span data-ttu-id="7b12b-232">Hallo-scenario's beschreven in dit document kan worden ontwikkeld met behulp van verschillende talen en platforms.</span><span class="sxs-lookup"><span data-stu-id="7b12b-232">Each of hello scenarios described in this document can be developed using various languages and platforms.</span></span> <span data-ttu-id="7b12b-233">Ze worden alle ondersteund door volledige codevoorbeelden die beschikbaar zijn in onze [codevoorbeelden begeleiden](active-directory-code-samples.md), of rechtstreeks vanuit het Hallo bijbehorende [GitHub-opslagplaatsen voor voorbeeld](https://github.com/Azure-Samples?utf8=%E2%9C%93&query=active-directory).</span><span class="sxs-lookup"><span data-stu-id="7b12b-233">They are all backed by complete code samples which are available in our [Code Samples guide](active-directory-code-samples.md), or directly from hello corresponding [GitHub sample repositories](https://github.com/Azure-Samples?utf8=%E2%9C%93&query=active-directory).</span></span> <span data-ttu-id="7b12b-234">Bovendien, als uw toepassing een bepaald of een segment van een end-to-end-scenario moet, kan in de meeste gevallen functionaliteit van die worden toegevoegd onafhankelijk.</span><span class="sxs-lookup"><span data-stu-id="7b12b-234">In addition, if your application needs a specific piece or segment of an end-to-end scenario, in most cases that functionality can be added independently.</span></span> <span data-ttu-id="7b12b-235">Als u een systeemeigen toepassing die een web-API aanroept hebt, kunt u bijvoorbeeld eenvoudig een webtoepassing die ook Hallo web-API-aanroepen toevoegen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-235">For example, if you have a native application that calls a web API, you can easily add a web application that also calls hello web API.</span></span> <span data-ttu-id="7b12b-236">Hallo volgende diagram ziet u deze scenario's en de toepassingstypen, en hoe de andere onderdelen kunnen worden toegevoegd:</span><span class="sxs-lookup"><span data-stu-id="7b12b-236">hello following diagram illustrates these scenarios and application types, and how different components can be added:</span></span>

![Toepassingstypen en scenario 's](./media/active-directory-authentication-scenarios/application_types_and_scenarios.png)

<span data-ttu-id="7b12b-238">Hallo vijf primaire toepassingsscenario's ondersteund door Azure AD zijn:</span><span class="sxs-lookup"><span data-stu-id="7b12b-238">These are hello five primary application scenarios supported by Azure AD:</span></span>

* <span data-ttu-id="7b12b-239">[Web Browser tooWeb toepassing](#web-browser-to-web-application): een gebruiker moet toosign in tooa-webtoepassing die wordt beveiligd door Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-239">[Web Browser tooWeb Application](#web-browser-to-web-application): A user needs toosign in tooa web application that is secured by Azure AD.</span></span>
* <span data-ttu-id="7b12b-240">[Eén pagina toepassing (SPA)](#single-page-application-spa): een gebruiker moet toosign in tooa één pagina toepassing die wordt beveiligd door Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-240">[Single Page Application (SPA)](#single-page-application-spa): A user needs toosign in tooa single page application that is secured by Azure AD.</span></span>
* <span data-ttu-id="7b12b-241">[Systeemeigen toepassing tooWeb API](#native-application-to-web-api): een systeemeigen toepassing die wordt uitgevoerd op een telefoon, tablet of PC behoeften tooauthenticate een gebruiker tooget bronnen van een web-API die wordt beveiligd door Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-241">[Native Application tooWeb API](#native-application-to-web-api): A native application that runs on a phone, tablet, or PC needs tooauthenticate a user tooget resources from a web API that is secured by Azure AD.</span></span>
* <span data-ttu-id="7b12b-242">[Web-API van Application tooWeb](#web-application-to-web-api): een webtoepassing moet tooget bronnen van een web-API die zijn beveiligd door Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-242">[Web Application tooWeb API](#web-application-to-web-api): A web application needs tooget resources from a web API secured by Azure AD.</span></span>
* <span data-ttu-id="7b12b-243">[Daemon of servertoepassing tooWeb API](#daemon-or-server-application-to-web-api): een daemontoepassing of een servertoepassing zonder gebruikersinterface web moet tooget bronnen van een web-API die zijn beveiligd door Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-243">[Daemon or Server Application tooWeb API](#daemon-or-server-application-to-web-api): A daemon application or a server application with no web user interface needs tooget resources from a web API secured by Azure AD.</span></span>

### <a name="web-browser-tooweb-application"></a><span data-ttu-id="7b12b-244">Web Browser tooWeb toepassing</span><span class="sxs-lookup"><span data-stu-id="7b12b-244">Web Browser tooWeb Application</span></span>
<span data-ttu-id="7b12b-245">Deze sectie beschrijft een toepassing die een gebruiker in een webtoepassing web browser tooa verifieert.</span><span class="sxs-lookup"><span data-stu-id="7b12b-245">This section describes an application that authenticates a user in a web browser tooa web application.</span></span> <span data-ttu-id="7b12b-246">In dit scenario webtoepassing Hallo van Hallo gebruiker browser toosign stuurt ze in tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-246">In this scenario, hello web application directs hello user’s browser toosign them in tooAzure AD.</span></span> <span data-ttu-id="7b12b-247">Azure AD retourneert een antwoord aanmelden via de browser van de gebruiker hello, met daarin de claims over Hallo-gebruiker in een beveiligingstoken.</span><span class="sxs-lookup"><span data-stu-id="7b12b-247">Azure AD returns a sign-in response through hello user’s browser, which contains claims about hello user in a security token.</span></span> <span data-ttu-id="7b12b-248">Dit scenario biedt ondersteuning voor aanmelding Hallo WS-Federation, SAML 2.0 en OpenID Connect te gebruiken.</span><span class="sxs-lookup"><span data-stu-id="7b12b-248">This scenario supports sign-on using hello WS-Federation, SAML 2.0, and OpenID Connect protocols.</span></span>

#### <a name="diagram"></a><span data-ttu-id="7b12b-249">Diagram</span><span class="sxs-lookup"><span data-stu-id="7b12b-249">Diagram</span></span>
![Authenticatiestroom voor tooweb browsertoepassing](./media/active-directory-authentication-scenarios/web_browser_to_web_api.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="7b12b-251">Beschrijving van de stroom Protocol</span><span class="sxs-lookup"><span data-stu-id="7b12b-251">Description of Protocol Flow</span></span>
1. <span data-ttu-id="7b12b-252">Wanneer een gebruiker Hallo toepassing bezoeken en moet toosign in, worden ze omgeleid via een aanmeldingsverzoek toohello verificatie-eindpunt in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-252">When a user visits hello application and needs toosign in, they are redirected via a sign-in request toohello authentication endpoint in Azure AD.</span></span>
2. <span data-ttu-id="7b12b-253">Hallo-gebruiker zich aanmeldt op de aanmeldingspagina Hallo.</span><span class="sxs-lookup"><span data-stu-id="7b12b-253">hello user signs in on hello sign-in page.</span></span>
3. <span data-ttu-id="7b12b-254">Als verificatie geslaagd is, wordt Azure AD maakt geen verificatietoken en retourneert een aanmeldingspagina antwoord toohello toepassing antwoord-URL die is geconfigureerd in hello Azure-Portal.</span><span class="sxs-lookup"><span data-stu-id="7b12b-254">If authentication is successful, Azure AD creates an authentication token and returns a sign-in response toohello application’s Reply URL that was configured in hello Azure Portal.</span></span> <span data-ttu-id="7b12b-255">Voor een productietoepassing moet dit antwoord-URL HTTPS.</span><span class="sxs-lookup"><span data-stu-id="7b12b-255">For a production application, this Reply URL should be HTTPS.</span></span> <span data-ttu-id="7b12b-256">Hallo heeft een token geretourneerd bevat claims over Hallo gebruiker en Azure AD die nodig zijn voor Hallo toepassing toovalidate Hallo token.</span><span class="sxs-lookup"><span data-stu-id="7b12b-256">hello returned token includes claims about hello user and Azure AD that are required by hello application toovalidate hello token.</span></span>
4. <span data-ttu-id="7b12b-257">de toepassing Hello valideert Hallo token met behulp van een openbare ondertekeningssleutel en informatie over de uitgever beschikbaar bij Hallo document met federatieve metagegevens voor Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-257">hello application validates hello token by using a public signing key and issuer information available at hello federation metadata document for Azure AD.</span></span> <span data-ttu-id="7b12b-258">Nadat de toepassing hello Hallo token valideert, wordt in Azure AD een nieuwe sessie begint met het Hallo-gebruiker.</span><span class="sxs-lookup"><span data-stu-id="7b12b-258">After hello application validates hello token, Azure AD starts a new session with hello user.</span></span> <span data-ttu-id="7b12b-259">Deze sessie kan Hallo gebruiker tooaccess Hallo toepassing totdat deze verloopt.</span><span class="sxs-lookup"><span data-stu-id="7b12b-259">This session allows hello user tooaccess hello application until it expires.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="7b12b-260">Codevoorbeelden</span><span class="sxs-lookup"><span data-stu-id="7b12b-260">Code Samples</span></span>
<span data-ttu-id="7b12b-261">Zie de codevoorbeelden Hallo voor webbrowser tooWeb toepassingsscenario's.</span><span class="sxs-lookup"><span data-stu-id="7b12b-261">See hello code samples for Web Browser tooWeb Application scenarios.</span></span> <span data-ttu-id="7b12b-262">En terugkomen vaak--we alle Hallo tijd nieuwe voorbeelden toevoegen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-262">And, check back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="7b12b-263">[Web Browser tooWeb toepassing](active-directory-code-samples.md#web-browser-to-web-application).</span><span class="sxs-lookup"><span data-stu-id="7b12b-263">[Web Browser tooWeb Application](active-directory-code-samples.md#web-browser-to-web-application).</span></span>

#### <a name="registering"></a><span data-ttu-id="7b12b-264">Registreren</span><span class="sxs-lookup"><span data-stu-id="7b12b-264">Registering</span></span>
* <span data-ttu-id="7b12b-265">Één Tenant: Als u een toepassing voor uw organisatie maakt, moet deze worden geregistreerd in de directory van uw bedrijf met behulp van hello Azure-Portal.</span><span class="sxs-lookup"><span data-stu-id="7b12b-265">Single Tenant: If you are building an application just for your organization, it must be registered in your company’s directory by using hello Azure Portal.</span></span>
* <span data-ttu-id="7b12b-266">Multitenant: Als u een toepassing die kan worden gebruikt door gebruikers buiten uw organisatie maakt, het moet worden geregistreerd in de directory van uw bedrijf, maar ook moet worden geregistreerd in elke organisatie directory die Hallo toepassing zullen gebruiken.</span><span class="sxs-lookup"><span data-stu-id="7b12b-266">Multi-Tenant: If you are building an application that can be used by users outside your organization, it must be registered in your company’s directory, but also must be registered in each organization’s directory that will be using hello application.</span></span> <span data-ttu-id="7b12b-267">toomake uw toepassing in de directory, kunt u een aanmeldingsproces opnemen voor uw klanten kunnen ze tooconsent tooyour toepassing.</span><span class="sxs-lookup"><span data-stu-id="7b12b-267">toomake your application available in their directory, you can include a sign-up process for your customers that enables them tooconsent tooyour application.</span></span> <span data-ttu-id="7b12b-268">Wanneer ze zich registreren voor uw toepassing, worden ze een dialoogvenster waarin Hallo machtigingen Hallo toepassing is vereist, en vervolgens Hallo optie tooconsent weergegeven.</span><span class="sxs-lookup"><span data-stu-id="7b12b-268">When they sign up for your application, they will be presented with a dialog that shows hello permissions hello application requires, and then hello option tooconsent.</span></span> <span data-ttu-id="7b12b-269">Afhankelijk van een beheerder in Hallo Hallo vereist machtigingen andere organisatie mogelijk toogive toestemming vereist.</span><span class="sxs-lookup"><span data-stu-id="7b12b-269">Depending on hello required permissions, an administrator in hello other organization may be required toogive consent.</span></span> <span data-ttu-id="7b12b-270">Wanneer het Hallo-gebruiker of beheerder hiermee akkoord gaat, wordt Hallo toepassing geregistreerd in de directory.</span><span class="sxs-lookup"><span data-stu-id="7b12b-270">When hello user or administrator consents, hello application is registered in their directory.</span></span> <span data-ttu-id="7b12b-271">Zie voor meer informatie [toepassingen integreren met Azure Active Directory](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="7b12b-271">For more information, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md).</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="7b12b-272">Verlopen van het token</span><span class="sxs-lookup"><span data-stu-id="7b12b-272">Token Expiration</span></span>
<span data-ttu-id="7b12b-273">Hallo gebruikerssessie verloopt wanneer Hallo levensduur van Hallo token dat is uitgegeven door Azure AD is verlopen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-273">hello user’s session expires when hello lifetime of hello token issued by Azure AD expires.</span></span> <span data-ttu-id="7b12b-274">Uw toepassing kunt inkorten deze periode indien gewenst, zoals het ondertekenen van de gebruikers op basis van een periode van inactiviteit.</span><span class="sxs-lookup"><span data-stu-id="7b12b-274">Your application can shorten this time period if desired, such as signing out users based on a period of inactivity.</span></span> <span data-ttu-id="7b12b-275">Wanneer het Hallo-sessie is verlopen, Hallo gebruiker worden opgegeven na vragen aan gebruiker toosign in opnieuw.</span><span class="sxs-lookup"><span data-stu-id="7b12b-275">When hello session expires, hello user will be prompted toosign in again.</span></span>

### <a name="single-page-application-spa"></a><span data-ttu-id="7b12b-276">Toepassing van één pagina (SPA)</span><span class="sxs-lookup"><span data-stu-id="7b12b-276">Single Page Application (SPA)</span></span>
<span data-ttu-id="7b12b-277">Deze sectie beschrijft de verificatie voor één pagina toepassing, die gebruikmaakt van Azure AD en hello impliciete OAuth 2.0-autorisatie verlenen toosecure de web-API back-end.</span><span class="sxs-lookup"><span data-stu-id="7b12b-277">This section describes authentication for a Single Page Application, that uses Azure AD and hello OAuth 2.0 implicit authorization grant toosecure its web API back end.</span></span> <span data-ttu-id="7b12b-278">Toepassingen met één pagina doorgaans zijn geordend als een JavaScript-presentatie laag (front-end) die wordt uitgevoerd in de browser hello en in een Web-API back-end die wordt uitgevoerd op een server en implementeert Hallo bedrijfslogica van toepassing.</span><span class="sxs-lookup"><span data-stu-id="7b12b-278">Single Page Applications are typically structured as a JavaScript presentation layer (front end) that runs in hello browser and a Web API back end that runs on a server and implements hello application’s business logic.</span></span> <span data-ttu-id="7b12b-279">Zie toolearn meer informatie over Hallo impliciete authorization grant en helpen u beslissen of deze geschikt is voor uw toepassingsscenario [Understanding Hallo OAuth2 impliciete stroom in Azure Active Directory verlenen](active-directory-dev-understanding-oauth2-implicit-grant.md).</span><span class="sxs-lookup"><span data-stu-id="7b12b-279">toolearn more about hello implicit authorization grant, and help you decide whether it's right for your application scenario, see [Understanding hello OAuth2 implicit grant flow in Azure Active Directory](active-directory-dev-understanding-oauth2-implicit-grant.md).</span></span>

<span data-ttu-id="7b12b-280">In dit scenario wanneer Hallo gebruiker zich aanmeldt, Hallo JavaScript front end gebruikt [Active Directory Authentication Library voor JavaScript (ADAL. JS)](https://github.com/AzureAD/azure-activedirectory-library-for-js/tree/dev) en Hallo impliciete toestemming verlenen tooobtain een token ID (id_token) van Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-280">In this scenario, when hello user signs in, hello JavaScript front end uses [Active Directory Authentication Library for JavaScript (ADAL.JS)](https://github.com/AzureAD/azure-activedirectory-library-for-js/tree/dev) and hello implicit authorization grant tooobtain an ID token (id_token) from Azure AD.</span></span> <span data-ttu-id="7b12b-281">Hallo-token in de cache wordt opgeslagen en Hallo client gekoppeld toohello aanvraag als Hallo bearer-token bij het maken van back-end, die is beveiligd met Hallo OWIN middleware tooits Web-API aanroepen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-281">hello token is cached and hello client attaches it toohello request as hello bearer token when making calls tooits Web API back end, which is secured using hello OWIN middleware.</span></span> 

#### <a name="diagram"></a><span data-ttu-id="7b12b-282">Diagram</span><span class="sxs-lookup"><span data-stu-id="7b12b-282">Diagram</span></span>
![Diagram van één pagina toepassing](./media/active-directory-authentication-scenarios/single_page_app.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="7b12b-284">Beschrijving van de stroom Protocol</span><span class="sxs-lookup"><span data-stu-id="7b12b-284">Description of Protocol Flow</span></span>
1. <span data-ttu-id="7b12b-285">Hallo gebruiker navigeert toohello-webtoepassing.</span><span class="sxs-lookup"><span data-stu-id="7b12b-285">hello user navigates toohello web application.</span></span>
2. <span data-ttu-id="7b12b-286">Hallo-toepassing retourneert hello JavaScript-front-end (presentatie laag) toohello browser.</span><span class="sxs-lookup"><span data-stu-id="7b12b-286">hello application returns hello JavaScript front end (presentation layer) toohello browser.</span></span>
3. <span data-ttu-id="7b12b-287">Hallo gebruiker initieert aanmelden, bijvoorbeeld door een teken in de koppeling te klikken.</span><span class="sxs-lookup"><span data-stu-id="7b12b-287">hello user initiates sign in, for example by clicking a sign in link.</span></span> <span data-ttu-id="7b12b-288">Hallo browser verzendt een GET toohello Azure AD autorisatie eindpunt toorequest een token ID.</span><span class="sxs-lookup"><span data-stu-id="7b12b-288">hello browser sends a GET toohello Azure AD authorization endpoint toorequest an ID token.</span></span> <span data-ttu-id="7b12b-289">Deze aanvraag bevat ID en de antwoord-URL van toepassing hello Hallo queryparameters.</span><span class="sxs-lookup"><span data-stu-id="7b12b-289">This request includes hello application ID and reply URL in hello query parameters.</span></span>
4. <span data-ttu-id="7b12b-290">Azure AD valideert Hallo die antwoord-URL tegen Hallo geregistreerd antwoord-URL die is geconfigureerd in hello Azure-Portal.</span><span class="sxs-lookup"><span data-stu-id="7b12b-290">Azure AD validates hello Reply URL against hello registered Reply URL that was configured in hello Azure Portal.</span></span>
5. <span data-ttu-id="7b12b-291">Hallo-gebruiker zich aanmeldt op de aanmeldingspagina Hallo.</span><span class="sxs-lookup"><span data-stu-id="7b12b-291">hello user signs in on hello sign-in page.</span></span>
6. <span data-ttu-id="7b12b-292">Als verificatie geslaagd is, wordt Azure AD maakt een token ID en wordt geretourneerd als antwoord-URL voor een URL-fragment (#) toohello toepassing.</span><span class="sxs-lookup"><span data-stu-id="7b12b-292">If authentication is successful, Azure AD creates an ID token and returns it as a URL fragment (#) toohello application’s Reply URL.</span></span> <span data-ttu-id="7b12b-293">Voor een productietoepassing moet dit antwoord-URL HTTPS.</span><span class="sxs-lookup"><span data-stu-id="7b12b-293">For a production application, this Reply URL should be HTTPS.</span></span> <span data-ttu-id="7b12b-294">Hallo heeft een token geretourneerd bevat claims over Hallo gebruiker en Azure AD die nodig zijn voor Hallo toepassing toovalidate Hallo token.</span><span class="sxs-lookup"><span data-stu-id="7b12b-294">hello returned token includes claims about hello user and Azure AD that are required by hello application toovalidate hello token.</span></span>
7. <span data-ttu-id="7b12b-295">Hallo JavaScript-clientcode is uitgevoerd in de browser Hallo haalt Hallo token uit Hallo antwoord toouse in het beveiligen van eindigen terug van de toepassing toohello web-API aanroepen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-295">hello JavaScript client code running in hello browser extracts hello token from hello response toouse in securing calls toohello application’s web API back end.</span></span>
8. <span data-ttu-id="7b12b-296">Hallo aanroepen Hallo browsertoepassing van web API terug eindigen met het toegangstoken Hallo in Hallo autorisatie-header.</span><span class="sxs-lookup"><span data-stu-id="7b12b-296">hello browser calls hello application’s web API back end with hello access token in hello authorization header.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="7b12b-297">Codevoorbeelden</span><span class="sxs-lookup"><span data-stu-id="7b12b-297">Code Samples</span></span>
<span data-ttu-id="7b12b-298">Zie de codevoorbeelden Hallo voor scenario's met één pagina toepassing (SPA).</span><span class="sxs-lookup"><span data-stu-id="7b12b-298">See hello code samples for Single Page Application (SPA) scenarios.</span></span> <span data-ttu-id="7b12b-299">Vaak--ervoor toocheck back worden er nieuwe samples alle Hallo tijd toevoegen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-299">Be sure toocheck back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="7b12b-300">[Eén pagina toepassing (SPA)](active-directory-code-samples.md#single-page-application-spa).</span><span class="sxs-lookup"><span data-stu-id="7b12b-300">[Single Page Application (SPA)](active-directory-code-samples.md#single-page-application-spa).</span></span>

#### <a name="registering"></a><span data-ttu-id="7b12b-301">Registreren</span><span class="sxs-lookup"><span data-stu-id="7b12b-301">Registering</span></span>
* <span data-ttu-id="7b12b-302">Één Tenant: Als u een toepassing voor uw organisatie maakt, moet deze worden geregistreerd in de directory van uw bedrijf met behulp van hello Azure-Portal.</span><span class="sxs-lookup"><span data-stu-id="7b12b-302">Single Tenant: If you are building an application just for your organization, it must be registered in your company’s directory by using hello Azure Portal.</span></span>
* <span data-ttu-id="7b12b-303">Multitenant: Als u een toepassing die kan worden gebruikt door gebruikers buiten uw organisatie maakt, het moet worden geregistreerd in de directory van uw bedrijf, maar ook moet worden geregistreerd in elke organisatie directory die Hallo toepassing zullen gebruiken.</span><span class="sxs-lookup"><span data-stu-id="7b12b-303">Multi-Tenant: If you are building an application that can be used by users outside your organization, it must be registered in your company’s directory, but also must be registered in each organization’s directory that will be using hello application.</span></span> <span data-ttu-id="7b12b-304">toomake uw toepassing in de directory, kunt u een aanmeldingsproces opnemen voor uw klanten kunnen ze tooconsent tooyour toepassing.</span><span class="sxs-lookup"><span data-stu-id="7b12b-304">toomake your application available in their directory, you can include a sign-up process for your customers that enables them tooconsent tooyour application.</span></span> <span data-ttu-id="7b12b-305">Wanneer ze zich registreren voor uw toepassing, worden ze een dialoogvenster waarin Hallo machtigingen Hallo toepassing is vereist, en vervolgens Hallo optie tooconsent weergegeven.</span><span class="sxs-lookup"><span data-stu-id="7b12b-305">When they sign up for your application, they will be presented with a dialog that shows hello permissions hello application requires, and then hello option tooconsent.</span></span> <span data-ttu-id="7b12b-306">Afhankelijk van een beheerder in Hallo Hallo vereist machtigingen andere organisatie mogelijk toogive toestemming vereist.</span><span class="sxs-lookup"><span data-stu-id="7b12b-306">Depending on hello required permissions, an administrator in hello other organization may be required toogive consent.</span></span> <span data-ttu-id="7b12b-307">Wanneer het Hallo-gebruiker of beheerder hiermee akkoord gaat, wordt Hallo toepassing geregistreerd in de directory.</span><span class="sxs-lookup"><span data-stu-id="7b12b-307">When hello user or administrator consents, hello application is registered in their directory.</span></span> <span data-ttu-id="7b12b-308">Zie voor meer informatie [toepassingen integreren met Azure Active Directory](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="7b12b-308">For more information, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md).</span></span>

<span data-ttu-id="7b12b-309">Het moet na de registratie van de toepassing hello geconfigureerde toouse impliciete OAuth 2.0-Grant-protocol.</span><span class="sxs-lookup"><span data-stu-id="7b12b-309">After registering hello application, it must be configured toouse OAuth 2.0 Implicit Grant protocol.</span></span> <span data-ttu-id="7b12b-310">Dit protocol is standaard uitgeschakeld voor toepassingen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-310">By default, this protocol is disabled for applications.</span></span> <span data-ttu-id="7b12b-311">tooenable hello impliciete Grant OAuth2-protocol voor uw toepassing bewerken van het toepassingsmanifest van hello Azure-Portal en Hallo 'oauth2AllowImplicitFlow' waarde tootrue instellen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-311">tooenable hello OAuth2 Implicit Grant protocol for your application, edit its application manifest from hello Azure Portal and set hello “oauth2AllowImplicitFlow” value tootrue.</span></span> <span data-ttu-id="7b12b-312">Zie voor gedetailleerde instructies [inschakelen van OAuth 2.0 impliciete Grant voor toepassingen met één pagina](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="7b12b-312">For detailed instructions, see [Enabling OAuth 2.0 Implicit Grant for Single Page Applications](active-directory-integrating-applications.md).</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="7b12b-313">Verlopen van het token</span><span class="sxs-lookup"><span data-stu-id="7b12b-313">Token Expiration</span></span>
<span data-ttu-id="7b12b-314">Wanneer u ADAL.js toomanage verificatie met Azure AD gebruikt, profiteert u verschillende functies die een verlopen token te vernieuwen, evenals bij het ophalen van tokens voor extra web API-resources die kunnen worden aangeroepen door de toepassing hello vergemakkelijken.</span><span class="sxs-lookup"><span data-stu-id="7b12b-314">When you use ADAL.js toomanage authentication with Azure AD, you benefit from several features that facilitate refreshing an expired token as well as getting tokens for additional web API resources that may be called by hello application.</span></span> <span data-ttu-id="7b12b-315">Wanneer het Hallo-gebruiker is geverifieerd met Azure AD, een sessie die is beveiligd door een cookie is tot stand gebracht voor de gebruiker Hallo tussen Hallo browser en Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-315">When hello user successfully authenticates with Azure AD, a session secured by a cookie is established for hello user between hello browser and Azure AD.</span></span> <span data-ttu-id="7b12b-316">Het is belangrijk toonote die Hallo sessie bestaat tussen de gebruiker Hallo en Azure AD en niet tussen Hallo gebruiker en Hallo webtoepassing op Hallo-server.</span><span class="sxs-lookup"><span data-stu-id="7b12b-316">It’s important toonote that hello session exists between hello user and Azure AD and not between hello user and hello web application running on hello server.</span></span> <span data-ttu-id="7b12b-317">Wanneer een token is verlopen, ADAL.js maakt gebruik van deze sessie toosilently een ander token verkrijgen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-317">When a token expires, ADAL.js uses this session toosilently obtain another token.</span></span> <span data-ttu-id="7b12b-318">Dit doet dit met behulp van een verborgen iFrame toosend en Hallo ontvangstverzoek met Hallo impliciete OAuth-Grant-protocol.</span><span class="sxs-lookup"><span data-stu-id="7b12b-318">It does this by using a hidden iFrame toosend and receive hello request using hello OAuth Implicit Grant protocol.</span></span> <span data-ttu-id="7b12b-319">ADAL.js kunt ook gebruiken voor hetzelfde mechanisme toosilently verkrijgen toegangstokens van Azure AD voor andere web API-bronnen of Hallo toepassing aanroepen, zolang deze resources ondersteuning voor cross-origin-resource delen (CORS) zijn geregistreerd in de map Hallo gebruiker, en eventuele vereiste toestemming is gegeven door de gebruiker Hallo tijdens het aanmelden.</span><span class="sxs-lookup"><span data-stu-id="7b12b-319">ADAL.js can also use this same mechanism toosilently obtain access tokens from Azure AD for other web API resources that hello application calls as long as these resources support cross-origin resource sharing (CORS), are registered in hello user’s directory, and any required consent was given by hello user during sign-in.</span></span>

### <a name="native-application-tooweb-api"></a><span data-ttu-id="7b12b-320">Systeemeigen toepassing tooWeb API</span><span class="sxs-lookup"><span data-stu-id="7b12b-320">Native Application tooWeb API</span></span>
<span data-ttu-id="7b12b-321">Deze sectie beschrijft een systeemeigen toepassing die namens een gebruiker een web-API aanroept.</span><span class="sxs-lookup"><span data-stu-id="7b12b-321">This section describes a native application that calls a web API on behalf of a user.</span></span> <span data-ttu-id="7b12b-322">Dit scenario is gebaseerd op Hallo OAuth 2.0 autorisatie code grant type met een openbare client, zoals beschreven in de sectie 4.1 Hallo [OAuth 2.0-specificatie](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="7b12b-322">This scenario is built on hello OAuth 2.0 authorization code grant type with a public client, as described in section 4.1 of hello [OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="7b12b-323">systeemeigen toepassing Hello verkrijgt een toegangstoken voor de gebruiker Hallo via Hallo OAuth 2.0-protocol.</span><span class="sxs-lookup"><span data-stu-id="7b12b-323">hello native application obtains an access token for hello user by using hello OAuth 2.0 protocol.</span></span> <span data-ttu-id="7b12b-324">Deze toegangstoken wordt in Hallo aanvraag toohello web-API, die Hallo gebruiker toestaat en retourneert Hallo gewenst resource verzonden.</span><span class="sxs-lookup"><span data-stu-id="7b12b-324">This access token is then sent in hello request toohello web API, which authorizes hello user and returns hello desired resource.</span></span>

#### <a name="diagram"></a><span data-ttu-id="7b12b-325">Diagram</span><span class="sxs-lookup"><span data-stu-id="7b12b-325">Diagram</span></span>
![Systeemeigen toepassing tooWeb API-Diagram](./media/active-directory-authentication-scenarios/native_app_to_web_api.png)

#### <a name="authentication-flow-for-native-application-tooapi"></a><span data-ttu-id="7b12b-327">Authenticatiestroom voor systeemeigen toepassing tooAPI</span><span class="sxs-lookup"><span data-stu-id="7b12b-327">Authentication flow for native application tooAPI</span></span>
#### <a name="description-of-protocol-flow"></a><span data-ttu-id="7b12b-328">Beschrijving van de stroom Protocol</span><span class="sxs-lookup"><span data-stu-id="7b12b-328">Description of Protocol Flow</span></span>
<span data-ttu-id="7b12b-329">Als u van Hallo AD-Verificatiebibliotheken gebruikmaakt, worden de meeste van gegevens van het Hallo-protocol die hieronder worden beschreven, zoals Hallo browser pop-upvenster token opslaan in cache en de verwerking van het vernieuwen van tokens afgehandeld.</span><span class="sxs-lookup"><span data-stu-id="7b12b-329">If you are using hello AD Authentication Libraries, most of hello protocol details described below are handled for you, such as hello browser pop-up, token caching, and handling of refresh tokens.</span></span>

1. <span data-ttu-id="7b12b-330">Het gebruik van een pop-browser, maakt systeemeigen toepassing hello een aanvraag toohello autorisatie-eindpunt in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-330">Using a browser pop-up, hello native application makes a request toohello authorization endpoint in Azure AD.</span></span> <span data-ttu-id="7b12b-331">Deze aanvraag bevat Hallo toepassings-ID en Hallo omleidings-URI van de systeemeigen toepassing hello, zoals wordt weergegeven in hello Azure-Portal en Hallo toepassings-ID-URI voor Hallo web-API.</span><span class="sxs-lookup"><span data-stu-id="7b12b-331">This request includes hello Application ID and hello redirect URI of hello native application as shown in hello Azure Portal, and hello application ID URI for hello web API.</span></span> <span data-ttu-id="7b12b-332">Als Hallo gebruiker nog niet al bent aangemeld, zijn ze na vragen aan gebruiker toosign in opnieuw</span><span class="sxs-lookup"><span data-stu-id="7b12b-332">If hello user hasn’t already signed in, they are prompted toosign in again</span></span>
2. <span data-ttu-id="7b12b-333">Azure AD verifieert de gebruiker Hallo.</span><span class="sxs-lookup"><span data-stu-id="7b12b-333">Azure AD authenticates hello user.</span></span> <span data-ttu-id="7b12b-334">Als dit een multitenant-toepassing is en toestemming vereist toouse Hallo toepassing is, worden Hallo gebruiker vereist tooconsent als ze nog niet hebt gedaan.</span><span class="sxs-lookup"><span data-stu-id="7b12b-334">If it is a multi-tenant application and consent is required toouse hello application, hello user will be required tooconsent if they haven’t already done so.</span></span> <span data-ttu-id="7b12b-335">Na het verlenen en bij de verificatie is geslaagd, wordt in Azure AD autorisatie code antwoord back toohello client van een toepassing omleidings-URI geeft.</span><span class="sxs-lookup"><span data-stu-id="7b12b-335">After granting consent and upon successful authentication, Azure AD issues an authorization code response back toohello client application’s redirect URI.</span></span>
3. <span data-ttu-id="7b12b-336">Wanneer Azure AD geeft een code autorisatiereactie terug wordt toohello omleidings-URI, Hallo van client toepassing stopt browser interactie en uitgepakt Hallo autorisatiecode uit Hallo antwoord.</span><span class="sxs-lookup"><span data-stu-id="7b12b-336">When Azure AD issues an authorization code response back toohello redirect URI, hello client application stops browser interaction and extracts hello authorization code from hello response.</span></span> <span data-ttu-id="7b12b-337">Met deze autorisatiecode, Hallo-clienttoepassing verzendt een aanvraag tooAzure van AD token eindpunt met de autorisatiecode Hallo, details over Hallo van client-toepassing (toepassings-ID en omleidings-URI) en Hallo gewenste resource (toepassings-ID De URI voor Hallo web-API).</span><span class="sxs-lookup"><span data-stu-id="7b12b-337">Using this authorization code, hello client application sends a request tooAzure AD’s token endpoint that includes hello authorization code, details about hello client application (Application ID and redirect URI), and hello desired resource (application ID URI for hello web API).</span></span>
4. <span data-ttu-id="7b12b-338">Hallo autorisatiecode en informatie over het Hallo-clienttoepassing en web-API worden gevalideerd door Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-338">hello authorization code and information about hello client application and web API are validated by Azure AD.</span></span> <span data-ttu-id="7b12b-339">Heeft validatie is geslaagd, wordt de Azure AD twee tokens: een JWT-token voor toegang en een vernieuwingstoken JWT.</span><span class="sxs-lookup"><span data-stu-id="7b12b-339">Upon successful validation, Azure AD returns two tokens: a JWT access token and a JWT refresh token.</span></span> <span data-ttu-id="7b12b-340">Bovendien retourneert Azure AD basisinformatie over Hallo gebruiker, zoals een weergave naam en het tenant-ID.</span><span class="sxs-lookup"><span data-stu-id="7b12b-340">In addition, Azure AD returns basic information about hello user, such as their display name and tenant ID.</span></span>
5. <span data-ttu-id="7b12b-341">Via HTTPS gebruikt de clienttoepassing Hallo Hallo JWT access token tooadd hello JWT-tekenreeks met een aanduiding 'Bearer' geretourneerd als Hallo autorisatie-header van Hallo aanvraag toohello web-API.</span><span class="sxs-lookup"><span data-stu-id="7b12b-341">Over HTTPS, hello client application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="7b12b-342">Hallo-web-API valideert vervolgens Hallo JWT-token en als validatie geslaagd is, retourneert Hallo resource gewenst.</span><span class="sxs-lookup"><span data-stu-id="7b12b-342">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>
6. <span data-ttu-id="7b12b-343">Wanneer Hallo toegangstoken is verlopen, ontvangt de clienttoepassing Hallo een fout die aangeeft dat het Hallo-gebruiker moet tooauthenticate opnieuw.</span><span class="sxs-lookup"><span data-stu-id="7b12b-343">When hello access token expires, hello client application will receive an error that indicates hello user needs tooauthenticate again.</span></span> <span data-ttu-id="7b12b-344">Als het Hallo-toepassing heeft een ongeldig vernieuwingstoken, kan het gebruikte tooacquire een nieuw toegangstoken zonder Hallo gebruiker toosign in opnieuw zijn.</span><span class="sxs-lookup"><span data-stu-id="7b12b-344">If hello application has a valid refresh token, it can be used tooacquire a new access token without prompting hello user toosign in again.</span></span> <span data-ttu-id="7b12b-345">Als Hallo vernieuwingstoken is verlopen, moet toepassing hello toointeractively Hallo gebruiker één keer opnieuw worden geverifieerd.</span><span class="sxs-lookup"><span data-stu-id="7b12b-345">If hello refresh token expires, hello application will need toointeractively authenticate hello user once again.</span></span>

> [!NOTE]
> <span data-ttu-id="7b12b-346">Hallo vernieuwingstoken dat is uitgegeven door Azure AD kan worden gebruikt tooaccess meerdere resources.</span><span class="sxs-lookup"><span data-stu-id="7b12b-346">hello refresh token issued by Azure AD can be used tooaccess multiple resources.</span></span> <span data-ttu-id="7b12b-347">Hebt u een clienttoepassing die machtiging toocall twee web-API's heeft, kan het vernieuwingstoken Hallo gebruikte op tooget een access token toohello andere web-API ook zijn.</span><span class="sxs-lookup"><span data-stu-id="7b12b-347">For example, if you have a client application that has permission toocall two web APIs, hello refresh token can be used tooget an access token toohello other web API as well.</span></span>
> 
> 

#### <a name="code-samples"></a><span data-ttu-id="7b12b-348">Codevoorbeelden</span><span class="sxs-lookup"><span data-stu-id="7b12b-348">Code Samples</span></span>
<span data-ttu-id="7b12b-349">Zie de codevoorbeelden Hallo voor systeemeigen toepassing tooWeb API's.</span><span class="sxs-lookup"><span data-stu-id="7b12b-349">See hello code samples for Native Application tooWeb API scenarios.</span></span> <span data-ttu-id="7b12b-350">En terugkomen vaak--we alle Hallo tijd nieuwe voorbeelden toevoegen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-350">And, check back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="7b12b-351">[Systeemeigen toepassing tooWeb API](active-directory-code-samples.md#native-application-to-web-api).</span><span class="sxs-lookup"><span data-stu-id="7b12b-351">[Native Application tooWeb API](active-directory-code-samples.md#native-application-to-web-api).</span></span>

#### <a name="registering"></a><span data-ttu-id="7b12b-352">Registreren</span><span class="sxs-lookup"><span data-stu-id="7b12b-352">Registering</span></span>
* <span data-ttu-id="7b12b-353">Één Tenant: Beide systeemeigen toepassing hello en Hallo web-API moet worden geregistreerd in Hallo dezelfde directory in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-353">Single Tenant: Both hello native application and hello web API must be registered in hello same directory in Azure AD.</span></span> <span data-ttu-id="7b12b-354">Hallo-web-API kan geconfigureerde tooexpose een reeks machtigingen die gebruikt toolimit Hallo systeemeigen van de toepassing toegang tot tooits bronnen zijn zijn.</span><span class="sxs-lookup"><span data-stu-id="7b12b-354">hello web API can be configured tooexpose a set of permissions, which are used toolimit hello native application’s access tooits resources.</span></span> <span data-ttu-id="7b12b-355">Hallo-clienttoepassing vervolgens selecteert Hallo gewenste machtigingen in Hallo 'Machtigingen tooOther toepassingen' vervolgkeuzelijst menu in hello Azure-Portal.</span><span class="sxs-lookup"><span data-stu-id="7b12b-355">hello client application then selects hello desired permissions from hello “Permissions tooOther Applications” drop-down menu in hello Azure Portal.</span></span>
* <span data-ttu-id="7b12b-356">Multitenant: Eerst systeemeigen toepassing hello alleen ooit geregistreerd in Hallo ontwikkelaar of uitgever directory.</span><span class="sxs-lookup"><span data-stu-id="7b12b-356">Multi-Tenant: First, hello native application only ever registered in hello developer or publisher’s directory.</span></span> <span data-ttu-id="7b12b-357">Ten tweede is systeemeigen toepassing hello geconfigureerde tooindicate Hallo machtigingen toobe functioneel is vereist.</span><span class="sxs-lookup"><span data-stu-id="7b12b-357">Second, hello native application is configured tooindicate hello permissions it requires toobe functional.</span></span> <span data-ttu-id="7b12b-358">Deze lijst met de vereiste machtigingen wordt in een dialoogvenster weergegeven wanneer een gebruiker of beheerder in de doelmap Hallo geeft toestemming toohello toepassing, waardoor het beschikbaar tootheir organisatie.</span><span class="sxs-lookup"><span data-stu-id="7b12b-358">This list of required permissions is shown in a dialog when a user or administrator in hello destination directory gives consent toohello application, which makes it available tootheir organization.</span></span> <span data-ttu-id="7b12b-359">Sommige toepassingen vereisen alleen gebruikersniveau machtigingen, wat een gebruiker in de organisatie Hallo met instemmen kunt.</span><span class="sxs-lookup"><span data-stu-id="7b12b-359">Some applications require just user-level permissions, which any user in hello organization can consent to.</span></span> <span data-ttu-id="7b12b-360">Andere toepassingen moet beheerdersniveau machtigingen, wat een gebruiker in de organisatie Hallo kan niet met instemmen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-360">Other applications require administrator-level permissions, which a user in hello organization cannot consent to.</span></span> <span data-ttu-id="7b12b-361">Alleen een directory-beheerder krijgt toestemming tooapplications waarvoor dit niveau van machtigingen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-361">Only a directory administrator can give consent tooapplications that require this level of permissions.</span></span> <span data-ttu-id="7b12b-362">Wanneer het Hallo-gebruiker of beheerder hiermee akkoord gaat, wordt alleen Hallo web-API in hun directory geregistreerd.</span><span class="sxs-lookup"><span data-stu-id="7b12b-362">When hello user or administrator consents, only hello web API is registered in their directory.</span></span> <span data-ttu-id="7b12b-363">Zie voor meer informatie [toepassingen integreren met Azure Active Directory](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="7b12b-363">For more information, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md).</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="7b12b-364">Verlopen van het token</span><span class="sxs-lookup"><span data-stu-id="7b12b-364">Token Expiration</span></span>
<span data-ttu-id="7b12b-365">Wanneer de systeemeigen toepassing hello de autorisatie code tooget een toegangstoken JWT gebruikt, ontvangt het ook een JWT-token voor vernieuwen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-365">When hello native application uses its authorization code tooget a JWT access token, it also receives a JWT refresh token.</span></span> <span data-ttu-id="7b12b-366">Wanneer het Hallo-toegangstoken is verlopen, Hallo vernieuwingstoken gebruikte toore zijn-Hallo gebruiker verifiëren zonder dat ze opnieuw toosign in.</span><span class="sxs-lookup"><span data-stu-id="7b12b-366">When hello access token expires, hello refresh token can be used toore-authenticate hello user without requiring them toosign in again.</span></span> <span data-ttu-id="7b12b-367">Dit vernieuwingstoken wordt gebruikte tooauthenticate Hallo gebruiker, waardoor het een nieuwe toegang token en vernieuw token.</span><span class="sxs-lookup"><span data-stu-id="7b12b-367">This refresh token is then used tooauthenticate hello user, which results in a new access token and refresh token.</span></span>

### <a name="web-application-tooweb-api"></a><span data-ttu-id="7b12b-368">Web Application tooWeb API</span><span class="sxs-lookup"><span data-stu-id="7b12b-368">Web Application tooWeb API</span></span>
<span data-ttu-id="7b12b-369">Deze sectie beschrijft een webtoepassing die tooget bronnen van een web-API behoeften.</span><span class="sxs-lookup"><span data-stu-id="7b12b-369">This section describes a web application that needs tooget resources from a web API.</span></span> <span data-ttu-id="7b12b-370">In dit scenario wordt er zijn twee identiteitstypen die webtoepassing Hallo kunnen tooauthenticate gebruiken en Hallo web API niet aanroepen: een toepassings-id of een gedelegeerde gebruikersidentiteit.</span><span class="sxs-lookup"><span data-stu-id="7b12b-370">In this scenario, there are two identity types that hello web application can use tooauthenticate and call hello web API: an application identity, or a delegated user identity.</span></span>

<span data-ttu-id="7b12b-371">*Toepassings-id:* deze scenario maakt gebruik van OAuth 2.0-clientreferenties tooauthenticate als toepassing hello en Hallo toegang verlenen web-API.</span><span class="sxs-lookup"><span data-stu-id="7b12b-371">*Application identity:* This scenario uses OAuth 2.0 client credentials grant tooauthenticate as hello application and access hello web API.</span></span> <span data-ttu-id="7b12b-372">Bij gebruik van een toepassings-id Hallo web API kan alleen detecteren Hallo-webtoepassing is, aanroepen als Hallo biedt web-API geen informatie ontvangen over Hallo-gebruiker.</span><span class="sxs-lookup"><span data-stu-id="7b12b-372">When using an application identity, hello web API can only detect that hello web application is calling it, as hello web API does not receive any information about hello user.</span></span> <span data-ttu-id="7b12b-373">Hallo toepassing ontvangt informatie over Hallo gebruiker, wordt verzonden via het toepassingsprotocol Hallo als het niet is ondertekend door Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-373">If hello application receives information about hello user, it will be sent via hello application protocol, and it is not signed by Azure AD.</span></span> <span data-ttu-id="7b12b-374">Hallo-web-API vertrouwt dat webtoepassing Hallo Hallo-gebruiker geverifieerde.</span><span class="sxs-lookup"><span data-stu-id="7b12b-374">hello web API trusts that hello web application authenticated hello user.</span></span> <span data-ttu-id="7b12b-375">Om deze reden wordt dit patroon van een vertrouwde subsysteem genoemd.</span><span class="sxs-lookup"><span data-stu-id="7b12b-375">For this reason, this pattern is called a trusted subsystem.</span></span>

<span data-ttu-id="7b12b-376">*Gedelegeerde gebruikersidentiteit:* dit scenario kan worden uitgevoerd op twee manieren: OpenID Connect en OAuth 2.0 autorisatie code grant met een vertrouwelijk client.</span><span class="sxs-lookup"><span data-stu-id="7b12b-376">*Delegated user identity:* This scenario can be accomplished in two ways: OpenID Connect, and OAuth 2.0 authorization code grant with a confidential client.</span></span> <span data-ttu-id="7b12b-377">Hallo-webtoepassing verkrijgt een toegangstoken voor Hallo gebruiker, die kan worden vastgesteld toohello web-API die webtoepassing Hallo gebruiker geverifieerd toohello en Hallo webtoepassing was kunnen tooobtain een gemachtigde gebruiker identiteit toocall Hallo-web-API.</span><span class="sxs-lookup"><span data-stu-id="7b12b-377">hello web application obtains an access token for hello user, which proves toohello web API that hello user successfully authenticated toohello web application and that hello web application was able tooobtain a delegated user identity toocall hello web API.</span></span> <span data-ttu-id="7b12b-378">Deze toegangstoken wordt verzonden in Hallo aanvraag toohello web-API, die Hallo gebruiker toestaat en retourneert Hallo gewenst resource.</span><span class="sxs-lookup"><span data-stu-id="7b12b-378">This access token is sent in hello request toohello web API, which authorizes hello user and returns hello desired resource.</span></span>

#### <a name="diagram"></a><span data-ttu-id="7b12b-379">Diagram</span><span class="sxs-lookup"><span data-stu-id="7b12b-379">Diagram</span></span>
![Web Application tooWeb API-diagram](./media/active-directory-authentication-scenarios/web_app_to_web_api.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="7b12b-381">Beschrijving van de stroom Protocol</span><span class="sxs-lookup"><span data-stu-id="7b12b-381">Description of Protocol Flow</span></span>
<span data-ttu-id="7b12b-382">Beide Hallo toepassings-id en overgedragen gebruiker identiteitstypen in Hallo-stroom die hieronder worden besproken.</span><span class="sxs-lookup"><span data-stu-id="7b12b-382">Both hello application identity and delegated user identity types are discussed in hello flow below.</span></span> <span data-ttu-id="7b12b-383">Hallo belangrijkste verschil tussen deze twee is dat Hallo gedelegeerde gebruikersidentiteit eerst een autorisatiecode verkrijgen moet voordat Hallo-gebruiker kunt aanmelden en toegang toohello web-API krijgen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-383">hello key difference between them is that hello delegated user identity must first acquire an authorization code before hello user can sign-in and gain access toohello web API.</span></span>

##### <a name="application-identity-with-oauth-20-client-credentials-grant"></a><span data-ttu-id="7b12b-384">De toepassingsidentiteit met OAuth 2.0-Client referenties verlenen</span><span class="sxs-lookup"><span data-stu-id="7b12b-384">Application Identity with OAuth 2.0 Client Credentials Grant</span></span>
1. <span data-ttu-id="7b12b-385">Een gebruiker is aangemeld in tooAzure AD in Hallo-webtoepassing (Zie Hallo [webbrowser tooWeb toepassing](#web-browser-to-web-application) hierboven).</span><span class="sxs-lookup"><span data-stu-id="7b12b-385">A user is signed in tooAzure AD in hello web application (see hello [Web Browser tooWeb Application](#web-browser-to-web-application) above).</span></span>
2. <span data-ttu-id="7b12b-386">Hallo-webtoepassing moet een toegangstoken tooacquire zodat deze kan toohello web-API verifiëren en Hallo gewenst bron.</span><span class="sxs-lookup"><span data-stu-id="7b12b-386">hello web application needs tooacquire an access token so that it can authenticate toohello web API and retrieve hello desired resource.</span></span> <span data-ttu-id="7b12b-387">Er wordt een aanvraag tooAzure van AD-tokeneindpunt, Hallo referentie, toepassings-ID en web-API van toepassings-ID-URI.</span><span class="sxs-lookup"><span data-stu-id="7b12b-387">It makes a request tooAzure AD’s token endpoint, providing hello credential, Application ID, and web API’s application ID URI.</span></span>
3. <span data-ttu-id="7b12b-388">Azure AD verifieert Hallo-toepassing en een JWT-toegangstoken dat is gebruikt toocall Hallo web-API retourneert.</span><span class="sxs-lookup"><span data-stu-id="7b12b-388">Azure AD authenticates hello application and returns a JWT access token that is used toocall hello web API.</span></span>
4. <span data-ttu-id="7b12b-389">Via HTTPS gebruikt de webtoepassing Hallo Hallo JWT access token tooadd hello JWT-tekenreeks met een aanduiding 'Bearer' geretourneerd als Hallo autorisatie-header van Hallo aanvraag toohello web-API.</span><span class="sxs-lookup"><span data-stu-id="7b12b-389">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="7b12b-390">Hallo-web-API valideert vervolgens Hallo JWT-token en als validatie geslaagd is, retourneert Hallo resource gewenst.</span><span class="sxs-lookup"><span data-stu-id="7b12b-390">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

##### <a name="delegated-user-identity-with-openid-connect"></a><span data-ttu-id="7b12b-391">Gedelegeerde gebruikersidentiteit met OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="7b12b-391">Delegated User Identity with OpenID Connect</span></span>
1. <span data-ttu-id="7b12b-392">Een gebruiker is aangemeld in tooa-webtoepassing met behulp van Azure AD (Zie Hallo [webbrowser tooWeb toepassing](#web-browser-to-web-application) sectie hierboven).</span><span class="sxs-lookup"><span data-stu-id="7b12b-392">A user is signed in tooa web application using Azure AD (see hello [Web Browser tooWeb Application](#web-browser-to-web-application) section above).</span></span> <span data-ttu-id="7b12b-393">Als de gebruiker van de webtoepassing Hallo Hallo niet heeft nog ingestemd tooallowing Hallo web application toocall Hallo web-API voor zijn rekening, moet Hallo gebruiker tooconsent.</span><span class="sxs-lookup"><span data-stu-id="7b12b-393">If hello user of hello web application has not yet consented tooallowing hello web application toocall hello web API on its behalf, hello user will need tooconsent.</span></span> <span data-ttu-id="7b12b-394">Hallo-toepassing hello machtigingen die vereist worden weergegeven, en als een van deze machtigingen op administrator-niveau, een normale gebruiker in de directory Hallo tooconsent kunnen niet worden.</span><span class="sxs-lookup"><span data-stu-id="7b12b-394">hello application will display hello permissions it requires, and if any of these are administrator-level permissions, a normal user in hello directory will not be able tooconsent.</span></span> <span data-ttu-id="7b12b-395">Dit proces toestemming is alleen van toepassing toomulti-tenant toepassingen, niet één tenant toepassingen, zoals toepassing hello beschikt al over de benodigde machtigingen Hallo.</span><span class="sxs-lookup"><span data-stu-id="7b12b-395">This consent process only applies toomulti-tenant applications, not single tenant applications, as hello application will already have hello necessary permissions.</span></span> <span data-ttu-id="7b12b-396">Wanneer hello gebruiker aangemeld, ontvangen Hallo webtoepassing een token ID met informatie over het Hallo-gebruiker, evenals een autorisatiecode.</span><span class="sxs-lookup"><span data-stu-id="7b12b-396">When hello user signed in, hello web application received an ID token with information about hello user, as well as an authorization code.</span></span>
2. <span data-ttu-id="7b12b-397">Hallo autorisatiecode uitgegeven door Azure AD, Hallo webtoepassing verzendt een aanvraag tooAzure van AD token eindpunt met de autorisatiecode Hallo gebruikt, kan informatie over de clienttoepassing hello (toepassings-ID en omleidings-URI) en Hallo gewenst resource ( aanvraag-ID-URI van Hallo web-API).</span><span class="sxs-lookup"><span data-stu-id="7b12b-397">Using hello authorization code issued by Azure AD, hello web application sends a request tooAzure AD’s token endpoint that includes hello authorization code, details about hello client application (Application ID and redirect URI), and hello desired resource (application ID URI for hello web API).</span></span>
3. <span data-ttu-id="7b12b-398">Hallo autorisatiecode en informatie over het Hallo-webtoepassing en web-API worden gevalideerd door Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-398">hello authorization code and information about hello web application and web API are validated by Azure AD.</span></span> <span data-ttu-id="7b12b-399">Heeft validatie is geslaagd, wordt de Azure AD twee tokens: een JWT-token voor toegang en een vernieuwingstoken JWT.</span><span class="sxs-lookup"><span data-stu-id="7b12b-399">Upon successful validation, Azure AD returns two tokens: a JWT access token and a JWT refresh token.</span></span>
4. <span data-ttu-id="7b12b-400">Via HTTPS gebruikt de webtoepassing Hallo Hallo JWT access token tooadd hello JWT-tekenreeks met een aanduiding 'Bearer' geretourneerd als Hallo autorisatie-header van Hallo aanvraag toohello web-API.</span><span class="sxs-lookup"><span data-stu-id="7b12b-400">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="7b12b-401">Hallo-web-API valideert vervolgens Hallo JWT-token en als validatie geslaagd is, retourneert Hallo resource gewenst.</span><span class="sxs-lookup"><span data-stu-id="7b12b-401">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

##### <a name="delegated-user-identity-with-oauth-20-authorization-code-grant"></a><span data-ttu-id="7b12b-402">Gedelegeerde gebruikersidentiteit met OAuth 2.0 Authorization Code Grant</span><span class="sxs-lookup"><span data-stu-id="7b12b-402">Delegated User Identity with OAuth 2.0 Authorization Code Grant</span></span>
1. <span data-ttu-id="7b12b-403">Een gebruiker is al aangemeld in de webtoepassing tooa, waarvan verificatiemechanisme onafhankelijk van Azure AD is.</span><span class="sxs-lookup"><span data-stu-id="7b12b-403">A user is already signed in tooa web application, whose authentication mechanism is independent of Azure AD.</span></span>
2. <span data-ttu-id="7b12b-404">Hallo webtoepassing vereist een vergunning tooacquire code een toegangstoken zodat deze uitgeeft een aanvraag via Hallo browser tooAzure van AD autorisatie eindpunt, bieden Hallo toepassings-ID en omleidings-URI voor de webtoepassing Hallo na geslaagde -verificatie.</span><span class="sxs-lookup"><span data-stu-id="7b12b-404">hello web application requires an authorization code tooacquire an access token, so it issues a request through hello browser tooAzure AD’s authorization endpoint, providing hello Application ID and redirect URI for hello web application after successful authentication.</span></span> <span data-ttu-id="7b12b-405">Hallo-gebruiker zich aanmeldt tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-405">hello user signs in tooAzure AD.</span></span>
3. <span data-ttu-id="7b12b-406">Als de gebruiker van de webtoepassing Hallo Hallo niet heeft nog ingestemd tooallowing Hallo web application toocall Hallo web-API voor zijn rekening, moet Hallo gebruiker tooconsent.</span><span class="sxs-lookup"><span data-stu-id="7b12b-406">If hello user of hello web application has not yet consented tooallowing hello web application toocall hello web API on its behalf, hello user will need tooconsent.</span></span> <span data-ttu-id="7b12b-407">Hallo-toepassing hello machtigingen die vereist worden weergegeven, en als een van deze machtigingen op administrator-niveau, een normale gebruiker in de directory Hallo tooconsent kunnen niet worden.</span><span class="sxs-lookup"><span data-stu-id="7b12b-407">hello application will display hello permissions it requires, and if any of these are administrator-level permissions, a normal user in hello directory will not be able tooconsent.</span></span> <span data-ttu-id="7b12b-408">Deze toestemming geldt tooboth één en multitenant-toepassing.</span><span class="sxs-lookup"><span data-stu-id="7b12b-408">This consent applies tooboth single and multi-tenant application.</span></span>  <span data-ttu-id="7b12b-409">In geval van Hallo één tenant kan een beheerder admin toestemming tooconsent uitvoeren namens de gebruikers.</span><span class="sxs-lookup"><span data-stu-id="7b12b-409">In hello single tenant case, an admin can perform admin consent tooconsent on behalf of their users.</span></span>  <span data-ttu-id="7b12b-410">U kunt dit doen met behulp van Hallo `Grant Permissions` knop in Hallo [Azure Portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="7b12b-410">This can be done using hello `Grant Permissions` button in hello [Azure Portal](https://portal.azure.com).</span></span> 
4. <span data-ttu-id="7b12b-411">Nadat Hallo gebruiker heeft ingestemd, ontvangt webtoepassing Hallo Hallo autorisatiecode dat het moet tooacquire een toegangstoken.</span><span class="sxs-lookup"><span data-stu-id="7b12b-411">After hello user has consented, hello web application receives hello authorization code that it needs tooacquire an access token.</span></span>
5. <span data-ttu-id="7b12b-412">Hallo autorisatiecode uitgegeven door Azure AD, Hallo webtoepassing verzendt een aanvraag tooAzure van AD token eindpunt met de autorisatiecode Hallo gebruikt, kan informatie over de clienttoepassing hello (toepassings-ID en omleidings-URI) en Hallo gewenst resource ( aanvraag-ID-URI van Hallo web-API).</span><span class="sxs-lookup"><span data-stu-id="7b12b-412">Using hello authorization code issued by Azure AD, hello web application sends a request tooAzure AD’s token endpoint that includes hello authorization code, details about hello client application (Application ID and redirect URI), and hello desired resource (application ID URI for hello web API).</span></span>
6. <span data-ttu-id="7b12b-413">Hallo autorisatiecode en informatie over het Hallo-webtoepassing en web-API worden gevalideerd door Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-413">hello authorization code and information about hello web application and web API are validated by Azure AD.</span></span> <span data-ttu-id="7b12b-414">Heeft validatie is geslaagd, wordt de Azure AD twee tokens: een JWT-token voor toegang en een vernieuwingstoken JWT.</span><span class="sxs-lookup"><span data-stu-id="7b12b-414">Upon successful validation, Azure AD returns two tokens: a JWT access token and a JWT refresh token.</span></span>
7. <span data-ttu-id="7b12b-415">Via HTTPS gebruikt de webtoepassing Hallo Hallo JWT access token tooadd hello JWT-tekenreeks met een aanduiding 'Bearer' geretourneerd als Hallo autorisatie-header van Hallo aanvraag toohello web-API.</span><span class="sxs-lookup"><span data-stu-id="7b12b-415">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="7b12b-416">Hallo-web-API valideert vervolgens Hallo JWT-token en als validatie geslaagd is, retourneert Hallo resource gewenst.</span><span class="sxs-lookup"><span data-stu-id="7b12b-416">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="7b12b-417">Codevoorbeelden</span><span class="sxs-lookup"><span data-stu-id="7b12b-417">Code Samples</span></span>
<span data-ttu-id="7b12b-418">Zie de codevoorbeelden Hallo voor webtoepassing tooWeb API's.</span><span class="sxs-lookup"><span data-stu-id="7b12b-418">See hello code samples for Web Application tooWeb API scenarios.</span></span> <span data-ttu-id="7b12b-419">En terugkomen vaak--we alle Hallo tijd nieuwe voorbeelden toevoegen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-419">And, check back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="7b12b-420">Web [toepassing tooWeb API](active-directory-code-samples.md#web-application-to-web-api).</span><span class="sxs-lookup"><span data-stu-id="7b12b-420">Web [Application tooWeb API](active-directory-code-samples.md#web-application-to-web-api).</span></span>

#### <a name="registering"></a><span data-ttu-id="7b12b-421">Registreren</span><span class="sxs-lookup"><span data-stu-id="7b12b-421">Registering</span></span>
* <span data-ttu-id="7b12b-422">Één Tenant: Hallo voor Hallo toepassings-id en overgedragen gebruiker identiteit gevallen webtoepassing en Hallo web-API moet worden geregistreerd in Hallo dezelfde directory in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-422">Single Tenant: For both hello application identity and delegated user identity cases, hello web application and hello web API must be registered in hello same directory in Azure AD.</span></span> <span data-ttu-id="7b12b-423">Hallo-web-API kan worden geconfigureerd tooexpose een reeks machtigingen die tooits gebruikte toolimit Hallo van de webtoepassing openen van bronnen zijn.</span><span class="sxs-lookup"><span data-stu-id="7b12b-423">hello web API can be configured tooexpose a set of permissions, which are used toolimit hello web application’s access tooits resources.</span></span> <span data-ttu-id="7b12b-424">Als een type gedelegeerde gebruikersidentiteit wordt gebruikt, moet de webtoepassing Hallo tooselect Hallo gewenste machtigingen in Hallo 'Machtigingen tooOther toepassingen' vervolgkeuzelijst menu in hello Azure-Portal.</span><span class="sxs-lookup"><span data-stu-id="7b12b-424">If a delegated user identity type is being used, hello web application needs tooselect hello desired permissions from hello “Permissions tooOther Applications” drop-down menu in hello Azure Portal.</span></span> <span data-ttu-id="7b12b-425">Deze stap is niet vereist als Hallo identiteit toepassingstype wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="7b12b-425">This step is not required if hello application identity type is being used.</span></span>
* <span data-ttu-id="7b12b-426">Multitenant: Eerst Hallo webtoepassing is geconfigureerde tooindicate Hallo machtigingen toobe functioneel is vereist.</span><span class="sxs-lookup"><span data-stu-id="7b12b-426">Multi-Tenant: First, hello web application is configured tooindicate hello permissions it requires toobe functional.</span></span> <span data-ttu-id="7b12b-427">Deze lijst met de vereiste machtigingen wordt in een dialoogvenster weergegeven wanneer een gebruiker of beheerder in de doelmap Hallo geeft toestemming toohello toepassing, waardoor het beschikbaar tootheir organisatie.</span><span class="sxs-lookup"><span data-stu-id="7b12b-427">This list of required permissions is shown in a dialog when a user or administrator in hello destination directory gives consent toohello application, which makes it available tootheir organization.</span></span> <span data-ttu-id="7b12b-428">Sommige toepassingen vereisen alleen gebruikersniveau machtigingen, wat een gebruiker in de organisatie Hallo met instemmen kunt.</span><span class="sxs-lookup"><span data-stu-id="7b12b-428">Some applications require just user-level permissions, which any user in hello organization can consent to.</span></span> <span data-ttu-id="7b12b-429">Andere toepassingen moet beheerdersniveau machtigingen, wat een gebruiker in de organisatie Hallo kan niet met instemmen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-429">Other applications require administrator-level permissions, which a user in hello organization cannot consent to.</span></span> <span data-ttu-id="7b12b-430">Alleen een directory-beheerder krijgt toestemming tooapplications waarvoor dit niveau van machtigingen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-430">Only a directory administrator can give consent tooapplications that require this level of permissions.</span></span> <span data-ttu-id="7b12b-431">Wanneer het Hallo-gebruiker of beheerder toestemmingen, Hallo webtoepassing toepassing en Hallo web-API worden in de directory geregistreerd.</span><span class="sxs-lookup"><span data-stu-id="7b12b-431">When hello user or administrator consents, hello web application and hello web API are both registered in their directory.</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="7b12b-432">Verlopen van het token</span><span class="sxs-lookup"><span data-stu-id="7b12b-432">Token Expiration</span></span>
<span data-ttu-id="7b12b-433">Wanneer het Hallo-webtoepassing maakt gebruik van de autorisatie code tooget een toegangstoken JWT, ontvangt het ook een JWT-token voor vernieuwen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-433">When hello web application uses its authorization code tooget a JWT access token, it also receives a JWT refresh token.</span></span> <span data-ttu-id="7b12b-434">Wanneer het Hallo-toegangstoken is verlopen, Hallo vernieuwingstoken gebruikte toore zijn-Hallo gebruiker verifiëren zonder dat ze opnieuw toosign in.</span><span class="sxs-lookup"><span data-stu-id="7b12b-434">When hello access token expires, hello refresh token can be used toore-authenticate hello user without requiring them toosign in again.</span></span> <span data-ttu-id="7b12b-435">Dit vernieuwingstoken wordt gebruikte tooauthenticate Hallo gebruiker, waardoor het een nieuwe toegang token en vernieuw token.</span><span class="sxs-lookup"><span data-stu-id="7b12b-435">This refresh token is then used tooauthenticate hello user, which results in a new access token and refresh token.</span></span>

### <a name="daemon-or-server-application-tooweb-api"></a><span data-ttu-id="7b12b-436">Daemon of servertoepassing tooWeb API</span><span class="sxs-lookup"><span data-stu-id="7b12b-436">Daemon or Server Application tooWeb API</span></span>
<span data-ttu-id="7b12b-437">Deze sectie beschrijft een daemon of server-toepassing die tooget bronnen van een web-API behoeften.</span><span class="sxs-lookup"><span data-stu-id="7b12b-437">This section describes a daemon or server application that needs tooget resources from a web API.</span></span> <span data-ttu-id="7b12b-438">Er zijn twee onderliggende scenario's die van toepassing zijn toothis sectie: een daemon waarvoor toocall een web-API, gebaseerd op OAuth 2.0 referenties grant clienttype; en een servertoepassing (zoals een web-API) die toocall moet een web-API, gebaseerd op OAuth 2.0 On-Behalf-Of conceptspecificatie.</span><span class="sxs-lookup"><span data-stu-id="7b12b-438">There are two sub-scenarios that apply toothis section: A daemon that needs toocall a web API, built on OAuth 2.0 client credentials grant type; and a server application (such as a web API) that needs toocall a web API, built on OAuth 2.0 On-Behalf-Of draft specification.</span></span>

<span data-ttu-id="7b12b-439">Voor Hallo scenario wanneer een daemontoepassing toocall een web-API moet is het belangrijk toounderstand leest.</span><span class="sxs-lookup"><span data-stu-id="7b12b-439">For hello scenario when a daemon application needs toocall a web API, it’s important toounderstand a few things.</span></span> <span data-ttu-id="7b12b-440">Eerst is tussenkomst van de gebruiker niet mogelijk met een daemon-toepassing waarvoor Hallo toepassing toohave een eigen identiteit vereist.</span><span class="sxs-lookup"><span data-stu-id="7b12b-440">First, user interaction is not possible with a daemon application, which requires hello application toohave its own identity.</span></span> <span data-ttu-id="7b12b-441">Een voorbeeld van een daemontoepassing is een batch-job of een besturingssysteem-service op de achtergrond Hallo uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="7b12b-441">An example of a daemon application is a batch job, or an operating system service running in hello background.</span></span> <span data-ttu-id="7b12b-442">Dit type toepassing aanvragen een toegangstoken met behulp van de toepassingsidentiteit en de toepassings-ID, de referentie (wachtwoord of certificaat) en de toepassing-ID-URI tooAzure AD presenteren.</span><span class="sxs-lookup"><span data-stu-id="7b12b-442">This type of application requests an access token by using its application identity and presenting its Application ID, credential (password or certificate), and application ID URI tooAzure AD.</span></span> <span data-ttu-id="7b12b-443">Na een geslaagde authenticatie ontvangt Hallo daemon een toegangstoken van Azure AD dat zich bevindt, wordt het gebruikte toocall Hallo web-API.</span><span class="sxs-lookup"><span data-stu-id="7b12b-443">After successful authentication, hello daemon receives an access token from Azure AD, which is then used toocall hello web API.</span></span>

<span data-ttu-id="7b12b-444">Voor Hallo scenario wanneer een servertoepassing toocall een web-API moet, is het handig toouse een voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="7b12b-444">For hello scenario when a server application needs toocall a web API, it’s helpful toouse an example.</span></span> <span data-ttu-id="7b12b-445">Stel dat een gebruiker heeft geverifieerd op een systeemeigen toepassing en deze systeemeigen toepassing toocall een web-API moet.</span><span class="sxs-lookup"><span data-stu-id="7b12b-445">Imagine that a user has authenticated on a native application, and this native application needs toocall a web API.</span></span> <span data-ttu-id="7b12b-446">Azure AD geeft een JWT access token toocall Hallo-web-API.</span><span class="sxs-lookup"><span data-stu-id="7b12b-446">Azure AD issues a JWT access token toocall hello web API.</span></span> <span data-ttu-id="7b12b-447">Als Hallo web-API toocall een andere downstream web-API moet, kan het Hallo op namens-stroom toodelegate Hallo gebruikers id gebruiken en zich verifiëren toohello tweede laag web-API.</span><span class="sxs-lookup"><span data-stu-id="7b12b-447">If hello web API needs toocall another downstream web API, it can use hello on-behalf-of flow toodelegate hello user’s identity and authenticate toohello second-tier web API.</span></span>

#### <a name="diagram"></a><span data-ttu-id="7b12b-448">Diagram</span><span class="sxs-lookup"><span data-stu-id="7b12b-448">Diagram</span></span>
![Daemon of servertoepassing tooWeb API-diagram](./media/active-directory-authentication-scenarios/daemon_server_app_to_web_api.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="7b12b-450">Beschrijving van de stroom Protocol</span><span class="sxs-lookup"><span data-stu-id="7b12b-450">Description of Protocol Flow</span></span>
##### <a name="application-identity-with-oauth-20-client-credentials-grant"></a><span data-ttu-id="7b12b-451">De toepassingsidentiteit met OAuth 2.0-Client referenties verlenen</span><span class="sxs-lookup"><span data-stu-id="7b12b-451">Application Identity with OAuth 2.0 Client Credentials Grant</span></span>
1. <span data-ttu-id="7b12b-452">Eerst moet de servertoepassing Hallo tooauthenticate met Azure AD als zelf, zonder menselijke tussenkomst zoals een dialoogvenster voor interactieve aanmelding.</span><span class="sxs-lookup"><span data-stu-id="7b12b-452">First, hello server application needs tooauthenticate with Azure AD as itself, without any human interaction such as an interactive sign-on dialog.</span></span> <span data-ttu-id="7b12b-453">Er wordt een aanvraag tooAzure van AD-tokeneindpunt, Hallo referentie, toepassings-ID en toepassings-ID-URI.</span><span class="sxs-lookup"><span data-stu-id="7b12b-453">It makes a request tooAzure AD’s token endpoint, providing hello credential, Application ID, and application ID URI.</span></span>
2. <span data-ttu-id="7b12b-454">Azure AD verifieert Hallo-toepassing en een JWT-toegangstoken dat is gebruikt toocall Hallo web-API retourneert.</span><span class="sxs-lookup"><span data-stu-id="7b12b-454">Azure AD authenticates hello application and returns a JWT access token that is used toocall hello web API.</span></span>
3. <span data-ttu-id="7b12b-455">Via HTTPS gebruikt de webtoepassing Hallo Hallo JWT access token tooadd hello JWT-tekenreeks met een aanduiding 'Bearer' geretourneerd als Hallo autorisatie-header van Hallo aanvraag toohello web-API.</span><span class="sxs-lookup"><span data-stu-id="7b12b-455">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="7b12b-456">Hallo-web-API valideert vervolgens Hallo JWT-token en als validatie geslaagd is, retourneert Hallo resource gewenst.</span><span class="sxs-lookup"><span data-stu-id="7b12b-456">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

##### <a name="delegated-user-identity-with-oauth-20-on-behalf-of-draft-specification"></a><span data-ttu-id="7b12b-457">Gedelegeerde gebruikersidentiteit met OAuth 2.0-op-andere gebruikers-Of-concept-specificatie</span><span class="sxs-lookup"><span data-stu-id="7b12b-457">Delegated User Identity with OAuth 2.0 On-Behalf-Of Draft Specification</span></span>
<span data-ttu-id="7b12b-458">Hallo-stroom hieronder besproken wordt ervan uitgegaan dat een gebruiker is geverifieerd op een andere toepassing (zoals een systeemeigen toepassing) en de identiteit van de gebruiker is gebruikte tooacquire een access token toohello eerste laag web-API.</span><span class="sxs-lookup"><span data-stu-id="7b12b-458">hello flow discussed below assumes that a user has been authenticated on another application (such as a native application), and their user identity has been used tooacquire an access token toohello first-tier web API.</span></span>

1. <span data-ttu-id="7b12b-459">systeemeigen toepassing Hello verzendt Hallo access token toohello eerste laag web API.</span><span class="sxs-lookup"><span data-stu-id="7b12b-459">hello native application sends hello access token toohello first-tier web API.</span></span>
2. <span data-ttu-id="7b12b-460">Hallo eerste laag web-API verzendt een aanvraag tooAzure van AD-tokeneindpunt, bieden de toepassings-ID en referenties, evenals toegangstoken van Hallo gebruiker.</span><span class="sxs-lookup"><span data-stu-id="7b12b-460">hello first-tier web API sends a request tooAzure AD’s token endpoint, providing its Application ID and credentials, as well as hello user’s access token.</span></span> <span data-ttu-id="7b12b-461">Bovendien Hallo-aanvraag is verzonden met een on_behalf_of parameter die Hallo aangeeft web API een nieuwe vraagt toocall een downstream web-API namens de oorspronkelijke gebruiker Hallo tokens.</span><span class="sxs-lookup"><span data-stu-id="7b12b-461">In addition, hello request is sent with an on_behalf_of parameter that indicates hello web API is requesting new tokens toocall a downstream web API on behalf of hello original user.</span></span>
3. <span data-ttu-id="7b12b-462">Azure AD verifieert dat Hallo eerste laag web API heeft machtigingen tooaccess Hallo tweede laag web-API en valideert Hallo-aanvraag retourneren van een JWT-token voor toegang en een JWT-token toohello eerste laag web-API vernieuwen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-462">Azure AD verifies that hello first-tier web API has permissions tooaccess hello second-tier web API and validates hello request, returning a JWT access token and a JWT refresh token toohello first-tier web API.</span></span>
4. <span data-ttu-id="7b12b-463">Via HTTPS Hallo Hallo eerste laag web API roept vervolgens tweede laag web-API door token Hallo-reeks in Hallo autorisatie-header in Hallo aanvraag toe te voegen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-463">Over HTTPS, hello first-tier web API then calls hello second-tier web API by appending hello token string in hello Authorization header in hello request.</span></span> <span data-ttu-id="7b12b-464">Hallo eerste laag web-API kan zolang toocall Hallo tweede laag web-API Hallo-toegangstoken en vernieuwen van tokens geldig zijn.</span><span class="sxs-lookup"><span data-stu-id="7b12b-464">hello first-tier web API can continue toocall hello second-tier web API as long as hello access token and refresh tokens are valid.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="7b12b-465">Codevoorbeelden</span><span class="sxs-lookup"><span data-stu-id="7b12b-465">Code Samples</span></span>
<span data-ttu-id="7b12b-466">Zie Hallo codevoorbeelden voor Daemon of servertoepassing tooWeb API-scenario's.</span><span class="sxs-lookup"><span data-stu-id="7b12b-466">See hello code samples for Daemon or Server Application tooWeb API scenarios.</span></span> <span data-ttu-id="7b12b-467">En terugkomen vaak--we alle Hallo tijd nieuwe voorbeelden toevoegen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-467">And, check back frequently -- we add new samples all hello time.</span></span> [<span data-ttu-id="7b12b-468">Server of toepassing Daemon tooWeb API</span><span class="sxs-lookup"><span data-stu-id="7b12b-468">Server or Daemon Application tooWeb API</span></span>](active-directory-code-samples.md#server-or-daemon-application-to-web-api)

#### <a name="registering"></a><span data-ttu-id="7b12b-469">Registreren</span><span class="sxs-lookup"><span data-stu-id="7b12b-469">Registering</span></span>
* <span data-ttu-id="7b12b-470">Één Tenant: Voor Hallo toepassings-id en overgedragen gebruiker identiteit gevallen Hallo daemon of server-toepassing moet zijn geregistreerd in Hallo dezelfde directory in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b12b-470">Single Tenant: For both hello application identity and delegated user identity cases, hello daemon or server application must be registered in hello same directory in Azure AD.</span></span> <span data-ttu-id="7b12b-471">Hallo-web-API kan worden geconfigureerd tooexpose een reeks machtigingen die gebruikt toolimit Hallo daemon of toegang tooits serverbronnen zijn.</span><span class="sxs-lookup"><span data-stu-id="7b12b-471">hello web API can be configured tooexpose a set of permissions, which are used toolimit hello daemon or server’s access tooits resources.</span></span> <span data-ttu-id="7b12b-472">Als een type gedelegeerde gebruikersidentiteit wordt gebruikt, moet de servertoepassing Hallo tooselect Hallo gewenste machtigingen in Hallo 'Machtigingen tooOther toepassingen' vervolgkeuzelijst menu in hello Azure-Portal.</span><span class="sxs-lookup"><span data-stu-id="7b12b-472">If a delegated user identity type is being used, hello server application needs tooselect hello desired permissions from hello “Permissions tooOther Applications” drop-down menu in hello Azure Portal.</span></span> <span data-ttu-id="7b12b-473">Deze stap is niet vereist als Hallo identiteit toepassingstype wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="7b12b-473">This step is not required if hello application identity type is being used.</span></span>
* <span data-ttu-id="7b12b-474">Multitenant: Eerst Hallo daemon of servertoepassing is geconfigureerde tooindicate Hallo machtigingen toobe functioneel is vereist.</span><span class="sxs-lookup"><span data-stu-id="7b12b-474">Multi-Tenant: First, hello daemon or server application is configured tooindicate hello permissions it requires toobe functional.</span></span> <span data-ttu-id="7b12b-475">Deze lijst met de vereiste machtigingen wordt in een dialoogvenster weergegeven wanneer een gebruiker of beheerder in de doelmap Hallo geeft toestemming toohello toepassing, waardoor het beschikbaar tootheir organisatie.</span><span class="sxs-lookup"><span data-stu-id="7b12b-475">This list of required permissions is shown in a dialog when a user or administrator in hello destination directory gives consent toohello application, which makes it available tootheir organization.</span></span> <span data-ttu-id="7b12b-476">Sommige toepassingen vereisen alleen gebruikersniveau machtigingen, wat een gebruiker in de organisatie Hallo met instemmen kunt.</span><span class="sxs-lookup"><span data-stu-id="7b12b-476">Some applications require just user-level permissions, which any user in hello organization can consent to.</span></span> <span data-ttu-id="7b12b-477">Andere toepassingen moet beheerdersniveau machtigingen, wat een gebruiker in de organisatie Hallo kan niet met instemmen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-477">Other applications require administrator-level permissions, which a user in hello organization cannot consent to.</span></span> <span data-ttu-id="7b12b-478">Alleen een directory-beheerder krijgt toestemming tooapplications waarvoor dit niveau van machtigingen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-478">Only a directory administrator can give consent tooapplications that require this level of permissions.</span></span> <span data-ttu-id="7b12b-479">Wanneer Hallo gebruiker of beheerder hiermee akkoord gaat, worden beide Hallo web-API's in hun directory geregistreerd.</span><span class="sxs-lookup"><span data-stu-id="7b12b-479">When hello user or administrator consents, both of hello web APIs are registered in their directory.</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="7b12b-480">Verlopen van het token</span><span class="sxs-lookup"><span data-stu-id="7b12b-480">Token Expiration</span></span>
<span data-ttu-id="7b12b-481">Wanneer de eerste toepassing hello de autorisatie code tooget een toegangstoken JWT gebruikt, ontvangt het ook een JWT-token voor vernieuwen.</span><span class="sxs-lookup"><span data-stu-id="7b12b-481">When hello first application uses its authorization code tooget a JWT access token, it also receives a JWT refresh token.</span></span> <span data-ttu-id="7b12b-482">Wanneer het Hallo-toegangstoken is verlopen, Hallo vernieuwingstoken gebruikte toore zijn-Hallo gebruiker verifiëren zonder te vragen om referenties.</span><span class="sxs-lookup"><span data-stu-id="7b12b-482">When hello access token expires, hello refresh token can be used toore-authenticate hello user without prompting for credentials.</span></span> <span data-ttu-id="7b12b-483">Dit vernieuwingstoken wordt gebruikte tooauthenticate Hallo gebruiker, waardoor het een nieuwe toegang token en vernieuw token.</span><span class="sxs-lookup"><span data-stu-id="7b12b-483">This refresh token is then used tooauthenticate hello user, which results in a new access token and refresh token.</span></span>

## <a name="see-also"></a><span data-ttu-id="7b12b-484">Zie ook</span><span class="sxs-lookup"><span data-stu-id="7b12b-484">See Also</span></span>
[<span data-ttu-id="7b12b-485">Ontwikkelaarshandleiding Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="7b12b-485">Azure Active Directory Developer's Guide</span></span>](active-directory-developers-guide.md)

[<span data-ttu-id="7b12b-486">Azure Active Directory-codevoorbeelden</span><span class="sxs-lookup"><span data-stu-id="7b12b-486">Azure Active Directory Code Samples</span></span>](active-directory-code-samples.md)

[<span data-ttu-id="7b12b-487">Belangrijke informatie over het ondertekenen van sleutelrollover in Azure AD</span><span class="sxs-lookup"><span data-stu-id="7b12b-487">Important Information About Signing Key Rollover in Azure AD</span></span>](active-directory-signing-key-rollover.md)

[<span data-ttu-id="7b12b-488">OAuth 2.0 in Azure AD</span><span class="sxs-lookup"><span data-stu-id="7b12b-488">OAuth 2.0 in Azure AD</span></span>](https://msdn.microsoft.com/library/azure/dn645545.aspx)

