---
title: Integratie van broncodebeheer Azure Automation met GitHub voor ondernemingen | Microsoft Docs
description: Beschrijft de details van integratie met GitHub voor ondernemingen configureren voor het besturingselement van Automation-runbooks.
services: automation
documentationCenter: 
authors: mgoedtel
manager: jwhit
editor: 
ms.assetid: e01d817c-7d38-421c-adf5-647a4b526eb4
ms.service: automation
ms.workload: infrastructure-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: magoedte
ms.openlocfilehash: 62793dcdbbf4c83161e95d1c165d5c231245f7c6
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/03/2017
---
# <a name="azure-automation-scenario---automation-source-control-integration-with-github-enterprise"></a><span data-ttu-id="a2d46-103">Azure Automation-scenario - integratie van broncodebeheer automatisering met GitHub voor ondernemingen</span><span class="sxs-lookup"><span data-stu-id="a2d46-103">Azure Automation scenario - Automation source control integration with GitHub Enterprise</span></span>

<span data-ttu-id="a2d46-104">Automation biedt momenteel ondersteuning voor integratie van broncodebeheer, waarmee u runbooks in uw Automation-account aan een GitHub-resourcebeheerbibliotheek koppelen.</span><span class="sxs-lookup"><span data-stu-id="a2d46-104">Automation currently supports source control integration, which allows you to associate runbooks in your Automation account to a GitHub source control repository.</span></span>  <span data-ttu-id="a2d46-105">Echter, klanten die hebben geïmplementeerd [GitHub Enterprise](https://enterprise.github.com/home) ter ondersteuning van hun DevOps-werkwijze ook wilt gebruiken voor het beheren van de levenscyclus van runbooks die zijn ontwikkeld voor het automatiseren van bedrijfsprocessen en beheerbewerkingen-service.</span><span class="sxs-lookup"><span data-stu-id="a2d46-105">However, customers who have deployed [GitHub Enterprise](https://enterprise.github.com/home) to support their DevOps practices, also want to use it to manage the lifecycle of runbooks that are developed to automate business processes and service management operations.</span></span>  

<span data-ttu-id="a2d46-106">In dit scenario hebt u een Windows-computer in uw datacenter die is geconfigureerd als een hybride Runbook Worker met de Azure Resource Manager-modules en Git-hulpprogramma's geïnstalleerd.</span><span class="sxs-lookup"><span data-stu-id="a2d46-106">In this scenario, you have a Windows computer in your data center configured as a Hybrid Runbook Worker with the Azure Resource Manager modules and Git tools installed.</span></span>  <span data-ttu-id="a2d46-107">De Hybrid worker-machine heeft een kloon van de lokale Git-opslagplaats.</span><span class="sxs-lookup"><span data-stu-id="a2d46-107">The Hybrid worker machine has a clone of the local Git repository.</span></span>  <span data-ttu-id="a2d46-108">Wanneer het runbook wordt uitgevoerd op de hybride worker, de Git-map is gesynchroniseerd en de inhoud van het runbook-bestand zijn geïmporteerd in het Automation-account.</span><span class="sxs-lookup"><span data-stu-id="a2d46-108">When the runbook is run on the hybrid worker, the Git directory is synchronized and the runbook file contents are imported into the Automation account.</span></span>

<span data-ttu-id="a2d46-109">In dit artikel wordt beschreven hoe deze configuratie in uw Azure Automation-omgeving instellen.</span><span class="sxs-lookup"><span data-stu-id="a2d46-109">This article describes how to set up this configuration in your Azure Automation environment.</span></span> <span data-ttu-id="a2d46-110">Begin met het configureren van automatisering met de beveiligingsreferenties, runbooks die zijn vereist ter ondersteuning van dit scenario en de implementatie van een hybride Runbook Worker in uw datacenter voeren de runbooks en toegang hebben tot uw onderneming GitHub-opslagplaats om te synchroniseren van runbooks met uw Automation-account.</span><span class="sxs-lookup"><span data-stu-id="a2d46-110">We start by configuring Automation with the security credentials, runbooks required to support this scenario, and deployment of a Hybrid Runbook Worker in your data center to run the runbooks and access your GitHub Enterprise repository to synchronize runbooks with your Automation account.</span></span>  


## <a name="getting-the-scenario"></a><span data-ttu-id="a2d46-111">Het scenario ophalen</span><span class="sxs-lookup"><span data-stu-id="a2d46-111">Getting the scenario</span></span>

<span data-ttu-id="a2d46-112">Dit scenario bestaat uit twee PowerShell-runbooks die u rechtstreeks vanuit importeren kunt de [Runbookgalerie](automation-runbook-gallery.md) in de Azure-portal of downloaden van de [PowerShell Gallery](https://www.powershellgallery.com).</span><span class="sxs-lookup"><span data-stu-id="a2d46-112">This scenario consists of two PowerShell runbooks that you can import directly from the [Runbook Gallery](automation-runbook-gallery.md) in the Azure portal or download from the [PowerShell Gallery](https://www.powershellgallery.com).</span></span>

### <a name="runbooks"></a><span data-ttu-id="a2d46-113">Runbooks</span><span class="sxs-lookup"><span data-stu-id="a2d46-113">Runbooks</span></span>

<span data-ttu-id="a2d46-114">Runbook</span><span class="sxs-lookup"><span data-stu-id="a2d46-114">Runbook</span></span> | <span data-ttu-id="a2d46-115">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="a2d46-115">Description</span></span>| 
--------|------------|
<span data-ttu-id="a2d46-116">Export RunAsCertificateToHybridWorker</span><span class="sxs-lookup"><span data-stu-id="a2d46-116">Export-RunAsCertificateToHybridWorker</span></span> | <span data-ttu-id="a2d46-117">Runbook exporteert een RunAs-certificaat van een Automation-account voor een hybride worker zodat runbooks voor het werkproces met Azure verifiëren kan om het importeren van runbooks in het Automation-account.</span><span class="sxs-lookup"><span data-stu-id="a2d46-117">Runbook exports a RunAs certificate from an Automation account to a hybrid worker so that runbooks on the worker can authenticate with Azure in order to import runbooks into the Automation account.</span></span>| 
<span data-ttu-id="a2d46-118">Synchronisatie LocalGitFolderToAutomationAccount</span><span class="sxs-lookup"><span data-stu-id="a2d46-118">Sync-LocalGitFolderToAutomationAccount</span></span> | <span data-ttu-id="a2d46-119">Runbook wordt de lokale Git-map op de machine hybride gesynchroniseerd en vervolgens de runbook-bestanden (*.ps1) importeren in het Automation-account.</span><span class="sxs-lookup"><span data-stu-id="a2d46-119">Runbook syncs the local Git folder on the hybrid machine and then import the runbook files (*.ps1) into the Automation account.</span></span>|

### <a name="credentials"></a><span data-ttu-id="a2d46-120">Referenties</span><span class="sxs-lookup"><span data-stu-id="a2d46-120">Credentials</span></span>

<span data-ttu-id="a2d46-121">Referentie</span><span class="sxs-lookup"><span data-stu-id="a2d46-121">Credential</span></span> | <span data-ttu-id="a2d46-122">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="a2d46-122">Description</span></span>|
-----------|------------|
<span data-ttu-id="a2d46-123">GitHRWCredential</span><span class="sxs-lookup"><span data-stu-id="a2d46-123">GitHRWCredential</span></span> | <span data-ttu-id="a2d46-124">Referentie-element u maken om de gebruikersnaam en het wachtwoord voor een gebruiker met machtigingen voor de hybride worker bevatten.</span><span class="sxs-lookup"><span data-stu-id="a2d46-124">Credential asset you create to contain the username and password for a user with permissions to the hybrid worker.</span></span>|

## <a name="installing-and-configuring-this-scenario"></a><span data-ttu-id="a2d46-125">Dit scenario installeren en configureren</span><span class="sxs-lookup"><span data-stu-id="a2d46-125">Installing and configuring this scenario</span></span>

### <a name="prerequisites"></a><span data-ttu-id="a2d46-126">Vereisten</span><span class="sxs-lookup"><span data-stu-id="a2d46-126">Prerequisites</span></span>

1. <span data-ttu-id="a2d46-127">De runbook-synchronisatie LocalGitFolderToAutomationAccount verifieert met behulp van de [Azure uitvoeren als-account](automation-sec-configure-azure-runas-account.md).</span><span class="sxs-lookup"><span data-stu-id="a2d46-127">The Sync-LocalGitFolderToAutomationAccount runbook authenticates using the [Azure Run As account](automation-sec-configure-azure-runas-account.md).</span></span> 

2. <span data-ttu-id="a2d46-128">Een werkruimte van de Microsoft Operations Management Suite (OMS) met de Azure Automation-oplossing ingeschakeld en geconfigureerd, is ook vereist.</span><span class="sxs-lookup"><span data-stu-id="a2d46-128">A Microsoft Operations Management Suite (OMS) workspace with the Azure Automation solution enabled and configured is also required.</span></span>  <span data-ttu-id="a2d46-129">Als u niet die is gekoppeld aan het Automation-account gebruikt om te installeren en configureren van dit scenario hebt, is deze gemaakt en geconfigureerd voor u wanneer u de **nieuw OnPremiseHybridWorker.ps1** script van de hybride runbook de werknemer.</span><span class="sxs-lookup"><span data-stu-id="a2d46-129">If you do not have one that is associated with the Automation account used to install and configure this scenario, it is created and configured for you when you execute the **New-OnPremiseHybridWorker.ps1** script from the hybrid runbook worker.</span></span>        

    > [!NOTE]
    > <span data-ttu-id="a2d46-130">De volgende regio's ondersteunen momenteel alleen Automation-integratie met OMS - **Australië-Zuidoost**, **VS-Oost 2**, **Zuidoost-Azië**, en **West Europa**.</span><span class="sxs-lookup"><span data-stu-id="a2d46-130">Currently the following regions only support Automation integration with OMS - **Australia Southeast**, **East US 2**, **Southeast Asia**, and **West Europe**.</span></span> 

3. <span data-ttu-id="a2d46-131">Een computer die kan fungeren als een toegewezen hybride Runbook Worker die ook host fungeert voor de GitHub-software en onderhouden van de runbook-bestanden (*runbook*.ps1) in een bronmap in het bestandssysteem synchronisatie tussen GitHub en uw Automation-account.</span><span class="sxs-lookup"><span data-stu-id="a2d46-131">A computer that can serve as a dedicated Hybrid Runbook Worker that will also host the GitHub software and maintain the runbook files (*runbook*.ps1) in a source directory on the file system to synchronize between GitHub and your Automation account.</span></span>

### <a name="import-and-publish-the-runbooks"></a><span data-ttu-id="a2d46-132">Importeren en publiceren van de runbooks</span><span class="sxs-lookup"><span data-stu-id="a2d46-132">Import and publish the runbooks</span></span>

<span data-ttu-id="a2d46-133">Voor het importeren van de *Export RunAsCertificateToHybridWorker* en *Sync LocalGitFolderToAutomationAccount* runbooks uit de Runbookgalerie van uw Automation-account in de Azure portal, volgt u de de procedures in [Runbook importeren vanuit de galerie Runbook](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span><span class="sxs-lookup"><span data-stu-id="a2d46-133">To import the *Export-RunAsCertificateToHybridWorker* and *Sync-LocalGitFolderToAutomationAccount* runbooks from the Runbook Gallery from your Automation account in the Azure portal, follow the procedures in [Import Runbook from the Runbook Gallery](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span></span> <span data-ttu-id="a2d46-134">Publiceer de runbooks nadat ze correct zijn geïmporteerd in uw Automation-account.</span><span class="sxs-lookup"><span data-stu-id="a2d46-134">Publish the runbooks after they have been successfully imported into your Automation account.</span></span>

### <a name="deploy-and-configure-hybrid-runbook-worker"></a><span data-ttu-id="a2d46-135">Implementeren en configureren van de hybride Runbook Worker</span><span class="sxs-lookup"><span data-stu-id="a2d46-135">Deploy and Configure Hybrid Runbook Worker</span></span>

<span data-ttu-id="a2d46-136">Als u niet een hybride Runbook Worker al geïmplementeerd in uw datacenter hebt, Controleer de vereisten en volg de stappen van de geautomatiseerde installatie van de procedure in [Azure Automation Hybrid Runbook Workers - automatiseren installeren en Configuratie](automation-hybrid-runbook-worker.md#automated-deployment).</span><span class="sxs-lookup"><span data-stu-id="a2d46-136">If you do not have a Hybrid Runbook Worker already deployed in your data center, you should review the requirements and follow the automated installation steps using the procedure in [Azure Automation Hybrid Runbook Workers - Automate Install and Configuration](automation-hybrid-runbook-worker.md#automated-deployment).</span></span>  <span data-ttu-id="a2d46-137">Zodra u de hybride worker op een computer hebt geïnstalleerd, voer de volgende stappen uit om de configuratie voor dit scenario te voltooien.</span><span class="sxs-lookup"><span data-stu-id="a2d46-137">Once you have successfully installed the hybrid worker on a computer, perform the following steps to complete its configuration to support this scenario.</span></span>

1. <span data-ttu-id="a2d46-138">Meld u bij de computer die als host fungeert voor de Hybrid Runbook Worker-rol met een account met lokale beheerdersrechten en maak een map waarin de Git-runbook-bestanden.</span><span class="sxs-lookup"><span data-stu-id="a2d46-138">Sign on to the computer hosting the Hybrid Runbook Worker role with an account that has local administrative rights and create a directory to hold the Git runbook files.</span></span>  <span data-ttu-id="a2d46-139">Kloon de interne Git-opslagplaats naar de map.</span><span class="sxs-lookup"><span data-stu-id="a2d46-139">Clone  the internal Git repository to the directory.</span></span>
2. <span data-ttu-id="a2d46-140">Als u nog geen een RunAs-account gemaakt of als u wilt maken van een nieuwe een specifiek voor dit doel, vanuit de Azure-portal gaat u naar de Automation-accounts, selecteer uw Automation-account en maak een [referentieasset](automation-credentials.md) die bevat de gebruikersnaam en wachtwoord voor een gebruiker met machtigingen voor de hybride worker.</span><span class="sxs-lookup"><span data-stu-id="a2d46-140">If you do not already have a RunAs account created or you want to create a new one dedicated for this purpose, from the Azure portal navigate to Automation accounts, select your Automation account and create a [credential asset](automation-credentials.md) that contains the username and password for a user with permissions to the hybrid worker.</span></span>  
3. <span data-ttu-id="a2d46-141">Van uw Automation-account [bewerken van het runbook](automation-edit-textual-runbook.md)**Export RunAsCertificateToHybridWorker** en wijzig de waarde voor de variabele *$Password* met een sterk wachtwoord.</span><span class="sxs-lookup"><span data-stu-id="a2d46-141">From your Automation account, [edit the runbook](automation-edit-textual-runbook.md)  **Export-RunAsCertificateToHybridWorker** and modify the value for the variable *$Password* with a strong password.</span></span>  <span data-ttu-id="a2d46-142">Nadat u de waarde wijzigen, klikt u op **publiceren** hebben de conceptversie van het runbook gepubliceerd.</span><span class="sxs-lookup"><span data-stu-id="a2d46-142">After you modify the value, click **Publish** to have the draft version of the runbook published.</span></span> 
5. <span data-ttu-id="a2d46-143">Het runbook starten **Export RunAsCertificateToHybridWorker**, en in de **Runbook starten** blade onder de optie **instellingen uitvoeren** selecteert u de optie  **Hybride Worker** en selecteer in de vervolgkeuzelijst de Hybrid worker-groep die u eerder hebt gemaakt voor dit scenario.</span><span class="sxs-lookup"><span data-stu-id="a2d46-143">Start the runbook **Export-RunAsCertificateToHybridWorker**, and in the **Start Runbook** blade, under the option **Run settings** select the option **Hybrid Worker** and in the drop-down list select the Hybrid worker group you created earlier for this scenario.</span></span>  

    <span data-ttu-id="a2d46-144">Hiermee exporteert u een certificaat naar de hybride worker zodat runbooks op de worker kan worden geverifieerd met Azure met behulp van de uitvoeren als-verbinding om Azure-resources (met name voor dit scenario - import runbooks voor het Automation-account) te beheren.</span><span class="sxs-lookup"><span data-stu-id="a2d46-144">This exports a certificate to the hybrid worker so that runbooks on the worker can authenticate with Azure using the Run As connection in order to manage Azure resources (in particular for this scenario - import runbooks to the Automation account).</span></span>

4. <span data-ttu-id="a2d46-145">Selecteer de Hybrid worker-groep die eerder hebt gemaakt in uw Automation-account en [Geef een RunAs-account](automation-hrw-run-runbooks.md#runas-account) voor de Hybrid worker-groep en kies de referentie-element dat u zojuist hebt of al hebt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="a2d46-145">From your Automation account, select the Hybrid worker group created earlier and [specify a RunAs account](automation-hrw-run-runbooks.md#runas-account) for the Hybrid worker group, and chose the credential asset you just or already have created.</span></span>  <span data-ttu-id="a2d46-146">Dit zorgt ervoor dat het runbook Sync Git-opdrachten kunt uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="a2d46-146">This assures that the Sync runbook can run Git commands.</span></span> 
5. <span data-ttu-id="a2d46-147">Het runbook starten **Sync LocalGitFolderToAutomationAccount**, bieden de volgende vereiste invoerparameters en in de **Runbook starten** blade onder de optie **instellingen uitvoeren**  selecteert u de optie **Hybrid Worker** en selecteer in de vervolgkeuzelijst de Hybrid worker-groep die u eerder hebt gemaakt voor dit scenario:</span><span class="sxs-lookup"><span data-stu-id="a2d46-147">Start the runbook **Sync-LocalGitFolderToAutomationAccount**, provide the following required input parameter values and in the **Start Runbook** blade, under the option **Run settings** select the option **Hybrid Worker** and in the drop-down list select the Hybrid worker group you created earlier for this scenario:</span></span>
    * <span data-ttu-id="a2d46-148">*ResourceGroup* -de naam van de resourcegroep die zijn gekoppeld aan uw Automation-account</span><span class="sxs-lookup"><span data-stu-id="a2d46-148">*ResourceGroup* - the name of your resource group associated with your Automation account</span></span>
    * <span data-ttu-id="a2d46-149">*AutomationAccountName* -de naam van uw Automation-account</span><span class="sxs-lookup"><span data-stu-id="a2d46-149">*AutomationAccountName* - the name of your Automation account</span></span>
    * <span data-ttu-id="a2d46-150">*GitPath* -de lokale map of het bestand op de hybride Runbook Worker waarbij Git is ingesteld voor het ophalen van de meest recente wijzigingen in</span><span class="sxs-lookup"><span data-stu-id="a2d46-150">*GitPath* - The local folder or file on the Hybrid Runbook Worker where Git is set up to pull latest changes into</span></span>

    <span data-ttu-id="a2d46-151">Dit wordt de lokale Git-map op de computer van de werknemer hybride synchroniseren en de .ps1-bestanden vervolgens importeren uit de bronmap voor het Automation-account.</span><span class="sxs-lookup"><span data-stu-id="a2d46-151">This will sync the local Git folder on the hybrid worker computer and then import the .ps1 files from the source directory to the Automation account.</span></span>

    ![Synchronisatie-LocalGitFolderToAutomationAccount Runbook starten](media/automation-scenario-source-control-integration-with-github-ent/start-runbook-synclocalgitfoldertoautoacct.png)<br>

7. <span data-ttu-id="a2d46-153">Overzichtsgegevens voor het runbook taak weergeven door te selecteren in de **Runbooks** blade in uw Automation-account en selecteer vervolgens de **taken** tegel.</span><span class="sxs-lookup"><span data-stu-id="a2d46-153">View job summary details for the runbook by selecting it from the **Runbooks** blade in your Automation account, and then select the **Jobs** tile.</span></span>  <span data-ttu-id="a2d46-154">Bevestig het met succes voltooid door het selecteren van de **alle logboeken** tegel en beoordelen van de stroom gedetailleerd logboek.</span><span class="sxs-lookup"><span data-stu-id="a2d46-154">Confirm it completed successfully by selecting the **All logs** tile and reviewing the detailed log stream.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="a2d46-155">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="a2d46-155">Next steps</span></span>

-  <span data-ttu-id="a2d46-156">Zie [Azure Automation-runbooktypen](automation-runbook-types.md) voor meer informatie over runbooktypen, hun voordelen en beperkingen</span><span class="sxs-lookup"><span data-stu-id="a2d46-156">To know more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
-  <span data-ttu-id="a2d46-157">Zie [Systeemeigen PowerShell-scriptondersteuning in Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/) voor meer informatie over de functie voor PowerShelll-scriptondersteuning</span><span class="sxs-lookup"><span data-stu-id="a2d46-157">For more information on PowerShell script support feature, see [Native PowerShell script support in Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span></span>
