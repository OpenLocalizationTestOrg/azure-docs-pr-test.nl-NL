---
title: Mijn eerste grafische runbook in Azure Automation | Microsoft Docs
description: Zelfstudie die u helpt bij het maken, testen en publiceren van een eenvoudig grafisch runbook.
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: 
keywords: runbook, runbook-sjabloon, runbook-automatisering, azure-runbook
ms.assetid: dcb88f19-ed2b-4372-9724-6625cd287c8a
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/17/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 9d4b28416376482247127698bec7c99b83308885
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/11/2017
---
# <a name="my-first-graphical-runbook"></a><span data-ttu-id="bc205-104">Mijn eerste grafische runbook</span><span class="sxs-lookup"><span data-stu-id="bc205-104">My first graphical runbook</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="bc205-105">Grafisch</span><span class="sxs-lookup"><span data-stu-id="bc205-105">Graphical</span></span>](automation-first-runbook-graphical.md)
> * [<span data-ttu-id="bc205-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="bc205-106">PowerShell</span></span>](automation-first-runbook-textual-powershell.md)
> * [<span data-ttu-id="bc205-107">PowerShell-werkstroom</span><span class="sxs-lookup"><span data-stu-id="bc205-107">PowerShell Workflow</span></span>](automation-first-runbook-textual.md)
> 
> 

<span data-ttu-id="bc205-108">In deze zelfstudie wordt stap voor stap het maken van een [grafisch runbook](automation-runbook-types.md#graphical-runbooks) in Azure Automation beschreven.</span><span class="sxs-lookup"><span data-stu-id="bc205-108">This tutorial walks you through the creation of a [graphical runbook](automation-runbook-types.md#graphical-runbooks) in Azure Automation.</span></span>  <span data-ttu-id="bc205-109">We beginnen met een eenvoudig runbook dat we testen en publiceren terwijl we uitleggen hoe u de status van de runbooktaak kunt bijhouden.</span><span class="sxs-lookup"><span data-stu-id="bc205-109">We start with a simple runbook that tests and publishes while we explain how to track the status of the runbook job.</span></span>  <span data-ttu-id="bc205-110">Vervolgens wijzigen we het runbook zodanig dat Azure-resources daadwerkelijk worden beheerd, in dit geval door een virtuele machine van Azure te starten.</span><span class="sxs-lookup"><span data-stu-id="bc205-110">Then we modify the runbook to actually manage Azure resources, in this case starting an Azure virtual machine.</span></span>  <span data-ttu-id="bc205-111">Daarna ronden we de zelfstudie af door het runbook geavanceerder te maken. Dit doen we door runbookparameters en voorwaardelijke koppelingen toe te voegen.</span><span class="sxs-lookup"><span data-stu-id="bc205-111">Then we complete the tutorial by making the runbook more robust by adding runbook parameters and conditional links.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="bc205-112">Vereisten</span><span class="sxs-lookup"><span data-stu-id="bc205-112">Prerequisites</span></span>
<span data-ttu-id="bc205-113">Voor het voltooien van deze zelfstudie hebt u het volgende nodig:</span><span class="sxs-lookup"><span data-stu-id="bc205-113">To complete this tutorial, you will need the following.</span></span>

* <span data-ttu-id="bc205-114">Azure-abonnement.</span><span class="sxs-lookup"><span data-stu-id="bc205-114">Azure subscription.</span></span>  <span data-ttu-id="bc205-115">Als u nog geen abonnement hebt, kunt u [uw voordelen als MSDN-abonnee activeren](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) of <a href="/pricing/free-account/" target="_blank">[u aanmelden voor een gratis account](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="bc205-115">If you don't have one yet, you can [activate your MSDN subscriber benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) or <a href="/pricing/free-account/" target="_blank">[sign up for a free account](https://azure.microsoft.com/free/).</span></span>
* <span data-ttu-id="bc205-116">[Azure Automation-account](automation-sec-configure-azure-runas-account.md) voor het runbook en verificatie van Azure-resources.</span><span class="sxs-lookup"><span data-stu-id="bc205-116">[Azure Automation account](automation-sec-configure-azure-runas-account.md) to hold the runbook and authenticate to Azure resources.</span></span>  <span data-ttu-id="bc205-117">Dit account moet machtigingen hebben om de virtuele machine te starten en stoppen.</span><span class="sxs-lookup"><span data-stu-id="bc205-117">This account must have permission to start and stop the virtual machine.</span></span>
* <span data-ttu-id="bc205-118">Een virtuele machine van Azure.</span><span class="sxs-lookup"><span data-stu-id="bc205-118">An Azure virtual machine.</span></span>  <span data-ttu-id="bc205-119">We stoppen en starten deze machine, dus het mag geen productiemachine zijn.</span><span class="sxs-lookup"><span data-stu-id="bc205-119">We will stop and start this machine so it should not be production.</span></span>

## <a name="step-1---create-runbook"></a><span data-ttu-id="bc205-120">Stap 1: runbook maken</span><span class="sxs-lookup"><span data-stu-id="bc205-120">Step 1 - Create runbook</span></span>
<span data-ttu-id="bc205-121">We beginnen met het maken van een eenvoudig runbook waarmee de tekst *Hallo wereld* als uitvoer wordt gegeven.</span><span class="sxs-lookup"><span data-stu-id="bc205-121">We start by creating a simple runbook that outputs the text *Hello World*.</span></span>

1. <span data-ttu-id="bc205-122">Open uw Automation-account in Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="bc205-122">In the Azure portal, open your Automation account.</span></span>  
   <span data-ttu-id="bc205-123">Op de Automation-accountpagina vindt u een beknopte weergave van de resources in dit account.</span><span class="sxs-lookup"><span data-stu-id="bc205-123">The Automation account page gives you a quick view of the resources in this account.</span></span>  <span data-ttu-id="bc205-124">U zou al enkele assets moeten hebben.</span><span class="sxs-lookup"><span data-stu-id="bc205-124">You should already have some Assets.</span></span>  <span data-ttu-id="bc205-125">De meeste daarvan zijn de modules die automatisch zijn opgenomen in een nieuw Automation-account.</span><span class="sxs-lookup"><span data-stu-id="bc205-125">Most of those are the modules that are automatically included in a new Automation account.</span></span>  <span data-ttu-id="bc205-126">Ook moet u de referentieasset hebben die wordt genoemd in de [vereisten](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="bc205-126">You should also have the Credential asset that's mentioned in the [prerequisites](#prerequisites).</span></span>
2. <span data-ttu-id="bc205-127">Klik op de tegel **Runbooks** om de lijst met runbooks te openen.</span><span class="sxs-lookup"><span data-stu-id="bc205-127">Click the **Runbooks** tile to open the list of runbooks.</span></span><br> <span data-ttu-id="bc205-128">![Besturingselement Runbooks](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-128">![Runbooks control](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span></span>
3. <span data-ttu-id="bc205-129">Maak een nieuw runbook door te klikken op de knop **Een runbook toevoegen** en daarna op **Een nieuw runbook maken**.</span><span class="sxs-lookup"><span data-stu-id="bc205-129">Create a new runbook by clicking on the **Add a runbook** button and then **Create a new runbook**.</span></span>
4. <span data-ttu-id="bc205-130">Geef het runbook de naam *MyFirstRunbook-Graphical*.</span><span class="sxs-lookup"><span data-stu-id="bc205-130">Give the runbook the name *MyFirstRunbook-Graphical*.</span></span>
5. <span data-ttu-id="bc205-131">In dit geval gaan we een [grafisch runbook](automation-graphical-authoring-intro.md) maken, dus selecteer **Grafisch** voor **Runbooktype**.</span><span class="sxs-lookup"><span data-stu-id="bc205-131">In this case, we're going to create a [graphical runbook](automation-graphical-authoring-intro.md) so select **Graphical** for **Runbook type**.</span></span><br> <span data-ttu-id="bc205-132">![Nieuw runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-132">![New runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span></span><br>
6. <span data-ttu-id="bc205-133">Klik op **Maken** om het runbook te maken en de grafische editor te openen.</span><span class="sxs-lookup"><span data-stu-id="bc205-133">Click **Create** to create the runbook and open the graphical editor.</span></span>

## <a name="step-2---add-activities-to-the-runbook"></a><span data-ttu-id="bc205-134">Stap 2: activiteiten toevoegen aan het runbook</span><span class="sxs-lookup"><span data-stu-id="bc205-134">Step 2 - Add activities to the runbook</span></span>
<span data-ttu-id="bc205-135">Met het besturingselement Bibliotheek aan de linkerkant van de editor kunt u activiteiten selecteren die u aan uw runbook wilt toevoegen.</span><span class="sxs-lookup"><span data-stu-id="bc205-135">The Library control on the left side of the editor allows you to select activities to add to your runbook.</span></span>  <span data-ttu-id="bc205-136">We gaan een cmdlet **Write-Output** toevoegen om tekst als uitvoer van het runbook te krijgen.</span><span class="sxs-lookup"><span data-stu-id="bc205-136">We're going to add a **Write-Output** cmdlet to output text from the runbook.</span></span>

1. <span data-ttu-id="bc205-137">Klik in het besturingselement Bibliotheek in het zoektekstvak en typ **Write-Output**.</span><span class="sxs-lookup"><span data-stu-id="bc205-137">In the Library control, click in the search textbox and type **Write-Output**.</span></span>  <span data-ttu-id="bc205-138">De zoekresultaten worden eronder weergegeven.</span><span class="sxs-lookup"><span data-stu-id="bc205-138">The search results will be displayed below.</span></span> <br> <span data-ttu-id="bc205-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span></span>
2. <span data-ttu-id="bc205-140">Schuif omlaag naar de onderkant van de lijst.</span><span class="sxs-lookup"><span data-stu-id="bc205-140">Scroll down to the bottom of the list.</span></span>  <span data-ttu-id="bc205-141">U kunt met de rechtermuisknop klikken op **Write-Output** en **Toevoegen aan papier** selecteren of klikken op de knop met de drie puntjes naast de cmdlet en **Toevoegen aan papier** selecteren.</span><span class="sxs-lookup"><span data-stu-id="bc205-141">You can either right-click **Write-Output** and select **Add to canvas** or click the ellipse next to the cmdlet and then select **Add to canvas**.</span></span>
3. <span data-ttu-id="bc205-142">Klik op de activiteit **Write-Output** op het papier.</span><span class="sxs-lookup"><span data-stu-id="bc205-142">Click the **Write-Output** activity on the canvas.</span></span>  <span data-ttu-id="bc205-143">Hiermee opent u de besturingselementblade Configuratie waarmee u de activiteit kunt configureren.</span><span class="sxs-lookup"><span data-stu-id="bc205-143">This opens the Configuration control blade, which allows you to configure the activity.</span></span>
4. <span data-ttu-id="bc205-144">Het **label** krijgt standaard de naam van de cmdlet, maar we kunnen dit wijzigen in een duidelijkere beschrijving.</span><span class="sxs-lookup"><span data-stu-id="bc205-144">The **Label** defaults to the name of the cmdlet, but we can change it to something more friendly.</span></span> <span data-ttu-id="bc205-145">Wijzig dit in *Schrijf Hallo Wereld naar uitvoer*.</span><span class="sxs-lookup"><span data-stu-id="bc205-145">Change it to *Write Hello World to output*.</span></span>
5. <span data-ttu-id="bc205-146">Klik op **Parameters** om waarden op te geven voor de parameters van de cmdlet.</span><span class="sxs-lookup"><span data-stu-id="bc205-146">Click **Parameters** to provide values for the cmdlet's parameters.</span></span>  
   <span data-ttu-id="bc205-147">Sommige cmdlets hebben meerdere parametersets. U moet dan selecteren welke u wilt gebruiken.</span><span class="sxs-lookup"><span data-stu-id="bc205-147">Some cmdlets have multiple parameter sets, and you need to select which you one to use.</span></span> <span data-ttu-id="bc205-148">In dit geval heeft **Write-Output** slechts één parameterset, dus u hoeft er geen te selecteren.</span><span class="sxs-lookup"><span data-stu-id="bc205-148">In this case, **Write-Output** has only one parameter set, so you don't need to select one.</span></span> <br> <span data-ttu-id="bc205-149">![Write-Output-eigenschappen](media/automation-first-runbook-graphical/write-output-properties-b.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-149">![Write-Output properties](media/automation-first-runbook-graphical/write-output-properties-b.png)</span></span>
6. <span data-ttu-id="bc205-150">Selecteer de parameter **InputObject**.</span><span class="sxs-lookup"><span data-stu-id="bc205-150">Select the **InputObject** parameter.</span></span>  <span data-ttu-id="bc205-151">Dit is de parameter waarin we de tekst opgeven die naar de uitvoerstroom moet worden verzonden.</span><span class="sxs-lookup"><span data-stu-id="bc205-151">This is the parameter where we specify the text to send to the output stream.</span></span>
7. <span data-ttu-id="bc205-152">Selecteer in de vervolgkeuzelijst **Gegevensbron** de optie **PowerShell-expressie**.</span><span class="sxs-lookup"><span data-stu-id="bc205-152">In the **Data source** dropdown, select **PowerShell expression**.</span></span>  <span data-ttu-id="bc205-153">In de vervolgkeuzelijst **Gegevensbron** staan verschillende bronnen die u kunt gebruiken om een parameterwaarde te vullen.</span><span class="sxs-lookup"><span data-stu-id="bc205-153">The **Data source** dropdown provides different sources that you use to populate a parameter value.</span></span>  
   <span data-ttu-id="bc205-154">U kunt uitvoer van deze bronnen gebruiken, zoals een andere activiteit, een Automation-asset of een PowerShell-expressie.</span><span class="sxs-lookup"><span data-stu-id="bc205-154">You can use output from such sources such as another activity, an Automation asset, or a PowerShell expression.</span></span>  <span data-ttu-id="bc205-155">In dit geval willen we uitvoer van de tekst *Hallo wereld*.</span><span class="sxs-lookup"><span data-stu-id="bc205-155">In this case, we just want to output the text *Hello World*.</span></span> <span data-ttu-id="bc205-156">We kunnen een PowerShell-expressie gebruiken en een tekenreeks opgeven.</span><span class="sxs-lookup"><span data-stu-id="bc205-156">We can use a PowerShell expression and specify a string.</span></span>
8. <span data-ttu-id="bc205-157">Typ in het vak **Expressie** de tekst *"Hallo wereld"* en klik vervolgens tweemaal op **OK** om terug te gaan naar het papier.</span><span class="sxs-lookup"><span data-stu-id="bc205-157">In the **Expression** box, type *"Hello World"* and then click **OK** twice to return to the canvas.</span></span><br> <span data-ttu-id="bc205-158">![PowerShell-expressie](media/automation-first-runbook-graphical/expression-hello-world.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-158">![PowerShell Expression](media/automation-first-runbook-graphical/expression-hello-world.png)</span></span>
9. <span data-ttu-id="bc205-159">Klik op **Opslaan** om het runbook op te slaan.</span><span class="sxs-lookup"><span data-stu-id="bc205-159">Save the runbook by clicking **Save**.</span></span><br> <span data-ttu-id="bc205-160">![Runbook opslaan](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-160">![Save runbook](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span></span>

## <a name="step-3---test-the-runbook"></a><span data-ttu-id="bc205-161">Stap 3: het runbook testen</span><span class="sxs-lookup"><span data-stu-id="bc205-161">Step 3 - Test the runbook</span></span>
<span data-ttu-id="bc205-162">Voordat we het runbook publiceren om het beschikbaar te maken in productie, willen we het testen om er zeker van te zijn dat het goed werkt.</span><span class="sxs-lookup"><span data-stu-id="bc205-162">Before we publish the runbook to make it available in production, we want to test it to make sure that it works properly.</span></span>  <span data-ttu-id="bc205-163">Wanneer u een runbook test, voert u de **concept**versie uit en geeft u de uitvoer interactief weer.</span><span class="sxs-lookup"><span data-stu-id="bc205-163">When you test a runbook, you run its **Draft** version and view its output interactively.</span></span>

1. <span data-ttu-id="bc205-164">Klik op **Testvenster** om de blade Test te openen.</span><span class="sxs-lookup"><span data-stu-id="bc205-164">Click **Test pane** to open the Test blade.</span></span><br> <span data-ttu-id="bc205-165">![Testvenster](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-165">![Test pane](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span></span>
2. <span data-ttu-id="bc205-166">Klik op **Start** om de test te starten.</span><span class="sxs-lookup"><span data-stu-id="bc205-166">Click **Start** to start the test.</span></span>  <span data-ttu-id="bc205-167">Dit moet de enige ingeschakelde optie zijn.</span><span class="sxs-lookup"><span data-stu-id="bc205-167">This should be the only enabled option.</span></span>
3. <span data-ttu-id="bc205-168">Een [runbooktaak](automation-runbook-execution.md) wordt gemaakt en de status ervan wordt in het venster weergegeven.</span><span class="sxs-lookup"><span data-stu-id="bc205-168">A [runbook job](automation-runbook-execution.md) is created and its status displayed in the pane.</span></span>  
   <span data-ttu-id="bc205-169">In eerste instantie is de taakstatus *In de wachtrij geplaatst*. Hiermee wordt aangegeven dat er wordt gewacht tot er in de cloud een runbook worker beschikbaar is.</span><span class="sxs-lookup"><span data-stu-id="bc205-169">The job status starts as *Queued* indicating that it is waiting for a runbook worker in the cloud to become available.</span></span>  <span data-ttu-id="bc205-170">De taakstatus verandert daarna in *Starten* wanneer een werkrol de taak claimt en daarna in *Wordt uitgevoerd* wanneer het runbook daadwerkelijk wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="bc205-170">It then moves to *Starting* when a worker claims the job, and then *Running* when the runbook actually starts running.</span></span>  
4. <span data-ttu-id="bc205-171">Wanneer de runbooktaak is voltooid, wordt de uitvoer ervan weergegeven.</span><span class="sxs-lookup"><span data-stu-id="bc205-171">When the runbook job completes, its output is displayed.</span></span> <span data-ttu-id="bc205-172">In ons geval zouden we *Hallo wereld* moeten zien.</span><span class="sxs-lookup"><span data-stu-id="bc205-172">In our case, we should see *Hello World*.</span></span><br> <span data-ttu-id="bc205-173">![Hello World](media/automation-first-runbook-graphical/runbook-test-results.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-173">![Hello World](media/automation-first-runbook-graphical/runbook-test-results.png)</span></span>
5. <span data-ttu-id="bc205-174">Sluit de blade Test om terug te gaan naar het papier.</span><span class="sxs-lookup"><span data-stu-id="bc205-174">Close the Test blade to return to the canvas.</span></span>

## <a name="step-4---publish-and-start-the-runbook"></a><span data-ttu-id="bc205-175">Stap 4: het runbook publiceren en starten</span><span class="sxs-lookup"><span data-stu-id="bc205-175">Step 4 - Publish and start the runbook</span></span>
<span data-ttu-id="bc205-176">Het runbook dat we hebben gemaakt, bevindt zich nog steeds in de modus Concept.</span><span class="sxs-lookup"><span data-stu-id="bc205-176">The runbook that we created is still in Draft mode.</span></span> <span data-ttu-id="bc205-177">We moeten het publiceren voordat we het in productie kunnen uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="bc205-177">We need to publish it before we can run it in production.</span></span>  <span data-ttu-id="bc205-178">Wanneer u een runbook publiceert, overschrijft u de bestaande gepubliceerde versie met de conceptversie.</span><span class="sxs-lookup"><span data-stu-id="bc205-178">When you publish a runbook, you overwrite the existing Published version with the Draft version.</span></span>  <span data-ttu-id="bc205-179">In ons geval hebben we nog geen gepubliceerde versie omdat we het runbook zojuist hebben gemaakt.</span><span class="sxs-lookup"><span data-stu-id="bc205-179">In our case, we don't have a Published version yet because we just created the runbook.</span></span>

1. <span data-ttu-id="bc205-180">Klik op **Publiceren** om het runbook te publiceren en klik vervolgens op **Ja** wanneer hierom wordt gevraagd.</span><span class="sxs-lookup"><span data-stu-id="bc205-180">Click **Publish** to publish the runbook and then **Yes** when prompted.</span></span><br> <span data-ttu-id="bc205-181">![Publiceren](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-181">![Publish](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span></span>
2. <span data-ttu-id="bc205-182">Als u naar links schuift om het runbook weer te geven op de blade **Runbooks**, wordt de **Ontwerpstatus** **Gepubliceerd** getoond.</span><span class="sxs-lookup"><span data-stu-id="bc205-182">If you scroll left to view the runbook in the **Runbooks** blade, it shows an **Authoring Status** of **Published**.</span></span>
3. <span data-ttu-id="bc205-183">Schuif terug naar rechts om de blade voor **MyFirstRunbook** weer te geven.</span><span class="sxs-lookup"><span data-stu-id="bc205-183">Scroll back to the right to view the blade for **MyFirstRunbook**.</span></span>  
   <span data-ttu-id="bc205-184">Met de opties bovenaan kunnen we het runbook starten, plannen dat het op een bepaald moment in de toekomst start of een [webhook](automation-webhooks.md) maken zodat het kan worden gestart via een HTTP-aanroep.</span><span class="sxs-lookup"><span data-stu-id="bc205-184">The options across the top allow us to start the runbook, schedule it to start at some time in the future, or create a [webhook](automation-webhooks.md) so it can be started through an HTTP call.</span></span>
4. <span data-ttu-id="bc205-185">We willen het runbook starten, dus klikt u op **Starten** en vervolgens op **Ja** wanneer hierom wordt gevraagd.</span><span class="sxs-lookup"><span data-stu-id="bc205-185">We just want to start the runbook so click **Start** and then **Yes** when prompted.</span></span><br> <span data-ttu-id="bc205-186">![Runbook starten](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-186">![Start runbook](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span></span>
5. <span data-ttu-id="bc205-187">Er wordt een taakblade geopend voor de runbooktaak die we hebben gemaakt.</span><span class="sxs-lookup"><span data-stu-id="bc205-187">A job blade is opened for the runbook job that we created.</span></span>  <span data-ttu-id="bc205-188">We kunnen deze blade sluiten, maar in dit geval laten we de blade open zodat we de voortgang van de taak kunnen bekijken.</span><span class="sxs-lookup"><span data-stu-id="bc205-188">We can close this blade, but in this case we leave it open so we can watch the job's progress.</span></span>
6. <span data-ttu-id="bc205-189">De taakstatus wordt weergegeven in **Taakoverzicht** en komt overeen met de statuswaarden die we zagen toen we het runbook testten.</span><span class="sxs-lookup"><span data-stu-id="bc205-189">The job status is shown in **Job Summary** and matches the statuses that we saw when we tested the runbook.</span></span><br> <span data-ttu-id="bc205-190">![Taakoverzicht](media/automation-first-runbook-graphical/runbook-job-summary.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-190">![Job Summary](media/automation-first-runbook-graphical/runbook-job-summary.png)</span></span>
7. <span data-ttu-id="bc205-191">Zodra voor het runbook de status *Voltooid* wordt weergegeven, klikt u op **Uitvoer**.</span><span class="sxs-lookup"><span data-stu-id="bc205-191">Once the runbook status shows *Completed*, click **Output**.</span></span> <span data-ttu-id="bc205-192">De blade **Uitvoer** wordt geopend en we zien onze tekst *Hallo wereld* in het deelvenster.</span><span class="sxs-lookup"><span data-stu-id="bc205-192">The **Output** blade is opened, and we can see our *Hello World* in the pane.</span></span><br> <span data-ttu-id="bc205-193">![Taakoverzicht](media/automation-first-runbook-graphical/runbook-job-output.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-193">![Job Summary](media/automation-first-runbook-graphical/runbook-job-output.png)</span></span>  
8. <span data-ttu-id="bc205-194">Sluit de blade Uitvoer.</span><span class="sxs-lookup"><span data-stu-id="bc205-194">Close the Output blade.</span></span>
9. <span data-ttu-id="bc205-195">Klik op **Alle logboeken** om de blade Streams voor de runbooktaak te openen.</span><span class="sxs-lookup"><span data-stu-id="bc205-195">Click **All Logs** to open the Streams blade for the runbook job.</span></span>  <span data-ttu-id="bc205-196">We zouden alleen *Hallo wereld* moeten zien in de uitvoerstroom, maar er kunnen ook andere stromen voor een runbooktaak worden weergegeven, zoals Uitgebreid en Fout als hiernaar wordt geschreven met het runbook.</span><span class="sxs-lookup"><span data-stu-id="bc205-196">We should only see *Hello World* in the output stream, but this can show other streams for a runbook job such as Verbose and Error if the runbook writes to them.</span></span><br> <span data-ttu-id="bc205-197">![Taakoverzicht](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-197">![Job Summary](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span></span>
10. <span data-ttu-id="bc205-198">Sluit de blade Alle logboeken en de blade Taak om terug te gaan naar de blade MyFirstRunbook.</span><span class="sxs-lookup"><span data-stu-id="bc205-198">Close the All Logs blade and the Job blade to return to the MyFirstRunbook blade.</span></span>
11. <span data-ttu-id="bc205-199">Klik op **Taken** om de blade Taken voor dit runbook te openen.</span><span class="sxs-lookup"><span data-stu-id="bc205-199">Click **Jobs** to open the Jobs blade for this runbook.</span></span>  <span data-ttu-id="bc205-200">Op deze blade worden alle taken weergegeven die met dit runbook zijn gemaakt.</span><span class="sxs-lookup"><span data-stu-id="bc205-200">This lists all the jobs created by this runbook.</span></span> <span data-ttu-id="bc205-201">We zouden slechts één weergegeven taak moeten zien, aangezien we de taak slechts eenmaal hebben uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="bc205-201">We should only see one job listed since we only ran the job once.</span></span><br> <span data-ttu-id="bc205-202">![Taken](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-202">![Jobs](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span></span>
12. <span data-ttu-id="bc205-203">U kunt op deze taak klikken om hetzelfde taakvenster te openen dat we hebben bekeken toen we het runbook startten.</span><span class="sxs-lookup"><span data-stu-id="bc205-203">You can click this job to open the same Job pane that we viewed when we started the runbook.</span></span>  <span data-ttu-id="bc205-204">Hiermee kunt u teruggaan in de tijd en de details bekijken van elke taak die voor een bepaald runbook is gemaakt.</span><span class="sxs-lookup"><span data-stu-id="bc205-204">This allows you to go back in time and view the details of any job that was created for a particular runbook.</span></span>

## <a name="step-5---create-variable-assets"></a><span data-ttu-id="bc205-205">Stap 5: variabele assets maken</span><span class="sxs-lookup"><span data-stu-id="bc205-205">Step 5 - Create variable assets</span></span>
<span data-ttu-id="bc205-206">We hebben ons runbook getest en gepubliceerd, maar tot nu toe doet het nog niets nuttigs.</span><span class="sxs-lookup"><span data-stu-id="bc205-206">We've tested and published our runbook, but so far it doesn't do anything useful.</span></span> <span data-ttu-id="bc205-207">We willen dat er Azure-resources mee worden beheerd.</span><span class="sxs-lookup"><span data-stu-id="bc205-207">We want to have it manage Azure resources.</span></span>  <span data-ttu-id="bc205-208">Voordat we het runbook configureren voor verificatie, maken we een variabele die het abonnements-id moet bevatten en verwijzen we hiernaar nadat we de activiteit hebben ingesteld om te verifiëren in stap 6 hieronder.</span><span class="sxs-lookup"><span data-stu-id="bc205-208">Before we configure the runbook to authenticate, we  create a variable to hold the subscription ID and reference it after we set up the activity to authenticate in step 6 below.</span></span>  <span data-ttu-id="bc205-209">Door een verwijzing naar de abonnementscontext op te nemen, kunt u eenvoudig werken met verschillende abonnementen.</span><span class="sxs-lookup"><span data-stu-id="bc205-209">Including a reference to the subscription context allows you to easily work between multiple subscriptions.</span></span>  <span data-ttu-id="bc205-210">Voordat u verdergaat, kopieert u uw abonnements-id uit de optie Abonnementen in het deelvenster Navigatie.</span><span class="sxs-lookup"><span data-stu-id="bc205-210">Before proceeding, copy your subscription ID from the Subscriptions option off the Navigation pane.</span></span>  

1. <span data-ttu-id="bc205-211">Klik op de blade Automation-accounts op de tegel **Assets**. De blade **Assets** wordt geopend.</span><span class="sxs-lookup"><span data-stu-id="bc205-211">In the Automation Accounts blade, click the **Assets** tile and the **Assets** blade is opened.</span></span>
2. <span data-ttu-id="bc205-212">Klik op de blade Assets op de tegel **Variabelen**.</span><span class="sxs-lookup"><span data-stu-id="bc205-212">In the Assets blade, click the **Variables** tile.</span></span>
3. <span data-ttu-id="bc205-213">Klik op de blade Variabelen op **Een variabele toevoegen**.</span><span class="sxs-lookup"><span data-stu-id="bc205-213">On the Variables blade, click **Add a variable**.</span></span><br><span data-ttu-id="bc205-214">![Automation-variabele](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-214">![Automation Variable](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span></span>
4. <span data-ttu-id="bc205-215">Voer op de blade Nieuwe variabele, in het vak **Naam**, **AzureSubscriptionId** in en voer in het vak **Waarde** uw abonnements-id in.</span><span class="sxs-lookup"><span data-stu-id="bc205-215">In the New variable blade, in the **Name** box, enter **AzureSubscriptionId** and in the **Value** box enter your Subscription ID.</span></span>  <span data-ttu-id="bc205-216">Behoud *tekenreeks* voor het **type** en de standaardwaarde voor **Versleuteling**.</span><span class="sxs-lookup"><span data-stu-id="bc205-216">Keep *string* for the **Type** and the default value for **Encryption**.</span></span>  
5. <span data-ttu-id="bc205-217">Klik op **Maken** om de variabele te maken.</span><span class="sxs-lookup"><span data-stu-id="bc205-217">Click **Create** to create the variable.</span></span>  

## <a name="step-6---add-authentication-to-manage-azure-resources"></a><span data-ttu-id="bc205-218">Stap 6: verificatie toevoegen voor het beheren van Azure-resources</span><span class="sxs-lookup"><span data-stu-id="bc205-218">Step 6 - Add authentication to manage Azure resources</span></span>
<span data-ttu-id="bc205-219">Nu we een variabele hebben die onze abonnements-id kan bevatten, kunnen we ons runbook configureren voor verificatie met de Uitvoeren als-referenties waarnaar wordt verwezen in de [vereisten](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="bc205-219">Now that we have a variable to hold our subscription ID, we can configure our runbook to authenticate with the Run As credentials that are referred to in the [prerequisites](#prerequisites).</span></span>  <span data-ttu-id="bc205-220">Dit doen we door de Uitvoeren als-verbinding voor Azure **Asset** en de cmdlet **Add-AzureRMAccount** toe te voegen aan het papier.</span><span class="sxs-lookup"><span data-stu-id="bc205-220">We do that by adding the Azure Run As connection **Asset** and **Add-AzureRMAccount** cmdlet to the canvas.</span></span>  

1. <span data-ttu-id="bc205-221">Open de grafische editor door te klikken op **Bewerken** op de blade MyFirstRunbook.</span><span class="sxs-lookup"><span data-stu-id="bc205-221">Open the graphical editor by clicking **Edit** on the MyFirstRunbook blade.</span></span><br> <span data-ttu-id="bc205-222">![Runbook bewerken](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-222">![Edit runbook](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span></span>
2. <span data-ttu-id="bc205-223">We hebben **Schrijf Hallo Wereld naar uitvoer** niet meer nodig, dus klik er met de rechtermuisknop op en selecteer **Verwijderen**.</span><span class="sxs-lookup"><span data-stu-id="bc205-223">We don't need the **Write Hello World to output** anymore, so right-click it and select **Delete**.</span></span>
3. <span data-ttu-id="bc205-224">Vouw in het besturingselement Bibliotheek **Verbindingen** uit en voeg **AzureRunAsConnection** toe aan het papier door **Toevoegen aan papier** te selecteren.</span><span class="sxs-lookup"><span data-stu-id="bc205-224">In the Library control, expand **Connections** and add **AzureRunAsConnection** to the canvas by selecting **Add to canvas**.</span></span>
4. <span data-ttu-id="bc205-225">Selecteer op het papier **AzureRunAsConnection** en typ in het besturingselementvenster Configuratie **Uitvoeren als-verbinding ophalen** in het tekstvak **Label**.</span><span class="sxs-lookup"><span data-stu-id="bc205-225">On the canvas, select **AzureRunAsConnection** and in the Configuration control pane, type **Get Run As Connection** in the **Label** textbox.</span></span>  <span data-ttu-id="bc205-226">Dit is de verbinding.</span><span class="sxs-lookup"><span data-stu-id="bc205-226">This is the connection</span></span>
5. <span data-ttu-id="bc205-227">Typ in het besturingselement Bibliotheek **Add-AzureRmAccount** in het zoektekstvak.</span><span class="sxs-lookup"><span data-stu-id="bc205-227">In the Library control, type **Add-AzureRmAccount** in the search textbox.</span></span>
6. <span data-ttu-id="bc205-228">Voeg **Add-AzureRmAccount** toe aan het papier.</span><span class="sxs-lookup"><span data-stu-id="bc205-228">Add **Add-AzureRmAccount** to the canvas.</span></span><br> <span data-ttu-id="bc205-229">![Add-AzureRMAccount](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-229">![Add-AzureRMAccount](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span></span>
7. <span data-ttu-id="bc205-230">Beweeg de muisaanwijzer over **Uitvoeren als-verbinding ophalen** totdat een cirkel wordt weergegeven aan de onderkant van de vorm.</span><span class="sxs-lookup"><span data-stu-id="bc205-230">Hover over **Get Run As Connection** until a circle appears on the bottom of the shape.</span></span> <span data-ttu-id="bc205-231">Klik op de cirkel en sleep de pijl naar **Add-AzureRmAccount**.</span><span class="sxs-lookup"><span data-stu-id="bc205-231">Click the circle and drag the arrow to **Add-AzureRmAccount**.</span></span>  <span data-ttu-id="bc205-232">De pijl die u hebt gemaakt, is een *koppeling*.</span><span class="sxs-lookup"><span data-stu-id="bc205-232">The arrow that you created is a *link*.</span></span>  <span data-ttu-id="bc205-233">Het runbook wordt gestart met **Uitvoeren als-verbinding ophalen** en vervolgens wordt **Add-AzureRmAccount** uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="bc205-233">The runbook starts with **Get Run As Connection** and then run **Add-AzureRmAccount**.</span></span><br> <span data-ttu-id="bc205-234">![Koppeling tussen activiteiten maken](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-234">![Create link between activities](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span></span>
8. <span data-ttu-id="bc205-235">Selecteer op het papier **Add-AzureRmAccount** en typ in het besturingselementvenster Configuratie **Aanmelden bij Azure** in het tekstvak **Label**.</span><span class="sxs-lookup"><span data-stu-id="bc205-235">On the canvas, select **Add-AzureRmAccount** and in the Configuration control pane type **Login to Azure** in the **Label** textbox.</span></span>
9. <span data-ttu-id="bc205-236">Klik op **Parameters**, waarna de blade Parameterconfiguratie van activiteit wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="bc205-236">Click **Parameters** and the Activity Parameter Configuration blade appears.</span></span>
10. <span data-ttu-id="bc205-237">**Add-AzureRmAccount** bevat meerdere parametersets, dus moeten we er een selecteren voordat we parameterwaarden kunnen opgeven.</span><span class="sxs-lookup"><span data-stu-id="bc205-237">**Add-AzureRmAccount** has multiple parameter sets, so we need to select one before we can provide parameter values.</span></span>  <span data-ttu-id="bc205-238">Klik op **Parameterset** en selecteer vervolgens de parameterset **ServicePrincipalCertificatewithSubscriptionId**.</span><span class="sxs-lookup"><span data-stu-id="bc205-238">Click **Parameter Set** and then select the **ServicePrincipalCertificatewithSubscriptionId** parameter set.</span></span>
11. <span data-ttu-id="bc205-239">Zodra u de parameterset hebt geselecteerd, worden de parameters weergegeven op de blade Parameterconfiguratie van activiteit.</span><span class="sxs-lookup"><span data-stu-id="bc205-239">Once you select the parameter set, the parameters are displayed in the Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="bc205-240">Klik op **APPLICATIONID**.</span><span class="sxs-lookup"><span data-stu-id="bc205-240">Click **APPLICATIONID**.</span></span><br> <span data-ttu-id="bc205-241">![Parameters voor Azure RM-account toevoegen](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-241">![Add Azure RM account parameters](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span></span>
12. <span data-ttu-id="bc205-242">Selecteer op de blade Parameterwaarde de optie **Uitvoer van activiteit** voor de **gegevensbron** en selecteer **Uitvoeren als-verbinding ophalen** in de lijst. In het tekstvak **Pad naar veld** typt u **ApplicationId** en vervolgens klikt u op **OK**.</span><span class="sxs-lookup"><span data-stu-id="bc205-242">In the Parameter Value blade, select **Activity output** for the **Data source** and select **Get Run As Connection** from the list, in the **Field path** textbox type **ApplicationId**, and then click **OK**.</span></span>  <span data-ttu-id="bc205-243">We geven de naam van de eigenschap voor het pad naar het veld op omdat de uitvoer van de activiteit een object met meerdere eigenschappen bevat.</span><span class="sxs-lookup"><span data-stu-id="bc205-243">We are specifying the name of the property for the Field path because the activity outputs an object with multiple properties.</span></span>
13. <span data-ttu-id="bc205-244">Klik op **CERTIFICATETHUMBPRINT** en selecteer op de blade Parameterwaarde de optie **Uitvoer van activiteit** voor de **gegevensbron**.</span><span class="sxs-lookup"><span data-stu-id="bc205-244">Click **CERTIFICATETHUMBPRINT**, and in the Parameter Value blade, select **Activity output** for the **Data source**.</span></span>  <span data-ttu-id="bc205-245">Selecteer **Uitvoeren als-verbinding ophalen** in de lijst, typ in het tekstvak **Pad naar veld** **CertificateThumbprint** en klik vervolgens op **OK**.</span><span class="sxs-lookup"><span data-stu-id="bc205-245">Select **Get Run As Connection** from the list, in the **Field path** textbox type **CertificateThumbprint**, and then click **OK**.</span></span>
14. <span data-ttu-id="bc205-246">Klik op **SERVICEPRINCIPAL** en selecteer op de blade Parameterwaarde **ConstantValue** voor de **gegevensbron**, klik op de optie **Waar** en klik vervolgens op **OK**.</span><span class="sxs-lookup"><span data-stu-id="bc205-246">Click **SERVICEPRINCIPAL**, and in the Parameter Value blade, select **ConstantValue** for the **Data source**, click the option **True**, and then click **OK**.</span></span>
15. <span data-ttu-id="bc205-247">Klik op **TENANTID** en selecteer op de blade Parameterwaarde de optie **Uitvoer van activiteit** voor de **gegevensbron**.</span><span class="sxs-lookup"><span data-stu-id="bc205-247">Click **TENANTID**, and in the Parameter Value blade, select **Activity output** for the **Data source**.</span></span>  <span data-ttu-id="bc205-248">Selecteer **Uitvoeren als-verbinding ophalen** in de lijst, typ in het tekstvak **Pad naar veld** **TenantId** en klik vervolgens tweemaal op **OK**.</span><span class="sxs-lookup"><span data-stu-id="bc205-248">Select **Get Run As Connection** from the list, in the **Field path** textbox type **TenantId**, and then click **OK** twice.</span></span>  
16. <span data-ttu-id="bc205-249">Typ in het besturingselement Bibliotheek **Set-AzureRmContext** in het zoektekstvak.</span><span class="sxs-lookup"><span data-stu-id="bc205-249">In the Library control, type **Set-AzureRmContext** in the search textbox.</span></span>
17. <span data-ttu-id="bc205-250">Voeg **Set-AzureRmContext** toe aan het papier.</span><span class="sxs-lookup"><span data-stu-id="bc205-250">Add **Set-AzureRmContext** to the canvas.</span></span>
18. <span data-ttu-id="bc205-251">Selecteer op het papier **Set-AzureRmContext** en typ in het besturingselementvenster Configuratie **Abonnements-id opgeven** in het tekstvak **Label**.</span><span class="sxs-lookup"><span data-stu-id="bc205-251">On the canvas, select **Set-AzureRmContext** and in the Configuration control pane type **Specify Subscription Id** in the **Label** textbox.</span></span>
19. <span data-ttu-id="bc205-252">Klik op **Parameters**, waarna de blade Parameterconfiguratie van activiteit wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="bc205-252">Click **Parameters** and the Activity Parameter Configuration blade appears.</span></span>
20. <span data-ttu-id="bc205-253">**Set-AzureRmContext** bevat meerdere parametersets, dus moeten we er een selecteren voordat we parameterwaarden kunnen opgeven.</span><span class="sxs-lookup"><span data-stu-id="bc205-253">**Set-AzureRmContext** has multiple parameter sets, so we need to select one before we can provide parameter values.</span></span>  <span data-ttu-id="bc205-254">Klik op **Parameterset** en selecteer vervolgens de parameterset **SubscriptionId**.</span><span class="sxs-lookup"><span data-stu-id="bc205-254">Click **Parameter Set** and then select the **SubscriptionId** parameter set.</span></span>  
21. <span data-ttu-id="bc205-255">Zodra u de parameterset hebt geselecteerd, worden de parameters weergegeven op de blade Parameterconfiguratie van activiteit.</span><span class="sxs-lookup"><span data-stu-id="bc205-255">Once you select the parameter set, the parameters are displayed in the Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="bc205-256">Klik op **SubscriptionID**.</span><span class="sxs-lookup"><span data-stu-id="bc205-256">Click **SubscriptionID**</span></span>
22. <span data-ttu-id="bc205-257">Selecteer op de blade Parameterwaarde de optie **Variabeleasset** voor de **gegevensbron** en selecteer **AzureSubscriptionId** in de lijst en klik vervolgens tweemaal op **OK**.</span><span class="sxs-lookup"><span data-stu-id="bc205-257">In the Parameter Value blade, select **Variable Asset** for the **Data source** and select **AzureSubscriptionId** from the list and then click **OK** twice.</span></span>   
23. <span data-ttu-id="bc205-258">Beweeg de muisaanwijzer over **Aanmelden bij Azure** totdat een cirkel wordt weergegeven aan de onderkant van de vorm.</span><span class="sxs-lookup"><span data-stu-id="bc205-258">Hover over **Login to Azure** until a circle appears on the bottom of the shape.</span></span> <span data-ttu-id="bc205-259">Klik op de cirkel en sleep de pijl naar **Abonnements-id opgeven**.</span><span class="sxs-lookup"><span data-stu-id="bc205-259">Click the circle and drag the arrow to **Specify Subscription Id**.</span></span>

<span data-ttu-id="bc205-260">Uw runbook zou er op dit punt als volgt moeten uitzien:</span><span class="sxs-lookup"><span data-stu-id="bc205-260">Your runbook should look like the following at this point:</span></span> <br>![Configuratie runbookverificatie](media/automation-first-runbook-graphical/runbook-auth-config.png)

## <a name="step-7---add-activity-to-start-a-virtual-machine"></a><span data-ttu-id="bc205-262">Stap 7: activiteit toevoegen om een virtuele machine te starten</span><span class="sxs-lookup"><span data-stu-id="bc205-262">Step 7 - Add activity to start a virtual machine</span></span>
<span data-ttu-id="bc205-263">Hier voegen we een activiteit **Start-AzureRmVM** toe om een virtuele machine te starten.</span><span class="sxs-lookup"><span data-stu-id="bc205-263">Here we add a **Start-AzureRmVM** activity to start a virtual machine.</span></span>  <span data-ttu-id="bc205-264">U kunt elke virtuele machine in uw Azure-abonnement selecteren en voorlopig hardcoderen we deze naam in de cmdlet.</span><span class="sxs-lookup"><span data-stu-id="bc205-264">You can pick any virtual machine in your Azure subscription, and for now you hardcode that name into the cmdlet.</span></span>

1. <span data-ttu-id="bc205-265">Typ in het besturingselement Bibliotheek **Start-AzureRm** in het zoektekstvak.</span><span class="sxs-lookup"><span data-stu-id="bc205-265">In the Library control, type **Start-AzureRm** in the search textbox.</span></span>
2. <span data-ttu-id="bc205-266">Voeg **Start-AzureRmVM** toe aan het papier, klik erop en sleep het onder **Abonnements-id opgeven**.</span><span class="sxs-lookup"><span data-stu-id="bc205-266">Add **Start-AzureRmVM** to the canvas and then click and drag it underneath **Specify Subscription Id**.</span></span>
3. <span data-ttu-id="bc205-267">Beweeg de muisaanwijzer over **Abonnements-id opgeven** totdat een cirkel wordt weergegeven aan de onderkant van de vorm.</span><span class="sxs-lookup"><span data-stu-id="bc205-267">Hover over **Specify Subscription Id** until a circle appears on the bottom of the shape.</span></span>  <span data-ttu-id="bc205-268">Klik op de cirkel en sleep de pijl naar **Start-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="bc205-268">Click the circle and drag the arrow to **Start-AzureRmVM**.</span></span>
4. <span data-ttu-id="bc205-269">Selecteer **Start-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="bc205-269">Select **Start-AzureRmVM**.</span></span>  <span data-ttu-id="bc205-270">Klik op **Parameters** en vervolgens op **Parameterset** om de sets voor **Start-AzureRmVM** weer te geven.</span><span class="sxs-lookup"><span data-stu-id="bc205-270">Click **Parameters** and then **Parameter Set** to view the sets for **Start-AzureRmVM**.</span></span>  <span data-ttu-id="bc205-271">Selecteer de parameterset **ResourceGroupNameParameterSetName**.</span><span class="sxs-lookup"><span data-stu-id="bc205-271">Select the **ResourceGroupNameParameterSetName** parameter set.</span></span> <span data-ttu-id="bc205-272">Naast **ResourceGroupName** en **Name** staan uitroeptekens.</span><span class="sxs-lookup"><span data-stu-id="bc205-272">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="bc205-273">Hiermee wordt aangegeven dat dit vereiste parameters zijn.</span><span class="sxs-lookup"><span data-stu-id="bc205-273">This indicates that they are required parameters.</span></span>  <span data-ttu-id="bc205-274">Voor beide parameters worden tekenreekswaarden verwacht.</span><span class="sxs-lookup"><span data-stu-id="bc205-274">Also note both expect string values.</span></span>
5. <span data-ttu-id="bc205-275">Selecteer **Name**.</span><span class="sxs-lookup"><span data-stu-id="bc205-275">Select **Name**.</span></span>  <span data-ttu-id="bc205-276">Selecteer **PowerShell-expressie** bij **Gegevensbron** en typ tussen dubbele aanhalingstekens de naam van de virtuele machine die we met dit runbook gaan starten.</span><span class="sxs-lookup"><span data-stu-id="bc205-276">Select **PowerShell expression** for the **Data source** and type in the name of the virtual machine surrounded with double quotes that we start with this runbook.</span></span>  <span data-ttu-id="bc205-277">Klik op **OK**.</span><span class="sxs-lookup"><span data-stu-id="bc205-277">Click **OK**.</span></span><br><span data-ttu-id="bc205-278">![Start-AzureRmVM Naam Parameter Waarde](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-278">![Start-AzureRmVM Name Parameter Value](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span></span>
6. <span data-ttu-id="bc205-279">Selecteer **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="bc205-279">Select **ResourceGroupName**.</span></span> <span data-ttu-id="bc205-280">Gebruik **PowerShell-expressie** voor de **gegevensbron** en typ de naam van de resourcegroep tussen dubbele aanhalingstekens.</span><span class="sxs-lookup"><span data-stu-id="bc205-280">Use **PowerShell expression** for the **Data source** and type in the name of the resource group surrounded with double quotes.</span></span>  <span data-ttu-id="bc205-281">Klik op **OK**.</span><span class="sxs-lookup"><span data-stu-id="bc205-281">Click **OK**.</span></span><br> <span data-ttu-id="bc205-282">![Start-AzureRmVM-parameters](media/automation-first-runbook-graphical/startazurermvm-params.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-282">![Start-AzureRmVM Parameters](media/automation-first-runbook-graphical/startazurermvm-params.png)</span></span>
7. <span data-ttu-id="bc205-283">Klik op Testvenster zodat we het runbook kunnen testen.</span><span class="sxs-lookup"><span data-stu-id="bc205-283">Click Test pane so that we can test the runbook.</span></span>
8. <span data-ttu-id="bc205-284">Klik op **Start** om de test te starten.</span><span class="sxs-lookup"><span data-stu-id="bc205-284">Click **Start** to start the test.</span></span>  <span data-ttu-id="bc205-285">Nadat deze is voltooid, controleert u of de virtuele machine is gestart.</span><span class="sxs-lookup"><span data-stu-id="bc205-285">Once it completes, check that the virtual machine was started.</span></span>

<span data-ttu-id="bc205-286">Uw runbook zou er op dit punt als volgt moeten uitzien:</span><span class="sxs-lookup"><span data-stu-id="bc205-286">Your runbook should look like the following at this point:</span></span> <br>![Configuratie runbookverificatie](media/automation-first-runbook-graphical/runbook-startvm.png)

## <a name="step-8---add-additional-input-parameters-to-the-runbook"></a><span data-ttu-id="bc205-288">Stap 8: aanvullende invoerparameters toevoegen aan het runbook</span><span class="sxs-lookup"><span data-stu-id="bc205-288">Step 8 - Add additional input parameters to the runbook</span></span>
<span data-ttu-id="bc205-289">Met ons runbook wordt op dit moment de virtuele machine gestart in de resourcegroep die we hebben opgegeven in de cmdlet **Start-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="bc205-289">Our runbook currently starts the virtual machine in the resource group that we specified in the **Start-AzureRmVM** cmdlet.</span></span>  <span data-ttu-id="bc205-290">Ons runbook zou nuttiger zijn als we beide namen konden opgeven op het moment dat het runbook wordt gestart.</span><span class="sxs-lookup"><span data-stu-id="bc205-290">Our runbook would be more useful if we could specify both when the runbook is started.</span></span>  <span data-ttu-id="bc205-291">We gaan daarom invoerparameters toevoegen aan het runbook om deze functionaliteit te bieden.</span><span class="sxs-lookup"><span data-stu-id="bc205-291">We now add input parameters to the runbook to provide that functionality.</span></span>

1. <span data-ttu-id="bc205-292">Open de grafische editor door te klikken op **Bewerken** in het deelvenster **MyFirstRunbook**.</span><span class="sxs-lookup"><span data-stu-id="bc205-292">Open the graphical editor by clicking **Edit** on the **MyFirstRunbook** pane.</span></span>
2. <span data-ttu-id="bc205-293">Klik op **Invoer en uitvoer** en vervolgens op **Invoer toevoegen** om het deelvenster Invoerparameter van runbook te openen.</span><span class="sxs-lookup"><span data-stu-id="bc205-293">Click **Input and output** and then **Add input** to open the Runbook Input Parameter pane.</span></span><br> <span data-ttu-id="bc205-294">![Invoer en uitvoer van runbook](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-294">![Runbook Input and Output](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span></span>
3. <span data-ttu-id="bc205-295">Geef *VMName* op voor de **Naam**.</span><span class="sxs-lookup"><span data-stu-id="bc205-295">Specify *VMName* for the **Name**.</span></span>  <span data-ttu-id="bc205-296">Behoud *tekenreeks* voor het **type**, maar wijzig **Verplicht** in *Ja*.</span><span class="sxs-lookup"><span data-stu-id="bc205-296">Keep *string* for the **Type**, but change **Mandatory** to *Yes*.</span></span>  <span data-ttu-id="bc205-297">Klik op **OK**.</span><span class="sxs-lookup"><span data-stu-id="bc205-297">Click **OK**.</span></span>
4. <span data-ttu-id="bc205-298">Maak een tweede verplichte invoerparameter met de naam *ResourceGroupName* en klik vervolgens op **OK** om het venster **Invoer en uitvoer** te sluiten.</span><span class="sxs-lookup"><span data-stu-id="bc205-298">Create a second mandatory input parameter called *ResourceGroupName* and then click **OK** to close the **Input and Output** pane.</span></span><br> <span data-ttu-id="bc205-299">![Invoerparameters voor runbook](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-299">![Runbook Input Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span></span>
5. <span data-ttu-id="bc205-300">Selecteer de activiteit **Start-AzureRmVM** en klik vervolgens op **Parameters**.</span><span class="sxs-lookup"><span data-stu-id="bc205-300">Select the **Start-AzureRmVM** activity and then click **Parameters**.</span></span>
6. <span data-ttu-id="bc205-301">Wijzig de **gegevensbron** voor **Name** in **Runbookinvoer** en selecteer vervolgens **VMName**.</span><span class="sxs-lookup"><span data-stu-id="bc205-301">Change the **Data source** for **Name** to **Runbook input** and then select **VMName**.</span></span><br>
7. <span data-ttu-id="bc205-302">Wijzig de **gegevensbron** voor **ResourceGroupName** in **Runbookinvoer** en selecteer vervolgens **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="bc205-302">Change the **Data source** for **ResourceGroupName** to **Runbook input** and then select **ResourceGroupName**.</span></span><br> <span data-ttu-id="bc205-303">![Start-AzureVM-parameters](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-303">![Start-AzureVM Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span></span>
8. <span data-ttu-id="bc205-304">Sla het runbook op en open het testvenster.</span><span class="sxs-lookup"><span data-stu-id="bc205-304">Save the runbook and open the Test pane.</span></span>  <span data-ttu-id="bc205-305">U kunt nu waarden opgeven voor de twee invoervariabelen die in de test worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="bc205-305">Note that you can now provide values for the two input variables that you use in the test.</span></span>
9. <span data-ttu-id="bc205-306">Sluit het testvenster.</span><span class="sxs-lookup"><span data-stu-id="bc205-306">Close the Test pane.</span></span>
10. <span data-ttu-id="bc205-307">Klik op **Publiceren** om de nieuwe versie van het runbook te publiceren.</span><span class="sxs-lookup"><span data-stu-id="bc205-307">Click **Publish** to publish the new version of the runbook.</span></span>
11. <span data-ttu-id="bc205-308">Stop de virtuele machine die u in de vorige stap hebt gestart.</span><span class="sxs-lookup"><span data-stu-id="bc205-308">Stop the virtual machine that you started in the previous step.</span></span>
12. <span data-ttu-id="bc205-309">Klik op **Starten** om het runbook te starten.</span><span class="sxs-lookup"><span data-stu-id="bc205-309">Click **Start** to start the runbook.</span></span>  <span data-ttu-id="bc205-310">Typ waarden voor **VMName** en **ResourceGroupName** voor de virtuele machine die u wilt starten.</span><span class="sxs-lookup"><span data-stu-id="bc205-310">Type in the **VMName** and **ResourceGroupName** for the virtual machine that you're going to start.</span></span><br> <span data-ttu-id="bc205-311">![Runbook starten](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-311">![Start Runbook](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span></span>
13. <span data-ttu-id="bc205-312">Wanneer het runbook is voltooid, controleert u of de virtuele machine is gestart.</span><span class="sxs-lookup"><span data-stu-id="bc205-312">When the runbook completes, check that the virtual machine was started.</span></span>

## <a name="step-9---create-a-conditional-link"></a><span data-ttu-id="bc205-313">Stap 9: een voorwaardelijke koppeling maken</span><span class="sxs-lookup"><span data-stu-id="bc205-313">Step 9 - Create a conditional link</span></span>
<span data-ttu-id="bc205-314">We zullen het runbook nu wijzigen zodat alleen wordt geprobeerd de virtuele machine te starten als deze nog niet is gestart.</span><span class="sxs-lookup"><span data-stu-id="bc205-314">We now modify the runbook so that it only attempts to start the virtual machine if it is not already started.</span></span>  <span data-ttu-id="bc205-315">We doen dit door een cmdlet **Get-AzureRmVM** toe te voegen aan het runbook waarmee de exemplaarniveaustatus van de virtuele machine wordt opgehaald.</span><span class="sxs-lookup"><span data-stu-id="bc205-315">You do this by adding a **Get-AzureRmVM** cmdlet to the runbook that gets the instance level status of the virtual machine.</span></span> <span data-ttu-id="bc205-316">We voegen vervolgens een PowerShell Workflow-codemodule genaamd **Status ophalen** toe met een PowerShell-codefragment om te bepalen of de status van de virtuele machine 'actief' of 'gestopt' is.</span><span class="sxs-lookup"><span data-stu-id="bc205-316">Then you add a PowerShell Workflow code module called **Get Status** with a snippet of PowerShell code to determine if the virtual machine state is running or stopped.</span></span>  <span data-ttu-id="bc205-317">Met een voorwaardelijke koppeling van de module **Status ophalen** wordt **Start-AzureRmVM** alleen uitgevoerd als de huidige uitvoeringsstatus 'gestopt' is.</span><span class="sxs-lookup"><span data-stu-id="bc205-317">A conditional link from the **Get Status** module only runs **Start-AzureRmVM** if the current running state is stopped.</span></span>  <span data-ttu-id="bc205-318">Ten slotte zorgen we dat een bericht wordt weergegeven waarin staat of de virtuele machine is gestart of niet, met de PowerShell-cmdlet Write-Output.</span><span class="sxs-lookup"><span data-stu-id="bc205-318">Finally, we output a message to inform you if the VM was successfully started or not using the PowerShell Write-Output cmdlet.</span></span>

1. <span data-ttu-id="bc205-319">Open **MyFirstRunbook** in de grafische editor.</span><span class="sxs-lookup"><span data-stu-id="bc205-319">Open **MyFirstRunbook** in the graphical editor.</span></span>
2. <span data-ttu-id="bc205-320">Verwijder de koppeling tussen **Abonnements-id opgeven** en **Start-AzureRmVM** door erop te klikken en vervolgens te drukken op de toets *Delete*.</span><span class="sxs-lookup"><span data-stu-id="bc205-320">Remove the link between **Specify Subscription Id** and **Start-AzureRmVM** by clicking on it and then pressing the *Delete* key.</span></span>
3. <span data-ttu-id="bc205-321">Typ in het besturingselement Bibliotheek **Get-AzureRm** in het zoektekstvak.</span><span class="sxs-lookup"><span data-stu-id="bc205-321">In the Library control, type **Get-AzureRm** in the search textbox.</span></span>
4. <span data-ttu-id="bc205-322">Voeg **Get-AzureRmVM** toe aan het papier.</span><span class="sxs-lookup"><span data-stu-id="bc205-322">Add **Get-AzureRmVM** to the canvas.</span></span>
5. <span data-ttu-id="bc205-323">Selecteer **Get-AzureRmVM** en vervolgens **Parameterset** om de sets voor **Get-AzureRmVM** weer te geven.</span><span class="sxs-lookup"><span data-stu-id="bc205-323">Select **Get-AzureRmVM** and then **Parameter Set** to view the sets for **Get-AzureRmVM**.</span></span>  <span data-ttu-id="bc205-324">Selecteer de parameterset **GetVirtualMachineInResourceGroupNameParamSet**.</span><span class="sxs-lookup"><span data-stu-id="bc205-324">Select the **GetVirtualMachineInResourceGroupNameParamSet** parameter set.</span></span>  <span data-ttu-id="bc205-325">Naast **ResourceGroupName** en **Name** staan uitroeptekens.</span><span class="sxs-lookup"><span data-stu-id="bc205-325">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="bc205-326">Hiermee wordt aangegeven dat dit vereiste parameters zijn.</span><span class="sxs-lookup"><span data-stu-id="bc205-326">This indicates that they are required parameters.</span></span>  <span data-ttu-id="bc205-327">Voor beide parameters worden tekenreekswaarden verwacht.</span><span class="sxs-lookup"><span data-stu-id="bc205-327">Also note both expect string values.</span></span>
6. <span data-ttu-id="bc205-328">Selecteer onder **Gegevensbron** voor **Name** de optie **Runbookinvoer** en selecteer vervolgens **VMName**.</span><span class="sxs-lookup"><span data-stu-id="bc205-328">Under **Data source** for **Name**, select **Runbook input** and then select **VMName**.</span></span>  <span data-ttu-id="bc205-329">Klik op **OK**.</span><span class="sxs-lookup"><span data-stu-id="bc205-329">Click **OK**.</span></span>
7. <span data-ttu-id="bc205-330">Selecteer onder **Gegevensbron** voor **ResourceGroupName** de optie **Runbookinvoer** en selecteer vervolgens **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="bc205-330">Under **Data source** for **ResourceGroupName**, select **Runbook input** and then select **ResourceGroupName**.</span></span>  <span data-ttu-id="bc205-331">Klik op **OK**.</span><span class="sxs-lookup"><span data-stu-id="bc205-331">Click **OK**.</span></span>
8. <span data-ttu-id="bc205-332">Selecteer onder **Gegevensbron** voor **Status** de optie **Constante waarde** en klik vervolgens op **Waar**.</span><span class="sxs-lookup"><span data-stu-id="bc205-332">Under **Data source** for **Status**, select **Constant value** and then click  **True**.</span></span>  <span data-ttu-id="bc205-333">Klik op **OK**.</span><span class="sxs-lookup"><span data-stu-id="bc205-333">Click **OK**.</span></span>  
9. <span data-ttu-id="bc205-334">Maak een koppeling van **Abonnements-id opgeven** naar **Get-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="bc205-334">Create a link from **Specify Subscription Id** to **Get-AzureRmVM**.</span></span>
10. <span data-ttu-id="bc205-335">Vouw in het besturingselement Bibliotheek **Runbookbesturing** uit en voeg **Code** toe aan het papier.</span><span class="sxs-lookup"><span data-stu-id="bc205-335">In the library control, expand **Runbook Control** and add **Code** to the canvas.</span></span>  
11. <span data-ttu-id="bc205-336">Maak een koppeling van **Get-AzureRmVM** naar **Code**.</span><span class="sxs-lookup"><span data-stu-id="bc205-336">Create a link from **Get-AzureRmVM** to **Code**.</span></span>  
12. <span data-ttu-id="bc205-337">Klik op **Code** en wijzig in het deelvenster Configuratie het label in **Status ophalen**.</span><span class="sxs-lookup"><span data-stu-id="bc205-337">Click **Code** and in the Configuration pane, change label to **Get Status**.</span></span>
13. <span data-ttu-id="bc205-338">Selecteer de parameter **Code**, waarna de blade **Code-editor** wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="bc205-338">Select **Code** parameter, and the **Code Editor** blade appears.</span></span>  
14. <span data-ttu-id="bc205-339">Plak het volgende codefragment in de code-editor:</span><span class="sxs-lookup"><span data-stu-id="bc205-339">In the code editor, paste the following snippet of code:</span></span>
    
     ```
     $StatusesJson = $ActivityOutput['Get-AzureRmVM'].StatusesText
     $Statuses = ConvertFrom-Json $StatusesJson
     $StatusOut =""
     foreach ($Status in $Statuses){
     if($Status.Code -eq "Powerstate/running"){$StatusOut = "running"}
     elseif ($Status.Code -eq "Powerstate/deallocated") {$StatusOut = "stopped"}
     }
     $StatusOut
     ```
15. <span data-ttu-id="bc205-340">Maak een koppeling van **Status ophalen** naar **Start-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="bc205-340">Create a link from **Get Status** to **Start-AzureRmVM**.</span></span><br> <span data-ttu-id="bc205-341">![Runbook met codemodule](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-341">![Runbook with Code Module](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span></span>  
16. <span data-ttu-id="bc205-342">Selecteer de koppeling en wijzig in het deelvenster Configuratie **Voorwaarde toepassen** in **Ja**.</span><span class="sxs-lookup"><span data-stu-id="bc205-342">Select the link and in the Configuration pane, change **Apply condition** to **Yes**.</span></span>   <span data-ttu-id="bc205-343">De koppeling wordt een gestreepte lijn waarmee wordt aangegeven dat de doelactiviteit alleen wordt uitgevoerd als de voorwaarde 'waar' is.</span><span class="sxs-lookup"><span data-stu-id="bc205-343">Note the link turns to a dashed line indicating that the target activity only runs if the condition resolves to true.</span></span>  
17. <span data-ttu-id="bc205-344">Voor **Expressie van voorwaarde** typt u *$ActivityOutput['Get Status'] -eq "Stopped"*.</span><span class="sxs-lookup"><span data-stu-id="bc205-344">For the **Condition expression**, type *$ActivityOutput['Get Status'] -eq "Stopped"*.</span></span>  <span data-ttu-id="bc205-345">**Start-AzureRmVM** wordt nu alleen uitgevoerd als de virtuele machine is gestopt.</span><span class="sxs-lookup"><span data-stu-id="bc205-345">**Start-AzureRmVM** now only runs if the virtual machine is stopped.</span></span>
18. <span data-ttu-id="bc205-346">Vouw in het besturingselement Bibliotheek **Cmdlets** uit en vervolgens **Microsoft.PowerShell.Utility**.</span><span class="sxs-lookup"><span data-stu-id="bc205-346">In the Library control, expand **Cmdlets** and then **Microsoft.PowerShell.Utility**.</span></span>
19. <span data-ttu-id="bc205-347">Voeg **Write-Output** tweemaal aan het papier toe.</span><span class="sxs-lookup"><span data-stu-id="bc205-347">Add **Write-Output** to the canvas twice.</span></span><br> <span data-ttu-id="bc205-348">![Runbook met Write-Output](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span><span class="sxs-lookup"><span data-stu-id="bc205-348">![Runbook with Write-Output](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span></span>
20. <span data-ttu-id="bc205-349">In het eerste besturingselement **Write-Output** klikt u op **Parameters** en wijzigt u de waarde voor **Label** in *VM gestart melden*.</span><span class="sxs-lookup"><span data-stu-id="bc205-349">On the first **Write-Output** control, click **Parameters** and change the **Label** value to *Notify VM Started*.</span></span>
21. <span data-ttu-id="bc205-350">Voor **InputObject** wijzigt u **Gegevensbron** in **PowerShell-expressie** en typt u de expressie *"$VMName successfully started."*.</span><span class="sxs-lookup"><span data-stu-id="bc205-350">For **InputObject**, change **Data source** to **PowerShell expression** and type in the expression *"$VMName successfully started."*.</span></span>
22. <span data-ttu-id="bc205-351">In het tweede besturingselement **Write-Output** klikt u op **Parameters** en wijzigt u de waarde voor **Label** in *Starten VM mislukt melden*.</span><span class="sxs-lookup"><span data-stu-id="bc205-351">On the second **Write-Output** control, click **Parameters** and change the **Label** value to *Notify VM Start Failed*</span></span>
23. <span data-ttu-id="bc205-352">Voor **InputObject** wijzigt u **Gegevensbron** in **PowerShell-expressie** en typt u de expressie *"$VMName could not start."*.</span><span class="sxs-lookup"><span data-stu-id="bc205-352">For **InputObject**, change **Data source** to **PowerShell expression** and type in the expression *"$VMName could not start."*.</span></span>
24. <span data-ttu-id="bc205-353">Maak een koppeling van **Start-AzureRmVM** naar **VM gestart melden** en **Starten VM mislukt melden**.</span><span class="sxs-lookup"><span data-stu-id="bc205-353">Create a link from **Start-AzureRmVM** to **Notify VM Started** and **Notify VM Start Failed**.</span></span>
25. <span data-ttu-id="bc205-354">Selecteer de koppeling naar **VM gestart melden** en wijzig **Voorwaarde toepassen** in **Waar**.</span><span class="sxs-lookup"><span data-stu-id="bc205-354">Select the link to **Notify VM Started** and change **Apply condition** to **True**.</span></span>
26. <span data-ttu-id="bc205-355">Voor **Expressie van voorwaarde** typt u *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true*.</span><span class="sxs-lookup"><span data-stu-id="bc205-355">For the **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true*.</span></span>  <span data-ttu-id="bc205-356">Dit besturingselement Write-Output wordt nu alleen uitgevoerd als de virtuele machine is gestart.</span><span class="sxs-lookup"><span data-stu-id="bc205-356">This Write-Output control now only runs if the virtual machine is successfully started.</span></span>
27. <span data-ttu-id="bc205-357">Selecteer de koppeling naar **Starten VM mislukt melden** en wijzig **Voorwaarde toepassen** in **Waar**.</span><span class="sxs-lookup"><span data-stu-id="bc205-357">Select the link to **Notify VM Start Failed** and change **Apply condition** to **True**.</span></span>
28. <span data-ttu-id="bc205-358">Voor **Expressie van voorwaarde** typt u *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true*.</span><span class="sxs-lookup"><span data-stu-id="bc205-358">For the **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true*.</span></span>  <span data-ttu-id="bc205-359">Dit besturingselement Write-Output wordt nu alleen uitgevoerd als de virtuele machine niet is gestart.</span><span class="sxs-lookup"><span data-stu-id="bc205-359">This Write-Output control now only runs if the virtual machine is not successfully started.</span></span>
29. <span data-ttu-id="bc205-360">Sla het runbook op en open het testvenster.</span><span class="sxs-lookup"><span data-stu-id="bc205-360">Save the runbook and open the Test pane.</span></span>
30. <span data-ttu-id="bc205-361">Start het runbook als de virtuele machine is gestopt; deze zou moeten starten.</span><span class="sxs-lookup"><span data-stu-id="bc205-361">Start the runbook with the virtual machine stopped, and it should start.</span></span>

## <a name="next-steps"></a><span data-ttu-id="bc205-362">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="bc205-362">Next steps</span></span>
* <span data-ttu-id="bc205-363">Zie voor meer informatie over grafisch ontwerpen [Grafisch ontwerpen in Azure Automation](automation-graphical-authoring-intro.md)</span><span class="sxs-lookup"><span data-stu-id="bc205-363">To learn more about Graphical Authoring, see [Graphical authoring in Azure Automation](automation-graphical-authoring-intro.md)</span></span>
* <span data-ttu-id="bc205-364">Zie [Mijn eerste PowerShell-runbook](automation-first-runbook-textual-powershell.md) om aan de slag te gaan met PowerShell-runbooks</span><span class="sxs-lookup"><span data-stu-id="bc205-364">To get started with PowerShell runbooks, see [My first PowerShell runbook](automation-first-runbook-textual-powershell.md)</span></span>
* <span data-ttu-id="bc205-365">Zie [Mijn eerste PowerShell Workflow-runbook](automation-first-runbook-textual.md) om aan de slag te gaan met PowerShell Workflow-runbooks</span><span class="sxs-lookup"><span data-stu-id="bc205-365">To get started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span>

