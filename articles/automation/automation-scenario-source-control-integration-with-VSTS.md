---
title: Azure Automation aaaIntegrate met broncodebeheer Visual Stuido Team Services | Microsoft Docs
description: Scenario begeleidt u bij het instellen van integratie met een Azure Automation-account en de bronbeheer Visual Stuido Team Services.
services: automation
documentationcenter: 
author: eamono
manager: 
editor: 
keywords: Azure powershell, VSTS, bronbeheer, automation
ms.assetid: a43b395a-e740-41a3-ae62-40eac9d0ec00
ms.service: automation
ms.workload: infrastructure-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/24/2017
ms.openlocfilehash: 8f6faa596a5ad1f8b72e820ca320b3e103d83579
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-automation-scenario---automation-source-control-integration-with-visual-studio-team-services"></a><span data-ttu-id="160e5-104">Azure Automation-scenario - integratie van broncodebeheer automatisering met Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="160e5-104">Azure Automation scenario - Automation source control integration with Visual Studio Team Services</span></span>

<span data-ttu-id="160e5-105">In dit scenario hebt u een Visual Studio Team Services-project dat u van Azure Automation-runbooks toomanage of DSC-configuraties onder bronbeheer gebruikmaakt.</span><span class="sxs-lookup"><span data-stu-id="160e5-105">In this scenario, you have a Visual Studio Team Services project that you are using toomanage Azure Automation runbooks or DSC configurations under source control.</span></span>
<span data-ttu-id="160e5-106">Dit artikel wordt beschreven hoe toointegrate VSTS met uw Azure Automation-omgeving zodanig dat continue integratie gebeurt voor elke controle in.</span><span class="sxs-lookup"><span data-stu-id="160e5-106">This article describes how toointegrate VSTS with your Azure Automation environment so that continuous integration happens for each check-in.</span></span>

## <a name="getting-hello-scenario"></a><span data-ttu-id="160e5-107">Hallo scenario ophalen</span><span class="sxs-lookup"><span data-stu-id="160e5-107">Getting hello scenario</span></span>

<span data-ttu-id="160e5-108">Dit scenario bestaat uit twee PowerShell-runbooks die u rechtstreeks vanuit Hallo importeren kunt [Runbookgalerie](automation-runbook-gallery.md) in hello Azure-portal of downloaden van Hallo [PowerShell Gallery](https://www.powershellgallery.com).</span><span class="sxs-lookup"><span data-stu-id="160e5-108">This scenario consists of two PowerShell runbooks that you can import directly from hello [Runbook Gallery](automation-runbook-gallery.md) in hello Azure portal or download from hello [PowerShell Gallery](https://www.powershellgallery.com).</span></span>

### <a name="runbooks"></a><span data-ttu-id="160e5-109">Runbooks</span><span class="sxs-lookup"><span data-stu-id="160e5-109">Runbooks</span></span>

<span data-ttu-id="160e5-110">Runbook</span><span class="sxs-lookup"><span data-stu-id="160e5-110">Runbook</span></span> | <span data-ttu-id="160e5-111">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="160e5-111">Description</span></span>| 
--------|------------|
<span data-ttu-id="160e5-112">Synchronisatie-VSTS</span><span class="sxs-lookup"><span data-stu-id="160e5-112">Sync-VSTS</span></span> | <span data-ttu-id="160e5-113">Importeren runbooks of configuraties van broncodebeheer VSTS als een check-in is voltooid.</span><span class="sxs-lookup"><span data-stu-id="160e5-113">Import runbooks or configurations from VSTS source control when a check-in is done.</span></span> <span data-ttu-id="160e5-114">Als u handmatig uitvoert, wordt de importeren en publiceren van alle runbooks of -configuraties in Hallo Automation-account.</span><span class="sxs-lookup"><span data-stu-id="160e5-114">If run manually, it will import and publish all runbooks or configurations into hello Automation account.</span></span>| 
<span data-ttu-id="160e5-115">Synchronisatie VSTSGit</span><span class="sxs-lookup"><span data-stu-id="160e5-115">Sync-VSTSGit</span></span> | <span data-ttu-id="160e5-116">Runbooks of configuraties uit importeren VSTS onder bronbeheer Git als een check-in is voltooid.</span><span class="sxs-lookup"><span data-stu-id="160e5-116">Import runbooks or configurations from VSTS under Git source control when a check-in is done.</span></span> <span data-ttu-id="160e5-117">Als u handmatig uitvoert, wordt de importeren en publiceren van alle runbooks of -configuraties in Hallo Automation-account.</span><span class="sxs-lookup"><span data-stu-id="160e5-117">If run manually, it will import and publish all runbooks or configurations into hello Automation account.</span></span>|

### <a name="variables"></a><span data-ttu-id="160e5-118">Variabelen</span><span class="sxs-lookup"><span data-stu-id="160e5-118">Variables</span></span>

<span data-ttu-id="160e5-119">Variabele</span><span class="sxs-lookup"><span data-stu-id="160e5-119">Variable</span></span> | <span data-ttu-id="160e5-120">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="160e5-120">Description</span></span>|
-----------|------------|
<span data-ttu-id="160e5-121">VSToken</span><span class="sxs-lookup"><span data-stu-id="160e5-121">VSToken</span></span> | <span data-ttu-id="160e5-122">Beveiligde variabelenactivum maakt u met de Hallo VSTS persoonlijke toegangstoken.</span><span class="sxs-lookup"><span data-stu-id="160e5-122">Secure variable asset you will create that contains hello VSTS personal access token.</span></span> <span data-ttu-id="160e5-123">U leert hoe toocreate een VSTS persoonlijke toegang krijgen tot token op Hallo [VSTS verificatiepagina](https://www.visualstudio.com/en-us/docs/integrate/get-started/auth/overview).</span><span class="sxs-lookup"><span data-stu-id="160e5-123">You can learn how toocreate a VSTS personal access token on hello [VSTS authentication page](https://www.visualstudio.com/en-us/docs/integrate/get-started/auth/overview).</span></span> 
## <a name="installing-and-configuring-this-scenario"></a><span data-ttu-id="160e5-124">Dit scenario installeren en configureren</span><span class="sxs-lookup"><span data-stu-id="160e5-124">Installing and configuring this scenario</span></span>

<span data-ttu-id="160e5-125">Maak een [persoonlijke toegangstoken](https://www.visualstudio.com/en-us/docs/integrate/get-started/auth/overview) in VSTS die u toosync hello runbooks of -configuraties in uw automation-account gebruikt.</span><span class="sxs-lookup"><span data-stu-id="160e5-125">Create a [personal access token](https://www.visualstudio.com/en-us/docs/integrate/get-started/auth/overview) in VSTS that you will use toosync hello runbooks or configurations into your automation account.</span></span>

![](media/automation-scenario-source-control-integration-with-VSTS/VSTSPersonalToken.png) 

<span data-ttu-id="160e5-126">Maak een [beveiligde variabele](automation-variables.md) in uw automation-account toohold Hallo personal access token zodat Hallo runbook tooVSTS en sync Hallo runbooks of -configuraties in Hallo Automation-account kan worden geverifieerd.</span><span class="sxs-lookup"><span data-stu-id="160e5-126">Create a [secure variable](automation-variables.md) in your automation account toohold hello personal access token so that hello runbook can authenticate tooVSTS and sync hello runbooks or configurations into hello Automation account.</span></span> <span data-ttu-id="160e5-127">U kunt deze VSToken naam.</span><span class="sxs-lookup"><span data-stu-id="160e5-127">You can name this VSToken.</span></span> 

![](media/automation-scenario-source-control-integration-with-VSTS/VSTSTokenVariable.png)

<span data-ttu-id="160e5-128">Runbook importeren Hallo uw runbooks of -configuraties in Hallo automation-account moeten worden gesynchroniseerd.</span><span class="sxs-lookup"><span data-stu-id="160e5-128">Import hello runbook that will sync your runbooks or configurations into hello automation account.</span></span> <span data-ttu-id="160e5-129">Kunt u Hallo [VSTS voorbeeldrunbook](https://www.powershellgallery.com/packages/Sync-VSTS/1.0/DisplayScript) of Hallo [VSTS met Git voorbeeldrunbook] (https://www.powershellgallery.com/packages/Sync-VSTSGit/1.0/DisplayScript) vanuit Hallo PowerShellGallery.com afhankelijk van of u VSTS gebruiken Source control of VSTS met Git en implementeren van tooyour automation-account.</span><span class="sxs-lookup"><span data-stu-id="160e5-129">You can use hello [VSTS sample runbook](https://www.powershellgallery.com/packages/Sync-VSTS/1.0/DisplayScript) or hello [VSTS with Git sample runbook] (https://www.powershellgallery.com/packages/Sync-VSTSGit/1.0/DisplayScript) from hello PowerShellGallery.com depending on if you use VSTS source control or VSTS with Git and deploy tooyour automation account.</span></span>

![](media/automation-scenario-source-control-integration-with-VSTS/VSTSPowerShellGallery.png)

<span data-ttu-id="160e5-130">U kunt nu [publiceren](automation-creating-importing-runbook.md#publishing-a-runbook) dit runbook zodat u kunt een webhook maken.</span><span class="sxs-lookup"><span data-stu-id="160e5-130">You can now [publish](automation-creating-importing-runbook.md#publishing-a-runbook) this runbook so you can create a webhook.</span></span> 
![](media/automation-scenario-source-control-integration-with-VSTS/VSTSPublishRunbook.png)

<span data-ttu-id="160e5-131">Maak een [webhook](automation-webhooks.md) voor deze runbook-synchronisatie VSTS en vul Hallo parameters zoals hieronder wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="160e5-131">Create a [webhook](automation-webhooks.md) for this Sync-VSTS runbook and fill in hello parameters as shown below.</span></span> <span data-ttu-id="160e5-132">Zorg ervoor dat u Hallo webhook-url kopiÃ«ren als u deze nodig voor een service haakje in VSTS.</span><span class="sxs-lookup"><span data-stu-id="160e5-132">Make sure you copy hello webhook url as you will need it for a service hook in VSTS.</span></span> <span data-ttu-id="160e5-133">Hallo VSAccessTokenVariableName is Hallo-naam (VSToken) van beveiligde Hallo-variabele die u eerder toohold Hallo persoonlijke toegangstoken gemaakt.</span><span class="sxs-lookup"><span data-stu-id="160e5-133">hello VSAccessTokenVariableName is hello name (VSToken) of hello secure variable that you created earlier toohold hello personal access token.</span></span> 

<span data-ttu-id="160e5-134">Integratie met VSTS (Sync-VSTS.ps1), duurt Hallo parameters te volgen.</span><span class="sxs-lookup"><span data-stu-id="160e5-134">Integrating with VSTS (Sync-VSTS.ps1) will take hello following parameters.</span></span>
### <a name="sync-vsts-parameters"></a><span data-ttu-id="160e5-135">Synchronisatie-VSTS Parameters</span><span class="sxs-lookup"><span data-stu-id="160e5-135">Sync-VSTS Parameters</span></span>

<span data-ttu-id="160e5-136">Parameter</span><span class="sxs-lookup"><span data-stu-id="160e5-136">Parameter</span></span> | <span data-ttu-id="160e5-137">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="160e5-137">Description</span></span>| 
--------|------------|
<span data-ttu-id="160e5-138">WebhookData</span><span class="sxs-lookup"><span data-stu-id="160e5-138">WebhookData</span></span> | <span data-ttu-id="160e5-139">Dit bevat Hallo inchecken informatie verzonden van Hallo VSTS service haakje.</span><span class="sxs-lookup"><span data-stu-id="160e5-139">This will contain hello checkin information sent from hello VSTS service hook.</span></span> <span data-ttu-id="160e5-140">U moet deze parameter leeg laten.</span><span class="sxs-lookup"><span data-stu-id="160e5-140">You should leave this parameter blank.</span></span>| 
<span data-ttu-id="160e5-141">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="160e5-141">ResourceGroup</span></span> | <span data-ttu-id="160e5-142">Dit is de naam Hallo van resourcegroep Hallo die Hallo automation-account in.</span><span class="sxs-lookup"><span data-stu-id="160e5-142">This is hello name of hello resource group that hello automation account is in.</span></span>|
<span data-ttu-id="160e5-143">AutomationAccountName</span><span class="sxs-lookup"><span data-stu-id="160e5-143">AutomationAccountName</span></span> | <span data-ttu-id="160e5-144">Hallo-naam van Hallo automation-account met VSTS moeten worden gesynchroniseerd.</span><span class="sxs-lookup"><span data-stu-id="160e5-144">hello name of hello automation account that will sync with VSTS.</span></span>|
<span data-ttu-id="160e5-145">VSFolder</span><span class="sxs-lookup"><span data-stu-id="160e5-145">VSFolder</span></span> | <span data-ttu-id="160e5-146">De naam van de map Hallo in VSTS waar Hallo runbooks en configuraties bestaan.</span><span class="sxs-lookup"><span data-stu-id="160e5-146">The name of hello folder in VSTS where hello runbooks and configurations exist.</span></span>|
<span data-ttu-id="160e5-147">VSAccount</span><span class="sxs-lookup"><span data-stu-id="160e5-147">VSAccount</span></span> | <span data-ttu-id="160e5-148">de naam van de Hallo Hallo Visual Studio Team Services-account.</span><span class="sxs-lookup"><span data-stu-id="160e5-148">hello name of hello Visual Studio Team Services account.</span></span>| 
<span data-ttu-id="160e5-149">VSAccessTokenVariableName</span><span class="sxs-lookup"><span data-stu-id="160e5-149">VSAccessTokenVariableName</span></span> | <span data-ttu-id="160e5-150">Hallo naam van Hallo beveiligde variabele (VSToken) die Hallo VSTS persoonlijke toegangstoken bevat.</span><span class="sxs-lookup"><span data-stu-id="160e5-150">hello name of hello secure variable (VSToken) that holds hello VSTS personal access token.</span></span>| 


![](media/automation-scenario-source-control-integration-with-VSTS/VSTSWebhook.png)

<span data-ttu-id="160e5-151">Als u van VSTS met GIT (Sync-VSTSGit.ps1 gebruikmaakt) wordt uitgevoerd, Hallo parameters te volgen.</span><span class="sxs-lookup"><span data-stu-id="160e5-151">If you are using VSTS with GIT (Sync-VSTSGit.ps1) it will take hello following parameters.</span></span>

<span data-ttu-id="160e5-152">Parameter</span><span class="sxs-lookup"><span data-stu-id="160e5-152">Parameter</span></span> | <span data-ttu-id="160e5-153">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="160e5-153">Description</span></span>|
--------|------------|
<span data-ttu-id="160e5-154">WebhookData</span><span class="sxs-lookup"><span data-stu-id="160e5-154">WebhookData</span></span> | <span data-ttu-id="160e5-155">Dit bevat Hallo inchecken informatie verzonden van Hallo VSTS service haakje.</span><span class="sxs-lookup"><span data-stu-id="160e5-155">This will contain hello checkin information sent from hello VSTS service hook.</span></span> <span data-ttu-id="160e5-156">U moet deze parameter leeg laten.</span><span class="sxs-lookup"><span data-stu-id="160e5-156">You should leave this parameter blank.</span></span>| <span data-ttu-id="160e5-157">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="160e5-157">ResourceGroup</span></span> | <span data-ttu-id="160e5-158">Deze naam Hallo van resourcegroep Hallo die Hallo automation-account in.</span><span class="sxs-lookup"><span data-stu-id="160e5-158">This hello name of hello resource group that hello automation account is in.</span></span>|
<span data-ttu-id="160e5-159">AutomationAccountName</span><span class="sxs-lookup"><span data-stu-id="160e5-159">AutomationAccountName</span></span> | <span data-ttu-id="160e5-160">Hallo-naam van Hallo automation-account met VSTS moeten worden gesynchroniseerd.</span><span class="sxs-lookup"><span data-stu-id="160e5-160">hello name of hello automation account that will sync with VSTS.</span></span>|
<span data-ttu-id="160e5-161">VSAccount</span><span class="sxs-lookup"><span data-stu-id="160e5-161">VSAccount</span></span> | <span data-ttu-id="160e5-162">de naam van de Hallo Hallo Visual Studio Team Services-account.</span><span class="sxs-lookup"><span data-stu-id="160e5-162">hello name of hello Visual Studio Team Services account.</span></span>|
<span data-ttu-id="160e5-163">VSProject</span><span class="sxs-lookup"><span data-stu-id="160e5-163">VSProject</span></span> | <span data-ttu-id="160e5-164">Hallo-naam van Hallo-project in VSTS waar Hallo runbooks en configuraties bestaan.</span><span class="sxs-lookup"><span data-stu-id="160e5-164">hello name of hello project in VSTS where hello runbooks and configurations exist.</span></span>|
<span data-ttu-id="160e5-165">GitRepo</span><span class="sxs-lookup"><span data-stu-id="160e5-165">GitRepo</span></span> | <span data-ttu-id="160e5-166">Hallo-naam van Hallo Git-opslagplaats.</span><span class="sxs-lookup"><span data-stu-id="160e5-166">hello name of hello Git repository.</span></span>|
<span data-ttu-id="160e5-167">GitBranch</span><span class="sxs-lookup"><span data-stu-id="160e5-167">GitBranch</span></span> | <span data-ttu-id="160e5-168">Hallo-naam van de vertakking Hallo in VSTS Git-opslagplaats.</span><span class="sxs-lookup"><span data-stu-id="160e5-168">hello name of hello branch in VSTS Git repository.</span></span>|
<span data-ttu-id="160e5-169">Map</span><span class="sxs-lookup"><span data-stu-id="160e5-169">Folder</span></span> | <span data-ttu-id="160e5-170">Hallo-naam van Hallo-map in VSTS Git vertakking.</span><span class="sxs-lookup"><span data-stu-id="160e5-170">hello name of hello folder in VSTS Git branch.</span></span>|
<span data-ttu-id="160e5-171">VSAccessTokenVariableName</span><span class="sxs-lookup"><span data-stu-id="160e5-171">VSAccessTokenVariableName</span></span> | <span data-ttu-id="160e5-172">Hallo naam van Hallo beveiligde variabele (VSToken) die Hallo VSTS persoonlijke toegangstoken bevat.</span><span class="sxs-lookup"><span data-stu-id="160e5-172">hello name of hello secure variable (VSToken) that holds hello VSTS personal access token.</span></span>|

![](media/automation-scenario-source-control-integration-with-VSTS/VSTSGitWebhook.png)

<span data-ttu-id="160e5-173">Maak een haakje service in VSTS voor controle-modules toohello map waarmee deze webhook bij code controle wordt geactiveerd.</span><span class="sxs-lookup"><span data-stu-id="160e5-173">Create a service hook in VSTS for check-ins toohello folder that triggers this webhook on code check-in.</span></span> <span data-ttu-id="160e5-174">Selecteer Web Hiermee als Hallo service toointegrate met wanneer u een nieuw abonnement maakt.</span><span class="sxs-lookup"><span data-stu-id="160e5-174">Select Web Hooks as hello service toointegrate with when you create a new subscription.</span></span> <span data-ttu-id="160e5-175">Voor meer informatie over service hooks op [VSTS Service Hooks documentatie](https://www.visualstudio.com/en-us/docs/marketplace/integrate/service-hooks/get-started).</span><span class="sxs-lookup"><span data-stu-id="160e5-175">You can learn more about service hooks on [VSTS Service Hooks documentation](https://www.visualstudio.com/en-us/docs/marketplace/integrate/service-hooks/get-started).</span></span>
![](media/automation-scenario-source-control-integration-with-VSTS/VSTSServiceHook.png)

<span data-ttu-id="160e5-176">U zou nu kunnen toodo alle controle-modules van uw runbooks en de configuraties in VSTS zijn en deze automatisch gesynchroniseerd was in uw automation-account.</span><span class="sxs-lookup"><span data-stu-id="160e5-176">You should now be able toodo all check-ins of your runbooks and configurations into VSTS and have these automatically syncâd into your automation account.</span></span>

![](media/automation-scenario-source-control-integration-with-VSTS/VSTSSyncRunbookOutput.png)

<span data-ttu-id="160e5-177">Als u dit runbook handmatig uitvoert zonder wordt geactiveerd door VSTS, kunt u Hallo webhookdata parameter leeg laten en doet een volledige synchronisatie van Hallo VSTS map die is opgegeven.</span><span class="sxs-lookup"><span data-stu-id="160e5-177">If you run this runbook manually without being triggered by VSTS, you can leave hello webhookdata parameter empty and it will do a full sync from hello VSTS folder specified.</span></span>

<span data-ttu-id="160e5-178">Als u wenst toouninstall Hallo scenario, Hallo service haakje verwijderen uit VSTS, Hallo runbook en Hallo VSToken variabele verwijderen.</span><span class="sxs-lookup"><span data-stu-id="160e5-178">If you wish toouninstall hello scenario, remove hello service hook from VSTS, delete hello runbook, and hello VSToken variable.</span></span>
