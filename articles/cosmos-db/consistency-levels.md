---
title: Consistentieniveaus in Azure Cosmos DB | Microsoft Docs
description: Azure Cosmos DB heeft vijf consistentieniveaus te verdelen uiteindelijke consistentie, beschikbaarheid en latentie-en nadelen.
keywords: uiteindelijke consistentie azure cosmos db, azure, Microsoft azure
services: cosmos-db
author: mimig1
manager: jhubbard
editor: cgronlun
documentationcenter: 
ms.assetid: 3fe51cfa-a889-4a4a-b320-16bf871fe74c
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/16/2017
ms.author: mimig
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: a1ebec2285982c70aa9dc49950769fe18e2e2d0d
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/03/2017
---
# <a name="tunable-data-consistency-levels-in-azure-cosmos-db"></a><span data-ttu-id="c4c19-104">Gegevens instelbare consistentieniveaus in Azure Cosmos-DB</span><span class="sxs-lookup"><span data-stu-id="c4c19-104">Tunable data consistency levels in Azure Cosmos DB</span></span>
<span data-ttu-id="c4c19-105">Azure Cosmos DB is compleet met globale verdeling in gedachten voor elke gegevensmodel ontworpen.</span><span class="sxs-lookup"><span data-stu-id="c4c19-105">Azure Cosmos DB is designed from the ground up with global distribution in mind for every data model.</span></span> <span data-ttu-id="c4c19-106">Het is ontworpen om voorspelbare lage latentie garanties, een SLA van 99,99% beschikbaarheid en meerdere goed gedefinieerde beperkte consistentie modellen bieden.</span><span class="sxs-lookup"><span data-stu-id="c4c19-106">It is designed to offer predictable low latency guarantees, a 99.99% availability SLA, and multiple well-defined relaxed consistency models.</span></span> <span data-ttu-id="c4c19-107">Op dit moment Azure Cosmos DB bevat vijf consistentieniveaus: sterk, gebonden-verouderd, sessie, consistente voorvoegsel en uiteindelijk.</span><span class="sxs-lookup"><span data-stu-id="c4c19-107">Currently, Azure Cosmos DB provides five consistency levels: strong, bounded-staleness, session, consistent prefix, and eventual.</span></span> 

<span data-ttu-id="c4c19-108">Naast **sterk** en **uiteindelijke consistentie** modellen vaak aangeboden door gedistribueerde databases Azure Cosmos DB biedt drie meer zorgvuldig gecodeerd en geoperationaliseerd consistentie modellen en heeft hun nut tegen werkelijkheid gebruiksvoorbeelden gevalideerd.</span><span class="sxs-lookup"><span data-stu-id="c4c19-108">Besides **strong** and **eventual consistency** models commonly offered by distributed databases, Azure Cosmos DB offers three more carefully codified and operationalized consistency models, and has validated their usefulness against real world use cases.</span></span> <span data-ttu-id="c4c19-109">Dit zijn de **gebonden veroudering**, **sessie**, en **consistent voorvoegsel** consistentieniveaus.</span><span class="sxs-lookup"><span data-stu-id="c4c19-109">These are the **bounded staleness**, **session**, and **consistent prefix** consistency levels.</span></span> <span data-ttu-id="c4c19-110">Gezamenlijk kunnen deze vijf consistentieniveaus u afweging goed gemotiveerd tussen de consistentie, beschikbaarheid en latentie.</span><span class="sxs-lookup"><span data-stu-id="c4c19-110">Collectively these five consistency levels enable you to make well-reasoned trade-offs between consistency, availability, and latency.</span></span> 

## <a name="distributed-databases-and-consistency"></a><span data-ttu-id="c4c19-111">Gedistribueerde databases en consistentie</span><span class="sxs-lookup"><span data-stu-id="c4c19-111">Distributed databases and consistency</span></span>
<span data-ttu-id="c4c19-112">Commerciële gedistribueerde databases kunnen worden onderverdeeld in twee categorieën: databases die helemaal geen duidelijk omschreven, waarschijnlijke consistentiekeuzes bieden en databases die twee mogelijkheden voor extreme programmeerbaarheid bieden (sterke versus mogelijke consistentie).</span><span class="sxs-lookup"><span data-stu-id="c4c19-112">Commercial distributed databases fall into two categories: databases that do not offer well-defined, provable consistency choices at all, and databases which offer two extreme programmability choices (strong vs. eventual consistency).</span></span> 

<span data-ttu-id="c4c19-113">In het eerste geval moeten ontwikkelaars van toepassingen gedetailleerde instellingen opgeven voor hun replicatieprotocollen en moeten ze lastige keuzes maken om een juiste balans te vinden tussen consistentie, beschikbaarheid, latentie en doorvoer.</span><span class="sxs-lookup"><span data-stu-id="c4c19-113">The former burdens application developers with minutia of their replication protocols and expects them to make difficult tradeoffs between consistency, availability, latency, and throughput.</span></span> <span data-ttu-id="c4c19-114">In het laatste geval moet een keuze worden gemaakt tussen twee extreme varianten.</span><span class="sxs-lookup"><span data-stu-id="c4c19-114">The latter puts a pressure to choose one of the two extremes.</span></span> <span data-ttu-id="c4c19-115">Ondanks de overvloed aan onderzoek en voorstellen voor meer dan 50 consistentiemodellen, is de community van gedistribueerde databases er niet in geslaagd om consistentieniveaus voorbij 'sterk' en 'mogelijk' commercieel geaccepteerd te krijgen.</span><span class="sxs-lookup"><span data-stu-id="c4c19-115">Despite the abundance of research and proposals for more than 50 consistency models, the distributed database community has not been able to commercialize consistency levels beyond strong and eventual consistency.</span></span> <span data-ttu-id="c4c19-116">Cosmos DB kan ontwikkelaars kiezen tussen vijf goed gedefinieerde consistentie modellen langs de consistentie spectrum – sterk, gebonden veroudering [sessie](http://dl.acm.org/citation.cfm?id=383631), consistente voorvoegsel en uiteindelijk.</span><span class="sxs-lookup"><span data-stu-id="c4c19-116">Cosmos DB allows developers to choose between five well-defined consistency models along the consistency spectrum – strong, bounded staleness, [session](http://dl.acm.org/citation.cfm?id=383631), consistent prefix, and eventual.</span></span> 

![Azure Cosmos DB biedt een keuze uit verschillende, duidelijk omschreven (minder nauwkeurige) consistentiemodellen](./media/consistency-levels/five-consistency-levels.png)

<span data-ttu-id="c4c19-118">In de volgende tabel ziet u de specifieke garanties die horen bij elk consistentieniveau.</span><span class="sxs-lookup"><span data-stu-id="c4c19-118">The following table illustrates the specific guarantees each consistency level provides.</span></span>
 
<span data-ttu-id="c4c19-119">**Consistentieniveaus en bijbehorende garanties**</span><span class="sxs-lookup"><span data-stu-id="c4c19-119">**Consistency Levels and guarantees**</span></span>

| <span data-ttu-id="c4c19-120">Consistentieniveau</span><span class="sxs-lookup"><span data-stu-id="c4c19-120">Consistency Level</span></span> | <span data-ttu-id="c4c19-121">Garanties</span><span class="sxs-lookup"><span data-stu-id="c4c19-121">Guarantees</span></span> |
| --- | --- |
| <span data-ttu-id="c4c19-122">Sterk</span><span class="sxs-lookup"><span data-stu-id="c4c19-122">Strong</span></span> | <span data-ttu-id="c4c19-123">Linearisabiliteit</span><span class="sxs-lookup"><span data-stu-id="c4c19-123">Linearizability</span></span> |
| <span data-ttu-id="c4c19-124">Gebonden veroudering</span><span class="sxs-lookup"><span data-stu-id="c4c19-124">Bounded Staleness</span></span> | <span data-ttu-id="c4c19-125">Consistent prefix.</span><span class="sxs-lookup"><span data-stu-id="c4c19-125">Consistent Prefix.</span></span> <span data-ttu-id="c4c19-126">Leesbewerkingen volgen op schrijfbewerkingen met k prefixen of t interval</span><span class="sxs-lookup"><span data-stu-id="c4c19-126">Reads lag behind writes by k prefixes or t interval</span></span> |
| <span data-ttu-id="c4c19-127">Sessie</span><span class="sxs-lookup"><span data-stu-id="c4c19-127">Session</span></span>   | <span data-ttu-id="c4c19-128">Consistent prefix.</span><span class="sxs-lookup"><span data-stu-id="c4c19-128">Consistent Prefix.</span></span> <span data-ttu-id="c4c19-129">Monotone leesbewerkingen, monotone schrijfbewerkingen, read-your-writes, write-follows-reads</span><span class="sxs-lookup"><span data-stu-id="c4c19-129">Monotonic reads, monotonic writes, read-your-writes, write-follows-reads</span></span> |
| <span data-ttu-id="c4c19-130">Consistent prefix</span><span class="sxs-lookup"><span data-stu-id="c4c19-130">Consistent Prefix</span></span> | <span data-ttu-id="c4c19-131">Geretourneerde updates zijn een prefix van alle updates, zonder hiaten</span><span class="sxs-lookup"><span data-stu-id="c4c19-131">Updates returned are some prefix of all the updates, with no gaps</span></span> |
| <span data-ttu-id="c4c19-132">Mogelijk</span><span class="sxs-lookup"><span data-stu-id="c4c19-132">Eventual</span></span>  | <span data-ttu-id="c4c19-133">Leesbewerkingen vinden niet op volgorde plaats</span><span class="sxs-lookup"><span data-stu-id="c4c19-133">Out of order reads</span></span> |

<span data-ttu-id="c4c19-134">U kunt het standaardconsistentieniveau configureren in uw Cosmos DB-account (en de consistentie later voor een specifieke aanvraag overschrijven).</span><span class="sxs-lookup"><span data-stu-id="c4c19-134">You can configure the default consistency level on your Cosmos DB account (and later override the consistency on a specific read request).</span></span> <span data-ttu-id="c4c19-135">Intern, geldt het standaardniveau voor consistentie voor gegevens in de partitiesets die mogelijk span regio's.</span><span class="sxs-lookup"><span data-stu-id="c4c19-135">Internally, the default consistency level applies to data within the partition sets which may span regions.</span></span> <span data-ttu-id="c4c19-136">Ongeveer 73% van onze tenants gebruik sessieconsistentie en 20% liever gebonden veroudering.</span><span class="sxs-lookup"><span data-stu-id="c4c19-136">About 73% of our tenants use session consistency and 20% prefer bounded staleness.</span></span> <span data-ttu-id="c4c19-137">We zien dat ongeveer 3% van onze klanten met verschillende consistentieniveaus in eerste instantie experimenteren voordat op een specifieke consistentie keuze voor de toepassing.</span><span class="sxs-lookup"><span data-stu-id="c4c19-137">We observe that approximately 3% of our customers experiment with various consistency levels initially before settling on a specific consistency choice for their application.</span></span> <span data-ttu-id="c4c19-138">We merkt ook dat alleen 2% van onze tenants consistentieniveaus op basis van per aanvraag negeren.</span><span class="sxs-lookup"><span data-stu-id="c4c19-138">We also observe that only 2% of our tenants override consistency levels on a per request basis.</span></span> 

<span data-ttu-id="c4c19-139">Leesbewerkingen geleverd op consistente voorvoegsel-sessie en uiteindelijke consistentie zijn twee keer als goedkope als leesbewerkingen met sterke of gebonden veroudering consistentie in Cosmos-database.</span><span class="sxs-lookup"><span data-stu-id="c4c19-139">In Cosmos DB, reads served at session, consistent prefix and eventual consistency are twice as cheap as reads with strong or bounded staleness consistency.</span></span> <span data-ttu-id="c4c19-140">Cosmos DB heeft toonaangevende uitgebreide 99,99% serviceovereenkomsten inclusief consistentie wordt gegarandeerd samen met de beschikbaarheid, doorvoer en latentie.</span><span class="sxs-lookup"><span data-stu-id="c4c19-140">Cosmos DB has industry leading comprehensive 99.99% SLAs including consistency guarantees along with availability, throughput, and latency.</span></span> <span data-ttu-id="c4c19-141">Gebruiken we een [linearizability checker](http://dl.acm.org/citation.cfm?id=1806634), dat continu werkt via onze service Telemetrie en openbaar rapporteert eventuele schendingen consistentie voor u.</span><span class="sxs-lookup"><span data-stu-id="c4c19-141">We employ a [linearizability checker](http://dl.acm.org/citation.cfm?id=1806634), which continuously operates over our service telemetry and openly reports any consistency violations to you.</span></span> <span data-ttu-id="c4c19-142">Voor gebonden veroudering we controleren en eventuele schendingen op k en t grenzen te rapporteren.</span><span class="sxs-lookup"><span data-stu-id="c4c19-142">For bounded staleness, we monitor and report any violations to k and t bounds.</span></span> <span data-ttu-id="c4c19-143">Voor alle vijf beperkte consistentieniveaus, we ook rapporteren de [probabilistische gebonden veroudering metriek](http://dl.acm.org/citation.cfm?id=2212359) voor u.</span><span class="sxs-lookup"><span data-stu-id="c4c19-143">For all five relaxed consistency levels, we also report the [probabilistic bounded staleness metric](http://dl.acm.org/citation.cfm?id=2212359) directly to you.</span></span>  

## <a name="scope-of-consistency"></a><span data-ttu-id="c4c19-144">Bereik van de consistentie</span><span class="sxs-lookup"><span data-stu-id="c4c19-144">Scope of consistency</span></span>
<span data-ttu-id="c4c19-145">De granulatie van de consistentie is afgestemd op een aanvraag voor één gebruiker.</span><span class="sxs-lookup"><span data-stu-id="c4c19-145">The granularity of consistency is scoped to a single user request.</span></span> <span data-ttu-id="c4c19-146">Een schrijfaanvraag mogelijk komen overeen met een insert, replace, upsert of te verwijderen van de transactie.</span><span class="sxs-lookup"><span data-stu-id="c4c19-146">A write request may correspond to an insert, replace, upsert, or delete transaction.</span></span> <span data-ttu-id="c4c19-147">Net als bij schrijfbewerkingen en is ook een lezen/query transactie afgestemd op een aanvraag voor één gebruiker.</span><span class="sxs-lookup"><span data-stu-id="c4c19-147">As with writes, a read/query transaction is also scoped to a single user request.</span></span> <span data-ttu-id="c4c19-148">De gebruiker mogelijk moet pagineren via een grote resultatenset, spanning meerdere partities, maar elke transactie is afgestemd op één pagina en aangeboden via binnen één partitie gelezen.</span><span class="sxs-lookup"><span data-stu-id="c4c19-148">The user may be required to paginate over a large result-set, spanning multiple partitions, but each read transaction is scoped to a single page and served from within a single partition.</span></span>

## <a name="consistency-levels"></a><span data-ttu-id="c4c19-149">Consistentieniveaus</span><span class="sxs-lookup"><span data-stu-id="c4c19-149">Consistency levels</span></span>
<span data-ttu-id="c4c19-150">U kunt een standaardniveau voor consistentiecontrole configureren op uw databaseaccount die voor alle verzamelingen (en databases geldt) onder uw account Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="c4c19-150">You can configure a default consistency level on your database account that applies to all collections (and databases) under your Cosmos DB account.</span></span> <span data-ttu-id="c4c19-151">Standaard gebruiken alle leesbewerkingen en query's die zijn uitgegeven voor de gebruiker gedefinieerde resources het standaardniveau van de consistentie opgegeven op het account van de database.</span><span class="sxs-lookup"><span data-stu-id="c4c19-151">By default, all reads and queries issued against the user-defined resources use the default consistency level specified on the database account.</span></span> <span data-ttu-id="c4c19-152">U kunt het consistentieniveau van een specifieke lezen/query aanvraag met in elk van de ondersteunde API's versoepelen.</span><span class="sxs-lookup"><span data-stu-id="c4c19-152">You can relax the consistency level of a specific read/query request using in each of the supported APIs.</span></span> <span data-ttu-id="c4c19-153">Er zijn vijf typen ondersteund door het protocol van de replicatie Azure Cosmos DB consistentieniveaus die een duidelijke compromis tussen specifieke consistentie wordt gegarandeerd en prestaties bieden, zoals beschreven in deze sectie.</span><span class="sxs-lookup"><span data-stu-id="c4c19-153">There are five types of consistency levels supported by the Azure Cosmos DB replication protocol that provide a clear trade-off between specific consistency guarantees and performance, as described in this section.</span></span>

<span data-ttu-id="c4c19-154">**Sterke**:</span><span class="sxs-lookup"><span data-stu-id="c4c19-154">**Strong**:</span></span> 

* <span data-ttu-id="c4c19-155">Sterke consistentie biedt een [linearizability](https://aphyr.com/posts/313-strong-consistency-models) garanderen met gelezen gegevens gegarandeerd dat de meest recente versie van een item geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="c4c19-155">Strong consistency offers a [linearizability](https://aphyr.com/posts/313-strong-consistency-models) guarantee with the reads guaranteed to return the most recent version of an item.</span></span> 
* <span data-ttu-id="c4c19-156">Sterke consistentie wordt gegarandeerd dat een schrijfbewerking is alleen zichtbaar nadat deze definitief is vastgelegd door het quorum meerderheid van replica's.</span><span class="sxs-lookup"><span data-stu-id="c4c19-156">Strong consistency guarantees that a write is only visible after it is committed durably by the majority quorum of replicas.</span></span> <span data-ttu-id="c4c19-157">Een schrijfbewerking ofwel synchroon definitief is vastgelegd door zowel de primaire als het quorum van secundaire replica's of deze is afgebroken.</span><span class="sxs-lookup"><span data-stu-id="c4c19-157">A write is either synchronously committed durably by both the primary and the quorum of secondaries, or it is aborted.</span></span> <span data-ttu-id="c4c19-158">Lees altijd wordt bevestigd door de meerderheid quorum lezen, een client nooit het terugschrijven van een niet-doorgevoerde of gedeeltelijke kan zien en altijd de meest recente bevestigde schrijven lezen kan worden gegarandeerd.</span><span class="sxs-lookup"><span data-stu-id="c4c19-158">A read is always acknowledged by the majority read quorum, a client can never see an uncommitted or partial write and is always guaranteed to read the latest acknowledged write.</span></span> 
* <span data-ttu-id="c4c19-159">Azure DB Cosmos-accounts die zijn geconfigureerd voor gebruik van sterke consistentie kunnen niet meer dan één Azure-regio koppelen aan hun Azure DB die Cosmos-account.</span><span class="sxs-lookup"><span data-stu-id="c4c19-159">Azure Cosmos DB accounts that are configured to use strong consistency cannot associate more than one Azure region with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="c4c19-160">De kosten van een leesbewerking (in termen van [aanvraageenheden](request-units.md) verbruikt) met sterke consistentie is hoger dan de sessie en mogelijk, maar dezelfde zijn als gebonden veroudering.</span><span class="sxs-lookup"><span data-stu-id="c4c19-160">The cost of a read operation (in terms of [request units](request-units.md) consumed) with strong consistency is higher than session and eventual, but the same as bounded staleness.</span></span>

<span data-ttu-id="c4c19-161">**Gebonden veroudering**:</span><span class="sxs-lookup"><span data-stu-id="c4c19-161">**Bounded staleness**:</span></span> 

* <span data-ttu-id="c4c19-162">Gebonden veroudering consistentie wordt gegarandeerd dat de leesbewerkingen schrijfbewerkingen door maximaal achterblijven *K* versies of voorvoegsels van een item of *t* tijdsinterval blijft.</span><span class="sxs-lookup"><span data-stu-id="c4c19-162">Bounded staleness consistency guarantees that the reads may lag behind writes by at most *K* versions or prefixes of an item or *t* time-interval.</span></span> 
* <span data-ttu-id="c4c19-163">Daarom bij het kiezen van gebonden veroudering, de 'veroudering' kan worden geconfigureerd op twee manieren: aantal versies *K* van het item waarmee de leesbewerkingen lag achter de geschreven en het tijdsinterval *t*</span><span class="sxs-lookup"><span data-stu-id="c4c19-163">Therefore, when choosing bounded staleness, the "staleness" can be configured in two ways: number of versions *K* of the item by which the reads lag behind the writes, and the time interval *t*</span></span> 
* <span data-ttu-id="c4c19-164">Gebonden veroudering aanbiedingen totale algemene volgorde, behalve binnen het 'veroudering venster'.</span><span class="sxs-lookup"><span data-stu-id="c4c19-164">Bounded staleness offers total global order except within the "staleness window."</span></span> <span data-ttu-id="c4c19-165">De monotone lezen garanties bestaat binnen een regio binnen en buiten het 'veroudering venster."</span><span class="sxs-lookup"><span data-stu-id="c4c19-165">The monotonic read guarantees exists within a region both inside and outside the "staleness window."</span></span> 
* <span data-ttu-id="c4c19-166">Gebonden veroudering biedt een betere consistentie garantie dan sessie of uiteindelijke consistentie.</span><span class="sxs-lookup"><span data-stu-id="c4c19-166">Bounded staleness provides a stronger consistency guarantee than session or eventual consistency.</span></span> <span data-ttu-id="c4c19-167">Globaal gedistribueerde toepassingen, wordt u aangeraden dat u gebonden veroudering gebruiken voor scenario's waarin u sterke consistentie hebben, maar ook wilt 99,99% beschikbaarheid en lage latentie wilt.</span><span class="sxs-lookup"><span data-stu-id="c4c19-167">For globally distributed applications, we recommend you use bounded staleness for scenarios where you would like to have strong consistency but also want 99.99% availability and low latency.</span></span> 
* <span data-ttu-id="c4c19-168">Azure DB Cosmos-accounts die zijn geconfigureerd met consistentie voor gebonden veroudering kunnen een onbeperkt aantal Azure-regio's koppelen aan hun Azure DB die Cosmos-account.</span><span class="sxs-lookup"><span data-stu-id="c4c19-168">Azure Cosmos DB accounts that are configured with bounded staleness consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="c4c19-169">De kosten van een leesbewerking (in termen van RUs verbruikt) met gebonden veroudering is hoger dan de sessie en uiteindelijke consistentie echter hetzelfde als sterke consistentie.</span><span class="sxs-lookup"><span data-stu-id="c4c19-169">The cost of a read operation (in terms of RUs consumed) with bounded staleness is higher than session and eventual consistency, but the same as strong consistency.</span></span>

<span data-ttu-id="c4c19-170">**Sessie**:</span><span class="sxs-lookup"><span data-stu-id="c4c19-170">**Session**:</span></span> 

* <span data-ttu-id="c4c19-171">In tegenstelling tot de globale consistentie modellen die worden aangeboden door sterke en gebonden veroudering consistentieniveaus, heeft een sessieconsistentie bereik op een clientsessie.</span><span class="sxs-lookup"><span data-stu-id="c4c19-171">Unlike the global consistency models offered by strong and bounded staleness consistency levels, session consistency is scoped to a client session.</span></span> 
* <span data-ttu-id="c4c19-172">Sessieconsistentie is ideaal voor alle scenario's waarbij een apparaat of gebruiker sessie omdat garant monotone leest, monotone schrijfbewerkingen en lezen wordt gegarandeerd dat uw eigen schrijfbewerkingen (RYW) is betrokken.</span><span class="sxs-lookup"><span data-stu-id="c4c19-172">Session consistency is ideal for all scenarios where a device or user session is involved since it guarantees monotonic reads, monotonic writes, and read your own writes (RYW) guarantees.</span></span> 
* <span data-ttu-id="c4c19-173">Sessieconsistentie voorziet in voorspelbare consistentie voor een sessie en maximale doorvoer en biedt tegelijkertijd de laagste latentie voor schrijfbewerkingen en leesbewerkingen gelezen.</span><span class="sxs-lookup"><span data-stu-id="c4c19-173">Session consistency provides predictable consistency for a session, and maximum read throughput while offering the lowest latency writes and reads.</span></span> 
* <span data-ttu-id="c4c19-174">Azure DB Cosmos-accounts die zijn geconfigureerd met de sessieconsistentie kunnen een onbeperkt aantal Azure-regio's koppelen aan hun Azure DB die Cosmos-account.</span><span class="sxs-lookup"><span data-stu-id="c4c19-174">Azure Cosmos DB accounts that are configured with session consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="c4c19-175">De kosten van een leesbewerking (in termen van RUs verbruikt) met sessie consistentieniveau is kleiner dan sterk en gebonden veroudering, maar meer dan uiteindelijke consistentie</span><span class="sxs-lookup"><span data-stu-id="c4c19-175">The cost of a read operation (in terms of RUs consumed) with session consistency level is less than strong and bounded staleness, but more than eventual consistency</span></span>

<span data-ttu-id="c4c19-176"><a id="consistent-prefix"></a>
**Consistente voorvoegsel**:</span><span class="sxs-lookup"><span data-stu-id="c4c19-176"><a id="consistent-prefix"></a>
**Consistent Prefix**:</span></span> 

* <span data-ttu-id="c4c19-177">Consistente voorvoegsel wordt gegarandeerd dat zolang er verder geen schrijfbewerkingen, de replica's binnen de groep uiteindelijk geconvergeerd.</span><span class="sxs-lookup"><span data-stu-id="c4c19-177">Consistent prefix guarantees that in absence of any further writes, the replicas within the group eventually converge.</span></span> 
* <span data-ttu-id="c4c19-178">Consistente voorvoegsel wordt gegarandeerd dat leesbewerkingen nooit volgorde schrijfbewerkingen te zien.</span><span class="sxs-lookup"><span data-stu-id="c4c19-178">Consistent prefix guarantees that reads never see out of order writes.</span></span> <span data-ttu-id="c4c19-179">Als schrijfbewerkingen zijn uitgevoerd in de volgorde `A, B, C`, en vervolgens een client een ziet `A`, `A,B`, of `A,B,C`, maar nooit volgorde zoals `A,C` of `B,A,C`.</span><span class="sxs-lookup"><span data-stu-id="c4c19-179">If writes were performed in the order `A, B, C`, then a client sees either `A`, `A,B`, or `A,B,C`, but never out of order like `A,C` or `B,A,C`.</span></span>
* <span data-ttu-id="c4c19-180">Azure DB Cosmos-accounts die zijn geconfigureerd met consistente voorvoegsel consistentiecontrole kunnen een onbeperkt aantal Azure-regio's koppelen aan hun account Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="c4c19-180">Azure Cosmos DB accounts that are configured with consistent prefix consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 

<span data-ttu-id="c4c19-181">**Uiteindelijke**:</span><span class="sxs-lookup"><span data-stu-id="c4c19-181">**Eventual**:</span></span> 

* <span data-ttu-id="c4c19-182">Uiteindelijke consistentie wordt gegarandeerd dat zolang er verder geen schrijfbewerkingen, de replica's binnen de groep uiteindelijk geconvergeerd.</span><span class="sxs-lookup"><span data-stu-id="c4c19-182">Eventual consistency guarantees that in absence of any further writes, the replicas within the group eventually converge.</span></span> 
* <span data-ttu-id="c4c19-183">Uiteindelijke consistentie is de zwakste vorm van de consistentie waar de waarden die ouder dan degene die deze had die zijn eerder op een client kan verkrijgen.</span><span class="sxs-lookup"><span data-stu-id="c4c19-183">Eventual consistency is the weakest form of consistency where a client may get the values that are older than the ones it had seen before.</span></span>
* <span data-ttu-id="c4c19-184">Uiteindelijke consistentie voorziet in de minste leesconsistentie, maar biedt de laagste latentie voor zowel lees- en schrijfbewerkingen.</span><span class="sxs-lookup"><span data-stu-id="c4c19-184">Eventual consistency provides the weakest read consistency but offers the lowest latency for both reads and writes.</span></span>
* <span data-ttu-id="c4c19-185">Azure DB Cosmos-accounts die zijn geconfigureerd met uiteindelijke consistentie kunnen een onbeperkt aantal Azure-regio's koppelen aan hun Azure DB die Cosmos-account.</span><span class="sxs-lookup"><span data-stu-id="c4c19-185">Azure Cosmos DB accounts that are configured with eventual consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="c4c19-186">De kosten van een leesbewerking (in termen van RUs verbruikt) met de uiteindelijke consistentie niveau is de laagste van alle Azure Cosmos DB consistentieniveaus.</span><span class="sxs-lookup"><span data-stu-id="c4c19-186">The cost of a read operation (in terms of RUs consumed) with the eventual consistency level is the lowest of all the Azure Cosmos DB consistency levels.</span></span>

## <a name="configuring-the-default-consistency-level"></a><span data-ttu-id="c4c19-187">Het standaardniveau voor consistentiecontrole configureren</span><span class="sxs-lookup"><span data-stu-id="c4c19-187">Configuring the default consistency level</span></span>
1. <span data-ttu-id="c4c19-188">In de [Azure-portal](https://portal.azure.com/), klik in de Snelbalk op **Azure Cosmos DB**.</span><span class="sxs-lookup"><span data-stu-id="c4c19-188">In the [Azure portal](https://portal.azure.com/), in the Jumpbar, click **Azure Cosmos DB**.</span></span>
2. <span data-ttu-id="c4c19-189">In de **Azure Cosmos DB** blade, selecteer de database-account te wijzigen.</span><span class="sxs-lookup"><span data-stu-id="c4c19-189">In the **Azure Cosmos DB** blade, select the database account to modify.</span></span>
3. <span data-ttu-id="c4c19-190">Klik op de accountblade **consistentie standaard**.</span><span class="sxs-lookup"><span data-stu-id="c4c19-190">In the account blade, click **Default consistency**.</span></span>
4. <span data-ttu-id="c4c19-191">In de **standaard consistentie** blade, selecteer de nieuwe consistentieniveau en klik op **opslaan**.</span><span class="sxs-lookup"><span data-stu-id="c4c19-191">In the **Default Consistency** blade, select the new consistency level and click **Save**.</span></span>
   
    ![Schermopname het pictogram instellingen en consistentie standaard vermelding markeren](./media/consistency-levels/database-consistency-level-1.png)

## <a name="consistency-levels-for-queries"></a><span data-ttu-id="c4c19-193">Consistentieniveaus voor query 's</span><span class="sxs-lookup"><span data-stu-id="c4c19-193">Consistency levels for queries</span></span>
<span data-ttu-id="c4c19-194">Voor de gebruiker gedefinieerde resources, is het consistentieniveau van de voor query's standaard hetzelfde zijn als het consistentieniveau van de voor leesbewerkingen.</span><span class="sxs-lookup"><span data-stu-id="c4c19-194">By default, for user-defined resources, the consistency level for queries is the same as the consistency level for reads.</span></span> <span data-ttu-id="c4c19-195">De index wordt standaard synchroon bijgewerkt op elke invoegen, vervangen of verwijderen van een item aan de container Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="c4c19-195">By default, the index is updated synchronously on each insert, replace, or delete of an item to the Cosmos DB container.</span></span> <span data-ttu-id="c4c19-196">Hierdoor kan de query's te houden van hetzelfde consistentieniveau als die van punt leesbewerkingen.</span><span class="sxs-lookup"><span data-stu-id="c4c19-196">This enables the queries to honor the same consistency level as that of point reads.</span></span> <span data-ttu-id="c4c19-197">Terwijl Azure Cosmos DB write is geoptimaliseerd en volgehouden volumes van schrijfbewerkingen, synchrone index onderhoud ten behoeve van consistente query's ondersteunt, kunt u bepaalde verzamelingen voor het bijwerken van de index traag kunt configureren.</span><span class="sxs-lookup"><span data-stu-id="c4c19-197">While Azure Cosmos DB is write optimized and supports sustained volumes of writes, synchronous index maintenance and serving consistent queries, you can configure certain collections to update their index lazily.</span></span> <span data-ttu-id="c4c19-198">Vertraagde indexeren verder de prestaties met schrijven en is ideaal voor bulksgewijs opname scenario's wanneer een werkbelasting voornamelijk lezen zware.</span><span class="sxs-lookup"><span data-stu-id="c4c19-198">Lazy indexing further boosts the write performance and is ideal for bulk ingestion scenarios when a workload is primarily read-heavy.</span></span>  

| <span data-ttu-id="c4c19-199">Indexeren van modus</span><span class="sxs-lookup"><span data-stu-id="c4c19-199">Indexing Mode</span></span> | <span data-ttu-id="c4c19-200">Leesbewerkingen</span><span class="sxs-lookup"><span data-stu-id="c4c19-200">Reads</span></span> | <span data-ttu-id="c4c19-201">Query's</span><span class="sxs-lookup"><span data-stu-id="c4c19-201">Queries</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c4c19-202">Consistente (standaard)</span><span class="sxs-lookup"><span data-stu-id="c4c19-202">Consistent (default)</span></span> |<span data-ttu-id="c4c19-203">Selecteer een van de sterk, gebonden veroudering, sessie, consistente voorvoegsel of uiteindelijke</span><span class="sxs-lookup"><span data-stu-id="c4c19-203">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="c4c19-204">Selecteer een van de sterk, gebonden-verouderd, sessie of uiteindelijke</span><span class="sxs-lookup"><span data-stu-id="c4c19-204">Select from strong, bounded staleness, session, or eventual</span></span> |
| <span data-ttu-id="c4c19-205">Vertraagde</span><span class="sxs-lookup"><span data-stu-id="c4c19-205">Lazy</span></span> |<span data-ttu-id="c4c19-206">Selecteer een van de sterk, gebonden veroudering, sessie, consistente voorvoegsel of uiteindelijke</span><span class="sxs-lookup"><span data-stu-id="c4c19-206">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="c4c19-207">Mogelijk</span><span class="sxs-lookup"><span data-stu-id="c4c19-207">Eventual</span></span> |
| <span data-ttu-id="c4c19-208">Geen</span><span class="sxs-lookup"><span data-stu-id="c4c19-208">None</span></span> |<span data-ttu-id="c4c19-209">Selecteer een van de sterk, gebonden veroudering, sessie, consistente voorvoegsel of uiteindelijke</span><span class="sxs-lookup"><span data-stu-id="c4c19-209">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="c4c19-210">Niet van toepassing</span><span class="sxs-lookup"><span data-stu-id="c4c19-210">Not applicable</span></span> |

<span data-ttu-id="c4c19-211">Als met leesaanvragen, kunt u het consistentieniveau van de aanvraag van een specifieke query in elke API verlagen.</span><span class="sxs-lookup"><span data-stu-id="c4c19-211">As with read requests, you can lower the consistency level of a specific query request in each API.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c4c19-212">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="c4c19-212">Next steps</span></span>
<span data-ttu-id="c4c19-213">Als u dit doen meer lezen over consistentieniveaus en -en nadelen wilt, raden we de volgende bronnen:</span><span class="sxs-lookup"><span data-stu-id="c4c19-213">If you'd like to do more reading about consistency levels and tradeoffs, we recommend the following resources:</span></span>

* <span data-ttu-id="c4c19-214">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="c4c19-214">Doug Terry.</span></span> <span data-ttu-id="c4c19-215">Consistentie van de gerepliceerde gegevens toegelicht door middel van baseball (video).</span><span class="sxs-lookup"><span data-stu-id="c4c19-215">Replicated Data Consistency explained through baseball (video).</span></span>   
  [<span data-ttu-id="c4c19-216">https://www.YouTube.com/Watch?v=gluIh8zd26I</span><span class="sxs-lookup"><span data-stu-id="c4c19-216">https://www.youtube.com/watch?v=gluIh8zd26I</span></span>](https://www.youtube.com/watch?v=gluIh8zd26I)
* <span data-ttu-id="c4c19-217">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="c4c19-217">Doug Terry.</span></span> <span data-ttu-id="c4c19-218">Consistentie van de gerepliceerde gegevens worden via baseball beschreven.</span><span class="sxs-lookup"><span data-stu-id="c4c19-218">Replicated Data Consistency explained through baseball.</span></span>   
  [<span data-ttu-id="c4c19-219">http://Research.Microsoft.com/pubs/157411/ConsistencyAndBaseballReport.PDF</span><span class="sxs-lookup"><span data-stu-id="c4c19-219">http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf</span></span>](http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf)
* <span data-ttu-id="c4c19-220">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="c4c19-220">Doug Terry.</span></span> <span data-ttu-id="c4c19-221">Sessie garanties met betrekking tot zwak consistente gerepliceerde gegevens.</span><span class="sxs-lookup"><span data-stu-id="c4c19-221">Session Guarantees for Weakly Consistent Replicated Data.</span></span>   
  [<span data-ttu-id="c4c19-222">http://DL.ACM.org/Citation.cfm?id=383631</span><span class="sxs-lookup"><span data-stu-id="c4c19-222">http://dl.acm.org/citation.cfm?id=383631</span></span>](http://dl.acm.org/citation.cfm?id=383631)
* <span data-ttu-id="c4c19-223">Daniel Abadi.</span><span class="sxs-lookup"><span data-stu-id="c4c19-223">Daniel Abadi.</span></span> <span data-ttu-id="c4c19-224">Consistentiecontrole voor-en nadelen in moderne gedistribueerde Database systemen ontwerp: KAPJE wordt slechts een deel van het artikel '.</span><span class="sxs-lookup"><span data-stu-id="c4c19-224">Consistency Tradeoffs in Modern Distributed Database Systems Design: CAP is only part of the story”.</span></span>   
  [<span data-ttu-id="c4c19-225">http://computer.org/CSDL/mags/CO/2012/02/mco2012020037-ABS.HTML</span><span class="sxs-lookup"><span data-stu-id="c4c19-225">http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html</span></span>](http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html)
* <span data-ttu-id="c4c19-226">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph Dhr Hellerstein, bewaartermijn Stoica.</span><span class="sxs-lookup"><span data-stu-id="c4c19-226">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, Ion Stoica.</span></span> <span data-ttu-id="c4c19-227">Probabilistische begrensd veroudering (PBS) voor praktische gedeeltelijke quorum.</span><span class="sxs-lookup"><span data-stu-id="c4c19-227">Probabilistic Bounded Staleness (PBS) for Practical Partial Quorums.</span></span>   
  [<span data-ttu-id="c4c19-228">http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.PDF</span><span class="sxs-lookup"><span data-stu-id="c4c19-228">http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf</span></span>](http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf)
* <span data-ttu-id="c4c19-229">Werner Vogels.</span><span class="sxs-lookup"><span data-stu-id="c4c19-229">Werner Vogels.</span></span> <span data-ttu-id="c4c19-230">Uiteindelijke Consistent - herzien.</span><span class="sxs-lookup"><span data-stu-id="c4c19-230">Eventual Consistent - Revisited.</span></span>    
  [<span data-ttu-id="c4c19-231">http://allthingsdistributed.com/2008/12/eventually_consistent.HTML</span><span class="sxs-lookup"><span data-stu-id="c4c19-231">http://allthingsdistributed.com/2008/12/eventually_consistent.html</span></span>](http://allthingsdistributed.com/2008/12/eventually_consistent.html)
* <span data-ttu-id="c4c19-232">Monitoring Naor, Avishai wol, de belasting, capaciteit en beschikbaarheid van systemen Quorum, SIAM journaal op Computing, v.27 n.2, p.423-447, April 1998.</span><span class="sxs-lookup"><span data-stu-id="c4c19-232">Moni Naor , Avishai Wool, The Load, Capacity, and Availability of Quorum Systems, SIAM Journal on Computing, v.27 n.2, p.423-447, April 1998.</span></span>
  [<span data-ttu-id="c4c19-233">http://epubs.siam.org/DOI/ABS/10.1137/S0097539795281232</span><span class="sxs-lookup"><span data-stu-id="c4c19-233">http://epubs.siam.org/doi/abs/10.1137/S0097539795281232</span></span>](http://epubs.siam.org/doi/abs/10.1137/S0097539795281232)
* <span data-ttu-id="c4c19-234">Sebastian Burckhardt, Chris Dern, Macanal Musuvathi, Roy Tan, de configuratie: een volledige en automatische linearizability checker, verslag van de 2010 ACM SIGPLAN Conferentie over het programmeren van taal ontwerpen en implementeren, juni 05 10 2010 Toronto, Ontario, Canada [doi > 10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span><span class="sxs-lookup"><span data-stu-id="c4c19-234">Sebastian Burckhardt, Chris Dern, Macanal Musuvathi, Roy Tan, Line-up: a complete and automatic linearizability checker, Proceedings of the 2010 ACM SIGPLAN conference on Programming language design and implementation, June 05-10, 2010, Toronto, Ontario, Canada  [doi>10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span></span>
* <span data-ttu-id="c4c19-235">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, bewaartermijn Stoica, Probabilistically gebonden veroudering voor praktische gedeeltelijke quorum procedures van de eigen VLDB, v.5 n.8, April 2012 met p.776 787 [http:// DL.ACM.org/Citation.cfm?id=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span><span class="sxs-lookup"><span data-stu-id="c4c19-235">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein , Ion Stoica, Probabilistically bounded staleness for practical partial quorums, Proceedings of the VLDB Endowment, v.5 n.8, p.776-787, April 2012 [http://dl.acm.org/citation.cfm?id=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span></span>
