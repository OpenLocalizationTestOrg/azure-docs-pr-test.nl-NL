---
title: Azure DB Cosmos-resourcemodel en -concepten | Microsoft Docs
description: "Meer informatie over Azure Cosmos DB hiërarchische model van de databases, verzamelingen, door de gebruiker gedefinieerde functie (UDF), documenten, machtigingen voor het beheren van bronnen en meer."
keywords: "Hiërarchische model cosmosdb, azure, Microsoft azure"
services: cosmos-db
documentationcenter: 
author: AndrewHoh
manager: jhubbard
editor: monicar
ms.assetid: ef9d5c0c-0867-4317-bb1b-98e219799fd5
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/24/2017
ms.author: anhoh
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 8051742c7c368d1ed84bcd90ab75b20f62105e2f
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/03/2017
---
# <a name="azure-cosmos-db-hierarchical-resource-model-and-core-concepts"></a><span data-ttu-id="c663c-104">Hiërarchisch bronmodel en basisconcepten voor Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="c663c-104">Azure Cosmos DB hierarchical resource model and core concepts</span></span>
<span data-ttu-id="c663c-105">De database-entiteiten die Azure Cosmos DB beheert worden aangeduid als **resources**.</span><span class="sxs-lookup"><span data-stu-id="c663c-105">The database entities that Azure Cosmos DB manages are referred to as **resources**.</span></span> <span data-ttu-id="c663c-106">Elke bron wordt uniek geïdentificeerd door een logische URI.</span><span class="sxs-lookup"><span data-stu-id="c663c-106">Each resource is uniquely identified by a logical URI.</span></span> <span data-ttu-id="c663c-107">U kunt met de resources met behulp van standaard HTTP-termen, aanvraag-/ antwoordheaders en statuscodes werken.</span><span class="sxs-lookup"><span data-stu-id="c663c-107">You can interact with the resources using standard HTTP verbs, request/response headers and status codes.</span></span> 

<span data-ttu-id="c663c-108">In dit artikel leest, hebt u mogelijk de volgende vragen beantwoorden:</span><span class="sxs-lookup"><span data-stu-id="c663c-108">By reading this article, you'll be able to answer the following questions:</span></span>

* <span data-ttu-id="c663c-109">Wat is het resourcemodel Cosmos-database?</span><span class="sxs-lookup"><span data-stu-id="c663c-109">What is Cosmos DB's resource model?</span></span>
* <span data-ttu-id="c663c-110">Wat zijn de resources in plaats van de gebruiker gedefinieerde resources gedefinieerd?</span><span class="sxs-lookup"><span data-stu-id="c663c-110">What are system defined resources as opposed to user defined resources?</span></span>
* <span data-ttu-id="c663c-111">Hoe ik een resource adresseren?</span><span class="sxs-lookup"><span data-stu-id="c663c-111">How do I address a resource?</span></span>
* <span data-ttu-id="c663c-112">Hoe werkt ik met verzamelingen?</span><span class="sxs-lookup"><span data-stu-id="c663c-112">How do I work with collections?</span></span>
* <span data-ttu-id="c663c-113">Hoe werkt ik met opgeslagen procedures, triggers en door de gebruiker gedefinieerde functies (UDF's)?</span><span class="sxs-lookup"><span data-stu-id="c663c-113">How do I work with stored procedures, triggers and User Defined Functions (UDFs)?</span></span>

## <a name="hierarchical-resource-model"></a><span data-ttu-id="c663c-114">Hiërarchische resourcemodel</span><span class="sxs-lookup"><span data-stu-id="c663c-114">Hierarchical resource model</span></span>
<span data-ttu-id="c663c-115">Als u het volgende diagram illustreert, de hiërarchische Cosmos-DB **resourcemodel** bestaat uit sets van resources onder een databaseaccount elke adresseerbare via een logische en stabiele URI.</span><span class="sxs-lookup"><span data-stu-id="c663c-115">As the following diagram illustrates, the Cosmos DB hierarchical **resource model** consists of sets of resources under a database account, each addressable via a logical and stable URI.</span></span> <span data-ttu-id="c663c-116">Een set resources worden aangeduid als een **feed** in dit artikel.</span><span class="sxs-lookup"><span data-stu-id="c663c-116">A set of resources will be referred to as a **feed** in this article.</span></span> 

> [!NOTE]
> <span data-ttu-id="c663c-117">Azure Cosmos DB biedt een zeer efficiënte TCP-protocol dat ook RESTful in het communicatiemodel is beschikbaar via de [DocumentDB .NET client-API](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c663c-117">Azure Cosmos DB offers a highly efficient TCP protocol which is also RESTful in its communication model, available through the [DocumentDB .NET client API](documentdb-sdk-dotnet.md).</span></span>
> 
> 

<span data-ttu-id="c663c-118">![Azure hiërarchische resourcemodel Cosmos-DB][1]</span><span class="sxs-lookup"><span data-stu-id="c663c-118">![Azure Cosmos DB hierarchical resource model][1]</span></span>  
<span data-ttu-id="c663c-119">**Hiërarchische resourcemodel**</span><span class="sxs-lookup"><span data-stu-id="c663c-119">**Hierarchical resource model**</span></span>   

<span data-ttu-id="c663c-120">Als u wilt werken met resources, moet u [een databaseaccount maken](create-documentdb-dotnet.md) met behulp van uw Azure-abonnement.</span><span class="sxs-lookup"><span data-stu-id="c663c-120">To start working with resources, you must [create a database account](create-documentdb-dotnet.md) using your Azure subscription.</span></span> <span data-ttu-id="c663c-121">Een databaseaccount kan bestaan uit een reeks **databases**, elk met meerdere **verzamelingen**, elk van die op zijn beurt bevatten **opgeslagen procedures, triggers, UDF's, documenten**en verwante **bijlagen**.</span><span class="sxs-lookup"><span data-stu-id="c663c-121">A database account can consist of a set of **databases**, each containing multiple **collections**, each of which in turn contain **stored procedures, triggers, UDFs, documents** and related **attachments**.</span></span> <span data-ttu-id="c663c-122">Een database ook gekoppelde **gebruikers**, elk met een reeks **machtigingen** voor toegang tot de verzamelingen, opgeslagen procedures, triggers, UDF's, documenten of bijlagen.</span><span class="sxs-lookup"><span data-stu-id="c663c-122">A database also has associated **users**, each with a set of **permissions** to access collections, stored procedures, triggers, UDFs, documents or attachments.</span></span> <span data-ttu-id="c663c-123">Hoewel databases, gebruikers, machtigingen en verzamelingen systeem gedefinieerde resources met bekende schema's, documenten en bijlagen bevatten echter willekeurige, gebruiker gedefinieerde JSON-inhoud.</span><span class="sxs-lookup"><span data-stu-id="c663c-123">While databases, users, permissions and collections are system-defined resources with well-known schemas, documents and attachments contain arbitrary, user defined JSON content.</span></span>  

| <span data-ttu-id="c663c-124">Resource</span><span class="sxs-lookup"><span data-stu-id="c663c-124">Resource</span></span> | <span data-ttu-id="c663c-125">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c663c-125">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c663c-126">Databaseaccount</span><span class="sxs-lookup"><span data-stu-id="c663c-126">Database account</span></span> |<span data-ttu-id="c663c-127">Een databaseaccount is gekoppeld aan een set databases en een vast bedrag van blob-opslag voor bijlagen.</span><span class="sxs-lookup"><span data-stu-id="c663c-127">A database account is associated with a set of databases and a fixed amount of blob storage for attachments.</span></span> <span data-ttu-id="c663c-128">U kunt een of meer database accounts met behulp van uw Azure-abonnement maken.</span><span class="sxs-lookup"><span data-stu-id="c663c-128">You can create one or more database accounts using your Azure subscription.</span></span> <span data-ttu-id="c663c-129">Ga voor meer informatie naar onze [pagina met prijzen](https://azure.microsoft.com/pricing/details/cosmos-db/).</span><span class="sxs-lookup"><span data-stu-id="c663c-129">For more information, visit our [pricing page](https://azure.microsoft.com/pricing/details/cosmos-db/).</span></span> |
| <span data-ttu-id="c663c-130">Database</span><span class="sxs-lookup"><span data-stu-id="c663c-130">Database</span></span> |<span data-ttu-id="c663c-131">Een database is een logische container voor documentopslag, gepartitioneerd in verzamelingen.</span><span class="sxs-lookup"><span data-stu-id="c663c-131">A database is a logical container of document storage partitioned across collections.</span></span> <span data-ttu-id="c663c-132">Het is ook een gebruikerscontainer.</span><span class="sxs-lookup"><span data-stu-id="c663c-132">It is also a users container.</span></span> |
| <span data-ttu-id="c663c-133">Gebruiker</span><span class="sxs-lookup"><span data-stu-id="c663c-133">User</span></span> |<span data-ttu-id="c663c-134">De logische naamruimte voor het vaststellen van machtigingen.</span><span class="sxs-lookup"><span data-stu-id="c663c-134">The logical namespace for scoping permissions.</span></span> |
| <span data-ttu-id="c663c-135">Machtiging</span><span class="sxs-lookup"><span data-stu-id="c663c-135">Permission</span></span> |<span data-ttu-id="c663c-136">Een verificatietoken die zijn gekoppeld aan een gebruiker voor toegang tot een specifieke bron.</span><span class="sxs-lookup"><span data-stu-id="c663c-136">An authorization token associated with a user for access to a specific resource.</span></span> |
| <span data-ttu-id="c663c-137">Verzameling</span><span class="sxs-lookup"><span data-stu-id="c663c-137">Collection</span></span> |<span data-ttu-id="c663c-138">Een verzameling is een container van JSON-documenten en de bijbehorende JavaScript-toepassingslogica.</span><span class="sxs-lookup"><span data-stu-id="c663c-138">A collection is a container of JSON documents and the associated JavaScript application logic.</span></span> <span data-ttu-id="c663c-139">Een verzameling is een factureerbare entiteit waar de [kosten](performance-levels.md) wordt bepaald door het prestatieniveau dat is gekoppeld aan de verzameling.</span><span class="sxs-lookup"><span data-stu-id="c663c-139">A collection is a billable entity, where the [cost](performance-levels.md) is determined by the performance level associated with the collection.</span></span> <span data-ttu-id="c663c-140">Verzamelingen kunnen meerdere partities/servers omvatten en kunnen worden geschaald voor een vrijwel onbeperkte hoeveelheid opslag of doorvoer.</span><span class="sxs-lookup"><span data-stu-id="c663c-140">Collections can span one or more partitions/servers and can scale to handle practically unlimited volumes of storage or throughput.</span></span> |
| <span data-ttu-id="c663c-141">Opgeslagen procedure</span><span class="sxs-lookup"><span data-stu-id="c663c-141">Stored Procedure</span></span> |<span data-ttu-id="c663c-142">De toepassingslogica is geschreven in JavaScript die is geregistreerd bij een verzameling en transactioneel uitgevoerd binnen de database-engine.</span><span class="sxs-lookup"><span data-stu-id="c663c-142">Application logic written in JavaScript which is registered with a collection and transactionally executed within the database engine.</span></span> |
| <span data-ttu-id="c663c-143">Trigger</span><span class="sxs-lookup"><span data-stu-id="c663c-143">Trigger</span></span> |<span data-ttu-id="c663c-144">Toepassingslogica geschreven in JavaScript uitgevoerd vóór of na een invoeging vervangen of verwijderen.</span><span class="sxs-lookup"><span data-stu-id="c663c-144">Application logic written in JavaScript executed before or after either an insert, replace or delete operation.</span></span> |
| <span data-ttu-id="c663c-145">UDF</span><span class="sxs-lookup"><span data-stu-id="c663c-145">UDF</span></span> |<span data-ttu-id="c663c-146">Geschreven in JavaScript-toepassingslogica.</span><span class="sxs-lookup"><span data-stu-id="c663c-146">Application logic written in JavaScript.</span></span> <span data-ttu-id="c663c-147">UDF's kunnen u een aangepaste query-operator model en waardoor de kern van het DocumentDB-API-querytaal uit te breiden.</span><span class="sxs-lookup"><span data-stu-id="c663c-147">UDFs enable you to model a custom query operator and thereby extend the core DocumentDB API query language.</span></span> |
| <span data-ttu-id="c663c-148">Document</span><span class="sxs-lookup"><span data-stu-id="c663c-148">Document</span></span> |<span data-ttu-id="c663c-149">De gebruiker gedefinieerde (willekeurige) JSON-inhoud.</span><span class="sxs-lookup"><span data-stu-id="c663c-149">User defined (arbitrary) JSON content.</span></span> <span data-ttu-id="c663c-150">Standaard geen schema moet worden gedefinieerd en ook secundaire indexen hoeft te worden opgegeven voor de documenten die zijn toegevoegd aan een verzameling.</span><span class="sxs-lookup"><span data-stu-id="c663c-150">By default, no schema needs to be defined nor do secondary indices need to be provided for all the documents added to a collection.</span></span> |
| <span data-ttu-id="c663c-151">Bijlage</span><span class="sxs-lookup"><span data-stu-id="c663c-151">Attachment</span></span> |<span data-ttu-id="c663c-152">Een bijlage is een speciale document met verwijzingen en gekoppelde metagegevens voor externe-blob/media.</span><span class="sxs-lookup"><span data-stu-id="c663c-152">An attachment is a special document containing references and associated metadata for external blob/media.</span></span> <span data-ttu-id="c663c-153">De ontwikkelaar kunt met de blob die worden beheerd door Cosmos DB, of sla deze met een externe blob-provider zoals OneDrive, Dropbox, enz.</span><span class="sxs-lookup"><span data-stu-id="c663c-153">The developer can choose to have the blob managed by Cosmos DB or store it with an external blob service provider such as OneDrive, Dropbox, etc.</span></span> |

## <a name="system-vs-user-defined-resources"></a><span data-ttu-id="c663c-154">Systeem versus door de gebruiker gedefinieerde resources</span><span class="sxs-lookup"><span data-stu-id="c663c-154">System vs. user defined resources</span></span>
<span data-ttu-id="c663c-155">Resources zoals database accounts, databases, verzamelingen, gebruikers, machtigingen, opgeslagen procedures, triggers en UDF - alle hebben een vaste schema en systeembronnen worden genoemd.</span><span class="sxs-lookup"><span data-stu-id="c663c-155">Resources such as database accounts, databases, collections, users, permissions, stored procedures, triggers, and UDFs - all have a fixed schema and are called system resources.</span></span> <span data-ttu-id="c663c-156">Daarentegen resources, zoals documenten en bijlagen geldt geen beperking van het schema en zijn voorbeelden van de gebruiker gedefinieerde resources.</span><span class="sxs-lookup"><span data-stu-id="c663c-156">In contrast, resources such as documents and attachments have no restrictions on the schema and are examples of user defined resources.</span></span> <span data-ttu-id="c663c-157">In Cosmos DB, systeem- en gebruiker gedefinieerde resources weergegeven en beheerd als standaard-compatibele JSON.</span><span class="sxs-lookup"><span data-stu-id="c663c-157">In Cosmos DB, both system and user defined resources are represented and managed as standard-compliant JSON.</span></span> <span data-ttu-id="c663c-158">Alle resources, het systeem of door gebruiker gedefinieerd, hebben de volgende algemene eigenschappen.</span><span class="sxs-lookup"><span data-stu-id="c663c-158">All resources, system or user defined, have the following common properties.</span></span>

> [!NOTE]
> <span data-ttu-id="c663c-159">Opmerking dat alle eigenschappen in een resource gegenereerd worden voorafgegaan door een onderstrepingsteken (_) in de JSON-weergave.</span><span class="sxs-lookup"><span data-stu-id="c663c-159">Note that all system generated properties in a resource are prefixed with an underscore (_) in their JSON representation.</span></span>
> 
> 

<table>
    <tbody>
        <tr>
            <td valign="top"><p><span data-ttu-id="c663c-160"><strong>Eigenschap</strong></span><span class="sxs-lookup"><span data-stu-id="c663c-160"><strong>Property</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c663c-161"><strong>Gebruiker worden ingesteld of het systeem gegenereerde?</strong></span><span class="sxs-lookup"><span data-stu-id="c663c-161"><strong>User settable or system generated?</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c663c-162"><strong>Doel</strong></span><span class="sxs-lookup"><span data-stu-id="c663c-162"><strong>Purpose</strong></span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="c663c-163">_rid</span><span class="sxs-lookup"><span data-stu-id="c663c-163">_rid</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c663c-164">Systeem gegenereerde</span><span class="sxs-lookup"><span data-stu-id="c663c-164">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c663c-165">Het systeem gegenereerde, unieke en hiërarchische id van de resource</span><span class="sxs-lookup"><span data-stu-id="c663c-165">System generated, unique and hierarchical identifier of the resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="c663c-166">_etag</span><span class="sxs-lookup"><span data-stu-id="c663c-166">_etag</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c663c-167">Systeem gegenereerde</span><span class="sxs-lookup"><span data-stu-id="c663c-167">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c663c-168">ETag van de bron die vereist zijn voor Optimistisch gelijktijdigheidbeheer</span><span class="sxs-lookup"><span data-stu-id="c663c-168">etag of the resource required for optimistic concurrency control</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="c663c-169">_ts</span><span class="sxs-lookup"><span data-stu-id="c663c-169">_ts</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c663c-170">Systeem gegenereerde</span><span class="sxs-lookup"><span data-stu-id="c663c-170">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c663c-171">Laatst bijgewerkt timestamp van de resource</span><span class="sxs-lookup"><span data-stu-id="c663c-171">Last updated timestamp of the resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="c663c-172">_self</span><span class="sxs-lookup"><span data-stu-id="c663c-172">_self</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c663c-173">Systeem gegenereerde</span><span class="sxs-lookup"><span data-stu-id="c663c-173">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c663c-174">Unieke adresseerbare URI van de resource</span><span class="sxs-lookup"><span data-stu-id="c663c-174">Unique addressable URI of the resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="c663c-175">id</span><span class="sxs-lookup"><span data-stu-id="c663c-175">id</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c663c-176">Systeem gegenereerde</span><span class="sxs-lookup"><span data-stu-id="c663c-176">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c663c-177">De gebruiker gedefinieerde unieke naam van de resource (met de dezelfde waarde voor de partitiesleutel).</span><span class="sxs-lookup"><span data-stu-id="c663c-177">User defined unique name of the resource (with the same partition key value).</span></span> <span data-ttu-id="c663c-178">Als de gebruiker niet is opgegeven met een id, een id wordt het systeem worden gegenereerd</span><span class="sxs-lookup"><span data-stu-id="c663c-178">If the user does not specify an id, an id will be system generated</span></span></p></td>
        </tr>
    </tbody>
</table>

### <a name="wire-representation-of-resources"></a><span data-ttu-id="c663c-179">Lijnweergave van resources</span><span class="sxs-lookup"><span data-stu-id="c663c-179">Wire representation of resources</span></span>
<span data-ttu-id="c663c-180">Cosmos DB schrijft niet een eigen uitbreidingen voor de JSON-coderingen voor standard of speciale; Dit proces werkt met standaard compatibele JSON-documenten.</span><span class="sxs-lookup"><span data-stu-id="c663c-180">Cosmos DB does not mandate any proprietary extensions to the JSON standard or special encodings; it works with standard compliant JSON documents.</span></span>  

### <a name="addressing-a-resource"></a><span data-ttu-id="c663c-181">Een resource adressering</span><span class="sxs-lookup"><span data-stu-id="c663c-181">Addressing a resource</span></span>
<span data-ttu-id="c663c-182">Alle resources zijn adresseerbare URI.</span><span class="sxs-lookup"><span data-stu-id="c663c-182">All resources are URI addressable.</span></span> <span data-ttu-id="c663c-183">De waarde van de **_self** eigenschap van een bron vertegenwoordigt de relatieve URI van de resource.</span><span class="sxs-lookup"><span data-stu-id="c663c-183">The value of the **_self** property of a resource represents the relative URI of the resource.</span></span> <span data-ttu-id="c663c-184">De indeling van de URI bestaat uit de /\<feed\>/ padsegmenten {_rid}:</span><span class="sxs-lookup"><span data-stu-id="c663c-184">The format of the URI consists of the /\<feed\>/{_rid} path segments:</span></span>  

| <span data-ttu-id="c663c-185">Waarde van de _self</span><span class="sxs-lookup"><span data-stu-id="c663c-185">Value of the _self</span></span> | <span data-ttu-id="c663c-186">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c663c-186">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c663c-187">/DBS</span><span class="sxs-lookup"><span data-stu-id="c663c-187">/dbs</span></span> |<span data-ttu-id="c663c-188">Feed van databases onder een databaseaccount</span><span class="sxs-lookup"><span data-stu-id="c663c-188">Feed of databases under a database account</span></span> |
| <span data-ttu-id="c663c-189">/DBS/ {dbName}</span><span class="sxs-lookup"><span data-stu-id="c663c-189">/dbs/{dbName}</span></span> |<span data-ttu-id="c663c-190">Database met een id die overeenkomt met de waarde {dbName}</span><span class="sxs-lookup"><span data-stu-id="c663c-190">Database with an id matching the value {dbName}</span></span> |
| <span data-ttu-id="c663c-191">/colls/ /DBS/ {dbName}</span><span class="sxs-lookup"><span data-stu-id="c663c-191">/dbs/{dbName}/colls/</span></span> |<span data-ttu-id="c663c-192">Feed van verzamelingen onder een database</span><span class="sxs-lookup"><span data-stu-id="c663c-192">Feed of collections under a database</span></span> |
| <span data-ttu-id="c663c-193">/DBS/ {dbName} /colls/ {collName}</span><span class="sxs-lookup"><span data-stu-id="c663c-193">/dbs/{dbName}/colls/{collName}</span></span> |<span data-ttu-id="c663c-194">De verzameling met een id die overeenkomt met de waarde {collName}</span><span class="sxs-lookup"><span data-stu-id="c663c-194">Collection with an id matching the value {collName}</span></span> |
| <span data-ttu-id="c663c-195">/DBS/ {dbName} /colls/ {collName} / docs</span><span class="sxs-lookup"><span data-stu-id="c663c-195">/dbs/{dbName}/colls/{collName}/docs</span></span> |<span data-ttu-id="c663c-196">Feed van documenten in een verzameling</span><span class="sxs-lookup"><span data-stu-id="c663c-196">Feed of documents under a collection</span></span> |
| <span data-ttu-id="c663c-197">/DBS/ {dbName} /colls/ {collName} /docs/ {docId}</span><span class="sxs-lookup"><span data-stu-id="c663c-197">/dbs/{dbName}/colls/{collName}/docs/{docId}</span></span> |<span data-ttu-id="c663c-198">Document met een id die overeenkomt met de waarde {doc}</span><span class="sxs-lookup"><span data-stu-id="c663c-198">Document with an id matching the value {doc}</span></span> |
| <span data-ttu-id="c663c-199">/gebruikers/ /DBS/ {dbName}</span><span class="sxs-lookup"><span data-stu-id="c663c-199">/dbs/{dbName}/users/</span></span> |<span data-ttu-id="c663c-200">Feed gebruikers onder een database</span><span class="sxs-lookup"><span data-stu-id="c663c-200">Feed of users under a database</span></span> |
| <span data-ttu-id="c663c-201">/DBS/ {dbName} /gebruikers/ {userId}</span><span class="sxs-lookup"><span data-stu-id="c663c-201">/dbs/{dbName}/users/{userId}</span></span> |<span data-ttu-id="c663c-202">Gebruiker met een id die overeenkomt met de waarde {user}</span><span class="sxs-lookup"><span data-stu-id="c663c-202">User with an id matching the value {user}</span></span> |
| <span data-ttu-id="c663c-203">/DBS/ {dbName} /gebruikers/ {userId} / machtigingen</span><span class="sxs-lookup"><span data-stu-id="c663c-203">/dbs/{dbName}/users/{userId}/permissions</span></span> |<span data-ttu-id="c663c-204">Feed machtigingen onder een gebruikersaccount</span><span class="sxs-lookup"><span data-stu-id="c663c-204">Feed of permissions under a user</span></span> |
| <span data-ttu-id="c663c-205">/DBS/ {dbName} /gebruikers/ {userId} /permissions/ {permissionId}</span><span class="sxs-lookup"><span data-stu-id="c663c-205">/dbs/{dbName}/users/{userId}/permissions/{permissionId}</span></span> |<span data-ttu-id="c663c-206">Machtiging met een id die overeenkomt met de waarde {machtiging}</span><span class="sxs-lookup"><span data-stu-id="c663c-206">Permission with an id matching the value {permission}</span></span> |

<span data-ttu-id="c663c-207">Elke resource heeft een unieke door de gebruiker gedefinieerde naam beschikbaar gesteld via de eigenschap id.</span><span class="sxs-lookup"><span data-stu-id="c663c-207">Each resource has a unique user defined name exposed via the id property.</span></span> <span data-ttu-id="c663c-208">Opmerking: voor documenten, als de gebruiker niet een id geeft onze ondersteunde SDK's wordt automatisch gegenereerd een unieke id voor het document.</span><span class="sxs-lookup"><span data-stu-id="c663c-208">Note: for documents, if the user does not specify an id, our supported SDKs will automatically generate a unique id for the document.</span></span> <span data-ttu-id="c663c-209">De id is een tekenreeks door de gebruiker gedefinieerde van maximaal 256 tekens die uniek is binnen de context van een specifieke bovenliggende resource.</span><span class="sxs-lookup"><span data-stu-id="c663c-209">The id is a user defined string, of up to 256 characters that is unique within the context of a specific parent resource.</span></span> 

<span data-ttu-id="c663c-210">Elke resource heeft ook een hiërarchische resource systeem gegenereerde id (ook wel een RID genoemd), die beschikbaar zijn via de eigenschap _rid is.</span><span class="sxs-lookup"><span data-stu-id="c663c-210">Each resource also has a system generated hierarchical resource identifier (also referred to as an RID), which is available via the _rid property.</span></span> <span data-ttu-id="c663c-211">De RID codeert de gehele hiërarchie van een bepaalde bron en is een handige interne weergave voor het afdwingen van referentiële integriteit in een gedistribueerde manier.</span><span class="sxs-lookup"><span data-stu-id="c663c-211">The RID encodes the entire hierarchy of a given resource and it is a convenient internal representation used to enforce referential integrity in a distributed manner.</span></span> <span data-ttu-id="c663c-212">De RID uniek is binnen een databaseaccount en wordt intern gebruikt door Cosmos DB voor efficiënte routering zonder cross partitie zoekacties.</span><span class="sxs-lookup"><span data-stu-id="c663c-212">The RID is unique within a database account and it is internally used by Cosmos DB for efficient routing without requiring cross partition lookups.</span></span> <span data-ttu-id="c663c-213">De waarden van de eigenschappen _rid en de _self zijn alternatieve en canonieke vorm van een resource.</span><span class="sxs-lookup"><span data-stu-id="c663c-213">The values of the _self and the  _rid properties are both alternate and canonical representations of a resource.</span></span> 

<span data-ttu-id="c663c-214">De REST API's ondersteunen van resources adressering en routering van aanvragen door zowel de id als de _rid-eigenschappen.</span><span class="sxs-lookup"><span data-stu-id="c663c-214">The REST APIs support addressing of resources and routing of requests by both the id and the _rid properties.</span></span>

## <a name="database-accounts"></a><span data-ttu-id="c663c-215">Database-accounts</span><span class="sxs-lookup"><span data-stu-id="c663c-215">Database accounts</span></span>
<span data-ttu-id="c663c-216">U kunt een of meer Cosmos DB database accounts met behulp van uw Azure-abonnement inrichten.</span><span class="sxs-lookup"><span data-stu-id="c663c-216">You can provision one or more Cosmos DB database accounts using your Azure subscription.</span></span>

<span data-ttu-id="c663c-217">U kunt maken en beheren van accounts voor Cosmos-DB-database via Azure Portal op [http://portal.azure.com/](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="c663c-217">You can create and manage Cosmos DB database accounts via the Azure Portal at [http://portal.azure.com/](https://portal.azure.com/).</span></span> <span data-ttu-id="c663c-218">Maken en beheren van een databaseaccount beheerderstoegang vereist en kan alleen worden uitgevoerd onder uw Azure-abonnement.</span><span class="sxs-lookup"><span data-stu-id="c663c-218">Creating and managing a database account requires administrative access and can only be performed under your Azure subscription.</span></span> 

### <a name="database-account-properties"></a><span data-ttu-id="c663c-219">Eigenschappen van de database-account</span><span class="sxs-lookup"><span data-stu-id="c663c-219">Database account properties</span></span>
<span data-ttu-id="c663c-220">Als onderdeel van het inrichten en beheren van een databaseaccount kunt u configureren en lees de volgende eigenschappen:</span><span class="sxs-lookup"><span data-stu-id="c663c-220">As part of provisioning and managing a database account you can configure and read the following properties:</span></span>  

<table border="0" cellspacing="0" cellpadding="0">
    <tbody>
        <tr>
            <td valign="top"><p><span data-ttu-id="c663c-221"><strong>De naam van eigenschap</strong></span><span class="sxs-lookup"><span data-stu-id="c663c-221"><strong>Property Name</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c663c-222"><strong>Beschrijving</strong></span><span class="sxs-lookup"><span data-stu-id="c663c-222"><strong>Description</strong></span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="c663c-223">Consistentie beleid</span><span class="sxs-lookup"><span data-stu-id="c663c-223">Consistency Policy</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c663c-224">Stel deze eigenschap het standaardniveau voor consistentie voor alle collecties onder uw databaseaccount configureren.</span><span class="sxs-lookup"><span data-stu-id="c663c-224">Set this property to configure the default consistency level for all the collections under your database account.</span></span> <span data-ttu-id="c663c-225">U kunt het consistentieniveau per aanvraag uit te voeren met behulp van de [x-ms-consistentie-niveau] aanvraagheader overschrijven.</span><span class="sxs-lookup"><span data-stu-id="c663c-225">You can override the consistency level on a per request basis using the [x-ms-consistency-level] request header.</span></span> <p><p><span data-ttu-id="c663c-226">Merk op dat deze eigenschap is alleen van toepassing op de <i>door de gebruiker gedefinieerde resources</i>.</span><span class="sxs-lookup"><span data-stu-id="c663c-226">Note that this property only applies to the <i>user defined resources</i>.</span></span> <span data-ttu-id="c663c-227">Alle systeem gedefinieerde resources zijn geconfigureerd voor ondersteuning voor leesbewerkingen/query's met sterke consistentie.</span><span class="sxs-lookup"><span data-stu-id="c663c-227">All system defined resources are configured to support reads/queries with strong consistency.</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="c663c-228">Autorisatie-sleutels</span><span class="sxs-lookup"><span data-stu-id="c663c-228">Authorization Keys</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c663c-229">Dit zijn de primaire en secundaire hoofd- en alleen-lezen sleutels die beheerdersrechten toegang tot alle resources onder de account van de database bieden.</span><span class="sxs-lookup"><span data-stu-id="c663c-229">These are the primary and secondary master and readonly keys that provide administrative access to all of the resources under the database account.</span></span></p></td>
        </tr>
    </tbody>
</table>

<span data-ttu-id="c663c-230">Opmerking dat naast inrichten, configureren en beheren van uw databaseaccount vanuit de Azure-Portal, u kunt ook programmatisch maken en Cosmos DB database accounts met behulp van beheren de [Azure Cosmos DB REST API's](/rest/api/documentdb/) , evenals [client-SDK's](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c663c-230">Note that in addition to provisioning, configuring and managing your database account from the Azure Portal, you can also programmatically create and manage Cosmos DB database accounts by using the [Azure Cosmos DB REST APIs](/rest/api/documentdb/) as well as [client SDKs](documentdb-sdk-dotnet.md).</span></span>  

## <a name="databases"></a><span data-ttu-id="c663c-231">Databases</span><span class="sxs-lookup"><span data-stu-id="c663c-231">Databases</span></span>
<span data-ttu-id="c663c-232">Een Cosmos-DB-database is een logische container voor een of meer verzamelingen en gebruikers, zoals wordt weergegeven in het volgende diagram.</span><span class="sxs-lookup"><span data-stu-id="c663c-232">A Cosmos DB database is a logical container of one or more collections and users, as shown in the following diagram.</span></span> <span data-ttu-id="c663c-233">U kunt een willekeurig aantal databases onder een Cosmos-DB-databaseaccount onderworpen aan beperkingen van de aanbieding maken.</span><span class="sxs-lookup"><span data-stu-id="c663c-233">You can create any number of databases under a Cosmos DB database account subject to offer limits.</span></span>  

<span data-ttu-id="c663c-234">![Account en verzamelingen hiërarchische databasemodel][2]</span><span class="sxs-lookup"><span data-stu-id="c663c-234">![Database account and collections hierarchical model][2]</span></span>  
<span data-ttu-id="c663c-235">**Een Database is een logische container van gebruikers en verzamelingen**</span><span class="sxs-lookup"><span data-stu-id="c663c-235">**A Database is a logical container of users and collections**</span></span>

<span data-ttu-id="c663c-236">Een database kan vrijwel onbeperkte documentopslag, gepartitioneerd in verzamelingen bevatten.</span><span class="sxs-lookup"><span data-stu-id="c663c-236">A database can contain virtually unlimited document storage partitioned within collections.</span></span>

### <a name="elastic-scale-of-a-cosmos-db-database"></a><span data-ttu-id="c663c-237">Elastisch schalen van een database van de Cosmos-DB</span><span class="sxs-lookup"><span data-stu-id="c663c-237">Elastic scale of a Cosmos DB database</span></span>
<span data-ttu-id="c663c-238">Een Cosmos-DB-database is elastisch standaard – variërend van een paar GB voor petabytes aan SSD back documentopslag en ingerichte doorvoer.</span><span class="sxs-lookup"><span data-stu-id="c663c-238">A Cosmos DB database is elastic by default – ranging from a few GB to petabytes of SSD backed document storage and provisioned throughput.</span></span> 

<span data-ttu-id="c663c-239">In tegenstelling tot een database in traditionele RDBMS, is een database in Cosmos DB niet afgestemd op één computer.</span><span class="sxs-lookup"><span data-stu-id="c663c-239">Unlike a database in traditional RDBMS, a database in Cosmos DB is not scoped to a single machine.</span></span> <span data-ttu-id="c663c-240">Met Cosmos-DB naar gelang de behoeften van uw toepassing scale groeien, kunt u meer verzamelingen, databases, of beide.</span><span class="sxs-lookup"><span data-stu-id="c663c-240">With Cosmos DB, as your application’s scale needs to grow, you can create more collections, databases, or both.</span></span> <span data-ttu-id="c663c-241">Inderdaad hebt verschillende toepassingen in de eerste leveranciers binnen Microsoft gebruikt Cosmos-database op een schaal van de consument door te maken van zeer grote databases van de Cosmos-DB elke met duizenden verzamelingen met terabytes aan opslag van documenten.</span><span class="sxs-lookup"><span data-stu-id="c663c-241">Indeed, various first party applications within Microsoft have been using Cosmos DB at a consumer scale by creating extremely large Cosmos DB databases each containing thousands of collections with terabytes of document storage.</span></span> <span data-ttu-id="c663c-242">U kunt vergroten of verkleinen van een database door toe te voegen of te verwijderen van verzamelingen om te voldoen aan de schaal van uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="c663c-242">You can grow or shrink a database by adding or removing collections to meet your application’s scale requirements.</span></span> 

<span data-ttu-id="c663c-243">U kunt een willekeurig aantal verzamelingen binnen een database onderworpen aan de aanbieding maken.</span><span class="sxs-lookup"><span data-stu-id="c663c-243">You can create any number of collections within a database subject to the offer.</span></span> <span data-ttu-id="c663c-244">Elke verzameling heeft back SSD-opslag en u afhankelijk van de geselecteerde prestatielaag ingerichte doorvoer.</span><span class="sxs-lookup"><span data-stu-id="c663c-244">Each collection has SSD backed storage and throughput provisioned for you depending on the selected performance tier.</span></span>

<span data-ttu-id="c663c-245">Een Cosmos-DB-database is ook een container van gebruikers.</span><span class="sxs-lookup"><span data-stu-id="c663c-245">A Cosmos DB database is also a container of users.</span></span> <span data-ttu-id="c663c-246">Een gebruiker, beurt, is een logische naamruimte voor een reeks machtigingen die voorziet in fijnmazig autorisatie en toegang tot de verzamelingen, documenten en bijlagen.</span><span class="sxs-lookup"><span data-stu-id="c663c-246">A user, in-turn, is a logical namespace for a set of permissions that provides fine-grained authorization and access to collections, documents and attachments.</span></span>  

<span data-ttu-id="c663c-247">Zoals met andere bronnen in het model van de resource Cosmos DB, databases kunnen worden gemaakt, vervangen, verwijderd, lees- of opgesomd eenvoudig met behulp van de [REST-API's](/rest/api/documentdb/) of een van de [client-SDK's](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c663c-247">As with other resources in the Cosmos DB resource model, databases can be created, replaced, deleted, read or enumerated easily using either the [REST APIs](/rest/api/documentdb/) or any of the [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="c663c-248">Cosmos DB garandeert een sterke consistentie voor lezen en het opvragen van de metagegevens van een database-resource.</span><span class="sxs-lookup"><span data-stu-id="c663c-248">Cosmos DB guarantees strong consistency for reading or querying the metadata of a database resource.</span></span> <span data-ttu-id="c663c-249">Een database wordt automatisch verwijderd, zorgt u ervoor dat u geen toegang de verzamelingen of gebruikers die zijn opgenomen in deze tot.</span><span class="sxs-lookup"><span data-stu-id="c663c-249">Deleting a database automatically ensures that you cannot access any of the collections or users contained within it.</span></span>   

## <a name="collections"></a><span data-ttu-id="c663c-250">Verzamelingen</span><span class="sxs-lookup"><span data-stu-id="c663c-250">Collections</span></span>
<span data-ttu-id="c663c-251">Een Cosmos-DB-verzameling is een container voor uw JSON-documenten.</span><span class="sxs-lookup"><span data-stu-id="c663c-251">A Cosmos DB collection is a container for your JSON documents.</span></span> 

### <a name="elastic-ssd-backed-document-storage"></a><span data-ttu-id="c663c-252">Elastische SSD back-documentopslag</span><span class="sxs-lookup"><span data-stu-id="c663c-252">Elastic SSD backed document storage</span></span>
<span data-ttu-id="c663c-253">Er is een verzameling intrinsiek elastische - en deze automatisch groeit kleiner naarmate u documenten toevoegen of verwijderen.</span><span class="sxs-lookup"><span data-stu-id="c663c-253">A collection is intrinsically elastic - it automatically grows and shrinks as you add or remove documents.</span></span> <span data-ttu-id="c663c-254">Verzamelingen zijn logische resources en kunnen een of meer fysieke partities of servers omvatten.</span><span class="sxs-lookup"><span data-stu-id="c663c-254">Collections are logical resources and can span one or more physical partitions or servers.</span></span> <span data-ttu-id="c663c-255">Het aantal partities binnen een verzameling wordt bepaald door de Cosmos-DB op basis van de grootte van de opslagruimte en de ingerichte doorvoer van uw verzameling.</span><span class="sxs-lookup"><span data-stu-id="c663c-255">The number of partitions within a collection is determined by Cosmos DB based on the storage size and the provisioned throughput of your collection.</span></span> <span data-ttu-id="c663c-256">Elke partitie in Cosmos-database heeft een vaste hoeveelheid back SSD opslag gekoppeld en is gerepliceerd voor hoge beschikbaarheid.</span><span class="sxs-lookup"><span data-stu-id="c663c-256">Every partition in Cosmos DB has a fixed amount of SSD-backed storage associated with it, and is replicated for high availability.</span></span> <span data-ttu-id="c663c-257">Beheer van de partitie is volledig beheerd door Azure Cosmos DB en er geen complexe code schrijven of beheren van de partities.</span><span class="sxs-lookup"><span data-stu-id="c663c-257">Partition management is fully managed by Azure Cosmos DB, and you do not have to write complex code or manage your partitions.</span></span> <span data-ttu-id="c663c-258">Cosmos DB verzamelingen zijn **vrijwel onbeperkte** in termen van opslag en doorvoer.</span><span class="sxs-lookup"><span data-stu-id="c663c-258">Cosmos DB collections are **practically unlimited** in terms of storage and throughput.</span></span> 

### <a name="automatic-indexing-of-collections"></a><span data-ttu-id="c663c-259">Automatische indexering van verzamelingen</span><span class="sxs-lookup"><span data-stu-id="c663c-259">Automatic indexing of collections</span></span>
<span data-ttu-id="c663c-260">Cosmos DB is een databasesysteem waar zonder schema.</span><span class="sxs-lookup"><span data-stu-id="c663c-260">Cosmos DB is a true schema-free database system.</span></span> <span data-ttu-id="c663c-261">Het niet wordt ervan uitgegaan dat of een schema voor de JSON-documenten nodig.</span><span class="sxs-lookup"><span data-stu-id="c663c-261">It does not assume or require any schema for the JSON documents.</span></span> <span data-ttu-id="c663c-262">Als u documenten aan een verzameling toevoegt, Cosmos DB automatisch geïndexeerd en ze beschikbaar zijn voor u om op te vragen.</span><span class="sxs-lookup"><span data-stu-id="c663c-262">As you add documents to a collection, Cosmos DB automatically indexes them and they are available for you to query.</span></span> <span data-ttu-id="c663c-263">Automatische indexering van documenten zonder schema of secundaire indexen is een belangrijke functie van Cosmos-database en wordt ingeschakeld door schrijven geoptimaliseerd, vergrendeling vrij en logboek gestructureerd index onderhoud technieken.</span><span class="sxs-lookup"><span data-stu-id="c663c-263">Automatic indexing of documents without requiring schema or secondary indexes is a key capability of Cosmos DB and is enabled by write-optimized, lock-free and log-structured index maintenance techniques.</span></span> <span data-ttu-id="c663c-264">Cosmos DB ondersteunt volgehouden volume zeer snel schrijfbewerkingen tijdens afhandeling van nog steeds consistente query's.</span><span class="sxs-lookup"><span data-stu-id="c663c-264">Cosmos DB supports sustained volume of extremely fast writes while still serving consistent queries.</span></span> <span data-ttu-id="c663c-265">Zowel document als index opslag worden gebruikt voor het berekenen van de opslag die door elke verzameling worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="c663c-265">Both document and index storage are used to calculate the storage consumed by each collection.</span></span> <span data-ttu-id="c663c-266">U kunt de opslag en prestaties verschillen die zijn gekoppeld aan het indexeren door het indexeringsbeleid voor een verzameling configureren kunt beheren.</span><span class="sxs-lookup"><span data-stu-id="c663c-266">You can control the storage and performance trade-offs associated with indexing by configuring the indexing policy for a collection.</span></span> 

### <a name="configuring-the-indexing-policy-of-a-collection"></a><span data-ttu-id="c663c-267">Het indexeringsbeleid van een verzameling configureren</span><span class="sxs-lookup"><span data-stu-id="c663c-267">Configuring the indexing policy of a collection</span></span>
<span data-ttu-id="c663c-268">Het indexeringsbeleid van elke verzameling kunt u afweging prestaties en opslag die is gekoppeld aan het indexeren.</span><span class="sxs-lookup"><span data-stu-id="c663c-268">The indexing policy of each collection allows you to make performance and storage trade-offs associated with indexing.</span></span> <span data-ttu-id="c663c-269">De volgende opties zijn beschikbaar voor u als onderdeel van de indexing-configuratie:</span><span class="sxs-lookup"><span data-stu-id="c663c-269">The following options are available to you as part of indexing configuration:</span></span>  

* <span data-ttu-id="c663c-270">Kies of de verzameling automatisch alle documenten of niet indexeert.</span><span class="sxs-lookup"><span data-stu-id="c663c-270">Choose whether the collection automatically indexes all of the documents or not.</span></span> <span data-ttu-id="c663c-271">Alle documenten worden standaard automatisch geïndexeerd.</span><span class="sxs-lookup"><span data-stu-id="c663c-271">By default, all documents are automatically indexed.</span></span> <span data-ttu-id="c663c-272">U kunt automatische indexering uitschakelen en alleen bepaalde documenten selectief toevoegen aan de index.</span><span class="sxs-lookup"><span data-stu-id="c663c-272">You can choose to turn off automatic indexing and selectively add only specific documents to the index.</span></span> <span data-ttu-id="c663c-273">U kunt echter selectief moeten worden uitgesloten van alleen specifieke documenten.</span><span class="sxs-lookup"><span data-stu-id="c663c-273">Conversely, you can selectively choose to exclude only specific documents.</span></span> <span data-ttu-id="c663c-274">U kunt dit doen door de instelling automatische-eigenschap true of false zijn op de indexingPolicy van een verzameling en het gebruik van de aanvraagheader [x-ms-indexingdirective] tijdens het invoegen, vervangen of verwijderen van een document.</span><span class="sxs-lookup"><span data-stu-id="c663c-274">You can achieve this by setting the automatic property to be true or false on the indexingPolicy of a collection and using the [x-ms-indexingdirective] request header while inserting, replacing or deleting a document.</span></span>  
* <span data-ttu-id="c663c-275">Kies of u wilt opnemen of uitsluiten van specifieke paden of patronen in uw documenten van de index.</span><span class="sxs-lookup"><span data-stu-id="c663c-275">Choose whether to include or exclude specific paths or patterns in your documents from the index.</span></span> <span data-ttu-id="c663c-276">U kunt dit doen door de instelling includedPaths en excludedPaths op de indexingPolicy van een verzameling respectievelijk.</span><span class="sxs-lookup"><span data-stu-id="c663c-276">You can achieve this by setting includedPaths and excludedPaths on the indexingPolicy of a collection respectively.</span></span> <span data-ttu-id="c663c-277">U kunt ook de opslag en prestaties verschillen voor bereik en hash-query's voor een specifiek pad patronen configureren.</span><span class="sxs-lookup"><span data-stu-id="c663c-277">You can also configure the storage and performance trade-offs for range and hash queries for specific path patterns.</span></span> 
* <span data-ttu-id="c663c-278">Kiezen tussen synchrone (consistent) en indexupdates van asynchrone (lazy).</span><span class="sxs-lookup"><span data-stu-id="c663c-278">Choose between synchronous (consistent) and asynchronous (lazy) index updates.</span></span> <span data-ttu-id="c663c-279">De index wordt standaard synchroon bijgewerkt op elke invoegen, vervangen of verwijderen van een document aan de verzameling.</span><span class="sxs-lookup"><span data-stu-id="c663c-279">By default, the index is updated synchronously on each insert, replace or delete of a document to the collection.</span></span> <span data-ttu-id="c663c-280">Hierdoor kan de query's te houden van hetzelfde consistentieniveau als die van het document leest.</span><span class="sxs-lookup"><span data-stu-id="c663c-280">This enables the queries to honor the same consistency level as that of the document reads.</span></span> <span data-ttu-id="c663c-281">Hoewel Cosmos DB geoptimaliseerd voor schrijven is en volgehouden volumes van document schrijfbewerkingen samen met synchrone index onderhoud ten behoeve van consistente query's ondersteunt, kunt u bepaalde verzamelingen voor het bijwerken van de index traag kunt configureren.</span><span class="sxs-lookup"><span data-stu-id="c663c-281">While Cosmos DB is write optimized and supports sustained volumes of document writes along with synchronous index maintenance and serving consistent queries, you can configure certain collections to update their index lazily.</span></span> <span data-ttu-id="c663c-282">Vertraagde indexeren verder de prestaties voor schrijven en is ideaal voor bulksgewijs opname scenario's voor voornamelijk lezen zware verzamelingen.</span><span class="sxs-lookup"><span data-stu-id="c663c-282">Lazy indexing boosts the write performance further and is ideal for bulk ingestion scenarios for primarily read-heavy collections.</span></span>

<span data-ttu-id="c663c-283">Het indexeringsbeleid kan worden gewijzigd door het uitvoeren van een PUT voor de verzameling.</span><span class="sxs-lookup"><span data-stu-id="c663c-283">The indexing policy can be changed by executing a PUT on the collection.</span></span> <span data-ttu-id="c663c-284">Dit kan worden bereikt via de [client SDK](documentdb-sdk-dotnet.md), wordt de [Azure Portal](https://portal.azure.com) of de [REST-API's](/rest/api/documentdb/).</span><span class="sxs-lookup"><span data-stu-id="c663c-284">This can be achieved either through the [client SDK](documentdb-sdk-dotnet.md), the [Azure Portal](https://portal.azure.com) or the [REST APIs](/rest/api/documentdb/).</span></span>

### <a name="querying-a-collection"></a><span data-ttu-id="c663c-285">Opvragen van een verzameling</span><span class="sxs-lookup"><span data-stu-id="c663c-285">Querying a collection</span></span>
<span data-ttu-id="c663c-286">De documenten binnen een verzameling kunnen willekeurige schema's en u kunt documenten binnen een verzameling query zonder op te geven van een schema of secundaire indexen tevoren betaalt.</span><span class="sxs-lookup"><span data-stu-id="c663c-286">The documents within a collection can have arbitrary schemas and you can query documents within a collection without providing any schema or secondary indices upfront.</span></span> <span data-ttu-id="c663c-287">U kunt een query de verzameling met behulp van de [Azure Cosmos DB DocumentDB-API: naslaginformatie voor SQL-syntaxis](https://msdn.microsoft.com/library/azure/dn782250.aspx), waarmee u uitgebreide hiërarchische, ruimtelijke en relationele operators en uitbreidingsmogelijkheden via UDF's op basis van JavaScript.</span><span class="sxs-lookup"><span data-stu-id="c663c-287">You can query the collection using the [Azure Cosmos DB DocumentDB API: SQL syntax reference](https://msdn.microsoft.com/library/azure/dn782250.aspx), which provides rich hierarchical, relational, and spatial operators and extensibility via JavaScript-based UDFs.</span></span> <span data-ttu-id="c663c-288">JSON-grammatica biedt de mogelijkheid voor het modelleren van JSON-documenten als structuren met labels als structuurknooppunten.</span><span class="sxs-lookup"><span data-stu-id="c663c-288">JSON grammar allows for modeling JSON documents as trees with labels as the tree nodes.</span></span> <span data-ttu-id="c663c-289">Dit is zowel door automatische indexering technieken DocumentDB-API, evenals een van de API van de DocumentDB SQL-dialect misbruikt.</span><span class="sxs-lookup"><span data-stu-id="c663c-289">This is exploited both by DocumentDB API’s automatic indexing techniques as well as DocumentDB API's SQL dialect.</span></span> <span data-ttu-id="c663c-290">De querytaal DocumetDB API bestaat uit drie belangrijkste aspecten:</span><span class="sxs-lookup"><span data-stu-id="c663c-290">The DocumetDB API query language consists of three main aspects:</span></span>   

1. <span data-ttu-id="c663c-291">Een kleine set querybewerkingen dat natuurlijk worden toegewezen aan de boomstructuur met inbegrip van hiërarchische query's en projecties.</span><span class="sxs-lookup"><span data-stu-id="c663c-291">A small set of query operations that map naturally to the tree structure including hierarchical queries and projections.</span></span> 
2. <span data-ttu-id="c663c-292">Een subset van relationele bewerkingen inclusief samenstelling, filter, projecties, statistische functies en self joins.</span><span class="sxs-lookup"><span data-stu-id="c663c-292">A subset of relational operations including composition, filter, projections, aggregates and self joins.</span></span> 
3. <span data-ttu-id="c663c-293">Pure JavaScript gebaseerd UDF's die met werken (1) en (2).</span><span class="sxs-lookup"><span data-stu-id="c663c-293">Pure JavaScript based UDFs that work with (1) and (2).</span></span>  

<span data-ttu-id="c663c-294">Het model Cosmos-DB-query probeert toegang te bieden een evenwicht tussen functionaliteit, efficiëntie en eenvoud.</span><span class="sxs-lookup"><span data-stu-id="c663c-294">The Cosmos DB query model attempts to strike a balance between functionality, efficiency and simplicity.</span></span> <span data-ttu-id="c663c-295">De database-engine Cosmos DB systeemeigen compileert en voert de SQL-query-instructies.</span><span class="sxs-lookup"><span data-stu-id="c663c-295">The Cosmos DB database engine natively compiles and executes the SQL query statements.</span></span> <span data-ttu-id="c663c-296">U kunt een verzameling met een query de [REST-API's](/rest/api/documentdb/) of een van de [client-SDK's](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c663c-296">You can query a collection using the [REST APIs](/rest/api/documentdb/) or any of the [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="c663c-297">De .NET SDK wordt geleverd met een LINQ-provider.</span><span class="sxs-lookup"><span data-stu-id="c663c-297">The .NET SDK comes with a LINQ provider.</span></span>

> [!TIP]
> <span data-ttu-id="c663c-298">U kunt de DocumentDB-API uitproberen en SQL-query's uitvoeren op onze gegevensset in de [Queryspeelplaats](https://www.documentdb.com/sql/demo).</span><span class="sxs-lookup"><span data-stu-id="c663c-298">You can try out the DocumentDB API and run SQL queries against our dataset in the [Query Playground](https://www.documentdb.com/sql/demo).</span></span>
> 
> 

## <a name="multi-document-transactions"></a><span data-ttu-id="c663c-299">Transacties met meerdere documenten</span><span class="sxs-lookup"><span data-stu-id="c663c-299">Multi-document transactions</span></span>
<span data-ttu-id="c663c-300">Databasetransacties bieden een veilige en voorspelbare programmeermodel voor het omgaan met gelijktijdige wijzigingen in de gegevens.</span><span class="sxs-lookup"><span data-stu-id="c663c-300">Database transactions provide a safe and predictable programming model for dealing with concurrent changes to the data.</span></span> <span data-ttu-id="c663c-301">In RDBMS, de traditionele manier om te schrijven van bedrijfsregels in te schakelen, is het schrijven van **opgeslagen procedures** en/of **triggers** en verzendt het naar de database-server voor de transactionele uitvoering.</span><span class="sxs-lookup"><span data-stu-id="c663c-301">In RDBMS, the traditional way to write business logic is to write **stored-procedures** and/or **triggers** and ship it to the database server for transactional execution.</span></span> <span data-ttu-id="c663c-302">In RDBMS, wordt de toepassing programmeurs vereist om te gaan met twee verschillende programmeertalen:</span><span class="sxs-lookup"><span data-stu-id="c663c-302">In RDBMS, the application programmer is required to deal with two disparate programming languages:</span></span> 

* <span data-ttu-id="c663c-303">De (niet-transactionele) toepassing programmeertaal (zoals JavaScript, Python, C#, Java, enz.)</span><span class="sxs-lookup"><span data-stu-id="c663c-303">The (non-transactional) application programming language (e.g. JavaScript, Python, C#, Java, etc.)</span></span>
* <span data-ttu-id="c663c-304">T-SQL, de transactionele programmeertaal die standaard wordt uitgevoerd door de database</span><span class="sxs-lookup"><span data-stu-id="c663c-304">T-SQL, the transactional programming language which is natively executed by the database</span></span>

<span data-ttu-id="c663c-305">Doordat de grondige inzet voor JavaScript en JSON rechtstreeks in de database-engine biedt Cosmos DB een intuïtieve programmeermodel voor het uitvoeren op basis van JavaScript-toepassingslogica rechtstreeks op de verzamelingen in termen van opgeslagen procedures en triggers.</span><span class="sxs-lookup"><span data-stu-id="c663c-305">By virtue of its deep commitment to JavaScript and JSON directly within the database engine, Cosmos DB provides an intuitive programming model for executing JavaScript based application logic directly on the collections in terms of stored procedures and triggers.</span></span> <span data-ttu-id="c663c-306">Hiermee kunt u het volgende:</span><span class="sxs-lookup"><span data-stu-id="c663c-306">This allows for both of the following:</span></span>

* <span data-ttu-id="c663c-307">Efficiënte implementatie van gelijktijdigheid van taken worden beheerd, herstel, automatische indexering van de JSON-objectgrafieken rechtstreeks in de database-engine</span><span class="sxs-lookup"><span data-stu-id="c663c-307">Efficient implementation of concurrency control, recovery, automatic indexing of the JSON object graphs directly in the database engine</span></span>
* <span data-ttu-id="c663c-308">Natuurlijk uitdrukken Controlestroom, variabele scoping, toewijzing en integratie van primitieven met databasetransacties rechtstreeks in termen van de programmeertaal JavaScript uitzonderingsverwerking</span><span class="sxs-lookup"><span data-stu-id="c663c-308">Naturally expressing control flow, variable scoping, assignment and integration of exception handling primitives with database transactions directly in terms of the JavaScript programming language</span></span>

<span data-ttu-id="c663c-309">De JavaScript-logica geregistreerd op het niveau van een verzameling kan databasebewerkingen uitvoeren op de documenten van de opgegeven verzameling vervolgens uitgeven.</span><span class="sxs-lookup"><span data-stu-id="c663c-309">The JavaScript logic registered at a collection level can then issue database operations on the documents of the given collection.</span></span> <span data-ttu-id="c663c-310">Cosmos DB verpakt impliciet op basis van de JavaScript opgeslagen procedures en triggers binnen een ambient ACID-transactions met snapshot-isolatie meerdere documenten binnen een verzameling.</span><span class="sxs-lookup"><span data-stu-id="c663c-310">Cosmos DB implicitly wraps the JavaScript based stored procedures and triggers within an ambient ACID transactions with snapshot isolation across documents within a collection.</span></span> <span data-ttu-id="c663c-311">Als er tijdens de uitvoering een JavaScript-uitzondering optreedt, wordt de volledige transactie afgebroken.</span><span class="sxs-lookup"><span data-stu-id="c663c-311">During the course of its execution, if the JavaScript throws an exception, then the entire transaction is aborted.</span></span> <span data-ttu-id="c663c-312">Het resulterende programmeermodel is een zeer eenvoudige maar krachtige.</span><span class="sxs-lookup"><span data-stu-id="c663c-312">The resulting programming model is a very simple yet powerful.</span></span> <span data-ttu-id="c663c-313">JavaScript-ontwikkelaars ophalen een 'duurzame' programmeermodel terwijl u ook hun bekend taalconstructs en bibliotheek primitieven</span><span class="sxs-lookup"><span data-stu-id="c663c-313">JavaScript developers get a “durable” programming model while still using their familiar language constructs and library primitives.</span></span>   

<span data-ttu-id="c663c-314">De mogelijkheid om uit te voeren van JavaScript rechtstreeks in de database-engine in dezelfde adresruimte als de buffergroep maakt zodat en transactionele uitvoering van de activiteiten van de database op de documenten van een verzameling.</span><span class="sxs-lookup"><span data-stu-id="c663c-314">The ability to execute JavaScript directly within the database engine in the same address space as the buffer pool enables performant and transactional execution of database operations against the documents of a collection.</span></span> <span data-ttu-id="c663c-315">Bovendien Cosmos DB database-engine maakt een grondige toezegging voor de JSON en JavaScript elimineert impedantie niet overeenkomen tussen de systemen type van de toepassing en de database.</span><span class="sxs-lookup"><span data-stu-id="c663c-315">Furthermore, Cosmos DB database engine makes a deep commitment to the JSON and JavaScript eliminates any impedance mismatch between the type systems of application and the database.</span></span>   

<span data-ttu-id="c663c-316">Nadat u een verzameling maakt, kunt u opgeslagen procedures, triggers en UDF's registreren met een verzameling met de [REST-API's](/rest/api/documentdb/) of een van de [client-SDK's](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c663c-316">After creating a collection, you can register stored procedures, triggers and UDFs with a collection using the [REST APIs](/rest/api/documentdb/) or any of the [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="c663c-317">U kunt verwijzen naar en ze worden uitgevoerd na de registratie.</span><span class="sxs-lookup"><span data-stu-id="c663c-317">After registration, you can reference and execute them.</span></span> <span data-ttu-id="c663c-318">Houd rekening met de volgende opgeslagen procedure volledig in JavaScript is geschreven, hieronder de code in twee argumenten (naam en de naam van auteur) en maakt een nieuw document, query's voor een document en werkt vervolgens het – alle binnen een impliciete ACID-transactie.</span><span class="sxs-lookup"><span data-stu-id="c663c-318">Consider the following stored procedure written entirely in JavaScript, the code below takes two arguments (book name and author name) and creates a new document, queries for a document and then updates it – all within an implicit ACID transaction.</span></span> <span data-ttu-id="c663c-319">Op elk moment tijdens het uitvoeren als een JavaScript-uitzondering is opgetreden, de hele transactie afgebroken.</span><span class="sxs-lookup"><span data-stu-id="c663c-319">At any point during the execution, if a JavaScript exception is thrown, the entire transaction aborts.</span></span>

    function businessLogic(name, author) {
        var context = getContext();
        var collectionManager = context.getCollection();        
        var collectionLink = collectionManager.getSelfLink()

        // create a new document.
        collectionManager.createDocument(collectionLink,
            {id: name, author: author},
            function(err, documentCreated) {
                if(err) throw new Error(err.message);

                // filter documents by author
                var filterQuery = "SELECT * from root r WHERE r.author = 'George R.'";
                collectionManager.queryDocuments(collectionLink,
                    filterQuery,
                    function(err, matchingDocuments) {
                        if(err) throw new Error(err.message);

                        context.getResponse().setBody(matchingDocuments.length);

                        // Replace the author name for all documents that satisfied the query.
                        for (var i = 0; i < matchingDocuments.length; i++) {
                            matchingDocuments[i].author = "George R. R. Martin";
                            // we don’t need to execute a callback because they are in parallel
                            collectionManager.replaceDocument(matchingDocuments[i]._self,
                                matchingDocuments[i]);   
                        }
                    })
            })
    };

<span data-ttu-id="c663c-320">De client kan 'verzenden' de bovenstaande JavaScript-logica voor de database voor transactionele uitvoering via HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="c663c-320">The client can “ship” the above JavaScript logic to the database for transactional execution via HTTP POST.</span></span> <span data-ttu-id="c663c-321">Zie voor meer informatie over het gebruik van HTTP-methoden [RESTful interacties met Azure Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span><span class="sxs-lookup"><span data-stu-id="c663c-321">For more information about using HTTP methods, see [RESTful interactions with Azure Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span></span> 

    client.createStoredProcedureAsync(collection._self, {id: "CRUDProc", body: businessLogic})
       .then(function(createdStoredProcedure) {
            return client.executeStoredProcedureAsync(createdStoredProcedure.resource._self,
                "NoSQL Distilled",
                "Martin Fowler");
        })
        .then(function(result) {
            console.log(result);
        },
        function(error) {
            console.log(error);
        });


<span data-ttu-id="c663c-322">U ziet dat omdat de database systeemeigen JSON en JavaScript begrijpt, er is geen niet-overeenkomend gegevenstype system, geen 'OR toewijzing' of code generatie magic vereist.</span><span class="sxs-lookup"><span data-stu-id="c663c-322">Notice that because the database natively understands JSON and JavaScript, there is no type system mismatch, no “OR mapping” or code generation magic required.</span></span>   

<span data-ttu-id="c663c-323">Opgeslagen procedures en triggers communiceren met een verzameling en de documenten in een verzameling via een goed gedefinieerde objectmodel, waarmee de huidige context van de verzameling.</span><span class="sxs-lookup"><span data-stu-id="c663c-323">Stored procedures and triggers interact with a collection and the documents in a collection through a well-defined object model, which exposes the current collection context.</span></span>  

<span data-ttu-id="c663c-324">Verzamelingen in de DocumentDB-API kunnen worden gemaakt, verwijderd, lezen of genummerd eenvoudig met behulp van de [REST-API's](/rest/api/documentdb/) of een van de [client-SDK's](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c663c-324">Collections in the DocumentDB API can be created, deleted, read or enumerated easily using either the [REST APIs](/rest/api/documentdb/) or any of the [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="c663c-325">De DocumentDB-API biedt altijd sterke consistentie voor lezen en het opvragen van de metagegevens van een verzameling.</span><span class="sxs-lookup"><span data-stu-id="c663c-325">The DocumentDB API always provides strong consistency for reading or querying the metadata of a collection.</span></span> <span data-ttu-id="c663c-326">Als u een verzameling verwijdert, wordt automatisch zorgt ervoor dat u geen toegang de documenten, bijlagen, opgeslagen procedures, triggers tot en UDF's daarin.</span><span class="sxs-lookup"><span data-stu-id="c663c-326">Deleting a collection automatically ensures that you cannot access any of the documents, attachments, stored procedures, triggers, and UDFs contained within it.</span></span>   

## <a name="stored-procedures-triggers-and-user-defined-functions-udf"></a><span data-ttu-id="c663c-327">Opgeslagen procedures, triggers en de gebruiker gedefinieerde functies (UDF)</span><span class="sxs-lookup"><span data-stu-id="c663c-327">Stored procedures, triggers and User Defined Functions (UDF)</span></span>
<span data-ttu-id="c663c-328">Zoals beschreven in de vorige sectie, kunt u toepassingslogica rechtstreeks binnen een transactie in de database-engine kunt uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="c663c-328">As described in the previous section, you can write application logic to run directly within a transaction inside of the database engine.</span></span> <span data-ttu-id="c663c-329">De toepassingslogica volledig in JavaScript kan worden geschreven en kan worden gemodelleerd als een opgeslagen procedure, trigger of een UDF.</span><span class="sxs-lookup"><span data-stu-id="c663c-329">The application logic can be written entirely in JavaScript and can be modeled as a stored procedure, trigger or a UDF.</span></span> <span data-ttu-id="c663c-330">De JavaScript-code binnen een opgeslagen procedure of een trigger kunt invoegen, vervangen, lees- of documenten binnen een verzameling verwijderen.</span><span class="sxs-lookup"><span data-stu-id="c663c-330">The JavaScript code within a stored procedure or a trigger can insert, replace, delete, read or query documents within a collection.</span></span> <span data-ttu-id="c663c-331">JavaScript binnen een UDF kan niet aan de andere kant invoegen, vervangen of verwijderen van documenten.</span><span class="sxs-lookup"><span data-stu-id="c663c-331">On the other hand, the JavaScript within a UDF cannot insert, replace, or delete documents.</span></span> <span data-ttu-id="c663c-332">UDF's de documenten van de resultatenset van een query inventariseren en produceren van een andere resultatenset.</span><span class="sxs-lookup"><span data-stu-id="c663c-332">UDFs enumerate the documents of a query's result set and produce another result set.</span></span> <span data-ttu-id="c663c-333">Cosmos DB afgedwongen voor multitenancy, een strikte reservering op basis van resource governance.</span><span class="sxs-lookup"><span data-stu-id="c663c-333">For multi-tenancy, Cosmos DB enforces a strict reservation based resource governance.</span></span> <span data-ttu-id="c663c-334">Elk opgeslagen procedure, trigger of een UDF opgehaald van een vaste quantum van besturingssysteem resources voor het werk.</span><span class="sxs-lookup"><span data-stu-id="c663c-334">Each stored procedure, trigger or a UDF gets a fixed quantum of operating system resources to do its work.</span></span> <span data-ttu-id="c663c-335">Bovendien opgeslagen procedures, triggers of UDF's kunnen geen koppeling tegen externe JavaScript-bibliotheken en als deze groter is dan de resource-budgetten toegewezen aan hen zijn gebeurd.</span><span class="sxs-lookup"><span data-stu-id="c663c-335">Furthermore, stored procedures, triggers or UDFs cannot link against external JavaScript libraries and are blacklisted if they exceed the resource budgets allocated to them.</span></span> <span data-ttu-id="c663c-336">U kunt registreren, opgeslagen procedures, triggers of UDF's registratie met een verzameling met de REST-API's.</span><span class="sxs-lookup"><span data-stu-id="c663c-336">You can register, unregister stored procedures, triggers or UDFs with a collection by using the REST APIs.</span></span>  <span data-ttu-id="c663c-337">Bij de registratie een opgeslagen procedure, trigger of een UDF vooraf gecompileerd en opgeslagen als de code van de bytes die later wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="c663c-337">Upon registration a stored procedure, trigger, or a UDF is pre-compiled and stored as byte code which gets executed later.</span></span> <span data-ttu-id="c663c-338">De volgende sectie laten zien hoe u kunt de Cosmos DB JavaScript SDK registreren, het uitvoeren en het ongedaan maken van een opgeslagen procedure, trigger en een UDF.</span><span class="sxs-lookup"><span data-stu-id="c663c-338">The following section illustrate how you can use the Cosmos DB JavaScript SDK to register, execute, and unregister a stored procedure, trigger, and a UDF.</span></span> <span data-ttu-id="c663c-339">De JavaScript-SDK is een eenvoudige wrapper via de [REST-API's](/rest/api/documentdb/).</span><span class="sxs-lookup"><span data-stu-id="c663c-339">The JavaScript SDK is a simple wrapper over the [REST APIs](/rest/api/documentdb/).</span></span> 

### <a name="registering-a-stored-procedure"></a><span data-ttu-id="c663c-340">Registreren van een opgeslagen procedure</span><span class="sxs-lookup"><span data-stu-id="c663c-340">Registering a stored procedure</span></span>
<span data-ttu-id="c663c-341">De registratie van een opgeslagen procedure maakt een nieuwe resource van de opgeslagen procedure op een verzameling via HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="c663c-341">Registration of a stored procedure creates a new stored procedure resource on a collection via HTTP POST.</span></span>  

    var storedProc = {
        id: "validateAndCreate",
        body: function (documentToCreate) {
            documentToCreate.id = documentToCreate.id.toUpperCase();

            var collectionManager = getContext().getCollection();
            collectionManager.createDocument(collectionManager.getSelfLink(),
                documentToCreate,
                function(err, documentCreated) {
                    if(err) throw new Error('Error while creating document: ' + err.message;
                    getContext().getResponse().setBody('success - created ' + 
                            documentCreated.name);
                });
        }
    };

    client.createStoredProcedureAsync(collection._self, storedProc)
        .then(function (createdStoredProcedure) {
            console.log("Successfully created stored procedure");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-stored-procedure"></a><span data-ttu-id="c663c-342">Uitvoeren van een opgeslagen procedure</span><span class="sxs-lookup"><span data-stu-id="c663c-342">Executing a stored procedure</span></span>
<span data-ttu-id="c663c-343">Uitvoering van een opgeslagen procedure wordt gedaan door uitgifte van een HTTP POST op basis van een bestaande resource in de opgeslagen procedure met parameters wordt doorgegeven aan de procedure in de aanvraagtekst.</span><span class="sxs-lookup"><span data-stu-id="c663c-343">Execution of a stored procedure is done by issuing an HTTP POST against an existing stored procedure resource by passing parameters to the procedure in the request body.</span></span>

    var inputDocument = {id : "document1", author: "G. G. Marquez"};
    client.executeStoredProcedureAsync(createdStoredProcedure.resource._self, inputDocument)
        .then(function(executionResult) {
            assert.equal(executionResult, "success - created DOCUMENT1");
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-stored-procedure"></a><span data-ttu-id="c663c-344">De registratie van een opgeslagen procedure</span><span class="sxs-lookup"><span data-stu-id="c663c-344">Unregistering a stored procedure</span></span>
<span data-ttu-id="c663c-345">De registratie van een opgeslagen procedure wordt gewoon door uitgifte van een HTTP DELETE op basis van een bestaande resource in de opgeslagen procedure uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="c663c-345">Unregistering a stored procedure is simply done by issuing an HTTP DELETE against an existing stored procedure resource.</span></span>   

    client.deleteStoredProcedureAsync(createdStoredProcedure.resource._self)
        .then(function (response) {
            return;
        }, function(error) {
            console.log("Error");
        });


### <a name="registering-a-pre-trigger"></a><span data-ttu-id="c663c-346">Registratie van een vooraf trigger</span><span class="sxs-lookup"><span data-stu-id="c663c-346">Registering a pre-trigger</span></span>
<span data-ttu-id="c663c-347">De registratie van een trigger wordt uitgevoerd door een nieuwe trigger-resource maken in een verzameling via HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="c663c-347">Registration of a trigger is done by creating a new trigger resource on a collection via HTTP POST.</span></span> <span data-ttu-id="c663c-348">U kunt opgeven als de trigger een vooraf is of een trigger post en het type van de bewerking kan het worden gekoppeld aan (bijvoorbeeld maken, Replace, Delete of alle).</span><span class="sxs-lookup"><span data-stu-id="c663c-348">You can specify if the trigger is a pre or a post trigger and the type of operation it can be associated with (e.g. Create, Replace, Delete, or All).</span></span>   

    var preTrigger = {
        id: "upperCaseId",
        body: function() {
                var item = getContext().getRequest().getBody();
                item.id = item.id.toUpperCase();
                getContext().getRequest().setBody(item);
        },
        triggerType: TriggerType.Pre,
        triggerOperation: TriggerOperation.All
    }

    client.createTriggerAsync(collection._self, preTrigger)
        .then(function (createdPreTrigger) {
            console.log("Successfully created trigger");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-pre-trigger"></a><span data-ttu-id="c663c-349">Uitvoeren van een vooraf trigger</span><span class="sxs-lookup"><span data-stu-id="c663c-349">Executing a pre-trigger</span></span>
<span data-ttu-id="c663c-350">De uitvoering van een trigger wordt uitgevoerd door de naam van een bestaande trigger opgeven op het moment van de aanvraag POST, PUT, verwijderen van een documentbron via de aanvraagheader uitgeven.</span><span class="sxs-lookup"><span data-stu-id="c663c-350">Execution of a trigger is done by specifying the name of an existing trigger at the time of issuing the POST/PUT/DELETE request of a document resource via the request header.</span></span>  

    client.createDocumentAsync(collection._self, { id: "doc1", key: "Love in the Time of Cholera" }, { preTriggerInclude: "upperCaseId" })
        .then(function(createdDocument) {
            assert.equal(createdDocument.resource.id, "DOC1");
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-pre-trigger"></a><span data-ttu-id="c663c-351">De registratie van een vooraf trigger</span><span class="sxs-lookup"><span data-stu-id="c663c-351">Unregistering a pre-trigger</span></span>
<span data-ttu-id="c663c-352">De registratie van een trigger wordt gewoon uitgevoerd via het uitgeven van een HTTP DELETE op basis van een bestaande trigger-resource.</span><span class="sxs-lookup"><span data-stu-id="c663c-352">Unregistering a trigger is simply done via issuing an HTTP DELETE against an existing trigger resource.</span></span>  

    client.deleteTriggerAsync(createdPreTrigger._self);
        .then(function(response) {
            return;
        }, function(error) {
            console.log("Error");
        });

### <a name="registering-a-udf"></a><span data-ttu-id="c663c-353">Registreren van een UDF</span><span class="sxs-lookup"><span data-stu-id="c663c-353">Registering a UDF</span></span>
<span data-ttu-id="c663c-354">De registratie van een UDF wordt uitgevoerd door een nieuwe UDF-resource maken in een verzameling via HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="c663c-354">Registration of a UDF is done by creating a new UDF resource on a collection via HTTP POST.</span></span>  

    var udf = { 
        id: "mathSqrt",
        body: function(number) {
                return Math.sqrt(number);
        },
    };
    client.createUserDefinedFunctionAsync(collection._self, udf)
        .then(function (createdUdf) {
            console.log("Successfully created stored procedure");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-udf-as-part-of-the-query"></a><span data-ttu-id="c663c-355">Een UDF als onderdeel van de query wordt uitgevoerd</span><span class="sxs-lookup"><span data-stu-id="c663c-355">Executing a UDF as part of the query</span></span>
<span data-ttu-id="c663c-356">Een UDF kan worden opgegeven als deel van de SQL-query en wordt gebruikt als een manier om uit te breiden de kern [SQL-querytaal voor de API DocumentDB](https://msdn.microsoft.com/library/azure/dn782250.aspx).</span><span class="sxs-lookup"><span data-stu-id="c663c-356">A UDF can be specified as part of the SQL query and is used as a way to extend the core [SQL query language for the DocumentDB API](https://msdn.microsoft.com/library/azure/dn782250.aspx).</span></span>

    var filterQuery = "SELECT udf.mathSqrt(r.Age) AS sqrtAge FROM root r WHERE r.FirstName='John'";
    client.queryDocuments(collection._self, filterQuery).toArrayAsync();
        .then(function(queryResponse) {
            var queryResponseDocuments = queryResponse.feed;
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-udf"></a><span data-ttu-id="c663c-357">De registratie van een UDF</span><span class="sxs-lookup"><span data-stu-id="c663c-357">Unregistering a UDF</span></span>
<span data-ttu-id="c663c-358">De registratie van een UDF gebeurt gewoon door uitgifte van een HTTP DELETE op basis van een bestaande UDF-resource.</span><span class="sxs-lookup"><span data-stu-id="c663c-358">Unregistering a UDF is simply done by issuing an HTTP DELETE against an existing UDF resource.</span></span>  

    client.deleteUserDefinedFunctionAsync(createdUdf._self)
        .then(function(response) {
            return;
        }, function(error) {
            console.log("Error");
        });

<span data-ttu-id="c663c-359">Hoewel de bovenstaande codefragmenten de registratie (POST), registratie (PUT), (GET) lijst/lezen en uitvoeren (POST) via de [JavaScript SDK](https://github.com/Azure/azure-documentdb-js), u kunt ook de [REST-API's](/rest/api/documentdb/) of andere [ Client-SDK's](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c663c-359">Although the snippets above showed the registration (POST), unregistration (PUT), read/list (GET) and execution (POST) via the [JavaScript SDK](https://github.com/Azure/azure-documentdb-js), you can also use the [REST APIs](/rest/api/documentdb/) or other [client SDKs](documentdb-sdk-dotnet.md).</span></span> 

## <a name="documents"></a><span data-ttu-id="c663c-360">Documenten</span><span class="sxs-lookup"><span data-stu-id="c663c-360">Documents</span></span>
<span data-ttu-id="c663c-361">U kunt invoegen, vervangen, verwijderen, lezen, opsommen en willekeurige JSON-documenten in een verzameling opvragen.</span><span class="sxs-lookup"><span data-stu-id="c663c-361">You can insert, replace, delete, read, enumerate and query arbitrary JSON documents in a collection.</span></span> <span data-ttu-id="c663c-362">Cosmos DB schrijft geen schema niet en vereist geen secundaire indexen ter ondersteuning van uitvoeren van query's over documenten in een verzameling.</span><span class="sxs-lookup"><span data-stu-id="c663c-362">Cosmos DB does not mandate any schema and does not require secondary indexes in order to support querying over documents in a collection.</span></span> <span data-ttu-id="c663c-363">De maximale grootte voor een document is 2 MB.</span><span class="sxs-lookup"><span data-stu-id="c663c-363">The maximum size for a document is 2 MB.</span></span>   

<span data-ttu-id="c663c-364">Wordt een echt geopende database-service, Cosmos-database komt niet voor voorraad eventuele speciale gegevenstypen (bijvoorbeeld een datum-tijd) of specifieke coderingen voor JSON-documenten.</span><span class="sxs-lookup"><span data-stu-id="c663c-364">Being a truly open database service, Cosmos DB does not invent any specialized data types (e.g. date time) or specific encodings for JSON documents.</span></span> <span data-ttu-id="c663c-365">Houd er rekening mee dat Cosmos DB geen vereist speciale JSON conventies samen te vatten de relaties tussen verschillende documenten; de SQL-syntaxis van de Cosmos-DB biedt een zeer krachtige query voor hiërarchische en relationele operators van de query- en documenten zonder speciale aantekeningen of moeten samen te vatten relaties tussen documenten met elkaar worden onderscheiden eigenschappen.</span><span class="sxs-lookup"><span data-stu-id="c663c-365">Note that Cosmos DB does not require any special JSON conventions to codify the relationships among various documents; the SQL syntax of Cosmos DB provides very powerful hierarchical and relational query operators to query and project documents without any special annotations or need to codify relationships among documents using distinguished properties.</span></span>  

<span data-ttu-id="c663c-366">Zoals met andere resources, documenten kunnen worden gemaakt, vervangen, verwijderd, lezen, geïnventariseerd en opgevraagd eenvoudig met REST-API's of een van de [client-SDK's](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c663c-366">As with all other resources, documents can be created, replaced, deleted, read, enumerated and queried easily using either REST APIs or any of the [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="c663c-367">Verwijderen van een document onmiddellijk vrijgemaakt het quotum dat overeenkomt met alle geneste bijlagen.</span><span class="sxs-lookup"><span data-stu-id="c663c-367">Deleting a document instantly frees up the quota corresponding to all of the nested attachments.</span></span> <span data-ttu-id="c663c-368">Het niveau van het lezen van consistentie van documenten volgt het beleid voor consistentiecontrole op de account van de database.</span><span class="sxs-lookup"><span data-stu-id="c663c-368">The read consistency level of documents follows the consistency policy on the database account.</span></span> <span data-ttu-id="c663c-369">Dit beleid kan worden genegeerd op basis van per aanvraag, afhankelijk van de gegevens consistent vereisten van uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="c663c-369">This policy can be overridden on a per-request basis depending on data consistency requirements of your application.</span></span> <span data-ttu-id="c663c-370">Tijdens het opvragen van documenten, volgt het lezen van consistentie de indexering modus ingesteld voor de verzameling.</span><span class="sxs-lookup"><span data-stu-id="c663c-370">When querying documents, the read consistency follows the indexing mode set on the collection.</span></span> <span data-ttu-id="c663c-371">Dit volgt de accountbeleid consistentie voor 'consistent'.</span><span class="sxs-lookup"><span data-stu-id="c663c-371">For “consistent”, this follows the account’s consistency policy.</span></span> 

## <a name="attachments-and-media"></a><span data-ttu-id="c663c-372">Bijlagen en media</span><span class="sxs-lookup"><span data-stu-id="c663c-372">Attachments and media</span></span>
<span data-ttu-id="c663c-373">Cosmos DB kunt u voor het opslaan van binaire blobs/media met Cosmos-DB (maximaal 2 GB per account) of naar uw eigen externe mediastore.</span><span class="sxs-lookup"><span data-stu-id="c663c-373">Cosmos DB allows you to store binary blobs/media either with Cosmos DB (maximum of 2 GB per account) or to your own remote media store.</span></span> <span data-ttu-id="c663c-374">Ook kunt u de metagegevens van een medium in termen van een speciale document met de naam van de bijlage vertegenwoordigen.</span><span class="sxs-lookup"><span data-stu-id="c663c-374">It also allows you to represent the metadata of a media in terms of a special document called attachment.</span></span> <span data-ttu-id="c663c-375">Een bijlage van de Cosmos-database is een speciale (JSON)-document dat verwijst naar de media/blob elders opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="c663c-375">An attachment in Cosmos DB is a special (JSON) document that references the media/blob stored elsewhere.</span></span> <span data-ttu-id="c663c-376">Een bijlage is gewoon een speciale document dat de metagegevens van een media opgeslagen in een externe media-opslag (zoals locatie, auteur, enzovoort) worden vastgelegd.</span><span class="sxs-lookup"><span data-stu-id="c663c-376">An attachment is simply a special document that captures the metadata (e.g. location, author etc.) of a media stored in a remote media storage.</span></span> 

<span data-ttu-id="c663c-377">U kunt een toepassing van sociale lezen die Cosmos DB gebruikt voor het opslaan van aantekeningen en metagegevens, opmerkingen, waaronder markeert, bladwijzers, classificaties, enz. gekoppelde voor een e-book van een bepaalde gebruiker alsof/ervaringen.</span><span class="sxs-lookup"><span data-stu-id="c663c-377">Consider a social reading application which uses Cosmos DB to store ink annotations, and metadata including comments, highlights, bookmarks, ratings, likes/dislikes etc. associated for an e-book of a given user.</span></span>   

* <span data-ttu-id="c663c-378">De inhoud van het rapport zelf wordt opgeslagen in de Mediaopslag ofwel beschikbaar als onderdeel van de Cosmos-DB-databaseaccount of een externe mediastore.</span><span class="sxs-lookup"><span data-stu-id="c663c-378">The content of the book itself is stored in the media storage either available as part of Cosmos DB database account or a remote media store.</span></span> 
* <span data-ttu-id="c663c-379">Een toepassing kan elke gebruiker metagegevens opslaan als een afzonderlijke document--bijvoorbeeld Jan van metagegevens voor Map1 worden opgeslagen in een document waarnaar wordt verwezen door /colls/joe/docs/book1.</span><span class="sxs-lookup"><span data-stu-id="c663c-379">An application may store each user’s metadata as a distinct document -- e.g. Joe’s metadata for book1 is stored in a document referenced by /colls/joe/docs/book1.</span></span> 
* <span data-ttu-id="c663c-380">Bijlagen die verwijst naar de inhoudspagina's van een bepaalde boek van een gebruiker worden opgeslagen onder het bijbehorende document bijvoorbeeld /colls/joe/docs/book1/chapter1 /colls/joe/docs/book1/chapter2 enzovoort.</span><span class="sxs-lookup"><span data-stu-id="c663c-380">Attachments pointing to the content pages of a given book of a user are stored under the corresponding document e.g. /colls/joe/docs/book1/chapter1, /colls/joe/docs/book1/chapter2 etc.</span></span> 

<span data-ttu-id="c663c-381">Houd er rekening mee dat de bovenstaande voorbeelden beschrijvende-ID's gebruiken om de resource-hiërarchie over te brengen.</span><span class="sxs-lookup"><span data-stu-id="c663c-381">Note that the examples listed above use friendly ids to convey the resource hierarchy.</span></span> <span data-ttu-id="c663c-382">Bronnen worden geopend via de REST-API's via unieke resource-id.</span><span class="sxs-lookup"><span data-stu-id="c663c-382">Resources are accessed via the REST APIs through unique resource ids.</span></span> 

<span data-ttu-id="c663c-383">De media die wordt beheerd door Cosmos DB, wordt de eigenschap _media van de bijlage verwijst naar de media door de URI.</span><span class="sxs-lookup"><span data-stu-id="c663c-383">For the media that is managed by Cosmos DB, the _media property of the attachment will reference the media by its URI.</span></span> <span data-ttu-id="c663c-384">Cosmos DB zorgt voor garbagecollection verzamelen de media als alle uitstaande verwijzingen worden verwijderd.</span><span class="sxs-lookup"><span data-stu-id="c663c-384">Cosmos DB will ensure to garbage collect the media when all of the outstanding references are dropped.</span></span> <span data-ttu-id="c663c-385">Cosmos DB automatisch de bijlage wordt gegenereerd tijdens het uploaden van de nieuwe media en de _media om te verwijzen naar de zojuist toegevoegde media gevuld.</span><span class="sxs-lookup"><span data-stu-id="c663c-385">Cosmos DB automatically generates the attachment when you upload the new media and populates the _media to point to the newly added media.</span></span> <span data-ttu-id="c663c-386">Als u kiest voor het opslaan van de media in een externe blob-opslag beheerd door uzelf (zoals OneDrive, Azure Storage DropBox enz.), kunt u de bijlagen nog steeds gebruiken om te verwijzen naar de media.</span><span class="sxs-lookup"><span data-stu-id="c663c-386">If you choose to store the media in a remote blob store managed by you (e.g. OneDrive, Azure Storage, DropBox etc), you can still use attachments to reference the media.</span></span> <span data-ttu-id="c663c-387">In dit geval u zelf de bijlage maken en vullen van de eigenschap _media.</span><span class="sxs-lookup"><span data-stu-id="c663c-387">In this case, you will create the attachment yourself and populate its _media property.</span></span>   

<span data-ttu-id="c663c-388">Net als bij alle andere resources, bijlagen kunnen worden gemaakt, vervangen, verwijderd, lees- of opgesomd eenvoudig met behulp van REST-API's of een van de client-SDK's.</span><span class="sxs-lookup"><span data-stu-id="c663c-388">As with all other resources, attachments can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of the client SDKs.</span></span> <span data-ttu-id="c663c-389">Net als bij documenten, volgt het niveau van het lezen van consistentie van bijlagen het beleid voor consistentie op account van de database.</span><span class="sxs-lookup"><span data-stu-id="c663c-389">As with documents, the read consistency level of attachments follows the consistency policy on the database account.</span></span> <span data-ttu-id="c663c-390">Dit beleid kan worden genegeerd op basis van per aanvraag, afhankelijk van de gegevens consistent vereisten van uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="c663c-390">This policy can be overridden on a per-request basis depending on data consistency requirements of your application.</span></span> <span data-ttu-id="c663c-391">Bij het opvragen van bijlagen, volgt het lezen van consistentie de indexering modus ingesteld voor de verzameling.</span><span class="sxs-lookup"><span data-stu-id="c663c-391">When querying for attachments, the read consistency follows the indexing mode set on the collection.</span></span> <span data-ttu-id="c663c-392">Dit volgt de accountbeleid consistentie voor 'consistent'.</span><span class="sxs-lookup"><span data-stu-id="c663c-392">For “consistent”, this follows the account’s consistency policy.</span></span> 
 

## <a name="users"></a><span data-ttu-id="c663c-393">Gebruikers</span><span class="sxs-lookup"><span data-stu-id="c663c-393">Users</span></span>
<span data-ttu-id="c663c-394">Een gebruiker Cosmos DB vertegenwoordigt een logische naamruimte voor het groeperen van machtigingen.</span><span class="sxs-lookup"><span data-stu-id="c663c-394">A Cosmos DB user represents a logical namespace for grouping permissions.</span></span> <span data-ttu-id="c663c-395">Een Cosmos-DB-gebruiker kan komen overeen met een gebruiker in een identiteitsbeheersysteem of een vooraf gedefinieerde toepassingsrol.</span><span class="sxs-lookup"><span data-stu-id="c663c-395">A Cosmos DB user may correspond to a user in an identity management system or a predefined application role.</span></span> <span data-ttu-id="c663c-396">Voor Cosmos-DB vertegenwoordigt een gebruiker gewoon een abstractie voor het groeperen van een reeks machtigingen onder een database.</span><span class="sxs-lookup"><span data-stu-id="c663c-396">For Cosmos DB, a user simply represents an abstraction to group a set of permissions under a database.</span></span>   

<span data-ttu-id="c663c-397">Voor het implementeren van multi-tenancymodus in uw toepassing, kunt u gebruikers in Cosmos-database die overeenkomt met de werkelijke gebruikers-of de tenants van uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="c663c-397">For implementing multi-tenancy in your application, you can create users in Cosmos DB which corresponds to your actual users or the tenants of your application.</span></span> <span data-ttu-id="c663c-398">Vervolgens kunt u machtigingen voor een bepaalde gebruiker die met het toegangsbeheer via verschillende verzamelingen, documenten, bijlagen, enzovoort overeenkomen.</span><span class="sxs-lookup"><span data-stu-id="c663c-398">You can then create permissions for a given user that correspond to the access control over various collections, documents, attachments, etc.</span></span>   

<span data-ttu-id="c663c-399">Als uw toepassingen moeten worden uitgebreid met de groei van uw gebruiker, kunt u uw gegevens kunt op verschillende manieren shard vast.</span><span class="sxs-lookup"><span data-stu-id="c663c-399">As your applications need to scale with your user growth, you can adopt various ways to shard your data.</span></span> <span data-ttu-id="c663c-400">U kunt een model van elk van uw gebruikers als volgt:</span><span class="sxs-lookup"><span data-stu-id="c663c-400">You can model each of your users as follows:</span></span>   

* <span data-ttu-id="c663c-401">Elke gebruiker is toegewezen aan een database.</span><span class="sxs-lookup"><span data-stu-id="c663c-401">Each user maps to a database.</span></span>
* <span data-ttu-id="c663c-402">Elke gebruiker is toegewezen aan een verzameling.</span><span class="sxs-lookup"><span data-stu-id="c663c-402">Each user maps to a collection.</span></span> 
* <span data-ttu-id="c663c-403">Overeenkomt met meerdere gebruikers documenten gaat u naar een specifieke verzameling.</span><span class="sxs-lookup"><span data-stu-id="c663c-403">Documents corresponding to multiple users go to a dedicated collection.</span></span> 
* <span data-ttu-id="c663c-404">Overeenkomt met meerdere gebruikers documenten gaat u naar een verzameling van verzamelingen.</span><span class="sxs-lookup"><span data-stu-id="c663c-404">Documents corresponding to multiple users go to a set of collections.</span></span>   

<span data-ttu-id="c663c-405">Ongeacht de specifieke sharding-strategie kiest u, kunt u uw werkelijke gebruikers als gebruikers in de database van de Cosmos-DB modelleren en fijnmazige machtigingen aan elke gebruiker koppelen.</span><span class="sxs-lookup"><span data-stu-id="c663c-405">Regardless of the specific sharding strategy you choose, you can model your actual users as users in Cosmos DB database and associate fine grained permissions to each user.</span></span>  

<span data-ttu-id="c663c-406">![Verzamelingen van gebruikers][3]</span><span class="sxs-lookup"><span data-stu-id="c663c-406">![User collections][3]</span></span>  
<span data-ttu-id="c663c-407">**Sharding-strategieën en modellering gebruikers**</span><span class="sxs-lookup"><span data-stu-id="c663c-407">**Sharding strategies and modeling users**</span></span>

<span data-ttu-id="c663c-408">Net als alle andere resources, gebruikers in Cosmos-database kunnen worden gemaakt, vervangen, verwijderd, lezen of opgesomd eenvoudig met behulp van REST-API's of een van de client-SDK's.</span><span class="sxs-lookup"><span data-stu-id="c663c-408">Like all other resources, users in Cosmos DB can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of the client SDKs.</span></span> <span data-ttu-id="c663c-409">Cosmos DB geeft altijd sterke consistentie voor lezen en het opvragen van de metagegevens van een gebruiker een resource.</span><span class="sxs-lookup"><span data-stu-id="c663c-409">Cosmos DB always provides strong consistency for reading or querying the metadata of a user resource.</span></span> <span data-ttu-id="c663c-410">Wordt het bewerken van wijzen dat een gebruiker automatisch verwijderen zorgt ervoor dat u geen toegang de machtigingen van deze tot.</span><span class="sxs-lookup"><span data-stu-id="c663c-410">It is worth pointing out that deleting a user automatically ensures that you cannot access any of the permissions contained within it.</span></span> <span data-ttu-id="c663c-411">Hoewel de Cosmos-database maakt het quotum van de machtigingen als onderdeel van de verwijderde gebruiker op de achtergrond, de verwijderde machtigingen weer beschikbaar is onmiddellijk moet worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="c663c-411">Even though the Cosmos DB reclaims the quota of the permissions as part of the deleted user in the background, the deleted permissions is available instantly again for you to use.</span></span>  

## <a name="permissions"></a><span data-ttu-id="c663c-412">Machtigingen</span><span class="sxs-lookup"><span data-stu-id="c663c-412">Permissions</span></span>
<span data-ttu-id="c663c-413">Vanuit een access control-perspectief wordt resources, zoals accounts, database, databases, gebruikers en machtigingen worden beschouwd als *beheerdersrechten* bronnen omdat deze is vereist voor beheerdersmachtigingen nodig.</span><span class="sxs-lookup"><span data-stu-id="c663c-413">From an access control perspective, resources such as database accounts, databases, users and permission are considered *administrative* resources since these require administrative permissions.</span></span> <span data-ttu-id="c663c-414">Aan de andere kant resources inclusief de verzamelingen, documenten, bijlagen, opgeslagen procedures, triggers, UDF's zijn en gericht onder een bepaalde database en beschouwd als *toepassingsresources*.</span><span class="sxs-lookup"><span data-stu-id="c663c-414">On the other hand, resources including the collections, documents, attachments, stored procedures, triggers, and UDFs are scoped under a given database and considered *application resources*.</span></span> <span data-ttu-id="c663c-415">Het model autorisatie overeenkomt met de twee typen resources en de functies die toegang deze (namelijk de beheerder en gebruiker tot), definieert twee soorten *toegangssleutels*: *hoofdsleutel* en  *Bronsleutel*.</span><span class="sxs-lookup"><span data-stu-id="c663c-415">Corresponding to the two types of resources and the roles that access them (namely the administrator and user), the authorization model defines two types of *access keys*: *master key* and *resource key*.</span></span> <span data-ttu-id="c663c-416">De hoofdsleutel deel uitmaakt van de account van de database en is opgegeven voor de ontwikkelaars (of de administrator) die het databaseaccount is ingericht.</span><span class="sxs-lookup"><span data-stu-id="c663c-416">The master key is a part of the database account and is provided to the developer (or administrator) who is provisioning the database account.</span></span> <span data-ttu-id="c663c-417">Deze hoofdsleutel heeft administrator-semantiek in dat deze toegang verlenen aan bronnen administratieve en een toepassing kan worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="c663c-417">This master key has administrator semantics, in that it can be used to authorize access to both administrative and application resources.</span></span> <span data-ttu-id="c663c-418">Een resource-sleutel is daarentegen een gedetailleerde toegangssleutel die toegang tot verleent een *specifieke* toepassingsbron.</span><span class="sxs-lookup"><span data-stu-id="c663c-418">In contrast, a resource key is a granular access key that allows access to a *specific* application resource.</span></span> <span data-ttu-id="c663c-419">Daarom wordt de relatie tussen de gebruiker van een database en de machtigingen die de gebruiker voor een specifieke bron (bijvoorbeeld verzameling, document, bijlage, opgeslagen procedure, trigger of UDF heeft) vastgelegd.</span><span class="sxs-lookup"><span data-stu-id="c663c-419">Thus, it captures the relationship between the user of a database and the permissions the user has for a specific resource (e.g. collection, document, attachment, stored procedure, trigger, or UDF).</span></span>   

<span data-ttu-id="c663c-420">De enige manier om het ophalen van een resource-sleutel is door het maken van een resource machtiging onder een bepaalde gebruiker.</span><span class="sxs-lookup"><span data-stu-id="c663c-420">The only way to obtain a resource key is by creating a permission resource under a given user.</span></span> <span data-ttu-id="c663c-421">Houd er rekening mee dat als u wilt maken of een machtiging voor het ophalen, een hoofdsleutel in de autorisatie-header moet worden gepresenteerd.</span><span class="sxs-lookup"><span data-stu-id="c663c-421">Note that In order to create or retrieve a permission, a master key must be presented in the authorization header.</span></span> <span data-ttu-id="c663c-422">Een machtiging resource verbindt de bron, de toegang en de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="c663c-422">A permission resource ties the resource, its access and the user.</span></span> <span data-ttu-id="c663c-423">Na het maken van een resource machtiging, moet de gebruiker alleen de bijbehorende bronsleutel aanwezig om toegang tot de relevante resource te krijgen.</span><span class="sxs-lookup"><span data-stu-id="c663c-423">After creating a permission resource, the user only needs to present the associated resource key in order to gain access to the relevant resource.</span></span> <span data-ttu-id="c663c-424">Een resource-sleutel kan daarom als een logische en compacte weergave van de machtiging resource worden weergegeven.</span><span class="sxs-lookup"><span data-stu-id="c663c-424">Hence, a resource key can be viewed as a logical and compact representation of the permission resource.</span></span>  

<span data-ttu-id="c663c-425">Als met alle andere resources, machtigingen in Cosmos-database kunnen worden gemaakt, vervangen, verwijderd, lees- of opgesomd eenvoudig met behulp van REST-API's of een van de client-SDK's.</span><span class="sxs-lookup"><span data-stu-id="c663c-425">As with all other resources, permissions in Cosmos DB can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of the client SDKs.</span></span> <span data-ttu-id="c663c-426">Cosmos DB geeft altijd sterke consistentie voor lezen of de metagegevens van een machtiging voor het uitvoeren van query's.</span><span class="sxs-lookup"><span data-stu-id="c663c-426">Cosmos DB always provides strong consistency for reading or querying the metadata of a permission.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="c663c-427">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="c663c-427">Next steps</span></span>
<span data-ttu-id="c663c-428">Meer informatie over het werken met resources met behulp van HTTP-opdrachten in [RESTful interacties met bronnen Cosmos DB](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span><span class="sxs-lookup"><span data-stu-id="c663c-428">Learn more about working with resources by using HTTP commands in [RESTful interactions with Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span></span>

[1]: media/documentdb-resources/resources1.png
[2]: media/documentdb-resources/resources2.png
[3]: media/documentdb-resources/resources3.png

