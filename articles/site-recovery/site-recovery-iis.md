---
title: aaaReplicate een meerlaagse IIS-webtoepassing met Azure Site Recovery gebaseerd | Microsoft Docs
description: Dit artikel wordt beschreven hoe tooreplicate IIS web-farm virtuele machines met Azure Site Recovery.
services: site-recovery
documentationcenter: 
author: nsoneji
manager: gauravd
editor: 
ms.assetid: 
ms.service: site-recovery
ms.workload: storage-backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/11/2017
ms.author: nisoneji
ms.openlocfilehash: 1974265b3cb05f6dc57049876306d2e08424bb97
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="replicate-a-multi-tier-iis-based-web-application-using-azure-site-recovery"></a><span data-ttu-id="69075-103">Een meerlaagse op basis van IIS-webtoepassing met Azure Site Recovery repliceren</span><span class="sxs-lookup"><span data-stu-id="69075-103">Replicate a multi-tier IIS based web application using Azure Site Recovery</span></span>

## <a name="overview"></a><span data-ttu-id="69075-104">Overzicht</span><span class="sxs-lookup"><span data-stu-id="69075-104">Overview</span></span>


<span data-ttu-id="69075-105">Toepassingssoftware is Hallo-engine van de zakelijke productiviteit in een organisatie.</span><span class="sxs-lookup"><span data-stu-id="69075-105">Application software is hello engine of business productivity in an organization.</span></span> <span data-ttu-id="69075-106">Verschillende webtoepassingen kunnen een ander doel in een organisatie.</span><span class="sxs-lookup"><span data-stu-id="69075-106">Various web applications can serve different purposes in an organization.</span></span> <span data-ttu-id="69075-107">Sommige van deze zoals salarissen verwerking, financiële toepassingen en websites klantgerichte kan zoveel mogelijk zijn essentieel voor een organisatie.</span><span class="sxs-lookup"><span data-stu-id="69075-107">Some of these like payroll processing, financial applications and customer facing websites can be utmost critical for an organization.</span></span> <span data-ttu-id="69075-108">Dit is belangrijk voor Hallo organisatie toohave deze en worden uitgevoerd op alle tijden tooprevent verlies van productiviteit en meer belangrijker nog voorkomen dat geen afbeelding schade toohello merk van Hallo-organisatie.</span><span class="sxs-lookup"><span data-stu-id="69075-108">It will be important for hello organization toohave them up and running at all times tooprevent loss of productivity and more importantly prevent any damage toohello brand image of hello organization.</span></span>

<span data-ttu-id="69075-109">Kritieke webtoepassingen zijn meestal ingesteld als toepassingen met meerdere lagen met Hallo web, de database en de toepassing op andere niveaus.</span><span class="sxs-lookup"><span data-stu-id="69075-109">Critical web applications are typically set up as multi-tier applications with hello web, database and application on different tiers.</span></span> <span data-ttu-id="69075-110">Naast wordt verdeeld over verschillende lagen, Hallo toepassingen mogelijk ook gebruik van meerdere servers in elke laag tooload saldo Hallo-verkeer.</span><span class="sxs-lookup"><span data-stu-id="69075-110">Apart from being spread across various tiers, hello applications may also be using multiple servers in each tier tooload balance hello traffic.</span></span> <span data-ttu-id="69075-111">Hallo toewijzingen tussen verschillende lagen en op de webserver Hallo kunnen bovendien worden gebaseerd op vaste IP-adressen.</span><span class="sxs-lookup"><span data-stu-id="69075-111">Moreover, hello mappings between various tiers and on hello web server may be based on static IP addresses.</span></span> <span data-ttu-id="69075-112">Op failover moet sommige van deze toewijzingen toobe bijgewerkt, met name, als er meerdere websites op de webserver Hallo geconfigureerd.</span><span class="sxs-lookup"><span data-stu-id="69075-112">On failover, some of these mappings will need toobe updated, especially, if you have multiple websites configured on hello web server.</span></span> <span data-ttu-id="69075-113">In geval van webtoepassingen met SSL moet-certificaatbindingen toobe bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="69075-113">In case of web applications using SSL, certificate bindings will need toobe updated.</span></span>

<span data-ttu-id="69075-114">Traditionele niet-replicatie op basis herstelmethoden hebben betrekking op een back-up van de verschillende configuratiebestanden, registerinstellingen, bindingen, aangepaste onderdelen (COM of .NET), inhoud en ook certificaten en herstellende Hallo bestanden via een set van handmatige stappen.</span><span class="sxs-lookup"><span data-stu-id="69075-114">Traditional non-replication based recovery methods involve backing up of various configuration files, registry settings, bindings, custom components (COM or .NET), content and also certificates and recovering hello files through a set of manual steps.</span></span> <span data-ttu-id="69075-115">Deze technieken worden duidelijk lastige fout foutgevoelige en niet schaalbaar.</span><span class="sxs-lookup"><span data-stu-id="69075-115">These techniques are clearly cumbersome, error prone and not scalable.</span></span> <span data-ttu-id="69075-116">Het is bijvoorbeeld eenvoudig mogelijk dat u tooforget back-ups van certificaten en laten staan geen keuze maar toobuy nieuwe certificaten voor Hallo server na een failover.</span><span class="sxs-lookup"><span data-stu-id="69075-116">It is, for example, easily possible for you tooforget backing up certificates and be left with no choice but toobuy new certificates for hello server after failover.</span></span>

<span data-ttu-id="69075-117">Een goede noodhersteloplossing moet modellering van herstelplannen rond Hallo hierboven architecturen voor complexe toepassingen bevatten en ook Hallo mogelijkheid tooadd aangepast stappen toohandle Toepassingstoewijzingen tussen verschillende lagen daarom bieden een één klik ervoor oplossing maken in geval van een noodgeval voorloopspaties tooa Hallo RTO verlagen.</span><span class="sxs-lookup"><span data-stu-id="69075-117">A good disaster recovery solution, should allow modeling of recovery plans around hello above complex application architectures and also have hello ability tooadd customized steps toohandle application mappings between various tiers hence providing a single-click sure shot solution in hello event of a disaster leading tooa lower RTO.</span></span>


<span data-ttu-id="69075-118">Dit artikel wordt beschreven hoe tooprotect een IIS op basis van web-toepassing gebruikt een [Azure Site Recovery](site-recovery-overview.md).</span><span class="sxs-lookup"><span data-stu-id="69075-118">This article describes how tooprotect an IIS based web application using a [Azure Site Recovery](site-recovery-overview.md).</span></span> <span data-ttu-id="69075-119">Dit artikel wordt aanbevolen procedures voor het repliceren van een drielaagse uitgelegd IIS op basis van web application tooAzure, hoe u een herstel na noodgevallen detailanalyse kunt doen en hoe kunt u failover Hallo toepassing tooAzure.</span><span class="sxs-lookup"><span data-stu-id="69075-119">This article will cover best practices for replicating a three tier IIS based web application tooAzure, how you can do a disaster recovery drill, and how you can failover hello application tooAzure.</span></span>


## <a name="prerequisites"></a><span data-ttu-id="69075-120">Vereisten</span><span class="sxs-lookup"><span data-stu-id="69075-120">Prerequisites</span></span>

<span data-ttu-id="69075-121">Voordat u begint, zorg er dan voor dat u begrijpt Hallo volgende:</span><span class="sxs-lookup"><span data-stu-id="69075-121">Before you start, make sure you understand hello following:</span></span>

1. [<span data-ttu-id="69075-122">Een virtuele machine tooAzure repliceren</span><span class="sxs-lookup"><span data-stu-id="69075-122">Replicating a virtual machine tooAzure</span></span>](site-recovery-vmware-to-azure.md)
1. <span data-ttu-id="69075-123">Hoe te[ontwerpen van een netwerk herstel](site-recovery-network-design.md)</span><span class="sxs-lookup"><span data-stu-id="69075-123">How too[design a recovery network](site-recovery-network-design.md)</span></span>
1. [<span data-ttu-id="69075-124">Tijdens het doorzoeken van een failover-test tooAzure</span><span class="sxs-lookup"><span data-stu-id="69075-124">Doing a test failover tooAzure</span></span>](./site-recovery-test-failover-to-azure.md)
1. [<span data-ttu-id="69075-125">Tijdens het doorzoeken van een failover-tooAzure</span><span class="sxs-lookup"><span data-stu-id="69075-125">Doing a failover tooAzure</span></span>](site-recovery-failover.md)
1. <span data-ttu-id="69075-126">Hoe te[repliceren van een domeincontroller](site-recovery-active-directory.md)</span><span class="sxs-lookup"><span data-stu-id="69075-126">How too[replicate a domain controller](site-recovery-active-directory.md)</span></span>
1. <span data-ttu-id="69075-127">Hoe te[SQL-Server repliceren](site-recovery-sql.md)</span><span class="sxs-lookup"><span data-stu-id="69075-127">How too[replicate SQL Server](site-recovery-sql.md)</span></span>

## <a name="deployment-patterns"></a><span data-ttu-id="69075-128">Implementaties</span><span class="sxs-lookup"><span data-stu-id="69075-128">Deployment patterns</span></span>
<span data-ttu-id="69075-129">Hier volgt doorgaans een webtoepassing IIS op basis van een van de volgende implementaties Hallo:</span><span class="sxs-lookup"><span data-stu-id="69075-129">An IIS based web application typically follows one of hello following deployment patterns:</span></span>

<span data-ttu-id="69075-130">** Implementatie patroon 1 ** webfarm met toepassing aanvragen Routing(ARR), IIS-Server en Microsoft SQL Server op basis van een IIS.</span><span class="sxs-lookup"><span data-stu-id="69075-130">**Deployment pattern 1 ** An IIS based web farm  with Application Request Routing(ARR), IIS Server and Microsoft SQL Server.</span></span>

![Patroon van de implementatie](./media/site-recovery-iis/deployment-pattern1.png)

<span data-ttu-id="69075-132">**Implementatie-patroon 2** webfarm met toepassing aanvragen Routing(ARR), IIS-Server, Application Server en Microsoft SQL Server op basis van een IIS.</span><span class="sxs-lookup"><span data-stu-id="69075-132">**Deployment pattern 2** An IIS based web farm with Application Request Routing(ARR), IIS Server, Application Server, and Microsoft SQL Server.</span></span>


![Patroon van de implementatie](./media/site-recovery-iis/deployment-pattern2.png)

## <a name="site-recovery-support"></a><span data-ttu-id="69075-134">Site Recovery-ondersteuning</span><span class="sxs-lookup"><span data-stu-id="69075-134">Site Recovery support</span></span>

<span data-ttu-id="69075-135">Voor het doel van het maken van dit artikel virtuele VMware-machines met IIS-Server versie 7.5 op Windows Server 2012 R2 Enterprise Hallo zijn gebruikt.</span><span class="sxs-lookup"><span data-stu-id="69075-135">For hello purpose of creating this article VMware virtual machines with IIS Server version 7.5 on Windows Server 2012 R2 Enterprise were used.</span></span> <span data-ttu-id="69075-136">Als de replicatie van site recovery networkdirect van toepassing is, voorziet in Hallo aanbevelingen zijn hier verwachte toohold op de volgende scenario's evenals en voor andere versie van IIS.</span><span class="sxs-lookup"><span data-stu-id="69075-136">As site recovery replication is application agnostic, hello recommendations provided here are expected toohold on following scenarios as well and for different version of IIS.</span></span>

### <a name="source-and-target"></a><span data-ttu-id="69075-137">Bron en doel</span><span class="sxs-lookup"><span data-stu-id="69075-137">Source and target</span></span>

<span data-ttu-id="69075-138">**Scenario**</span><span class="sxs-lookup"><span data-stu-id="69075-138">**Scenario**</span></span> | <span data-ttu-id="69075-139">**de secundaire site tooa**</span><span class="sxs-lookup"><span data-stu-id="69075-139">**tooa secondary site**</span></span> | <span data-ttu-id="69075-140">**tooAzure**</span><span class="sxs-lookup"><span data-stu-id="69075-140">**tooAzure**</span></span>
--- | --- | ---
<span data-ttu-id="69075-141">**Hyper-V**</span><span class="sxs-lookup"><span data-stu-id="69075-141">**Hyper-V**</span></span> | <span data-ttu-id="69075-142">Ja</span><span class="sxs-lookup"><span data-stu-id="69075-142">Yes</span></span> | <span data-ttu-id="69075-143">Ja</span><span class="sxs-lookup"><span data-stu-id="69075-143">Yes</span></span>
<span data-ttu-id="69075-144">**VMware**</span><span class="sxs-lookup"><span data-stu-id="69075-144">**VMware**</span></span> | <span data-ttu-id="69075-145">Ja</span><span class="sxs-lookup"><span data-stu-id="69075-145">Yes</span></span> | <span data-ttu-id="69075-146">Ja</span><span class="sxs-lookup"><span data-stu-id="69075-146">Yes</span></span>
<span data-ttu-id="69075-147">**Fysieke server**</span><span class="sxs-lookup"><span data-stu-id="69075-147">**Physical server**</span></span> | <span data-ttu-id="69075-148">Nee</span><span class="sxs-lookup"><span data-stu-id="69075-148">No</span></span> | <span data-ttu-id="69075-149">Ja</span><span class="sxs-lookup"><span data-stu-id="69075-149">Yes</span></span>

## <a name="replicate-virtual-machines"></a><span data-ttu-id="69075-150">Virtuele machines repliceren</span><span class="sxs-lookup"><span data-stu-id="69075-150">Replicate virtual machines</span></span>

<span data-ttu-id="69075-151">Ga als volgt [in deze richtlijnen](site-recovery-vmware-to-azure.md) toostart tooAzure alle Hallo IIS web farm virtuele machines repliceren.</span><span class="sxs-lookup"><span data-stu-id="69075-151">Follow [this guidance](site-recovery-vmware-to-azure.md) toostart replicating all hello IIS web farm virtual machines tooAzure.</span></span>

<span data-ttu-id="69075-152">Als u met behulp van een statische IP-adres opgeven Hallo IP die u wilt dat virtuele machine tootake in Hallo Hallo [ **IP-adres doel** ](./site-recovery-replicate-vmware-to-azure.md#view-and-manage-vm-properties) instellen in de berekenings-en netwerkinstellingen.</span><span class="sxs-lookup"><span data-stu-id="69075-152">If you are using a static IP then specify hello IP that you want hello virtual machine tootake in hello [**Target IP**](./site-recovery-replicate-vmware-to-azure.md#view-and-manage-vm-properties) setting in Compute and Network settings.</span></span>

![Doel-IP](./media/site-recovery-active-directory/dns-target-ip.png)


## <a name="creating-a-recovery-plan"></a><span data-ttu-id="69075-154">Een herstelplan maken</span><span class="sxs-lookup"><span data-stu-id="69075-154">Creating a recovery plan</span></span>

<span data-ttu-id="69075-155">Een herstelplan kunt Hallo failover van de verschillende lagen in een toepassing met meerdere lagen, daarom toepassing consistentie van de sequentiëren.</span><span class="sxs-lookup"><span data-stu-id="69075-155">A recovery plan allows sequencing hello failover of various tiers in a multi-tier application, hence, maintaining application consistency.</span></span> <span data-ttu-id="69075-156">Ga als volgt Hallo onderstaande stappen te volgen bij het maken van een herstelplan voor een webtoepassing met meerdere lagen.</span><span class="sxs-lookup"><span data-stu-id="69075-156">Follow hello below steps while creating a recovery plan for a multi-tier web application.</span></span>  <span data-ttu-id="69075-157">[Meer informatie over het maken van een herstelplan](./site-recovery-create-recovery-plans.md).</span><span class="sxs-lookup"><span data-stu-id="69075-157">[Learn more about creating a recovery plan](./site-recovery-create-recovery-plans.md).</span></span>

### <a name="adding-virtual-machines-toofailover-groups"></a><span data-ttu-id="69075-158">Toevoegen van virtuele machines toofailover groepen</span><span class="sxs-lookup"><span data-stu-id="69075-158">Adding virtual machines toofailover groups</span></span>
<span data-ttu-id="69075-159">Een typische meerdere lagen IIS-webtoepassing bestaat uit een databaselaag met SQL-virtuele machines, Hallo weblaag gevormd door een IIS-server en een toepassingslaag.</span><span class="sxs-lookup"><span data-stu-id="69075-159">A typical multi-tier IIS web application will consist of a database tier with SQL virtual machines, hello web tier constituted by a IIS server and an application tier.</span></span> <span data-ttu-id="69075-160">Alle deze virtuele machines toodifferent groep toevoegen op basis van een laag als hieronder.</span><span class="sxs-lookup"><span data-stu-id="69075-160">Add all these virtual machines toodifferent group based on tier as below.</span></span> <span data-ttu-id="69075-161">[Meer informatie over het aanpassen van herstelplan](site-recovery-runbook-automation.md#customize-the-recovery-plan).</span><span class="sxs-lookup"><span data-stu-id="69075-161">[Learn more about customising recovery plan](site-recovery-runbook-automation.md#customize-the-recovery-plan).</span></span>

1. <span data-ttu-id="69075-162">Een herstelplan maken.</span><span class="sxs-lookup"><span data-stu-id="69075-162">Create a recovery plan.</span></span> <span data-ttu-id="69075-163">Hallo database laag virtuele machines onder groep 1 tooensure dat zij afsluiten laatste en eerste gebracht toevoegen.</span><span class="sxs-lookup"><span data-stu-id="69075-163">Add hello database tier virtual machines under Group 1 tooensure that they are shutdown last and brought up first.</span></span>

1. <span data-ttu-id="69075-164">Hallo toepassing laag virtuele machines onder groep 2 toevoegen zodat ze beschikbaar komen nadat Hallo databaselaag opstarten.</span><span class="sxs-lookup"><span data-stu-id="69075-164">Add hello application tier virtual machines under Group 2 such that they are brought up after hello database tier has been brought up.</span></span>

1. <span data-ttu-id="69075-165">Hallo web laag virtuele machines toevoegen in de groep 3, zodat ze beschikbaar komen nadat de toepassingslaag Hallo opstarten.</span><span class="sxs-lookup"><span data-stu-id="69075-165">Add hello web tier virtual machines in Group 3 such that they are brought up after hello application tier has been brought up.</span></span>

1. <span data-ttu-id="69075-166">Load balance virtuele machines in de groep 4 toevoegen zodat ze beschikbaar komen nadat de weblaag Hallo opstarten.</span><span class="sxs-lookup"><span data-stu-id="69075-166">Add load balance virtual machines in Group 4 such that they are brought up after hello web tier has been brought up.</span></span>


### <a name="adding-scripts-toohello-recovery-plan"></a><span data-ttu-id="69075-167">Het herstelplan toohello toe te voegen scripts</span><span class="sxs-lookup"><span data-stu-id="69075-167">Adding scripts toohello recovery plan</span></span>
<span data-ttu-id="69075-168">U moet mogelijk toodo bepaalde bewerkingen op virtuele Azure-machines na failover en testen failover toomake IIS web farm functie Hallo correct.</span><span class="sxs-lookup"><span data-stu-id="69075-168">You may need toodo some operations on hello Azure virtual machines post failover/Test failover toomake IIS web farm function correctly.</span></span> <span data-ttu-id="69075-169">U kunt automatiseren Hallo post failoverbewerking zoals het bijwerken van DNS-vermelding sitebinding wijzigen, wijzigen in de verbindingsreeks door de bijbehorende scripts toevoegen in het herstelplan Hallo zoals hieronder.</span><span class="sxs-lookup"><span data-stu-id="69075-169">You can automate hello post failover operation like updating DNS entry, changing site binding, change  in connection string  by adding corresponding scripts in hello recovery plan as below.</span></span> <span data-ttu-id="69075-170">[Meer informatie over het toevoegen van herstelplan script](./site-recovery-create-recovery-plans.md#add-scripts).</span><span class="sxs-lookup"><span data-stu-id="69075-170">[Learn more about add script recovery plan](./site-recovery-create-recovery-plans.md#add-scripts).</span></span>

#### <a name="dns-update"></a><span data-ttu-id="69075-171">DNS-updates</span><span class="sxs-lookup"><span data-stu-id="69075-171">DNS Update</span></span>
<span data-ttu-id="69075-172">Als Hallo DNS is geconfigureerd voor dynamische DNS-updates vervolgens Hallo DNS virtuele machines meestal met de nieuwe IP-adres Hallo werkt zodra ze starten.</span><span class="sxs-lookup"><span data-stu-id="69075-172">If hello DNS is configured for dynamic DNS update then virtual machines usually update hello DNS with hello new IP once they start.</span></span> <span data-ttu-id="69075-173">Als u wilt dat een expliciete stap tooupdate DNS-Hello tooadd nieuwe IP-adressen van virtuele machines van Hallo voegt u dit [tooupdate IP-adres in DNS-script](https://aka.ms/asr-dns-update) als een post-actie op herstel planningsgroepen.</span><span class="sxs-lookup"><span data-stu-id="69075-173">If you want tooadd an explicit step tooupdate DNS with hello new IPs of hello virtual machines then add this [script tooupdate IP in DNS](https://aka.ms/asr-dns-update) as a post action on recovery plan groups.</span></span>  

#### <a name="connection-string-in-an-applications-webconfig"></a><span data-ttu-id="69075-174">De verbindingsreeks in het bestand web.config van de toepassing</span><span class="sxs-lookup"><span data-stu-id="69075-174">Connection string in an application’s web.config</span></span>
<span data-ttu-id="69075-175">Hallo-verbindingsreeks bevat Hallo-database die website Hallo communiceert met.</span><span class="sxs-lookup"><span data-stu-id="69075-175">hello connection string specifies hello database that hello web site communicates with.</span></span>

<span data-ttu-id="69075-176">Als verbindingsreeks Hallo Hallo-naam van Hallo database virtuele machine uitvoert, worden geen verdere stappen nodig na failover en Hallo toepassing kan worden gecommuniceerd tooautomatically toohello DB.</span><span class="sxs-lookup"><span data-stu-id="69075-176">If hello connection string carries hello name of hello database virtual machine, no further steps will be needed post failover and hello application will be able tooautomatically communicate toohello DB.</span></span> <span data-ttu-id="69075-177">Ook als Hallo IP-adres voor Hallo database virtuele machine wordt bewaard, is het niet langer nodig tooupdate Hallo-verbindingsreeks.</span><span class="sxs-lookup"><span data-stu-id="69075-177">Also, if hello IP address for hello database virtual machine is retained, it will not be needed tooupdate hello connection string.</span></span> <span data-ttu-id="69075-178">Als het Hallo-verbindingsreeks verwijst toohello database virtuele machine een IP-adres, moet deze toobe bijgewerkt na failover.</span><span class="sxs-lookup"><span data-stu-id="69075-178">If hello connection string refers toohello database virtual machine using an IP address, it will need toobe updated post failover.</span></span> <span data-ttu-id="69075-179">Bijvoorbeeld</span><span class="sxs-lookup"><span data-stu-id="69075-179">E.g.</span></span> <span data-ttu-id="69075-180">Hallo hieronder verbindingsreeks verwijst toohello DB met IP-adres 127.0.1.2</span><span class="sxs-lookup"><span data-stu-id="69075-180">hello below connection string points toohello DB with IP 127.0.1.2</span></span>

        <?xml version="1.0" encoding="utf-8"?>
        <configuration>
        <connectionStrings>
        <add name="ConnStringDb1" connectionString="Data Source= 127.0.1.2\SqlExpress; Initial Catalog=TestDB1;Integrated Security=False;" />
        </connectionStrings>
        </configuration>

<span data-ttu-id="69075-181">U kunt Hallo-verbindingsreeks in de weblaag bijwerken door toe te voegen [updatescript voor IIS verbinding](https://aka.ms/asr-update-webtier-script-classic) na groep 3 in het herstelplan Hallo.</span><span class="sxs-lookup"><span data-stu-id="69075-181">You can update hello connection string in web tier by adding [IIS connection update script](https://aka.ms/asr-update-webtier-script-classic) after Group 3 in hello recovery plan.</span></span>

#### <a name="site-bindings-for-hello-application"></a><span data-ttu-id="69075-182">Sitebindingen voor de toepassing hello</span><span class="sxs-lookup"><span data-stu-id="69075-182">Site bindings for hello application</span></span>
<span data-ttu-id="69075-183">Elke site bestaat uit het binden van informatie met Hallo-type van de binding, Hallo IP-adres op welke Hallo IIS-server toohello aanvragen voor Hallo-site, Hallo-poortnummer en hostnamen Hallo voor Hallo-site luistert.</span><span class="sxs-lookup"><span data-stu-id="69075-183">Every site consists of binding information that includes hello type of binding, hello IP address at which hello IIS server listens toohello requests for hello site, hello port number and hello host names for hello site.</span></span> <span data-ttu-id="69075-184">Bij Hallo een failover moet deze bindingen mogelijk toobe bijgewerkt als er een wijziging in Hallo IP-adres is gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="69075-184">At hello time of a failover, these bindings might need toobe updated if there is a change in hello IP address associated with them.</span></span>

> [!NOTE]
>
> <span data-ttu-id="69075-185">Als u hebt gemarkeerd 'alle niet-toegewezen' voor de sitebinding Hallo Hallo voorbeeld hieronder, hoeft u niet tooupdate deze binding post voor failover.</span><span class="sxs-lookup"><span data-stu-id="69075-185">If you have marked ‘all unassigned’ for hello site binding as in hello example below, you will not need tooupdate this binding post failover.</span></span> <span data-ttu-id="69075-186">Ook als Hallo IP-adres die zijn gekoppeld aan een site niet is gewijzigd na failover, Hallo sitebinding moet niet worden bijgewerkt (bewaren van Hallo IP-adres, is afhankelijk van Hallo netwerkarchitectuur en subnetten toegewezen toohello primaire en herstelsites en daarom kunnen of kunnen niet mogelijk voor uw organisatie.)</span><span class="sxs-lookup"><span data-stu-id="69075-186">Also, if hello IP address associated with a site is not changed post failover, hello site binding need not be updated (Retention of hello IP address depends on hello network architecture and subnets assigned toohello primary and recovery sites and hence may or may not be feasible for your organization.)</span></span>

![SSL-Binding](./media/site-recovery-iis/sslbinding.png)

<span data-ttu-id="69075-188">Als u Hallo IP-adres aan een site hebt gekoppeld, moet u tooupdate alle sitebindingen met Hallo nieuwe IP-adres.</span><span class="sxs-lookup"><span data-stu-id="69075-188">If you have associated hello IP address with a site, you will need tooupdate all site bindings with hello new IP address.</span></span> <span data-ttu-id="69075-189">U kunt toevoegen [updatescript voor IIS-webserver laag](https://aka.ms/asr-web-tier-update-runbook-classic) na groep 3 in recovery plan toochange Hallo sitebindingen.</span><span class="sxs-lookup"><span data-stu-id="69075-189">You can add [IIS Web tier update script](https://aka.ms/asr-web-tier-update-runbook-classic) after Group 3 in recovery plan toochange hello site bindings.</span></span>


#### <a name="update-load-balancer-ip-address"></a><span data-ttu-id="69075-190">IP-adres van load balancer bijwerken</span><span class="sxs-lookup"><span data-stu-id="69075-190">Update load balancer IP address</span></span>
<span data-ttu-id="69075-191">Als u routering van toepassingsaanvragen virtuele machine hebt, voegt u [IIS ARR failover script](https://aka.ms/asr-iis-arrtier-failover-script-classic) na groep 4 tooupdate Hallo IP-adres.</span><span class="sxs-lookup"><span data-stu-id="69075-191">If you have  Application Request Routing virtual machine, add [IIS ARR  failover script](https://aka.ms/asr-iis-arrtier-failover-script-classic) after Group 4 tooupdate hello IP address.</span></span>

#### <a name="hello-ssl-cert-binding-for-an-https-connection"></a><span data-ttu-id="69075-192">Hallo SSL-certificaat-binding voor een https-verbinding</span><span class="sxs-lookup"><span data-stu-id="69075-192">hello SSL cert binding for an https connection</span></span>
<span data-ttu-id="69075-193">Websites kan een bijbehorende SSL-certificaat die helpt om een veilige communicatie tussen het Hallo-webserver en de browser van de gebruiker Hallo hebben.</span><span class="sxs-lookup"><span data-stu-id="69075-193">Websites can have an associated SSL certificate that helps in ensuring a secure communication between hello webserver and hello user’s browser.</span></span> <span data-ttu-id="69075-194">Als het Hallo-website een https-verbinding en een bijbehorende https site binding toohello IP-adres van Hallo IIS-server met een SSL-certificaat-binding heeft, moet een nieuwe sitebinding toobe toegevoegd voor HALLO cert Hello IP-adres van Hallo IIS-virtuele machine na de failover.</span><span class="sxs-lookup"><span data-stu-id="69075-194">If hello website has an https connection and an associated https site binding toohello IP address of hello IIS server with an SSL cert binding, a new site binding will need toobe added for hello cert with hello IP of hello IIS virtual machine post failover.</span></span>

<span data-ttu-id="69075-195">Hallo SSL-certificaat kan worden uitgegeven tegen-</span><span class="sxs-lookup"><span data-stu-id="69075-195">hello SSL cert can be issued against-</span></span>

<span data-ttu-id="69075-196">een) Hallo volledig gekwalificeerde domeinnaam van Hallo-website</span><span class="sxs-lookup"><span data-stu-id="69075-196">a) hello fully qualified domain name of hello website</span></span><br>
<span data-ttu-id="69075-197">b) naam van de Hallo van Hallo-server</span><span class="sxs-lookup"><span data-stu-id="69075-197">b) hello name of hello server</span></span><br>
<span data-ttu-id="69075-198">c) een jokertekencertificaat voor Hallo-domeinnaam</span><span class="sxs-lookup"><span data-stu-id="69075-198">c) A wildcard certificate for hello domain name</span></span><br>
<span data-ttu-id="69075-199">d) een IP-adres – als Hallo SSL-certificaat is uitgegeven voor Hallo IP-adres van Hallo IIS-server, een andere behoeften toobe van de SSL-certificaat dat is uitgegeven voor Hallo IP-adres van Hallo IIS-server op Hallo Azure site en een extra SSL-binding voor dit certificaat toobe gemaakt moet.</span><span class="sxs-lookup"><span data-stu-id="69075-199">d) An IP address – If hello SSL cert is issued against hello IP of hello IIS server, another SSL cert needs toobe issued against hello IP address of hello IIS server on hello Azure site and an additional SSL binding for this certificate will need toobe created.</span></span> <span data-ttu-id="69075-200">Het is dus raadzaam toonot gebruiken een SSL-certificaat is uitgegeven voor de IP.</span><span class="sxs-lookup"><span data-stu-id="69075-200">Hence, it is advisable toonot use an SSL cert issued against IP.</span></span> <span data-ttu-id="69075-201">Dit is een minder gebruikte optie en snel aan de hand van nieuwe wijzigingen van de CA/browser forum wordt afgeschaft.</span><span class="sxs-lookup"><span data-stu-id="69075-201">This is a less widely used option and will soon be deprecated as per new CA/browser forum changes.</span></span>

#### <a name="update-hello-dependency-between-hello-web-and-hello-application-tier"></a><span data-ttu-id="69075-202">Hallo-afhankelijkheid tussen Hallo web- en Hallo toepassingslaag bijwerken</span><span class="sxs-lookup"><span data-stu-id="69075-202">Update hello dependency between hello web and hello application tier</span></span>
<span data-ttu-id="69075-203">Als u een specifieke afhankelijkheid van toepassing op basis van IP-adres Hallo Hallo virtuele machines hebt, moet u tooupdate deze afhankelijkheid post voor failover.</span><span class="sxs-lookup"><span data-stu-id="69075-203">If you have an application specific dependency based on hello IP address of hello virtual machines, you need tooupdate this dependency post failover.</span></span>

## <a name="doing-a-test-failover"></a><span data-ttu-id="69075-204">Een testfailover uitvoeren</span><span class="sxs-lookup"><span data-stu-id="69075-204">Doing a test failover</span></span>
<span data-ttu-id="69075-205">Ga als volgt [in deze richtlijnen](site-recovery-test-failover-to-azure.md) toodo een testfailover.</span><span class="sxs-lookup"><span data-stu-id="69075-205">Follow [this guidance](site-recovery-test-failover-to-azure.md) toodo a test failover.</span></span>

1.  <span data-ttu-id="69075-206">Ga tooAzure portal en selecteer de Recovery Services-kluis.</span><span class="sxs-lookup"><span data-stu-id="69075-206">Go tooAzure portal and select your Recovery Service vault.</span></span>
1.  <span data-ttu-id="69075-207">Klik op Hallo herstelplan is gemaakt voor IIS-webfarm.</span><span class="sxs-lookup"><span data-stu-id="69075-207">Click on hello recovery plan created for IIS web farm.</span></span>
1.  <span data-ttu-id="69075-208">Klik op 'Testfailover'.</span><span class="sxs-lookup"><span data-stu-id="69075-208">Click on 'Test Failover'.</span></span>
1.  <span data-ttu-id="69075-209">Selecteer herstelpunt en het virtuele netwerk van Azure toostart Hallo test failover-proces.</span><span class="sxs-lookup"><span data-stu-id="69075-209">Select recovery point and Azure virtual network toostart hello test failover process.</span></span>
1.  <span data-ttu-id="69075-210">Wanneer secundaire Hallo-omgeving is, kunt u uw validaties kunt uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="69075-210">Once hello secondary environment is up, you can perform your validations.</span></span>
1.  <span data-ttu-id="69075-211">Zodra Hallo validaties voltooid zijn, kunt u 'Validaties voltooid' en de testfailoveromgeving hello wordt gereinigd.</span><span class="sxs-lookup"><span data-stu-id="69075-211">Once hello validations are complete, you can select ‘Validations complete’ and hello test failover environment will be cleaned.</span></span>

## <a name="doing-a-failover"></a><span data-ttu-id="69075-212">U een failover uitvoert</span><span class="sxs-lookup"><span data-stu-id="69075-212">Doing a failover</span></span>
<span data-ttu-id="69075-213">Ga als volgt [in deze richtlijnen](site-recovery-failover.md) bij het uitvoeren van een failover.</span><span class="sxs-lookup"><span data-stu-id="69075-213">Follow [this guidance](site-recovery-failover.md) when you are doing a failover.</span></span>

1.  <span data-ttu-id="69075-214">Ga tooAzure portal en selecteer de Recovery Services-kluis.</span><span class="sxs-lookup"><span data-stu-id="69075-214">Go tooAzure portal and select your Recovery Service vault.</span></span>
1.  <span data-ttu-id="69075-215">Klik op Hallo herstelplan is gemaakt voor IIS-webfarm.</span><span class="sxs-lookup"><span data-stu-id="69075-215">Click on hello recovery plan created for IIS web farm.</span></span>
1.  <span data-ttu-id="69075-216">Klik op 'Failover'.</span><span class="sxs-lookup"><span data-stu-id="69075-216">Click on 'Failover'.</span></span>
1.  <span data-ttu-id="69075-217">Selecteer herstelproces punt toostart Hallo failover.</span><span class="sxs-lookup"><span data-stu-id="69075-217">Select recovery point toostart hello failover process.</span></span>

## <a name="next-steps"></a><span data-ttu-id="69075-218">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="69075-218">Next steps</span></span>
<span data-ttu-id="69075-219">U kunt meer lezen over [andere toepassingen repliceren](site-recovery-workload.md) met Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="69075-219">You can learn more about [replicate other applications](site-recovery-workload.md) using Site Recovery.</span></span>
