---
title: aaaGet gestart met rollen, machtigingen en beveiliging met Azure Monitor | Microsoft Docs
description: Meer informatie over hoe de ingebouwde rollen en machtigingen toorestrict toouse Azure Monitor toegang krijgen toomonitoring bronnen tot.
author: johnkemnetz
manager: orenr
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: 2686e53b-72f0-4312-bcd3-3dc1b4a9b912
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/26/2016
ms.author: johnkem
ms.openlocfilehash: 44fdf2a697050309480dfc164ebab51445b19bc8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="get-started-with-roles-permissions-and-security-with-azure-monitor"></a><span data-ttu-id="76b0c-103">Aan de slag met rollen, machtigingen en -beveiliging met Azure-Monitor</span><span class="sxs-lookup"><span data-stu-id="76b0c-103">Get started with roles, permissions, and security with Azure Monitor</span></span>
<span data-ttu-id="76b0c-104">Veel teams moeten toostrictly reguleren toegang toomonitoring gegevens en instellingen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-104">Many teams need toostrictly regulate access toomonitoring data and settings.</span></span> <span data-ttu-id="76b0c-105">Bijvoorbeeld, als er teamleden die werken alleen op de bewaking (ondersteuningsmedewerkers, devops engineers) of als u een provider van beheerde services gebruikt, u ze toegang tot bewakingsgegevens kunt tijdens het beperken van hun mogelijkheid toocreate tooonly toogrant, wijzigen, of resources verwijderen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-105">For example, if you have team members who work exclusively on monitoring (support engineers, devops engineers) or if you use a managed service provider, you may want toogrant them access tooonly monitoring data while restricting their ability toocreate, modify, or delete resources.</span></span> <span data-ttu-id="76b0c-106">Dit artikel laat zien hoe tooquickly toepassen van een ingebouwde bewaking RBAC-rol tooa gebruiker in Azure of uw eigen aangepaste rol voor een gebruiker aan wie beperkte machtigingen voor controle moet bouwen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-106">This article shows how tooquickly apply a built-in monitoring RBAC role tooa user in Azure or build your own custom role for a user who needs limited monitoring permissions.</span></span> <span data-ttu-id="76b0c-107">Beveiligingsoverwegingen voor uw Azure-Monitor-gerelateerde resources vervolgens besproken en hoe u toegang tot toohello gegevens kunt beperken bevatten.</span><span class="sxs-lookup"><span data-stu-id="76b0c-107">It then discusses security considerations for your Azure Monitor-related resources and how you can limit access toohello data they contain.</span></span>

## <a name="built-in-monitoring-roles"></a><span data-ttu-id="76b0c-108">Ingebouwde bewaking rollen</span><span class="sxs-lookup"><span data-stu-id="76b0c-108">Built-in monitoring roles</span></span>
<span data-ttu-id="76b0c-109">De ingebouwde rollen Azure Monitor ontworpen toohelp limiet toegang tooresources in een abonnement terwijl nog steeds die verantwoordelijk zijn voor bewaking van infrastructuur tooobtain en configureer Hallo gegevens die ze nodig.</span><span class="sxs-lookup"><span data-stu-id="76b0c-109">Azure Monitor’s built-in roles are designed toohelp limit access tooresources in a subscription while still enabling those responsible for monitoring infrastructure tooobtain and configure hello data they need.</span></span> <span data-ttu-id="76b0c-110">Azure biedt twee out-of-the-box-rollen: een bewaking lezer en Inzender bewaking.</span><span class="sxs-lookup"><span data-stu-id="76b0c-110">Azure Monitor provides two out-of-the-box roles: A Monitoring Reader and a Monitoring Contributor.</span></span>

### <a name="monitoring-reader"></a><span data-ttu-id="76b0c-111">Bewaking van de lezer</span><span class="sxs-lookup"><span data-stu-id="76b0c-111">Monitoring Reader</span></span>
<span data-ttu-id="76b0c-112">Personen die zijn toegewezen met de rol Lezer bewaking Hallo kunnen alle bewakingsgegevens weergeven in een abonnement, maar kan wijzigen een resource of instellingen gerelateerde toomonitoring bronnen bewerken.</span><span class="sxs-lookup"><span data-stu-id="76b0c-112">People assigned hello Monitoring Reader role can view all monitoring data in a subscription but cannot modify any resource or edit any settings related toomonitoring resources.</span></span> <span data-ttu-id="76b0c-113">Deze rol is geschikt voor gebruikers in een organisatie, zoals ondersteuning of bewerkingen engineers hoeven toobe kunnen:</span><span class="sxs-lookup"><span data-stu-id="76b0c-113">This role is appropriate for users in an organization, such as support or operations engineers, who need toobe able to:</span></span>

* <span data-ttu-id="76b0c-114">Monitoring dashboards in Hallo portal weergeven en maken van hun eigen persoonlijke dashboards voor bewaking.</span><span class="sxs-lookup"><span data-stu-id="76b0c-114">View monitoring dashboards in hello portal and create their own private monitoring dashboards.</span></span>
* <span data-ttu-id="76b0c-115">Query voor de metrische gegevens met behulp van Hallo [REST-API van Azure-Monitor](https://msdn.microsoft.com/library/azure/dn931930.aspx), [PowerShell-cmdlets](insights-powershell-samples.md), of [platformoverschrijdende CLI](insights-cli-samples.md).</span><span class="sxs-lookup"><span data-stu-id="76b0c-115">Query for metrics using hello [Azure Monitor REST API](https://msdn.microsoft.com/library/azure/dn931930.aspx), [PowerShell cmdlets](insights-powershell-samples.md), or [cross-platform CLI](insights-cli-samples.md).</span></span>
* <span data-ttu-id="76b0c-116">Query Hallo activiteitenlogboek met Hallo-portal, Azure Monitor REST-API, PowerShell-cmdlets of platformoverschrijdende CLI.</span><span class="sxs-lookup"><span data-stu-id="76b0c-116">Query hello Activity Log using hello portal, Azure Monitor REST API, PowerShell cmdlets, or cross-platform CLI.</span></span>
* <span data-ttu-id="76b0c-117">Weergave Hallo [diagnostische instellingen](monitoring-overview-of-diagnostic-logs.md#resource-diagnostic-settings) voor een resource.</span><span class="sxs-lookup"><span data-stu-id="76b0c-117">View hello [diagnostic settings](monitoring-overview-of-diagnostic-logs.md#resource-diagnostic-settings) for a resource.</span></span>
* <span data-ttu-id="76b0c-118">Weergave Hallo [Meld profiel](monitoring-overview-activity-logs.md#export-the-activity-log-with-a-log-profile) voor een abonnement.</span><span class="sxs-lookup"><span data-stu-id="76b0c-118">View hello [log profile](monitoring-overview-activity-logs.md#export-the-activity-log-with-a-log-profile) for a subscription.</span></span>
* <span data-ttu-id="76b0c-119">Weergave-instellingen voor automatisch schalen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-119">View autoscale settings.</span></span>
* <span data-ttu-id="76b0c-120">Waarschuwing activiteit weergeven en instellingen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-120">View alert activity and settings.</span></span>
* <span data-ttu-id="76b0c-121">Toegang tot gegevens van Application Insights en gegevens weergeven in AI Analytics.</span><span class="sxs-lookup"><span data-stu-id="76b0c-121">Access Application Insights data and view data in AI Analytics.</span></span>
* <span data-ttu-id="76b0c-122">Zoeken naar gegevens in de werkruimte logboekanalyse (OMS) met inbegrip van gebruiksgegevens voor Hallo-werkruimte.</span><span class="sxs-lookup"><span data-stu-id="76b0c-122">Search Log Analytics (OMS) workspace data including usage data for hello workspace.</span></span>
* <span data-ttu-id="76b0c-123">Beheergroepen logboekanalyse (OMS) weer.</span><span class="sxs-lookup"><span data-stu-id="76b0c-123">View Log Analytics (OMS) management groups.</span></span>
* <span data-ttu-id="76b0c-124">Hallo logboekanalyse (OMS) search schema ophalen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-124">Retrieve hello Log Analytics (OMS) search schema.</span></span>
* <span data-ttu-id="76b0c-125">Lijst met logboekanalyse (OMS) intelligence packs.</span><span class="sxs-lookup"><span data-stu-id="76b0c-125">List Log Analytics (OMS) intelligence packs.</span></span>
* <span data-ttu-id="76b0c-126">Ophalen en uitvoeren van logboekanalyse (OMS) opgeslagen zoekopdrachten.</span><span class="sxs-lookup"><span data-stu-id="76b0c-126">Retrieve and execute Log Analytics (OMS) saved searches.</span></span>
* <span data-ttu-id="76b0c-127">Hallo-opslagconfiguratie voor logboekanalyse (OMS) ophalen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-127">Retrieve hello Log Analytics (OMS) storage configuration.</span></span>

> [!NOTE]
> <span data-ttu-id="76b0c-128">Deze rol geeft geen leestoegang toolog gegevens dat is gestroomd tooan event hub of opgeslagen in een opslagaccount.</span><span class="sxs-lookup"><span data-stu-id="76b0c-128">This role does not give read access toolog data that has been streamed tooan event hub or stored in a storage account.</span></span> <span data-ttu-id="76b0c-129">[Zie hieronder](#security-considerations-for-monitoring-data) voor informatie over het configureren van toegang tot toothese bronnen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-129">[See below](#security-considerations-for-monitoring-data) for information on configuring access toothese resources.</span></span>
> 
> 

### <a name="monitoring-contributor"></a><span data-ttu-id="76b0c-130">Inzender bewaking</span><span class="sxs-lookup"><span data-stu-id="76b0c-130">Monitoring Contributor</span></span>
<span data-ttu-id="76b0c-131">Personen die zijn toegewezen Hallo bewaking Inzender rol kan alle bewakingsgegevens weergeven in een abonnement en maak of controle-instellingen wijzigen, maar niet alle andere resources wijzigen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-131">People assigned hello Monitoring Contributor role can view all monitoring data in a subscription and create or modify monitoring settings, but cannot modify any other resources.</span></span> <span data-ttu-id="76b0c-132">Deze rol is een hoofdverzameling van met de rol Lezer bewaking Hallo en geschikt is voor leden van de bewaking team een organisatie of de beheerde service-providers die bovendien toohello machtigingen hierboven, moet ook toobe kunnen:</span><span class="sxs-lookup"><span data-stu-id="76b0c-132">This role is a superset of hello Monitoring Reader role, and is appropriate for members of an organization’s monitoring team or managed service providers who, in addition toohello permissions above, also need toobe able to:</span></span>

* <span data-ttu-id="76b0c-133">Monitoring dashboards publiceren als een gedeelde dashboard.</span><span class="sxs-lookup"><span data-stu-id="76b0c-133">Publish monitoring dashboards as a shared dashboard.</span></span>
* <span data-ttu-id="76b0c-134">Stel [diagnostische instellingen](monitoring-overview-of-diagnostic-logs.md#resource-diagnostic-settings) voor een resource.*</span><span class="sxs-lookup"><span data-stu-id="76b0c-134">Set [diagnostic settings](monitoring-overview-of-diagnostic-logs.md#resource-diagnostic-settings) for a resource.*</span></span>
* <span data-ttu-id="76b0c-135">Set Hallo [Meld profiel](monitoring-overview-activity-logs.md#export-the-activity-log-with-a-log-profile) voor een subscription.*</span><span class="sxs-lookup"><span data-stu-id="76b0c-135">Set hello [log profile](monitoring-overview-activity-logs.md#export-the-activity-log-with-a-log-profile) for a subscription.*</span></span>
* <span data-ttu-id="76b0c-136">Waarschuwing activiteit en -instellingen instellen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-136">Set alert activity and settings.</span></span>
* <span data-ttu-id="76b0c-137">Maak webtests Application Insights en onderdelen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-137">Create Application Insights web tests and components.</span></span>
* <span data-ttu-id="76b0c-138">Lijst met logboekanalyse (OMS) werkruimte gedeelde sleutels.</span><span class="sxs-lookup"><span data-stu-id="76b0c-138">List Log Analytics (OMS) workspace shared keys.</span></span>
* <span data-ttu-id="76b0c-139">In- of uitschakelen van logboekanalyse (OMS) intelligence packs.</span><span class="sxs-lookup"><span data-stu-id="76b0c-139">Enable or disable Log Analytics (OMS) intelligence packs.</span></span>
* <span data-ttu-id="76b0c-140">Maken en verwijderen en logboekanalyse (OMS) opgeslagen zoekopdrachten uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="76b0c-140">Create and delete and execute Log Analytics (OMS) saved searches.</span></span>
* <span data-ttu-id="76b0c-141">Maken en verwijderen van de opslagconfiguratie voor logboekanalyse (OMS) Hallo.</span><span class="sxs-lookup"><span data-stu-id="76b0c-141">Create and delete hello Log Analytics (OMS) storage configuration.</span></span>

<span data-ttu-id="76b0c-142">* gebruiker moet ook afzonderlijk worden gemachtigd ListKeys op Hallo doel resource (storage-account of event hub naamruimte) tooset een profiel voor een logboek of de diagnostische instelling.</span><span class="sxs-lookup"><span data-stu-id="76b0c-142">*user must also separately be granted ListKeys permission on hello target resource (storage account or event hub namespace) tooset a log profile or diagnostic setting.</span></span>

> [!NOTE]
> <span data-ttu-id="76b0c-143">Deze rol geeft geen leestoegang toolog gegevens dat is gestroomd tooan event hub of opgeslagen in een opslagaccount.</span><span class="sxs-lookup"><span data-stu-id="76b0c-143">This role does not give read access toolog data that has been streamed tooan event hub or stored in a storage account.</span></span> <span data-ttu-id="76b0c-144">[Zie hieronder](#security-considerations-for-monitoring-data) voor informatie over het configureren van toegang tot toothese bronnen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-144">[See below](#security-considerations-for-monitoring-data) for information on configuring access toothese resources.</span></span>
> 
> 

## <a name="monitoring-permissions-and-custom-rbac-roles"></a><span data-ttu-id="76b0c-145">Bewaking van aangepaste RBAC-rollen en machtigingen</span><span class="sxs-lookup"><span data-stu-id="76b0c-145">Monitoring permissions and custom RBAC roles</span></span>
<span data-ttu-id="76b0c-146">Als Hallo hierboven ingebouwde rollen niet voldoen aan Hallo exacte behoeften van uw team, kunt u [maakt u een aangepaste RBAC-rol](../active-directory/role-based-access-control-custom-roles.md) met meer gedetailleerde machtigingen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-146">If hello above built-in roles don’t meet hello exact needs of your team, you can [create a custom RBAC role](../active-directory/role-based-access-control-custom-roles.md) with more granular permissions.</span></span> <span data-ttu-id="76b0c-147">Hieronder vindt Hallo algemene Azure Monitor RBAC-bewerkingen met de bijbehorende beschrijvingen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-147">Below are hello common Azure Monitor RBAC operations with their descriptions.</span></span>

| <span data-ttu-id="76b0c-148">Bewerking</span><span class="sxs-lookup"><span data-stu-id="76b0c-148">Operation</span></span> | <span data-ttu-id="76b0c-149">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="76b0c-149">Description</span></span> |
| --- | --- |
| <span data-ttu-id="76b0c-150">Microsoft.Insights/AlertRules/[Read, schrijven, verwijderen]</span><span class="sxs-lookup"><span data-stu-id="76b0c-150">Microsoft.Insights/AlertRules/[Read, Write, Delete]</span></span> |<span data-ttu-id="76b0c-151">Waarschuwingsregels voor lezen, schrijven, verwijderen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-151">Read/write/delete alert rules.</span></span> |
| <span data-ttu-id="76b0c-152">Microsoft.Insights/AlertRules/Incidents/Read</span><span class="sxs-lookup"><span data-stu-id="76b0c-152">Microsoft.Insights/AlertRules/Incidents/Read</span></span> |<span data-ttu-id="76b0c-153">Lijst met incidenten (geschiedenis van de waarschuwingsregel hello wordt geactiveerd) voor regels voor waarschuwingen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-153">List incidents (history of hello alert rule being triggered) for alert rules.</span></span> <span data-ttu-id="76b0c-154">Dit geldt alleen toohello-portal.</span><span class="sxs-lookup"><span data-stu-id="76b0c-154">This only applies toohello portal.</span></span> |
| <span data-ttu-id="76b0c-155">Microsoft.Insights/AutoscaleSettings/[Read, schrijven, verwijderen]</span><span class="sxs-lookup"><span data-stu-id="76b0c-155">Microsoft.Insights/AutoscaleSettings/[Read, Write, Delete]</span></span> |<span data-ttu-id="76b0c-156">Instellingen voor automatisch schalen die lezen/schrijven/verwijderen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-156">Read/write/delete autoscale settings.</span></span> |
| <span data-ttu-id="76b0c-157">Microsoft.Insights/DiagnosticSettings/[Read, schrijven, verwijderen]</span><span class="sxs-lookup"><span data-stu-id="76b0c-157">Microsoft.Insights/DiagnosticSettings/[Read, Write, Delete]</span></span> |<span data-ttu-id="76b0c-158">Diagnostische instellingen voor lezen, schrijven, verwijderen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-158">Read/write/delete diagnostic settings.</span></span> |
| <span data-ttu-id="76b0c-159">Microsoft.Insights/eventtypes/digestevents/Read</span><span class="sxs-lookup"><span data-stu-id="76b0c-159">Microsoft.Insights/eventtypes/digestevents/Read</span></span> |<span data-ttu-id="76b0c-160">Deze machtiging is vereist voor gebruikers die toegang moeten hebben tot tooActivity logboeken via Hallo-portal.</span><span class="sxs-lookup"><span data-stu-id="76b0c-160">This permission is necessary for users who need access tooActivity Logs via hello portal.</span></span> |
| <span data-ttu-id="76b0c-161">Microsoft.Insights/eventtypes/values/Read</span><span class="sxs-lookup"><span data-stu-id="76b0c-161">Microsoft.Insights/eventtypes/values/Read</span></span> |<span data-ttu-id="76b0c-162">Activiteitenlogboek gebeurtenissen (management gebeurtenissen) in een abonnement weergeven.</span><span class="sxs-lookup"><span data-stu-id="76b0c-162">List Activity Log events (management events) in a subscription.</span></span> <span data-ttu-id="76b0c-163">Deze machtiging is van toepassing tooboth programmatische en portal toegang toohello activiteitenlogboek.</span><span class="sxs-lookup"><span data-stu-id="76b0c-163">This permission is applicable tooboth programmatic and portal access toohello Activity Log.</span></span> |
| <span data-ttu-id="76b0c-164">Microsoft.Insights/LogDefinitions/Read</span><span class="sxs-lookup"><span data-stu-id="76b0c-164">Microsoft.Insights/LogDefinitions/Read</span></span> |<span data-ttu-id="76b0c-165">Deze machtiging is vereist voor gebruikers die toegang moeten hebben tot tooActivity logboeken via Hallo-portal.</span><span class="sxs-lookup"><span data-stu-id="76b0c-165">This permission is necessary for users who need access tooActivity Logs via hello portal.</span></span> |
| <span data-ttu-id="76b0c-166">Microsoft.Insights/MetricDefinitions/Read</span><span class="sxs-lookup"><span data-stu-id="76b0c-166">Microsoft.Insights/MetricDefinitions/Read</span></span> |<span data-ttu-id="76b0c-167">Metrische definities (lijst met beschikbare metrische gegevens typen voor een resource) lezen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-167">Read metric definitions (list of available metric types for a resource).</span></span> |
| <span data-ttu-id="76b0c-168">Microsoft.Insights/Metrics/Read</span><span class="sxs-lookup"><span data-stu-id="76b0c-168">Microsoft.Insights/Metrics/Read</span></span> |<span data-ttu-id="76b0c-169">Metrische gegevens voor een resource lezen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-169">Read metrics for a resource.</span></span> |

> [!NOTE]
> <span data-ttu-id="76b0c-170">Toegang tot tooalerts diagnostische instellingen en metrische gegevens voor een resource vereist dat die Hallo de gebruiker heeft leestoegang toohello resourcetype en bereik van de bron.</span><span class="sxs-lookup"><span data-stu-id="76b0c-170">Access tooalerts, diagnostic settings, and metrics for a resource requires that hello user has Read access toohello resource type and scope of that resource.</span></span> <span data-ttu-id="76b0c-171">('Schrijven') maken een diagnostisch profiel instelling of een logboekbestand dat archieven tooa storage-account of streams tooevent hubs Hallo gebruiker tooalso vereist ListKeys machtiging hebben voor de doelbron Hallo.</span><span class="sxs-lookup"><span data-stu-id="76b0c-171">Creating (“write”) a diagnostic setting or log profile that archives tooa storage account or streams tooevent hubs requires hello user tooalso have ListKeys permission on hello target resource.</span></span>
> 
> 

<span data-ttu-id="76b0c-172">Met de Hallo boven tabel kan u bijvoorbeeld een aangepaste RBAC-rol voor een 'activiteit logboekweergave' als volgt maken:</span><span class="sxs-lookup"><span data-stu-id="76b0c-172">For example, using hello above table you could create a custom RBAC role for an “Activity Log Reader” like this:</span></span>

```powershell
$role = Get-AzureRmRoleDefinition "Reader"
$role.Id = $null
$role.Name = "Activity Log Reader"
$role.Description = "Can view activity logs."
$role.Actions.Clear()
$role.Actions.Add("Microsoft.Insights/eventtypes/*")
$role.AssignableScopes.Clear()
$role.AssignableScopes.Add("/subscriptions/mySubscription")
New-AzureRmRoleDefinition -Role $role 
```

## <a name="security-considerations-for-monitoring-data"></a><span data-ttu-id="76b0c-173">Beveiligingsoverwegingen voor het bewaken van gegevens</span><span class="sxs-lookup"><span data-stu-id="76b0c-173">Security considerations for monitoring data</span></span>
<span data-ttu-id="76b0c-174">Bewakingsgegevens, met name de logboekbestanden: vertrouwelijke gegevens, zoals IP-adressen of namen van gebruikers kan bevatten.</span><span class="sxs-lookup"><span data-stu-id="76b0c-174">Monitoring data—particularly log files—can contain sensitive information, such as IP addresses or user names.</span></span> <span data-ttu-id="76b0c-175">Het bewaken van gegevens van Azure wordt geleverd in drie basic formulieren:</span><span class="sxs-lookup"><span data-stu-id="76b0c-175">Monitoring data from Azure comes in three basic forms:</span></span>

1. <span data-ttu-id="76b0c-176">Hallo activiteitenlogboek waarin alle besturingselement vlak acties op uw Azure-abonnement.</span><span class="sxs-lookup"><span data-stu-id="76b0c-176">hello Activity Log, which describes all control-plane actions on your Azure subscription.</span></span>
2. <span data-ttu-id="76b0c-177">Diagnostische logboeken die verzonden door een resource van Logboeken zijn.</span><span class="sxs-lookup"><span data-stu-id="76b0c-177">Diagnostic Logs, which are logs emitted by a resource.</span></span>
3. <span data-ttu-id="76b0c-178">Metrieken worden gegenereerd door de bronnen.</span><span class="sxs-lookup"><span data-stu-id="76b0c-178">Metrics, which are emitted by resources.</span></span>

<span data-ttu-id="76b0c-179">Alle drie van de volgende gegevenstypen kunnen worden opgeslagen in een opslagaccount of tooEvent Hub, beide met de Azure-resources voor algemene doeleinden worden gestreamd.</span><span class="sxs-lookup"><span data-stu-id="76b0c-179">All three of these data types can be stored in a storage account or streamed tooEvent Hub, both of which are general-purpose Azure resources.</span></span> <span data-ttu-id="76b0c-180">Omdat dit algemene bronnen, is maken, verwijderen en toegang hebben tot deze een bewerking met bevoegdheid doorgaans gereserveerd voor een beheerder.</span><span class="sxs-lookup"><span data-stu-id="76b0c-180">Because these are general-purpose resources, creating, deleting, and accessing them is a privileged operation usually reserved for an administrator.</span></span> <span data-ttu-id="76b0c-181">Het is raadzaam om de volgende procedures voor de bewaking-gerelateerde resources tooprevent misbruik hello te gebruiken:</span><span class="sxs-lookup"><span data-stu-id="76b0c-181">We suggest that you use hello following practices for monitoring-related resources tooprevent misuse:</span></span>

* <span data-ttu-id="76b0c-182">Een enkele, speciaal opslagaccount gebruiken voor het bewaken van gegevens.</span><span class="sxs-lookup"><span data-stu-id="76b0c-182">Use a single, dedicated storage account for monitoring data.</span></span> <span data-ttu-id="76b0c-183">Als u het bewaken van gegevens in meerdere opslagaccounts tooseparate nodig, nooit delen informatie over het gebruik van een opslagaccount tussen bewaking en niet-bewaking gegevens, zoals dit mogelijk per ongeluk geven degenen die alleen moet toegang hebben tot toomonitoring gegevens (bv.</span><span class="sxs-lookup"><span data-stu-id="76b0c-183">If you need tooseparate monitoring data into multiple storage accounts, never share usage of a storage account between monitoring and non-monitoring data, as this may inadvertently give those who only need access toomonitoring data (eg.</span></span> <span data-ttu-id="76b0c-184">een derde partij SIEM) toegang krijgen tot gegevens toonon bewaking.</span><span class="sxs-lookup"><span data-stu-id="76b0c-184">a third-party SIEM) access toonon-monitoring data.</span></span>
* <span data-ttu-id="76b0c-185">Een enkele, toegewezen Service Bus- of Event Hub-naamruimte gebruiken in alle diagnostische instellingen voor Hallo dezelfde als hierboven reden.</span><span class="sxs-lookup"><span data-stu-id="76b0c-185">Use a single, dedicated Service Bus or Event Hub namespace across all diagnostic settings for hello same reason as above.</span></span>
* <span data-ttu-id="76b0c-186">Beperken van toegang toomonitoring-gerelateerde storage-accounts of event hubs doordat ze op een afzonderlijke resourcegroep en [gebruik scope](../active-directory/role-based-access-control-what-is.md#basics-of-access-management-in-azure) op uw bewaking rollen toolimit access tooonly die resourcegroep.</span><span class="sxs-lookup"><span data-stu-id="76b0c-186">Limit access toomonitoring-related storage accounts or event hubs by keeping them in a separate resource group, and [use scope](../active-directory/role-based-access-control-what-is.md#basics-of-access-management-in-azure) on your monitoring roles toolimit access tooonly that resource group.</span></span>
* <span data-ttu-id="76b0c-187">Nooit machtigen Hallo ListKeys storage-accounts of event hubs op abonnementsbereik wanneer een gebruiker alleen toegang tot toomonitoring gegevens nodig.</span><span class="sxs-lookup"><span data-stu-id="76b0c-187">Never grant hello ListKeys permission for either storage accounts or event hubs at subscription scope when a user only needs access toomonitoring data.</span></span> <span data-ttu-id="76b0c-188">In plaats daarvan geven de gebruiker van deze machtigingen toohello op een resource of resourcegroep (als u een speciale bewaking resourcegroep hebt) bereik.</span><span class="sxs-lookup"><span data-stu-id="76b0c-188">Instead, give these permissions toohello user at a resource or resource group (if you have a dedicated monitoring resource group) scope.</span></span>

### <a name="limiting-access-toomonitoring-related-storage-accounts"></a><span data-ttu-id="76b0c-189">Beperken van toegang toomonitoring-gerelateerde storage-accounts</span><span class="sxs-lookup"><span data-stu-id="76b0c-189">Limiting access toomonitoring-related storage accounts</span></span>
<span data-ttu-id="76b0c-190">Wanneer een gebruiker of toepassing toegang krijgen gegevens in een opslagaccount toomonitoring tot moet, moet u [genereren van een Account-SAS](https://msdn.microsoft.com/library/azure/mt584140.aspx) op Hallo storage-account dat bewakingsgegevens met serviceniveau alleen-lezentoegang tooblob storage bevat.</span><span class="sxs-lookup"><span data-stu-id="76b0c-190">When a user or application needs access toomonitoring data in a storage account, you should [generate an Account SAS](https://msdn.microsoft.com/library/azure/mt584140.aspx) on hello storage account that contains monitoring data with service-level read-only access tooblob storage.</span></span> <span data-ttu-id="76b0c-191">In PowerShell dit als volgt uitzien:</span><span class="sxs-lookup"><span data-stu-id="76b0c-191">In PowerShell, this might look like:</span></span>

```powershell
$context = New-AzureStorageContext -ConnectionString "[connection string for your monitoring Storage Account]"
$token = New-AzureStorageAccountSASToken -ResourceType Service -Service Blob -Permission "rl" -Context $context
```

<span data-ttu-id="76b0c-192">U kunt vervolgens Hallo token toohello entiteit die tooread uit dat opslagaccount moet geven en kan weergeven en lezen uit alle blobs in dit opslagaccount.</span><span class="sxs-lookup"><span data-stu-id="76b0c-192">You can then give hello token toohello entity that needs tooread from that storage account, and it can list and read from all blobs in that storage account.</span></span>

<span data-ttu-id="76b0c-193">Als u deze machtiging met RBAC toocontrol moet, kunt u ook verlenen die entiteit Hallo Microsoft.Storage/storageAccounts/listkeys/action machtiging op dat bepaalde storage-account.</span><span class="sxs-lookup"><span data-stu-id="76b0c-193">Alternatively, if you need toocontrol this permission with RBAC, you can grant that entity hello Microsoft.Storage/storageAccounts/listkeys/action permission on that particular storage account.</span></span> <span data-ttu-id="76b0c-194">Dit is nodig voor gebruikers die toobe kunnen tooset een diagnostische instelling of logboek profiel tooarchive tooa storage-account nodig.</span><span class="sxs-lookup"><span data-stu-id="76b0c-194">This is necessary for users who need toobe able tooset a diagnostic setting or log profile tooarchive tooa storage account.</span></span> <span data-ttu-id="76b0c-195">U kunt bijvoorbeeld Hallo aangepaste RBAC-rol voor een gebruiker of toepassing die alleen tooread van één opslagaccount opgeven moet na maken:</span><span class="sxs-lookup"><span data-stu-id="76b0c-195">For example, you could create hello following custom RBAC role for a user or application that only needs tooread from one storage account:</span></span>

```powershell
$role = Get-AzureRmRoleDefinition "Reader"
$role.Id = $null
$role.Name = "Monitoring Storage Account Reader"
$role.Description = "Can get hello storage account keys for a monitoring storage account."
$role.Actions.Clear()
$role.Actions.Add("Microsoft.Storage/storageAccounts/listkeys/action")
$role.Actions.Add("Microsoft.Storage/storageAccounts/Read")
$role.AssignableScopes.Clear()
$role.AssignableScopes.Add("/subscriptions/mySubscription/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myMonitoringStorageAccount")
New-AzureRmRoleDefinition -Role $role 
```

> [!WARNING]
> <span data-ttu-id="76b0c-196">Hallo ListKeys machtiging kunt Hallo gebruiker toolist Hallo primaire en secundaire sleutels van opslagaccount.</span><span class="sxs-lookup"><span data-stu-id="76b0c-196">hello ListKeys permission enables hello user toolist hello primary and secondary storage account keys.</span></span> <span data-ttu-id="76b0c-197">Deze sleutels verlenen Hallo gebruiker alle ondertekende machtigingen (lezen, schrijven, BLOB's maken, verwijderen van blobs, etc.) voor alle ondertekend services (blob, queue, table, bestand) in die storage-account.</span><span class="sxs-lookup"><span data-stu-id="76b0c-197">These keys grant hello user all signed permissions (read, write, create blobs, delete blobs, etc.) across all signed services (blob, queue, table, file) in that storage account.</span></span> <span data-ttu-id="76b0c-198">U wordt aangeraden met een Account-SAS hierboven wordt beschreven indien mogelijk.</span><span class="sxs-lookup"><span data-stu-id="76b0c-198">We recommend using an Account SAS described above when possible.</span></span>
> 
> 

### <a name="limiting-access-toomonitoring-related-event-hubs"></a><span data-ttu-id="76b0c-199">Beperken van toegang toomonitoring-gerelateerde event hubs</span><span class="sxs-lookup"><span data-stu-id="76b0c-199">Limiting access toomonitoring-related event hubs</span></span>
<span data-ttu-id="76b0c-200">Een vergelijkbaar patroon met event hubs kan worden uitgevoerd, maar u moet eerst toocreate een speciale Listen-autorisatieregel.</span><span class="sxs-lookup"><span data-stu-id="76b0c-200">A similar pattern can be followed with event hubs, but first you need toocreate a dedicated Listen authorization rule.</span></span> <span data-ttu-id="76b0c-201">Als u toogrant toegang tooan-toepassing die alleen toolisten toomonitoring-gerelateerde event hubs wilt, Hallo te volgen:</span><span class="sxs-lookup"><span data-stu-id="76b0c-201">If you want toogrant access tooan application that only needs toolisten toomonitoring-related event hubs, do hello following:</span></span>

1. <span data-ttu-id="76b0c-202">Een gedeeld toegangsbeleid maken op Hallo event hub die zijn gemaakt voor streaming bewakingsgegevens met alleen Listen claims.</span><span class="sxs-lookup"><span data-stu-id="76b0c-202">Create a shared access policy on hello event hub(s) that were created for streaming monitoring data with only Listen claims.</span></span> <span data-ttu-id="76b0c-203">Dit kan worden gedaan in Hallo-portal.</span><span class="sxs-lookup"><span data-stu-id="76b0c-203">This can be done in hello portal.</span></span> <span data-ttu-id="76b0c-204">Bijvoorbeeld, u mogelijk deze aanroepen 'monitoringReadOnly'.</span><span class="sxs-lookup"><span data-stu-id="76b0c-204">For example, you might call it “monitoringReadOnly.”</span></span> <span data-ttu-id="76b0c-205">Indien mogelijk, zult u toogive die sleutel rechtstreeks toohello consumer en Hallo volgende stap overslaan.</span><span class="sxs-lookup"><span data-stu-id="76b0c-205">If possible, you will want toogive that key directly toohello consumer and skip hello next step.</span></span>
2. <span data-ttu-id="76b0c-206">Als Hallo consumer toobe kunnen tooget Hallo sleutel ad-hoc moet, verleent u Hallo Hallo ListKeys in te grijpen voor deze event hub.</span><span class="sxs-lookup"><span data-stu-id="76b0c-206">If hello consumer needs toobe able tooget hello key ad-hoc, grant hello user hello ListKeys action for that event hub.</span></span> <span data-ttu-id="76b0c-207">Dit is ook nodig zijn voor gebruikers die moeten toobe kunnen tooset een diagnostische instelling of meld u profiel toostream tooevent hubs.</span><span class="sxs-lookup"><span data-stu-id="76b0c-207">This is also necessary for users who need toobe able tooset a diagnostic setting or log profile toostream tooevent hubs.</span></span> <span data-ttu-id="76b0c-208">U kunt bijvoorbeeld een regel RBAC maken:</span><span class="sxs-lookup"><span data-stu-id="76b0c-208">For example, you might create an RBAC rule:</span></span>
   
   ```powershell
   $role = Get-AzureRmRoleDefinition "Reader"
   $role.Id = $null
   $role.Name = "Monitoring Event Hub Listener"
   $role.Description = "Can get hello key toolisten tooan event hub streaming monitoring data."
   $role.Actions.Clear()
   $role.Actions.Add("Microsoft.ServiceBus/namespaces/authorizationrules/listkeys/action")
   $role.Actions.Add("Microsoft.ServiceBus/namespaces/Read")
   $role.AssignableScopes.Clear()
   $role.AssignableScopes.Add("/subscriptions/mySubscription/resourceGroups/myResourceGroup/providers/Microsoft.ServiceBus/namespaces/mySBNameSpace")
   New-AzureRmRoleDefinition -Role $role 
   ```

## <a name="next-steps"></a><span data-ttu-id="76b0c-209">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="76b0c-209">Next steps</span></span>
* [<span data-ttu-id="76b0c-210">Meer informatie over RBAC en machtigingen in Resource Manager</span><span class="sxs-lookup"><span data-stu-id="76b0c-210">Read about RBAC and permissions in Resource Manager</span></span>](../active-directory/role-based-access-control-what-is.md)
* [<span data-ttu-id="76b0c-211">Overzicht van de bewaking in Azure Hallo lezen</span><span class="sxs-lookup"><span data-stu-id="76b0c-211">Read hello overview of monitoring in Azure</span></span>](monitoring-overview.md)

