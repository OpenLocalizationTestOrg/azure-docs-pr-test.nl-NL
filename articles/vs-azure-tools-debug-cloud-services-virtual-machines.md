---
title: aaaDebugging een Azure cloud service of de virtuele machine in Visual Studio | Microsoft Docs
description: Foutopsporing van een Cloudservice of virtuele Machine in Visual Studio
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 945e06e0-2100-41af-b218-72347367ddab
ms.service: visual-studio-online
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: multiple
ms.workload: na
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 32a326430021ba2ea9317a6a71fa005d4b87c273
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="debugging-an-azure-cloud-service-or-virtual-machine-in-visual-studio"></a><span data-ttu-id="39fbe-103">Foutopsporing van een Azure-cloudservice of virtuele machine in Visual Studio</span><span class="sxs-lookup"><span data-stu-id="39fbe-103">Debugging an Azure cloud service or virtual machine in Visual Studio</span></span>
<span data-ttu-id="39fbe-104">Visual Studio biedt verschillende opties voor het opsporen van Azure-cloudservices en virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="39fbe-104">Visual Studio gives you different options for debugging Azure cloud services and virtual machines.</span></span>

## <a name="debug-your-cloud-service-on-your-local-computer"></a><span data-ttu-id="39fbe-105">Fouten opsporen in uw cloudservice op de lokale computer</span><span class="sxs-lookup"><span data-stu-id="39fbe-105">Debug your cloud service on your local computer</span></span>
<span data-ttu-id="39fbe-106">U kunt opslaan tijd en geld met behulp van hello Azure compute-emulator toodebug uw cloudservice op een lokale computer.</span><span class="sxs-lookup"><span data-stu-id="39fbe-106">You can save time and money by using hello Azure compute emulator toodebug your cloud service on a local machine.</span></span> <span data-ttu-id="39fbe-107">U kunt door foutopsporing lokaal een service in voordat u deze implementeert, betrouwbaarheid en prestaties verbeteren zonder te betalen voor compute-tijd.</span><span class="sxs-lookup"><span data-stu-id="39fbe-107">By debugging a service locally before you deploy it, you can improve reliability and performance without paying for compute time.</span></span> <span data-ttu-id="39fbe-108">Echter een aantal fouten optreden alleen wanneer u een cloudservice uitvoert in Azure zelf.</span><span class="sxs-lookup"><span data-stu-id="39fbe-108">However, some errors might occur only when you run a cloud service in Azure itself.</span></span> <span data-ttu-id="39fbe-109">U kunt deze fouten opsporen als u foutopsporing op afstand inschakelen wanneer u uw service publiceren en koppel vervolgens Hallo foutopsporingsprogramma tooa rolinstantie.</span><span class="sxs-lookup"><span data-stu-id="39fbe-109">You can debug these errors if you enable remote debugging when you publish your service and then attach hello debugger tooa role instance.</span></span>

<span data-ttu-id="39fbe-110">Hallo-emulator simuleert hello Azure Compute-service en wordt uitgevoerd in uw lokale omgeving zodat u kunt testen en fouten opsporen in uw cloudservice voordat u deze implementeert.</span><span class="sxs-lookup"><span data-stu-id="39fbe-110">hello emulator simulates hello Azure Compute service and runs in your local environment so that you can test and debug your cloud service before you deploy it.</span></span> <span data-ttu-id="39fbe-111">Hallo-emulator ingangen Hallo levenscyclus van uw rolinstanties en biedt toegang toosimulated resources, zoals lokale opslag.</span><span class="sxs-lookup"><span data-stu-id="39fbe-111">hello emulator handles hello lifecycle of your role instances and provides access toosimulated resources, such as local storage.</span></span> <span data-ttu-id="39fbe-112">Wanneer u foutopsporing of uitvoeren van uw service vanuit Visual Studio, Hallo emulator automatisch gestart als een achtergrondtoepassing en implementeert vervolgens uw service toohello-emulator.</span><span class="sxs-lookup"><span data-stu-id="39fbe-112">When you debug or run your service from Visual Studio, it automatically starts hello emulator as a background application and then deploys your service toohello emulator.</span></span> <span data-ttu-id="39fbe-113">U kunt de Hallo emulator tooview uw service wanneer deze wordt uitgevoerd in de lokale omgeving Hallo.</span><span class="sxs-lookup"><span data-stu-id="39fbe-113">You can use hello emulator tooview your service when it runs in hello local environment.</span></span> <span data-ttu-id="39fbe-114">U kunt uitvoeren Hallo volledige versie of express Hallo-versie van Hallo-emulator.</span><span class="sxs-lookup"><span data-stu-id="39fbe-114">You can run hello full version or hello express version of hello emulator.</span></span> <span data-ttu-id="39fbe-115">(Vanaf Azure 2.3 kunt Hallo express-versie van de emulator Hallo is standaard Hallo.) Zie [tooRun Emulator Express gebruiken en een Cloud-Service lokaal foutopsporing](https://msdn.microsoft.com/library/dn339018.aspx).</span><span class="sxs-lookup"><span data-stu-id="39fbe-115">(Starting with Azure 2.3, hello express version of hello emulator is hello default.) See [Using Emulator Express tooRun and Debug a Cloud Service Locally](https://msdn.microsoft.com/library/dn339018.aspx).</span></span>

### <a name="toodebug-your-cloud-service-on-your-local-computer"></a><span data-ttu-id="39fbe-116">toodebug uw cloud-service op de lokale computer</span><span class="sxs-lookup"><span data-stu-id="39fbe-116">toodebug your cloud service on your local computer</span></span>
1. <span data-ttu-id="39fbe-117">Kies op de menubalk Hallo **Debug**, **foutopsporing starten** toorun uw Azure-cloud service-project.</span><span class="sxs-lookup"><span data-stu-id="39fbe-117">On hello menu bar, choose **Debug**, **Start Debugging** toorun your Azure cloud service project.</span></span> <span data-ttu-id="39fbe-118">Als alternatief kunt u op F5 drukken.</span><span class="sxs-lookup"><span data-stu-id="39fbe-118">As an alternative, you can press F5.</span></span> <span data-ttu-id="39fbe-119">U ziet een bericht dat Hallo Compute-Emulator wordt gestart.</span><span class="sxs-lookup"><span data-stu-id="39fbe-119">You’ll see a message that hello Compute Emulator is starting.</span></span> <span data-ttu-id="39fbe-120">Wanneer het Hallo-emulator wordt gestart, wordt het door Hallo pictogram op de taakbalk bevestigt.</span><span class="sxs-lookup"><span data-stu-id="39fbe-120">When hello emulator starts, hello system tray icon confirms it.</span></span>

    ![Azure-emulator in het systeemvak Hallo](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC783828.png)
2. <span data-ttu-id="39fbe-122">Hallo-gebruikersinterface voor Hallo rekenemulator weergeven door het Hallo snelmenu voor hello Azure pictogram in systeemvak Hallo openen en selecteer vervolgens **weergeven Compute-Emulator UI**.</span><span class="sxs-lookup"><span data-stu-id="39fbe-122">Display hello user interface for hello compute emulator by opening hello shortcut menu for hello Azure icon in hello notification area, and then select **Show Compute Emulator UI**.</span></span>

    <span data-ttu-id="39fbe-123">Hallo linkerdeelvenster Hallo UI Hallo-services die momenteel zijn geïmplementeerd toohello compute-emulator en Hallo rolexemplaren die elke service wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="39fbe-123">hello left pane of hello UI shows hello services that are currently deployed toohello compute emulator and hello role instances that each service is running.</span></span> <span data-ttu-id="39fbe-124">U kunt Hallo service of functies toodisplay levenscyclus, logboekregistratie en diagnostische gegevens in het rechterdeelvenster Hallo.</span><span class="sxs-lookup"><span data-stu-id="39fbe-124">You can choose hello service or roles toodisplay lifecycle, logging, and diagnostic information in hello right pane.</span></span> <span data-ttu-id="39fbe-125">Als u Hallo focus in Hallo bovenmarge van een venster opgenomen, maar deze wordt uitgebreid toofill Hallo rechterdeelvenster.</span><span class="sxs-lookup"><span data-stu-id="39fbe-125">If you put hello focus in hello top margin of an included window, it expands toofill hello right pane.</span></span>
3. <span data-ttu-id="39fbe-126">Stap via Hallo-toepassing met de opdrachten op Hallo **Debug** menu's en onderbrekingspunten instellen in uw code.</span><span class="sxs-lookup"><span data-stu-id="39fbe-126">Step through hello application by selecting commands on hello **Debug** menu and setting breakpoints in your code.</span></span> <span data-ttu-id="39fbe-127">Tijdens het doorlopen van toepassing hello in Hallo foutopsporingsprogramma Hallo bijgewerkt met de huidige status van de toepassing hello Hallo.</span><span class="sxs-lookup"><span data-stu-id="39fbe-127">As you step through hello application in hello debugger, hello panes are updated with hello current status of hello application.</span></span> <span data-ttu-id="39fbe-128">Wanneer u stopt met het opsporen van fouten, wordt Hallo-toepassingsimplementatie verwijderd.</span><span class="sxs-lookup"><span data-stu-id="39fbe-128">When you stop debugging, hello application deployment is deleted.</span></span> <span data-ttu-id="39fbe-129">Als uw toepassing een Webrol bevat en u Hallo starten van de actie eigenschap toostart Hallo-webbrowser hebt ingesteld, wordt uw webtoepassing in de browser Hallo in Visual Studio gestart.</span><span class="sxs-lookup"><span data-stu-id="39fbe-129">If your application includes a web role and you've set hello Startup action property toostart hello web browser, Visual Studio starts your web application in hello browser.</span></span> <span data-ttu-id="39fbe-130">Als u het aantal exemplaren van een rol in de serviceconfiguratie Hallo Hallo wijzigt, moet u uw cloudservice stoppen en opnieuw starten zodat u fouten voor deze nieuwe exemplaren van de rol Hallo opsporen kunt-foutopsporing.</span><span class="sxs-lookup"><span data-stu-id="39fbe-130">If you change hello number of instances of a role in hello service configuration, you must stop your cloud service and then restart debugging so that you can debug these new instances of hello role.</span></span>

    <span data-ttu-id="39fbe-131">**Opmerking:** wanneer u stopt met het uitvoeren of foutopsporing van uw service Hallo lokale rekenemulator en opslagemulator niet worden gestopt.</span><span class="sxs-lookup"><span data-stu-id="39fbe-131">**Note:** When you stop running or debugging your service, hello local compute emulator and storage emulator aren't stopped.</span></span> <span data-ttu-id="39fbe-132">U moet ze expliciet stoppen van Hallo-systeemvak.</span><span class="sxs-lookup"><span data-stu-id="39fbe-132">You must stop them explicitly from hello notification area.</span></span>

## <a name="debug-a-cloud-service-in-azure"></a><span data-ttu-id="39fbe-133">Fouten opsporen in een cloudservice in Azure</span><span class="sxs-lookup"><span data-stu-id="39fbe-133">Debug a cloud service in Azure</span></span>
<span data-ttu-id="39fbe-134">toodebug een cloudservice vanaf een externe computer, moet u inschakelen dat de functionaliteit expliciet wanneer u uw cloudservice implementeert, zodat de vereiste services (bijvoorbeeld msvsmon.exe) op Hallo virtuele machines met uw rolinstanties zijn geïnstalleerd.</span><span class="sxs-lookup"><span data-stu-id="39fbe-134">toodebug a cloud service from a remote machine, you must enable that functionality explicitly when you deploy your cloud service so that required services (msvsmon.exe, for example) are installed on hello virtual machines that run your role instances.</span></span> <span data-ttu-id="39fbe-135">Als u niet foutopsporing op afstand inschakelen wanneer u Hallo service gepubliceerd, hebt u toorepublish Hallo service voor foutopsporing op afstand is ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="39fbe-135">If you didn't enable remote debugging when you published hello service, you have toorepublish hello service with remote debugging enabled.</span></span>

<span data-ttu-id="39fbe-136">Als u foutopsporing op afstand voor een cloudservice inschakelt, kan deze niet slechtere prestaties levert of extra kosten.</span><span class="sxs-lookup"><span data-stu-id="39fbe-136">If you enable remote debugging for a cloud service, it doesn't exhibit degraded performance or incur additional charges.</span></span> <span data-ttu-id="39fbe-137">U kunt foutopsporing op afstand voor een productieservice niet gebruikt omdat clients die gebruikmaken van Hallo-service mogelijk nadelig worden beïnvloed.</span><span class="sxs-lookup"><span data-stu-id="39fbe-137">You shouldn't use remote debugging on a production service, because clients who use hello service might be adversely affected.</span></span>

> [!NOTE]
> <span data-ttu-id="39fbe-138">Wanneer u een cloudservice vanuit Visual Studio publiceert, kunt u inschakelen **IntelliTrace** voor alle functies in die service die doel Hallo .NET Framework 4 of .NET Framework 4.5 Hallo.</span><span class="sxs-lookup"><span data-stu-id="39fbe-138">When you publish a cloud service from Visual Studio, you can enable **IntelliTrace** for any roles in that service that target hello .NET Framework 4 or hello .NET Framework 4.5.</span></span> <span data-ttu-id="39fbe-139">Met behulp van **IntelliTrace**, kunt u gebeurtenissen die hebben plaatsgevonden in een rolexemplaar van in de afgelopen Hallo onderzoeken en reproduceren Hallo context vanaf dat moment.</span><span class="sxs-lookup"><span data-stu-id="39fbe-139">By using **IntelliTrace**, you can examine events that occurred in a role instance in hello past and reproduce hello context from that time.</span></span> <span data-ttu-id="39fbe-140">Zie [foutopsporing van een gepubliceerde cloudservice met IntelliTrace en Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016) en [met behulp van IntelliTrace](https://msdn.microsoft.com/library/dd264915.aspx).</span><span class="sxs-lookup"><span data-stu-id="39fbe-140">See [Debugging a published cloud service with IntelliTrace and Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016) and [Using IntelliTrace](https://msdn.microsoft.com/library/dd264915.aspx).</span></span>
>
>

### <a name="tooenable-remote-debugging-for-a-cloud-service"></a><span data-ttu-id="39fbe-141">foutopsporing op afstand voor een cloudservice tooenable</span><span class="sxs-lookup"><span data-stu-id="39fbe-141">tooenable remote debugging for a cloud service</span></span>
1. <span data-ttu-id="39fbe-142">Open de snelmenu Hallo voor hello Azure-project en selecteer vervolgens **publiceren**.</span><span class="sxs-lookup"><span data-stu-id="39fbe-142">Open hello shortcut menu for hello Azure project, and then select **Publish**.</span></span>
2. <span data-ttu-id="39fbe-143">Selecteer Hallo **fasering** omgeving en Hallo **Debug** configuratie.</span><span class="sxs-lookup"><span data-stu-id="39fbe-143">Select hello **Staging** environment and hello **Debug** configuration.</span></span>

    <span data-ttu-id="39fbe-144">Dit is slechts een richtlijn.</span><span class="sxs-lookup"><span data-stu-id="39fbe-144">This is only a guideline.</span></span> <span data-ttu-id="39fbe-145">U kunt ervoor kiezen toorun uw testomgevingen in een productieomgeving.</span><span class="sxs-lookup"><span data-stu-id="39fbe-145">You can opt toorun your test environments in a Production environment.</span></span> <span data-ttu-id="39fbe-146">U kan echter gebruikers nadelig beïnvloeden als u foutopsporing op afstand op Hallo productie-omgeving inschakelen.</span><span class="sxs-lookup"><span data-stu-id="39fbe-146">However, you may adversely affect users if you enable remote debugging on hello Production environment.</span></span> <span data-ttu-id="39fbe-147">U kunt Hallo Release-configuratie, maar Hallo foutopsporing configuratie is foutopsporing gemakkelijker.</span><span class="sxs-lookup"><span data-stu-id="39fbe-147">You can choose hello Release configuration, but hello Debug configuration makes debugging easier.</span></span>

    ![Kies Hallo foutopsporing configuratie](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746717.gif)
3. <span data-ttu-id="39fbe-149">Volg de gebruikelijke stappen Hallo maar selecteer Hallo **externe foutopsporing inschakelen voor alle rollen** selectievakje op Hallo **geavanceerde instellingen** tabblad.</span><span class="sxs-lookup"><span data-stu-id="39fbe-149">Follow hello usual steps, but select hello **Enable Remote Debugger for all roles** check box on hello **Advanced Settings** tab.</span></span>

    ![Fouten opsporen in configuratie](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746718.gif)

### <a name="tooattach-hello-debugger-tooa-cloud-service-in-azure"></a><span data-ttu-id="39fbe-151">tooattach hello foutopsporingsprogramma tooa cloudservice in Azure</span><span class="sxs-lookup"><span data-stu-id="39fbe-151">tooattach hello debugger tooa cloud service in Azure</span></span>
1. <span data-ttu-id="39fbe-152">Vouw in Server Explorer Hallo knooppunt voor de cloudservice.</span><span class="sxs-lookup"><span data-stu-id="39fbe-152">In Server Explorer, expand hello node for your cloud service.</span></span>
2. <span data-ttu-id="39fbe-153">Open Hallo snelmenu voor het Hallo-rol of functie exemplaar toowhich u wilt tooattach en selecteer vervolgens **foutopsporingsprogramma koppelen**.</span><span class="sxs-lookup"><span data-stu-id="39fbe-153">Open hello shortcut menu for hello role or role instance toowhich you want tooattach, and then select **Attach Debugger**.</span></span>

    <span data-ttu-id="39fbe-154">Als u fouten opsporen in een rol, koppelt de foutopsporingsfunctie Hallo tooeach exemplaar van deze rol.</span><span class="sxs-lookup"><span data-stu-id="39fbe-154">If you debug a role, hello Visual Studio debugger attaches tooeach instance of that role.</span></span> <span data-ttu-id="39fbe-155">Hallo-foutopsporing verbreekt op een onderbrekingspunt voor het eerste rolexemplaar hello, die wordt uitgevoerd die regel en voldoet aan alle voorwaarden van deze onderbrekingspunt.</span><span class="sxs-lookup"><span data-stu-id="39fbe-155">hello debugger will break on a breakpoint for hello first role instance that runs that line of code and meets any conditions of that breakpoint.</span></span> <span data-ttu-id="39fbe-156">Als u een exemplaar debug, gekoppeld Hallo foutopsporingsprogramma tooonly dat exemplaar en -einden op een onderbrekingspunt alleen wanneer dat specifieke exemplaar wordt uitgevoerd die regel en voldoet aan de voorwaarden van onderbrekingspunt Hallo.</span><span class="sxs-lookup"><span data-stu-id="39fbe-156">If you debug an instance, hello debugger attaches tooonly that instance and breaks on a breakpoint only when that specific instance runs that line of code and meets hello breakpoint's conditions.</span></span>

    ![Foutopsporingsprogramma koppelen](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746719.gif)
3. <span data-ttu-id="39fbe-158">Nadat het Hallo-foutopsporingsprogramma koppelt tooan exemplaar, zoals gebruikelijk foutopsporing.</span><span class="sxs-lookup"><span data-stu-id="39fbe-158">After hello debugger attaches tooan instance, debug as usual.</span></span> <span data-ttu-id="39fbe-159">Hallo-foutopsporingsprogramma worden automatisch de juiste hostproces toohello voor uw rol gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="39fbe-159">hello debugger automatically attaches toohello appropriate host process for your role.</span></span> <span data-ttu-id="39fbe-160">Afhankelijk van welke Hallo-rol is, Hallo debugger wordt toow3wp.exe, WaWorkerHost.exe of WaIISHost.exe.</span><span class="sxs-lookup"><span data-stu-id="39fbe-160">Depending on what hello role is, hello debugger attaches toow3wp.exe, WaWorkerHost.exe, or WaIISHost.exe.</span></span> <span data-ttu-id="39fbe-161">tooverify hello proces toowhich Hallo foutopsporing is gekoppeld, vouw Hallo exemplaar knooppunt in Server Explorer.</span><span class="sxs-lookup"><span data-stu-id="39fbe-161">tooverify hello process toowhich hello debugger is attached, expand hello instance node in Server Explorer.</span></span> <span data-ttu-id="39fbe-162">Zie [Azure rol architectuur](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) voor meer informatie over Azure-processen.</span><span class="sxs-lookup"><span data-stu-id="39fbe-162">See [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) for more information about Azure processes.</span></span>

    ![Dialoogvenster voor code-type selecteren](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
4. <span data-ttu-id="39fbe-164">tooidentify hello processen toowhich Hallo foutopsporing is gekoppeld, Hallo processen het dialoogvenster openen door op Hallo menubalk, foutopsporing, Windows, processen te kiezen.</span><span class="sxs-lookup"><span data-stu-id="39fbe-164">tooidentify hello processes toowhich hello debugger is attached, open hello Processes dialog box by, on hello menu bar, choosing Debug, Windows, Processes.</span></span> <span data-ttu-id="39fbe-165">(Toetsenbord: Ctrl + Alt + Z) toodetach een specifiek proces het snelmenu openen en selecteer vervolgens **loskoppelen proces**.</span><span class="sxs-lookup"><span data-stu-id="39fbe-165">(Keyboard: Ctrl+Alt+Z)toodetach a specific process, open its shortcut menu, and then select **Detach Process**.</span></span> <span data-ttu-id="39fbe-166">Of, Hallo exemplaar knooppunt niet vinden in Server Explorer, Hallo proces vinden, opent u het snelmenu en selecteer vervolgens **loskoppelen proces**.</span><span class="sxs-lookup"><span data-stu-id="39fbe-166">Or, locate hello instance node in Server Explorer, find hello process, open its shortcut menu, and then select **Detach Process**.</span></span>

    ![Processen voor foutopsporing](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC690787.gif)

> [!WARNING]
> <span data-ttu-id="39fbe-168">Lange wordt gestopt bij onderbrekingspunten wanneer externe voorkomen foutopsporing.</span><span class="sxs-lookup"><span data-stu-id="39fbe-168">Avoid long stops at breakpoints when remote debugging.</span></span> <span data-ttu-id="39fbe-169">Azure beschouwt een proces dat langer dan een paar minuten als niet-reagerende wordt gestopt en stopt met het verzenden van verkeer toothat exemplaar.</span><span class="sxs-lookup"><span data-stu-id="39fbe-169">Azure treats a process that's stopped for longer than a few minutes as unresponsive and stops sending traffic toothat instance.</span></span> <span data-ttu-id="39fbe-170">Als u al lang stopt, losgekoppeld msvsmon.exe van Hallo-proces.</span><span class="sxs-lookup"><span data-stu-id="39fbe-170">If you stop for too long, msvsmon.exe detaches from hello process.</span></span>
>
>

<span data-ttu-id="39fbe-171">toodetach hello foutopsporingsprogramma van alle processen in uw exemplaar of de rol, open Hallo snelmenu voor Hallo functie of het exemplaar dat u fouten opspoort in en selecteer vervolgens **loskoppelen foutopsporingsprogramma**.</span><span class="sxs-lookup"><span data-stu-id="39fbe-171">toodetach hello debugger from all processes in your instance or role, open hello shortcut menu for hello role or instance that you're debugging, and then select **Detach Debugger**.</span></span>

## <a name="limitations-of-remote-debugging-in-azure"></a><span data-ttu-id="39fbe-172">Beperkingen van foutopsporing op afstand in Azure</span><span class="sxs-lookup"><span data-stu-id="39fbe-172">Limitations of remote debugging in Azure</span></span>
<span data-ttu-id="39fbe-173">Van de Azure SDK 2.3 heeft foutopsporing op afstand Hallo beperkingen te volgen.</span><span class="sxs-lookup"><span data-stu-id="39fbe-173">From Azure SDK 2.3, remote debugging has hello following limitations.</span></span>

* <span data-ttu-id="39fbe-174">Met foutopsporing op afstand is ingeschakeld, kunt u een cloudservice waarin een rol meer dan 25 exemplaren heeft niet publiceren.</span><span class="sxs-lookup"><span data-stu-id="39fbe-174">With remote debugging enabled, you can't publish a cloud service in which any role has more than 25 instances.</span></span>
* <span data-ttu-id="39fbe-175">Hallo-foutopsporingsprogramma gebruikt 30400 too30424 poorten, 31400 too31424 en 32400 too32424.</span><span class="sxs-lookup"><span data-stu-id="39fbe-175">hello debugger uses ports 30400 too30424, 31400 too31424 and 32400 too32424.</span></span> <span data-ttu-id="39fbe-176">Als u toouse een van deze poorten probeert, u niet kunt toopublish uw service en een van de volgende foutberichten hello wordt weergegeven in het gebeurtenissenlogboek Hallo voor Azure:</span><span class="sxs-lookup"><span data-stu-id="39fbe-176">If you try toouse any of these ports, you won't be able toopublish your service, and one of hello following error messages will appear in hello activity log for Azure:</span></span>

  * <span data-ttu-id="39fbe-177">Fout bij het valideren van bestand van de Hallo cscfg tegen Hallo csdef-bestand.</span><span class="sxs-lookup"><span data-stu-id="39fbe-177">Error validating hello .cscfg file against hello .csdef file.</span></span>
    <span data-ttu-id="39fbe-178">poortbereik 'range' Hello gereserveerd voor het eindpunt die Microsoft.windowsazure.plugins.remotedebugger.connector van de rol 'rol' met een reeds gedefinieerde poort of een bereik overlapt.</span><span class="sxs-lookup"><span data-stu-id="39fbe-178">hello reserved port range 'range' for endpoint Microsoft.WindowsAzure.Plugins.RemoteDebugger.Connector of role 'role' overlaps with an already defined port or range.</span></span>
  * <span data-ttu-id="39fbe-179">Toewijzing is mislukt.</span><span class="sxs-lookup"><span data-stu-id="39fbe-179">Allocation failed.</span></span> <span data-ttu-id="39fbe-180">Probeer het later opnieuw, Verminder Hallo VM-grootte of het aantal rolinstanties of probeer andere regio tooa implementeren.</span><span class="sxs-lookup"><span data-stu-id="39fbe-180">Please retry later, try reducing hello VM size or number of role instances, or try deploying tooa different region.</span></span>

## <a name="debugging-azure-virtual-machines"></a><span data-ttu-id="39fbe-181">Foutopsporing van virtuele machines in Azure</span><span class="sxs-lookup"><span data-stu-id="39fbe-181">Debugging Azure virtual machines</span></span>
<span data-ttu-id="39fbe-182">U kunt fouten opsporen in programma's die worden uitgevoerd op virtuele machines in Azure met behulp van de Server Explorer in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="39fbe-182">You can debug programs that run on Azure virtual machines by using Server Explorer in Visual Studio.</span></span> <span data-ttu-id="39fbe-183">Wanneer u foutopsporing op afstand op een virtuele machine van Azure inschakelt, installeert Azure Hallo-extensie voor externe foutopsporing op Hallo virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="39fbe-183">When you enable remote debugging on an Azure virtual machine, Azure installs hello remote debugging extension on hello virtual machine.</span></span> <span data-ttu-id="39fbe-184">U kunt vervolgens tooprocesses op Hallo virtuele machine te koppelen en fouten opsporen in normaal.</span><span class="sxs-lookup"><span data-stu-id="39fbe-184">Then, you can attach tooprocesses on hello virtual machine and debug as you normally would.</span></span>

> [!NOTE]
> <span data-ttu-id="39fbe-185">Virtuele machines die zijn gemaakt via hello Azure resource manager-stack kan op afstand fouten opgespoord via Cloud Explorer in Visual Studio 2015.</span><span class="sxs-lookup"><span data-stu-id="39fbe-185">Virtual machines created through hello Azure resource manager stack can be remotely debugged by using Cloud Explorer in Visual Studio 2015.</span></span> <span data-ttu-id="39fbe-186">Zie voor meer informatie [Azure-Resources beheren met Cloud Explorer](http://go.microsoft.com/fwlink/?LinkId=623031).</span><span class="sxs-lookup"><span data-stu-id="39fbe-186">For more information, see [Managing Azure Resources with Cloud Explorer](http://go.microsoft.com/fwlink/?LinkId=623031).</span></span>
>
>

### <a name="toodebug-an-azure-virtual-machine"></a><span data-ttu-id="39fbe-187">toodebug Azure een virtuele machine</span><span class="sxs-lookup"><span data-stu-id="39fbe-187">toodebug an Azure virtual machine</span></span>
1. <span data-ttu-id="39fbe-188">Vouw in Server Explorer Hallo virtuele Machines en selecteer Hallo knooppunten van Hallo virtuele machine die u toodebug wilt.</span><span class="sxs-lookup"><span data-stu-id="39fbe-188">In Server Explorer, expand hello Virtual Machines node and select hello node of hello virtual machine that you want toodebug.</span></span>
2. <span data-ttu-id="39fbe-189">Hallo contextmenu te openen en selecteer **inschakelen foutopsporing**.</span><span class="sxs-lookup"><span data-stu-id="39fbe-189">Open hello context menu and select **Enable Debugging**.</span></span> <span data-ttu-id="39fbe-190">Wanneer u wordt gevraagd of u zeker als u wilt dat tooenable foutopsporing op Hallo virtuele machine, selecteer **Ja**.</span><span class="sxs-lookup"><span data-stu-id="39fbe-190">When asked if you're sure if you want tooenable debugging on hello virtual machine, select **Yes**.</span></span>

    <span data-ttu-id="39fbe-191">Azure installeert externe foutopsporing extensie Hallo Hallo virtuele machine tooenable om op te lossen.</span><span class="sxs-lookup"><span data-stu-id="39fbe-191">Azure installs hello remote debugging extension on hello virtual machine tooenable debugging.</span></span>

    ![Virtuele machine foutopsporing-opdracht inschakelen](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746720.png)

    ![Activiteitenlogboek van Azure](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746721.png)
3. <span data-ttu-id="39fbe-194">Nadat Hallo externe foutopsporing extensie installatie heeft voltooid, opent u contextmenu Hallo virtuele machine en selecteer **foutopsporingsprogramma koppelen...**</span><span class="sxs-lookup"><span data-stu-id="39fbe-194">After hello remote debugging extension finishes installing, open hello virtual machine's context menu and select **Attach Debugger...**</span></span>

    <span data-ttu-id="39fbe-195">Azure opgehaald van een lijst met Hallo processen op Hallo virtuele machine en laat ze in het dialoogvenster Hallo Attach-tooProcess.</span><span class="sxs-lookup"><span data-stu-id="39fbe-195">Azure gets a list of hello processes on hello virtual machine and shows them in hello Attach tooProcess dialog box.</span></span>

    ![De opdracht foutopsporingsprogramma koppelen](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746722.png)
4. <span data-ttu-id="39fbe-197">In Hallo **koppelen tooProcess** dialoogvenster, **Selecteer** toolimit Hallo resultaten lijst tooshow alleen Hallo typen code dat u wilt dat toodebug.</span><span class="sxs-lookup"><span data-stu-id="39fbe-197">In hello **Attach tooProcess** dialog box, select **Select** toolimit hello results list tooshow only hello types of code you want toodebug.</span></span> <span data-ttu-id="39fbe-198">U kunt fouten opsporen 32 - of 64-bits beheerde code, systeemeigen code of beide.</span><span class="sxs-lookup"><span data-stu-id="39fbe-198">You can debug 32- or 64-bit managed code, native code, or both.</span></span>

    ![Dialoogvenster voor code-type selecteren](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
5. <span data-ttu-id="39fbe-200">Selecteer Hallo processen u wilt toodebug op Hallo virtuele machine en selecteer vervolgens **Attach**.</span><span class="sxs-lookup"><span data-stu-id="39fbe-200">Select hello processes you want toodebug on hello virtual machine and then select **Attach**.</span></span> <span data-ttu-id="39fbe-201">U kunt bijvoorbeeld Hallo w3wp.exe-proces selecteren als u deze toodebug een web-app op Hallo virtuele machine wilde.</span><span class="sxs-lookup"><span data-stu-id="39fbe-201">For example, you might choose hello w3wp.exe process if you wanted toodebug a web app on hello virtual machine.</span></span> <span data-ttu-id="39fbe-202">Zie [fouten opsporen in een of meer processen in Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) en [Azure rol architectuur](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="39fbe-202">See [Debug One or More Processes in Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) and [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) for more information.</span></span>

## <a name="create-a-web-project-and-a-virtual-machine-for-debugging"></a><span data-ttu-id="39fbe-203">Maak een webproject en een virtuele machine voor het opsporen van fouten</span><span class="sxs-lookup"><span data-stu-id="39fbe-203">Create a web project and a virtual machine for debugging</span></span>
<span data-ttu-id="39fbe-204">Voordat u uw Azure-project publiceert, het wellicht handig tootest in een ingesloten omgeving die ondersteuning biedt voor foutopsporing en testen van scenario's en waar u testen en controleren of programma's kunt installeren.</span><span class="sxs-lookup"><span data-stu-id="39fbe-204">Before publishing your Azure project, you might find it useful tootest it in a contained environment that supports debugging and testing scenarios, and where you can install testing and monitoring programs.</span></span> <span data-ttu-id="39fbe-205">Eenzijdige toodo dit is tooremotely fouten opsporen in uw app op een virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="39fbe-205">One way toodo this is tooremotely debug your app on a virtual machine.</span></span>

<span data-ttu-id="39fbe-206">Visual Studio ASP.NET-projecten bieden een optie toocreate een handige virtuele machine die u voor het testen van de app gebruiken kunt.</span><span class="sxs-lookup"><span data-stu-id="39fbe-206">Visual Studio ASP.NET projects offer an option toocreate a handy virtual machine that you can use for app testing.</span></span> <span data-ttu-id="39fbe-207">Hallo virtuele machine bevat meestal nodig eindpunten zoals PowerShell, extern bureaublad en Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="39fbe-207">hello virtual machine includes commonly-needed endpoints such as PowerShell, remote desktop, and WebDeploy.</span></span>

### <a name="toocreate-a-web-project-and-a-virtual-machine-for-debugging"></a><span data-ttu-id="39fbe-208">toocreate een webproject en een virtuele machine voor foutopsporing</span><span class="sxs-lookup"><span data-stu-id="39fbe-208">toocreate a web project and a virtual machine for debugging</span></span>
1. <span data-ttu-id="39fbe-209">In Visual Studio maakt een nieuwe ASP.NET-webtoepassing.</span><span class="sxs-lookup"><span data-stu-id="39fbe-209">In Visual Studio, create a new ASP.NET Web Application.</span></span>
2. <span data-ttu-id="39fbe-210">In het dialoogvenster Nieuw ASP.NET-Project hello, in hello Azure sectie kiezen **virtuele Machine** in de vervolgkeuzelijst Hallo.</span><span class="sxs-lookup"><span data-stu-id="39fbe-210">In hello New ASP.NET Project dialog, in hello Azure section, choose **Virtual Machine** in hello dropdown list box.</span></span> <span data-ttu-id="39fbe-211">Hallo laat **maken van externe bronnen** selectievakje is ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="39fbe-211">Leave hello **Create remote resources** check box selected.</span></span> <span data-ttu-id="39fbe-212">Selecteer **OK** tooproceed.</span><span class="sxs-lookup"><span data-stu-id="39fbe-212">Select **OK** tooproceed.</span></span>

    <span data-ttu-id="39fbe-213">Hallo **virtuele machine in Azure maken** dialoogvenster wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="39fbe-213">hello **Create virtual machine on Azure** dialog box appears.</span></span>

    ![Dialoogvenster voor ASP.NET web project maken](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746723.png)

    <span data-ttu-id="39fbe-215">**Opmerking:** wordt u gevraagd toosign in tooyour Azure-account als u nog niet bent aangemeld.</span><span class="sxs-lookup"><span data-stu-id="39fbe-215">**Note:** You'll be asked toosign in tooyour Azure account if you're not already signed in.</span></span>

1. <span data-ttu-id="39fbe-216">Selecteer Hallo verschillende instellingen voor Hallo virtuele machine en selecteer vervolgens **OK**.</span><span class="sxs-lookup"><span data-stu-id="39fbe-216">Select hello various settings for hello virtual machine and then select **OK**.</span></span> <span data-ttu-id="39fbe-217">Zie [virtuele Machines](http://go.microsoft.com/fwlink/?LinkId=623033) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="39fbe-217">See [Virtual Machines](http://go.microsoft.com/fwlink/?LinkId=623033) for more information.</span></span>

    <span data-ttu-id="39fbe-218">Hallo-naam die u voor DNS-naam invoert worden Hallo-naam van Hallo virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="39fbe-218">hello name you enter for DNS name will be hello name of hello virtual machine.</span></span>

    ![Virtuele machine op in het dialoogvenster Azure maken](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746724.png)

    <span data-ttu-id="39fbe-220">Azure maakt Hallo virtuele machine en vervolgens de bepalingen en configureert u Hallo eindpunten, zoals Extern bureaublad- en Web Deploy</span><span class="sxs-lookup"><span data-stu-id="39fbe-220">Azure creates hello virtual machine and then provisions and configures hello endpoints, such as Remote Desktop and Web Deploy</span></span>
2. <span data-ttu-id="39fbe-221">Na het Hallo virtuele machine volledig is geconfigureerd, selecteert u knooppunt Hallo virtuele machine in Server Explorer.</span><span class="sxs-lookup"><span data-stu-id="39fbe-221">After hello virtual machine is fully configured, select hello virtual machine’s node in Server Explorer.</span></span>
3. <span data-ttu-id="39fbe-222">Hallo contextmenu te openen en selecteer **inschakelen foutopsporing**.</span><span class="sxs-lookup"><span data-stu-id="39fbe-222">Open hello context menu and select **Enable Debugging**.</span></span> <span data-ttu-id="39fbe-223">Wanneer u wordt gevraagd of u zeker als u wilt dat tooenable foutopsporing op Hallo virtuele machine, selecteer **Ja**.</span><span class="sxs-lookup"><span data-stu-id="39fbe-223">When asked if you're sure if you want tooenable debugging on hello virtual machine, select **Yes**.</span></span>

    <span data-ttu-id="39fbe-224">Azure installeert Hallo foutopsporing extensie toohello virtuele machine tooenable foutopsporing op afstand.</span><span class="sxs-lookup"><span data-stu-id="39fbe-224">Azure installs hello remote debugging extension toohello virtual machine tooenable debugging.</span></span>

    ![Virtuele machine foutopsporing-opdracht inschakelen](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746720.png)

    ![Activiteitenlogboek van Azure](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746721.png)
4. <span data-ttu-id="39fbe-227">Publiceren van uw project, zoals wordt beschreven in [procedure: een Web-Project met één klik publiceren in Visual Studio implementeren](https://msdn.microsoft.com/library/dd465337.aspx).</span><span class="sxs-lookup"><span data-stu-id="39fbe-227">Publish your project as outlined in [How to: Deploy a Web Project Using One-Click Publish in Visual Studio](https://msdn.microsoft.com/library/dd465337.aspx).</span></span> <span data-ttu-id="39fbe-228">Omdat u wilt dat toodebug op Hallo virtuele machine op Hallo **instellingen** pagina Hallo **webpublicatie** wizard selecteert u **Debug** als Hallo-configuratie.</span><span class="sxs-lookup"><span data-stu-id="39fbe-228">Because you want toodebug on hello virtual machine, on hello **Settings** page of hello **Publish Web** wizard, select **Debug** as hello configuration.</span></span> <span data-ttu-id="39fbe-229">Dit zorgt ervoor dat de symbolen code beschikbaar tijdens het opsporen van fouten zijn.</span><span class="sxs-lookup"><span data-stu-id="39fbe-229">This makes sure that code symbols are available while debugging.</span></span>

    ![Publicatie-instellingen](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718349.png)
5. <span data-ttu-id="39fbe-231">In Hallo **opties voor het publiceren van bestand**, selecteer **aanvullende bestanden op de bestemming verwijderen** als Hallo project is al geïmplementeerd op een eerder tijdstip.</span><span class="sxs-lookup"><span data-stu-id="39fbe-231">In hello **File Publish Options**, select **Remove additional files at destination** if hello project was already deployed at an earlier time.</span></span>
6. <span data-ttu-id="39fbe-232">Nadat het Hallo-project wordt gepubliceerd, in het contextmenu Hallo virtuele machine in Server Explorer, selecteert u **foutopsporingsprogramma koppelen...**</span><span class="sxs-lookup"><span data-stu-id="39fbe-232">After hello project publishes, on hello virtual machine's context menu in Server Explorer, select **Attach Debugger...**</span></span>

    <span data-ttu-id="39fbe-233">Azure opgehaald van een lijst met Hallo processen op Hallo virtuele machine en laat ze in het dialoogvenster Hallo Attach-tooProcess.</span><span class="sxs-lookup"><span data-stu-id="39fbe-233">Azure gets a list of hello processes on hello virtual machine and shows them in hello Attach tooProcess dialog box.</span></span>

    ![De opdracht foutopsporingsprogramma koppelen](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746722.png)
7. <span data-ttu-id="39fbe-235">In Hallo **koppelen tooProcess** dialoogvenster, **Selecteer** toolimit Hallo resultaten lijst tooshow alleen Hallo typen code dat u wilt dat toodebug.</span><span class="sxs-lookup"><span data-stu-id="39fbe-235">In hello **Attach tooProcess** dialog box, select **Select** toolimit hello results list tooshow only hello types of code you want toodebug.</span></span> <span data-ttu-id="39fbe-236">U kunt fouten opsporen 32 - of 64-bits beheerde code, systeemeigen code of beide.</span><span class="sxs-lookup"><span data-stu-id="39fbe-236">You can debug 32- or 64-bit managed code, native code, or both.</span></span>

    ![Dialoogvenster voor code-type selecteren](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
8. <span data-ttu-id="39fbe-238">Selecteer Hallo processen u wilt toodebug op Hallo virtuele machine en selecteer vervolgens **Attach**.</span><span class="sxs-lookup"><span data-stu-id="39fbe-238">Select hello processes you want toodebug on hello virtual machine and then select **Attach**.</span></span> <span data-ttu-id="39fbe-239">U kunt bijvoorbeeld Hallo w3wp.exe-proces selecteren als u deze toodebug een web-app op Hallo virtuele machine wilde.</span><span class="sxs-lookup"><span data-stu-id="39fbe-239">For example, you might choose hello w3wp.exe process if you wanted toodebug a web app on hello virtual machine.</span></span> <span data-ttu-id="39fbe-240">Zie [fouten opsporen in een of meer processen in Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="39fbe-240">See [Debug One or More Processes in Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) for more information.</span></span>

## <a name="next-steps"></a><span data-ttu-id="39fbe-241">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="39fbe-241">Next steps</span></span>
* <span data-ttu-id="39fbe-242">Gebruik **Intellitrace** toocollect een logboek van aanroepen en gebeurtenissen van een release-server.</span><span class="sxs-lookup"><span data-stu-id="39fbe-242">Use **Intellitrace** toocollect a log of calls and events from a release server.</span></span> <span data-ttu-id="39fbe-243">Zie [foutopsporing van een gepubliceerde Cloudservice met IntelliTrace en Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016).</span><span class="sxs-lookup"><span data-stu-id="39fbe-243">See [Debugging a Published Cloud Service with IntelliTrace and Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016).</span></span>
* <span data-ttu-id="39fbe-244">Gebruik **Azure Diagnostics** toolog gedetailleerde informatie in rollen, code wordt uitgevoerd of Hallo functies worden uitgevoerd in de ontwikkelomgeving Hallo of in Azure.</span><span class="sxs-lookup"><span data-stu-id="39fbe-244">Use **Azure Diagnostics** toolog detailed information from code running within roles, whether hello roles are running in hello development environment or in Azure.</span></span> <span data-ttu-id="39fbe-245">Zie [logboekgegevens verzamelen met behulp van Azure Diagnostics](http://go.microsoft.com/fwlink/p/?LinkId=400450).</span><span class="sxs-lookup"><span data-stu-id="39fbe-245">See [Collecting logging data by using Azure Diagnostics](http://go.microsoft.com/fwlink/p/?LinkId=400450).</span></span>
