---
title: aaaEncryption in Azure Data Lake Store | Microsoft Docs
description: Informatie over de werking van versleuteling en sleutelroulatie in Azure Data Lake Store
services: data-lake-store
documentationcenter: 
author: yagupta
manager: 
editor: 
ms.assetid: 
ms.service: data-lake-store
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 4/14/2017
ms.author: yagupta
ms.openlocfilehash: a9f3a2dce8232deba93005594d1e6a21e9c0cbee
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="encryption-of-data-in-azure-data-lake-store"></a><span data-ttu-id="f6778-103">Versleuteling van gegevens in Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="f6778-103">Encryption of data in Azure Data Lake Store</span></span>

<span data-ttu-id="f6778-104">Versleuteling in Azure Data Lake Store helpt u uw gegevens te beveiligen, beveiligingsbeleid voor uw onderneming te implementeren en te voldoen aan wettelijke vereisten.</span><span class="sxs-lookup"><span data-stu-id="f6778-104">Encryption in Azure Data Lake Store helps you protect your data, implement enterprise security policies, and meet regulatory compliance requirements.</span></span> <span data-ttu-id="f6778-105">Dit artikel biedt een overzicht van Hallo ontwerp en worden enkele van de technische aspecten van uitvoering Hallo beschreven.</span><span class="sxs-lookup"><span data-stu-id="f6778-105">This article provides an overview of hello design, and discusses some of hello technical aspects of implementation.</span></span>

<span data-ttu-id="f6778-106">Data Lake Store biedt ondersteuning voor versleuteling van gegevens in rust en doorvoer.</span><span class="sxs-lookup"><span data-stu-id="f6778-106">Data Lake Store supports encryption of data both at rest and in transit.</span></span> <span data-ttu-id="f6778-107">Data Lake Store ondersteunt on-by-default, transparante versleuteling van data-at-rest.</span><span class="sxs-lookup"><span data-stu-id="f6778-107">For data at rest, Data Lake Store supports "on by default," transparent encryption.</span></span> <span data-ttu-id="f6778-108">Hier wordt iets gedetailleerder uitgelegd wat deze termen betekenen:</span><span class="sxs-lookup"><span data-stu-id="f6778-108">Here is what these terms mean in a bit more detail:</span></span>

* <span data-ttu-id="f6778-109">**Op standaard**: wanneer u een nieuw Data Lake Store-account maakt, schakelt u versleuteling Hallo standaardinstelling.</span><span class="sxs-lookup"><span data-stu-id="f6778-109">**On by default**: When you create a new Data Lake Store account, hello default setting enables encryption.</span></span> <span data-ttu-id="f6778-110">Gegevens die zijn opgeslagen in Data Lake Store is daarna altijd versleutelde voorafgaande toostoring op permanente media.</span><span class="sxs-lookup"><span data-stu-id="f6778-110">Thereafter, data that is stored in Data Lake Store is always encrypted prior toostoring on persistent media.</span></span> <span data-ttu-id="f6778-111">Dit is Hallo-gedrag voor alle gegevens en kan niet worden gewijzigd nadat een account is gemaakt.</span><span class="sxs-lookup"><span data-stu-id="f6778-111">This is hello behavior for all data, and it cannot be changed after an account is created.</span></span>
* <span data-ttu-id="f6778-112">**Transparante**: Data Lake Store automatisch voorafgaande toopersisting gegevens versleutelt en ontsleutelt voorafgaande tooretrieval gegevens.</span><span class="sxs-lookup"><span data-stu-id="f6778-112">**Transparent**: Data Lake Store automatically encrypts data prior toopersisting, and decrypts data prior tooretrieval.</span></span> <span data-ttu-id="f6778-113">Hallo-versleuteling is geconfigureerd en beheerd op Hallo Data Lake Store-niveau door een beheerder.</span><span class="sxs-lookup"><span data-stu-id="f6778-113">hello encryption is configured and managed at hello Data Lake Store level by an administrator.</span></span> <span data-ttu-id="f6778-114">Geen wijzigingen zijn aangebracht toohello gegevens toegang tot API's.</span><span class="sxs-lookup"><span data-stu-id="f6778-114">No changes are made toohello data access APIs.</span></span> <span data-ttu-id="f6778-115">Er zijn dus geen wijzigingen vereist in toepassingen en services die interactie hebben met Data Lake Store vanwege versleuteling.</span><span class="sxs-lookup"><span data-stu-id="f6778-115">Thus, no changes are required in applications and services that interact with Data Lake Store because of encryption.</span></span>

<span data-ttu-id="f6778-116">Gegevens tijdens overdracht (ook wel gegevens in beweging genoemd) worden ook altijd versleuteld in Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="f6778-116">Data in transit (also known as data in motion) is also always encrypted in Data Lake Store.</span></span> <span data-ttu-id="f6778-117">Bovendien tooencrypting gegevens voorafgaande toostoring toopersistent media Hallo gegevens is ook altijd onderweg via HTTPS beveiligd.</span><span class="sxs-lookup"><span data-stu-id="f6778-117">In addition tooencrypting data prior toostoring toopersistent media, hello data is also always secured in transit by using HTTPS.</span></span> <span data-ttu-id="f6778-118">HTTPS is alleen Hallo-protocol dat wordt ondersteund voor Hallo die Data Lake Store REST-interfaces.</span><span class="sxs-lookup"><span data-stu-id="f6778-118">HTTPS is hello only protocol that is supported for hello Data Lake Store REST interfaces.</span></span> <span data-ttu-id="f6778-119">Hallo volgende diagram ziet u hoe de gegevens in Data Lake Store wordt versleuteld:</span><span class="sxs-lookup"><span data-stu-id="f6778-119">hello following diagram shows how data becomes encrypted in Data Lake Store:</span></span>

![Diagram van gegevensversleuteling in Data Lake Store](./media/data-lake-store-encryption/fig1.png)


## <a name="set-up-encryption-with-data-lake-store"></a><span data-ttu-id="f6778-121">Versleuteling instellen met Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="f6778-121">Set up encryption with Data Lake Store</span></span>

<span data-ttu-id="f6778-122">Versleuteling voor Data Lake Store wordt ingesteld tijdens het maken van het account en is standaard altijd ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="f6778-122">Encryption for Data Lake Store is set up during account creation, and it is always enabled by default.</span></span> <span data-ttu-id="f6778-123">U kunt Hallo sleutels zelf beheren, of toestaan van Data Lake Store toomanage ze voor u (dit is standaard Hallo).</span><span class="sxs-lookup"><span data-stu-id="f6778-123">You can either manage hello keys yourself, or allow Data Lake Store toomanage them for you (this is hello default).</span></span>

<span data-ttu-id="f6778-124">Zie de [Introductie](https://docs.microsoft.com/azure/data-lake-store/data-lake-store-get-started-portal) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="f6778-124">For more information, see [Getting started](https://docs.microsoft.com/azure/data-lake-store/data-lake-store-get-started-portal).</span></span>

## <a name="how-encryption-works-in-data-lake-store"></a><span data-ttu-id="f6778-125">De werking van versleuteling in Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="f6778-125">How encryption works in Data Lake Store</span></span>

<span data-ttu-id="f6778-126">Hallo volgende informatie bevat informatie over hoe toomanage master versleutelingssleutels en wordt uitgelegd Hallo drie verschillende typen sleutels die u in gegevensversleuteling voor Data Lake Store gebruiken kunt.</span><span class="sxs-lookup"><span data-stu-id="f6778-126">hello following information covers how toomanage master encryption keys, and it explains hello three different types of keys you can use in data encryption for Data Lake Store.</span></span>

### <a name="master-encryption-keys"></a><span data-ttu-id="f6778-127">Hoofdversleutelingssleutels</span><span class="sxs-lookup"><span data-stu-id="f6778-127">Master encryption keys</span></span>

<span data-ttu-id="f6778-128">Data Lake Store biedt twee modi voor het beheer van hoofdversleutelingssleutels (MEK's).</span><span class="sxs-lookup"><span data-stu-id="f6778-128">Data Lake Store provides two modes for management of master encryption keys (MEKs).</span></span> <span data-ttu-id="f6778-129">Op dit moment wordt ervan uitgegaan dat Hallo master versleutelingssleutel is op het hoogste niveau Hallo-sleutel.</span><span class="sxs-lookup"><span data-stu-id="f6778-129">For now, assume that hello master encryption key is hello top-level key.</span></span> <span data-ttu-id="f6778-130">Toegangssleutel toohello hoofdversleutelingssleutel is vereist toodecrypt alle gegevens die zijn opgeslagen in Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="f6778-130">Access toohello master encryption key is required toodecrypt any data stored in Data Lake Store.</span></span>

<span data-ttu-id="f6778-131">Hallo twee modi voor het beheren van Hallo master versleutelingssleutel zijn als volgt:</span><span class="sxs-lookup"><span data-stu-id="f6778-131">hello two modes for managing hello master encryption key are as follows:</span></span>

*   <span data-ttu-id="f6778-132">Door service beheerde sleutels</span><span class="sxs-lookup"><span data-stu-id="f6778-132">Service managed keys</span></span>
*   <span data-ttu-id="f6778-133">Door klant beheerde sleutels</span><span class="sxs-lookup"><span data-stu-id="f6778-133">Customer managed keys</span></span>

<span data-ttu-id="f6778-134">In beide modi, Hallo master versleutelingssleutel is beveiligd door op te slaan in Azure Sleutelkluis.</span><span class="sxs-lookup"><span data-stu-id="f6778-134">In both modes, hello master encryption key is secured by storing it in Azure Key Vault.</span></span> <span data-ttu-id="f6778-135">Sleutelkluis is een maximaal beveiligde volledig beheerde service in Azure die gebruikt toosafeguard cryptografische sleutels worden kan.</span><span class="sxs-lookup"><span data-stu-id="f6778-135">Key Vault is a fully managed, highly secure service on Azure that can be used toosafeguard cryptographic keys.</span></span> <span data-ttu-id="f6778-136">Zie voor meer informatie [Key Vault](https://azure.microsoft.com/services/key-vault).</span><span class="sxs-lookup"><span data-stu-id="f6778-136">For more information, see [Key Vault](https://azure.microsoft.com/services/key-vault).</span></span>

<span data-ttu-id="f6778-137">Hier volgt een korte vergelijking van mogelijkheden van de twee modi Hallo Hallo MEKs beheren.</span><span class="sxs-lookup"><span data-stu-id="f6778-137">Here is a brief comparison of capabilities provided by hello two modes of managing hello MEKs.</span></span>

|  | <span data-ttu-id="f6778-138">Door service beheerde sleutels</span><span class="sxs-lookup"><span data-stu-id="f6778-138">Service managed keys</span></span> | <span data-ttu-id="f6778-139">Door klant beheerde sleutels</span><span class="sxs-lookup"><span data-stu-id="f6778-139">Customer managed keys</span></span> |
| --- | --- | --- |
|<span data-ttu-id="f6778-140">Hoe worden gegevens opgeslagen?</span><span class="sxs-lookup"><span data-stu-id="f6778-140">How is data stored?</span></span>|<span data-ttu-id="f6778-141">Altijd versleutelde voorafgaande toobeing opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="f6778-141">Always encrypted prior toobeing stored.</span></span>|<span data-ttu-id="f6778-142">Altijd versleutelde voorafgaande toobeing opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="f6778-142">Always encrypted prior toobeing stored.</span></span>|
|<span data-ttu-id="f6778-143">Waar wordt Hallo Master versleutelingssleutel opgeslagen?</span><span class="sxs-lookup"><span data-stu-id="f6778-143">Where is hello Master Encryption Key stored?</span></span>|<span data-ttu-id="f6778-144">Key Vault</span><span class="sxs-lookup"><span data-stu-id="f6778-144">Key Vault</span></span>|<span data-ttu-id="f6778-145">Key Vault</span><span class="sxs-lookup"><span data-stu-id="f6778-145">Key Vault</span></span>|
|<span data-ttu-id="f6778-146">Worden alle sleutels die zijn opgeslagen in Hallo Schakel versleuteling buiten de Sleutelkluis?</span><span class="sxs-lookup"><span data-stu-id="f6778-146">Are any encryption keys stored in hello clear outside of Key Vault?</span></span> |<span data-ttu-id="f6778-147">Nee</span><span class="sxs-lookup"><span data-stu-id="f6778-147">No</span></span>|<span data-ttu-id="f6778-148">Nee</span><span class="sxs-lookup"><span data-stu-id="f6778-148">No</span></span>|
|<span data-ttu-id="f6778-149">Door Sleutelkluis hello MEK kan worden opgehaald</span><span class="sxs-lookup"><span data-stu-id="f6778-149">Can hello MEK be retrieved by Key Vault?</span></span>|<span data-ttu-id="f6778-150">Nee.</span><span class="sxs-lookup"><span data-stu-id="f6778-150">No.</span></span> <span data-ttu-id="f6778-151">Na het Hallo die MEK wordt opgeslagen in de Sleutelkluis, kan alleen worden gebruikt voor versleuteling en ontsleuteling.</span><span class="sxs-lookup"><span data-stu-id="f6778-151">After hello MEK is stored in Key Vault, it can only be used for encryption and decryption.</span></span>|<span data-ttu-id="f6778-152">Nee.</span><span class="sxs-lookup"><span data-stu-id="f6778-152">No.</span></span> <span data-ttu-id="f6778-153">Na het Hallo die MEK wordt opgeslagen in de Sleutelkluis, kan alleen worden gebruikt voor versleuteling en ontsleuteling.</span><span class="sxs-lookup"><span data-stu-id="f6778-153">After hello MEK is stored in Key Vault, it can only be used for encryption and decryption.</span></span>|
|<span data-ttu-id="f6778-154">Wie is eigenaar van exemplaar van de Sleutelkluis hello en Hallo MEK?</span><span class="sxs-lookup"><span data-stu-id="f6778-154">Who owns hello Key Vault instance and hello MEK?</span></span>|<span data-ttu-id="f6778-155">Hallo Data Lake Store-service</span><span class="sxs-lookup"><span data-stu-id="f6778-155">hello Data Lake Store service</span></span>|<span data-ttu-id="f6778-156">Eigenaar van Hallo Sleutelkluis instantie die in uw eigen Azure-abonnement behoort.</span><span class="sxs-lookup"><span data-stu-id="f6778-156">You own hello Key Vault instance, which belongs in your own Azure subscription.</span></span> <span data-ttu-id="f6778-157">Hallo MEK in Sleutelkluis kan worden beheerd door software of hardware.</span><span class="sxs-lookup"><span data-stu-id="f6778-157">hello MEK in Key Vault can be managed by software or hardware.</span></span>|
|<span data-ttu-id="f6778-158">Kunt u access toohello MEK voor Hallo Data Lake Store-service intrekken?</span><span class="sxs-lookup"><span data-stu-id="f6778-158">Can you revoke access toohello MEK for hello Data Lake Store service?</span></span>|<span data-ttu-id="f6778-159">Nee</span><span class="sxs-lookup"><span data-stu-id="f6778-159">No</span></span>|<span data-ttu-id="f6778-160">Ja.</span><span class="sxs-lookup"><span data-stu-id="f6778-160">Yes.</span></span> <span data-ttu-id="f6778-161">U kunt toegangsbeheerlijsten in Sleutelkluis beheren en verwijderen van de access control vermeldingen toohello service-identiteit voor Hallo Data Lake Store-service.</span><span class="sxs-lookup"><span data-stu-id="f6778-161">You can manage access control lists in Key Vault, and remove access control entries toohello service identity for hello Data Lake Store service.</span></span>|
|<span data-ttu-id="f6778-162">Kunt u Hallo MEK permanent verwijderen?</span><span class="sxs-lookup"><span data-stu-id="f6778-162">Can you permanently delete hello MEK?</span></span>|<span data-ttu-id="f6778-163">Nee</span><span class="sxs-lookup"><span data-stu-id="f6778-163">No</span></span>|<span data-ttu-id="f6778-164">Ja.</span><span class="sxs-lookup"><span data-stu-id="f6778-164">Yes.</span></span> <span data-ttu-id="f6778-165">Als u Hallo MEK uit Sleutelkluis verwijdert, kan Hallo-gegevens in Data Lake Store-account Hallo kunnen niet worden ontsleuteld door iedereen, inclusief Hallo Data Lake Store-service.</span><span class="sxs-lookup"><span data-stu-id="f6778-165">If you delete hello MEK from Key Vault, hello data in hello Data Lake Store account cannot be decrypted by anyone, including hello Data Lake Store service.</span></span> <br><br> <span data-ttu-id="f6778-166">Als u hebt expliciet back-up Hallo MEK voorafgaande toodeleting deze van Sleutelkluis, Hallo MEK kan worden hersteld en Hallo gegevens vervolgens kunnen worden hersteld.</span><span class="sxs-lookup"><span data-stu-id="f6778-166">If you have explicitly backed up hello MEK prior toodeleting it from Key Vault, hello MEK can be restored, and hello data can then be recovered.</span></span> <span data-ttu-id="f6778-167">Echter, als u hebt geen back-up Hallo MEK voorafgaande toodeleting deze van Sleutelkluis, Hallo-gegevens in Data Lake Store-account Hallo kan nooit worden ontsleuteld daarna.</span><span class="sxs-lookup"><span data-stu-id="f6778-167">However, if you have not backed up hello MEK prior toodeleting it from Key Vault, hello data in hello Data Lake Store account can never be decrypted thereafter.</span></span>|


<span data-ttu-id="f6778-168">Naast dit verschil van die Hallo MEK beheert en Hallo Sleutelkluis-exemplaar waarin de machine zich bevindt, rest Hallo van Hallo ontwerp is dezelfde Hallo voor beide modi.</span><span class="sxs-lookup"><span data-stu-id="f6778-168">Aside from this difference of who manages hello MEK and hello Key Vault instance in which it resides, hello rest of hello design is hello same for both modes.</span></span>

<span data-ttu-id="f6778-169">Als u Hallo-modus voor Hallo master versleutelingssleutels kiest is belangrijk tooremember Hallo volgende:</span><span class="sxs-lookup"><span data-stu-id="f6778-169">It's important tooremember hello following when you choose hello mode for hello master encryption keys:</span></span>

*   <span data-ttu-id="f6778-170">U kunt kiezen of toouse klant sleutels of sleutels van de service die wordt beheerd beheerd wanneer u een Data Lake Store-account inrichten.</span><span class="sxs-lookup"><span data-stu-id="f6778-170">You can choose whether toouse customer managed keys or service managed keys when you provision a Data Lake Store account.</span></span>
*   <span data-ttu-id="f6778-171">Nadat een Data Lake Store-account is ingericht, kan niet Hallo-modus worden gewijzigd.</span><span class="sxs-lookup"><span data-stu-id="f6778-171">After a Data Lake Store account is provisioned, hello mode cannot be changed.</span></span>

### <a name="encryption-and-decryption-of-data"></a><span data-ttu-id="f6778-172">Versleuteling en ontsleuteling van gegevens</span><span class="sxs-lookup"><span data-stu-id="f6778-172">Encryption and decryption of data</span></span>

<span data-ttu-id="f6778-173">Er zijn drie typen sleutels die worden gebruikt in Hallo ontwerp van de versleuteling van gegevens.</span><span class="sxs-lookup"><span data-stu-id="f6778-173">There are three types of keys that are used in hello design of data encryption.</span></span> <span data-ttu-id="f6778-174">Hallo volgende tabel bevat een samenvatting:</span><span class="sxs-lookup"><span data-stu-id="f6778-174">hello following table provides a summary:</span></span>

| <span data-ttu-id="f6778-175">Sleutel</span><span class="sxs-lookup"><span data-stu-id="f6778-175">Key</span></span>                   | <span data-ttu-id="f6778-176">Afkorting</span><span class="sxs-lookup"><span data-stu-id="f6778-176">Abbreviation</span></span> | <span data-ttu-id="f6778-177">Gekoppeld aan</span><span class="sxs-lookup"><span data-stu-id="f6778-177">Associated with</span></span> | <span data-ttu-id="f6778-178">Opslaglocatie</span><span class="sxs-lookup"><span data-stu-id="f6778-178">Storage location</span></span>                             | <span data-ttu-id="f6778-179">Type</span><span class="sxs-lookup"><span data-stu-id="f6778-179">Type</span></span>       | <span data-ttu-id="f6778-180">Opmerkingen</span><span class="sxs-lookup"><span data-stu-id="f6778-180">Notes</span></span>                                                                                                   |
|-----------------------|--------------|-----------------|----------------------------------------------|------------|---------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f6778-181">Hoofdversleutelingssleutel</span><span class="sxs-lookup"><span data-stu-id="f6778-181">Master Encryption Key</span></span> | <span data-ttu-id="f6778-182">MEK</span><span class="sxs-lookup"><span data-stu-id="f6778-182">MEK</span></span>          | <span data-ttu-id="f6778-183">Een Data Lake Store-account</span><span class="sxs-lookup"><span data-stu-id="f6778-183">A Data Lake Store account</span></span> | <span data-ttu-id="f6778-184">Key Vault</span><span class="sxs-lookup"><span data-stu-id="f6778-184">Key Vault</span></span>                              | <span data-ttu-id="f6778-185">Asymmetrisch</span><span class="sxs-lookup"><span data-stu-id="f6778-185">Asymmetric</span></span> | <span data-ttu-id="f6778-186">Deze kan worden beheerd door Data Lake Store of door u.</span><span class="sxs-lookup"><span data-stu-id="f6778-186">It can be managed by Data Lake Store or you.</span></span>                                                              |
| <span data-ttu-id="f6778-187">Gegevensversleutelingssleutel</span><span class="sxs-lookup"><span data-stu-id="f6778-187">Data Encryption Key</span></span>   | <span data-ttu-id="f6778-188">DEK</span><span class="sxs-lookup"><span data-stu-id="f6778-188">DEK</span></span>          | <span data-ttu-id="f6778-189">Een Data Lake Store-account</span><span class="sxs-lookup"><span data-stu-id="f6778-189">A Data Lake Store account</span></span> | <span data-ttu-id="f6778-190">Permanente opslag, beheerd door Data Lake Store-service</span><span class="sxs-lookup"><span data-stu-id="f6778-190">Persistent storage, managed by Data Lake Store service</span></span> | <span data-ttu-id="f6778-191">Symmetrisch</span><span class="sxs-lookup"><span data-stu-id="f6778-191">Symmetric</span></span>  | <span data-ttu-id="f6778-192">Hallo MEK Hallo DEK wordt versleuteld.</span><span class="sxs-lookup"><span data-stu-id="f6778-192">hello DEK is encrypted by hello MEK.</span></span> <span data-ttu-id="f6778-193">Hallo die versleutelde DEK is wat wordt opgeslagen op permanente media.</span><span class="sxs-lookup"><span data-stu-id="f6778-193">hello encrypted DEK is what is stored on persistent media.</span></span> |
| <span data-ttu-id="f6778-194">Blokversleutelingssleutel</span><span class="sxs-lookup"><span data-stu-id="f6778-194">Block Encryption Key</span></span>  | <span data-ttu-id="f6778-195">BEK</span><span class="sxs-lookup"><span data-stu-id="f6778-195">BEK</span></span>          | <span data-ttu-id="f6778-196">Een gegevensblok</span><span class="sxs-lookup"><span data-stu-id="f6778-196">A block of data</span></span> | <span data-ttu-id="f6778-197">Geen</span><span class="sxs-lookup"><span data-stu-id="f6778-197">None</span></span>                                         | <span data-ttu-id="f6778-198">Symmetrisch</span><span class="sxs-lookup"><span data-stu-id="f6778-198">Symmetric</span></span>  | <span data-ttu-id="f6778-199">Hallo BEK is afgeleid van Hallo DEK en Hallo gegevensblok.</span><span class="sxs-lookup"><span data-stu-id="f6778-199">hello BEK is derived from hello DEK and hello data block.</span></span>                                                      |

<span data-ttu-id="f6778-200">Hallo volgende diagram ziet u deze begrippen:</span><span class="sxs-lookup"><span data-stu-id="f6778-200">hello following diagram illustrates these concepts:</span></span>

![Sleutels bij gegevensversleuteling](./media/data-lake-store-encryption/fig2.png)

#### <a name="pseudo-algorithm-when-a-file-is-toobe-decrypted"></a><span data-ttu-id="f6778-202">Pseudo-algoritme wanneer een bestand ontsleuteld toobe is:</span><span class="sxs-lookup"><span data-stu-id="f6778-202">Pseudo algorithm when a file is toobe decrypted:</span></span>
1.  <span data-ttu-id="f6778-203">Controleer of Hallo DEK voor Hallo Data Lake Store-account in de cache en gereed voor gebruik is.</span><span class="sxs-lookup"><span data-stu-id="f6778-203">Check if hello DEK for hello Data Lake Store account is cached and ready for use.</span></span>
    - <span data-ttu-id="f6778-204">Als dat niet het geval is, lees Hallo DEK uit de permanente opslag versleuteld en tooKey kluis toobe ontsleuteld om dit te verzenden.</span><span class="sxs-lookup"><span data-stu-id="f6778-204">If not, then read hello encrypted DEK from persistent storage, and send it tooKey Vault toobe decrypted.</span></span> <span data-ttu-id="f6778-205">Cache Hallo ontsleuteld DEK in het geheugen.</span><span class="sxs-lookup"><span data-stu-id="f6778-205">Cache hello decrypted DEK in memory.</span></span> <span data-ttu-id="f6778-206">Het is nu gereed toouse.</span><span class="sxs-lookup"><span data-stu-id="f6778-206">It is now ready toouse.</span></span>
2.  <span data-ttu-id="f6778-207">Voor elk blok van gegevens in Hallo-bestand:</span><span class="sxs-lookup"><span data-stu-id="f6778-207">For every block of data in hello file:</span></span>
    - <span data-ttu-id="f6778-208">Hallo versleutelde gegevensblok lezen uit de permanente opslag.</span><span class="sxs-lookup"><span data-stu-id="f6778-208">Read hello encrypted block of data from persistent storage.</span></span>
    - <span data-ttu-id="f6778-209">Hallo BEK van Hallo DEK en Hallo versleutelde gegevensblok genereren.</span><span class="sxs-lookup"><span data-stu-id="f6778-209">Generate hello BEK from hello DEK and hello encrypted block of data.</span></span>
    - <span data-ttu-id="f6778-210">Hallo BEK toodecrypt gegevens worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="f6778-210">Use hello BEK toodecrypt data.</span></span>


#### <a name="pseudo-algorithm-when-a-block-of-data-is-toobe-encrypted"></a><span data-ttu-id="f6778-211">Pseudo-algoritme wanneer een blok gegevens versleuteld toobe:</span><span class="sxs-lookup"><span data-stu-id="f6778-211">Pseudo algorithm when a block of data is toobe encrypted:</span></span>
1.  <span data-ttu-id="f6778-212">Controleer of Hallo DEK voor Hallo Data Lake Store-account in de cache en gereed voor gebruik is.</span><span class="sxs-lookup"><span data-stu-id="f6778-212">Check if hello DEK for hello Data Lake Store account is cached and ready for use.</span></span>
    - <span data-ttu-id="f6778-213">Als dat niet het geval is, lees Hallo DEK uit de permanente opslag versleuteld en tooKey kluis toobe ontsleuteld om dit te verzenden.</span><span class="sxs-lookup"><span data-stu-id="f6778-213">If not, then read hello encrypted DEK from persistent storage, and send it tooKey Vault toobe decrypted.</span></span> <span data-ttu-id="f6778-214">Cache Hallo ontsleuteld DEK in het geheugen.</span><span class="sxs-lookup"><span data-stu-id="f6778-214">Cache hello decrypted DEK in memory.</span></span> <span data-ttu-id="f6778-215">Het is nu gereed toouse.</span><span class="sxs-lookup"><span data-stu-id="f6778-215">It is now ready toouse.</span></span>
2.  <span data-ttu-id="f6778-216">Een unieke BEK voor Hallo blok van gegevens van Hallo DEK worden gegenereerd.</span><span class="sxs-lookup"><span data-stu-id="f6778-216">Generate a unique BEK for hello block of data from hello DEK.</span></span>
3.  <span data-ttu-id="f6778-217">Hallo gegevensblok Hello BEK, versleutelen met behulp van AES-256-versleuteling.</span><span class="sxs-lookup"><span data-stu-id="f6778-217">Encrypt hello data block with hello BEK, by using AES-256 encryption.</span></span>
4.  <span data-ttu-id="f6778-218">Hallo versleutelde gegevensblok van gegevens opslaan op permanente opslag.</span><span class="sxs-lookup"><span data-stu-id="f6778-218">Store hello encrypted data block of data on persistent storage.</span></span>

> [!NOTE] 
> <span data-ttu-id="f6778-219">Voor betere prestaties Hallo DEK in Hallo wissen in de cache is opgeslagen in het geheugen voor een korte periode en daarna onmiddellijk worden gewist.</span><span class="sxs-lookup"><span data-stu-id="f6778-219">For performance reasons, hello DEK in hello clear is cached in memory for a short time, and is immediately erased afterward.</span></span> <span data-ttu-id="f6778-220">Voor permanente media, wordt altijd opgeslagen door Hallo MEK gecodeerd.</span><span class="sxs-lookup"><span data-stu-id="f6778-220">On persistent media, it is always stored encrypted by hello MEK.</span></span>

## <a name="key-rotation"></a><span data-ttu-id="f6778-221">Sleutelroulatie</span><span class="sxs-lookup"><span data-stu-id="f6778-221">Key rotation</span></span>

<span data-ttu-id="f6778-222">Wanneer u van sleutels door de klant beheerd gebruikmaakt, kunt u Hallo MEK draaien.</span><span class="sxs-lookup"><span data-stu-id="f6778-222">When you are using customer-managed keys, you can rotate hello MEK.</span></span> <span data-ttu-id="f6778-223">hoe tooset van een Data Lake Store-account met de klant beheerd sleutels zien toolearn [aan de slag](https://docs.microsoft.com/azure/data-lake-store/data-lake-store-get-started-portal).</span><span class="sxs-lookup"><span data-stu-id="f6778-223">toolearn how tooset up a Data Lake Store account with customer-managed keys, see [Getting started](https://docs.microsoft.com/azure/data-lake-store/data-lake-store-get-started-portal).</span></span>

### <a name="prerequisites"></a><span data-ttu-id="f6778-224">Vereisten</span><span class="sxs-lookup"><span data-stu-id="f6778-224">Prerequisites</span></span>

<span data-ttu-id="f6778-225">Wanneer u Hallo Data Lake Store-account hebt ingesteld, hebt u uw eigen sleutels toouse gekozen.</span><span class="sxs-lookup"><span data-stu-id="f6778-225">When you set up hello Data Lake Store account, you have chosen toouse your own keys.</span></span> <span data-ttu-id="f6778-226">Deze optie kan niet worden gewijzigd nadat het Hallo-account is gemaakt.</span><span class="sxs-lookup"><span data-stu-id="f6778-226">This option cannot be changed after hello account has been created.</span></span> <span data-ttu-id="f6778-227">Hallo volgende stappen wordt ervan uitgegaan dat u van sleutels door de klant beheerd gebruikmaakt (dat wil zeggen, u hebt ervoor gekozen uw eigen sleutels van Sleutelkluis).</span><span class="sxs-lookup"><span data-stu-id="f6778-227">hello following steps assume that you are using customer-managed keys (that is, you have chosen your own keys from Key Vault).</span></span>

<span data-ttu-id="f6778-228">Houd er rekening mee dat als u de standaardopties Hallo voor versleuteling gebruikt, uw gegevens wordt altijd versleuteld met sleutels die worden beheerd door de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="f6778-228">Note that if you use hello default options for encryption, your data is always encrypted by using keys managed by Data Lake Store.</span></span> <span data-ttu-id="f6778-229">In deze optie kunt hebt u geen Hallo mogelijkheid toorotate sleutels, zoals ze worden beheerd door de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="f6778-229">In this option, you don't have hello ability toorotate keys, as they are managed by Data Lake Store.</span></span>

### <a name="how-toorotate-hello-mek-in-data-lake-store"></a><span data-ttu-id="f6778-230">Hoe toorotate Hallo MEK in Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="f6778-230">How toorotate hello MEK in Data Lake Store</span></span>

1. <span data-ttu-id="f6778-231">Meld u aan toohello [Azure-portal](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="f6778-231">Sign in toohello [Azure portal](https://portal.azure.com/).</span></span>
2. <span data-ttu-id="f6778-232">Blader toohello Sleutelkluis-exemplaar dat uw sleutels die zijn gekoppeld aan uw Data Lake Store-account worden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="f6778-232">Browse toohello Key Vault instance that stores your keys associated with your Data Lake Store account.</span></span> <span data-ttu-id="f6778-233">Selecteer **Sleutels**.</span><span class="sxs-lookup"><span data-stu-id="f6778-233">Select **Keys**.</span></span>

    ![Schermafdruk van Key Vault](./media/data-lake-store-encryption/keyvault.png)

3.  <span data-ttu-id="f6778-235">Hallo-sleutel die is gekoppeld aan uw Data Lake Store-account selecteren en maak een nieuwe versie van deze sleutel.</span><span class="sxs-lookup"><span data-stu-id="f6778-235">Select hello key associated with your Data Lake Store account, and create a new version of this key.</span></span> <span data-ttu-id="f6778-236">Houd er rekening mee dat Data Lake Store momenteel alleen belangrijke rotatie tooa nieuwe versie van een sleutel ondersteunt.</span><span class="sxs-lookup"><span data-stu-id="f6778-236">Note that Data Lake Store currently only supports key rotation tooa new version of a key.</span></span> <span data-ttu-id="f6778-237">Deze biedt geen ondersteuning voor draaiende tooa andere sleutel.</span><span class="sxs-lookup"><span data-stu-id="f6778-237">It doesn't support rotating tooa different key.</span></span>

   ![Schermafdruk van het venster Sleutels met de nieuwe versie gemarkeerd](./media/data-lake-store-encryption/keynewversion.png)

4.  <span data-ttu-id="f6778-239">Blader toohello Data Lake Store-opslagaccount en selecteer **versleuteling**.</span><span class="sxs-lookup"><span data-stu-id="f6778-239">Browse toohello Data Lake Store storage account, and select **Encryption**.</span></span>

    ![Schermafdruk van Data Lake Store-opslagaccountvenster met versleuteling gemarkeerd](./media/data-lake-store-encryption/select-encryption.png)

5.  <span data-ttu-id="f6778-241">Een bericht wordt aangegeven dat een nieuwe sleutel versie van Hallo sleutel beschikbaar is.</span><span class="sxs-lookup"><span data-stu-id="f6778-241">A message notifies you that a new key version of hello key is available.</span></span> <span data-ttu-id="f6778-242">Klik op **draaien sleutel** tooupdate Hallo sleutel toohello nieuwe versie.</span><span class="sxs-lookup"><span data-stu-id="f6778-242">Click **Rotate Key** tooupdate hello key toohello new version.</span></span>

    ![Schermafdruk van Data Lake Store-venster met het bericht en Sleutel rouleren gemarkeerd](./media/data-lake-store-encryption/rotatekey.png)

<span data-ttu-id="f6778-244">Deze bewerking moet minder dan twee minuten duren en er is geen verwachte uitvaltijd vanwege tookey worden gedraaid.</span><span class="sxs-lookup"><span data-stu-id="f6778-244">This operation should take less than two minutes, and there is no expected downtime due tookey rotation.</span></span> <span data-ttu-id="f6778-245">Nadat het Hallo-bewerking is voltooid, is de nieuwe versie van de Hallo van Hallo-sleutel gebruikt.</span><span class="sxs-lookup"><span data-stu-id="f6778-245">After hello operation is complete, hello new version of hello key is in use.</span></span>
