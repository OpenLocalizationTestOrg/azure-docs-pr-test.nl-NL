---
title: Optimaliseer uw algoritmen in Azure Machine Learning | Microsoft Docs
description: Legt uit hoe het optimale parameters ingesteld voor een Azure Machine Learning-algoritme kiezen.
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 6717e30e-b8d8-4cc1-ad0b-1d4727928d32
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/29/2017
ms.author: bradsev
ms.openlocfilehash: b3be7f31ac31c656744fb809e3972af0ac4ad4f1
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/11/2017
---
# <a name="choose-parameters-to-optimize-your-algorithms-in-azure-machine-learning"></a><span data-ttu-id="10091-103">Parameters voor het optimaliseren van uw algoritmen in Azure Machine Learning kiezen</span><span class="sxs-lookup"><span data-stu-id="10091-103">Choose parameters to optimize your algorithms in Azure Machine Learning</span></span>
<span data-ttu-id="10091-104">Dit onderwerp wordt beschreven hoe u de juiste hyperparameter ingesteld voor een Azure Machine Learning-algoritme kiest.</span><span class="sxs-lookup"><span data-stu-id="10091-104">This topic describes how to choose the right hyperparameter set for an algorithm in Azure Machine Learning.</span></span> <span data-ttu-id="10091-105">De meeste machine learning-algoritmen hebben om in te stellen-parameters.</span><span class="sxs-lookup"><span data-stu-id="10091-105">Most machine learning algorithms have parameters to set.</span></span> <span data-ttu-id="10091-106">Wanneer u het model trainen, moet u waarden opgeven voor deze parameters.</span><span class="sxs-lookup"><span data-stu-id="10091-106">When you train a model, you need to provide values for those parameters.</span></span> <span data-ttu-id="10091-107">De effectiviteit van het getrainde model is afhankelijk van de Modelparameters die u kiest.</span><span class="sxs-lookup"><span data-stu-id="10091-107">The efficacy of the trained model depends on the model parameters that you choose.</span></span> <span data-ttu-id="10091-108">Het proces van de optimale set parameters voor zoeken wordt ook wel *model selectie*.</span><span class="sxs-lookup"><span data-stu-id="10091-108">The process of finding the optimal set of parameters is known as *model selection*.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

<span data-ttu-id="10091-109">Er zijn verschillende manieren om te modelleren selectie.</span><span class="sxs-lookup"><span data-stu-id="10091-109">There are various ways to do model selection.</span></span> <span data-ttu-id="10091-110">Kruisvalidatie is een van de meest gebruikte methoden voor het modelselectie in machine learning, en is het standaardmechanisme voor het selecteren van model in Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="10091-110">In machine learning, cross-validation is one of the most widely used methods for model selection, and it is the default model selection mechanism in Azure Machine Learning.</span></span> <span data-ttu-id="10091-111">Omdat Azure Machine Learning R- en Python ondersteunt, kunt u altijd hun eigen model selectie mechanismen implementeren met behulp van R of Python.</span><span class="sxs-lookup"><span data-stu-id="10091-111">Because Azure Machine Learning supports both R and Python, you can always implement their own model selection mechanisms by using either R or Python.</span></span>

<span data-ttu-id="10091-112">Er zijn vier stappen van de beste parameterset zoeken:</span><span class="sxs-lookup"><span data-stu-id="10091-112">There are four steps in the process of finding the best parameter set:</span></span>

1. <span data-ttu-id="10091-113">**Definieer de parameter-ruimte**: voor het algoritme voor de exacte parameterwaarden wilt u eerst bepalen.</span><span class="sxs-lookup"><span data-stu-id="10091-113">**Define the parameter space**: For the algorithm, first decide the exact parameter values you want to consider.</span></span>
2. <span data-ttu-id="10091-114">**Definieer de instellingen van de kruisvalidatie**: bepalen hoe u kruisvalidatie vouwen dat voor de gegevensset kiezen.</span><span class="sxs-lookup"><span data-stu-id="10091-114">**Define the cross-validation settings**: Decide how to choose cross-validation folds for the dataset.</span></span>
3. <span data-ttu-id="10091-115">**De metrische gegevens definiëren**: Bepaal welke metriek moet worden gebruikt voor het vaststellen van de beste reeks parameters, zoals nauwkeurigheid, root mean squared fout, precisie, intrekken of f-score.</span><span class="sxs-lookup"><span data-stu-id="10091-115">**Define the metric**: Decide what metric to use for determining the best set of parameters, such as accuracy, root mean squared error, precision, recall, or f-score.</span></span>
4. <span data-ttu-id="10091-116">**Trainen, te evalueren en te vergelijken**: voor elke unieke combinatie van de parameterwaarden kruisvalidatie is uitgevoerd door en op basis van de fout metrische gegevens die u definieert.</span><span class="sxs-lookup"><span data-stu-id="10091-116">**Train, evaluate, and compare**: For each unique combination of the parameter values, cross-validation is carried out by and based on the error metric you define.</span></span> <span data-ttu-id="10091-117">Na evaluatie en vergelijking, kunt u de best presterende model.</span><span class="sxs-lookup"><span data-stu-id="10091-117">After evaluation and comparison, you can choose the best-performing model.</span></span>

<span data-ttu-id="10091-118">De volgende afbeelding ziet u hoe u kunt dit in Azure Machine Learning doen bevat.</span><span class="sxs-lookup"><span data-stu-id="10091-118">The following image illustrates shows how this can be achieved in Azure Machine Learning.</span></span>

![De beste parameterset vinden](./media/machine-learning-algorithm-parameters-optimize/fig1.png)

## <a name="define-the-parameter-space"></a><span data-ttu-id="10091-120">De parameter-ruimte definiëren</span><span class="sxs-lookup"><span data-stu-id="10091-120">Define the parameter space</span></span>
<span data-ttu-id="10091-121">U kunt de parameter is ingesteld op de stap van de initialisatie model definiëren.</span><span class="sxs-lookup"><span data-stu-id="10091-121">You can define the parameter set at the model initialization step.</span></span> <span data-ttu-id="10091-122">Het deelvenster parameter van alle machine learning-algoritmen heeft twee trainer modi: *één Parameter* en *Parameter bereik*.</span><span class="sxs-lookup"><span data-stu-id="10091-122">The parameter pane of all machine learning algorithms has two trainer modes: *Single Parameter* and *Parameter Range*.</span></span> <span data-ttu-id="10091-123">Kies bereik van de Parameter-modus.</span><span class="sxs-lookup"><span data-stu-id="10091-123">Choose Parameter Range mode.</span></span> <span data-ttu-id="10091-124">In het bereik van de Parameter-modus, kunt u meerdere waarden opgeven voor elke parameter.</span><span class="sxs-lookup"><span data-stu-id="10091-124">In Parameter Range mode, you can enter multiple values for each parameter.</span></span> <span data-ttu-id="10091-125">U kunt door komma's gescheiden waarden opgeven in het tekstvak.</span><span class="sxs-lookup"><span data-stu-id="10091-125">You can enter comma-separated values in the text box.</span></span>

![Twee klasse gestimuleerd beslissingsstructuur één parameter](./media/machine-learning-algorithm-parameters-optimize/fig2.png)

 <span data-ttu-id="10091-127">Ook kunt u de maximale en minimale punten van het raster en het totale aantal punten moet worden gegenereerd met **gebruik bereik Builder**.</span><span class="sxs-lookup"><span data-stu-id="10091-127">Alternately, you can define the maximum and minimum points of the grid and the total number of points to be generated with **Use Range Builder**.</span></span> <span data-ttu-id="10091-128">Standaard worden de parameterwaarden die zijn gegenereerd op een lineaire schaal.</span><span class="sxs-lookup"><span data-stu-id="10091-128">By default, the parameter values are generated on a linear scale.</span></span> <span data-ttu-id="10091-129">Maar als **logaritmische schaal** is ingeschakeld, wordt de waarden worden gegenereerd in de logaritmische schaal (dat wil zeggen, de verhouding van de aangrenzende punten constant is in plaats van hun verschil).</span><span class="sxs-lookup"><span data-stu-id="10091-129">But if **Log Scale** is checked, the values are generated in the log scale (that is, the ratio of the adjacent points is constant instead of their difference).</span></span> <span data-ttu-id="10091-130">Voor integer-parameters, kunt u een bereik definiëren met een koppelteken.</span><span class="sxs-lookup"><span data-stu-id="10091-130">For integer parameters, you can define a range by using a hyphen.</span></span> <span data-ttu-id="10091-131">Bijvoorbeeld "1-10" betekent dat alle gehele getallen tussen 1 en 10 (zowel liggen) de parameterset vormen.</span><span class="sxs-lookup"><span data-stu-id="10091-131">For example, “1-10” means that all integers between 1 and 10 (both inclusive) form the parameter set.</span></span> <span data-ttu-id="10091-132">Een gemengde modus wordt ook ondersteund.</span><span class="sxs-lookup"><span data-stu-id="10091-132">A mixed mode is also supported.</span></span> <span data-ttu-id="10091-133">Bijvoorbeeld: de parameter ingesteld ' 1-10, 20, 50 ' bevatten gehele getallen van 1 tot 10, 20, en 50.</span><span class="sxs-lookup"><span data-stu-id="10091-133">For example, the parameter set “1-10, 20, 50” would include integers 1-10, 20, and 50.</span></span>

![Twee klasse gestimuleerd beslissingsstructuur parameter bereik](./media/machine-learning-algorithm-parameters-optimize/fig3.png)

## <a name="define-cross-validation-folds"></a><span data-ttu-id="10091-135">Kruisvalidatie vouwen definiëren</span><span class="sxs-lookup"><span data-stu-id="10091-135">Define cross-validation folds</span></span>
<span data-ttu-id="10091-136">De [partitie en steekproef] [ partition-and-sample] module willekeurig vouwen toewijzen aan de gegevens kan worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="10091-136">The [Partition and Sample][partition-and-sample] module can be used to randomly assign folds to the data.</span></span> <span data-ttu-id="10091-137">In de volgende voorbeeldconfiguratie voor de module we vijf vouwen definiëren en een aantal vouwen willekeurig toewijzen aan de voorbeeld-exemplaren.</span><span class="sxs-lookup"><span data-stu-id="10091-137">In the following sample configuration for the module, we define five folds and randomly assign a fold number to the sample instances.</span></span>

![Partitie en steekproef](./media/machine-learning-algorithm-parameters-optimize/fig4.png)

## <a name="define-the-metric"></a><span data-ttu-id="10091-139">De metrische gegevens definiëren</span><span class="sxs-lookup"><span data-stu-id="10091-139">Define the metric</span></span>
<span data-ttu-id="10091-140">De [Tune Model Hyperparameters] [ tune-model-hyperparameters] module biedt ondersteuning voor het kiezen van langs de beste set parameters voor een bepaald algoritme en de gegevensset.</span><span class="sxs-lookup"><span data-stu-id="10091-140">The [Tune Model Hyperparameters][tune-model-hyperparameters] module provides support for empirically choosing the best set of parameters for a given algorithm and dataset.</span></span> <span data-ttu-id="10091-141">Naast de andere informatie met betrekking tot het model te trainen de **eigenschappen** deelvenster van deze module de metrische gegevens voor het bepalen van de beste parameterset bevat.</span><span class="sxs-lookup"><span data-stu-id="10091-141">In addition to other information regarding training the model, the **Properties** pane of this module includes the metric for determining the best parameter set.</span></span> <span data-ttu-id="10091-142">Twee verschillende vervolgkeuzelijst vakken voor de classificatie en regressie algoritmen, heeft respectievelijk.</span><span class="sxs-lookup"><span data-stu-id="10091-142">It has two different drop-down list boxes for classification and regression algorithms, respectively.</span></span> <span data-ttu-id="10091-143">Als de onderzochte-algoritme een classificatie-algoritme is, de metriek regressie wordt genegeerd en vice versa.</span><span class="sxs-lookup"><span data-stu-id="10091-143">If the algorithm under consideration is a classification algorithm, the regression metric is ignored and vice versa.</span></span> <span data-ttu-id="10091-144">In dit specifieke voorbeeld de meetwaarde is **nauwkeurigheid**.</span><span class="sxs-lookup"><span data-stu-id="10091-144">In this specific example, the metric is **Accuracy**.</span></span>   

![Vegen parameters](./media/machine-learning-algorithm-parameters-optimize/fig5.png)

## <a name="train-evaluate-and-compare"></a><span data-ttu-id="10091-146">Trainen, te evalueren en te vergelijken</span><span class="sxs-lookup"><span data-stu-id="10091-146">Train, evaluate, and compare</span></span>
<span data-ttu-id="10091-147">Dezelfde [Tune Model Hyperparameters] [ tune-model-hyperparameters] module treinen alle modellen die overeenkomen met de parameter instellen, evalueert verschillende metrische gegevens en maakt vervolgens het best getrainde model op basis van de metrische gegevens u Kies.</span><span class="sxs-lookup"><span data-stu-id="10091-147">The same [Tune Model Hyperparameters][tune-model-hyperparameters] module trains all the models that correspond to the parameter set, evaluates various metrics, and then creates the best-trained model based on the metric you choose.</span></span> <span data-ttu-id="10091-148">Deze module heeft twee verplichte invoeren:</span><span class="sxs-lookup"><span data-stu-id="10091-148">This module has two mandatory inputs:</span></span>

* <span data-ttu-id="10091-149">De ongetrainde cursist</span><span class="sxs-lookup"><span data-stu-id="10091-149">The untrained learner</span></span>
* <span data-ttu-id="10091-150">De gegevensset</span><span class="sxs-lookup"><span data-stu-id="10091-150">The dataset</span></span>

<span data-ttu-id="10091-151">De module heeft ook een optionele gegevensset invoer.</span><span class="sxs-lookup"><span data-stu-id="10091-151">The module also has an optional dataset input.</span></span> <span data-ttu-id="10091-152">De dataset verbinden met de vouwindex-gegevens naar de invoer verplichte gegevensset.</span><span class="sxs-lookup"><span data-stu-id="10091-152">Connect the dataset with fold information to the mandatory dataset input.</span></span> <span data-ttu-id="10091-153">Als de dataset vouwen informatie niet is toegewezen, klikt u vervolgens een 10-fold kruisvalidatie automatisch standaard uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="10091-153">If the dataset is not assigned any fold information, then a 10-fold cross-validation is automatically executed by default.</span></span> <span data-ttu-id="10091-154">Als de vouwen-toewijzing is niet uitgevoerd en een validatie-gegevensset op de poort optioneel gegevensset wordt aangeboden, een train-test-modus is gekozen en de eerste gegevensset wordt gebruikt voor het trainen van het model voor elke combinatie van parameters.</span><span class="sxs-lookup"><span data-stu-id="10091-154">If the fold assignment is not done and a validation dataset is provided at the optional dataset port, then a train-test mode is chosen and the first dataset is used to train the model for each parameter combination.</span></span>

![Gestimuleerd decision tree classificatie](./media/machine-learning-algorithm-parameters-optimize/fig6a.png)

<span data-ttu-id="10091-156">Het model wordt vervolgens geëvalueerd op de gegevensset validatie.</span><span class="sxs-lookup"><span data-stu-id="10091-156">The model is then evaluated on the validation dataset.</span></span> <span data-ttu-id="10091-157">De uitvoerpoort links van de module bevat verschillende metrische gegevens als functies van parameterwaarden.</span><span class="sxs-lookup"><span data-stu-id="10091-157">The left output port of the module shows different metrics as functions of parameter values.</span></span> <span data-ttu-id="10091-158">De juiste uitvoerpoort biedt het getrainde model dat overeenkomt met de best presterende model volgens de gekozen metriek (**nauwkeurigheid** in dit geval).</span><span class="sxs-lookup"><span data-stu-id="10091-158">The right output port gives the trained model that corresponds to the best-performing model according to the chosen metric (**Accuracy** in this case).</span></span>  

![Validatie van gegevensset](./media/machine-learning-algorithm-parameters-optimize/fig6b.png)

<span data-ttu-id="10091-160">Hier ziet u de exacte parameters die door de juiste uitvoerpoort visualiseren gekozen.</span><span class="sxs-lookup"><span data-stu-id="10091-160">You can see the exact parameters chosen by visualizing the right output port.</span></span> <span data-ttu-id="10091-161">Dit model kan worden gebruikt in een testset score berekenen of in een geoperationaliseerd webservice nadat ze zijn opgeslagen als een getraind model.</span><span class="sxs-lookup"><span data-stu-id="10091-161">This model can be used in scoring a test set or in an operationalized web service after saving as a trained model.</span></span>

<!-- Module References -->
[partition-and-sample]: https://msdn.microsoft.com/library/azure/a8726e34-1b3e-4515-b59a-3e4a475654b8/
[tune-model-hyperparameters]: https://msdn.microsoft.com/library/azure/038d91b6-c2f2-42a1-9215-1f2c20ed1b40/
