---
title: aaaExecute Python machine learning-scripts | Microsoft Docs
description: Overzichten ontwerp grondbeginselen ondersteuning voor Python-scripts in Azure Machine Learning en basic gebruiksscenario's, mogelijkheden en beperkingen.
keywords: Python machine learning pandas, python pandas, python-scripts, python-scripts uitvoeren
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: ee9eb764-0d3e-4104-a797-19fc29345d39
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: bradsev
ms.openlocfilehash: 8d23aaa972a46cb1a07ea0f18cc1e24933fe3e6f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="execute-python-machine-learning-scripts-in-azure-machine-learning-studio"></a><span data-ttu-id="b0235-104">Python-scripts voor Machine Learning uitvoeren in Azure Machine Learning Studio</span><span class="sxs-lookup"><span data-stu-id="b0235-104">Execute Python machine learning scripts in Azure Machine Learning Studio</span></span>

<span data-ttu-id="b0235-105">Dit onderwerp beschrijft Hallo ontwerp grondbeginselen Hallo huidige ondersteuning voor Python-scripts in Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="b0235-105">This topic describes hello design principles underlying hello current support for Python scripts in Azure Machine Learning.</span></span> <span data-ttu-id="b0235-106">Hallo belangrijkste mogelijkheden worden ook beschreven, met inbegrip van:</span><span class="sxs-lookup"><span data-stu-id="b0235-106">hello main capabilities provided are also outlined, including:</span></span>

- <span data-ttu-id="b0235-107">basic-gebruiksscenario's uitvoeren</span><span class="sxs-lookup"><span data-stu-id="b0235-107">execute basic usage scenarios</span></span>
- <span data-ttu-id="b0235-108">een experiment beoordelen in een webservice</span><span class="sxs-lookup"><span data-stu-id="b0235-108">score an experiment in a web service</span></span>
- <span data-ttu-id="b0235-109">ondersteuning voor het importeren van de bestaande code</span><span class="sxs-lookup"><span data-stu-id="b0235-109">support for importing existing code</span></span>
- <span data-ttu-id="b0235-110">Visualisaties exporteren</span><span class="sxs-lookup"><span data-stu-id="b0235-110">export visualizations</span></span>
- <span data-ttu-id="b0235-111">onder supervisie Functieselectie uitvoeren</span><span class="sxs-lookup"><span data-stu-id="b0235-111">perform supervised feature selection</span></span>
- <span data-ttu-id="b0235-112">enkele beperkingen begrijpen</span><span class="sxs-lookup"><span data-stu-id="b0235-112">understand some limitations</span></span>

<span data-ttu-id="b0235-113">[Python](https://www.python.org/) is een onmisbaar hulpmiddel bij Hallo hulpprogramma borst van veel gegevenswetenschappers.</span><span class="sxs-lookup"><span data-stu-id="b0235-113">[Python](https://www.python.org/) is an indispensable tool in hello tool chest of many data scientists.</span></span> <span data-ttu-id="b0235-114">Heeft:</span><span class="sxs-lookup"><span data-stu-id="b0235-114">It has:</span></span>

* <span data-ttu-id="b0235-115">een syntaxis elegante en beknopt</span><span class="sxs-lookup"><span data-stu-id="b0235-115">an elegant and concise syntax,</span></span> 
* <span data-ttu-id="b0235-116">ondersteuning voor meerdere platforms</span><span class="sxs-lookup"><span data-stu-id="b0235-116">cross-platform support,</span></span> 
* <span data-ttu-id="b0235-117">een enorme hoeveelheden krachtige bibliotheken en</span><span class="sxs-lookup"><span data-stu-id="b0235-117">a vast collection of powerful libraries, and</span></span> 
* <span data-ttu-id="b0235-118">volwassen ontwikkelingsprogramma's.</span><span class="sxs-lookup"><span data-stu-id="b0235-118">mature development tools.</span></span> 

<span data-ttu-id="b0235-119">Python wordt gebruikt in alle fasen van een werkstroom die doorgaans in machine learning-modellen worden gebruikt:</span><span class="sxs-lookup"><span data-stu-id="b0235-119">Python is being used in all phases of a workflow typically used in machine learning modeling:</span></span>

- <span data-ttu-id="b0235-120">gegevens opnemen en verwerken</span><span class="sxs-lookup"><span data-stu-id="b0235-120">data ingest and processing</span></span> 
- <span data-ttu-id="b0235-121">functie constructie</span><span class="sxs-lookup"><span data-stu-id="b0235-121">feature construction</span></span>
- <span data-ttu-id="b0235-122">model trainen</span><span class="sxs-lookup"><span data-stu-id="b0235-122">model training</span></span> 
- <span data-ttu-id="b0235-123">validatie van</span><span class="sxs-lookup"><span data-stu-id="b0235-123">model validation</span></span>
- <span data-ttu-id="b0235-124">implementatie van Hallo modellen</span><span class="sxs-lookup"><span data-stu-id="b0235-124">deployment of hello models</span></span>

<span data-ttu-id="b0235-125">Azure Machine Learning Studio ondersteunt insluiten Python-scripts in diverse delen van een machine learning-experiment, en ze ook naadloos publiceren als een webservices op Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="b0235-125">Azure Machine Learning Studio supports embedding Python scripts into various parts of a machine learning experiment and also seamlessly publishing them as web services on Microsoft Azure.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]


## <a name="design-principles-of-python-scripts-in-machine-learning"></a><span data-ttu-id="b0235-126">Principes van Python-scripts in Machine Learning</span><span class="sxs-lookup"><span data-stu-id="b0235-126">Design principles of Python scripts in Machine Learning</span></span>

<span data-ttu-id="b0235-127">Hallo primaire interface tooPython in Azure Machine Learning Studio is via Hallo [Python Script uitvoeren] [ execute-python-script] module weergegeven in afbeelding 1.</span><span class="sxs-lookup"><span data-stu-id="b0235-127">hello primary interface tooPython in Azure Machine Learning Studio is via hello [Execute Python Script][execute-python-script] module shown in Figure 1.</span></span>

![image1](./media/machine-learning-execute-python-scripts/execute-machine-learning-python-scripts-module.png)

![image2](./media/machine-learning-execute-python-scripts/embedded-machine-learning-python-script.png)

<span data-ttu-id="b0235-130">Afbeelding 1.</span><span class="sxs-lookup"><span data-stu-id="b0235-130">Figure 1.</span></span> <span data-ttu-id="b0235-131">Hallo **Python Script uitvoeren** module.</span><span class="sxs-lookup"><span data-stu-id="b0235-131">hello **Execute Python Script** module.</span></span>

<span data-ttu-id="b0235-132">Hallo [Python Script uitvoeren] [ execute-python-script] -module in de Azure ML Studio up toothree invoer accepteert en produceert up tootwo uitvoer (beschreven in de volgende sectie Hallo), zoals de analoog R hello [ R-Script uitvoeren] [ execute-r-script] module.</span><span class="sxs-lookup"><span data-stu-id="b0235-132">hello [Execute Python Script][execute-python-script] module in Azure ML Studio accepts up toothree inputs and produces up tootwo outputs (discussed in hello following section), like its R analogue, hello [Execute R Script][execute-r-script] module.</span></span> <span data-ttu-id="b0235-133">Hello Python code toobe uitgevoerd, wordt in ingevoerd Hallo parameter box als een speciaal benoemde toegangspunt aangeroepen functie `azureml_main`.</span><span class="sxs-lookup"><span data-stu-id="b0235-133">hello Python code toobe executed is entered into hello parameter box as a specially named entry-point function called `azureml_main`.</span></span> <span data-ttu-id="b0235-134">Hier vindt u belangrijke Hallo-ontwerp principes tooimplement gebruikt deze module:</span><span class="sxs-lookup"><span data-stu-id="b0235-134">Here are hello key design principles used tooimplement this module:</span></span>

1. <span data-ttu-id="b0235-135">*Moet idiomatische voor Python-gebruikers.*</span><span class="sxs-lookup"><span data-stu-id="b0235-135">*Must be idiomatic for Python users.*</span></span> <span data-ttu-id="b0235-136">De meeste Python gebruikers rekening te houden met de code als functies in modules.</span><span class="sxs-lookup"><span data-stu-id="b0235-136">Most Python users factor their code as functions inside modules.</span></span> <span data-ttu-id="b0235-137">Dus als een groot aantal uitvoerbare instructies in een module op het hoogste niveau is relatief zeldzame.</span><span class="sxs-lookup"><span data-stu-id="b0235-137">So putting a lot of executable statements in a top-level module is relatively rare.</span></span> <span data-ttu-id="b0235-138">Als gevolg hiervan neemt Hallo script vak ook een speciaal benoemde Python-functie als toojust tegenstelling tot een reeks instructies.</span><span class="sxs-lookup"><span data-stu-id="b0235-138">As a result, hello script box also takes a specially named Python function as opposed toojust a sequence of statements.</span></span> <span data-ttu-id="b0235-139">Hallo objecten worden weergegeven in de functie Hallo zijn Python-bibliotheek Standaardtypen zoals [Pandas](http://pandas.pydata.org/) gegevensframes en [NumPy](http://www.numpy.org/) matrices.</span><span class="sxs-lookup"><span data-stu-id="b0235-139">hello objects exposed in hello function are standard Python library types such as [Pandas](http://pandas.pydata.org/) data frames and [NumPy](http://www.numpy.org/) arrays.</span></span>
2. <span data-ttu-id="b0235-140">*Hoogwaardige tussen lokale moet hebben en in de cloud uitvoeringen.*</span><span class="sxs-lookup"><span data-stu-id="b0235-140">*Must have high-fidelity between local and cloud executions.*</span></span> <span data-ttu-id="b0235-141">Hallo back-end gebruikt tooexecute Hallo Python-code op basis van [Anaconda](https://store.continuum.io/cshop/anaconda/), een veelgebruikte platformoverschrijdende wetenschappelijke Python-distributie.</span><span class="sxs-lookup"><span data-stu-id="b0235-141">hello backend used tooexecute hello Python code is based on [Anaconda](https://store.continuum.io/cshop/anaconda/), a widely used cross-platform scientific Python distribution.</span></span> <span data-ttu-id="b0235-142">Het wordt geleverd met sluiten too200 van Hallo meest voorkomende Python-pakketten.</span><span class="sxs-lookup"><span data-stu-id="b0235-142">It comes with close too200 of hello most common Python packages.</span></span> <span data-ttu-id="b0235-143">Daarom gegevenswetenschappers voor foutopsporing en de code op hun lokale Azure Machine Learning-compatibele Anaconda-omgeving te kwalificeren.</span><span class="sxs-lookup"><span data-stu-id="b0235-143">Therefore, data scientists can debug and qualify their code on their local Azure Machine Learning-compatible Anaconda environment.</span></span> <span data-ttu-id="b0235-144">Gebruik vervolgens een bestaande ontwikkelomgeving, zoals [IPython](http://ipython.org/) notebook of [Python-Tools voor Visual Studio](http://aka.ms/ptvs), toorun als onderdeel van een Azure ML-experiment.</span><span class="sxs-lookup"><span data-stu-id="b0235-144">Then use an existing development environment, such as [IPython](http://ipython.org/) notebook or [Python Tools for Visual Studio](http://aka.ms/ptvs), toorun it as part of an Azure ML experiment.</span></span> <span data-ttu-id="b0235-145">Hallo `azureml_main` ingangspunt is een vanilla Python-functie en kan dus *** zonder Azure ML-specifieke code worden geschreven of Hallo SDK is geïnstalleerd.</span><span class="sxs-lookup"><span data-stu-id="b0235-145">hello `azureml_main` entry point is a vanilla Python function and so ****can be authored without Azure ML-specific code or hello SDK installed.</span></span>
3. <span data-ttu-id="b0235-146">*Moet naadloos samenstelbare met andere Azure Machine Learning-modules.*</span><span class="sxs-lookup"><span data-stu-id="b0235-146">*Must be seamlessly composable with other Azure Machine Learning modules.*</span></span> <span data-ttu-id="b0235-147">Hallo [Python Script uitvoeren] [ execute-python-script] module accepteert als invoer en uitvoer, standaard Azure Machine Learning-gegevenssets.</span><span class="sxs-lookup"><span data-stu-id="b0235-147">hello [Execute Python Script][execute-python-script] module accepts, as inputs and outputs, standard Azure Machine Learning datasets.</span></span> <span data-ttu-id="b0235-148">de onderliggende structuur Hallo verbinding transparant en efficiënt hello Azure ML en Python runtimes.</span><span class="sxs-lookup"><span data-stu-id="b0235-148">hello underlying framework transparently and efficiently bridges hello Azure ML and Python runtimes.</span></span> <span data-ttu-id="b0235-149">Dus kan Python worden gebruikt in combinatie met de bestaande Azure ML-werkstromen, inclusief verbindingen die gebruikmaken van R en SQLite.</span><span class="sxs-lookup"><span data-stu-id="b0235-149">So Python can be used in conjunction with existing Azure ML workflows, including those that call into R and SQLite.</span></span> <span data-ttu-id="b0235-150">Een resultaat gegevens wetenschappelijk kan opstellen werkstromen die:</span><span class="sxs-lookup"><span data-stu-id="b0235-150">A  result, data scientist could compose workflows that:</span></span>
   * <span data-ttu-id="b0235-151">Python en Pandas gebruiken voor gegevens vooraf verwerken en opschonen</span><span class="sxs-lookup"><span data-stu-id="b0235-151">use Python and Pandas for data pre-processing and cleaning</span></span>
   * <span data-ttu-id="b0235-152">feed Hallo tooa SQL gegevenstransformatie, meerdere gegevenssets tooform functies toevoegen</span><span class="sxs-lookup"><span data-stu-id="b0235-152">feed hello data tooa SQL transformation, joining multiple datasets tooform features</span></span>
   * <span data-ttu-id="b0235-153">Hallo-algoritmen gebruiken in Azure Machine Learning modellen trainen</span><span class="sxs-lookup"><span data-stu-id="b0235-153">train models using hello algorithms in Azure Machine Learning</span></span> 
   * <span data-ttu-id="b0235-154">evalueren en verwerk Hallo resultaten weergeven in R.</span><span class="sxs-lookup"><span data-stu-id="b0235-154">evaluate and post-process hello results using R.</span></span>


## <a name="basic-usage-scenarios-in-ml-for-python-scripts"></a><span data-ttu-id="b0235-155">Basic-gebruiksscenario's in ML voor Python-scripts</span><span class="sxs-lookup"><span data-stu-id="b0235-155">Basic usage scenarios in ML for Python scripts</span></span>

<span data-ttu-id="b0235-156">In deze sectie we enkele Hallo basic maakt gebruik van Hallo enquête [Python Script uitvoeren] [ execute-python-script] module.</span><span class="sxs-lookup"><span data-stu-id="b0235-156">In this section, we survey some of hello basic uses of hello [Execute Python Script][execute-python-script] module.</span></span> <span data-ttu-id="b0235-157">Invoer toohello Python-module worden weergegeven als Pandas gegevensframes.</span><span class="sxs-lookup"><span data-stu-id="b0235-157">Inputs toohello Python module are exposed as Pandas data frames.</span></span> <span data-ttu-id="b0235-158">Hallo functie moet retourneren één Pandas gegevensframe verpakt binnen een Python [reeks](https://docs.python.org/2/c-api/sequence.html) zoals een tuple, lijst of NumPy matrix.</span><span class="sxs-lookup"><span data-stu-id="b0235-158">hello function must return a single Pandas data frame packaged inside of a Python [sequence](https://docs.python.org/2/c-api/sequence.html) such as a tuple, list, or NumPy array.</span></span> <span data-ttu-id="b0235-159">Hallo eerste element van deze reeks wordt vervolgens Hallo eerste uitvoerpoort van Hallo module geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="b0235-159">hello first element of this sequence is then returned in hello first output port of hello module.</span></span> <span data-ttu-id="b0235-160">Dit schema wordt weergegeven in afbeelding 2.</span><span class="sxs-lookup"><span data-stu-id="b0235-160">This scheme is shown in Figure 2.</span></span>

![image3](./media/machine-learning-execute-python-scripts/map-of-python-script-inputs-outputs.png)

<span data-ttu-id="b0235-162">Afbeelding 2.</span><span class="sxs-lookup"><span data-stu-id="b0235-162">Figure 2.</span></span> <span data-ttu-id="b0235-163">Toewijzing van poorten tooparameters invoer- en retourwaarde toooutput poort.</span><span class="sxs-lookup"><span data-stu-id="b0235-163">Mapping of input ports tooparameters and return value toooutput port.</span></span>

<span data-ttu-id="b0235-164">Meer gedetailleerde semantiek van hoe Hallo ingangspoorten toegewezen tooparameters Hallo downloaden `azureml_main` functie worden weergegeven in tabel 1:</span><span class="sxs-lookup"><span data-stu-id="b0235-164">More detailed semantics of how hello input ports get mapped tooparameters of hello `azureml_main` function are shown in Table 1:</span></span>

![image1T](./media/machine-learning-execute-python-scripts/python-script-inputs-mapped-to-parameters.png)

<span data-ttu-id="b0235-166">Tabel 1.</span><span class="sxs-lookup"><span data-stu-id="b0235-166">Table 1.</span></span> <span data-ttu-id="b0235-167">Toewijzing van ingangspoorten toofunction parameters.</span><span class="sxs-lookup"><span data-stu-id="b0235-167">Mapping of input ports toofunction parameters.</span></span>

<span data-ttu-id="b0235-168">Hallo-toewijzing tussen ingangspoorten en functieparameters is positionele:</span><span class="sxs-lookup"><span data-stu-id="b0235-168">hello mapping between input ports and function parameters is positional:</span></span>

- <span data-ttu-id="b0235-169">Hallo eerste verbonden invoerpoort is toegewezen toohello eerste parameter van Hallo-functie.</span><span class="sxs-lookup"><span data-stu-id="b0235-169">hello first connected input port is mapped toohello first parameter of hello function.</span></span> 
- <span data-ttu-id="b0235-170">Hallo tweede invoer (indien verbonden) is toegewezen toohello tweede parameter van Hallo-functie.</span><span class="sxs-lookup"><span data-stu-id="b0235-170">hello second input (if connected) is mapped toohello second parameter of hello function.</span></span>

<span data-ttu-id="b0235-171">Zie *Python voor gegevensanalyse* (O'Reilly 2012) door West McKinney voor meer informatie over Python Pandas en hoe deze gegevens gebruikte toomanipulate effectiever en efficiënter kan zijn.</span><span class="sxs-lookup"><span data-stu-id="b0235-171">See *Python for Data Analysis* (O'Reilly, 2012) by W. McKinney for more information on Python Pandas and on how it can be used toomanipulate data effectively and efficiently.</span></span> 


## <a name="translation-of-input-and-output-types"></a><span data-ttu-id="b0235-172">De vertaling van invoer en uitvoer typen</span><span class="sxs-lookup"><span data-stu-id="b0235-172">Translation of input and output types</span></span> 
<span data-ttu-id="b0235-173">Invoergegevenssets in Azure ML zijn geconverteerde toodata frames in Pandas.</span><span class="sxs-lookup"><span data-stu-id="b0235-173">Input datasets in Azure ML are converted toodata frames in Pandas.</span></span> <span data-ttu-id="b0235-174">Uitvoer gegevensframes omgezet back tooAzure ML gegevenssets.</span><span class="sxs-lookup"><span data-stu-id="b0235-174">Output data frames are converted back tooAzure ML datasets.</span></span> <span data-ttu-id="b0235-175">Hallo na conversies worden uitgevoerd:</span><span class="sxs-lookup"><span data-stu-id="b0235-175">hello following conversions are performed:</span></span>

1. <span data-ttu-id="b0235-176">Zo worden geconverteerd als tekenreeks en numerieke kolommen-is en de ontbrekende waarden in een gegevensset zijn geconverteerde too'NA' waarden in Pandas.</span><span class="sxs-lookup"><span data-stu-id="b0235-176">String and numeric columns are converted as-is and missing values in a dataset are converted too‘NA’ values in Pandas.</span></span> <span data-ttu-id="b0235-177">Hallo dezelfde conversie wordt uitgevoerd op Hallo manier terug (NB-waarden in Pandas zijn geconverteerde toomissing waarden in de Azure ML).</span><span class="sxs-lookup"><span data-stu-id="b0235-177">hello same conversion happens on hello way back (NA values in Pandas are converted toomissing values in Azure ML).</span></span>
2. <span data-ttu-id="b0235-178">Index aanvalsvectoren in Pandas worden niet ondersteund in Azure ML.</span><span class="sxs-lookup"><span data-stu-id="b0235-178">Index vectors in Pandas are not supported in Azure ML.</span></span> <span data-ttu-id="b0235-179">Alle ingevoerde gegevensframes in Hallo Python functie hebben altijd een numerieke index van de 64-bits van 0 toohello aantal rijen min 1.</span><span class="sxs-lookup"><span data-stu-id="b0235-179">All input data frames in hello Python function always have a 64-bit numerical index from 0 toohello number of rows minus 1.</span></span> 
3. <span data-ttu-id="b0235-180">Azure ML-gegevenssets geen dubbele kolomnamen en kolomnamen, die geen tekenreeksen zijn.</span><span class="sxs-lookup"><span data-stu-id="b0235-180">Azure ML datasets cannot have duplicate column names and column names that are not strings.</span></span> <span data-ttu-id="b0235-181">Als een frame uitvoer-gegevens niet-numerieke kolommen bevat, Hallo framework aanroepen `str` op Hallo kolomnamen.</span><span class="sxs-lookup"><span data-stu-id="b0235-181">If an output data frame contains non-numeric columns, hello framework calls `str` on hello column names.</span></span> <span data-ttu-id="b0235-182">Ook eventuele dubbele kolomnamen zijn automatisch vervormde tooinsure Hallo namen uniek zijn.</span><span class="sxs-lookup"><span data-stu-id="b0235-182">Likewise, any duplicate column names are automatically mangled tooinsure hello names are unique.</span></span> <span data-ttu-id="b0235-183">Hallo-achtervoegsel (2) toegevoegd toohello eerste duplicaat, (3) de tweede dubbele toohello, enzovoort.</span><span class="sxs-lookup"><span data-stu-id="b0235-183">hello suffix (2) is added toohello first duplicate, (3) toohello second duplicate, and so on.</span></span>


## <a name="operationalizing-python-scripts"></a><span data-ttu-id="b0235-184">Operationele Python-scripts</span><span class="sxs-lookup"><span data-stu-id="b0235-184">Operationalizing Python scripts</span></span>

<span data-ttu-id="b0235-185">Alle [Python Script uitvoeren] [ execute-python-script] modules die worden gebruikt in een score experiment worden aangeroepen wanneer gepubliceerd als een webservice.</span><span class="sxs-lookup"><span data-stu-id="b0235-185">Any [Execute Python Script][execute-python-script] modules used in a scoring experiment are called when published as a web service.</span></span> <span data-ttu-id="b0235-186">Afbeelding 3 ziet u bijvoorbeeld een score experiment met Hallo code tooevaluate één Python-expressie.</span><span class="sxs-lookup"><span data-stu-id="b0235-186">For example, Figure 3 shows a scoring experiment that contains hello code tooevaluate a single Python expression.</span></span> 

![image4](./media/machine-learning-execute-python-scripts/figure3a.png)

![image5](./media/machine-learning-execute-python-scripts/python-script-with-python-pandas.png)

<span data-ttu-id="b0235-189">Afbeelding 3.</span><span class="sxs-lookup"><span data-stu-id="b0235-189">Figure 3.</span></span> <span data-ttu-id="b0235-190">Web-service voor het evalueren van een Python-expressie.</span><span class="sxs-lookup"><span data-stu-id="b0235-190">Web service for evaluating a Python expression.</span></span>

<span data-ttu-id="b0235-191">Een webservice die is gemaakt op basis van dit experiment:</span><span class="sxs-lookup"><span data-stu-id="b0235-191">A web service created from this experiment:</span></span>

- <span data-ttu-id="b0235-192">neemt als invoer een Python-expressie (als tekenreeks)</span><span class="sxs-lookup"><span data-stu-id="b0235-192">takes as input a Python expression (as a string)</span></span>
- <span data-ttu-id="b0235-193">verzendt het Python-interpreter toohello</span><span class="sxs-lookup"><span data-stu-id="b0235-193">sends it toohello Python interpreter</span></span> 
- <span data-ttu-id="b0235-194">retourneert een tabel die zowel Hallo expressie als resultaat Hallo geëvalueerd.</span><span class="sxs-lookup"><span data-stu-id="b0235-194">returns a table containing both hello expression and hello evaluated result.</span></span>


## <a name="importing-existing-python-script-modules"></a><span data-ttu-id="b0235-195">Bestaande Python scriptmodules importeren</span><span class="sxs-lookup"><span data-stu-id="b0235-195">Importing existing Python script modules</span></span>

<span data-ttu-id="b0235-196">Een algemene gebruiksvoorbeeld voor veel gegevenswetenschappers is tooincorporate bestaande Python-scripts in Azure ML-experimenten.</span><span class="sxs-lookup"><span data-stu-id="b0235-196">A common use-case for many data scientists is tooincorporate existing Python scripts into Azure ML experiments.</span></span> <span data-ttu-id="b0235-197">In plaats van het vereist dat alle code worden samengevoegd en in een vak één script worden geplakt, Hallo [Python Script uitvoeren] [ execute-python-script] module een zipbestand met Python-modules op de derde invoerpoort Hallo accepteert.</span><span class="sxs-lookup"><span data-stu-id="b0235-197">Instead of requiring that all code be concatenated and pasted into a single script box, hello [Execute Python Script][execute-python-script] module accepts a zip file that contains Python modules at hello third input port.</span></span> <span data-ttu-id="b0235-198">Hallo-bestand is uitgepakt door Hallo uitvoering framework tijdens runtime en Hallo inhoud toohello bibliotheekpad van Python-interpreter Hallo worden toegevoegd.</span><span class="sxs-lookup"><span data-stu-id="b0235-198">hello file is unzipped by hello execution framework at runtime and hello contents are added toohello library path of hello Python interpreter.</span></span> <span data-ttu-id="b0235-199">Hallo `azureml_main` toegangspunt dat deze modules kunt vervolgens rechtstreeks importeren door de functie.</span><span class="sxs-lookup"><span data-stu-id="b0235-199">hello `azureml_main` entry point function can then import these modules directly.</span></span>

<span data-ttu-id="b0235-200">Hallo-bestand met een eenvoudige "Hallo, wereld" functie Hello.py kunt u een voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="b0235-200">As an example, consider hello file Hello.py containing a simple “Hello, World” function.</span></span>

![image6](./media/machine-learning-execute-python-scripts/figure4.png)

<span data-ttu-id="b0235-202">Afbeelding 4.</span><span class="sxs-lookup"><span data-stu-id="b0235-202">Figure 4.</span></span> <span data-ttu-id="b0235-203">Gebruiker gedefinieerde functie in Hello.py-bestand.</span><span class="sxs-lookup"><span data-stu-id="b0235-203">User-defined function in Hello.py file.</span></span>

<span data-ttu-id="b0235-204">Vervolgens maken we een bestand Hello.zip Hello.py met:</span><span class="sxs-lookup"><span data-stu-id="b0235-204">Next, we create a file Hello.zip that contains Hello.py:</span></span>

![image7](./media/machine-learning-execute-python-scripts/figure5.png)

<span data-ttu-id="b0235-206">Afbeelding 5.</span><span class="sxs-lookup"><span data-stu-id="b0235-206">Figure 5.</span></span> <span data-ttu-id="b0235-207">ZIP-bestand met de gebruiker gedefinieerde Python-code.</span><span class="sxs-lookup"><span data-stu-id="b0235-207">Zip file containing user-defined Python code.</span></span>

<span data-ttu-id="b0235-208">Hallo zip-bestand uploaden als een gegevensset in Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="b0235-208">Upload hello zip file as a dataset into Azure Machine Learning Studio.</span></span> <span data-ttu-id="b0235-209">Vervolgens maken en uitvoeren van een experiment die gebruikmaakt van Hallo Python-code in Hallo Hello.zip bestand door het koppelen van toohello derde invoerpoort Hallo **Python Script uitvoeren** module, zoals weergegeven in deze afbeelding.</span><span class="sxs-lookup"><span data-stu-id="b0235-209">Then create and run an experiment that uses hello Python code in hello Hello.zip file by attaching it toohello third input port of hello **Execute Python Script** module, as shown in this figure.</span></span>

![image8](./media/machine-learning-execute-python-scripts/figure6a.png)

![image9](./media/machine-learning-execute-python-scripts/figure6b.png)

<span data-ttu-id="b0235-212">Afbeelding 6.</span><span class="sxs-lookup"><span data-stu-id="b0235-212">Figure 6.</span></span> <span data-ttu-id="b0235-213">Voorbeeldexperiment door gebruiker gedefinieerde Python code geüpload als een zip-bestand.</span><span class="sxs-lookup"><span data-stu-id="b0235-213">Sample experiment with user-defined Python code uploaded as a zip file.</span></span>

<span data-ttu-id="b0235-214">Hallo module uitvoer laat zien dat Hallo zip-bestand is uitgepakt en die functie Hallo `print_hello` is uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="b0235-214">hello module output shows that hello zip file has been unpackaged and that hello function `print_hello` has been run.</span></span>
<span data-ttu-id="b0235-215"> 
![image10](./media/machine-learning-execute-python-scripts/figure7.png)</span><span class="sxs-lookup"><span data-stu-id="b0235-215"> 
![image10](./media/machine-learning-execute-python-scripts/figure7.png)</span></span>

<span data-ttu-id="b0235-216">Afbeelding 7.</span><span class="sxs-lookup"><span data-stu-id="b0235-216">Figure 7.</span></span> <span data-ttu-id="b0235-217">Gebruiker gedefinieerde functie gebruikt in Hallo [Python Script uitvoeren] [ execute-python-script] module.</span><span class="sxs-lookup"><span data-stu-id="b0235-217">User-defined function in use inside hello [Execute Python Script][execute-python-script] module.</span></span>


## <a name="working-with-visualizations"></a><span data-ttu-id="b0235-218">Werken met visualisaties</span><span class="sxs-lookup"><span data-stu-id="b0235-218">Working with visualizations</span></span>

<span data-ttu-id="b0235-219">Waarnemingspunten gemaakt met behulp van MatplotLib die kan worden weergegeven in de browser Hallo kunnen worden geretourneerd door Hallo [Python Script uitvoeren][execute-python-script].</span><span class="sxs-lookup"><span data-stu-id="b0235-219">Plots created using MatplotLib that can be visualized on hello browser can be returned by hello [Execute Python Script][execute-python-script].</span></span> <span data-ttu-id="b0235-220">Maar Hallo waarnemingspunten zijn niet automatisch omgeleid tooimages omdat ze bij gebruik van R. Dus Hallo gebruikers moet expliciet een waarnemingspunten tooPNG bestanden opslaan als ze zijn geretourneerd toobe back tooAzure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="b0235-220">But hello plots are not automatically redirected tooimages as they are when using R. So hello user must explicitly save any plots tooPNG files if they are toobe returned back tooAzure Machine Learning.</span></span> 

<span data-ttu-id="b0235-221">toogenerate installatiekopieën van MatplotLib, moet u Hallo procedure te volgen:</span><span class="sxs-lookup"><span data-stu-id="b0235-221">toogenerate images from MatplotLib, you must complete hello following procedure:</span></span>

* <span data-ttu-id="b0235-222">Hallo back-end switch te "Door" van Hallo renderer Qt gebaseerde standaard</span><span class="sxs-lookup"><span data-stu-id="b0235-222">switch hello backend too“AGG” from hello default Qt-based renderer</span></span> 
* <span data-ttu-id="b0235-223">Maak een nieuw object van de afbeelding</span><span class="sxs-lookup"><span data-stu-id="b0235-223">create a new figure object</span></span> 
* <span data-ttu-id="b0235-224">Hallo as ophalen en het genereren van alle waarnemingspunten erin</span><span class="sxs-lookup"><span data-stu-id="b0235-224">get hello axis and generate all plots into it</span></span> 
* <span data-ttu-id="b0235-225">Hallo afbeelding tooa PNG-bestand opslaan</span><span class="sxs-lookup"><span data-stu-id="b0235-225">save hello figure tooa PNG file</span></span> 

<span data-ttu-id="b0235-226">Dit proces wordt weergegeven in afbeelding 8 die u maakt een spreidingsgrafiek tekent matrix met Hallo scatter_matrix functie in Pandas na Hallo.</span><span class="sxs-lookup"><span data-stu-id="b0235-226">This process is illustrated in hello following Figure 8 that creates a scatter plot matrix using hello scatter_matrix function in Pandas.</span></span>

![image1v](./media/machine-learning-execute-python-scripts/figure-v1-8.png)

<span data-ttu-id="b0235-228">Afbeelding 8.</span><span class="sxs-lookup"><span data-stu-id="b0235-228">Figure 8.</span></span> <span data-ttu-id="b0235-229">Code toosave die matplotlib tooimages cijfers.</span><span class="sxs-lookup"><span data-stu-id="b0235-229">Code toosave MatplotLib figures tooimages.</span></span>

<span data-ttu-id="b0235-230">Afbeelding 9 toont een experiment die eerder weergegeven tooreturn worden uitgezet via Tweede uitvoerpoort Hallo Hallo-script gebruikt.</span><span class="sxs-lookup"><span data-stu-id="b0235-230">Figure 9 shows an experiment that uses hello script shown previously tooreturn plots via hello second output port.</span></span>

![image2v](./media/machine-learning-execute-python-scripts/figure-v2-9a.png) 

![image2v](./media/machine-learning-execute-python-scripts/figure-v2-9b.png) 

<span data-ttu-id="b0235-233">Afbeelding 9.</span><span class="sxs-lookup"><span data-stu-id="b0235-233">Figure 9.</span></span> <span data-ttu-id="b0235-234">Visualiseren waarnemingspunten gegenereerd op basis van Python-code.</span><span class="sxs-lookup"><span data-stu-id="b0235-234">Visualizing plots generated from Python code.</span></span>

<span data-ttu-id="b0235-235">Mogelijke tooreturn meerdere cijfers wordt door deze in verschillende afbeeldingen, hello Azure Machine Learning runtime opgehaald alle installatiekopieën en ze voor visualisatie kan toevoegen.</span><span class="sxs-lookup"><span data-stu-id="b0235-235">It is possible tooreturn multiple figures by saving them into different images, hello Azure Machine Learning runtime picks up all images and concatenates them for visualization.</span></span>


## <a name="advanced-examples"></a><span data-ttu-id="b0235-236">Geavanceerde voorbeelden</span><span class="sxs-lookup"><span data-stu-id="b0235-236">Advanced examples</span></span>

<span data-ttu-id="b0235-237">Hallo Anaconda omgeving is geïnstalleerd in Azure Machine Learning bevat algemene pakketten zoals NumPy SciPy en Scikits meer.</span><span class="sxs-lookup"><span data-stu-id="b0235-237">hello Anaconda environment installed in Azure Machine Learning contains common packages such as NumPy, SciPy, and Scikits-Learn.</span></span> <span data-ttu-id="b0235-238">Deze pakketten kunnen effectief worden gebruikt voor verschillende gegevensverwerkingstaken in een machine learning-pijplijn.</span><span class="sxs-lookup"><span data-stu-id="b0235-238">These packages can be effectively used for various data processing tasks in a machine learning pipeline.</span></span> <span data-ttu-id="b0235-239">Als u bijvoorbeeld illustreren hello volgende experiment en script Hallo gebruik van ensemble overbrengen in Scikits meer toocompute functie belang scores voor een gegevensset.</span><span class="sxs-lookup"><span data-stu-id="b0235-239">As an example, hello following experiment and script illustrate hello use of ensemble learners in Scikits-Learn toocompute feature importance scores for a dataset.</span></span> <span data-ttu-id="b0235-240">Hallo scores mag gebruikte tooperform onder supervisie Functieselectie voordat een andere ML-model wordt ingevoerd.</span><span class="sxs-lookup"><span data-stu-id="b0235-240">hello scores can be used tooperform supervised feature selection before being fed into another ML model.</span></span>

<span data-ttu-id="b0235-241">Ga als volgt Hallo Python gebruikt de functie toocompute Hallo belang scores en functies op basis van Hallo scores Hallo:</span><span class="sxs-lookup"><span data-stu-id="b0235-241">Here is hello Python function used toocompute hello importance scores and order hello features based on hello scores:</span></span>

![image11](./media/machine-learning-execute-python-scripts/figure8.png)

<span data-ttu-id="b0235-243">Afbeelding 10.</span><span class="sxs-lookup"><span data-stu-id="b0235-243">Figure 10.</span></span> <span data-ttu-id="b0235-244">Functies van de functie toorank door scores.</span><span class="sxs-lookup"><span data-stu-id="b0235-244">Function toorank features by scores.</span></span>
<span data-ttu-id="b0235-245"> Hallo volgende experiment vervolgens wordt berekend en retourneert Hallo belang scores van functies in Hallo 'Pima Indische Diabetes' gegevensset in Azure Machine Learning:</span><span class="sxs-lookup"><span data-stu-id="b0235-245">  hello following experiment then computes and returns hello importance scores of features in hello “Pima Indian Diabetes” dataset in Azure Machine Learning:</span></span>

<span data-ttu-id="b0235-246">![image12](./media/machine-learning-execute-python-scripts/figure9a.png)
![image13](./media/machine-learning-execute-python-scripts/figure9b.png)</span><span class="sxs-lookup"><span data-stu-id="b0235-246">![image12](./media/machine-learning-execute-python-scripts/figure9a.png)
![image13](./media/machine-learning-execute-python-scripts/figure9b.png)</span></span>    

<span data-ttu-id="b0235-247">Afbeelding 11.</span><span class="sxs-lookup"><span data-stu-id="b0235-247">Figure 11.</span></span> <span data-ttu-id="b0235-248">Experiment toorank functies in Hallo Pima Indische Diabetes gegevensset.</span><span class="sxs-lookup"><span data-stu-id="b0235-248">Experiment toorank features in hello Pima Indian Diabetes dataset.</span></span>

## <a name="limitations"></a><span data-ttu-id="b0235-249">Beperkingen</span><span class="sxs-lookup"><span data-stu-id="b0235-249">Limitations</span></span>
<span data-ttu-id="b0235-250">Hallo [Python Script uitvoeren] [ execute-python-script] heeft momenteel Hallo volgende beperkingen:</span><span class="sxs-lookup"><span data-stu-id="b0235-250">hello [Execute Python Script][execute-python-script] currently has hello following limitations:</span></span>

1. <span data-ttu-id="b0235-251">*De uitvoering van de sandbox.*</span><span class="sxs-lookup"><span data-stu-id="b0235-251">*Sandboxed execution.*</span></span> <span data-ttu-id="b0235-252">Hallo Python-runtime is momenteel sandbox en, als gevolg hiervan kan geen toegang tot toohello netwerk of toohello lokaal bestandssysteem op een persistente manier.</span><span class="sxs-lookup"><span data-stu-id="b0235-252">hello Python runtime is currently sandboxed and, as a result, does not allow access toohello network or toohello local file system in a persistent manner.</span></span> <span data-ttu-id="b0235-253">Alle bestanden lokaal opgeslagen zijn geïsoleerd en wordt verwijderd zodra het Hallo-module is voltooid.</span><span class="sxs-lookup"><span data-stu-id="b0235-253">All files saved locally are isolated and deleted once hello module finishes.</span></span> <span data-ttu-id="b0235-254">Hallo Python-code heeft geen toegang tot de meeste mappen op Hallo-machine die op wordt uitgevoerd, Hallo uitzondering wordt Hallo huidige map en de bijbehorende submappen.</span><span class="sxs-lookup"><span data-stu-id="b0235-254">hello Python code cannot access most directories on hello machine it runs on, hello exception being hello current directory and its subdirectories.</span></span>
2. <span data-ttu-id="b0235-255">*Een gebrek aan geavanceerde ontwikkeling en foutopsporing van ondersteuning.*</span><span class="sxs-lookup"><span data-stu-id="b0235-255">*Lack of sophisticated development and debugging support.*</span></span> <span data-ttu-id="b0235-256">Hallo Python-module biedt op dit moment geen ondersteuning van IDE-functies zoals intellisense en foutopsporing.</span><span class="sxs-lookup"><span data-stu-id="b0235-256">hello Python module currently does not support IDE features such as intellisense and debugging.</span></span> <span data-ttu-id="b0235-257">Als Hallo-module is mislukt tijdens runtime, is hello volledige Python stack-trace ook beschikbaar.</span><span class="sxs-lookup"><span data-stu-id="b0235-257">Also, if hello module fails at runtime, hello full Python stack trace is available.</span></span> <span data-ttu-id="b0235-258">Maar deze moet worden weergegeven in het logboek voor de module Hallo Hallo.</span><span class="sxs-lookup"><span data-stu-id="b0235-258">But it must be viewed in hello output log for hello module.</span></span> <span data-ttu-id="b0235-259">Momenteel wordt aangeraden dat u ontwikkelen en fouten opsporen in Python-scripts in een omgeving zoals IPython en vervolgens Hallo code in Hallo-module importeren.</span><span class="sxs-lookup"><span data-stu-id="b0235-259">We currently recommend that you develop and debug Python scripts in an environment such as IPython and then import hello code into hello module.</span></span>
3. <span data-ttu-id="b0235-260">*Enkele gegevens frame uitvoer.*</span><span class="sxs-lookup"><span data-stu-id="b0235-260">*Single data frame output.*</span></span> <span data-ttu-id="b0235-261">Hallo Python-ingangspunt is alleen toegestaan tooreturn een één-frame als uitvoer.</span><span class="sxs-lookup"><span data-stu-id="b0235-261">hello Python entry point is only permitted tooreturn a single data frame as output.</span></span> <span data-ttu-id="b0235-262">Het is niet mogelijk tooreturn die willekeurige Python-objecten, zoals getraind modellen back rechtstreeks toohello Azure Machine Learning-runtime.</span><span class="sxs-lookup"><span data-stu-id="b0235-262">It is not currently possible tooreturn arbitrary Python objects such as trained models directly back toohello Azure Machine Learning runtime.</span></span> <span data-ttu-id="b0235-263">Zoals [R-Script uitvoeren][execute-r-script], die Hallo heeft dezelfde beperking, is het mogelijk in veel gevallen toopickle objecten in een byte matrix en ga daarna terug die binnen een gegevensframe.</span><span class="sxs-lookup"><span data-stu-id="b0235-263">Like [Execute R Script][execute-r-script], which has hello same limitation, it is possible in many cases toopickle objects into a byte array and then return that inside of a data frame.</span></span>
4. <span data-ttu-id="b0235-264">*Onvermogen toocustomize Python installatie*.</span><span class="sxs-lookup"><span data-stu-id="b0235-264">*Inability toocustomize Python installation*.</span></span> <span data-ttu-id="b0235-265">Hallo alleen manier tooadd aangepaste Python-modules is momenteel via Hallo zip-bestand mechanisme die eerder zijn beschreven.</span><span class="sxs-lookup"><span data-stu-id="b0235-265">Currently, hello only way tooadd custom Python modules is via hello zip file mechanism described earlier.</span></span> <span data-ttu-id="b0235-266">Dit is geschikt voor kleine modules, is het lastig voor grote modules (met name die met native DLLs) of een groot aantal modules.</span><span class="sxs-lookup"><span data-stu-id="b0235-266">While this is feasible for small modules, it is cumbersome for large modules (especially those with native DLLs) or a large number of modules.</span></span> 

## <a name="conclusions"></a><span data-ttu-id="b0235-267">Conclusie trekt</span><span class="sxs-lookup"><span data-stu-id="b0235-267">Conclusions</span></span>
<span data-ttu-id="b0235-268">Hallo [Python Script uitvoeren] [ execute-python-script] module biedt een wetenschappelijk gegevens tooincorporate bestaande Python-code in de cloud gehoste machine learning werkstromen in Azure Machine Learning en tooseamlessly operationeel maken als onderdeel van een webservice.</span><span class="sxs-lookup"><span data-stu-id="b0235-268">hello [Execute Python Script][execute-python-script] module allows a data scientist tooincorporate existing Python code into cloud-hosted machine learning workflows in Azure Machine Learning and tooseamlessly operationalize them as part of a web service.</span></span> <span data-ttu-id="b0235-269">Hallo Python scriptmodule werkt natuurlijk samen met andere modules in Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="b0235-269">hello Python script module interoperates naturally with other modules in Azure Machine Learning.</span></span> <span data-ttu-id="b0235-270">Hallo-module kan worden gebruikt voor een bereik van taken van exploratie toopre verwerking van gegevens en het ophalen van de functies en vervolgens tooevaluation en naverwerking van Hallo resultaten.</span><span class="sxs-lookup"><span data-stu-id="b0235-270">hello module can be used for a range of tasks from data exploration toopre-processing and feature extraction, and then tooevaluation and post-processing of hello results.</span></span> <span data-ttu-id="b0235-271">Hallo back-end runtime gebruikt voor de uitvoering is gebaseerd op Anaconda, een uitgebreid geteste en gebruikte Python-distributie.</span><span class="sxs-lookup"><span data-stu-id="b0235-271">hello backend runtime used for execution is based on Anaconda, a well-tested and widely used Python distribution.</span></span> <span data-ttu-id="b0235-272">Deze back-end kunt u eenvoudig u tooon mededelingenbord bestaande code-elementen in de cloud Hallo.</span><span class="sxs-lookup"><span data-stu-id="b0235-272">This backend makes it simple for you tooon-board existing code assets into hello cloud.</span></span>

<span data-ttu-id="b0235-273">We verwachten tooprovide aanvullende functionaliteit toohello [Python Script uitvoeren] [ execute-python-script] module, zoals Hallo mogelijkheid tootrain en modellen in Python operationeel en tooadd betere ondersteuning voor Hallo ontwikkeling en foutopsporing in Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="b0235-273">We expect tooprovide additional functionality toohello [Execute Python Script][execute-python-script] module such as hello ability tootrain and operationalize models in Python and tooadd better support for hello development and debugging code in Azure Machine Learning Studio.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b0235-274">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="b0235-274">Next steps</span></span>
<span data-ttu-id="b0235-275">Zie voor meer informatie, Hallo [Python Developer Center](https://azure.microsoft.com/develop/python/).</span><span class="sxs-lookup"><span data-stu-id="b0235-275">For more information, see hello [Python Developer Center](https://azure.microsoft.com/develop/python/).</span></span>

<!-- Module References -->
[execute-python-script]: https://msdn.microsoft.com/library/azure/cdb56f95-7f4c-404d-bde7-5bb972e6f232/
[execute-r-script]: https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/
