---
title: aaaCommon oorzaken van Cloud Service-rollen recyclen | Microsoft Docs
description: De functie van een cloud-service die plotseling wordt gerecycled kan leiden tot aanzienlijke downtime. Hier volgen enkele veelvoorkomende problemen die ertoe leiden rollen-toobe gerecycled dat, waarmee u de uitvaltijd beperken.
services: cloud-services
documentationcenter: 
author: simonxjx
manager: felixwu
editor: 
tags: top-support-issue
ms.assetid: 533930d1-8035-4402-b16a-cf887b2c4f85
ms.service: cloud-services
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 7/26/2017
ms.author: v-six
ms.openlocfilehash: 8fa152b33d2b22a8a02f834d4bc38519b4272f7b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="common-issues-that-cause-roles-toorecycle"></a><span data-ttu-id="53880-104">Veelvoorkomende problemen die leiden rollen toorecycle tot</span><span class="sxs-lookup"><span data-stu-id="53880-104">Common issues that cause roles toorecycle</span></span>
<span data-ttu-id="53880-105">In dit artikel worden enkele algemene oorzaken van problemen met implementatie Hallo besproken en vindt u toohelp probleemoplossing tips u deze problemen oplossen.</span><span class="sxs-lookup"><span data-stu-id="53880-105">This article discusses some of hello common causes of deployment problems and provides troubleshooting tips toohelp you resolve these problems.</span></span> <span data-ttu-id="53880-106">Geeft aan dat er een probleem met een toepassing is is wanneer Hallo rolinstantie toostart mislukt of het replicatiecycli tussen Hallo initialiseren bezet en stoppen statussen.</span><span class="sxs-lookup"><span data-stu-id="53880-106">An indication that a problem exists with an application is when hello role instance fails toostart, or it cycles between hello initializing, busy, and stopping states.</span></span>

[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

## <a name="missing-runtime-dependencies"></a><span data-ttu-id="53880-107">Ontbrekende runtime-afhankelijkheden</span><span class="sxs-lookup"><span data-stu-id="53880-107">Missing runtime dependencies</span></span>
<span data-ttu-id="53880-108">Als een rol in uw toepassing afhankelijk is van de assembly's die geen deel uitmaakt van Hallo .NET Framework of hello Azure beheerde bibliotheek, moet u expliciet die assembly in het toepassingspakket Hallo opnemen.</span><span class="sxs-lookup"><span data-stu-id="53880-108">If a role in your application relies on any assembly that is not part of hello .NET Framework or hello Azure managed library, you must explicitly include that assembly in hello application package.</span></span> <span data-ttu-id="53880-109">Houd er rekening mee dat andere Microsoft-frameworks niet standaard beschikbaar in Azure.</span><span class="sxs-lookup"><span data-stu-id="53880-109">Keep in mind that other Microsoft frameworks are not available on Azure by default.</span></span> <span data-ttu-id="53880-110">Als uw rol is afhankelijk van een dergelijke framework, moet u deze assembly's toohello application-pakket toevoegen.</span><span class="sxs-lookup"><span data-stu-id="53880-110">If your role relies on such a framework, you must add those assemblies toohello application package.</span></span>

<span data-ttu-id="53880-111">Controleer voordat u bouwen en de toepassing van het pakket, Hallo volgende:</span><span class="sxs-lookup"><span data-stu-id="53880-111">Before you build and package your application, verify hello following:</span></span>

* <span data-ttu-id="53880-112">Als Visual studio gebruikt, moet u ervoor dat Hallo **lokale kopie** eigenschap is ingesteld, te**True** voor elke assembly in uw project die geen deel uitmaakt van hello Azure SDK verwezen of Hallo van .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="53880-112">If using Visual studio, make sure hello **Copy Local** property is set too**True** for each referenced assembly in your project that is not part of hello Azure SDK or hello .NET Framework.</span></span>
* <span data-ttu-id="53880-113">Zorg ervoor dat Hallo web.config-bestand verwijst niet naar alle ongebruikte-assembly's in Hallo compilatie-element.</span><span class="sxs-lookup"><span data-stu-id="53880-113">Make sure hello web.config file does not reference any unused assemblies in hello compilation element.</span></span>
* <span data-ttu-id="53880-114">Hallo **Build Action** van elke .cshtml bestand te ingesteld**inhoud**.</span><span class="sxs-lookup"><span data-stu-id="53880-114">hello **Build Action** of every .cshtml file is set too**Content**.</span></span> <span data-ttu-id="53880-115">Dit zorgt ervoor dat Hallo bestanden juist wordt weergegeven in het Hallo-pakket en andere tooappear bestanden waarnaar wordt verwezen in Hallo pakket kunt.</span><span class="sxs-lookup"><span data-stu-id="53880-115">This ensures that hello files will appear correctly in hello package and enables other referenced files tooappear in hello package.</span></span>

## <a name="assembly-targets-wrong-platform"></a><span data-ttu-id="53880-116">Assembly doelen onjuist platform</span><span class="sxs-lookup"><span data-stu-id="53880-116">Assembly targets wrong platform</span></span>
<span data-ttu-id="53880-117">Azure is een 64-bits-omgeving.</span><span class="sxs-lookup"><span data-stu-id="53880-117">Azure is a 64-bit environment.</span></span> <span data-ttu-id="53880-118">.NET-assembly's die voor een 32-bits-doel is gecompileerd werkt daarom niet op Azure.</span><span class="sxs-lookup"><span data-stu-id="53880-118">Therefore, .NET assemblies compiled for a 32-bit target won't work on Azure.</span></span>

## <a name="role-throws-unhandled-exceptions-while-initializing-or-stopping"></a><span data-ttu-id="53880-119">Rol van niet-verwerkte uitzonderingen genereert tijdens het initialiseren van of stoppen</span><span class="sxs-lookup"><span data-stu-id="53880-119">Role throws unhandled exceptions while initializing or stopping</span></span>
<span data-ttu-id="53880-120">Eventuele uitzonderingen die worden veroorzaakt door methoden Hallo Hallo [RoleEntryPoint] klasse, waaronder Hallo [OnStart], [OnStop], en [uitvoeren]methoden, zijn niet-verwerkte uitzonderingen.</span><span class="sxs-lookup"><span data-stu-id="53880-120">Any exceptions that are thrown by hello methods of hello [RoleEntryPoint] class, which includes hello [OnStart], [OnStop], and [Run] methods, are unhandled exceptions.</span></span> <span data-ttu-id="53880-121">Als een niet-verwerkte uitzondering in een van deze methoden optreedt, wordt Hallo-rol gerecycled.</span><span class="sxs-lookup"><span data-stu-id="53880-121">If an unhandled exception occurs in one of these methods, hello role will recycle.</span></span> <span data-ttu-id="53880-122">Als het Hallo-rol is herhaaldelijk recyclen, er het mogelijk een onverwerkte uitzondering telkens wanneer die wordt geprobeerd toostart.</span><span class="sxs-lookup"><span data-stu-id="53880-122">If hello role is recycling repeatedly, it may be throwing an unhandled exception each time it tries toostart.</span></span>

## <a name="role-returns-from-run-method"></a><span data-ttu-id="53880-123">Rol wordt geactiveerd vanuit Run-methode</span><span class="sxs-lookup"><span data-stu-id="53880-123">Role returns from Run method</span></span>
<span data-ttu-id="53880-124">Hallo [uitvoeren] methode is bedoeld toorun voor onbepaalde tijd.</span><span class="sxs-lookup"><span data-stu-id="53880-124">hello [Run] method is intended toorun indefinitely.</span></span> <span data-ttu-id="53880-125">Als uw code Hallo overschrijft [uitvoeren] methode, dat deze moet slapen voor onbepaalde tijd.</span><span class="sxs-lookup"><span data-stu-id="53880-125">If your code overrides hello [Run] method, it should sleep indefinitely.</span></span> <span data-ttu-id="53880-126">Als hello [uitvoeren] methode retourneert Hallo-rol wordt gerecycled.</span><span class="sxs-lookup"><span data-stu-id="53880-126">If hello [Run] method returns, hello role recycles.</span></span>

## <a name="incorrect-diagnosticsconnectionstring-setting"></a><span data-ttu-id="53880-127">Onjuiste DiagnosticsConnectionString-instelling</span><span class="sxs-lookup"><span data-stu-id="53880-127">Incorrect DiagnosticsConnectionString setting</span></span>
<span data-ttu-id="53880-128">Als de toepassing gebruikmaakt van Azure Diagnostics, uw serviceconfiguratiebestand Hallo moet opgeven `DiagnosticsConnectionString` configuratie-instelling.</span><span class="sxs-lookup"><span data-stu-id="53880-128">If application uses Azure Diagnostics, your service configuration file must specify hello `DiagnosticsConnectionString` configuration setting.</span></span> <span data-ttu-id="53880-129">Deze instelling moet een HTTPS-verbinding tooyour storage-account in Azure opgeven.</span><span class="sxs-lookup"><span data-stu-id="53880-129">This setting should specify an HTTPS connection tooyour storage account in Azure.</span></span>

<span data-ttu-id="53880-130">tooensure die uw `DiagnosticsConnectionString` instelling juist is voordat u uw toepassing pakket tooAzure implementeert, controleert u of de volgende Hallo:</span><span class="sxs-lookup"><span data-stu-id="53880-130">tooensure that your `DiagnosticsConnectionString` setting is correct before you deploy your application package tooAzure, verify hello following:</span></span>  

* <span data-ttu-id="53880-131">Hallo `DiagnosticsConnectionString` punten tooa geldig storage-account instellen in Azure.</span><span class="sxs-lookup"><span data-stu-id="53880-131">hello `DiagnosticsConnectionString` setting points tooa valid storage account in Azure.</span></span>  
  <span data-ttu-id="53880-132">Deze instelling wijst standaard toohello geëmuleerde storage-account, dus u deze instelling expliciet wijzigen moet voordat u uw toepassingspakket implementeren.</span><span class="sxs-lookup"><span data-stu-id="53880-132">By default, this setting points toohello emulated storage account, so you must explicitly change this setting before you deploy your application package.</span></span> <span data-ttu-id="53880-133">Als u deze instelling niet wijzigt, wordt een uitzondering gegenereerd wanneer de rolinstantie hello toostart Hallo diagnostische monitor probeert.</span><span class="sxs-lookup"><span data-stu-id="53880-133">If you do not change this setting, an exception is thrown when hello role instance attempts toostart hello diagnostic monitor.</span></span> <span data-ttu-id="53880-134">Hierdoor kunnen Hallo rol exemplaar toorecycle voor onbepaalde tijd.</span><span class="sxs-lookup"><span data-stu-id="53880-134">This may cause hello role instance toorecycle indefinitely.</span></span>
* <span data-ttu-id="53880-135">Hallo verbindingstekenreeks is opgegeven in de volgende Hallo [indeling](../storage/common/storage-configure-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="53880-135">hello connection string is specified in hello following [format](../storage/common/storage-configure-connection-string.md).</span></span> <span data-ttu-id="53880-136">(Hallo protocol moet worden opgegeven als HTTPS). Vervang *MyAccountName* met Hallo-naam van uw opslagaccount en *MyAccountKey* door uw toegangssleutel:</span><span class="sxs-lookup"><span data-stu-id="53880-136">(hello protocol must be specified as HTTPS.) Replace *MyAccountName* with hello name of your storage account, and *MyAccountKey* with your access key:</span></span>    

        DefaultEndpointsProtocol=https;AccountName=MyAccountName;AccountKey=MyAccountKey

  <span data-ttu-id="53880-137">Als u uw toepassing ontwikkelt met behulp van Azure-hulpprogramma's voor Microsoft Visual Studio, kunt u Hallo eigenschap pagina's tooset deze waarde gebruiken.</span><span class="sxs-lookup"><span data-stu-id="53880-137">If you are developing your application by using Azure Tools for Microsoft Visual Studio, you can use hello property pages tooset this value.</span></span>

## <a name="exported-certificate-does-not-include-private-key"></a><span data-ttu-id="53880-138">Geëxporteerde certificaat bevat geen persoonlijke sleutel</span><span class="sxs-lookup"><span data-stu-id="53880-138">Exported certificate does not include private key</span></span>
<span data-ttu-id="53880-139">toorun een Webrol onder SSL, moet u ervoor zorgen dat uw geëxporteerde beheercertificaat Hallo persoonlijke sleutel bevat.</span><span class="sxs-lookup"><span data-stu-id="53880-139">toorun a web role under SSL, you must ensure that your exported management certificate includes hello private key.</span></span> <span data-ttu-id="53880-140">Als u Hallo *Windows Certificate Manager* tooexport Hallo certificaat ervoor tooselect worden **Ja** voor Hallo **Export Hallo persoonlijke sleutel** optie.</span><span class="sxs-lookup"><span data-stu-id="53880-140">If you use hello *Windows Certificate Manager* tooexport hello certificate, be sure tooselect **Yes** for hello **Export hello private key** option.</span></span> <span data-ttu-id="53880-141">Hallo-certificaat moet worden geëxporteerd in Hallo PFX-indeling, dit de enige indeling Hallo momenteel niet ondersteund is.</span><span class="sxs-lookup"><span data-stu-id="53880-141">hello certificate must be exported in hello PFX format, which is hello only format currently supported.</span></span>

## <a name="next-steps"></a><span data-ttu-id="53880-142">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="53880-142">Next steps</span></span>
<span data-ttu-id="53880-143">Meer [probleemoplossing artikelen](https://azure.microsoft.com/documentation/articles/?tag=top-support-issue&product=cloud-services) voor cloudservices.</span><span class="sxs-lookup"><span data-stu-id="53880-143">View more [troubleshooting articles](https://azure.microsoft.com/documentation/articles/?tag=top-support-issue&product=cloud-services) for cloud services.</span></span>

<span data-ttu-id="53880-144">Bekijk meer rollen recyclen van scenario's op [blogreeks van Kevin Williamson](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span><span class="sxs-lookup"><span data-stu-id="53880-144">View more role recycling scenarios at [Kevin Williamson's blog series](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span></span>

[RoleEntryPoint]: https://msdn.microsoft.com/library/microsoft.windowsazure.serviceruntime.roleentrypoint.aspx
[OnStart]: https://msdn.microsoft.com/library/microsoft.windowsazure.serviceruntime.roleentrypoint.onstart.aspx
[OnStop]: https://msdn.microsoft.com/library/microsoft.windowsazure.serviceruntime.roleentrypoint.onstop.aspx
[uitvoeren]: https://msdn.microsoft.com/library/microsoft.windowsazure.serviceruntime.roleentrypoint.run.aspx
