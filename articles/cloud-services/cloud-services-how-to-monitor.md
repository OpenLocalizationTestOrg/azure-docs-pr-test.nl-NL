---
title: Het bewaken van een service in de cloud | Microsoft Docs
description: Informatie over het bewaken van cloud-services met behulp van de klassieke Azure portal.
services: cloud-services
documentationcenter: 
author: thraka
manager: timlt
editor: 
ms.assetid: 5c48d2fb-b8ea-420f-80df-7aebe2b66b1b
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 12/07/2015
ms.author: adegeo
ms.openlocfilehash: c369b22cf068a473343b006eb1b06fdd350d31db
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/29/2017
---
# <a name="how-to-monitor-cloud-services"></a><span data-ttu-id="8b9dd-103">Cloud Services bewaken</span><span class="sxs-lookup"><span data-stu-id="8b9dd-103">How to Monitor Cloud Services</span></span>
[!INCLUDE [disclaimer](../../includes/disclaimer.md)]

<span data-ttu-id="8b9dd-104">U kunt bewaken `key` maatstaven voor prestaties voor uw cloudservices in de klassieke Azure portal.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-104">You can monitor `key` performance metrics for your cloud services in the Azure classic portal.</span></span> <span data-ttu-id="8b9dd-105">U kunt het niveau van bewaking aan de minimale en uitgebreide voor elke rol service instellen en de bewaking wordt weergegeven kunt aanpassen.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-105">You can set the level of monitoring to minimal and verbose for each service role, and can customize the monitoring displays.</span></span> <span data-ttu-id="8b9dd-106">Uitgebreide controle gegevens worden opgeslagen in een opslagaccount dat u toegang hebt tot buiten de portal.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-106">Verbose monitoring data is stored in a storage account, which you can access outside the portal.</span></span> 

<span data-ttu-id="8b9dd-107">Controle worden weergegeven in de klassieke Azure portal zijn configureerbaar.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-107">Monitoring displays in the Azure classic portal are highly configurable.</span></span> <span data-ttu-id="8b9dd-108">U kunt de metrische gegevens die u bewaken in de lijst met metrische gegevens wilt op de **Monitor** , en u kunt kiezen welke metrische gegevens moeten worden getekend in metrics grafieken op de **Monitor** pagina en het dashboard.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-108">You can choose the metrics you want to monitor in the metrics list on the **Monitor** page, and you can choose which metrics to plot in metrics charts on the **Monitor** page and the dashboard.</span></span> 

## <a name="concepts"></a><span data-ttu-id="8b9dd-109">Concepten</span><span class="sxs-lookup"><span data-stu-id="8b9dd-109">Concepts</span></span>
<span data-ttu-id="8b9dd-110">Standaard is minimale bewaking opgegeven voor een nieuwe cloudservice met behulp van prestatiemeteritems die afkomstig zijn van het besturingssysteem van de host voor de functies exemplaren (virtuele machines).</span><span class="sxs-lookup"><span data-stu-id="8b9dd-110">By default, minimal monitoring is provided for a new cloud service using performance counters gathered from the host operating system for the roles instances (virtual machines).</span></span> <span data-ttu-id="8b9dd-111">De minimale metrische gegevens zijn beperkt tot de CPU-Percentage, Data, gegevensuitvoer, doorvoercapaciteit van de schijf lezen en schrijven doorvoercapaciteit van de schijf.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-111">The minimal metrics are limited to CPU Percentage, Data In, Data Out, Disk Read Throughput, and Disk Write Throughput.</span></span> <span data-ttu-id="8b9dd-112">Uitgebreide bewaking configureert, kunt u aanvullende gegevens op basis van prestatiegegevens binnen de virtuele machines (rolexemplaren) ontvangen.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-112">By configuring verbose monitoring, you can receive additional metrics based on performance data within the virtual machines (role instances).</span></span> <span data-ttu-id="8b9dd-113">De uitgebreide metrische gegevens inschakelen dichter analyse van problemen die tijdens de bewerkingen van de toepassing optreden.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-113">The verbose metrics enable closer analysis of issues that occur during application operations.</span></span>

<span data-ttu-id="8b9dd-114">Standaard wordt prestatiemeteritemgegevens van rolinstanties door actieve en overgebracht van de rolinstantie om de 3 minuten.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-114">By default performance counter data from role instances is sampled and transferred from the role instance at 3-minute intervals.</span></span> <span data-ttu-id="8b9dd-115">Wanneer u uitgebreide bewaking inschakelt, wordt de onbewerkte gegevens van prestatiemeteritems voor elk rolexemplaar en over rolexemplaren voor elke rol geaggregeerd met een interval van 5 minuten, 1 uur en 12 uur.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-115">When you enable verbose monitoring, the raw performance counter data is aggregated for each role instance and across role instances for each role at intervals of 5 minutes, 1 hour, and 12 hours.</span></span> <span data-ttu-id="8b9dd-116">De verzamelde gegevens worden verwijderd na 10 dagen.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-116">The aggregated data is purged after 10 days.</span></span>

<span data-ttu-id="8b9dd-117">Nadat u uitgebreide bewaking ingeschakeld, wordt de geaggregeerde bewakingsgegevens opgeslagen in de tabellen in uw opslagaccount.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-117">After you enable verbose monitoring, the aggregated monitoring data is stored in tables in your storage account.</span></span> <span data-ttu-id="8b9dd-118">Als u wilt inschakelen voor uitgebreide bewaking voor een rol, moet u een verbindingsreeks diagnostische gegevens die is gekoppeld aan het storage-account configureren.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-118">To enable verbose monitoring for a role, you must configure a diagnostics connection string that links to the storage account.</span></span> <span data-ttu-id="8b9dd-119">U kunt verschillende storage-accounts gebruiken voor andere rollen.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-119">You can use different storage accounts for different roles.</span></span>

<span data-ttu-id="8b9dd-120">Inschakelen van uitgebreide bewaking toeneemt gerelateerde uw opslagkosten voor opslag van gegevens, gegevensoverdracht en opslag transacties.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-120">Enabling verbose monitoring increases your storage costs related to data storage, data transfer, and storage transactions.</span></span> <span data-ttu-id="8b9dd-121">Minimale bewaking is niet vereist voor een opslagaccount.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-121">Minimal monitoring does not require a storage account.</span></span> <span data-ttu-id="8b9dd-122">De gegevens voor de metrische gegevens die worden weergegeven op het niveau van de minimale controle worden niet opgeslagen in uw opslagaccount, zelfs als u de bewaking niveau op uitgebreide instellen.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-122">The data for the metrics that are exposed at the minimal monitoring level are not stored in your storage account, even if you set the monitoring level to verbose.</span></span>

## <a name="how-to-configure-monitoring-for-cloud-services"></a><span data-ttu-id="8b9dd-123">Procedure: het bewaken configureren voor cloud-services</span><span class="sxs-lookup"><span data-stu-id="8b9dd-123">How to: Configure monitoring for cloud services</span></span>
<span data-ttu-id="8b9dd-124">Gebruik de volgende procedures voor het configureren van uitgebreide of minimale bewaken in de klassieke Azure portal.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-124">Use the following procedures to configure verbose or minimal monitoring in the Azure classic portal.</span></span> 

### <a name="before-you-begin"></a><span data-ttu-id="8b9dd-125">Voordat u begint</span><span class="sxs-lookup"><span data-stu-id="8b9dd-125">Before you begin</span></span>
* <span data-ttu-id="8b9dd-126">Maak een *klassieke* storage-account voor het opslaan van de bewakingsgegevens.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-126">Create a *classic* storage account to store the monitoring data.</span></span> <span data-ttu-id="8b9dd-127">U kunt verschillende storage-accounts gebruiken voor andere rollen.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-127">You can use different storage accounts for different roles.</span></span> <span data-ttu-id="8b9dd-128">Zie voor meer informatie [het maken van een opslagaccount](../storage/common/storage-create-storage-account.md#create-a-storage-account).</span><span class="sxs-lookup"><span data-stu-id="8b9dd-128">For more information, see [How to create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account).</span></span>
* <span data-ttu-id="8b9dd-129">Schakel diagnostische Azure-gegevens voor rollen van uw cloudservice.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-129">Enable Azure Diagnostics for your cloud service roles.</span></span> <span data-ttu-id="8b9dd-130">Zie [diagnostische gegevens configureren voor Cloudservices](cloud-services-dotnet-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="8b9dd-130">See [Configuring Diagnostics for Cloud Services](cloud-services-dotnet-diagnostics.md).</span></span>

<span data-ttu-id="8b9dd-131">Zorg ervoor dat de verbindingsreeks van diagnostische gegevens aanwezig in de configuratie van de functie is.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-131">Ensure that the diagnostics connection string is present in the Role configuration.</span></span> <span data-ttu-id="8b9dd-132">U inschakelen uitgebreide bewaking totdat u Azure diagnostische gegevens inschakelen en een verbindingsreeks diagnostische gegevens in de configuratie van de functie opnemen niet.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-132">You cannot turn on verbose monitoring until you enable Azure Diagnostics and include a diagnostics connection string in the Role configuration.</span></span>   

> [!NOTE]
> <span data-ttu-id="8b9dd-133">Projecten die gericht is op Azure SDK 2.5 heeft de verbindingsreeks van diagnostische gegevens niet automatisch opgenomen in de projectsjabloon.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-133">Projects targeting Azure SDK 2.5 did not automatically include the diagnostics connection string in the project template.</span></span> <span data-ttu-id="8b9dd-134">Voor deze projecten moet u de verbindingsreeks van diagnostische gegevens handmatig toevoegen aan de configuratie van de functie.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-134">For these projects, you need to manually add the diagnostics connection string to the Role configuration.</span></span>
> 
> 

<span data-ttu-id="8b9dd-135">**Verbindingsreeks diagnostische gegevens handmatig toevoegen aan rollen configureren**</span><span class="sxs-lookup"><span data-stu-id="8b9dd-135">**To manually add diagnostics connection string to Role configuration**</span></span>

1. <span data-ttu-id="8b9dd-136">Open het Cloudservice-project in Visual Studio</span><span class="sxs-lookup"><span data-stu-id="8b9dd-136">Open the Cloud Service project in Visual Studio</span></span>
2. <span data-ttu-id="8b9dd-137">Dubbelklik op de **rol** openen van de rol ontwerpen en selecteer de **instellingen** tabblad</span><span class="sxs-lookup"><span data-stu-id="8b9dd-137">Double-click on the **Role** to open the Role designer and select the **Settings** tab</span></span>
3. <span data-ttu-id="8b9dd-138">Zoek naar een instelling met de naam **Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString**.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-138">Look for a setting named **Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString**.</span></span> 
4. <span data-ttu-id="8b9dd-139">Als deze instelling niet aanwezig is is, klikt u op de **instelling toevoegen** knop toe te voegen aan de configuratie en het wijzigen van het type voor de nieuwe instellingen worden **ConnectionString**</span><span class="sxs-lookup"><span data-stu-id="8b9dd-139">If this setting is not present, click on the **Add Setting** button to add it to the configuration and change the type for the new setting to **ConnectionString**</span></span>
5. <span data-ttu-id="8b9dd-140">Stel de waarde voor de verbindingsreeks de door te klikken op de **...**  knop.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-140">Set the value for connection string the by clicking on the **...** button.</span></span> <span data-ttu-id="8b9dd-141">Hiermee opent u een dialoogvenster weergegeven zodat u een opslagaccount selecteren.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-141">This will open up a dialog allowing you to select a storage account.</span></span>
   
    ![Visual Studio-instellingen](./media/cloud-services-how-to-monitor/CloudServices_Monitor_VisualStudioDiagnosticsConnectionString.png)

### <a name="to-change-the-monitoring-level-to-verbose-or-minimal"></a><span data-ttu-id="8b9dd-143">Wijzigen van het niveau van de bewaking in uitgebreide of minimale</span><span class="sxs-lookup"><span data-stu-id="8b9dd-143">To change the monitoring level to verbose or minimal</span></span>
1. <span data-ttu-id="8b9dd-144">In de [klassieke Azure-portal](https://manage.windowsazure.com/), open de **configureren** pagina voor de cloud service-implementatie.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-144">In the [Azure classic portal](https://manage.windowsazure.com/), open the **Configure** page for the cloud service deployment.</span></span>
2. <span data-ttu-id="8b9dd-145">In **niveau**, klikt u op **uitgebreid** of **minimale**.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-145">In **Level**, click **Verbose** or **Minimal**.</span></span> 
3. <span data-ttu-id="8b9dd-146">Klik op **Opslaan**.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-146">Click **Save**.</span></span>

<span data-ttu-id="8b9dd-147">Nadat u ingeschakeld verbose bewaking, moet u eerst de bewakingsgegevens in de klassieke Azure portal ziet binnen het uur.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-147">After you turn on verbose monitoring, you should start seeing the monitoring data in the Azure classic portal within the hour.</span></span>

<span data-ttu-id="8b9dd-148">De onbewerkte gegevens van prestatiemeteritems en geaggregeerde bewakingsgegevens worden opgeslagen in het opslagaccount in tabellen gekwalificeerd door de implementatie-ID voor de rollen.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-148">The raw performance counter data and aggregated monitoring data are stored in the storage account in tables qualified by the deployment ID for the roles.</span></span> 

## <a name="how-to-receive-alerts-for-cloud-service-metrics"></a><span data-ttu-id="8b9dd-149">Procedure: waarschuwingen voor cloud service metrische gegevens ontvangen</span><span class="sxs-lookup"><span data-stu-id="8b9dd-149">How to: Receive alerts for cloud service metrics</span></span>
<span data-ttu-id="8b9dd-150">U kunt waarschuwingen op basis van de cloudservice bewaken metrische gegevens kunt ontvangen.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-150">You can receive alerts based on your cloud service monitoring metrics.</span></span> <span data-ttu-id="8b9dd-151">Op de **beheerservices** pagina van de klassieke Azure portal, kunt u een regel voor het activeren van een waarschuwing wanneer de metrische gegevens die u kiest een waarde die u opgeeft bereikt.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-151">On the **Management Services** page of the Azure classic portal, you can create a rule to trigger an alert when the metric you choose reaches a value that you specify.</span></span> <span data-ttu-id="8b9dd-152">U kunt ook e-mailbericht verzonden wanneer de waarschuwing wordt geactiveerd.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-152">You can also choose to have email sent when the alert is triggered.</span></span> <span data-ttu-id="8b9dd-153">Zie voor meer informatie [hoe: waarschuwingsmeldingen ontvangen en regels voor waarschuwingen beheren in Azure](http://go.microsoft.com/fwlink/?LinkId=309356).</span><span class="sxs-lookup"><span data-stu-id="8b9dd-153">For more information, see [How to: Receive Alert Notifications and Manage Alert Rules in Azure](http://go.microsoft.com/fwlink/?LinkId=309356).</span></span>

## <a name="how-to-add-metrics-to-the-metrics-table"></a><span data-ttu-id="8b9dd-154">Hoe: metrische gegevens toevoegen aan de tabel metrische gegevens</span><span class="sxs-lookup"><span data-stu-id="8b9dd-154">How to: Add metrics to the metrics table</span></span>
1. <span data-ttu-id="8b9dd-155">In de [klassieke Azure-portal](http://manage.windowsazure.com/), open de **Monitor** pagina voor de cloudservice.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-155">In the [Azure classic portal](http://manage.windowsazure.com/), open the **Monitor** page for the cloud service.</span></span>
   
    <span data-ttu-id="8b9dd-156">Standaard worden in de tabel metrische gegevens een subset van de beschikbare metrische gegevens bevat.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-156">By default, the metrics table displays a subset of the available metrics.</span></span> <span data-ttu-id="8b9dd-157">De afbeelding ziet u de standaard uitgebreide metrische gegevens voor een cloudservice, die beperkt tot het prestatiemeteritem Geheugen\Beschikbare megabytes (MB) met gegevens geaggregeerd op het rolniveau van de is.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-157">The illustration shows the default verbose metrics for a cloud service, which is limited to the Memory\Available MBytes performance counter, with data aggregated at the role level.</span></span> <span data-ttu-id="8b9dd-158">Gebruik **toevoegen metrische gegevens** aanvullende statistische en quotumwaarde op gegevens controleren in de klassieke Azure portal te selecteren.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-158">Use **Add Metrics** to select additional aggregate and role-level metrics to monitor in the Azure classic portal.</span></span>
   
    ![Uitgebreide weergave](./media/cloud-services-how-to-monitor/CloudServices_DefaultVerboseDisplay.png)
2. <span data-ttu-id="8b9dd-160">Metrische gegevens toevoegen aan de tabel metrische gegevens:</span><span class="sxs-lookup"><span data-stu-id="8b9dd-160">To add metrics to the metrics table:</span></span>
   
   1. <span data-ttu-id="8b9dd-161">Klik op **toevoegen metrische gegevens** openen **kiezen metrische gegevens**, u hieronder kunt zien.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-161">Click **Add Metrics** to open **Choose Metrics**, shown below.</span></span>
      
       <span data-ttu-id="8b9dd-162">De eerste beschikbare metriek uitgevouwen zodat de opties die beschikbaar zijn.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-162">The first available metric is expanded to show options that are available.</span></span> <span data-ttu-id="8b9dd-163">De eerste optie bevat voor elke metriek geaggregeerde bewakingsgegevens voor alle functies.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-163">For each metric, the top option displays aggregated monitoring data for all roles.</span></span> <span data-ttu-id="8b9dd-164">Bovendien kunt u afzonderlijke rollen om gegevens weer te kiezen.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-164">In addition, you can choose individual roles to display data for.</span></span>
      
       ![Metrische gegevens toevoegen](./media/cloud-services-how-to-monitor/CloudServices_AddMetrics.png)
   2. <span data-ttu-id="8b9dd-166">Selecteer de metrische gegevens om weer te geven</span><span class="sxs-lookup"><span data-stu-id="8b9dd-166">To select metrics to display</span></span>
      
      * <span data-ttu-id="8b9dd-167">Klik op de pijl-omlaag door de metriek uit te breiden, de controle-opties.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-167">Click the down arrow by the metric to expand the monitoring options.</span></span>
      * <span data-ttu-id="8b9dd-168">Schakel het selectievakje in voor elke controleoptie die u wilt weergeven.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-168">Select the check box for each monitoring option you want to display.</span></span>
        
        <span data-ttu-id="8b9dd-169">U kunt maximaal 50 metrische gegevens weergeven in de tabel metrische gegevens.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-169">You can display up to 50 metrics in the metrics table.</span></span>
        
        > [!TIP]
        > <span data-ttu-id="8b9dd-170">In uitgebreide bewaking, wordt de tientallen metrische gegevens in de lijst van de metrische gegevens kan bevatten.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-170">In verbose monitoring, the metrics list can contain dozens of metrics.</span></span> <span data-ttu-id="8b9dd-171">Om weer te geven van een schuifbalk, houd de muis boven aan de rechterkant van het dialoogvenster.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-171">To display a scrollbar, hover over the right side of the dialog box.</span></span> <span data-ttu-id="8b9dd-172">Klik op het zoekpictogram om te filteren in de lijst, en voer tekst in het zoekvak, zoals hieronder wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-172">To filter the list, click the search icon, and enter text in the search box, as shown below.</span></span>
        > 
        > 
        
        ![Toevoegen van metrische gegevens zoeken](./media/cloud-services-how-to-monitor/CloudServices_AddMetrics_Search.png)
3. <span data-ttu-id="8b9dd-174">Nadat u metrische gegevens te selecteren, klik op OK (vinkje).</span><span class="sxs-lookup"><span data-stu-id="8b9dd-174">After you finish selecting metrics, click OK (checkmark).</span></span>
   
    <span data-ttu-id="8b9dd-175">De geselecteerde metrische gegevens worden toegevoegd aan de tabel metrische gegevens, zoals hieronder wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-175">The selected metrics are added to the metrics table, as shown below.</span></span>
   
    ![monitor metrische gegevens](./media/cloud-services-how-to-monitor/CloudServices_Monitor_UpdatedMetrics.png)
4. <span data-ttu-id="8b9dd-177">Als u wilt een metriek verwijderen uit de tabel metrische gegevens, klikt u op de metriek selecteren en klik vervolgens op **metriek verwijderen**.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-177">To delete a metric from the metrics table, click the metric to select it, and then click **Delete Metric**.</span></span> <span data-ttu-id="8b9dd-178">(Alleen zien **metriek verwijderen** wanneer er een geselecteerde waarde.)</span><span class="sxs-lookup"><span data-stu-id="8b9dd-178">(You only see **Delete Metric** when you have a metric selected.)</span></span>

### <a name="to-add-custom-metrics-to-the-metrics-table"></a><span data-ttu-id="8b9dd-179">Aangepaste metrische gegevens toevoegen aan de tabel metrische gegevens</span><span class="sxs-lookup"><span data-stu-id="8b9dd-179">To add custom metrics to the metrics table</span></span>
<span data-ttu-id="8b9dd-180">De **uitgebreid** bewaking niveau voorziet in een lijst met standaard metrische gegevens die u kunt controleren op de portal.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-180">The **Verbose** monitoring level provides a list of default metrics that you can monitor on the portal.</span></span> <span data-ttu-id="8b9dd-181">Naast deze informatie kunt u een aangepaste metrische gegevens of de prestatiemeteritems die zijn gedefinieerd door uw toepassing via de portal bewaken.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-181">In addition to these you can monitor any custom metrics or performance counters defined by your application through the portal.</span></span>

<span data-ttu-id="8b9dd-182">De volgende stappen wordt ervan uitgegaan dat u hebt ingeschakeld **uitgebreid** niveau bewaking en uw toepassing voor het verzamelen en aangepaste prestatiemeteritems transfer hebt geconfigureerd.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-182">The following steps assume that you have turned on **Verbose** monitoring level and have configured your application to collect and transfer custom performance counters.</span></span> 

<span data-ttu-id="8b9dd-183">Als u wilt weergeven van de aangepaste prestatiemeteritems in de portal moet u de configuratie in af-besturingselement-container bijwerken:</span><span class="sxs-lookup"><span data-stu-id="8b9dd-183">To display the custom performance counters in the portal you need to update the configuration in wad-control-container:</span></span>

1. <span data-ttu-id="8b9dd-184">Open de blob af-besturingselement-container in uw opslagaccount voor diagnostische gegevens.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-184">Open the wad-control-container blob in your diagnostics storage account.</span></span> <span data-ttu-id="8b9dd-185">U kunt Visual Studio of andere Opslagverkenner gebruiken om dit te doen.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-185">You can use Visual Studio or any other storage explorer to do this.</span></span>
   
    ![Visual Studio Server Explorer](./media/cloud-services-how-to-monitor/CloudServices_Monitor_VisualStudioBlobExplorer.png)
2. <span data-ttu-id="8b9dd-187">De blobpad met behulp van het patroon gaat **RoleName/DeploymentId/RoleInstance** vinden van de configuratie voor uw rolexemplaar.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-187">Navigate the blob path using the pattern **DeploymentId/RoleName/RoleInstance** to find the configuration for your role instance.</span></span> 
   
    ![Visual Studio Opslagverkenner](./media/cloud-services-how-to-monitor/CloudServices_Monitor_VisualStudioStorage.png)
3. <span data-ttu-id="8b9dd-189">Het configuratiebestand voor de rolinstantie downloaden en werk deze zodanig dat eventuele aangepaste prestatiemeteritems.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-189">Download the configuration file for your role instance and update it to include any custom performance counters.</span></span> <span data-ttu-id="8b9dd-190">Zo moeten worden bewaakt *schijf geschreven Bytes per seconde* voor de *station C* Voeg de volgende onder **PerformanceCounters\Subscriptions** knooppunt</span><span class="sxs-lookup"><span data-stu-id="8b9dd-190">For example to monitor *Disk Write Bytes/sec* for the *C drive* add the following under **PerformanceCounters\Subscriptions** node</span></span>
   
    ```xml
    <PerformanceCounterConfiguration>
    <CounterSpecifier>\LogicalDisk(C:)\Disk Write Bytes/sec</CounterSpecifier>
    <SampleRateInSeconds>180</SampleRateInSeconds>
    </PerformanceCounterConfiguration>
    ```
4. <span data-ttu-id="8b9dd-191">De wijzigingen opslaan en upload het configuratiebestand terug naar dezelfde locatie als het bestaande bestand in de blob wordt overschreven.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-191">Save the changes and upload the configuration file back to the same location overwriting the existing file in the blob.</span></span>
5. <span data-ttu-id="8b9dd-192">Schakelen naar de uitgebreide modus in de configuratie voor Azure classic portal.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-192">Toggle to Verbose mode in the Azure classic portal configuration.</span></span> <span data-ttu-id="8b9dd-193">Als u al in de uitgebreide modus zou moet u minimaal en terug naar de uitgebreide in-of uitschakelen.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-193">If you were in Verbose mode already you will have to toggle to minimal and back to verbose.</span></span>
6. <span data-ttu-id="8b9dd-194">Het aangepaste prestatiemeteritem is nu beschikbaar in de **toevoegen metrische gegevens** in het dialoogvenster.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-194">The custom performance counter will now be available in the **Add Metrics** dialog box.</span></span> 

## <a name="how-to-customize-the-metrics-chart"></a><span data-ttu-id="8b9dd-195">Procedure: de metrische gegevens grafiek aanpassen</span><span class="sxs-lookup"><span data-stu-id="8b9dd-195">How to: Customize the metrics chart</span></span>
1. <span data-ttu-id="8b9dd-196">Selecteer maximaal 6 metrische gegevens om te tekenen op de grafiek metrische gegevens in de tabel metrische gegevens.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-196">In the metrics table, select up to 6 metrics to plot on the metrics chart.</span></span> <span data-ttu-id="8b9dd-197">Als u wilt een metriek selecteert, klikt u op het selectievakje aan de linkerkant.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-197">To select a metric, click the check box on its left side.</span></span> <span data-ttu-id="8b9dd-198">Als u wilt verwijderen een waarde van de grafiek metrische gegevens, schakel het selectievakje in de tabel metrische gegevens.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-198">To remove a metric from the metrics chart, clear its check box in the metrics table.</span></span>
   
    <span data-ttu-id="8b9dd-199">Als u metrische gegevens in de tabel metrische gegevens selecteert, worden de metrische gegevens worden toegevoegd aan de grafiek metrische gegevens.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-199">As you select metrics in the metrics table, the metrics are added to the metrics chart.</span></span> <span data-ttu-id="8b9dd-200">Op een beperkte weergave een **n meer** vervolgkeuzelijst bevat metrische headers die de weergave niet past.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-200">On a narrow display, an **n more** drop-down list contains metric headers that won't fit the display.</span></span>
2. <span data-ttu-id="8b9dd-201">Selecteer voor schakelen tussen het weergeven van relatieve waarden (laatste waarde alleen voor elke metriek) en absolute waarden (Y-as weergegeven), relatief of absoluut boven aan de grafiek.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-201">To switch between displaying relative values (final value only for each metric) and absolute values (Y axis displayed), select Relative or Absolute at the top of the chart.</span></span>
   
    ![Relatief of absoluut](./media/cloud-services-how-to-monitor/CloudServices_Monitor_RelativeAbsolute.png)
3. <span data-ttu-id="8b9dd-203">Als u wilt wijzigen van het tijdsbereik selecteren de metrische gegevens grafiek wordt weergegeven, 1 uur, 24 uur of zeven dagen aan de bovenkant van de grafiek.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-203">To change the time range the metrics chart displays, select 1 hour, 24 hours, or 7 days at the top of the chart.</span></span>
   
    ![Weergaveperiode van de monitor](./media/cloud-services-how-to-monitor/CloudServices_Monitor_DisplayPeriod.png)
   
    <span data-ttu-id="8b9dd-205">In het diagram van de metrische gegevens dashboard verschilt de methode voor het uitzetten van de metrische gegevens.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-205">On the dashboard metrics chart, the method for plotting metrics is different.</span></span> <span data-ttu-id="8b9dd-206">Een standaardset metrische gegevens beschikbaar is en metrische gegevens worden toegevoegd of verwijderd door het selecteren van de metrische header.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-206">A standard set of metrics is available, and metrics are added or removed by selecting the metric header.</span></span>

### <a name="to-customize-the-metrics-chart-on-the-dashboard"></a><span data-ttu-id="8b9dd-207">De grafiek metrische gegevens op het dashboard aanpassen</span><span class="sxs-lookup"><span data-stu-id="8b9dd-207">To customize the metrics chart on the dashboard</span></span>
1. <span data-ttu-id="8b9dd-208">Open het dashboard voor de cloudservice.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-208">Open the dashboard for the cloud service.</span></span>
2. <span data-ttu-id="8b9dd-209">Toevoegen of verwijderen van metrische gegevens van de grafiek:</span><span class="sxs-lookup"><span data-stu-id="8b9dd-209">Add or remove metrics from the chart:</span></span>
   
   * <span data-ttu-id="8b9dd-210">Om een nieuwe waarde getekend, selecteer het selectievakje in voor de metrische gegevens in de grafiek headers.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-210">To plot a new metric, select the check box for the metric in the chart headers.</span></span> <span data-ttu-id="8b9dd-211">Klik op een beperkte weergave op de pijl-omlaag door  ***n* veldnamenrij? metrische gegevens** om te tekenen van een waarde die het grafiekgebied van de header kan niet worden weergegeven.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-211">On a narrow display, click the down arrow by ***n*??metrics** to plot a metric the chart header area can't display.</span></span>
   * <span data-ttu-id="8b9dd-212">Schakel het selectievakje door de header voor het verwijderen van een waarde die in de grafiek wordt getekend.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-212">To delete a metric that is plotted on the chart, clear the check box by its header.</span></span>
   
3. <span data-ttu-id="8b9dd-213">Schakelen tussen **relatieve** en **Absolute** wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-213">Switch between **Relative** and **Absolute** displays.</span></span>
4. <span data-ttu-id="8b9dd-214">Kies 1 uur, 24 uur of zeven dagen aan gegevens om weer te geven.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-214">Choose 1 hour, 24 hours, or 7 days of data to display.</span></span>

## <a name="how-to-access-verbose-monitoring-data-outside-the-azure-classic-portal"></a><span data-ttu-id="8b9dd-215">Procedure: toegang uitgebreide bewaking gegevens buiten de klassieke Azure portal</span><span class="sxs-lookup"><span data-stu-id="8b9dd-215">How to: Access verbose monitoring data outside the Azure classic portal</span></span>
<span data-ttu-id="8b9dd-216">Uitgebreide bewakingsgegevens wordt opgeslagen in de tabellen in de storage-accounts die u voor elke rol opgeeft.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-216">Verbose monitoring data is stored in tables in the storage accounts that you specify for each role.</span></span> <span data-ttu-id="8b9dd-217">Zes tabellen worden voor elke cloud service-implementatie gemaakt voor de rol.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-217">For each cloud service deployment, six tables are created for the role.</span></span> <span data-ttu-id="8b9dd-218">Twee tabellen worden gemaakt voor elk (5 minuten, 1 uur en 12 uur).</span><span class="sxs-lookup"><span data-stu-id="8b9dd-218">Two tables are created for each (5 minutes, 1 hour, and 12 hours).</span></span> <span data-ttu-id="8b9dd-219">Een van deze tabellen slaat quotumwaarde op aggregaties; de andere tabel bevat aggregaties voor rolinstanties.</span><span class="sxs-lookup"><span data-stu-id="8b9dd-219">One of these tables stores role-level aggregations; the other table stores aggregations for role instances.</span></span> 

<span data-ttu-id="8b9dd-220">De tabelnamen van de hebben de volgende notatie:</span><span class="sxs-lookup"><span data-stu-id="8b9dd-220">The table names have the following format:</span></span>

```
WAD*deploymentID*PT*aggregation_interval*[R|RI]Table
```

<span data-ttu-id="8b9dd-221">Waarbij:</span><span class="sxs-lookup"><span data-stu-id="8b9dd-221">where:</span></span>

* <span data-ttu-id="8b9dd-222">*deploymentID* is de GUID die is toegewezen aan de cloud service-implementatie</span><span class="sxs-lookup"><span data-stu-id="8b9dd-222">*deploymentID* is the GUID assigned to the cloud service deployment</span></span>
* <span data-ttu-id="8b9dd-223">*aggregation_interval* = 5 M, 1U of 12 uur</span><span class="sxs-lookup"><span data-stu-id="8b9dd-223">*aggregation_interval* = 5M, 1H, or 12H</span></span>
* <span data-ttu-id="8b9dd-224">niveau van de rol aggregaties = R</span><span class="sxs-lookup"><span data-stu-id="8b9dd-224">role-level aggregations = R</span></span>
* <span data-ttu-id="8b9dd-225">aggregaties voor rolinstanties k =</span><span class="sxs-lookup"><span data-stu-id="8b9dd-225">aggregations for role instances = RI</span></span>

<span data-ttu-id="8b9dd-226">De volgende tabellen bewaren bijvoorbeeld uitgebreide bewakingsgegevens geaggregeerd interval van 1 uur:</span><span class="sxs-lookup"><span data-stu-id="8b9dd-226">For example, the following tables would store verbose monitoring data aggregated at 1-hour intervals:</span></span>

```
WAD8b7c4233802442b494d0cc9eb9d8dd9fPT1HRTable (hourly aggregations for the role)

WAD8b7c4233802442b494d0cc9eb9d8dd9fPT1HRITable (hourly aggregations for role instances)
```
