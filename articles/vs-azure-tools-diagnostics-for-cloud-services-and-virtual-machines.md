---
title: Diagnostische gegevens configureren voor Azure-Cloudservices en virtuele Machines | Microsoft Docs
description: Beschrijft hoe diagnostische gegevens voor het opsporen van Azure cloude services en virtuele machines (VM's) in Visual Studio configureren.
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: e70cd7b4-6298-43aa-adea-6fd618414c26
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 2516c0eb8ce470577731db9b844d5b9038465477
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/29/2017
---
# <a name="configuring-diagnostics-for-azure-cloud-services-and-virtual-machines"></a><span data-ttu-id="85bb5-103">Configuratie van diagnostische gegevens voor Azure-Cloudservices en virtuele Machines</span><span class="sxs-lookup"><span data-stu-id="85bb5-103">Configuring Diagnostics for Azure Cloud Services and Virtual Machines</span></span>
<span data-ttu-id="85bb5-104">Wanneer u problemen met een Azure-cloudservice of virtuele machine van Azure, kunt u gemakkelijker Azure diagnostics configureren met behulp van Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="85bb5-104">When you need to troubleshoot an Azure cloud service or Azure virtual machine, you can configure Azure diagnostics more easily by using Visual Studio.</span></span> <span data-ttu-id="85bb5-105">Azure diagnostics vastgelegd system en logboekregistratie-gegevens op de virtuele machines en de virtuele machine-exemplaren die uitvoeren van uw cloudservice en die gegevens overgebracht naar een opslagaccount van uw keuze.</span><span class="sxs-lookup"><span data-stu-id="85bb5-105">Azure diagnostics captures system data and logging data on the virtual machines and virtual machine instances that run your cloud service and transfers that data into a storage account of your choice.</span></span> <span data-ttu-id="85bb5-106">Zie [logboekregistratie van diagnostische gegevens van web-apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) voor meer informatie over diagnostische gegevens van logboekregistratie in Azure.</span><span class="sxs-lookup"><span data-stu-id="85bb5-106">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about diagnostics logging in Azure.</span></span>

<span data-ttu-id="85bb5-107">Dit onderwerp leest u hoe inschakelen en configureren van Azure diagnostics in Visual Studio, zowel voor en na de implementatie, evenals in virtuele machines in Azure.</span><span class="sxs-lookup"><span data-stu-id="85bb5-107">This topic shows you how to enable and configure Azure diagnostics in Visual Studio, both before and after deployment, as well as in Azure virtual machines.</span></span> <span data-ttu-id="85bb5-108">Deze ook ziet u hoe u selecteert de soorten informatie voor het verzamelen van diagnostische gegevens en het weergeven van de informatie verzamelde.</span><span class="sxs-lookup"><span data-stu-id="85bb5-108">It also shows you how to select the types of diagnostics information to collect and how to view the information after it's collected.</span></span>

<span data-ttu-id="85bb5-109">U kunt Azure Diagnostics configureren op de volgende manieren:</span><span class="sxs-lookup"><span data-stu-id="85bb5-109">You can configure Azure Diagnostics in the following ways:</span></span>

* <span data-ttu-id="85bb5-110">Kunt u configuratie-instellingen voor diagnostische gegevens via de **configuratie van diagnostische** dialoogvenster in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="85bb5-110">You can change diagnostics configuration settings through the **Diagnostics Configuration** dialog box in Visual Studio.</span></span> <span data-ttu-id="85bb5-111">De instellingen worden opgeslagen in een bestand met de naam diagnostics.wadcfgx (diagnostics.wadcfg in Azure SDK 2.4 of eerder).</span><span class="sxs-lookup"><span data-stu-id="85bb5-111">The settings are saved in a file called diagnostics.wadcfgx (diagnostics.wadcfg in Azure SDK 2.4 or earlier).</span></span> <span data-ttu-id="85bb5-112">U kunt ook kunt u het configuratiebestand rechtstreeks wijzigen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-112">Alternatively, you can directly modify the configuration file.</span></span> <span data-ttu-id="85bb5-113">Als u het bestand handmatig bijwerken, wijzigingen in de configuratie te laten treden de volgende implementatie van de cloud service naar Azure of de service wordt uitgevoerd in de emulator.</span><span class="sxs-lookup"><span data-stu-id="85bb5-113">If you manually update the file, the configuration changes will take effect the next time you deploy the cloud service to Azure or run the service in the emulator.</span></span>
* <span data-ttu-id="85bb5-114">Gebruik **Cloud Explorer** of **Server Explorer** in Visual Studio om de instellingen voor diagnostische gegevens voor een actieve cloudservice of virtuele machine wijzigen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-114">Use **Cloud Explorer** or **Server Explorer** in Visual Studio to change the diagnostics settings for a running cloud service or virtual machine.</span></span>

## <a name="azure-26-diagnostics-changes"></a><span data-ttu-id="85bb5-115">2.6 Azure diagnostics wijzigingen</span><span class="sxs-lookup"><span data-stu-id="85bb5-115">Azure 2.6 diagnostics changes</span></span>
<span data-ttu-id="85bb5-116">Azure SDK 2.6-projecten in Visual Studio, zijn de volgende wijzigingen aangebracht.</span><span class="sxs-lookup"><span data-stu-id="85bb5-116">For Azure SDK 2.6 projects in Visual Studio, the following changes were made.</span></span> <span data-ttu-id="85bb5-117">(Deze wijzigingen ook van toepassing op latere versies van Azure SDK.)</span><span class="sxs-lookup"><span data-stu-id="85bb5-117">(These changes also apply to later versions of Azure SDK.)</span></span>

* <span data-ttu-id="85bb5-118">De lokale emulator ondersteunt nu de diagnostische gegevens.</span><span class="sxs-lookup"><span data-stu-id="85bb5-118">The local emulator now supports diagnostics.</span></span> <span data-ttu-id="85bb5-119">Dit betekent dat u kunt het verzamelen van diagnostische gegevens en zorg ervoor dat uw toepassing wordt gemaakt door de juiste traceringen tijdens het ontwikkelen en testen in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="85bb5-119">This means you can collect diagnostics data and ensure your application is creating the right traces while you're developing and testing in Visual Studio.</span></span> <span data-ttu-id="85bb5-120">De verbindingsreeks `UseDevelopmentStorage=true` kunt verzamelen van diagnostische gegevens, terwijl u uw cloudserviceproject in Visual Studio uitvoert met behulp van de Azure-opslagemulator.</span><span class="sxs-lookup"><span data-stu-id="85bb5-120">The connection string `UseDevelopmentStorage=true` enables diagnostics data collection while you're running your cloud service project in Visual Studio by using the Azure storage emulator.</span></span> <span data-ttu-id="85bb5-121">Alle diagnostische gegevens worden verzameld in het opslagaccount (ontwikkeling opslag).</span><span class="sxs-lookup"><span data-stu-id="85bb5-121">All diagnostics data is collected in the (Development Storage) storage account.</span></span>
* <span data-ttu-id="85bb5-122">De verbindingsreeks van diagnostische gegevens storage-account (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) wordt nog een keer opgeslagen in het service-configuratiebestand (.cscfg).</span><span class="sxs-lookup"><span data-stu-id="85bb5-122">The diagnostics storage account connection string (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) is stored once again in the service configuration (.cscfg) file.</span></span> <span data-ttu-id="85bb5-123">In de Azure SDK 2.5 is de opslagaccount voor diagnostische gegevens opgegeven in het bestand diagnostics.wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="85bb5-123">In Azure SDK 2.5 the diagnostics storage account was specified in the diagnostics.wadcfgx file.</span></span>

<span data-ttu-id="85bb5-124">Er zijn enkele belangrijke verschillen tussen hoe de verbindingsreeks in de Azure SDK 2.4 en eerder heeft gewerkt, en hoe het werkt in de Azure SDK 2.6 en hoger.</span><span class="sxs-lookup"><span data-stu-id="85bb5-124">There are some notable differences between how the connection string worked in Azure SDK 2.4 and earlier and how it works in Azure SDK 2.6 and later.</span></span>

* <span data-ttu-id="85bb5-125">In Azure SDK 2.4 en eerdere versies, is de verbindingsreeks gebruikt als een runtime door de invoegtoepassing diagnostische gegevens ophalen van de accountgegevens voor de opslag voor het overdragen van diagnostische logboeken.</span><span class="sxs-lookup"><span data-stu-id="85bb5-125">In Azure SDK 2.4 and earlier, the connection string was used as a runtime by the diagnostics plugin to get the storage account information for transferring diagnostics logs.</span></span>
* <span data-ttu-id="85bb5-126">In Azure SDK 2.6 en hoger, wordt de verbindingsreeks van de diagnostische gegevens door Visual Studio gebruikt voor het configureren van de extensie voor diagnostische gegevens met de juiste opslag gegevens tijdens de publicatie.</span><span class="sxs-lookup"><span data-stu-id="85bb5-126">In Azure SDK 2.6 and later, the diagnostics connection string is used by Visual Studio to configure the diagnostics extension with the appropriate storage account information during publishing.</span></span> <span data-ttu-id="85bb5-127">De verbindingsreeks kunt u verschillende opslagaccounts voor verschillende configuraties die door Visual Studio wordt gebruikt bij het publiceren van definiëren.</span><span class="sxs-lookup"><span data-stu-id="85bb5-127">The connection string lets you define different storage accounts for different service configurations that Visual Studio will use when publishing.</span></span> <span data-ttu-id="85bb5-128">Omdat de diagnostics-invoegtoepassing (na de Azure SDK 2,5) niet langer beschikbaar is, kan niet het cscfg-bestand zelf echter de extensie voor diagnostische gegevens inschakelen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-128">However, because the diagnostics plugin is no longer available (after Azure SDK 2.5), the .cscfg file by itself can't enable the Diagnostics Extension.</span></span> <span data-ttu-id="85bb5-129">U moet de extensie afzonderlijk via hulpprogramma's zoals Visual Studio of PowerShell inschakelen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-129">You have to enable the extension separately through tools such as Visual Studio or PowerShell.</span></span>
* <span data-ttu-id="85bb5-130">De uitvoer van het pakket van Visual Studio bevat ook de openbare configuratie-XML voor de extensie voor diagnostische gegevens voor elke rol voor het vereenvoudigen van de extensie voor diagnostische gegevens configureren met PowerShell.</span><span class="sxs-lookup"><span data-stu-id="85bb5-130">To simplify the process of configuring the diagnostics extension with PowerShell, the package output from Visual Studio also contains the public configuration XML for the diagnostics extension for each role.</span></span> <span data-ttu-id="85bb5-131">De verbindingsreeks diagnostics Visual Studio gebruikt voor het vullen van de opslag-accountgegevens die aanwezig zijn in de openbare configuratie.</span><span class="sxs-lookup"><span data-stu-id="85bb5-131">Visual Studio uses the diagnostics connection string to populate the storage account information present in the public configuration.</span></span> <span data-ttu-id="85bb5-132">De openbare configuratiebestanden worden gemaakt in de map extensies en volg het patroon PaaSDiagnostics. &lt;RoleName >. PubConfig.xml.</span><span class="sxs-lookup"><span data-stu-id="85bb5-132">The public config files are created in the Extensions folder and follow the pattern PaaSDiagnostics.&lt;RoleName>.PubConfig.xml.</span></span> <span data-ttu-id="85bb5-133">Alle implementaties op basis van PowerShell kunnen dit patroon gebruiken voor elke configuratie worden toegewezen aan een rol.</span><span class="sxs-lookup"><span data-stu-id="85bb5-133">Any PowerShell based deployments can use this pattern to map each configuration to a Role.</span></span>
* <span data-ttu-id="85bb5-134">De verbindingsreeks in het .cscfg-bestand wordt ook gebruikt door de [Azure-portal](http://go.microsoft.com/fwlink/p/?LinkID=525040) toegang krijgen tot de diagnostics-gegevens, zodat het kan worden weergegeven de **bewaking** tabblad. De verbindingsreeks is nodig voor de service configureren voor het uitgebreide bewakingsgegevens weergeven in de portal.</span><span class="sxs-lookup"><span data-stu-id="85bb5-134">The connection string in the .cscfg file is also used by the [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040) to access the diagnostics data so it can appear in the **Monitoring** tab. The connection string is needed to configure the service to show verbose monitoring data in the portal.</span></span>

## <a name="migrating-projects-to-azure-sdk-26-and-later"></a><span data-ttu-id="85bb5-135">Migreren projecten op Azure SDK 2.6 en hoger</span><span class="sxs-lookup"><span data-stu-id="85bb5-135">Migrating projects to Azure SDK 2.6 and later</span></span>
<span data-ttu-id="85bb5-136">Wanneer u migreert van Azure SDK 2.5 naar Azure SDK 2.6 of hoger, als u een opslagaccount voor diagnostische gegevens opgegeven in het bestand .wadcfgx had, vervolgens blijft er.</span><span class="sxs-lookup"><span data-stu-id="85bb5-136">When migrating from Azure SDK 2.5 to Azure SDK 2.6 or later, if you had a diagnostics storage account specified in the .wadcfgx file, then it will stay there.</span></span> <span data-ttu-id="85bb5-137">Als u wilt profiteren van de flexibiliteit van het gebruik van verschillende storage-accounts voor opslagconfiguraties verschillende, hebt u de verbindingsreeks handmatig toevoegen aan uw project.</span><span class="sxs-lookup"><span data-stu-id="85bb5-137">To take advantage of the flexibility of using different storage accounts for different storage configurations, you'll have to manually add the connection string to your project.</span></span> <span data-ttu-id="85bb5-138">Als u een project waarnaar u migreert van Azure SDK 2.4 of eerder in Azure SDK 2.6, blijven de verbindingsreeksen van diagnostische gegevens behouden.</span><span class="sxs-lookup"><span data-stu-id="85bb5-138">If you're migrating a project from Azure SDK 2.4 or earlier to Azure SDK 2.6, then the diagnostics connection strings are preserved.</span></span> <span data-ttu-id="85bb5-139">Let echter de wijzigingen in hoe verbindingsreeksen worden behandeld in de Azure SDK 2.6 zoals opgegeven in de vorige sectie.</span><span class="sxs-lookup"><span data-stu-id="85bb5-139">However, please note the changes in how connection strings are treated in Azure SDK 2.6 as specified in the previous section.</span></span>

### <a name="how-visual-studio-determines-the-diagnostics-storage-account"></a><span data-ttu-id="85bb5-140">Hoe de opslagaccount voor diagnostische gegevens in Visual Studio wordt bepaald</span><span class="sxs-lookup"><span data-stu-id="85bb5-140">How Visual Studio determines the diagnostics storage account</span></span>
* <span data-ttu-id="85bb5-141">Als een verbindingsreeks diagnostische gegevens in het .cscfg-bestand is opgegeven, wordt het in Visual Studio gebruikt voor het configureren van de extensie voor diagnostische gegevens bij het publiceren en bij het genereren van de openbare configuratie-xml-bestanden tijdens pakketten.</span><span class="sxs-lookup"><span data-stu-id="85bb5-141">If a diagnostics connection string is specified in the .cscfg file, Visual Studio uses it to configure the diagnostics extension when publishing, and when generating the public configuration xml files during packaging.</span></span>
* <span data-ttu-id="85bb5-142">Als geen diagnostische gegevens verbindingsreeks is opgegeven in het .cscfg-bestand, klikt u vervolgens terugvalt Visual Studio op het storage-account opgegeven in het bestand .wadcfgx met de extensie voor diagnostische gegevens bij het publiceren van en het genereren van de openbare configuratie-xml-bestanden configureren Wanneer verpakken.</span><span class="sxs-lookup"><span data-stu-id="85bb5-142">If no diagnostics connection string is specified in the .cscfg file, then Visual Studio falls back to using the storage account specified in the .wadcfgx file to configure the diagnostics extension when publishing, and generating the public configuration xml files when packaging.</span></span>
* <span data-ttu-id="85bb5-143">De verbindingsreeks voor diagnostische gegevens in het .cscfg-bestand heeft voorrang op de storage-account in het bestand .wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="85bb5-143">The diagnostics connection string in the .cscfg file takes precedence over the storage account in the .wadcfgx file.</span></span> <span data-ttu-id="85bb5-144">Als een verbindingsreeks diagnostics is opgegeven in het .cscfg-bestand, Visual Studio die wordt gebruikt en het opslagaccount in .wadcfgx worden genegeerd.</span><span class="sxs-lookup"><span data-stu-id="85bb5-144">If a diagnostics connection string is specified in the .cscfg file, then Visual Studio uses that and ignores the storage account in .wadcfgx.</span></span>

### <a name="what-does-the-update-development-storage-connection-strings-checkbox-do"></a><span data-ttu-id="85bb5-145">Wat doet de 'Update ontwikkeling storage-verbindingsreeksen..."</span><span class="sxs-lookup"><span data-stu-id="85bb5-145">What does the "Update development storage connection strings…"</span></span> <span data-ttu-id="85bb5-146">selectievakje doen?</span><span class="sxs-lookup"><span data-stu-id="85bb5-146">checkbox do?</span></span>
<span data-ttu-id="85bb5-147">Het selectievakje voor **bijwerken van ontwikkeling storage-verbindingsreeksen voor diagnostische gegevens en opslaan in cache met Microsoft Azure storage-accountreferenties bij het publiceren van Microsoft Azure** biedt u een handige manier om bij te werken van alle ontwikkeling opslagaccountverbindingsreeksen met de Azure storage-account dat is opgegeven tijdens de publicatie.</span><span class="sxs-lookup"><span data-stu-id="85bb5-147">The checkbox for **Update development storage connection strings for Diagnostics and Caching with Microsoft Azure storage account credentials when publishing to Microsoft Azure** gives you a convenient way to update any development storage account connection strings with the Azure storage account specified during publishing.</span></span>

<span data-ttu-id="85bb5-148">Stel bijvoorbeeld dat u dit selectievakje inschakelt en de verbindingsreeks voor diagnostische gegevens `UseDevelopmentStorage=true`.</span><span class="sxs-lookup"><span data-stu-id="85bb5-148">For example, suppose you select this checkbox and the diagnostics connection string specifies `UseDevelopmentStorage=true`.</span></span> <span data-ttu-id="85bb5-149">Wanneer u het project naar Azure publiceert, wordt Visual Studio de verbindingsreeks van diagnostische gegevens automatisch bijgewerkt met de storage-account dat u hebt opgegeven in de wizard publiceren.</span><span class="sxs-lookup"><span data-stu-id="85bb5-149">When you publish the project to Azure, Visual Studio will automatically update the diagnostics connection string with the storage account you specified in the Publish wizard.</span></span> <span data-ttu-id="85bb5-150">Echter, als een echte storage-account is opgegeven als de verbindingsreeks van diagnostische gegevens, klikt u vervolgens dat account wordt gebruikt in plaats daarvan.</span><span class="sxs-lookup"><span data-stu-id="85bb5-150">However, if a real storage account was specified as the diagnostics connection string, then that account is used instead.</span></span>

## <a name="diagnostics-functionality-differences-between-azure-sdk-24-and-earlier-and-azure-sdk-25-and-later"></a><span data-ttu-id="85bb5-151">Diagnostische functionaliteit verschillen tussen Azure SDK 2.4 en eerder en Azure SDK 2,5 en hoger</span><span class="sxs-lookup"><span data-stu-id="85bb5-151">Diagnostics functionality differences between Azure SDK 2.4 and earlier and Azure SDK 2.5 and later</span></span>
<span data-ttu-id="85bb5-152">Als u een uw project van Azure SDK 2.4 naar Azure SDK 2.5 of hoger upgrade uitvoert, moet u vergeet de volgende verschillen van de diagnostics-functionaliteit.</span><span class="sxs-lookup"><span data-stu-id="85bb5-152">If you're upgrading your project from Azure SDK 2.4 to Azure SDK 2.5 or later, you should bear in mind the following diagnostics functionality differences.</span></span>

* <span data-ttu-id="85bb5-153">**Configuratie-API's zijn afgeschaft** – programmatische configuratie van diagnostische gegevens is beschikbaar in de Azure SDK 2.4 of eerdere versies, maar is afgeschaft in Azure SDK 2.5 en hoger.</span><span class="sxs-lookup"><span data-stu-id="85bb5-153">**Configuration APIs are deprecated** – Programmatic configuration of diagnostics is available in Azure SDK 2.4 or earlier versions, but is deprecated in Azure SDK 2.5 and later.</span></span> <span data-ttu-id="85bb5-154">Als uw configuratie van diagnostische momenteel in de code is gedefinieerd, moet u die instellingen vanaf het begin in het gemigreerde project in de volgorde voor diagnostische gegevens blijven werken opnieuw configureren.</span><span class="sxs-lookup"><span data-stu-id="85bb5-154">If your diagnostics configuration is currently defined in code, you'll need to reconfigure those settings from scratch in the migrated project in order for diagnostics to keep working.</span></span> <span data-ttu-id="85bb5-155">Het configuratiebestand van de diagnostische gegevens voor Azure SDK 2.4 is diagnostics.wadcfg en diagnostics.wadcfgx voor Azure SDK 2.5 of hoger.</span><span class="sxs-lookup"><span data-stu-id="85bb5-155">The diagnostics configuration file for Azure SDK 2.4 is diagnostics.wadcfg, and diagnostics.wadcfgx for Azure SDK 2.5 and later.</span></span>
* <span data-ttu-id="85bb5-156">**Diagnostische gegevens voor cloud-servicetoepassingen kan alleen worden geconfigureerd op het niveau van de functie niet op het niveau van het exemplaar.**</span><span class="sxs-lookup"><span data-stu-id="85bb5-156">**Diagnostics for cloud service applications can only be configured at the role level, not at the instance level.**</span></span>
* <span data-ttu-id="85bb5-157">**Telkens wanneer u uw app implementeert, wordt de configuratie van diagnostische bijgewerkt** : dit kan pariteit problemen veroorzaken als u de configuratie van de diagnostische gegevens in Server Explorer te wijzigen en vervolgens uw app te implementeren.</span><span class="sxs-lookup"><span data-stu-id="85bb5-157">**Every time you deploy your app, the diagnostics configuration is updated** – This can cause parity issues if you change your diagnostics configuration from Server Explorer and then redeploy your app.</span></span>
* <span data-ttu-id="85bb5-158">**In de Azure SDK 2.5 en hoger crashdumps zijn geconfigureerd in het configuratiebestand van de diagnostische gegevens niet in de code** – als u geconfigureerd in de code crashdumps hebt, hebt u de configuratie van code handmatig te zetten naar het configuratiebestand, omdat de crashdumps worden niet tijdens de migratie naar Azure SDK 2.6 overgedragen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-158">**In Azure SDK 2.5 and later, crash dumps are configured in the diagnostics configuration file, not in code** – If you have crash dumps configured in code, you'll have to manually transfer the configuration from code to the configuration file, because the crash dumps aren't transferred during the migration to Azure SDK 2.6.</span></span>

## <a name="enable-diagnostics-in-cloud-service-projects-before-deploying-them"></a><span data-ttu-id="85bb5-159">Diagnostische gegevens in cloudserviceprojecten inschakelen voordat u ze implementeert</span><span class="sxs-lookup"><span data-stu-id="85bb5-159">Enable diagnostics in cloud service projects before deploying them</span></span>
<span data-ttu-id="85bb5-160">In Visual Studio kunt u kiezen voor het verzamelen van diagnostische gegevens voor rollen die worden uitgevoerd in Azure, wanneer u de service in de emulator uitvoert voordat u deze implementeert.</span><span class="sxs-lookup"><span data-stu-id="85bb5-160">In Visual Studio, you can choose to collect diagnostics data for roles that run in Azure, when you run the service in the emulator before deploying it.</span></span> <span data-ttu-id="85bb5-161">Alle wijzigingen in de diagnostische instellingen in Visual Studio zijn opgeslagen in het configuratiebestand diagnostics.wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="85bb5-161">All changes to diagnostics settings in Visual Studio are saved in the diagnostics.wadcfgx configuration file.</span></span> <span data-ttu-id="85bb5-162">Deze configuratie-instellingen opgeven voor het opslagaccount waar diagnostische gegevens worden opgeslagen wanneer u uw cloudservice implementeert.</span><span class="sxs-lookup"><span data-stu-id="85bb5-162">These configuration settings specify the storage account where diagnostics data is saved when you deploy your cloud service.</span></span>

[!INCLUDE [cloud-services-wad-warning](../includes/cloud-services-wad-warning.md)]

### <a name="to-enable-diagnostics-in-visual-studio-before-deployment"></a><span data-ttu-id="85bb5-163">Diagnostische gegevens in Visual Studio vóór de implementatie inschakelen</span><span class="sxs-lookup"><span data-stu-id="85bb5-163">To enable diagnostics in Visual Studio before deployment</span></span>
1. <span data-ttu-id="85bb5-164">Kies in het snelmenu voor de rol die u interesseert **eigenschappen**, en kies vervolgens de **configuratie** tabblad in de rol **eigenschappen** venster.</span><span class="sxs-lookup"><span data-stu-id="85bb5-164">On the shortcut menu for the role that interests you, choose **Properties**, and then choose the **Configuration** tab in the role’s **Properties** window.</span></span>
2. <span data-ttu-id="85bb5-165">In de **Diagnostics** sectie, zorg ervoor dat de **diagnostische gegevens inschakelen** selectievakje is ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="85bb5-165">In the **Diagnostics** section, make sure that the **Enable Diagnostics** check box is selected.</span></span>
   
    ![Toegang tot de optie diagnostische gegevens inschakelen](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796660.png)
3. <span data-ttu-id="85bb5-167">Kies de knop met het weglatingsteken (...) om op te geven van het opslagaccount waar u de diagnostische gegevens worden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-167">Choose the ellipsis (…) button to specify the storage account where you want the diagnostics data to be stored.</span></span> <span data-ttu-id="85bb5-168">Het opslagaccount dat u kiest, worden de locatie waar diagnostische gegevens worden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-168">The storage account you choose will be the location where diagnostics data is stored.</span></span>
   
    ![Geef het storage-account gebruiken](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796661.png)
4. <span data-ttu-id="85bb5-170">In de **Create Storage Connection String** dialoogvenster vak, opgeven of u wilt verbinden met de Azure-Opslagemulator een Azure-abonnement of referenties handmatig worden ingevoerd.</span><span class="sxs-lookup"><span data-stu-id="85bb5-170">In the **Create Storage Connection String** dialog box, specify whether you want to connect using the Azure Storage Emulator, an Azure subscription, or manually entered credentials.</span></span>
   
    ![Dialoogvenster Storage-account](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796662.png)
   
   * <span data-ttu-id="85bb5-172">Als u ervoor kiest de Microsoft Azure-Opslagemulator optie, de verbindingsreeks is ingesteld op UseDevelopmentStorage = true.</span><span class="sxs-lookup"><span data-stu-id="85bb5-172">If you choose the Microsoft Azure Storage Emulator option, the connection string is set to UseDevelopmentStorage=true.</span></span>
   * <span data-ttu-id="85bb5-173">Als u ervoor kiest de uw abonnement, kunt u de Azure-abonnement u wilt gebruiken en de accountnaam.</span><span class="sxs-lookup"><span data-stu-id="85bb5-173">If you choose the Your subscription option, you can choose the Azure subscription you want to use and the account name.</span></span> <span data-ttu-id="85bb5-174">U kunt de knop Accounts beheren voor het beheren van uw Azure-abonnementen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-174">You can choose the Manage Accounts button to manage your Azure subscriptions.</span></span>
   * <span data-ttu-id="85bb5-175">Als u de optie handmatig ingevoerde referenties kiest, wordt u gevraagd de naam en sleutel van het Azure-account dat u wilt gebruiken in te voeren.</span><span class="sxs-lookup"><span data-stu-id="85bb5-175">If you choose the Manually entered credentials option, you're prompted to enter the name and key of the Azure account you want to use.</span></span>
5. <span data-ttu-id="85bb5-176">Kies de **configureren** knop om weer te geven de **configuratie van diagnostische** in het dialoogvenster.</span><span class="sxs-lookup"><span data-stu-id="85bb5-176">Choose the **Configure** button to view the **Diagnostics configuration** dialog box.</span></span> <span data-ttu-id="85bb5-177">Elk tabblad (met uitzondering van **algemene** en **logboek mappen**) vertegenwoordigt een diagnostische gegevensbron die u kunt verzamelen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-177">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span> <span data-ttu-id="85bb5-178">Het standaardtabblad **algemene**, biedt de volgende opties van diagnostische gegevens verzameling: **alleen fouten**, **alle informatie**, en **aangepaste plan**.</span><span class="sxs-lookup"><span data-stu-id="85bb5-178">The default tab, **General**, offers you the following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="85bb5-179">De standaardoptie **alleen fouten**, zo min mogelijk opslag vereist omdat deze geen waarschuwingen of tracering berichten over te dragen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-179">The default option, **Errors only**, takes the least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="85bb5-180">De optie om alle brengt de meeste informatie en is daarom de optie meest kostbaar in termen van opslag.</span><span class="sxs-lookup"><span data-stu-id="85bb5-180">The All information option transfers the most information and is, therefore, the most expensive option in terms of storage.</span></span>
   
    ![Azure diagnostics- en configuratie inschakelen](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
6. <span data-ttu-id="85bb5-182">Selecteer voor dit voorbeeld wordt de **aangepaste plan** optie zodat u de gegevens kunt worden verzameld.</span><span class="sxs-lookup"><span data-stu-id="85bb5-182">For this example, select the **Custom plan** option so you can customize the data collected.</span></span>
7. <span data-ttu-id="85bb5-183">De **schijfquotum in MB** vak geeft aan hoeveel ruimte u in uw opslagaccount voor diagnostische gegevens wilt toewijzen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-183">The **Disk Quota in MB** box specifies how much space you want to allocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="85bb5-184">U kunt de standaardwaarde als u wilt wijzigen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-184">You can change the default value if you want.</span></span>
8. <span data-ttu-id="85bb5-185">Op elk tabblad van diagnostische gegevens u wilt verzamelen, selecteer de **inschakelen overdragen van <log type>**  selectievakje.</span><span class="sxs-lookup"><span data-stu-id="85bb5-185">On each tab of diagnostics data you want to collect, select its **Enable Transfer of <log type>** check box.</span></span> <span data-ttu-id="85bb5-186">Bijvoorbeeld, als u wenst te verzamelen van toepassingslogboeken, selecteert u de **inschakelen van de overdracht van toepassingslogboeken** selectievakje op het **toepassingslogboeken** tabblad. Geef ook andere informatie die vereist zijn voor elk gegevenstype diagnostische gegevens.</span><span class="sxs-lookup"><span data-stu-id="85bb5-186">For example, if you want to collect application logs, select the **Enable transfer of Application Logs** check box on the **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="85bb5-187">Zie de sectie **gegevensbronnen van diagnostische gegevens configureren** verderop in dit onderwerp voor configuratie-informatie op elk tabblad.</span><span class="sxs-lookup"><span data-stu-id="85bb5-187">See the section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
9. <span data-ttu-id="85bb5-188">Nadat u de verzameling van alle diagnostics-gegevens die u hebt ingeschakeld, kiest u de **OK** knop.</span><span class="sxs-lookup"><span data-stu-id="85bb5-188">After you’ve enabled collection of all the diagnostics data you want, choose the **OK** button.</span></span>
10. <span data-ttu-id="85bb5-189">Uw Azure-cloud service-project in Visual Studio gewoon uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="85bb5-189">Run your Azure cloud service project in Visual Studio as usual.</span></span> <span data-ttu-id="85bb5-190">Terwijl u uw toepassing gebruikt, wordt de informatie die u hebt ingeschakeld in het foutenlogboek wordt opgeslagen in de Azure storage-account dat u hebt opgegeven.</span><span class="sxs-lookup"><span data-stu-id="85bb5-190">As you use your application, the log information that you enabled is saved to the Azure storage account you specified.</span></span>

## <a name="enable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="85bb5-191">Diagnostische gegevens in Azure virtuele machines inschakelen</span><span class="sxs-lookup"><span data-stu-id="85bb5-191">Enable diagnostics in Azure virtual machines</span></span>
<span data-ttu-id="85bb5-192">In Visual Studio kunt u voor het verzamelen van diagnostische gegevens voor Azure virtual machines.</span><span class="sxs-lookup"><span data-stu-id="85bb5-192">In Visual Studio, you can choose to collect diagnostics data for Azure virtual machines.</span></span>

### <a name="to-enable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="85bb5-193">Diagnostische gegevens in Azure virtuele machines inschakelen</span><span class="sxs-lookup"><span data-stu-id="85bb5-193">To enable diagnostics in Azure virtual machines</span></span>
1. <span data-ttu-id="85bb5-194">In **Server Explorer**, kies het Azure-knooppunt en maak verbinding met uw Azure-abonnement als u nog niet bent verbonden.</span><span class="sxs-lookup"><span data-stu-id="85bb5-194">In **Server Explorer**, choose the Azure node and then connect to your Azure subscription, if you're not already connected.</span></span>
2. <span data-ttu-id="85bb5-195">Vouw de **virtuele Machines** knooppunt.</span><span class="sxs-lookup"><span data-stu-id="85bb5-195">Expand the **Virtual Machines** node.</span></span> <span data-ttu-id="85bb5-196">U kunt maken van een nieuwe virtuele machine of Selecteer een die er al.</span><span class="sxs-lookup"><span data-stu-id="85bb5-196">You can create a new virtual machine, or select one that's already there.</span></span>
3. <span data-ttu-id="85bb5-197">Kies in het snelmenu voor de virtuele machine die u interesseert **configureren**.</span><span class="sxs-lookup"><span data-stu-id="85bb5-197">On the shortcut menu for the virtual machine that interests you, choose **Configure**.</span></span> <span data-ttu-id="85bb5-198">Geeft het dialoogvenster configuratie van virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="85bb5-198">This shows the virtual machine configuration dialog box.</span></span>
   
    ![Een virtuele machine van Azure configureren](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796663.png)
4. <span data-ttu-id="85bb5-200">Als deze nog niet is geïnstalleerd, moet u de Microsoft Monitoring Agent Diagnostics-extensie toevoegen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-200">If it's not already installed, add the Microsoft Monitoring Agent Diagnostics extension.</span></span> <span data-ttu-id="85bb5-201">Deze extensie kunt u het verzamelen van diagnostische gegevens voor de virtuele machine van Azure.</span><span class="sxs-lookup"><span data-stu-id="85bb5-201">This extension lets you gather diagnostics data for the Azure virtual machine.</span></span> <span data-ttu-id="85bb5-202">In de lijst extensies geïnstalleerd kies het selecteren van een vervolgkeuzelijst met beschikbare extensie en kies vervolgens Microsoft Monitoring Agent diagnostische gegevens.</span><span class="sxs-lookup"><span data-stu-id="85bb5-202">In the Installed Extensions list, choose the Select an available extension drop-down menu and then choose Microsoft Monitoring Agent Diagnostics.</span></span>
   
    ![Installeren van een virtuele machine van Azure-extensie](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766024.png)
   
   > [!NOTE]
   > <span data-ttu-id="85bb5-204">Andere extensies diagnostische gegevens zijn beschikbaar voor uw virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="85bb5-204">Other diagnostics extensions are available for your virtual machines.</span></span> <span data-ttu-id="85bb5-205">Zie voor meer informatie, de Azure VM-extensies en functies.</span><span class="sxs-lookup"><span data-stu-id="85bb5-205">For more information, see Azure VM Extensions and Features.</span></span>
   > 
   > 
5. <span data-ttu-id="85bb5-206">Kies de **toevoegen** om toe te voegen van de extensie en bekijk de **configuratie van diagnostische** in het dialoogvenster.</span><span class="sxs-lookup"><span data-stu-id="85bb5-206">Choose the **Add** button to add the extension and view its **Diagnostics configuration** dialog box.</span></span>
6. <span data-ttu-id="85bb5-207">Kies de **configureren** knop storage-account opgeven en klik vervolgens op de **OK** knop.</span><span class="sxs-lookup"><span data-stu-id="85bb5-207">Choose the **Configure** button to specify a storage account and then choose the **OK** button.</span></span>
   
    <span data-ttu-id="85bb5-208">Elk tabblad (met uitzondering van **algemene** en **logboek mappen**) vertegenwoordigt een diagnostische gegevensbron die u kunt verzamelen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-208">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span>
   
    ![Azure diagnostics- en configuratie inschakelen](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
   
    <span data-ttu-id="85bb5-210">Het standaardtabblad **algemene**, biedt de volgende opties van diagnostische gegevens verzameling: **alleen fouten**, **alle informatie**, en **aangepaste plan**.</span><span class="sxs-lookup"><span data-stu-id="85bb5-210">The default tab, **General**, offers you the following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="85bb5-211">De standaardoptie **alleen fouten**, zo min mogelijk opslag vereist omdat deze geen waarschuwingen of tracering berichten over te dragen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-211">The default option, **Errors only**, takes the least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="85bb5-212">De **alle informatie** optie de meeste gegevens worden overgebracht en is daarom de optie meest kostbaar in termen van opslag.</span><span class="sxs-lookup"><span data-stu-id="85bb5-212">The **All information** option transfers the most information and is, therefore, the most expensive option in terms of storage.</span></span>
7. <span data-ttu-id="85bb5-213">Selecteer voor dit voorbeeld wordt de **aangepaste plan** optie zodat u de gegevens kunt worden verzameld.</span><span class="sxs-lookup"><span data-stu-id="85bb5-213">For this example, select the **Custom plan** option so you can customize the data collected.</span></span>
8. <span data-ttu-id="85bb5-214">De **schijfquotum in MB** vak geeft aan hoeveel ruimte u in uw opslagaccount voor diagnostische gegevens wilt toewijzen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-214">The **Disk Quota in MB** box specifies how much space you want to allocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="85bb5-215">U kunt de standaardwaarde als u wilt wijzigen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-215">You can change the default value if you want.</span></span>
9. <span data-ttu-id="85bb5-216">Op elk tabblad van diagnostische gegevens u wilt verzamelen, selecteer de **inschakelen overdragen van <log type>**  selectievakje.</span><span class="sxs-lookup"><span data-stu-id="85bb5-216">On each tab of diagnostics data you want to collect, select its **Enable Transfer of <log type>** check box.</span></span>
   
    <span data-ttu-id="85bb5-217">Bijvoorbeeld, als u wenst te verzamelen van toepassingslogboeken, selecteert u de **inschakelen van de overdracht van toepassingslogboeken** selectievakje op het **toepassingslogboeken** tabblad. Geef ook andere informatie die vereist zijn voor elk gegevenstype diagnostische gegevens.</span><span class="sxs-lookup"><span data-stu-id="85bb5-217">For example, if you want to collect application logs, select the **Enable transfer of Application Logs** check box on the **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="85bb5-218">Zie de sectie **gegevensbronnen van diagnostische gegevens configureren** verderop in dit onderwerp voor configuratie-informatie op elk tabblad.</span><span class="sxs-lookup"><span data-stu-id="85bb5-218">See the section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
10. <span data-ttu-id="85bb5-219">Nadat u de verzameling van alle diagnostics-gegevens die u hebt ingeschakeld, kiest u de **OK** knop.</span><span class="sxs-lookup"><span data-stu-id="85bb5-219">After you’ve enabled collection of all the diagnostics data you want, choose the **OK** button.</span></span>
11. <span data-ttu-id="85bb5-220">Sla het bijgewerkte project.</span><span class="sxs-lookup"><span data-stu-id="85bb5-220">Save the updated project.</span></span>
    
     <span data-ttu-id="85bb5-221">U ziet een bericht in de **Microsoft Azure Activity Log** venster dat de virtuele machine is bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="85bb5-221">You'll see a message in the **Microsoft Azure Activity Log** window that the virtual machine has been updated.</span></span>

## <a name="configure-diagnostics-data-sources"></a><span data-ttu-id="85bb5-222">Gegevensbronnen van diagnostische gegevens configureren</span><span class="sxs-lookup"><span data-stu-id="85bb5-222">Configure diagnostics data sources</span></span>
<span data-ttu-id="85bb5-223">Nadat u het verzamelen van diagnostische gegevens inschakelen, kunt u precies welke gegevensbronnen die u wenst te verzamelen en welke informatie wordt verzameld.</span><span class="sxs-lookup"><span data-stu-id="85bb5-223">After you enable diagnostics data collection, you can choose exactly what data sources you want to collect and what information is collected.</span></span> <span data-ttu-id="85bb5-224">Hieronder volgt een lijst van tabbladen in de **configuratie van diagnostische** in het dialoogvenster en elke configuratieoptie betekent.</span><span class="sxs-lookup"><span data-stu-id="85bb5-224">The following is a list of tabs in the **Diagnostics configuration** dialog box and what each configuration option means.</span></span>

### <a name="application-logs"></a><span data-ttu-id="85bb5-225">Toepassingslogboeken</span><span class="sxs-lookup"><span data-stu-id="85bb5-225">Application logs</span></span>
<span data-ttu-id="85bb5-226">**Toepassingslogboeken** diagnostische informatie die wordt geproduceerd door een webtoepassing bevatten.</span><span class="sxs-lookup"><span data-stu-id="85bb5-226">**Application logs** contain diagnostics information produced by a web application.</span></span> <span data-ttu-id="85bb5-227">Als u vastleggen toepassingslogboeken wilt, selecteert u de **inschakelen van de overdracht van toepassingslogboeken** selectievakje.</span><span class="sxs-lookup"><span data-stu-id="85bb5-227">If you want to capture application logs, select the **Enable transfer of Application Logs** check box.</span></span> <span data-ttu-id="85bb5-228">U kunt vergroten of verkleinen het aantal minuten wanneer de toepassingslogboeken worden overgebracht naar uw opslagaccount door het wijzigen van de **Transfer periode (min)** waarde.</span><span class="sxs-lookup"><span data-stu-id="85bb5-228">You can increase or decrease the number of minutes when the application logs are transferred to your storage account by changing the **Transfer Period (min)** value.</span></span> <span data-ttu-id="85bb5-229">U kunt ook de hoeveelheid gegevens die zijn vastgelegd in het logboek door de waarde van logboek-niveau wijzigen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-229">You can also change the amount of information captured in the log by setting the Log level value.</span></span> <span data-ttu-id="85bb5-230">U kunt bijvoorbeeld **uitgebreid** met meer informatie of kies een **Kritiek** om vast te leggen alleen kritieke fouten.</span><span class="sxs-lookup"><span data-stu-id="85bb5-230">For example, you can choose **Verbose** to get more information or choose **Critical** to capture only critical errors.</span></span> <span data-ttu-id="85bb5-231">Als u een specifieke diagnostics-provider die u toepassingslogboeken verzendt hebt, kunt u ze vastleggen door toe te voegen GUID van de provider de **Provider GUID** vak.</span><span class="sxs-lookup"><span data-stu-id="85bb5-231">If you have a specific diagnostics provider that emits application logs, you can capture them by adding the provider’s GUID to the **Provider GUID** box.</span></span>

  ![Toepassingslogboeken](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758145.png)

  <span data-ttu-id="85bb5-233">Zie [logboekregistratie van diagnostische gegevens van web-apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) voor meer informatie over toepassingslogboeken.</span><span class="sxs-lookup"><span data-stu-id="85bb5-233">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about application logs.</span></span>

### <a name="windows-event-logs"></a><span data-ttu-id="85bb5-234">Windows-gebeurtenislogboeken</span><span class="sxs-lookup"><span data-stu-id="85bb5-234">Windows event logs</span></span>
<span data-ttu-id="85bb5-235">Als u vastleggen van Windows-gebeurtenislogboeken wilt, selecteert u de **overdracht van het Windows-gebeurtenislogboeken inschakelen** selectievakje.</span><span class="sxs-lookup"><span data-stu-id="85bb5-235">If you want to capture Windows event logs, select the **Enable transfer of Windows Event Logs** check box.</span></span> <span data-ttu-id="85bb5-236">U kunt vergroten of verkleinen het aantal minuten wanneer de gebeurtenislogboeken worden overgebracht naar uw opslagaccount door het wijzigen van de **Transfer periode (min)** waarde.</span><span class="sxs-lookup"><span data-stu-id="85bb5-236">You can increase or decrease the number of minutes when the event logs are transferred to your storage account by changing the **Transfer Period (min)** value.</span></span> <span data-ttu-id="85bb5-237">Schakel de selectievakjes voor de typen gebeurtenissen die u wilt traceren.</span><span class="sxs-lookup"><span data-stu-id="85bb5-237">Select the check boxes for the types of events that you want to track.</span></span>

  ![Gebeurtenislogboeken](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796664.png)

<span data-ttu-id="85bb5-239">Als u Azure SDK 2.6 of hoger en een aangepaste gegevensbron opgeven, typt u dit in de  **<Data source name>**  tekst vak en kies vervolgens de **toevoegen** knop ernaast.</span><span class="sxs-lookup"><span data-stu-id="85bb5-239">If you're using Azure SDK 2.6 or later and want to specify a custom data source, enter it in the **<Data source name>** text box and then choose the **Add** button next to it.</span></span> <span data-ttu-id="85bb5-240">De gegevensbron is toegevoegd aan het bestand diagnostics.cfcfg.</span><span class="sxs-lookup"><span data-stu-id="85bb5-240">The data source is added to the diagnostics.cfcfg file.</span></span>

<span data-ttu-id="85bb5-241">Als u Azure SDK 2.5 en geef een aangepaste gegevensbron wilt, kunt u het toevoegen aan de `WindowsEventLog` sectie van de diagnostics.wadcfgx bestand, zoals in het volgende voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="85bb5-241">If you're using Azure SDK 2.5 and want to specify a custom data source, you can add it to the `WindowsEventLog` section of the diagnostics.wadcfgx file, such as in the following example.</span></span>

```
<WindowsEventLog scheduledTransferPeriod="PT1M">
   <DataSource name="Application!*" />
   <DataSource name="CustomDataSource!*" />
</WindowsEventLog>
```
### <a name="performance-counters"></a><span data-ttu-id="85bb5-242">Prestatiemeteritems</span><span class="sxs-lookup"><span data-stu-id="85bb5-242">Performance counters</span></span>
<span data-ttu-id="85bb5-243">Gegevens van prestatiemeteritems kunt u vinden knelpunten in het systeem en systeem- en -prestaties afstemmen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-243">Performance counter information can help you locate system bottlenecks and fine-tune system and application performance.</span></span> <span data-ttu-id="85bb5-244">Zie [maken en prestatiemeteritems voor gebruik in een Azure-toepassing](https://msdn.microsoft.com/library/azure/hh411542.aspx) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="85bb5-244">See [Create and Use Performance Counters in an Azure Application](https://msdn.microsoft.com/library/azure/hh411542.aspx) for more information.</span></span> <span data-ttu-id="85bb5-245">Als u vastleggen, prestatiemeteritems wilt, selecteert u de **overdracht van prestatiemeteritems inschakelen** selectievakje.</span><span class="sxs-lookup"><span data-stu-id="85bb5-245">If you want to capture performance counters, select the **Enable transfer of Performance Counters** check box.</span></span> <span data-ttu-id="85bb5-246">U kunt vergroten of verkleinen het aantal minuten wanneer de gebeurtenislogboeken worden overgebracht naar uw opslagaccount door het wijzigen van de **Transfer periode (min)** waarde.</span><span class="sxs-lookup"><span data-stu-id="85bb5-246">You can increase or decrease the number of minutes when the event logs are transferred to your storage account by changing the **Transfer Period (min)** value.</span></span> <span data-ttu-id="85bb5-247">Schakel de selectievakjes voor de prestatiemeteritems die u wilt traceren.</span><span class="sxs-lookup"><span data-stu-id="85bb5-247">Select the check boxes for the performance counters that you want to track.</span></span>

  ![Prestatiemeteritems](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758147.png)

<span data-ttu-id="85bb5-249">Voer deze met behulp van de voorgestelde syntaxis voor het bijhouden van een prestatiemeteritem die niet is vermeld, en kies vervolgens de **toevoegen** knop.</span><span class="sxs-lookup"><span data-stu-id="85bb5-249">To track a performance counter that isn’t listed, enter it by using the suggested syntax and then choose the **Add** button.</span></span> <span data-ttu-id="85bb5-250">Het besturingssysteem op de virtuele machine bepaalt welke prestatiemeteritems die u kunt volgen. Zie voor meer informatie over de syntaxis [geven een itempad](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span><span class="sxs-lookup"><span data-stu-id="85bb5-250">The operating system on the virtual machine determines which performance counters you can track. For more information about syntax, see [Specifying a Counter Path](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span></span>

### <a name="infrastructure-logs"></a><span data-ttu-id="85bb5-251">Logboeken van de infrastructuur</span><span class="sxs-lookup"><span data-stu-id="85bb5-251">Infrastructure logs</span></span>
<span data-ttu-id="85bb5-252">Als u wilt om vast te leggen van infrastructuur-logboeken die informatie over de diagnostische Azure-infrastructuur bevatten, de module RemoteAccess en RemoteForwarder-module, selecteert de **overdracht van infrastructuur Logboeken inschakelen** controleren vak.</span><span class="sxs-lookup"><span data-stu-id="85bb5-252">If you want to capture infrastructure logs, which contain information about the Azure diagnostic infrastructure, the RemoteAccess module, and the RemoteForwarder module, select the **Enable transfer of Infrastructure Logs** check box.</span></span> <span data-ttu-id="85bb5-253">U kunt vergroten of verkleinen van het aantal minuten wanneer de logboeken worden overgebracht naar uw opslagaccount door de waarde overbrengen periode (min) te wijzigen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-253">You can increase or decrease the number of minutes when the logs are transferred to your storage account by changing the Transfer Period (min) value.</span></span>

  ![Diagnostische gegevens infrastructuur Logboeken](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758148.png)

  <span data-ttu-id="85bb5-255">Zie [Logboekregistratiegegevens verzamelen met behulp van Azure Diagnostics](https://msdn.microsoft.com/library/azure/gg433048.aspx) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="85bb5-255">See [Collect Logging Data by Using Azure Diagnostics](https://msdn.microsoft.com/library/azure/gg433048.aspx) for more information.</span></span>

### <a name="log-directories"></a><span data-ttu-id="85bb5-256">Logboek mappen</span><span class="sxs-lookup"><span data-stu-id="85bb5-256">Log directories</span></span>
<span data-ttu-id="85bb5-257">Als u vastleggen van logboek-mappen die gegevens verzameld van logboek-mappen voor aanvragen van Internet Information Services (IIS) bevat wilt, mislukte aanvragen of mappen die u kiest, schakelt u de **overdracht van logboek mappen inschakelen** selectievakje.</span><span class="sxs-lookup"><span data-stu-id="85bb5-257">If you want to capture log directories, which contain data collected from log directories for Internet Information Services (IIS) requests, failed requests, or folders that you choose, select the **Enable transfer of Log Directories** check box.</span></span> <span data-ttu-id="85bb5-258">U kunt vergroten of verkleinen het aantal minuten wanneer de logboeken worden overgebracht naar uw opslagaccount door het wijzigen van de **Transfer periode (min)** waarde.</span><span class="sxs-lookup"><span data-stu-id="85bb5-258">You can increase or decrease the number of minutes when the logs are transferred to your storage account by changing the **Transfer Period (min)** value.</span></span>

<span data-ttu-id="85bb5-259">Kunt u de selectievakjes van de logboeken die u verzamelen wilt, zoals **IIS-logboeken** en **kan aanvragen** Logboeken.</span><span class="sxs-lookup"><span data-stu-id="85bb5-259">You can select the boxes of the logs you want to collect, such as **IIS Logs** and **Failed Request** Logs.</span></span> <span data-ttu-id="85bb5-260">Standaard opslag containernamen worden opgegeven, maar u kunt de namen wijzigen als u wilt.</span><span class="sxs-lookup"><span data-stu-id="85bb5-260">Default storage container names are provided, but you can change the names if you want.</span></span>

<span data-ttu-id="85bb5-261">U kunt ook de logboeken van de map vastleggen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-261">Also, you can capture logs from any folder.</span></span> <span data-ttu-id="85bb5-262">Alleen het pad opgeven in de **logboek van Directory Absolute** sectie en kies vervolgens de **map toevoegen** knop.</span><span class="sxs-lookup"><span data-stu-id="85bb5-262">Just specify the path in the **Log from Absolute Directory** section and then choose the **Add Directory** button.</span></span> <span data-ttu-id="85bb5-263">De logboeken wordt aan de opgegeven containers worden vastgelegd.</span><span class="sxs-lookup"><span data-stu-id="85bb5-263">The logs will be captured to the specified containers.</span></span>

  ![Logboek mappen](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796665.png)

### <a name="etw-logs"></a><span data-ttu-id="85bb5-265">ETW-Logboeken</span><span class="sxs-lookup"><span data-stu-id="85bb5-265">ETW logs</span></span>
<span data-ttu-id="85bb5-266">Als u [Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) en wilt vastleggen ETW-Logboeken, selecteer de **overdracht van ETW-Logboeken inschakelen** selectievakje.</span><span class="sxs-lookup"><span data-stu-id="85bb5-266">If you use [Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) and want to capture ETW logs, select the **Enable transfer of ETW Logs** check box.</span></span> <span data-ttu-id="85bb5-267">U kunt vergroten of verkleinen het aantal minuten wanneer de logboeken worden overgebracht naar uw opslagaccount door het wijzigen van de **Transfer periode (min)** waarde.</span><span class="sxs-lookup"><span data-stu-id="85bb5-267">You can increase or decrease the number of minutes when the logs are transferred to your storage account by changing the **Transfer Period (min)** value.</span></span>

<span data-ttu-id="85bb5-268">De gebeurtenissen worden vastgelegd van bronnen van gebeurtenissen en het gebeurtenismanifesten die u opgeeft.</span><span class="sxs-lookup"><span data-stu-id="85bb5-268">The events are captured from event sources and event manifests that you specify.</span></span> <span data-ttu-id="85bb5-269">Als u een gebeurtenisbron, voer een naam in de **gebeurtenisbronnen** sectie en kies vervolgens de **gebeurtenisbron toevoegen** knop.</span><span class="sxs-lookup"><span data-stu-id="85bb5-269">To specify an event source, enter a name in the **Event Sources** section and then choose the **Add Event Source** button.</span></span> <span data-ttu-id="85bb5-270">Op deze manier kunt u een manifest van de gebeurtenis in de **gebeurtenis manifesten** sectie en kies vervolgens de **toevoegen gebeurtenis Manifest** knop.</span><span class="sxs-lookup"><span data-stu-id="85bb5-270">Similarly, you can specify an event manifest in the **Event Manifests** section and then choose the **Add Event Manifest** button.</span></span>

  ![ETW-Logboeken](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766025.png)

  <span data-ttu-id="85bb5-272">Het ETW-framework wordt in ASP.NET ondersteund door de klassen in [System.Diagnostics.aspx] (naamruimte https://msdn.microsoft.com/library/system.diagnostics (v=vs.110).</span><span class="sxs-lookup"><span data-stu-id="85bb5-272">The ETW framework is supported in ASP.NET through classes in the [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) namespace.</span></span> <span data-ttu-id="85bb5-273">De Microsoft.WindowsAzure.Diagnostics naamruimte overneemt en standard [System.Diagnostics.aspx] breidt (https://msdn.microsoft.com/library/system.diagnostics (v=vs.110) klassen, maakt het gebruik van [System.Diagnostics.aspx] (https : //msdn.microsoft.com/library/system.diagnostics(v=vs.110) als een framework voor logboekregistratie in de Azure-omgeving.</span><span class="sxs-lookup"><span data-stu-id="85bb5-273">The Microsoft.WindowsAzure.Diagnostics namespace, which inherits from and extends standard [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) classes, enables the use of [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) as a logging framework in the Azure environment.</span></span> <span data-ttu-id="85bb5-274">Zie voor meer informatie [besturingselement nemen van logboekregistratie en tracering in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) en [diagnostische gegevens inschakelen in Azure Cloud Services en virtuele Machines](cloud-services/cloud-services-dotnet-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="85bb5-274">For more information, see [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md).</span></span>

### <a name="crash-dumps"></a><span data-ttu-id="85bb5-275">Crashdumps</span><span class="sxs-lookup"><span data-stu-id="85bb5-275">Crash dumps</span></span>
<span data-ttu-id="85bb5-276">Als u wilt vastleggen van gegevens over wanneer een rolinstantie is vastgelopen, selecteert u de **inschakelen van de overdracht van Crash dumpen** selectievakje.</span><span class="sxs-lookup"><span data-stu-id="85bb5-276">If you want to capture information about when a role instance crashes, select the **Enable transfer of Crash Dumps** check box.</span></span> <span data-ttu-id="85bb5-277">(Omdat ASP.NET de meeste uitzonderingen verwerkt, dit is doorgaans alleen nuttig voor werkrollen.) U kunt vergroten of verkleinen van het percentage van de opslagruimte die aan de crashdumps besteed door het wijzigen van de **Directory quotum (%)** waarde.</span><span class="sxs-lookup"><span data-stu-id="85bb5-277">(Because ASP.NET handles most exceptions, this is generally useful only for worker roles.) You can increase or decrease the percentage of storage space devoted to the crash dumps by changing the **Directory Quota (%)** value.</span></span> <span data-ttu-id="85bb5-278">U kunt de opslagcontainer waarin de crashdumps worden opgeslagen en u kunt aangeven of u wilt vastleggen wijzigen een **volledige** of **Mini** dump.</span><span class="sxs-lookup"><span data-stu-id="85bb5-278">You can change the storage container where the crash dumps are stored, and you can select whether you want to capture a **Full** or **Mini** dump.</span></span>

<span data-ttu-id="85bb5-279">De processen die momenteel worden bijgehouden, worden weergegeven.</span><span class="sxs-lookup"><span data-stu-id="85bb5-279">The processes currently being tracked are listed.</span></span> <span data-ttu-id="85bb5-280">Schakel de selectievakjes voor de processen die u wilt vastleggen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-280">Select the check boxes for the processes that you want to capture.</span></span> <span data-ttu-id="85bb5-281">Een ander proces toevoegen aan de lijst, voer de procesnaam en kies vervolgens de **proces toevoegen** knop.</span><span class="sxs-lookup"><span data-stu-id="85bb5-281">To add another process to the list, enter the process name and then choose the **Add Process** button.</span></span>

  ![Crashdumps](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766026.png)

  <span data-ttu-id="85bb5-283">Zie [besturingselement nemen van logboekregistratie en tracering in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) en [Microsoft Azure Diagnostics deel 4: aangepaste logboekregistratie onderdelen en Azure Diagnostics 1.3 wijzigingen](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="85bb5-283">See [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Microsoft Azure Diagnostics Part 4: Custom Logging Components and Azure Diagnostics 1.3 Changes](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/) for more information.</span></span>

## <a name="view-the-diagnostics-data"></a><span data-ttu-id="85bb5-284">De diagnostics-gegevens weergeven</span><span class="sxs-lookup"><span data-stu-id="85bb5-284">View the diagnostics data</span></span>
<span data-ttu-id="85bb5-285">Als u de diagnostics-gegevens voor een cloudservice of een virtuele machine hebt verzameld, kunt u het kunt weergeven.</span><span class="sxs-lookup"><span data-stu-id="85bb5-285">After you’ve collected the diagnostics data for a cloud service or a virtual machine, you can view it.</span></span>

### <a name="to-view-cloud-service-diagnostics-data"></a><span data-ttu-id="85bb5-286">Cloud service diagnostische gegevens weergeven</span><span class="sxs-lookup"><span data-stu-id="85bb5-286">To view cloud service diagnostics data</span></span>
1. <span data-ttu-id="85bb5-287">Implementeer uw cloudservice als normaal en vervolgens uit te voeren.</span><span class="sxs-lookup"><span data-stu-id="85bb5-287">Deploy your cloud service as usual and then run it.</span></span>
2. <span data-ttu-id="85bb5-288">U kunt de diagnostics-gegevens weergeven in een rapport met Visual Studio gegenereerd of tabellen in uw opslagaccount.</span><span class="sxs-lookup"><span data-stu-id="85bb5-288">You can view the diagnostics data in either a report that Visual Studio generates or tables in your storage account.</span></span> <span data-ttu-id="85bb5-289">U kunt de gegevens in een rapport bekijken **Cloud Explorer** of **Server Explorer**, open het snelmenu van het knooppunt voor de rol die u interesseert en kies vervolgens **weergave diagnostische gegevens**.</span><span class="sxs-lookup"><span data-stu-id="85bb5-289">To view the data in a report, open **Cloud Explorer** or **Server Explorer**, open the shortcut menu of the node for the role that interests you, and then choose **View Diagnostic Data**.</span></span>
   
    ![De Diagnostics-gegevens weergeven](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748912.png)
   
    <span data-ttu-id="85bb5-291">Een rapport met de beschikbare gegevens wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="85bb5-291">A report that shows the available data appears.</span></span>
   
    ![Rapport van de Microsoft Azure Diagnostics in Visual Studio](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796666.png)
   
    <span data-ttu-id="85bb5-293">Als de meest recente gegevens niet wordt weergegeven, moet u wellicht wacht u totdat de overdracht is verstreken.</span><span class="sxs-lookup"><span data-stu-id="85bb5-293">If the most recent data doesn't appear, you might have to wait for the transfer period to elapse.</span></span>
   
    <span data-ttu-id="85bb5-294">Kies de **vernieuwen** koppelen aan de gegevens direct bijwerken of kies een interval in de **automatisch vernieuwen** vervolgkeuzelijst om de gegevens automatisch bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="85bb5-294">Choose the **Refresh** link to immediately update the data, or choose an interval in the **Auto-Refresh** dropdown list box to have the data updated automatically.</span></span> <span data-ttu-id="85bb5-295">De om foutgegevens te exporteren, kies de **exporteren naar CSV** knop een door komma's gescheiden waarde-bestand dat u in een werkblad openen kunt te maken.</span><span class="sxs-lookup"><span data-stu-id="85bb5-295">To export the error data, choose the **Export to CSV** button to create a comma-separated value file you can open in a spreadsheet.</span></span>
   
    <span data-ttu-id="85bb5-296">In **Cloud Explorer** of **Server Explorer**, opent u het opslagaccount dat is gekoppeld aan de implementatie.</span><span class="sxs-lookup"><span data-stu-id="85bb5-296">In **Cloud Explorer** or **Server Explorer**, open the storage account that's associated with the deployment.</span></span>
3. <span data-ttu-id="85bb5-297">Open de diagnostics-tabellen in de tabel viewer en controleer de gegevens die u hebt verzameld.</span><span class="sxs-lookup"><span data-stu-id="85bb5-297">Open the diagnostics tables in the table viewer, and then review the data that you collected.</span></span> <span data-ttu-id="85bb5-298">U kunt een blob-container openen voor IIS-logboeken en aangepaste logboeken.</span><span class="sxs-lookup"><span data-stu-id="85bb5-298">For IIS logs and custom logs, you can open a blob container.</span></span> <span data-ttu-id="85bb5-299">Aan de hand van de volgende tabel vindt u de tabel of blob-container die de gegevens bevat die u bent geïnteresseerd.</span><span class="sxs-lookup"><span data-stu-id="85bb5-299">By reviewing the following table, you can find the table or blob container that contains the data that interests you.</span></span> <span data-ttu-id="85bb5-300">Naast de gegevens voor die logboekbestand items in de tabel bevatten EventTickCount, DeploymentId rol en RoleInstance om te identificeren welke virtuele machine en de rol van de gegevens gegenereerd en wanneer.</span><span class="sxs-lookup"><span data-stu-id="85bb5-300">In addition to the data for that log file, the table entries contain EventTickCount, DeploymentId, Role, and RoleInstance to help you identify what virtual machine and role generated the data and when.</span></span> 
   
   | <span data-ttu-id="85bb5-301">Diagnostische gegevens</span><span class="sxs-lookup"><span data-stu-id="85bb5-301">Diagnostic data</span></span> | <span data-ttu-id="85bb5-302">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="85bb5-302">Description</span></span> | <span data-ttu-id="85bb5-303">Locatie</span><span class="sxs-lookup"><span data-stu-id="85bb5-303">Location</span></span> |
   | --- | --- | --- |
   | <span data-ttu-id="85bb5-304">Toepassingslogboeken</span><span class="sxs-lookup"><span data-stu-id="85bb5-304">Application Logs</span></span> |<span data-ttu-id="85bb5-305">De logboeken die uw code wordt gegenereerd door het aanroepen van methoden van de klasse System.Diagnostics.Trace.</span><span class="sxs-lookup"><span data-stu-id="85bb5-305">Logs that your code generates by calling methods of the System.Diagnostics.Trace class.</span></span> |<span data-ttu-id="85bb5-306">WADLogsTable</span><span class="sxs-lookup"><span data-stu-id="85bb5-306">WADLogsTable</span></span> |
   | <span data-ttu-id="85bb5-307">Gebeurtenislogboeken</span><span class="sxs-lookup"><span data-stu-id="85bb5-307">Event Logs</span></span> |<span data-ttu-id="85bb5-308">Deze gegevens zijn uit de Windows-gebeurtenislogboeken op de virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="85bb5-308">This data is from the Windows event logs on the virtual machines.</span></span> <span data-ttu-id="85bb5-309">Slaat Windows de informatie in deze logboeken, maar toepassingen en services ook gebruiken om te rapporteren van fouten of logboekgegevens.</span><span class="sxs-lookup"><span data-stu-id="85bb5-309">Windows stores information in these logs, but applications and services also use them to report errors or log information.</span></span> |<span data-ttu-id="85bb5-310">WADWindowsEventLogsTable</span><span class="sxs-lookup"><span data-stu-id="85bb5-310">WADWindowsEventLogsTable</span></span> |
   | <span data-ttu-id="85bb5-311">Prestatiemeteritems</span><span class="sxs-lookup"><span data-stu-id="85bb5-311">Performance Counters</span></span> |<span data-ttu-id="85bb5-312">U kunt gegevens verzamelen op elk prestatiemeteritem dat beschikbaar is op de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="85bb5-312">You can collect data on any performance counter that’s available on the virtual machine.</span></span> <span data-ttu-id="85bb5-313">Het besturingssysteem biedt prestatiemeteritems, waaronder veel statistische gegevens zoals geheugen en de processor tijd.</span><span class="sxs-lookup"><span data-stu-id="85bb5-313">The operating system provides performance counters, which include many statistics such as memory usage and processor time.</span></span> |<span data-ttu-id="85bb5-314">WADPerformanceCountersTable</span><span class="sxs-lookup"><span data-stu-id="85bb5-314">WADPerformanceCountersTable</span></span> |
   | <span data-ttu-id="85bb5-315">Logboeken van de infrastructuur</span><span class="sxs-lookup"><span data-stu-id="85bb5-315">Infrastructure Logs</span></span> |<span data-ttu-id="85bb5-316">Deze logboeken worden gegenereerd op basis van de infrastructuur van diagnostische gegevens zelf.</span><span class="sxs-lookup"><span data-stu-id="85bb5-316">These logs are generated from the diagnostics infrastructure itself.</span></span> |<span data-ttu-id="85bb5-317">WADDiagnosticInfrastructureLogsTable</span><span class="sxs-lookup"><span data-stu-id="85bb5-317">WADDiagnosticInfrastructureLogsTable</span></span> |
   | <span data-ttu-id="85bb5-318">IIS-logboeken</span><span class="sxs-lookup"><span data-stu-id="85bb5-318">IIS Logs</span></span> |<span data-ttu-id="85bb5-319">Deze logboeken vastleggen webaanvragen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-319">These logs record web requests.</span></span> <span data-ttu-id="85bb5-320">Als uw cloudservice een aanzienlijke hoeveelheid verkeer ontvangt, zijn deze logboeken behoorlijk langdurige, dus u moet verzamelen en opslaan van deze gegevens alleen wanneer u deze nodig.</span><span class="sxs-lookup"><span data-stu-id="85bb5-320">If your cloud service gets a significant amount of traffic, these logs can be quite lengthy, so you should collect and store this data only when you need it.</span></span> |<span data-ttu-id="85bb5-321">U vindt is mislukt-aanvraag wordt geregistreerd in de blob-container onder af iis failedreqlogs onder een pad op voor deze implementatie, rol en exemplaar.</span><span class="sxs-lookup"><span data-stu-id="85bb5-321">You can find failed-request logs in the blob container under wad-iis-failedreqlogs under a path for that deployment, role, and instance.</span></span> <span data-ttu-id="85bb5-322">U vindt de volledige Logboeken onder af-iis-logboekbestanden.</span><span class="sxs-lookup"><span data-stu-id="85bb5-322">You can find complete logs under wad-iis-logfiles.</span></span> <span data-ttu-id="85bb5-323">Vermeldingen voor elk bestand worden in de tabel WADDirectories gedaan.</span><span class="sxs-lookup"><span data-stu-id="85bb5-323">Entries for each file are made in the WADDirectories table.</span></span> |
   | <span data-ttu-id="85bb5-324">Crashdumps</span><span class="sxs-lookup"><span data-stu-id="85bb5-324">Crash dumps</span></span> |<span data-ttu-id="85bb5-325">Deze informatie biedt binaire installatiekopieën van uw cloudservice-proces (meestal een werkrol).</span><span class="sxs-lookup"><span data-stu-id="85bb5-325">This information provides binary images of your cloud service’s process (typically a worker role).</span></span> |<span data-ttu-id="85bb5-326">af-crush-dumpbestanden voor blob-container</span><span class="sxs-lookup"><span data-stu-id="85bb5-326">wad-crush-dumps blob container</span></span> |
   | <span data-ttu-id="85bb5-327">Aangepaste logboekbestanden</span><span class="sxs-lookup"><span data-stu-id="85bb5-327">Custom log files</span></span> |<span data-ttu-id="85bb5-328">Logboeken van de gegevens die u vooraf gedefinieerd.</span><span class="sxs-lookup"><span data-stu-id="85bb5-328">Logs of data that you predefined.</span></span> |<span data-ttu-id="85bb5-329">U kunt in de code de locatie opgeven van aangepaste logboekbestanden in uw opslagaccount.</span><span class="sxs-lookup"><span data-stu-id="85bb5-329">You can specify in code the location of custom log files in your storage account.</span></span> <span data-ttu-id="85bb5-330">U kunt bijvoorbeeld een aangepaste blob-container opgeven.</span><span class="sxs-lookup"><span data-stu-id="85bb5-330">For example, you can specify a custom blob container.</span></span> |
4. <span data-ttu-id="85bb5-331">Als u gegevens van een willekeurig type worden afgekapt, kunt u proberen verhogen van de buffer voor die gegevens type of verkort het interval tussen de overdracht van gegevens van de virtuele machine naar uw opslagaccount.</span><span class="sxs-lookup"><span data-stu-id="85bb5-331">If data of any type is truncated, you can try increasing the buffer for that data type or shortening the interval between transfers of data from the virtual machine to your storage account.</span></span>
5. <span data-ttu-id="85bb5-332">(optioneel) Gegevens verwijderen uit het opslagaccount van tijd tot tijd om de algehele opslagkosten te verlagen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-332">(optional) Purge data from the storage account occasionally to reduce overall storage costs.</span></span>
6. <span data-ttu-id="85bb5-333">Wanneer u een volledige implementatie, het bestand diagnostics.cscfg (.wadcfgx voor Azure SDK 2.5) wordt bijgewerkt in Azure en uw cloudservice neemt over wijzigingen in de configuratie van de diagnostische gegevens.</span><span class="sxs-lookup"><span data-stu-id="85bb5-333">When you do a full deployment, the diagnostics.cscfg file (.wadcfgx for Azure SDK 2.5) is updated in Azure, and your cloud service picks up any changes to your diagnostics configuration.</span></span> <span data-ttu-id="85bb5-334">Als u, in plaats daarvan een bestaande implementatie hebt bijgewerkt, wordt het cscfg-bestand is niet bijgewerkt in Azure.</span><span class="sxs-lookup"><span data-stu-id="85bb5-334">If you, instead, update an existing deployment, the .cscfg file isn’t updated in Azure.</span></span> <span data-ttu-id="85bb5-335">U kunt nog steeds de diagnostische instellingen echter wijzigen door de stappen in de volgende sectie.</span><span class="sxs-lookup"><span data-stu-id="85bb5-335">You can still change diagnostics settings, though, by following the steps in the next section.</span></span> <span data-ttu-id="85bb5-336">Zie voor meer informatie over het uitvoeren van een volledige implementatie en het bijwerken van een bestaande implementatie [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="85bb5-336">For more information about performing a full deployment and updating an existing deployment, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

### <a name="to-view-virtual-machine-diagnostics-data"></a><span data-ttu-id="85bb5-337">Virtuele machine diagnostische gegevens weergeven</span><span class="sxs-lookup"><span data-stu-id="85bb5-337">To view virtual machine diagnostics data</span></span>
1. <span data-ttu-id="85bb5-338">Kies in het snelmenu voor de virtuele machine **weergave Diagnostics-gegevens**.</span><span class="sxs-lookup"><span data-stu-id="85bb5-338">On the shortcut menu for the virtual machine, choose **View Diagnostics Data**.</span></span>
   
    ![Diagnostische gegevens weergeven in de virtuele machine van Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766027.png)
   
    <span data-ttu-id="85bb5-340">Hiermee opent u de **Diagnostics samenvatting** venster.</span><span class="sxs-lookup"><span data-stu-id="85bb5-340">This opens the **Diagnostics summary** window.</span></span>
   
    ![Virtuele machine van Azure diagnostics samenvatting](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796667.png)  
   
    <span data-ttu-id="85bb5-342">Als de meest recente gegevens niet wordt weergegeven, moet u wellicht wacht u totdat de overdracht is verstreken.</span><span class="sxs-lookup"><span data-stu-id="85bb5-342">If the most recent data doesn't appear, you might have to wait for the transfer period to elapse.</span></span>
   
    <span data-ttu-id="85bb5-343">Kies de **vernieuwen** koppelen aan de gegevens direct bijwerken of kies een interval in de **automatisch vernieuwen** vervolgkeuzelijst om de gegevens automatisch bijgewerkt.</span><span class="sxs-lookup"><span data-stu-id="85bb5-343">Choose the **Refresh** link to immediately update the data, or choose an interval in the **Auto-Refresh** dropdown list box to have the data updated automatically.</span></span> <span data-ttu-id="85bb5-344">De om foutgegevens te exporteren, kies de **exporteren naar CSV** knop een door komma's gescheiden waarde-bestand dat u in een werkblad openen kunt te maken.</span><span class="sxs-lookup"><span data-stu-id="85bb5-344">To export the error data, choose the **Export to CSV** button to create a comma-separated value file you can open in a spreadsheet.</span></span>

## <a name="configure-cloud-service-diagnostics-after-deployment"></a><span data-ttu-id="85bb5-345">Cloud service diagnostische gegevens configureren na implementatie</span><span class="sxs-lookup"><span data-stu-id="85bb5-345">Configure cloud service diagnostics after deployment</span></span>
<span data-ttu-id="85bb5-346">Als u bij het onderzoeken van een probleem met een cloud service die al wordt uitgevoerd, kunt u voor het verzamelen van gegevens die u hebt opgegeven voordat u de rol oorspronkelijk geïmplementeerd.</span><span class="sxs-lookup"><span data-stu-id="85bb5-346">If you're investigating a problem with a cloud service that already running, you might want to collect data that you didn't specify before you originally deployed the role.</span></span> <span data-ttu-id="85bb5-347">U kunt in dit geval starten voor het verzamelen van gegevens met behulp van de instellingen in Server Explorer.</span><span class="sxs-lookup"><span data-stu-id="85bb5-347">In this case, you can start to collect that data by using the settings in Server Explorer.</span></span> <span data-ttu-id="85bb5-348">U kunt diagnostische gegevens voor één exemplaar of alle exemplaren in een rol, afhankelijk van of u het dialoogvenster configuratie van diagnostische vanuit het snelmenu voor het exemplaar of de functie openen configureren.</span><span class="sxs-lookup"><span data-stu-id="85bb5-348">You can configure diagnostics for either a single instance or all the instances in a role, depending on whether you open the Diagnostics Configuration dialog box from the shortcut menu for the instance or the role.</span></span> <span data-ttu-id="85bb5-349">Als u het knooppunt rol configureert, worden eventuele wijzigingen gelden voor alle exemplaren.</span><span class="sxs-lookup"><span data-stu-id="85bb5-349">If you configure the role node, any changes apply to all instances.</span></span> <span data-ttu-id="85bb5-350">Als u het knooppunt exemplaar configureert, worden eventuele wijzigingen gelden voor alleen dat exemplaar.</span><span class="sxs-lookup"><span data-stu-id="85bb5-350">If you configure the instance node, any changes apply to that instance only.</span></span>

### <a name="to-configure-diagnostics-for-a-running-cloud-service"></a><span data-ttu-id="85bb5-351">Diagnostische gegevens voor een actieve cloudservice configureren</span><span class="sxs-lookup"><span data-stu-id="85bb5-351">To configure diagnostics for a running cloud service</span></span>
1. <span data-ttu-id="85bb5-352">Vouw in Server Explorer de **Cloudservices** knooppunt, en vouw de knooppunten om te zoeken van de rol of -exemplaar dat u wilt onderzoeken of beide.</span><span class="sxs-lookup"><span data-stu-id="85bb5-352">In Server Explorer, expand the **Cloud Services** node, and then expand nodes to locate the role or instance that you want to investigate or both.</span></span>
   
    ![Configuratie van diagnostische gegevens](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748913.png)
2. <span data-ttu-id="85bb5-354">Kies in het snelmenu voor het knooppunt van een exemplaar of een knooppunt van de rol **Update diagnostische instellingen**, en kies vervolgens de diagnostische instellingen die u wilt verzamelen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-354">On the shortcut menu for an instance node or a role node, choose **Update Diagnostics Settings**, and then choose the diagnostic settings that you want to collect.</span></span>
   
    <span data-ttu-id="85bb5-355">Zie voor informatie over de configuratie-instellingen, **gegevensbronnen van diagnostische gegevens configureren** in dit onderwerp.</span><span class="sxs-lookup"><span data-stu-id="85bb5-355">For information about the configuration settings, see **Configure diagnostics data sources** in this topic.</span></span> <span data-ttu-id="85bb5-356">Zie voor meer informatie over het weergeven van de diagnostics-gegevens **de diagnostics-gegevens weergeven** in dit onderwerp.</span><span class="sxs-lookup"><span data-stu-id="85bb5-356">For information about how to view the diagnostics data, see **View the diagnostics data** in this topic.</span></span>
   
    <span data-ttu-id="85bb5-357">Als u het verzamelen van gegevens in wijzigt **Server Explorer**, deze wijzigingen blijven van kracht totdat u de cloudservice volledig opnieuw implementeren.</span><span class="sxs-lookup"><span data-stu-id="85bb5-357">If you change data collection in **Server Explorer**, these changes remain in effect until you fully redeploy your cloud service.</span></span> <span data-ttu-id="85bb5-358">Als u de standaardwaarde gebruiken publicatie-instellingen, de wijzigingen niet worden overschreven, omdat het publiceren van de standaard-instelling is bijwerken van de bestaande implementatie in plaats van een volledig opnieuw implementeren gaande doen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-358">If you use the default publish settings, the changes are not overwritten, since the default publish setting is to update the existing deployment, rather than do a full redeployment.</span></span> <span data-ttu-id="85bb5-359">Om er zeker van te zijn de instellingen tijdens de implementatie wissen, gaat u naar de **geavanceerde instellingen** tabblad in de wizard Publiceren en wis de **implementatie-update** selectievakje.</span><span class="sxs-lookup"><span data-stu-id="85bb5-359">To make sure the settings clear at deployment time, go to the **Advanced Settings** tab in the Publish wizard and clear the **Deployment update** checkbox.</span></span> <span data-ttu-id="85bb5-360">Wanneer u opnieuw met dit selectievakje is uitgeschakeld implementeert, terug de instellingen die in het bestand .wadcfgx (of .wadcfg) zoals ingesteld via de eigenschappen van editor voor de rol.</span><span class="sxs-lookup"><span data-stu-id="85bb5-360">When you redeploy with that checkbox cleared, the settings revert to those in the .wadcfgx (or .wadcfg) file as set through the Properties editor for the role.</span></span> <span data-ttu-id="85bb5-361">Als u uw implementatie hebt bijgewerkt, houdt Azure de oude instellingen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-361">If you update your deployment, Azure keeps the old settings.</span></span>

## <a name="troubleshoot-azure-cloud-service-issues"></a><span data-ttu-id="85bb5-362">Problemen met Azure cloud service</span><span class="sxs-lookup"><span data-stu-id="85bb5-362">Troubleshoot Azure cloud service issues</span></span>
<span data-ttu-id="85bb5-363">Als er problemen met uw cloudserviceprojecten, zoals een rol die blijft in 'bezet' status steken opgehaald herhaaldelijk wordt gerecycled of er een interne serverfout, er zijn hulpprogramma's en technieken die u kunt opsporen en oplossen van deze problemen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-363">If you experience problems with your cloud service projects, such as a role that gets stuck in a "busy" status, repeatedly recycles, or throws an internal server error, there are tools and techniques you can use to diagnose and fix these problems.</span></span> <span data-ttu-id="85bb5-364">Zie voor specifieke voorbeelden van algemene problemen en oplossingen, evenals een overzicht van de concepten en hulpprogramma's voor het opsporen en oplossen van dergelijke fouten, [Azure PaaS Compute Diagnostics-gegevens](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span><span class="sxs-lookup"><span data-stu-id="85bb5-364">For specific examples of common problems and solutions, as well as an overview of the concepts and tools used to diagnose and fix such errors, see [Azure PaaS Compute Diagnostics Data](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span></span>

## <a name="q--a"></a><span data-ttu-id="85bb5-365">Vragen en antwoorden</span><span class="sxs-lookup"><span data-stu-id="85bb5-365">Q & A</span></span>
<span data-ttu-id="85bb5-366">**Wat de buffergrootte is en hoe lang deze moet?**</span><span class="sxs-lookup"><span data-stu-id="85bb5-366">**What is the buffer size, and how large should it be?**</span></span>

<span data-ttu-id="85bb5-367">Op elk exemplaar van de virtuele machine beperken quota's hoeveel diagnostische gegevens kan worden opgeslagen op het lokale bestandssysteem.</span><span class="sxs-lookup"><span data-stu-id="85bb5-367">On each virtual machine instance, quotas limit how much diagnostic data can be stored on the local file system.</span></span> <span data-ttu-id="85bb5-368">Bovendien het opgeven van een buffergrootte voor elk type diagnostische gegevens die beschikbaar is.</span><span class="sxs-lookup"><span data-stu-id="85bb5-368">In addition, you specify a buffer size for each type of diagnostic data that's available.</span></span> <span data-ttu-id="85bb5-369">Deze buffergrootte fungeert als een quotum voor dit type gegevens.</span><span class="sxs-lookup"><span data-stu-id="85bb5-369">This buffer size acts like an individual quota for that type of data.</span></span> <span data-ttu-id="85bb5-370">U kunt de algehele quota en de hoeveelheid geheugen die overblijft bepalen door het controleren van de onderkant van het dialoogvenster.</span><span class="sxs-lookup"><span data-stu-id="85bb5-370">By checking the bottom of the dialog box, you can determine the overall quota and the amount of memory that remains.</span></span> <span data-ttu-id="85bb5-371">Als u groter buffers of meerdere typen gegevens opgeeft, moet u de algehele quota benaderen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-371">If you specify larger buffers or more types of data, you'll approach the overall quota.</span></span> <span data-ttu-id="85bb5-372">U kunt de algehele quota wijzigen door het wijzigen van het configuratiebestand diagnostics.wadcfg/.wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="85bb5-372">You can change the overall quota by modifying the diagnostics.wadcfg/.wadcfgx configuration file.</span></span> <span data-ttu-id="85bb5-373">De diagnostics-gegevens worden opgeslagen op het bestandssysteem dezelfde als de gegevens van uw toepassing, dus als uw toepassing gebruikmaakt van een groot aantal schijfruimte, u kunt de algehele diagnostics quotum mag niet verhogen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-373">The diagnostics data is stored on the same filesystem as your application’s data, so if your application uses a lot of disk space, you shouldn’t increase the overall diagnostics quota.</span></span>

<span data-ttu-id="85bb5-374">**Wat is de periode voor de overdracht en hoe lang deze moet?**</span><span class="sxs-lookup"><span data-stu-id="85bb5-374">**What is the transfer period, and how long should it be?**</span></span>

<span data-ttu-id="85bb5-375">De overdracht periode is de hoeveelheid tijd die is verstreken tussen gegevens worden vastgelegd.</span><span class="sxs-lookup"><span data-stu-id="85bb5-375">The transfer period is the amount of time that elapses between data captures.</span></span> <span data-ttu-id="85bb5-376">Na elke periode overdracht worden gegevens verplaatst uit het lokale bestandssysteem op een virtuele machine aan tabellen in uw opslagaccount.</span><span class="sxs-lookup"><span data-stu-id="85bb5-376">After each transfer period, data is moved from the local filesystem on a virtual machine to tables in your storage account.</span></span> <span data-ttu-id="85bb5-377">Als de hoeveelheid gegevens die worden verzameld het quotum voor het einde van een overdracht-periode overschrijdt, wordt de oudere gegevens verwijderd.</span><span class="sxs-lookup"><span data-stu-id="85bb5-377">If the amount of data that's collected exceeds the quota before the end of a transfer period, older data is discarded.</span></span> <span data-ttu-id="85bb5-378">Mogelijk wilt de periode overdracht verlagen als u bent verlies van gegevens omdat de gegevens groter is dan de buffergrootte of het algehele quotum.</span><span class="sxs-lookup"><span data-stu-id="85bb5-378">You might want to decrease the transfer period if you're losing data because your data exceeds the buffer size or the overall quota.</span></span>

<span data-ttu-id="85bb5-379">**Welke tijdzone zijn de tijdstempels in?**</span><span class="sxs-lookup"><span data-stu-id="85bb5-379">**What time zone are the time stamps in?**</span></span>

<span data-ttu-id="85bb5-380">De tijdstempels zijn in de lokale tijdzone van het datacenter dat als host fungeert voor uw cloudservice.</span><span class="sxs-lookup"><span data-stu-id="85bb5-380">The time stamps are in the local time zone of the data center that hosts your cloud service.</span></span> <span data-ttu-id="85bb5-381">De volgende drie timestamp-kolommen in de tabellen logboek worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="85bb5-381">The following three timestamp columns in the log tables are used.</span></span>

* <span data-ttu-id="85bb5-382">**PreciseTimeStamp** de ETW-tijdstempel van de gebeurtenis.</span><span class="sxs-lookup"><span data-stu-id="85bb5-382">**PreciseTimeStamp** is the ETW timestamp of the event.</span></span> <span data-ttu-id="85bb5-383">Dat wil zeggen de tijd van de client wordt de gebeurtenis vastgelegd.</span><span class="sxs-lookup"><span data-stu-id="85bb5-383">That is, the time the event is logged from the client.</span></span>
* <span data-ttu-id="85bb5-384">**TIJDSTEMPEL** wordt PreciseTimeStamp omlaag afgerond op de grens van de frequentie uploaden.</span><span class="sxs-lookup"><span data-stu-id="85bb5-384">**TIMESTAMP** is PreciseTimeStamp rounded down to the upload frequency boundary.</span></span> <span data-ttu-id="85bb5-385">Dus als uw uploadfrequentie 5 minuten en de gebeurtenis tijd 00:17:12 is, TIMESTAMP worden 00:15:00.</span><span class="sxs-lookup"><span data-stu-id="85bb5-385">So, if your upload frequency is 5 minutes and the event time 00:17:12, TIMESTAMP will be 00:15:00.</span></span>
* <span data-ttu-id="85bb5-386">**Tijdstempel** de tijdstempel waarop de entiteit is gemaakt in de Azure-tabel.</span><span class="sxs-lookup"><span data-stu-id="85bb5-386">**Timestamp** is the timestamp at which the entity was created in the Azure table.</span></span>

<span data-ttu-id="85bb5-387">**Hoe beheer ik kosten bij het verzamelen van diagnostische gegevens?**</span><span class="sxs-lookup"><span data-stu-id="85bb5-387">**How do I manage costs when collecting diagnostic information?**</span></span>

<span data-ttu-id="85bb5-388">De standaardinstellingen (**Meld niveau** ingesteld op **fout** en **overdracht periode** ingesteld op **1 minuut**) zijn ontworpen om kosten te minimaliseren.</span><span class="sxs-lookup"><span data-stu-id="85bb5-388">The default settings (**Log level** set to **Error** and **Transfer period** set to **1 minute**) are designed to minimize cost.</span></span> <span data-ttu-id="85bb5-389">De compute-kosten wordt verhoogd als u meer diagnostische gegevens verzamelen of verklein de periode voor overdracht.</span><span class="sxs-lookup"><span data-stu-id="85bb5-389">Your compute costs will increase if you collect more diagnostic data or decrease the transfer period.</span></span> <span data-ttu-id="85bb5-390">Niet meer gegevens dan u nodig hebt en u niet vergeten om het verzamelen van gegevens uitschakelen wanneer u niet langer verzamelen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-390">Don’t collect more data than you need, and don’t forget to disable data collection when you no longer need it.</span></span> <span data-ttu-id="85bb5-391">U kunt altijd het opnieuw inschakelen, zelfs tijdens runtime, zoals wordt weergegeven in de vorige sectie.</span><span class="sxs-lookup"><span data-stu-id="85bb5-391">You can always enable it again, even at runtime, as shown in the previous section.</span></span>

<span data-ttu-id="85bb5-392">**Hoe ik Logboeken is mislukt-aanvragen verzamelen uit IIS?**</span><span class="sxs-lookup"><span data-stu-id="85bb5-392">**How do I collect failed-request logs from IIS?**</span></span>

<span data-ttu-id="85bb5-393">Standaard verzamelen niet IIS logboeken is mislukt-aanvragen.</span><span class="sxs-lookup"><span data-stu-id="85bb5-393">By default, IIS doesn’t collect failed-request logs.</span></span> <span data-ttu-id="85bb5-394">U kunt IIS voor het verzamelen van deze als u het bestand web.config voor de Webrol bewerken configureren.</span><span class="sxs-lookup"><span data-stu-id="85bb5-394">You can configure IIS to collect them if you edit the web.config file for your web role.</span></span>

<span data-ttu-id="85bb5-395">**Ik ben traceringsinformatie niet ophalen uit RoleEntryPoint methoden zoals OnStart. Wat is er aan de hand?**</span><span class="sxs-lookup"><span data-stu-id="85bb5-395">**I’m not getting trace information from RoleEntryPoint methods like OnStart. What’s wrong?**</span></span>

<span data-ttu-id="85bb5-396">De methoden van RoleEntryPoint worden genoemd in de context van WAIISHost.exe, niet in IIS.</span><span class="sxs-lookup"><span data-stu-id="85bb5-396">The methods of RoleEntryPoint are called in the context of WAIISHost.exe, not IIS.</span></span> <span data-ttu-id="85bb5-397">Daarom de configuratiegegevens in web.config die normaal gesproken schakelt tracering niet van toepassing.</span><span class="sxs-lookup"><span data-stu-id="85bb5-397">Therefore, the configuration information in web.config that normally enables tracing doesn’t apply.</span></span> <span data-ttu-id="85bb5-398">U lost dit probleem, een .config-bestand toevoegen aan uw webrolproject en noem het bestand overeenkomen met de uitvoer-assembly die de RoleEntryPoint-code bevat.</span><span class="sxs-lookup"><span data-stu-id="85bb5-398">To resolve this issue, add a .config file to your web role project, and name the file to match the output assembly that contains the RoleEntryPoint code.</span></span> <span data-ttu-id="85bb5-399">In het webrolproject standaard is de naam van het .config-bestand WAIISHost.exe.config. Voeg vervolgens de volgende regels toe aan dit bestand:</span><span class="sxs-lookup"><span data-stu-id="85bb5-399">In the default web role project, the name of the .config file would be WAIISHost.exe.config. Then add the following lines to this file:</span></span>

```
<system.diagnostics>
  <trace>
      <listeners>
          <add name “AzureDiagnostics” type=”Microsoft.WindowsAzure.Diagnostics.DiagnosticMonitorTraceListener”>
              <filter type=”” />
          </add>
      </listeners>
  </trace>
</system.diagnostics>
```

<span data-ttu-id="85bb5-400">Nu in de **eigenschappen** Stel venster de **naar uitvoermap kopiëren** eigenschap **altijd kopiëren**.</span><span class="sxs-lookup"><span data-stu-id="85bb5-400">Now, in the **Properties** window, set the **Copy to Output Directory** property to **Copy always**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="85bb5-401">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="85bb5-401">Next steps</span></span>
<span data-ttu-id="85bb5-402">Zie voor meer informatie over diagnostische gegevens van logboekregistratie in Azure, [diagnostische gegevens inschakelen in Azure Cloud Services en virtuele Machines](cloud-services/cloud-services-dotnet-diagnostics.md) en [logboekregistratie van diagnostische gegevens van web-apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="85bb5-402">To learn more about diagnostics logging in Azure, see [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md) and [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span></span>

