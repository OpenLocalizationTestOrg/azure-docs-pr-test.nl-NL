---
title: Beveiligen van uw omgeving Internet der dingen | Microsoft Docs
description: Dit artikel wordt uitgelegd hoe u voor het beveiligen van uw IoT-implementatie
services: 
suite: iot-suite
documentationcenter: 
author: YuriDio
manager: timlt
editor: 
ms.assetid: 95c23341-16b0-4954-b3f2-d2e82ab7b367
ms.service: iot-suite
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/24/2017
ms.author: yurid
ms.openlocfilehash: d752dd13b138cdae80dac5c0b2f84a19fe0aa670
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/29/2017
---
# <a name="secure-your-iot-deployment"></a><span data-ttu-id="8dd3f-103">Uw IoT-implementatie beveiligen</span><span class="sxs-lookup"><span data-stu-id="8dd3f-103">Secure your IoT deployment</span></span>
<span data-ttu-id="8dd3f-104">In dit artikel biedt de volgende detailniveau voor het beveiligen van de infrastructuur op basis van Azure IoT-Internet der dingen (IoT).</span><span class="sxs-lookup"><span data-stu-id="8dd3f-104">This article provides the next level of detail for securing the Azure IoT-based Internet of Things (IoT) infrastructure.</span></span> <span data-ttu-id="8dd3f-105">Deze koppelingen naar gedetailleerde gegevens van de implementatie voor het configureren en implementeren van elk onderdeel.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-105">It links to implementation level details for configuring and deploying each component.</span></span> <span data-ttu-id="8dd3f-106">Het bevat ook vergelijkingen en -keuzes tussen verschillende concurrerende methoden.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-106">It also provides comparisons and choices between various competing methods.</span></span>

<span data-ttu-id="8dd3f-107">Beveiliging van de Azure IoT-implementatie kan worden onderverdeeld in de volgende drie beveiligingsgebieden:</span><span class="sxs-lookup"><span data-stu-id="8dd3f-107">Securing the Azure IoT deployment can be divided into the following three security areas:</span></span>

* <span data-ttu-id="8dd3f-108">**Apparaatbeveiliging**: beveiliging van de IoT-apparaat, terwijl deze is geïmplementeerd in het wild.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-108">**Device Security**: Securing the IoT device while it is deployed in the wild.</span></span>
* <span data-ttu-id="8dd3f-109">**Verbindingsbeveiliging**: alle gegevens die worden overgedragen tussen de IoT-apparaat en IoT Hub gezorgd is vertrouwelijk en fraudebestendig.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-109">**Connection Security**: Ensuring all data transmitted between the IoT device and IoT Hub is confidential and tamper-proof.</span></span>
* <span data-ttu-id="8dd3f-110">**Cloud Security**: de mogelijkheid om gegevens te beveiligen terwijl deze doorloopt en wordt opgeslagen in de cloud.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-110">**Cloud Security**: Providing a means to secure data while it moves through, and is stored in the cloud.</span></span>

![Drie beveiligingsgebieden][img-overview]

## <a name="secure-device-provisioning-and-authentication"></a><span data-ttu-id="8dd3f-112">Beveiligen van mobiele apparaten inrichten en verificatie</span><span class="sxs-lookup"><span data-stu-id="8dd3f-112">Secure device provisioning and authentication</span></span>
<span data-ttu-id="8dd3f-113">De Azure IoT Suite beveiligt IoT-apparaten door de volgende twee methoden:</span><span class="sxs-lookup"><span data-stu-id="8dd3f-113">The Azure IoT Suite secures IoT devices by the following two methods:</span></span>

* <span data-ttu-id="8dd3f-114">Dankzij een unieke id van de sleutel (beveiligingstokens) voor elk apparaat, die kan worden gebruikt door het apparaat om te communiceren met de IoT-Hub.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-114">By providing a unique identity key (security tokens) for each device, which can be used by the device to communicate with the IoT Hub.</span></span>
* <span data-ttu-id="8dd3f-115">Met behulp van een apparaat op [X.509-certificaat] [ lnk-x509] en de persoonlijke sleutel als een manier om het apparaat met de IoT Hub te verifiëren.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-115">By using an on-device [X.509 certificate][lnk-x509] and private key as a means to authenticate the device to the IoT Hub.</span></span> <span data-ttu-id="8dd3f-116">Deze verificatiemethode zorgt ervoor dat de persoonlijke sleutel op het apparaat niet bekend is buiten het apparaat op elk gewenst moment een hoger niveau van beveiliging bieden.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-116">This authentication method ensures that the private key on the device is not known outside the device at any time, providing a higher level of security.</span></span>

<span data-ttu-id="8dd3f-117">De token beveiligingsmethode biedt verificatie voor elke aanroep van het apparaat met IoT Hub door te koppelen van de symmetrische sleutel voor elke aanroep.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-117">The security token method provides authentication for each call made by the device to IoT Hub by associating the symmetric key to each call.</span></span> <span data-ttu-id="8dd3f-118">Verificatie op basis van een X.509 kunt verificatie van een IoT-apparaat op de fysieke laag als onderdeel van de TLS-verbinding tot stand brengen.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-118">X.509-based authentication allows authentication of an IoT device at the physical layer as part of the TLS connection establishment.</span></span> <span data-ttu-id="8dd3f-119">De methode op basis van beveiligings-tokens kan worden gebruikt zonder de x.509-verificatie een minder veilige patroon is.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-119">The security-token-based method can be used without the X.509 authentication which is a less secure pattern.</span></span> <span data-ttu-id="8dd3f-120">De keuze tussen de twee methoden is voornamelijk afhankelijk van hoe veilig apparaat verificatie moet worden en beschikbaarheid van beveiligde opslag op het apparaat (voor het veilig opslaan van de persoonlijke sleutel).</span><span class="sxs-lookup"><span data-stu-id="8dd3f-120">The choice between the two methods is primarily dictated by how secure the device authentication needs to be, and availability of secure storage on the device (to store the private key securely).</span></span>

## <a name="iot-hub-security-tokens"></a><span data-ttu-id="8dd3f-121">Beveiligingstokens van IoT Hub</span><span class="sxs-lookup"><span data-stu-id="8dd3f-121">IoT Hub security tokens</span></span>
<span data-ttu-id="8dd3f-122">IoT Hub gebruikt de beveiligingstokens om apparaten en services om te voorkomen dat sleutels verzenden via het netwerk te verifiëren.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-122">IoT Hub uses security tokens to authenticate devices and services to avoid sending keys on the network.</span></span> <span data-ttu-id="8dd3f-123">Bovendien zijn beveiligingstokens beperkt in geldigheid en het bereik.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-123">Additionally, security tokens are limited in time validity and scope.</span></span> <span data-ttu-id="8dd3f-124">Azure IoT SDK's automatisch genereren van tokens zonder speciale configuratie.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-124">Azure IoT SDKs automatically generate tokens without requiring any special configuration.</span></span> <span data-ttu-id="8dd3f-125">Sommige scenario's is echter vereist voor de gebruiker te genereren en beveiligingstokens rechtstreeks gebruiken.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-125">Some scenarios, however, require the user to generate and use security tokens directly.</span></span> <span data-ttu-id="8dd3f-126">Het gaat hierbij om het direct gebruik van het oppervlak MQTT, AMQP of HTTP- of de implementatie van het patroon van de service voor beveiligingstokens.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-126">These include the direct use of the MQTT, AMQP, or HTTP surfaces, or the implementation of the token service pattern.</span></span>

<span data-ttu-id="8dd3f-127">U vindt meer informatie over de structuur van het beveiligingstoken en het gebruik ervan in de volgende artikelen:</span><span class="sxs-lookup"><span data-stu-id="8dd3f-127">More details on the structure of the security token and its usage can be found in the following articles:</span></span>

* <span data-ttu-id="8dd3f-128">[Security token structuur][lnk-security-tokens]</span><span class="sxs-lookup"><span data-stu-id="8dd3f-128">[Security token structure][lnk-security-tokens]</span></span>
* <span data-ttu-id="8dd3f-129">[Met SAS-tokens als een apparaat][lnk-sas-tokens]</span><span class="sxs-lookup"><span data-stu-id="8dd3f-129">[Using SAS tokens as a device][lnk-sas-tokens]</span></span>

<span data-ttu-id="8dd3f-130">Elke IoT-Hub heeft een [identiteitsregister] [ lnk-identity-registry] die kunnen worden gebruikt per apparaat om resources te maken in de service, zoals een wachtrij met onderweg cloud-naar-apparaat-berichten, en dat toegang tot de apparaat gerichte eindpunten.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-130">Each IoT Hub has an [identity registry][lnk-identity-registry] that can be used to create per-device resources in the service, such as a queue that contains in-flight cloud-to-device messages, and to allow access to the device-facing endpoints.</span></span> <span data-ttu-id="8dd3f-131">De id-register van IoT Hub biedt een veilige opslag van apparaat-id's en sleutels voor een oplossing.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-131">The IoT Hub identity registry provides secure storage of device identities and security keys for a solution.</span></span> <span data-ttu-id="8dd3f-132">Persoon die of groepen van apparaat-id's kunnen worden toegevoegd aan een lijst met toegestane of een lijst met geblokkeerde volledige controle toegang tot het apparaat inschakelen.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-132">Individual or groups of device identities can be added to an allow list, or a block list, enabling complete control over device access.</span></span> <span data-ttu-id="8dd3f-133">De volgende artikelen bevatten meer details over de structuur van de id-register en de ondersteunde bewerkingen.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-133">The following articles provide more details on the structure of the identity registry and supported operations.</span></span>

<span data-ttu-id="8dd3f-134">[IoT Hub zoals MQTT AMQP en HTTP-protocollen ondersteunt][lnk-protocols].</span><span class="sxs-lookup"><span data-stu-id="8dd3f-134">[IoT Hub supports protocols such as MQTT, AMQP, and HTTP][lnk-protocols].</span></span> <span data-ttu-id="8dd3f-135">Elk van deze protocollen beveiligingstokens van de IoT-apparaat met IoT Hub anders gebruiken:</span><span class="sxs-lookup"><span data-stu-id="8dd3f-135">Each of these protocols use security tokens from the IoT device to IoT Hub differently:</span></span>

* <span data-ttu-id="8dd3f-136">AMQP: SASL zonder opmaak en op basis van Claims AMQP-beveiliging ({policyName}@sas.root. { iothubName} in het geval van IoT hub-niveau tokens; {deviceId} in het geval van tokens binnen het bereik van apparaat).</span><span class="sxs-lookup"><span data-stu-id="8dd3f-136">AMQP: SASL PLAIN and AMQP Claims-based security ({policyName}@sas.root.{iothubName} in the case of IoT hub-level tokens; {deviceId} in case of device-scoped tokens).</span></span>
* <span data-ttu-id="8dd3f-137">MQTT: Pakket wordt gebruikt {deviceId} VERBINDEN als {ClientId}, {IoThubhostname} / {deviceId} in de **gebruikersnaam** veld en een SAS-token in de **wachtwoord** veld.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-137">MQTT: CONNECT packet uses {deviceId} as the {ClientId}, {IoThubhostname}/{deviceId} in the **Username** field and a SAS token in the **Password** field.</span></span>
* <span data-ttu-id="8dd3f-138">HTTP: Ongeldig token is in de aanvraagheader autorisatie.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-138">HTTP: Valid token is in the authorization request header.</span></span>

<span data-ttu-id="8dd3f-139">ID-register IoT Hub kan worden gebruikt voor het configureren van per apparaat beveiligingsreferenties en toegangscontrole.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-139">IoT Hub identity registry can be used to configure per-device security credentials and access control.</span></span> <span data-ttu-id="8dd3f-140">Echter, als een IoT-oplossing heeft al een aanzienlijke investering een [aangepast apparaat identiteit register en/of verificatie schema][lnk-custom-auth], kunnen worden geïntegreerd in een bestaande infrastructuur met IoT Hub door het maken van een token service.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-140">However, if an IoT solution already has a significant investment in a [custom device identity registry and/or authentication scheme][lnk-custom-auth], it can be integrated into an existing infrastructure with IoT Hub by creating a token service.</span></span>

### <a name="x509-certificate-based-device-authentication"></a><span data-ttu-id="8dd3f-141">Verificatie van de X.509-apparaten op basis van certificaten</span><span class="sxs-lookup"><span data-stu-id="8dd3f-141">X.509 certificate-based device authentication</span></span>
<span data-ttu-id="8dd3f-142">Het gebruik van een [X.509-certificaat op basis van apparaten] [ lnk-protocols] en de bijbehorende persoonlijke en openbare sleutelpaar staat aanvullende verificatie op de fysieke laag.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-142">The use of a [device-based X.509 certificate][lnk-protocols] and its associated private and public key pair allows additional authentication at the physical layer.</span></span> <span data-ttu-id="8dd3f-143">De persoonlijke sleutel wordt veilig opgeslagen in het apparaat en is niet buiten het apparaat kan worden gedetecteerd.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-143">The private key is stored securely in the device and is not discoverable outside the device.</span></span> <span data-ttu-id="8dd3f-144">Het X.509-certificaat bevat informatie over het apparaat, zoals de apparaat-ID en de andere organisatie-gegevens.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-144">The X.509 certificate contains information about the device, such as device ID, and other organizational details.</span></span> <span data-ttu-id="8dd3f-145">Een handtekening van het certificaat wordt gegenereerd met behulp van de persoonlijke sleutel.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-145">A signature of the certificate is generated by using the private key.</span></span>

<span data-ttu-id="8dd3f-146">Inrichting stroom op hoog niveau apparaat:</span><span class="sxs-lookup"><span data-stu-id="8dd3f-146">High-level device provisioning flow:</span></span>

* <span data-ttu-id="8dd3f-147">Koppelen van een id naar een fysiek apparaat – apparaat-id en/of X.509-certificaat dat is gekoppeld aan het apparaat tijdens apparaat productie of bedrijf stellen.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-147">Associate an identifier to a physical device – device identity and/or X.509 certificate associated to the device during device manufacturing or commissioning.</span></span>
* <span data-ttu-id="8dd3f-148">Overeenkomende identiteit invoer in IoT Hub-apparaat-id en de bijbehorende apparaatgegevens in het identiteitenregister van IoT Hub maken.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-148">Create a corresponding identity entry in IoT Hub – device identity and associated device information in the IoT Hub identity registry.</span></span>
* <span data-ttu-id="8dd3f-149">Vingerafdruk van het x.509-certificaat veilig opslaan in het register van IoT Hub-identiteit.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-149">Securely store X.509 certificate thumbprint in IoT Hub identity registry.</span></span>

### <a name="root-certificate-on-device"></a><span data-ttu-id="8dd3f-150">Basiscertificaat op apparaat</span><span class="sxs-lookup"><span data-stu-id="8dd3f-150">Root certificate on device</span></span>
<span data-ttu-id="8dd3f-151">Tijdens het maken van een beveiligde TLS-verbinding met IoT Hub, verifieert het IoT-apparaat een basiscertificaat dat deel uitmaakt van het apparaat-SDK met IoT-Hub.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-151">While establishing a secure TLS connection with IoT Hub, the IoT device authenticates IoT Hub using a root certificate which is part of the device SDK.</span></span> <span data-ttu-id="8dd3f-152">Voor de C-client SDK het certificaat bevindt zich onder de map '\\c\\certificaten ' onder de hoofdmap van de opslagplaats.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-152">For the C client SDK the certificate is located under the folder "\\c\\certs" under the root of the repo.</span></span> <span data-ttu-id="8dd3f-153">Deze basiscertificaten lange levensduur hebben, maar ze nog steeds mogelijk verlopen of worden ingetrokken.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-153">Though these root certificates are long-lived, they still may expire or be revoked.</span></span> <span data-ttu-id="8dd3f-154">Als er geen manier om het certificaat op het apparaat bij te werken is, worden het apparaat niet worden vervolgens verbinding maken met de IoT-Hub (of een andere cloudservice).</span><span class="sxs-lookup"><span data-stu-id="8dd3f-154">If there is no way of updating the certificate on the device, the device may not be able to subsequently connect to the IoT Hub (or any other cloud service).</span></span> <span data-ttu-id="8dd3f-155">Met een betekent het basiscertificaat bijwerken zodra de IoT-apparaat is geïmplementeerd, wordt dit risico effectief beperken.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-155">Having a means to update the root certificate once the IoT device is deployed will effectively mitigate this risk.</span></span>

## <a name="securing-the-connection"></a><span data-ttu-id="8dd3f-156">De verbinding te beveiligen</span><span class="sxs-lookup"><span data-stu-id="8dd3f-156">Securing the connection</span></span>
<span data-ttu-id="8dd3f-157">Internet-verbinding tussen de IoT-apparaat en IoT Hub is beveiligd met de standaard Transport Layer Security (TLS).</span><span class="sxs-lookup"><span data-stu-id="8dd3f-157">Internet connection between the IoT device and IoT Hub is secured using the Transport Layer Security (TLS) standard.</span></span> <span data-ttu-id="8dd3f-158">Azure IoT ondersteunt [TLS 1.2][lnk-tls12], TLS 1.1 en TLS 1.0 in deze volgorde.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-158">Azure IoT supports [TLS 1.2][lnk-tls12], TLS 1.1 and TLS 1.0, in this order.</span></span> <span data-ttu-id="8dd3f-159">Ondersteuning voor TLS 1.0 wordt geleverd alleen voor achterwaartse compatibiliteit.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-159">Support for TLS 1.0 is provided for backward compatibility only.</span></span> <span data-ttu-id="8dd3f-160">Het verdient aanbeveling TLS 1.2 gebruikt, omdat de meeste beveiliging biedt.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-160">It is recommended to use TLS 1.2 since it provides the most security.</span></span>

<span data-ttu-id="8dd3f-161">Azure IoT Suite ondersteunt de volgende coderingssuites in deze volgorde.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-161">Azure IoT Suite supports the following Cipher Suites, in this order.</span></span>

| <span data-ttu-id="8dd3f-162">Coderingssuite</span><span class="sxs-lookup"><span data-stu-id="8dd3f-162">Cipher Suite</span></span> | <span data-ttu-id="8dd3f-163">lengte</span><span class="sxs-lookup"><span data-stu-id="8dd3f-163">Length</span></span> |
| --- | --- |
| <span data-ttu-id="8dd3f-164">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA384 (0xc028) ECDH secp384r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-164">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA384 (0xc028) ECDH secp384r1 (eq.</span></span> <span data-ttu-id="8dd3f-165">FS 7680 bits RSA)</span><span class="sxs-lookup"><span data-stu-id="8dd3f-165">7680 bits RSA) FS</span></span> |<span data-ttu-id="8dd3f-166">256</span><span class="sxs-lookup"><span data-stu-id="8dd3f-166">256</span></span> |
| <span data-ttu-id="8dd3f-167">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0xc027) ECDH secp256r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-167">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0xc027) ECDH secp256r1 (eq.</span></span> <span data-ttu-id="8dd3f-168">FS 3072 bits RSA)</span><span class="sxs-lookup"><span data-stu-id="8dd3f-168">3072 bits RSA) FS</span></span> |<span data-ttu-id="8dd3f-169">128</span><span class="sxs-lookup"><span data-stu-id="8dd3f-169">128</span></span> |
| <span data-ttu-id="8dd3f-170">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA (0xc014) ECDH secp384r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-170">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA (0xc014) ECDH secp384r1 (eq.</span></span> <span data-ttu-id="8dd3f-171">FS 7680 bits RSA)</span><span class="sxs-lookup"><span data-stu-id="8dd3f-171">7680 bits RSA) FS</span></span> |<span data-ttu-id="8dd3f-172">256</span><span class="sxs-lookup"><span data-stu-id="8dd3f-172">256</span></span> |
| <span data-ttu-id="8dd3f-173">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA (0xc013) ECDH secp256r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-173">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA (0xc013) ECDH secp256r1 (eq.</span></span> <span data-ttu-id="8dd3f-174">FS 3072 bits RSA)</span><span class="sxs-lookup"><span data-stu-id="8dd3f-174">3072 bits RSA) FS</span></span> |<span data-ttu-id="8dd3f-175">128</span><span class="sxs-lookup"><span data-stu-id="8dd3f-175">128</span></span> |
| <span data-ttu-id="8dd3f-176">TLS\_RSA\_WITH\_AES\_256\_GCM\_SHA384 (0x9d)</span><span class="sxs-lookup"><span data-stu-id="8dd3f-176">TLS\_RSA\_WITH\_AES\_256\_GCM\_SHA384 (0x9d)</span></span> |<span data-ttu-id="8dd3f-177">256</span><span class="sxs-lookup"><span data-stu-id="8dd3f-177">256</span></span> |
| <span data-ttu-id="8dd3f-178">TLS\_RSA\_WITH\_AES\_128\_GCM\_SHA256 (0x9c)</span><span class="sxs-lookup"><span data-stu-id="8dd3f-178">TLS\_RSA\_WITH\_AES\_128\_GCM\_SHA256 (0x9c)</span></span> |<span data-ttu-id="8dd3f-179">128</span><span class="sxs-lookup"><span data-stu-id="8dd3f-179">128</span></span> |
| <span data-ttu-id="8dd3f-180">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA256 (0x3d)</span><span class="sxs-lookup"><span data-stu-id="8dd3f-180">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA256 (0x3d)</span></span> |<span data-ttu-id="8dd3f-181">256</span><span class="sxs-lookup"><span data-stu-id="8dd3f-181">256</span></span> |
| <span data-ttu-id="8dd3f-182">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0x3c)</span><span class="sxs-lookup"><span data-stu-id="8dd3f-182">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0x3c)</span></span> |<span data-ttu-id="8dd3f-183">128</span><span class="sxs-lookup"><span data-stu-id="8dd3f-183">128</span></span> |
| <span data-ttu-id="8dd3f-184">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA (0x35)</span><span class="sxs-lookup"><span data-stu-id="8dd3f-184">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA (0x35)</span></span> |<span data-ttu-id="8dd3f-185">256</span><span class="sxs-lookup"><span data-stu-id="8dd3f-185">256</span></span> |
| <span data-ttu-id="8dd3f-186">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA (0x2f)</span><span class="sxs-lookup"><span data-stu-id="8dd3f-186">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA (0x2f)</span></span> |<span data-ttu-id="8dd3f-187">128</span><span class="sxs-lookup"><span data-stu-id="8dd3f-187">128</span></span> |
| <span data-ttu-id="8dd3f-188">TLS\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA (0xa)</span><span class="sxs-lookup"><span data-stu-id="8dd3f-188">TLS\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA (0xa)</span></span> |<span data-ttu-id="8dd3f-189">112</span><span class="sxs-lookup"><span data-stu-id="8dd3f-189">112</span></span> |

## <a name="securing-the-cloud"></a><span data-ttu-id="8dd3f-190">Beveiliging van de cloud</span><span class="sxs-lookup"><span data-stu-id="8dd3f-190">Securing the cloud</span></span>
<span data-ttu-id="8dd3f-191">Azure IoT-Hub kunt definitie van [toegangsbeheerbeleid] [ lnk-protocols] voor elke beveiligingssleutel.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-191">Azure IoT Hub allows definition of [access control policies][lnk-protocols] for each security key.</span></span> <span data-ttu-id="8dd3f-192">De volgende set machtigingen wordt gebruikt om toegang aan elk van de eindpunten van IoT-Hub te verlenen.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-192">It uses the following set of permissions to grant access to each of IoT Hub's endpoints.</span></span> <span data-ttu-id="8dd3f-193">Machtigingen beperken de toegang tot een IoT-Hub die op basis van functionaliteit.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-193">Permissions limit the access to an IoT Hub based on functionality.</span></span>

* <span data-ttu-id="8dd3f-194">**RegistryRead**.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-194">**RegistryRead**.</span></span> <span data-ttu-id="8dd3f-195">Verleent leestoegang tot het identiteitsregister.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-195">Grants read access to the identity registry.</span></span> <span data-ttu-id="8dd3f-196">Zie voor meer informatie [identiteitsregister][lnk-identity-registry].</span><span class="sxs-lookup"><span data-stu-id="8dd3f-196">For more information, see [identity registry][lnk-identity-registry].</span></span>
* <span data-ttu-id="8dd3f-197">**RegistryReadWrite**.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-197">**RegistryReadWrite**.</span></span> <span data-ttu-id="8dd3f-198">Verleent lezen en schrijven in het identiteitsregister.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-198">Grants read and write access to the identity registry.</span></span> <span data-ttu-id="8dd3f-199">Zie voor meer informatie [identiteitsregister][lnk-identity-registry].</span><span class="sxs-lookup"><span data-stu-id="8dd3f-199">For more information, see [identity registry][lnk-identity-registry].</span></span>
* <span data-ttu-id="8dd3f-200">**ServiceConnect**.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-200">**ServiceConnect**.</span></span> <span data-ttu-id="8dd3f-201">Verleent toegang tot de cloud service gerichte communicatie en controle-eindpunten.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-201">Grants access to cloud service-facing communication and monitoring endpoints.</span></span> <span data-ttu-id="8dd3f-202">Bijvoorbeeld, geeft het recht met back-end-cloud-services op apparaat-naar-cloud-berichten ontvangen berichten van cloud naar apparaat verzenden en het ophalen van de bijbehorende levering bevestigingen.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-202">For example, it grants permission to back-end cloud services to receive device-to-cloud messages, send cloud-to-device messages, and retrieve the corresponding delivery acknowledgments.</span></span>
* <span data-ttu-id="8dd3f-203">**DeviceConnect**.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-203">**DeviceConnect**.</span></span> <span data-ttu-id="8dd3f-204">Verleent toegang tot apparaat gerichte eindpunten.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-204">Grants access to device-facing endpoints.</span></span> <span data-ttu-id="8dd3f-205">Bijvoorbeeld, geeft het recht voor apparaat-naar-cloud-berichten verzenden en ontvangen berichten van de cloud-naar-apparaat.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-205">For example, it grants permission to send device-to-cloud messages and receive cloud-to-device messages.</span></span> <span data-ttu-id="8dd3f-206">Deze machtiging wordt gebruikt door apparaten.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-206">This permission is used by devices.</span></span>

<span data-ttu-id="8dd3f-207">Er zijn twee manieren verkrijgen **DeviceConnect** machtigingen met IoT Hub met [beveiligingstokens][lnk-sas-tokens]: met een id-sleutel van het apparaat of een gedeelde toegangssleutel.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-207">There are two ways to obtain **DeviceConnect** permissions with IoT Hub with [security tokens][lnk-sas-tokens]: using a device identity key, or a shared access key.</span></span> <span data-ttu-id="8dd3f-208">Bovendien is het belangrijk te weten dat toegankelijk is vanaf de apparaten van alle functionaliteit wordt blootgesteld aan het ontwerp voor eindpunten met voorvoegsel `/devices/{deviceId}`.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-208">Moreover, it is important to note that all functionality accessible from devices is exposed by design on endpoints with prefix `/devices/{deviceId}`.</span></span>

<span data-ttu-id="8dd3f-209">[Service-onderdelen kunnen alleen beveiligingstokens worden gegenereerd] [ lnk-service-tokens] gebruik gedeeld toegangsbeleid de juiste machtigingen te verlenen.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-209">[Service components can only generate security tokens][lnk-service-tokens] using shared access policies granting the appropriate permissions.</span></span>

<span data-ttu-id="8dd3f-210">Azure IoT Hub en andere services die deel uitmaken van de oplossing wellicht kunnen beheer van gebruikers met de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-210">Azure IoT Hub and other services which may be part of the solution allow management of users using the Azure Active Directory.</span></span>

<span data-ttu-id="8dd3f-211">Gegevens ingenomen door Azure IoT Hub kan worden gebruikt door diverse services zoals Azure Stream Analytics en Azure blob-opslag.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-211">Data ingested by Azure IoT Hub can be consumed by a variety of services such as Azure Stream Analytics and Azure blob storage.</span></span> <span data-ttu-id="8dd3f-212">Deze services toestaan management toegang.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-212">These services allow management access.</span></span> <span data-ttu-id="8dd3f-213">Meer informatie over deze services en de beschikbare opties hieronder:</span><span class="sxs-lookup"><span data-stu-id="8dd3f-213">Read more about these services and available options below:</span></span>

* <span data-ttu-id="8dd3f-214">[Azure Cosmos DB][lnk-docdb]: een schaalbare, volledig geïndexeerd databaseservice voor semi-gestructureerde gegevens die u beheert de metagegevens voor de apparaten die u inricht, zoals kenmerken, configuratie en beveiligingseigenschappen.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-214">[Azure Cosmos DB][lnk-docdb]: A scalable, fully-indexed database service for semi-structured data that manages metadata for the devices you provision, such as attributes, configuration, and security properties.</span></span> <span data-ttu-id="8dd3f-215">Cosmos DB biedt hoge prestaties en hoge gegevensdoorvoer verwerking, schema networkdirect indexeren van gegevens en een uitgebreide SQL-QueryInterface.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-215">Cosmos DB offers high-performance and high-throughput processing, schema-agnostic indexing of data, and a rich SQL query interface.</span></span>
* <span data-ttu-id="8dd3f-216">[Azure Stream Analytics][lnk-asa]: realtime stroom wordt verwerkt in de cloud waarmee u snel ontwikkelen en implementeren van een analyses voordelige oplossing voor realtime-inzichten verkrijgen van apparaten, sensoren, infrastructuur, onthullen en toepassingen.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-216">[Azure Stream Analytics][lnk-asa]: Real-time stream processing in the cloud that enables you to rapidly develop and deploy a low-cost analytics solution to uncover real-time insights from devices, sensors, infrastructure, and applications.</span></span> <span data-ttu-id="8dd3f-217">De gegevens van deze volledig beheerde service kunnen worden geschaald naar een volume en toch veel doorvoer, lage latentie en tolerantie kan bereiken.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-217">The data from this fully-managed service can scale to any volume while still achieving high throughput, low latency, and resiliency.</span></span>
* <span data-ttu-id="8dd3f-218">[Azure App Services][lnk-appservices]: een cloudplatform voor het bouwen van krachtige web- en mobiele apps die verbinding met gegevens overal; in de cloud of on-premises maken.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-218">[Azure App Services][lnk-appservices]: A cloud platform to build powerful web and mobile apps that connect to data anywhere; in the cloud or on-premises.</span></span> <span data-ttu-id="8dd3f-219">Aansprekende mobiele apps bouwen voor iOS, Android en Windows.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-219">Build engaging mobile apps for iOS, Android, and Windows.</span></span> <span data-ttu-id="8dd3f-220">Geïntegreerd met uw Software als een Service (SaaS) en zakelijke toepassingen met out-of-the-box-connectiviteit naar tientallen cloudservices en bedrijfstoepassingen.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-220">Integrate with your Software as a Service (SaaS) and enterprise applications with out-of-the-box connectivity to dozens of cloud-based services and enterprise applications.</span></span> <span data-ttu-id="8dd3f-221">De code in uw favoriete taal en IDE (.NET, Node.js, PHP, Python of Java) voor het bouwen van web-apps en API's sneller dan ooit.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-221">Code in your favorite language and IDE (.NET, Node.js, PHP, Python, or Java) to build web apps and APIs faster than ever.</span></span>
* <span data-ttu-id="8dd3f-222">[Logic Apps][lnk-logicapps]: de Logic Apps-functie van Azure App Service helpt bij het integreren van uw IoT-oplossing aan uw bestaande line-of-business-systemen en workflow-processen automatiseren.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-222">[Logic Apps][lnk-logicapps]: The Logic Apps feature of Azure App Service helps integrate your IoT solution to your existing line-of-business systems and automate workflow processes.</span></span> <span data-ttu-id="8dd3f-223">Logic Apps kan ontwikkelaars werkstromen ontwerpen die na een trigger worden gestart en vervolgens een aantal stappen uitgevoerd: regels en acties die krachtige connectors gebruiken om te integreren met uw bedrijfsprocessen.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-223">Logic Apps enables developers to design workflows that start from a trigger and then execute a series of steps—rules and actions that use powerful connectors to integrate with your business processes.</span></span> <span data-ttu-id="8dd3f-224">Logic Apps biedt out-of-the-box-connectiviteit met een enorme ecosysteem van SaaS, op basis van cloud en on-premises toepassingen.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-224">Logic Apps offers out-of-the-box connectivity to a vast ecosystem of SaaS, cloud-based, and on-premises applications.</span></span>
* <span data-ttu-id="8dd3f-225">[Azure-blobopslag][lnk-blob]: betrouwbare en voordelige cloud-opslag voor de gegevens die uw apparaten naar de cloud verzenden.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-225">[Azure blob storage][lnk-blob]: Reliable, economical cloud storage for the data that your devices send to the cloud.</span></span>

## <a name="conclusion"></a><span data-ttu-id="8dd3f-226">Conclusie</span><span class="sxs-lookup"><span data-stu-id="8dd3f-226">Conclusion</span></span>
<span data-ttu-id="8dd3f-227">Dit artikel bevat de mate van details over het ontwerpen en implementeren van een IoT-infrastructuur met behulp van Azure IoT overzicht van de uitvoering.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-227">This article provides overview of implementation level details for designing and deploying an IoT infrastructure using Azure IoT.</span></span> <span data-ttu-id="8dd3f-228">Configureren van elk onderdeel om te worden beveiligd, is de sleutel in het beveiligen van de algemene IoT-infrastructuur.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-228">Configuring each component to be secure is key in securing the overall IoT infrastructure.</span></span> <span data-ttu-id="8dd3f-229">De ontwerpbeslissingen die beschikbaar zijn in Azure IoT een bepaalde mate van flexibiliteit en keuze; elke keuze hebben echter beveiligingsgebied.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-229">The design choices available in Azure IoT provide some level of flexibility and choice; however, each choice may have security implications.</span></span> <span data-ttu-id="8dd3f-230">Het is raadzaam dat elk van deze keuzes worden geëvalueerd door een/kosten van het risico-evaluatie.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-230">It is recommended that each of these choices be evaluated through a risk/cost assessment.</span></span>

## <a name="see-also"></a><span data-ttu-id="8dd3f-231">Zie ook</span><span class="sxs-lookup"><span data-stu-id="8dd3f-231">See also</span></span>
<span data-ttu-id="8dd3f-232">U kunt ook enkele van de andere functies en mogelijkheden van de vooraf geconfigureerde IoT Suite-oplossingen verkennen:</span><span class="sxs-lookup"><span data-stu-id="8dd3f-232">You can also explore some of the other features and capabilities of the IoT Suite preconfigured solutions:</span></span>

* <span data-ttu-id="8dd3f-233">[Overzicht van voorspeld onderhoud vooraf geconfigureerde oplossing][lnk-predictive-overview]</span><span class="sxs-lookup"><span data-stu-id="8dd3f-233">[Predictive maintenance preconfigured solution overview][lnk-predictive-overview]</span></span>
* <span data-ttu-id="8dd3f-234">[Veelgestelde vragen over IoT Suite][lnk-faq]</span><span class="sxs-lookup"><span data-stu-id="8dd3f-234">[Frequently asked questions for IoT Suite][lnk-faq]</span></span>

<span data-ttu-id="8dd3f-235">U kunt meer informatie over beveiliging in IoT Hub [toegangsbeheer met IoT Hub] [ lnk-devguide-security] in de IoT Hub developer guide.</span><span class="sxs-lookup"><span data-stu-id="8dd3f-235">You can read about IoT Hub security in [Control access to IoT Hub][lnk-devguide-security] in the IoT Hub developer guide.</span></span>


[img-overview]: media/iot-suite-security-deployment/overview.png

[lnk-security-tokens]: ../iot-hub/iot-hub-devguide-security.md#security-token-structure
[lnk-sas-tokens]: ../iot-hub/iot-hub-devguide-security.md#use-sas-tokens-in-a-device-app
[lnk-identity-registry]: ../iot-hub/iot-hub-devguide-identity-registry.md
[lnk-protocols]: ../iot-hub/iot-hub-devguide-security.md
[lnk-custom-auth]: ../iot-hub/iot-hub-devguide-security.md#custom-device-authentication
[lnk-x509]: http://www.itu.int/rec/T-REC-X.509-201210-I/en
[lnk-tls12]: https://tools.ietf.org/html/rfc5246
[lnk-service-tokens]: ../iot-hub/iot-hub-devguide-security.md#use-security-tokens-from-service-components
[lnk-docdb]: https://azure.microsoft.com/services/documentdb/
[lnk-asa]: https://azure.microsoft.com/services/stream-analytics/
[lnk-appservices]: https://azure.microsoft.com/services/app-service/
[lnk-logicapps]: https://azure.microsoft.com/services/app-service/logic/
[lnk-blob]: https://azure.microsoft.com/services/storage/

[lnk-predictive-overview]: iot-suite-predictive-overview.md
[lnk-faq]: iot-suite-faq.md
[lnk-devguide-security]: ../iot-hub/iot-hub-devguide-security.md
