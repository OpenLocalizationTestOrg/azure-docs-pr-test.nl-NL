---
title: Ondersteuning voor cross-Origin-Resource delen (CORS) | Microsoft Docs
description: Informatie over het inschakelen van CORS-ondersteuning voor de Microsoft Azure Storage-Services.
services: storage
documentationcenter: .net
author: cbrooksmsft
manager: carmonm
editor: tysonn
ms.assetid: a0229595-5b64-4898-b8d6-fa2625ea6887
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 2/22/2017
ms.author: cbrooks
ms.openlocfilehash: 8d189d3ec3e6081dd37b912824f287cd75f39b35
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/29/2017
---
# <a name="cross-origin-resource-sharing-cors-support-for-the-azure-storage-services"></a><span data-ttu-id="503d0-103">Cross-Origin-Resource delen (CORS) ondersteuning voor de Azure Storage-Services</span><span class="sxs-lookup"><span data-stu-id="503d0-103">Cross-Origin Resource Sharing (CORS) Support for the Azure Storage Services</span></span>
<span data-ttu-id="503d0-104">Vanaf versie 2013-08-15, ondersteuning de Azure storage-services Cross-Origin-Resource delen (CORS) voor de services Blob, Table, wachtrijen en -bestand.</span><span class="sxs-lookup"><span data-stu-id="503d0-104">Beginning with version 2013-08-15, the Azure storage services support Cross-Origin Resource Sharing (CORS) for the Blob, Table, Queue, and File services.</span></span> <span data-ttu-id="503d0-105">CORS is een HTTP-functie waarmee een webtoepassing in een domein met toegang tot bronnen in een ander domein.</span><span class="sxs-lookup"><span data-stu-id="503d0-105">CORS is an HTTP feature that enables a web application running under one domain to access resources in another domain.</span></span> <span data-ttu-id="503d0-106">Webbrowsers implementeren een beveiligingsbeperkingen bekend als [dezelfde oorsprong beleid](http://www.w3.org/Security/wiki/Same_Origin_Policy) dat voorkomt dat een webpagina van aanroepen API's in een ander domein; CORS biedt een veilige manier om toe te staan van een domein (het domein van de oorsprong) om aan te roepen API's in een ander domein.</span><span class="sxs-lookup"><span data-stu-id="503d0-106">Web browsers implement a security restriction known as [same-origin policy](http://www.w3.org/Security/wiki/Same_Origin_Policy) that prevents a web page from calling APIs in a different domain; CORS provides a secure way to allow one domain (the origin domain) to call APIs in another domain.</span></span> <span data-ttu-id="503d0-107">Zie de [CORS-specificatie](http://www.w3.org/TR/cors/) voor meer informatie over CORS.</span><span class="sxs-lookup"><span data-stu-id="503d0-107">See the [CORS specification](http://www.w3.org/TR/cors/) for details on CORS.</span></span>

<span data-ttu-id="503d0-108">U kunt CORS-regels afzonderlijk instellen voor elk van de storage-services door het aanroepen van [Blob-Service-eigenschappen instellen](https://msdn.microsoft.com/library/hh452235.aspx), [Queue-Service-eigenschappen instellen](https://msdn.microsoft.com/library/hh452232.aspx), en [tabel-Service-eigenschappeninstellen](https://msdn.microsoft.com/library/hh452240.aspx).</span><span class="sxs-lookup"><span data-stu-id="503d0-108">You can set CORS rules individually for each of the storage services, by calling [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx).</span></span> <span data-ttu-id="503d0-109">Als u de CORS-regels voor de service hebt ingesteld, wordt een correct geverifieerde aanvraag ten opzichte van de service uit een ander domein worden geëvalueerd om te bepalen of het is toegestaan volgens de regels die u hebt opgegeven.</span><span class="sxs-lookup"><span data-stu-id="503d0-109">Once you set the CORS rules for the service, then a properly authenticated request made against the service from a different domain will be evaluated to determine whether it is allowed according to the rules you have specified.</span></span>

> [!NOTE]
> <span data-ttu-id="503d0-110">Houd er rekening mee dat CORS niet een verificatiemethode is.</span><span class="sxs-lookup"><span data-stu-id="503d0-110">Note that CORS is not an authentication mechanism.</span></span> <span data-ttu-id="503d0-111">Elk verzoek ten opzichte van een opslagresource wanneer CORS is ingeschakeld moet een handtekening van de juiste verificatiegegevens, of moet worden gemaakt op basis van een openbare resource.</span><span class="sxs-lookup"><span data-stu-id="503d0-111">Any request made against a storage resource when CORS is enabled must either have a proper authentication signature, or must be made against a public resource.</span></span>
> 
> 

## <a name="understanding-cors-requests"></a><span data-ttu-id="503d0-112">Understanding CORS aanvragen</span><span class="sxs-lookup"><span data-stu-id="503d0-112">Understanding CORS requests</span></span>
<span data-ttu-id="503d0-113">Een CORS-aanvraag van een brondomein kan bestaan uit twee afzonderlijke aanvragen:</span><span class="sxs-lookup"><span data-stu-id="503d0-113">A CORS request from an origin domain may consist of two separate requests:</span></span>

* <span data-ttu-id="503d0-114">Een voorbereidende aanvraag, die de CORS-beperkingen die zijn opgelegd door de service.</span><span class="sxs-lookup"><span data-stu-id="503d0-114">A preflight request, which queries the CORS restrictions imposed by the service.</span></span> <span data-ttu-id="503d0-115">De voorbereidende aanvraag is vereist, tenzij de aanvraagmethode is een [eenvoudige methode](http://www.w3.org/TR/cors/), wat betekent dat GET, HEAD of POST.</span><span class="sxs-lookup"><span data-stu-id="503d0-115">The preflight request is required unless the request method is a [simple method](http://www.w3.org/TR/cors/), meaning GET, HEAD, or POST.</span></span>
* <span data-ttu-id="503d0-116">De werkelijke aanvraag ten opzichte van de gewenste resource.</span><span class="sxs-lookup"><span data-stu-id="503d0-116">The actual request, made against the desired resource.</span></span>

### <a name="preflight-request"></a><span data-ttu-id="503d0-117">Voorbereidende aanvraag</span><span class="sxs-lookup"><span data-stu-id="503d0-117">Preflight request</span></span>
<span data-ttu-id="503d0-118">De voorbereidende aanvraag query's de CORS-beperkingen die zijn gemaakt voor de storage-service door de eigenaar van het account.</span><span class="sxs-lookup"><span data-stu-id="503d0-118">The preflight request queries the CORS restrictions that have been established for the storage service by the account owner.</span></span> <span data-ttu-id="503d0-119">De webbrowser (of andere gebruikersagent) verzendt een aanvraag voor opties die de aanvraagheaders, methode en de oorsprong domein bevat.</span><span class="sxs-lookup"><span data-stu-id="503d0-119">The web browser (or other user agent) sends an OPTIONS request that includes the request headers, method and origin domain.</span></span> <span data-ttu-id="503d0-120">De storage-service evalueert de bewerking op basis van een vooraf geconfigureerde reeks CORS-regels die opgeeft welke domeinen, aanvraagmethoden en aanvraagheaders kunnen worden opgegeven voor een werkelijke aanvraag tegen een opslagresource.</span><span class="sxs-lookup"><span data-stu-id="503d0-120">The storage service evaluates the intended operation based on a pre-configured set of CORS rules that specify which origin domains, request methods, and request headers may be specified on an actual request against a storage resource.</span></span>

<span data-ttu-id="503d0-121">Als u CORS voor de service is ingeschakeld en er is een CORS-regel die overeenkomt met de voorbereidende aanvraag, wordt de service reageert met de statuscode 200 (OK) en bevat de vereiste Access Control-kopteksten in het antwoord.</span><span class="sxs-lookup"><span data-stu-id="503d0-121">If CORS is enabled for the service and there is a CORS rule that matches the preflight request, the service responds with status code 200 (OK), and includes the required Access-Control headers in the response.</span></span>

<span data-ttu-id="503d0-122">Als CORS is niet ingeschakeld voor de service of er geen regel CORS overeenkomt met de voorbereidende aanvraag, wordt de service reageren met de statuscode 403 (verboden).</span><span class="sxs-lookup"><span data-stu-id="503d0-122">If CORS is not enabled for the service or no CORS rule matches the preflight request, the service will respond with status code 403 (Forbidden).</span></span>

<span data-ttu-id="503d0-123">Als de opties-aanvraag bevat niet de vereiste CORS-headers (de oorsprong en Access Control-aanvraag methode headers), wordt de service reageert met de statuscode 400 (ongeldige aanvraag).</span><span class="sxs-lookup"><span data-stu-id="503d0-123">If the OPTIONS request doesn't contain the required CORS headers (the Origin and Access-Control-Request-Method headers), the service will respond with status code 400 (Bad request).</span></span>

<span data-ttu-id="503d0-124">Houd er rekening mee dat een aanvraag voor voorbereidende wordt geëvalueerd tegen de service (Blob, wachtrijen en tabellen) en niet de aangevraagde bron.</span><span class="sxs-lookup"><span data-stu-id="503d0-124">Note that a preflight request is evaluated against the service (Blob, Queue, and Table) and not against the requested resource.</span></span> <span data-ttu-id="503d0-125">Eigenaar van het account moet CORS als onderdeel van de eigenschappen van het account voor de aanvraag om te slagen hebt ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="503d0-125">The account owner must have enabled CORS as part of the account service properties in order for the request to succeed.</span></span>

### <a name="actual-request"></a><span data-ttu-id="503d0-126">Werkelijke aanvraag</span><span class="sxs-lookup"><span data-stu-id="503d0-126">Actual request</span></span>
<span data-ttu-id="503d0-127">Zodra de voorbereidende aanvraag is geaccepteerd en de respons wordt geretourneerd, wordt in de browser de werkelijke aanvraag tegen de opslagbronnen verzenden.</span><span class="sxs-lookup"><span data-stu-id="503d0-127">Once the preflight request is accepted and the response is returned, the browser will dispatch the actual request against the storage resource.</span></span> <span data-ttu-id="503d0-128">De browser weigert de werkelijke onmiddellijk aanvragen als de voorbereidende aanvraag wordt afgewezen.</span><span class="sxs-lookup"><span data-stu-id="503d0-128">The browser will deny the actual request immediately if the preflight request is rejected.</span></span>

<span data-ttu-id="503d0-129">De werkelijke aanvraag wordt beschouwd als normale-aanvraag in voor de storage-service.</span><span class="sxs-lookup"><span data-stu-id="503d0-129">The actual request is treated as normal request against the storage service.</span></span> <span data-ttu-id="503d0-130">De aanwezigheid van de header van oorsprong geeft aan dat de aanvraag een aanvraag voor CORS is en de service de overeenkomende CORS-regels controleert.</span><span class="sxs-lookup"><span data-stu-id="503d0-130">The presence of the Origin header indicates that the request is a CORS request and the service will check the matching CORS rules.</span></span> <span data-ttu-id="503d0-131">Als een overeenkomst wordt gevonden, wordt de Access Control-headers zijn toegevoegd aan het antwoord, en terug naar de client verzonden.</span><span class="sxs-lookup"><span data-stu-id="503d0-131">If a match is found, the Access-Control headers are added to the response and sent back to the client.</span></span> <span data-ttu-id="503d0-132">Als een overeenkomst niet gevonden is, worden de CORS-toegangsbeheer headers niet geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="503d0-132">If a match is not found, the CORS Access-Control headers are not returned.</span></span>

## <a name="enabling-cors-for-the-azure-storage-services"></a><span data-ttu-id="503d0-133">Inschakelen van CORS voor de Azure Storage-services</span><span class="sxs-lookup"><span data-stu-id="503d0-133">Enabling CORS for the Azure Storage services</span></span>
<span data-ttu-id="503d0-134">CORS-regels op het serviceniveau van de zijn zo ingesteld dat u wilt in- of uitschakelen van CORS voor elke service (Blob, Queue en tabel) afzonderlijk.</span><span class="sxs-lookup"><span data-stu-id="503d0-134">CORS rules are set at the service level, so you need to enable or disable CORS for each service (Blob, Queue and Table) separately.</span></span> <span data-ttu-id="503d0-135">CORS is standaard uitgeschakeld voor elke service.</span><span class="sxs-lookup"><span data-stu-id="503d0-135">By default, CORS is disabled for each service.</span></span> <span data-ttu-id="503d0-136">Voor het CORS zijn ingeschakeld, moet u de juiste service-eigenschappen met versie 2013-08-15 instellen of hoger, en CORS-regels toevoegen aan de service-eigenschappen.</span><span class="sxs-lookup"><span data-stu-id="503d0-136">To enable CORS, you need to set the appropriate service properties using version 2013-08-15 or later, and add CORS rules to the service properties.</span></span> <span data-ttu-id="503d0-137">Voor meer informatie over het in- of uitschakelen CORS voor een service en hoe u CORS-regels, raadpleegt u [Blob-Service-eigenschappen instellen](https://msdn.microsoft.com/library/hh452235.aspx), [Queue-Service-eigenschappen instellen](https://msdn.microsoft.com/library/hh452232.aspx), en [Tabelservice instellen Eigenschappen](https://msdn.microsoft.com/library/hh452240.aspx).</span><span class="sxs-lookup"><span data-stu-id="503d0-137">For details about how to enable or disable CORS for a service and how to set CORS rules, please refer to [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx).</span></span>

<span data-ttu-id="503d0-138">Hier volgt een voorbeeld van een enkele CORS-regel worden opgegeven via de bewerking van een Service-eigenschappen instellen:</span><span class="sxs-lookup"><span data-stu-id="503d0-138">Here is a sample of a single CORS rule, specified via a Set Service Properties operation:</span></span>

```xml
<Cors>    
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com, http://www.fabrikam.com</AllowedOrigins>
        <AllowedMethods>PUT,GET</AllowedMethods>
        <AllowedHeaders>x-ms-meta-data*,x-ms-meta-target*,x-ms-meta-abc</AllowedHeaders>
        <ExposedHeaders>x-ms-meta-*</ExposedHeaders>
        <MaxAgeInSeconds>200</MaxAgeInSeconds>
    </CorsRule>
<Cors>
```

<span data-ttu-id="503d0-139">Elk element opgenomen in de CORS-regel wordt hieronder beschreven:</span><span class="sxs-lookup"><span data-stu-id="503d0-139">Each element included in the CORS rule is described below:</span></span>

* <span data-ttu-id="503d0-140">**AllowedOrigins**: de domeinen die zijn toegestaan voor het maken van een aanvraag in voor de storage-service via CORS.</span><span class="sxs-lookup"><span data-stu-id="503d0-140">**AllowedOrigins**: The origin domains that are permitted to make a request against the storage service via CORS.</span></span> <span data-ttu-id="503d0-141">Het brondomein is het domein waaruit de aanvraag afkomstig is.</span><span class="sxs-lookup"><span data-stu-id="503d0-141">The origin domain is the domain from which the request originates.</span></span> <span data-ttu-id="503d0-142">Houd er rekening mee dat de oorsprong moet exact hoofdlettergevoelig overeenkomt met de oorsprong waarmee de leeftijd van de gebruiker naar de service worden verzonden.</span><span class="sxs-lookup"><span data-stu-id="503d0-142">Note that the origin must be an exact case-sensitive match with the origin that the user age sends to the service.</span></span> <span data-ttu-id="503d0-143">U kunt ook het jokerteken ' *' om toe te staan alle domeinen aanvragen via CORS.</span><span class="sxs-lookup"><span data-stu-id="503d0-143">You can also use the wildcard character '*' to allow all origin domains to make requests via CORS.</span></span> <span data-ttu-id="503d0-144">In het bovenstaande voorbeeld wordt de domeinen [http://www.contoso.com](http://www.contoso.com) en [http://www.fabrikam.com](http://www.fabrikam.com) aanvragen op basis van de service met behulp van CORS kunt maken.</span><span class="sxs-lookup"><span data-stu-id="503d0-144">In the example above, the domains [http://www.contoso.com](http://www.contoso.com) and [http://www.fabrikam.com](http://www.fabrikam.com) can make requests against the service using CORS.</span></span>
* <span data-ttu-id="503d0-145">**AllowedMethods**: de methoden die van het brondomein voor een CORS-aanvraag gebruikmaken mogelijk (HTTP-aanvraag woorden).</span><span class="sxs-lookup"><span data-stu-id="503d0-145">**AllowedMethods**: The methods (HTTP request verbs) that the origin domain may use for a CORS request.</span></span> <span data-ttu-id="503d0-146">In het bovenstaande voorbeeld worden alleen PUT en GET-aanvragen toegestaan.</span><span class="sxs-lookup"><span data-stu-id="503d0-146">In the example above, only PUT and GET requests are permitted.</span></span>
* <span data-ttu-id="503d0-147">**AllowedHeaders**: de aanvraagheaders die het brondomein, voor de CORS-aanvraag opgeven kan.</span><span class="sxs-lookup"><span data-stu-id="503d0-147">**AllowedHeaders**: The request headers that the origin domain may specify on the CORS request.</span></span> <span data-ttu-id="503d0-148">In het bovenstaande voorbeeld worden alle metagegevens headers beginnen met x-ms-metagegevens, x-ms-meta-doel en de x-ms-meta-abc toegestaan.</span><span class="sxs-lookup"><span data-stu-id="503d0-148">In the example above, all metadata headers starting with x-ms-meta-data, x-ms-meta-target, and x-ms-meta-abc are permitted.</span></span> <span data-ttu-id="503d0-149">Houd er rekening mee dat het jokerteken ' *' geeft aan dat een koptekst die begint met het opgegeven voorvoegsel is toegestaan.</span><span class="sxs-lookup"><span data-stu-id="503d0-149">Note that the wildcard character '*' indicates that any header beginning with the specified prefix is allowed.</span></span>
* <span data-ttu-id="503d0-150">**ExposedHeaders**: de antwoordheaders die mogelijk in het antwoord op de CORS-aanvraag verzonden en die worden weergegeven door de browser van de uitgever van de aanvraag.</span><span class="sxs-lookup"><span data-stu-id="503d0-150">**ExposedHeaders**: The response headers that may be sent in the response to the CORS request and exposed by the browser to the request issuer.</span></span> <span data-ttu-id="503d0-151">In het bovenstaande voorbeeld wordt de browser geïnstrueerd om een koptekst die begint met x-ms-meta weer te geven.</span><span class="sxs-lookup"><span data-stu-id="503d0-151">In the example above, the browser is instructed to expose any header beginning with x-ms-meta.</span></span>
* <span data-ttu-id="503d0-152">**MaxAgeInSeconds**: de maximale hoeveelheid tijd dat de voorbereidende opties in een browser moet cache aanvragen.</span><span class="sxs-lookup"><span data-stu-id="503d0-152">**MaxAgeInSeconds**: The maximum amount time that a browser should cache the preflight OPTIONS request.</span></span>

<span data-ttu-id="503d0-153">De Azure storage-services opgeven voorvoegsels headers ondersteuning voor zowel de **AllowedHeaders** en **ExposedHeaders** elementen.</span><span class="sxs-lookup"><span data-stu-id="503d0-153">The Azure storage services support specifying prefixed headers for both the **AllowedHeaders** and **ExposedHeaders** elements.</span></span> <span data-ttu-id="503d0-154">Als u wilt toestaan dat een categorie-headers, kunt u een algemene voorvoegsel op in die categorie opgeven.</span><span class="sxs-lookup"><span data-stu-id="503d0-154">To allow a category of headers, you can specify a common prefix to that category.</span></span> <span data-ttu-id="503d0-155">Bijvoorbeeld, geven *x-ms-meta** als een voorvoegsels koptekst bepaalt een regel die overeenkomen met alle headers die met x-ms-metagegevens beginnen.</span><span class="sxs-lookup"><span data-stu-id="503d0-155">For example, specifying *x-ms-meta** as a prefixed header establishes a rule that will match all headers that begin with x-ms-meta.</span></span>

<span data-ttu-id="503d0-156">De volgende beperkingen zijn van toepassing op CORS-regels:</span><span class="sxs-lookup"><span data-stu-id="503d0-156">The following limitations apply to CORS rules:</span></span>

* <span data-ttu-id="503d0-157">U kunt maximaal vijf CORS-regels per storage-service (Blob, Table en Queue) opgeven.</span><span class="sxs-lookup"><span data-stu-id="503d0-157">You can specify up to five CORS rules per storage service (Blob, Table, and Queue).</span></span>
* <span data-ttu-id="503d0-158">De maximale grootte van alle CORS regelinstellingen op de aanvraag, met uitzondering van XML-labels mag niet langer zijn dan 2 KB.</span><span class="sxs-lookup"><span data-stu-id="503d0-158">The maximum size of all CORS rules settings on the request, excluding XML tags, should not exceed 2 KB.</span></span>
* <span data-ttu-id="503d0-159">De lengte van een toegestane koptekst, blootgestelde koptekst of toegestane oorsprong mag niet langer zijn dan 256 tekens.</span><span class="sxs-lookup"><span data-stu-id="503d0-159">The length of an allowed header, exposed header, or allowed origin should not exceed 256 characters.</span></span>
* <span data-ttu-id="503d0-160">Toegestane headers en blootgestelde headers kunnen zijn:</span><span class="sxs-lookup"><span data-stu-id="503d0-160">Allowed headers and exposed headers may be either:</span></span>
  * <span data-ttu-id="503d0-161">Letterlijke kopteksten, waarbij de exacte header-naam is opgegeven, zoals **x-ms-meta-verwerkte**.</span><span class="sxs-lookup"><span data-stu-id="503d0-161">Literal headers, where the exact header name is provided, such as **x-ms-meta-processed**.</span></span> <span data-ttu-id="503d0-162">Een maximum van 64 letterlijke headers worden opgegeven voor de aanvraag.</span><span class="sxs-lookup"><span data-stu-id="503d0-162">A maximum of 64 literal headers may be specified on the request.</span></span>
  * <span data-ttu-id="503d0-163">Headers, waarbij een voorvoegsel van de header is opgegeven, zoals het voorvoegsel **x-ms-meta-data***.</span><span class="sxs-lookup"><span data-stu-id="503d0-163">Prefixed headers, where a prefix of the header is provided, such as **x-ms-meta-data***.</span></span> <span data-ttu-id="503d0-164">Een voorvoegsel geven op deze manier kunt of een header die met het opgegeven voorvoegsel begint beschrijft.</span><span class="sxs-lookup"><span data-stu-id="503d0-164">Specifying a prefix in this manner allows or exposes any header that begins with the given prefix.</span></span> <span data-ttu-id="503d0-165">Maximaal twee voorvoegsels headers kan worden opgegeven voor de aanvraag.</span><span class="sxs-lookup"><span data-stu-id="503d0-165">A maximum of two prefixed headers may be specified on the request.</span></span>
* <span data-ttu-id="503d0-166">De methoden (of HTTP-woorden) opgegeven in de **AllowedMethods** element moet voldoen aan de methoden die wordt ondersteund door Azure storage-service API's.</span><span class="sxs-lookup"><span data-stu-id="503d0-166">The methods (or HTTP verbs) specified in the **AllowedMethods** element must conform to the methods supported by Azure storage service APIs.</span></span> <span data-ttu-id="503d0-167">Ondersteunde methoden zijn verwijderd, GET, HEAD, samenvoegen, POST, opties en PUT.</span><span class="sxs-lookup"><span data-stu-id="503d0-167">Supported methods are DELETE, GET, HEAD, MERGE, POST, OPTIONS and PUT.</span></span>

## <a name="understanding-cors-rule-evaluation-logic"></a><span data-ttu-id="503d0-168">Understanding CORS regellogica evaluatie</span><span class="sxs-lookup"><span data-stu-id="503d0-168">Understanding CORS rule evaluation logic</span></span>
<span data-ttu-id="503d0-169">Wanneer een storage-service een voorbereidende of werkelijke aanvraag ontvangt, resulteert deze aanvragen op basis van de CORS-regels die u hebt vastgesteld voor de service via de juiste bewerking van de Service-eigenschappen instellen.</span><span class="sxs-lookup"><span data-stu-id="503d0-169">When a storage service receives a preflight or actual request, it evaluates that request based on the CORS rules you have established for the service via the appropriate Set Service Properties operation.</span></span> <span data-ttu-id="503d0-170">CORS-regels worden geëvalueerd in de volgorde waarin ze zijn ingesteld in de aanvraag van de bewerking van de Service-eigenschappen instellen.</span><span class="sxs-lookup"><span data-stu-id="503d0-170">CORS rules are evaluated in the order in which they were set in the request body of the Set Service Properties operation.</span></span>

<span data-ttu-id="503d0-171">CORS-regels worden als volgt geëvalueerd:</span><span class="sxs-lookup"><span data-stu-id="503d0-171">CORS rules are evaluated as follows:</span></span>

1. <span data-ttu-id="503d0-172">Eerst het domein van de oorsprong van de aanvraag wordt vergeleken met de domeinen die worden vermeld voor de **AllowedOrigins** element.</span><span class="sxs-lookup"><span data-stu-id="503d0-172">First, the origin domain of the request is checked against the domains listed for the **AllowedOrigins** element.</span></span> <span data-ttu-id="503d0-173">Als het brondomein is opgenomen in de lijst of alle domeinen zijn toegestaan met het jokerteken ' *', vervolgens regels evaluatie voortgezet.</span><span class="sxs-lookup"><span data-stu-id="503d0-173">If the origin domain is included in the list, or all domains are allowed with the wildcard character '*', then rules evaluation proceeds.</span></span> <span data-ttu-id="503d0-174">Als het domein van de oorsprong niet opgenomen is, mislukt de aanvraag.</span><span class="sxs-lookup"><span data-stu-id="503d0-174">If the origin domain is not included, then the request fails.</span></span>
2. <span data-ttu-id="503d0-175">Vervolgens wordt de methode (of HTTP-term) van de aanvraag wordt vergeleken met de methoden die in de **AllowedMethods** element.</span><span class="sxs-lookup"><span data-stu-id="503d0-175">Next, the method (or HTTP verb) of the request is checked against the methods listed in the **AllowedMethods** element.</span></span> <span data-ttu-id="503d0-176">Als de methode is opgenomen in de lijst, is de evaluatie van regels wordt voortgezet; Als dat niet het geval is, mislukt de aanvraag.</span><span class="sxs-lookup"><span data-stu-id="503d0-176">If the method is included in the list, then rules evaluation proceeds; if not, then the request fails.</span></span>
3. <span data-ttu-id="503d0-177">Als de aanvraag overeenkomt met een regel in het domein van de oorsprong en de bijbehorende methode, wordt die regel geselecteerd om te verwerken die de aanvraag en er geen verdere regels worden geëvalueerd.</span><span class="sxs-lookup"><span data-stu-id="503d0-177">If the request matches a rule in its origin domain and its method, that rule is selected to process the request and no further rules are evaluated.</span></span> <span data-ttu-id="503d0-178">Voordat de aanvraag kan worden voltooid, maar eventuele headers die is opgegeven voor de aanvraag worden gecontroleerd tegen de headers die worden vermeld in de **AllowedHeaders** element.</span><span class="sxs-lookup"><span data-stu-id="503d0-178">Before the request can succeed, however, any headers specified on the request are checked against the headers listed in the **AllowedHeaders** element.</span></span> <span data-ttu-id="503d0-179">Als de headers verzonden komen niet overeen met de toegestane headers, mislukt de aanvraag.</span><span class="sxs-lookup"><span data-stu-id="503d0-179">If the headers sent do not match the allowed headers, the request fails.</span></span>

<span data-ttu-id="503d0-180">Aangezien de regels worden verwerkt in de volgorde waarin dat ze zijn aanwezig in de aanvraagtekst, wordt aanbevolen dat u de meest beperkende regels met betrekking tot oorsprongen eerst in de lijst opgeven zodat deze worden eerst geëvalueerd.</span><span class="sxs-lookup"><span data-stu-id="503d0-180">Since the rules are processed in the order they are present in the request body, best practices recommend that you specify the most restrictive rules with respect to origins first in the list, so that these are evaluated first.</span></span> <span data-ttu-id="503d0-181">Geef regels die minder beperkend zijn – bijvoorbeeld een regel waarmee alle oorsprongen – aan het einde van de lijst.</span><span class="sxs-lookup"><span data-stu-id="503d0-181">Specify rules that are less restrictive – for example, a rule to allow all origins – at the end of the list.</span></span>

### <a name="example--cors-rules-evaluation"></a><span data-ttu-id="503d0-182">Voorbeeld: CORS regels evaluatie</span><span class="sxs-lookup"><span data-stu-id="503d0-182">Example – CORS rules evaluation</span></span>
<span data-ttu-id="503d0-183">Het volgende voorbeeld ziet een gedeeltelijke aanvraagtekst voor een bewerking CORS-regels voor de storage-services in te stellen.</span><span class="sxs-lookup"><span data-stu-id="503d0-183">The following example shows a partial request body for an operation to set CORS rules for the storage services.</span></span> <span data-ttu-id="503d0-184">Zie [Blob-Service-eigenschappen instellen](https://msdn.microsoft.com/library/hh452235.aspx), [Queue-Service-eigenschappen instellen](https://msdn.microsoft.com/library/hh452232.aspx), en [tabel-Service-eigenschappen instellen](https://msdn.microsoft.com/library/hh452240.aspx) voor meer informatie over het samenstellen van de aanvraag.</span><span class="sxs-lookup"><span data-stu-id="503d0-184">See [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx) for details on constructing the request.</span></span>

```xml
<Cors>
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com</AllowedOrigins>
        <AllowedMethods>PUT,HEAD</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-blob-content-type, x-ms-blob-content-disposition</AllowedHeaders>
    </CorsRule>
    <CorsRule>
        <AllowedOrigins>*</AllowedOrigins>
        <AllowedMethods>PUT,GET</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-blob-content-type, x-ms-blob-content-disposition</AllowedHeaders>
    </CorsRule>
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com</AllowedOrigins>
        <AllowedMethods>GET</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-client-request-id</AllowedHeaders>
    </CorsRule>
</Cors>
```

<span data-ttu-id="503d0-185">Vervolgens kunt u overwegen de volgende CORS-aanvragen:</span><span class="sxs-lookup"><span data-stu-id="503d0-185">Next, consider the following CORS requests:</span></span>

| <span data-ttu-id="503d0-186">Aanvraag</span><span class="sxs-lookup"><span data-stu-id="503d0-186">Request</span></span> |  |  | <span data-ttu-id="503d0-187">Antwoord</span><span class="sxs-lookup"><span data-stu-id="503d0-187">Response</span></span> |  |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="503d0-188">**Methode**</span><span class="sxs-lookup"><span data-stu-id="503d0-188">**Method**</span></span> |<span data-ttu-id="503d0-189">**Oorsprong**</span><span class="sxs-lookup"><span data-stu-id="503d0-189">**Origin**</span></span> |<span data-ttu-id="503d0-190">**Aanvraagheaders**</span><span class="sxs-lookup"><span data-stu-id="503d0-190">**Request Headers**</span></span> |<span data-ttu-id="503d0-191">**Regel overeen**</span><span class="sxs-lookup"><span data-stu-id="503d0-191">**Rule Match**</span></span> |<span data-ttu-id="503d0-192">**Resultaat**</span><span class="sxs-lookup"><span data-stu-id="503d0-192">**Result**</span></span> |
| <span data-ttu-id="503d0-193">**PLAATSEN**</span><span class="sxs-lookup"><span data-stu-id="503d0-193">**PUT**</span></span> |<span data-ttu-id="503d0-194">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="503d0-194">http://www.contoso.com</span></span> |<span data-ttu-id="503d0-195">x-ms-blob-content-type</span><span class="sxs-lookup"><span data-stu-id="503d0-195">x-ms-blob-content-type</span></span> |<span data-ttu-id="503d0-196">Eerste regel</span><span class="sxs-lookup"><span data-stu-id="503d0-196">First rule</span></span> |<span data-ttu-id="503d0-197">Geslaagd</span><span class="sxs-lookup"><span data-stu-id="503d0-197">Success</span></span> |
| <span data-ttu-id="503d0-198">**TOEVOEGEN**</span><span class="sxs-lookup"><span data-stu-id="503d0-198">**GET**</span></span> |<span data-ttu-id="503d0-199">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="503d0-199">http://www.contoso.com</span></span> |<span data-ttu-id="503d0-200">x-ms-blob-content-type</span><span class="sxs-lookup"><span data-stu-id="503d0-200">x-ms-blob-content-type</span></span> |<span data-ttu-id="503d0-201">Tweede regel</span><span class="sxs-lookup"><span data-stu-id="503d0-201">Second rule</span></span> |<span data-ttu-id="503d0-202">Geslaagd</span><span class="sxs-lookup"><span data-stu-id="503d0-202">Success</span></span> |
| <span data-ttu-id="503d0-203">**TOEVOEGEN**</span><span class="sxs-lookup"><span data-stu-id="503d0-203">**GET**</span></span> |<span data-ttu-id="503d0-204">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="503d0-204">http://www.contoso.com</span></span> |<span data-ttu-id="503d0-205">x-ms-client-request-id</span><span class="sxs-lookup"><span data-stu-id="503d0-205">x-ms-client-request-id</span></span> |<span data-ttu-id="503d0-206">Tweede regel</span><span class="sxs-lookup"><span data-stu-id="503d0-206">Second rule</span></span> |<span data-ttu-id="503d0-207">Fout</span><span class="sxs-lookup"><span data-stu-id="503d0-207">Failure</span></span> |

<span data-ttu-id="503d0-208">De eerste aanvraag komt overeen met de eerste regel – het brondomein overeenkomt met de toegestane oorsprongen, de methode komt overeen met de toegestane methoden en de header komt overeen met de toegestane headers – en dus slaagt.</span><span class="sxs-lookup"><span data-stu-id="503d0-208">The first request matches the first rule – the origin domain matches the allowed origins, the method matches the allowed methods, and the header matches the allowed headers – and so succeeds.</span></span>

<span data-ttu-id="503d0-209">De tweede aanvraag komt niet overeen met de eerste regel omdat de methode komt niet overeen met de toegestane methoden.</span><span class="sxs-lookup"><span data-stu-id="503d0-209">The second request does not match the first rule because the method does not match the allowed methods.</span></span> <span data-ttu-id="503d0-210">Dit het geval is, echter overeenkomen met de tweede regel zodat deze is voltooid.</span><span class="sxs-lookup"><span data-stu-id="503d0-210">It does, however, match the second rule, so it succeeds.</span></span>

<span data-ttu-id="503d0-211">De derde aanvraag komt overeen met de tweede regel in het brondomein en methode, zodat er geen verdere regels worden geëvalueerd.</span><span class="sxs-lookup"><span data-stu-id="503d0-211">The third request matches the second rule in its origin domain and method, so no further rules are evaluated.</span></span> <span data-ttu-id="503d0-212">Echter, de *header x-ms-client-request-id* is niet toegestaan door de tweede regel op, zodat de aanvraag is mislukt, ondanks het feit dat de semantiek van de derde regel zouden hebben gemaakt om te slagen.</span><span class="sxs-lookup"><span data-stu-id="503d0-212">However, the *x-ms-client-request-id header* is not allowed by the second rule, so the request fails, despite the fact that the semantics of the third rule would have allowed it to succeed.</span></span>

> [!NOTE]
> <span data-ttu-id="503d0-213">Hoewel dit voorbeeld ziet u een minder beperkend regel voordat een meer beperkend, is in het algemeen de aanbevolen procedure voor het eerst een lijst met de meest beperkende regels.</span><span class="sxs-lookup"><span data-stu-id="503d0-213">Although this example shows a less restrictive rule before a more restrictive one, in general the best practice is to list the most restrictive rules first.</span></span>
> 
> 

## <a name="understanding-how-the-vary-header-is-set"></a><span data-ttu-id="503d0-214">Begrijpen hoe de Vary-kop is ingesteld</span><span class="sxs-lookup"><span data-stu-id="503d0-214">Understanding how the Vary header is set</span></span>
<span data-ttu-id="503d0-215">De *Vary* -header is een standaard HTTP/1.1-header die bestaan uit een set velden van de aanvraag-header toe om de agent browser of een gebruiker over de criteria die zijn geselecteerd door de server om de aanvraag te verwerken.</span><span class="sxs-lookup"><span data-stu-id="503d0-215">The *Vary* header is a standard HTTP/1.1 header consisting of a set of request header fields that advise the browser or user agent about the criteria that were selected by the server to process the request.</span></span> <span data-ttu-id="503d0-216">De *Vary* koptekst wordt hoofdzakelijk gebruikt voor het opslaan van proxy's, browsers en CDN die gebruiken om te bepalen hoe het antwoord moet worden opgeslagen in de cache.</span><span class="sxs-lookup"><span data-stu-id="503d0-216">The *Vary* header is mainly used for caching by proxies, browsers, and CDNs, which use it to determine how the response should be cached.</span></span> <span data-ttu-id="503d0-217">Zie voor meer informatie de specificatie voor de [Vary-kop](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html).</span><span class="sxs-lookup"><span data-stu-id="503d0-217">For details, see the specification for the [Vary header](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html).</span></span>

<span data-ttu-id="503d0-218">Wanneer de browser of een andere gebruikersagent plaatst het antwoord van een aanvraag CORS, het brondomein in cache wordt opgeslagen als de toegestane oorsprong.</span><span class="sxs-lookup"><span data-stu-id="503d0-218">When the browser or another user agent caches the response from a CORS request, the origin domain is cached as the allowed origin.</span></span> <span data-ttu-id="503d0-219">Wanneer een tweede domein dezelfde aanvraag voor een opslagresource uitgeeft terwijl de cache actief is, haalt de gebruikersagent het brondomein in de cache.</span><span class="sxs-lookup"><span data-stu-id="503d0-219">When a second domain issues the same request for a storage resource while the cache is active, the user agent retrieves the cached origin domain.</span></span> <span data-ttu-id="503d0-220">Het tweede domein komt niet overeen met het domein in de cache, zodat de aanvraag mislukt wanneer het anders zou slagen.</span><span class="sxs-lookup"><span data-stu-id="503d0-220">The second domain does not match the cached domain, so the request fails when it would otherwise succeed.</span></span> <span data-ttu-id="503d0-221">In bepaalde gevallen, Azure Storage Vary-kop ingesteld op **oorsprong** instrueren de gebruikersagent voor de volgende CORS-aanvraag naar de service te verzenden wanneer het domein van de aanvragende van de oorsprong in de cache verschilt.</span><span class="sxs-lookup"><span data-stu-id="503d0-221">In certain cases, Azure Storage sets the Vary header to **Origin** to instruct the user agent to send the subsequent CORS request to the service when the requesting domain differs from the cached origin.</span></span>

<span data-ttu-id="503d0-222">Azure Storage stelt de *Vary* koptekst tot **oorsprong** voor werkelijke GET/HEAD-aanvragen in de volgende gevallen:</span><span class="sxs-lookup"><span data-stu-id="503d0-222">Azure Storage sets the *Vary* header to **Origin** for actual GET/HEAD requests in the following cases:</span></span>

* <span data-ttu-id="503d0-223">Wanneer de aanvraag-oorsprong exact overeenkomt met de toegestane oorsprong gedefinieerd door een regel CORS.</span><span class="sxs-lookup"><span data-stu-id="503d0-223">When the request origin exactly matches the allowed origin defined by a CORS rule.</span></span> <span data-ttu-id="503d0-224">Als u een exacte overeenkomst, de CORS-regel mag bevatten een jokerteken ' * ' teken.</span><span class="sxs-lookup"><span data-stu-id="503d0-224">To be an exact match, the CORS rule may not include a wildcard ' * ' character.</span></span>
* <span data-ttu-id="503d0-225">Er is geen regel die overeenkomt met de oorsprong van de aanvraag, maar CORS is ingeschakeld voor de storage-service.</span><span class="sxs-lookup"><span data-stu-id="503d0-225">There is no rule matching the request origin, but CORS is enabled for the storage service.</span></span>

<span data-ttu-id="503d0-226">Het antwoord geeft in het geval waarbij een GET/HEAD-aanvraag komt overeen met een CORS-regel waarmee alle oorsprongen aan dat alle oorsprongen zijn toegestaan en de agent gebruikerscache volgende aanvragen van een domein van de oorsprong wordt toestaan terwijl de cache actief is.</span><span class="sxs-lookup"><span data-stu-id="503d0-226">In the case where a GET/HEAD request matches a CORS rule that allows all origins, the response indicates that all origins are allowed, and the user agent cache will allow subsequent requests from any origin domain while the cache is active.</span></span>

<span data-ttu-id="503d0-227">Houd er rekening mee dat voor andere methoden dan GET/HEAD-aanvragen, de Vary-kop, wordt niet door de storage-services worden ingesteld omdat de antwoorden op deze methoden zijn niet in de cache opgeslagen door Gebruikeragents.</span><span class="sxs-lookup"><span data-stu-id="503d0-227">Note that for requests using methods other than GET/HEAD, the storage services will not set the Vary header, since responses to these methods are not cached by user agents.</span></span>

<span data-ttu-id="503d0-228">De volgende tabel geeft aan hoe Azure-opslag reageert op GET/HEAD-aanvragen op basis van de eerder genoemde gevallen:</span><span class="sxs-lookup"><span data-stu-id="503d0-228">The following table indicates how Azure storage will respond to GET/HEAD requests based on the previously mentioned cases:</span></span>

| <span data-ttu-id="503d0-229">Aanvraag</span><span class="sxs-lookup"><span data-stu-id="503d0-229">Request</span></span> | <span data-ttu-id="503d0-230">Instellingen van een account en het resultaat van evaluatie van de regels</span><span class="sxs-lookup"><span data-stu-id="503d0-230">Account setting and result of rule evaluation</span></span> |  |  | <span data-ttu-id="503d0-231">Antwoord</span><span class="sxs-lookup"><span data-stu-id="503d0-231">Response</span></span> |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="503d0-232">**Oorsprong header aanwezig is op verzoek**</span><span class="sxs-lookup"><span data-stu-id="503d0-232">**Origin header present on request**</span></span> |<span data-ttu-id="503d0-233">**CORS (s) is opgegeven voor deze service**</span><span class="sxs-lookup"><span data-stu-id="503d0-233">**CORS rule(s) specified for this service**</span></span> |<span data-ttu-id="503d0-234">**Overeenkomende regel bestaat waarmee alle oorsprongen (*)**</span><span class="sxs-lookup"><span data-stu-id="503d0-234">**Matching rule exists that allows all origins(*)**</span></span> |<span data-ttu-id="503d0-235">**Overeenkomende regel bestaat voor de oorsprong van de exacte overeenkomst**</span><span class="sxs-lookup"><span data-stu-id="503d0-235">**Matching rule exists for exact origin match**</span></span> |<span data-ttu-id="503d0-236">**Antwoord bevat Vary-kop is ingesteld op de oorsprong**</span><span class="sxs-lookup"><span data-stu-id="503d0-236">**Response includes Vary header set to Origin**</span></span> |<span data-ttu-id="503d0-237">**Antwoord bevat de Access Control-toegestaan-oorsprong: '*'**</span><span class="sxs-lookup"><span data-stu-id="503d0-237">**Response includes Access-Control-Allowed-Origin: "*"**</span></span> |<span data-ttu-id="503d0-238">**Antwoord bevat Access-Control-blootgesteld-kopteksten**</span><span class="sxs-lookup"><span data-stu-id="503d0-238">**Response includes Access-Control-Exposed-Headers**</span></span> |
| <span data-ttu-id="503d0-239">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-239">No</span></span> |<span data-ttu-id="503d0-240">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-240">No</span></span> |<span data-ttu-id="503d0-241">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-241">No</span></span> |<span data-ttu-id="503d0-242">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-242">No</span></span> |<span data-ttu-id="503d0-243">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-243">No</span></span> |<span data-ttu-id="503d0-244">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-244">No</span></span> |<span data-ttu-id="503d0-245">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-245">No</span></span> |
| <span data-ttu-id="503d0-246">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-246">No</span></span> |<span data-ttu-id="503d0-247">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-247">Yes</span></span> |<span data-ttu-id="503d0-248">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-248">No</span></span> |<span data-ttu-id="503d0-249">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-249">No</span></span> |<span data-ttu-id="503d0-250">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-250">Yes</span></span> |<span data-ttu-id="503d0-251">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-251">No</span></span> |<span data-ttu-id="503d0-252">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-252">No</span></span> |
| <span data-ttu-id="503d0-253">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-253">No</span></span> |<span data-ttu-id="503d0-254">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-254">Yes</span></span> |<span data-ttu-id="503d0-255">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-255">Yes</span></span> |<span data-ttu-id="503d0-256">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-256">No</span></span> |<span data-ttu-id="503d0-257">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-257">No</span></span> |<span data-ttu-id="503d0-258">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-258">Yes</span></span> |<span data-ttu-id="503d0-259">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-259">Yes</span></span> |
| <span data-ttu-id="503d0-260">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-260">Yes</span></span> |<span data-ttu-id="503d0-261">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-261">No</span></span> |<span data-ttu-id="503d0-262">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-262">No</span></span> |<span data-ttu-id="503d0-263">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-263">No</span></span> |<span data-ttu-id="503d0-264">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-264">No</span></span> |<span data-ttu-id="503d0-265">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-265">No</span></span> |<span data-ttu-id="503d0-266">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-266">No</span></span> |
| <span data-ttu-id="503d0-267">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-267">Yes</span></span> |<span data-ttu-id="503d0-268">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-268">Yes</span></span> |<span data-ttu-id="503d0-269">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-269">No</span></span> |<span data-ttu-id="503d0-270">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-270">Yes</span></span> |<span data-ttu-id="503d0-271">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-271">Yes</span></span> |<span data-ttu-id="503d0-272">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-272">No</span></span> |<span data-ttu-id="503d0-273">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-273">Yes</span></span> |
| <span data-ttu-id="503d0-274">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-274">Yes</span></span> |<span data-ttu-id="503d0-275">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-275">Yes</span></span> |<span data-ttu-id="503d0-276">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-276">No</span></span> |<span data-ttu-id="503d0-277">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-277">No</span></span> |<span data-ttu-id="503d0-278">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-278">Yes</span></span> |<span data-ttu-id="503d0-279">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-279">No</span></span> |<span data-ttu-id="503d0-280">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-280">No</span></span> |
| <span data-ttu-id="503d0-281">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-281">Yes</span></span> |<span data-ttu-id="503d0-282">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-282">Yes</span></span> |<span data-ttu-id="503d0-283">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-283">Yes</span></span> |<span data-ttu-id="503d0-284">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-284">No</span></span> |<span data-ttu-id="503d0-285">Nee</span><span class="sxs-lookup"><span data-stu-id="503d0-285">No</span></span> |<span data-ttu-id="503d0-286">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-286">Yes</span></span> |<span data-ttu-id="503d0-287">Ja</span><span class="sxs-lookup"><span data-stu-id="503d0-287">Yes</span></span> |

## <a name="billing-for-cors-requests"></a><span data-ttu-id="503d0-288">Facturering voor CORS aanvragen</span><span class="sxs-lookup"><span data-stu-id="503d0-288">Billing for CORS requests</span></span>
<span data-ttu-id="503d0-289">Geslaagde preflight aanvragen worden gefactureerd als u CORS voor een van de storage-services voor uw account hebt ingeschakeld (door het aanroepen van [Blob-Service-eigenschappen instellen](https://msdn.microsoft.com/library/hh452235.aspx), [Queue-Service-eigenschappen instellen](https://msdn.microsoft.com/library/hh452232.aspx), of [Tabel-Service-eigenschappen instellen](https://msdn.microsoft.com/library/hh452240.aspx)).</span><span class="sxs-lookup"><span data-stu-id="503d0-289">Successful preflight requests are billed if you have enabled CORS for any of the storage services for your account (by calling [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), or [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx)).</span></span> <span data-ttu-id="503d0-290">Kunt u overwegen om te beperken kosten, de **MaxAgeInSeconds** -element in uw CORS regels op een hoge waarde, zodat de gebruikersagent de aanvraag slaat.</span><span class="sxs-lookup"><span data-stu-id="503d0-290">To minimize charges, consider setting the **MaxAgeInSeconds** element in your CORS rules to a large value so that the user agent caches the request.</span></span>

<span data-ttu-id="503d0-291">Mislukte voorbereidende aanvragen worden niet gefactureerd.</span><span class="sxs-lookup"><span data-stu-id="503d0-291">Unsuccessful preflight requests will not be billed.</span></span>

## <a name="next-steps"></a><span data-ttu-id="503d0-292">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="503d0-292">Next steps</span></span>
[<span data-ttu-id="503d0-293">Eigenschappen van de Blob-Service instellen</span><span class="sxs-lookup"><span data-stu-id="503d0-293">Set Blob Service Properties</span></span>](https://msdn.microsoft.com/library/hh452235.aspx)

[<span data-ttu-id="503d0-294">Wachtrij-Service-eigenschappen instellen</span><span class="sxs-lookup"><span data-stu-id="503d0-294">Set Queue Service Properties</span></span>](https://msdn.microsoft.com/library/hh452232.aspx)

[<span data-ttu-id="503d0-295">Tabel-Service-eigenschappen instellen</span><span class="sxs-lookup"><span data-stu-id="503d0-295">Set Table Service Properties</span></span>](https://msdn.microsoft.com/library/hh452240.aspx)

[<span data-ttu-id="503d0-296">W3C Cross-Origin Resource Sharing specificatie</span><span class="sxs-lookup"><span data-stu-id="503d0-296">W3C Cross-Origin Resource Sharing Specification</span></span>](http://www.w3.org/TR/cors/)

