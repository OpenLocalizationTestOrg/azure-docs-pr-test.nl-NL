---
title: Het oplossen van Azure Storage met diagnostische gegevens & Message Analyzer | Microsoft Docs
description: Een zelfstudie voor end-to-end oplossen met Azure Storage Analytics, AzCopy en Microsoft Message Analyzer te demonstreren
services: storage
documentationcenter: dotnet
author: robinsh
manager: timlt
ms.assetid: 643372a3-1c07-4e88-b4ef-042512a43086
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 03/15/2017
ms.author: robinsh
ms.openlocfilehash: 1aa40c4de48c0117e9d3f9d434972adecccdb548
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/29/2017
---
# <a name="end-to-end-troubleshooting-using-azure-storage-metrics-and-logging-azcopy-and-message-analyzer"></a><span data-ttu-id="4b55b-103">End-to-End-problemen oplossen met behulp van Azure Storage metrische gegevens en logboekregistratie, AzCopy en Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="4b55b-103">End-to-End Troubleshooting using Azure Storage metrics and logging, AzCopy, and Message Analyzer</span></span>
[!INCLUDE [storage-selector-portal-e2e-troubleshooting](../../../includes/storage-selector-portal-e2e-troubleshooting.md)]

<span data-ttu-id="4b55b-104">Is een belangrijke kwalificatie voor bouwen en de client-toepassingen met Microsoft Azure Storage ondersteunende opsporen en oplossen.</span><span class="sxs-lookup"><span data-stu-id="4b55b-104">Diagnosing and troubleshooting is a key skill for building and supporting client applications with Microsoft Azure Storage.</span></span> <span data-ttu-id="4b55b-105">Als gevolg van de gedistribueerde aard van een Azure-toepassing, opsporen en oplossen van fouten en prestatieproblemen mogelijk complexer dan in traditionele omgevingen.</span><span class="sxs-lookup"><span data-stu-id="4b55b-105">Due to the distributed nature of an Azure application, diagnosing and troubleshooting errors and performance issues may be more complex than in traditional environments.</span></span>

<span data-ttu-id="4b55b-106">In deze zelfstudie ziet u hoe u bepaalde fouten die mogelijk van invloed op prestaties en los deze fouten op end-to-end identificeren met behulp van hulpprogramma's van Microsoft en Azure Storage, om te optimaliseren van de clienttoepassing.</span><span class="sxs-lookup"><span data-stu-id="4b55b-106">In this tutorial, we demonstrate how to identify certain errors that may affect performance, and troubleshoot those errors from end-to-end using tools provided by Microsoft and Azure Storage, in order to optimize the client application.</span></span>

<span data-ttu-id="4b55b-107">Deze zelfstudie biedt een praktische exploratie van een end-to-end voor probleemoplossing scenario.</span><span class="sxs-lookup"><span data-stu-id="4b55b-107">This tutorial provides a hands-on exploration of an end-to-end troubleshooting scenario.</span></span> <span data-ttu-id="4b55b-108">Zie voor een gedetailleerde conceptuele handleiding voor probleemoplossing van Azure storage-toepassingen, [Monitor, vaststellen en oplossen van Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="4b55b-108">For an in-depth conceptual guide to troubleshooting Azure storage applications, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="tools-for-troubleshooting-azure-storage-applications"></a><span data-ttu-id="4b55b-109">Hulpprogramma's voor probleemoplossing van Azure Storage-toepassingen</span><span class="sxs-lookup"><span data-stu-id="4b55b-109">Tools for troubleshooting Azure Storage applications</span></span>
<span data-ttu-id="4b55b-110">Voor het oplossen van clienttoepassingen op Microsoft Azure Storage, kunt u een combinatie van hulpprogramma's om te bepalen wanneer er een probleem is opgetreden en wat de oorzaak van het probleem mogelijk.</span><span class="sxs-lookup"><span data-stu-id="4b55b-110">To troubleshoot client applications using Microsoft Azure Storage, you can use a combination of tools to determine when an issue has occurred and what the cause of the problem may be.</span></span> <span data-ttu-id="4b55b-111">Tot deze hulpmiddelen behoren onder meer:</span><span class="sxs-lookup"><span data-stu-id="4b55b-111">These tools include:</span></span>

* <span data-ttu-id="4b55b-112">**Azure Storage Analytics**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-112">**Azure Storage Analytics**.</span></span> <span data-ttu-id="4b55b-113">[Azure Storage Analytics](/rest/api/storageservices/Storage-Analytics) metrische gegevens en logboekregistratie voor Azure Storage biedt.</span><span class="sxs-lookup"><span data-stu-id="4b55b-113">[Azure Storage Analytics](/rest/api/storageservices/Storage-Analytics) provides metrics and logging for Azure Storage.</span></span>
  
  * <span data-ttu-id="4b55b-114">**Metrische gegevens Storage** houdt transactie metrische gegevens en capaciteitsmetrieken voor uw opslagaccount.</span><span class="sxs-lookup"><span data-stu-id="4b55b-114">**Storage metrics** tracks transaction metrics and capacity metrics for your storage account.</span></span> <span data-ttu-id="4b55b-115">Met metrische gegevens, kunt u bepalen hoe uw toepassing wordt uitgevoerd volgens een verscheidenheid aan andere maatregelen.</span><span class="sxs-lookup"><span data-stu-id="4b55b-115">Using metrics, you can determine how your application is performing according to a variety of different measures.</span></span> <span data-ttu-id="4b55b-116">Zie [Storage Analytics metrische gegevens tabelschema](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) voor meer informatie over de typen van metrische gegevens die worden bijgehouden door Storage Analytics.</span><span class="sxs-lookup"><span data-stu-id="4b55b-116">See [Storage Analytics Metrics Table Schema](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) for more information about the types of metrics tracked by Storage Analytics.</span></span>
  * <span data-ttu-id="4b55b-117">**Opslag logboekregistratie** elke aanvraag naar de Azure Storage-services in een logboek serverzijde wordt geregistreerd.</span><span class="sxs-lookup"><span data-stu-id="4b55b-117">**Storage logging** logs each request to the Azure Storage services to a server-side log.</span></span> <span data-ttu-id="4b55b-118">Het logboek houdt gedetailleerde gegevens voor elke aanvraag, waaronder de bewerking die wordt uitgevoerd, de status van de bewerking, en de latentie-informatie.</span><span class="sxs-lookup"><span data-stu-id="4b55b-118">The log tracks detailed data for each request, including the operation performed, the status of the operation, and latency information.</span></span> <span data-ttu-id="4b55b-119">Zie [Storage Analytics logboekindeling](/rest/api/storageservices/Storage-Analytics-Log-Format) voor meer informatie over de aanvraag- en gegevens die worden geschreven naar de logboeken door Storage Analytics.</span><span class="sxs-lookup"><span data-stu-id="4b55b-119">See [Storage Analytics Log Format](/rest/api/storageservices/Storage-Analytics-Log-Format) for more information about the request and response data that is written to the logs by Storage Analytics.</span></span>

> [!NOTE]
> <span data-ttu-id="4b55b-120">Storage-accounts met een replicatietype van de Zone-redundante opslag (ZRS) beschikt niet over de metrische gegevens of de logboekregistratie kunnen op dit moment is ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="4b55b-120">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have the metrics or logging capability enabled at this time.</span></span> 
> 
> 

* <span data-ttu-id="4b55b-121">**Azure-portal**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-121">**Azure portal**.</span></span> <span data-ttu-id="4b55b-122">U kunt metrische gegevens en logboekregistratie configureren voor uw opslagaccount in de [Azure-portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="4b55b-122">You can configure metrics and logging for your storage account in the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="4b55b-123">U kunt ook grafieken en diagrammen die laten zien hoe uw toepassing wordt uitgevoerd na verloop van tijd weergeven en configureren van waarschuwingen om u te waarschuwen als uw toepassing wordt uitgevoerd anders dan verwacht voor een opgegeven waarde.</span><span class="sxs-lookup"><span data-stu-id="4b55b-123">You can also view charts and graphs that show how your application is performing over time, and configure alerts to notify you if your application performs differently than expected for a specified metric.</span></span>
  
    <span data-ttu-id="4b55b-124">Zie [een opslagaccount in de Azure-portal bewaken](storage-monitor-storage-account.md) voor informatie over het configureren van de bewaking in de Azure portal.</span><span class="sxs-lookup"><span data-stu-id="4b55b-124">See [Monitor a storage account in the Azure portal](storage-monitor-storage-account.md) for information about configuring monitoring in the Azure portal.</span></span>
* <span data-ttu-id="4b55b-125">**AzCopy**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-125">**AzCopy**.</span></span> <span data-ttu-id="4b55b-126">Server-logboeken voor Azure Storage worden opgeslagen als blobs, zodat u AzCopy gebruiken kunt de blobs logboek kopiëren naar een lokale map voor analyse met behulp van Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="4b55b-126">Server logs for Azure Storage are stored as blobs, so you can use AzCopy to copy the log blobs to a local directory for analysis using Microsoft Message Analyzer.</span></span> <span data-ttu-id="4b55b-127">Zie [gegevensoverdracht met het AzCopy-opdrachtregelprogramma](storage-use-azcopy.md) voor meer informatie over AzCopy.</span><span class="sxs-lookup"><span data-stu-id="4b55b-127">See [Transfer data with the AzCopy Command-Line Utility](storage-use-azcopy.md) for more information about AzCopy.</span></span>
* <span data-ttu-id="4b55b-128">**Microsoft Message Analyzer**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-128">**Microsoft Message Analyzer**.</span></span> <span data-ttu-id="4b55b-129">Berichtanalyse is een hulpprogramma dat logboekbestanden verbruikt en bevat de logboekgegevens visual die het eenvoudiger maakt om te filteren, zoeken en groep-logboekgegevens in nuttig sets die u gebruiken kunt om fouten en prestatieproblemen te analyseren.</span><span class="sxs-lookup"><span data-stu-id="4b55b-129">Message Analyzer is a tool that consumes log files and displays log data in a visual format that makes it easy to filter, search, and group log data into useful sets that you can use to analyze errors and performance issues.</span></span> <span data-ttu-id="4b55b-130">Zie [Microsoft Message Analyzer besturingssysteem Guide](http://technet.microsoft.com/library/jj649776.aspx) voor meer informatie over Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="4b55b-130">See [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx) for more information about Message Analyzer.</span></span>

## <a name="about-the-sample-scenario"></a><span data-ttu-id="4b55b-131">Over het voorbeeldscenario</span><span class="sxs-lookup"><span data-stu-id="4b55b-131">About the sample scenario</span></span>
<span data-ttu-id="4b55b-132">Voor deze zelfstudie kijken we naar de een scenario waarbij Azure Storage metrische gegevens staat voor een laag percentage slagingspercentage voor een toepassing die Azure storage aanroept.</span><span class="sxs-lookup"><span data-stu-id="4b55b-132">For this tutorial, we'll examine a scenario where Azure Storage metrics indicates a low percent success rate for an application that calls Azure storage.</span></span> <span data-ttu-id="4b55b-133">De lage percentage geslaagd snelheid metriek (weergegeven als **PercentSuccess** in de [Azure-portal](https://portal.azure.com) en in de tabellen metrische gegevens) houdt bewerkingen die slagen, maar die een HTTP-statuscode die groter is dan 299 retourneren.</span><span class="sxs-lookup"><span data-stu-id="4b55b-133">The low percent success rate metric (shown as **PercentSuccess** in the [Azure portal](https://portal.azure.com) and in the metrics tables) tracks operations that succeed, but that return an HTTP status code that is greater than 299.</span></span> <span data-ttu-id="4b55b-134">In de logboekbestanden serverzijde opslag deze bewerkingen worden geregistreerd met een transactiestatus **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-134">In the server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span> <span data-ttu-id="4b55b-135">Zie voor meer informatie over de metriek lage percentage geslaagd [metrische gegevens tonen lage PercentSuccess of analytics logboekvermeldingen bewerkingen hebben met de status van ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span><span class="sxs-lookup"><span data-stu-id="4b55b-135">For more details about the low percent success metric, see [Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span></span>

<span data-ttu-id="4b55b-136">Azure Storage-bewerkingen kunnen retourneren HTTP-statuscodes groter is dan 299 als onderdeel van hun normale functionaliteit.</span><span class="sxs-lookup"><span data-stu-id="4b55b-136">Azure Storage operations may return HTTP status codes greater than 299 as part of their normal functionality.</span></span> <span data-ttu-id="4b55b-137">Maar deze fouten in sommige gevallen geven aan dat u mogelijk uw clienttoepassing voor verbeterde prestaties te optimaliseren.</span><span class="sxs-lookup"><span data-stu-id="4b55b-137">But these errors in some cases indicate that you may be able to optimize your client application for improved performance.</span></span>

<span data-ttu-id="4b55b-138">In dit scenario hebt we kunt u een laag percentage slagingspercentage moet iets minder dan 100%.</span><span class="sxs-lookup"><span data-stu-id="4b55b-138">In this scenario, we'll consider a low percent success rate to be anything below 100%.</span></span> <span data-ttu-id="4b55b-139">U kunt echter een ander niveau van de metrische kiezen aan uw wensen.</span><span class="sxs-lookup"><span data-stu-id="4b55b-139">You can choose a different metric level, however, according to your needs.</span></span> <span data-ttu-id="4b55b-140">We raden aan dat tijdens het testen van uw toepassing, u een tolerantie basislijn voor uw belangrijkste prestatiemetrieken maakt.</span><span class="sxs-lookup"><span data-stu-id="4b55b-140">We recommend that during testing of your application, you establish a baseline tolerance for your key performance metrics.</span></span> <span data-ttu-id="4b55b-141">Bijvoorbeeld, u kunt bepalen, op basis van testen, dat uw toepassing een consistente percentage slagingspercentage van 90% of 85% moet hebben.</span><span class="sxs-lookup"><span data-stu-id="4b55b-141">For example, you might determine, based on testing, that your application should have a consistent percent success rate of 90%, or 85%.</span></span> <span data-ttu-id="4b55b-142">Als uw metrische gegevens ziet u dat de toepassing is die afwijken van dit nummer en vervolgens kunt u onderzoeken wat de oorzaak van de verhoging.</span><span class="sxs-lookup"><span data-stu-id="4b55b-142">If your metrics data shows that the application is deviating from that number, then you can investigate what may be causing the increase.</span></span>

<span data-ttu-id="4b55b-143">In ons scenario voorbeeld wanneer we hebt ingesteld dat de frequentie waarmee percentage geslaagd metriek lager dan 100 is % bespreken we de logboeken om de fouten die overeenstemmen met de metrische gegevens en ze gebruiken om te achterhalen wat de oorzaak van het onderste percentage slagingspercentage vinden.</span><span class="sxs-lookup"><span data-stu-id="4b55b-143">For our sample scenario, once we've established that the percent success rate metric is below 100%, we will examine the logs to find the errors that correlate to the metrics, and use them to figure out what is causing the lower percent success rate.</span></span> <span data-ttu-id="4b55b-144">Zullen we specifiek fouten in het bereik van 400.</span><span class="sxs-lookup"><span data-stu-id="4b55b-144">We'll look specifically at errors in the 400 range.</span></span> <span data-ttu-id="4b55b-145">Vervolgens je we beter foutmeldingen 404 (niet gevonden).</span><span class="sxs-lookup"><span data-stu-id="4b55b-145">Then we'll more closely investigate 404 (Not Found) errors.</span></span>

### <a name="some-causes-of-400-range-errors"></a><span data-ttu-id="4b55b-146">Enkele oorzaken van fouten 400-bereik</span><span class="sxs-lookup"><span data-stu-id="4b55b-146">Some causes of 400-range errors</span></span>
<span data-ttu-id="4b55b-147">De volgende voorbeelden ziet u een voorbeeld van een aantal fouten 400-bereik voor aanvragen op basis van Azure Blob Storage en hun mogelijke oorzaken.</span><span class="sxs-lookup"><span data-stu-id="4b55b-147">The examples below shows a sampling of some 400-range errors for requests against Azure Blob Storage, and their possible causes.</span></span> <span data-ttu-id="4b55b-148">Een van deze fouten, evenals de fouten in het bereik 300 en het bereik 500, kan leiden tot een laag percentage slagingspercentage.</span><span class="sxs-lookup"><span data-stu-id="4b55b-148">Any of these errors, as well as errors in the 300 range and the 500 range, can contribute to a low percent success rate.</span></span>

<span data-ttu-id="4b55b-149">Houd er rekening mee dat de lijsten hieronder verre voltooid zijn.</span><span class="sxs-lookup"><span data-stu-id="4b55b-149">Note that the lists below are far from complete.</span></span> <span data-ttu-id="4b55b-150">Zie [Status en foutcodes](http://msdn.microsoft.com/library/azure/dd179382.aspx) op MSDN voor meer informatie over Azure Storage met algemene fouten en fouten die specifiek zijn voor elk van de storage-services.</span><span class="sxs-lookup"><span data-stu-id="4b55b-150">See [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) on MSDN for details about general Azure Storage errors and about errors specific to each of the storage services.</span></span>

<span data-ttu-id="4b55b-151">**Voorbeelden van status Code 404 (niet gevonden)**</span><span class="sxs-lookup"><span data-stu-id="4b55b-151">**Status Code 404 (Not Found) Examples**</span></span>

<span data-ttu-id="4b55b-152">Deze gebeurtenis treedt op wanneer een leesbewerking op basis van een container of blob is mislukt omdat het blob of de container is niet gevonden.</span><span class="sxs-lookup"><span data-stu-id="4b55b-152">Occurs when a read operation against a container or blob fails because the blob or container is not found.</span></span>

* <span data-ttu-id="4b55b-153">Deze gebeurtenis treedt op als een container of blob is verwijderd door een andere client voordat deze aanvraag.</span><span class="sxs-lookup"><span data-stu-id="4b55b-153">Occurs if a container or blob has been deleted by another client before this request.</span></span>
* <span data-ttu-id="4b55b-154">Deze gebeurtenis treedt op als u een API-aanroep die wordt gemaakt van de container of blob nadat u hebt gecontroleerd of deze bestaat.</span><span class="sxs-lookup"><span data-stu-id="4b55b-154">Occurs if you are using an API call that creates the container or blob after checking whether it exists.</span></span> <span data-ttu-id="4b55b-155">De CreateIfNotExists APIs gebeld HEAD eerst om te controleren op het bestaan van de container of blob; Als deze niet bestaat, een 404-fout wordt geretourneerd en vervolgens wordt een tweede PUT-aanroep uitgevoerd om de container of blob te schrijven.</span><span class="sxs-lookup"><span data-stu-id="4b55b-155">The CreateIfNotExists APIs make a HEAD call first to check for the existence of the container or blob; if it does not exist, a 404 error is returned, and then a second PUT call is made to write the container or blob.</span></span>

<span data-ttu-id="4b55b-156">**Status 409 (Conflict) codevoorbeelden**</span><span class="sxs-lookup"><span data-stu-id="4b55b-156">**Status Code 409 (Conflict) Examples**</span></span>

* <span data-ttu-id="4b55b-157">Deze gebeurtenis treedt op als u een API maken voor het maken van een nieuwe container of blob, zonder eerst aanwezigheid controleren, en een container of blob met die naam al bestaat.</span><span class="sxs-lookup"><span data-stu-id="4b55b-157">Occurs if you use a Create API to create a new container or blob, without checking for existence first, and a container or blob with that name already exists.</span></span>
* <span data-ttu-id="4b55b-158">Deze gebeurtenis treedt op als een container wordt verwijderd en u probeert te maken van een nieuwe container met dezelfde naam voordat de verwijderingsbewerking voltooid is.</span><span class="sxs-lookup"><span data-stu-id="4b55b-158">Occurs if a container is being deleted, and you attempt to create a new container with the same name before the deletion operation is complete.</span></span>
* <span data-ttu-id="4b55b-159">Deze gebeurtenis treedt op als u een lease op een container of blob opgeven en er al een lease aanwezig is.</span><span class="sxs-lookup"><span data-stu-id="4b55b-159">Occurs if you specify a lease on a container or blob, and there is already a lease present.</span></span>

<span data-ttu-id="4b55b-160">**Statuscode 412 (voorwaarde is mislukt) voorbeelden**</span><span class="sxs-lookup"><span data-stu-id="4b55b-160">**Status Code 412 (Precondition Failed) Examples**</span></span>

* <span data-ttu-id="4b55b-161">Treedt op wanneer de voorwaarde die is opgegeven door een voorwaardelijke kop niet is voldaan.</span><span class="sxs-lookup"><span data-stu-id="4b55b-161">Occurs when the condition specified by a conditional header has not been met.</span></span>
* <span data-ttu-id="4b55b-162">Treedt op wanneer de lease-ID die is opgegeven, komt niet overeen met de ID van de lease op de container of blob.</span><span class="sxs-lookup"><span data-stu-id="4b55b-162">Occurs when the lease ID specified does not match the lease ID on the container or blob.</span></span>

## <a name="generate-log-files-for-analysis"></a><span data-ttu-id="4b55b-163">Logboekbestanden voor analyse te genereren</span><span class="sxs-lookup"><span data-stu-id="4b55b-163">Generate log files for analysis</span></span>
<span data-ttu-id="4b55b-164">In deze zelfstudie kun je Message Analyzer werkt met drie verschillende typen van logbestanden, hoewel u werkt met een van deze kan kiezen:</span><span class="sxs-lookup"><span data-stu-id="4b55b-164">In this tutorial, we'll use Message Analyzer to work with three different types of log files, although you could choose to work with any one of these:</span></span>

* <span data-ttu-id="4b55b-165">De **serverlogboek**, die wordt gemaakt wanneer u Azure Storage-logboekregistratie inschakelt.</span><span class="sxs-lookup"><span data-stu-id="4b55b-165">The **server log**, which is created when you enable Azure Storage logging.</span></span> <span data-ttu-id="4b55b-166">Logboek van de server bevat gegevens over elke bewerking aangeroepen voor een van de services van Azure Storage - blob, queue, table en bestand.</span><span class="sxs-lookup"><span data-stu-id="4b55b-166">The server log contains data about each operation called against one of the Azure Storage services - blob, queue, table, and file.</span></span> <span data-ttu-id="4b55b-167">Logboek van de server geeft aan welke bewerking is aangeroepen en welke statuscode geretourneerd, evenals andere informatie over de aanvraag en -antwoord is.</span><span class="sxs-lookup"><span data-stu-id="4b55b-167">The server log indicates which operation was called and what status code was returned, as well as other details about the request and response.</span></span>
* <span data-ttu-id="4b55b-168">De **.NET clientlogboek**, die wordt gemaakt wanneer u logboekregistratie van client-side in uw .NET-toepassing inschakelen.</span><span class="sxs-lookup"><span data-stu-id="4b55b-168">The **.NET client log**, which is created when you enable client-side logging from within your .NET application.</span></span> <span data-ttu-id="4b55b-169">De clientlogboek bevat gedetailleerde informatie over hoe de client de aanvraag wordt voorbereid en ontvangt en verwerkt het antwoord.</span><span class="sxs-lookup"><span data-stu-id="4b55b-169">The client log includes detailed information about how the client prepares the request and receives and processes the response.</span></span>
* <span data-ttu-id="4b55b-170">De **HTTP netwerk traceerlogboek**, verzamelt gegevens op HTTP/HTTPS-aanvraag en antwoord gegevens, inclusief voor bewerkingen op Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="4b55b-170">The **HTTP network trace log**, which collects data on HTTP/HTTPS request and response data, including for operations against Azure Storage.</span></span> <span data-ttu-id="4b55b-171">In deze zelfstudie genereert de netwerktracering via Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="4b55b-171">In this tutorial, we'll generate the network trace via Message Analyzer.</span></span>

### <a name="configure-server-side-logging-and-metrics"></a><span data-ttu-id="4b55b-172">Logboekregistratie op de server en metrische gegevens configureren</span><span class="sxs-lookup"><span data-stu-id="4b55b-172">Configure server-side logging and metrics</span></span>
<span data-ttu-id="4b55b-173">Eerst moet we voor het configureren van Azure Storage-logboekregistratie en metrische gegevens, zodat er gegevens van de clienttoepassing te analyseren.</span><span class="sxs-lookup"><span data-stu-id="4b55b-173">First, we'll need to configure Azure Storage logging and metrics, so that we have data from the client application to analyze.</span></span> <span data-ttu-id="4b55b-174">U kunt logboekregistratie en metrische gegevens in tal van manieren - configureren de [Azure-portal](https://portal.azure.com), met behulp van PowerShell, of via een programma.</span><span class="sxs-lookup"><span data-stu-id="4b55b-174">You can configure logging and metrics in a variety of ways - via the [Azure portal](https://portal.azure.com), by using PowerShell, or programmatically.</span></span> <span data-ttu-id="4b55b-175">Zie [metrische gegevens Storage inschakelen en weergeven van metrische gegevens](http://msdn.microsoft.com/library/azure/dn782843.aspx) en [opslag vastleggen inschakelen en toegang tot logboekgegevens](http://msdn.microsoft.com/library/azure/dn782840.aspx) op MSDN voor meer informatie over het configureren van logboekregistratie en metrische gegevens.</span><span class="sxs-lookup"><span data-stu-id="4b55b-175">See [Enabling Storage Metrics and Viewing Metrics Data](http://msdn.microsoft.com/library/azure/dn782843.aspx) and [Enabling Storage Logging and Accessing Log Data](http://msdn.microsoft.com/library/azure/dn782840.aspx) on MSDN for details about configuring logging and metrics.</span></span>

<span data-ttu-id="4b55b-176">**Via de Azure-portal**</span><span class="sxs-lookup"><span data-stu-id="4b55b-176">**Via the Azure portal**</span></span>

<span data-ttu-id="4b55b-177">Voor het configureren van logboekregistratie en metrische gegevens voor uw storage account met de [Azure-portal](https://portal.azure.com), volg de instructies voor [een opslagaccount in de Azure-portal bewaken](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="4b55b-177">To configure logging and metrics for your storage account using the [Azure portal](https://portal.azure.com), follow the instructions at [Monitor a storage account in the Azure portal](storage-monitor-storage-account.md).</span></span>

> [!NOTE]
> <span data-ttu-id="4b55b-178">Het is niet mogelijk in te stellen minuut metrische gegevens met behulp van de Azure-portal.</span><span class="sxs-lookup"><span data-stu-id="4b55b-178">It's not possible to set minute metrics using the Azure portal.</span></span> <span data-ttu-id="4b55b-179">We raden echter aan dat u ze stelt voor deze zelfstudie, en voor het onderzoeken van prestatieproblemen met uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="4b55b-179">However, we recommend that you do set them for the purposes of this tutorial, and for investigating performance issues with your application.</span></span> <span data-ttu-id="4b55b-180">Minuut metrische gegevens met behulp van PowerShell, zoals hieronder wordt weergegeven of programmatisch met behulp van de storage-clientbibliotheek kunt u instellen.</span><span class="sxs-lookup"><span data-stu-id="4b55b-180">You can set minute metrics using PowerShell as shown below, or programmatically using the storage client library.</span></span>
> 
> <span data-ttu-id="4b55b-181">Houd er rekening mee dat de minuut metrische gegevens en alleen per uur metrische gegevens kan niet worden weergegeven door de Azure portal.</span><span class="sxs-lookup"><span data-stu-id="4b55b-181">Note that the Azure portal cannot display minute metrics, only hourly metrics.</span></span>
> 
> 

<span data-ttu-id="4b55b-182">**Via PowerShell**</span><span class="sxs-lookup"><span data-stu-id="4b55b-182">**Via PowerShell**</span></span>

<span data-ttu-id="4b55b-183">Als u wilt beginnen met PowerShell voor Azure, Zie [installeren en configureren van Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="4b55b-183">To get started with PowerShell for Azure, see [How to install and configure Azure PowerShell](/powershell/azure/overview).</span></span>

1. <span data-ttu-id="4b55b-184">Gebruik de [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet uw Azure gebruikersaccount toevoegen aan het PowerShell-venster:</span><span class="sxs-lookup"><span data-stu-id="4b55b-184">Use the [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet to add your Azure user account to the PowerShell window:</span></span>
   
    ```powershell
    Add-AzureAccount
    ```

2. <span data-ttu-id="4b55b-185">In de **aanmelden bij Microsoft Azure** venster, typ de e-mailadres en wachtwoord die zijn gekoppeld aan uw account.</span><span class="sxs-lookup"><span data-stu-id="4b55b-185">In the **Sign in to Microsoft Azure** window, type the email address and password associated with your account.</span></span> <span data-ttu-id="4b55b-186">Azure verifieert de referentiegegevens en slaat deze op. Vervolgens wordt het venster gesloten.</span><span class="sxs-lookup"><span data-stu-id="4b55b-186">Azure authenticates and saves the credential information, and then closes the window.</span></span>
3. <span data-ttu-id="4b55b-187">Stel het standaardopslagaccount naar het opslagaccount dat u voor de zelfstudie gebruikt door het uitvoeren van deze opdrachten in het venster PowerShell:</span><span class="sxs-lookup"><span data-stu-id="4b55b-187">Set the default storage account to the storage account you are using for the tutorial by executing these commands in the PowerShell window:</span></span>
   
    ```powershell
    $SubscriptionName = 'Your subscription name'
    $StorageAccountName = 'yourstorageaccount'
    Set-AzureSubscription -CurrentStorageAccountName $StorageAccountName -SubscriptionName $SubscriptionName
    ```

4. <span data-ttu-id="4b55b-188">Logboekregistratie van opslag voor de Blob-service inschakelen:</span><span class="sxs-lookup"><span data-stu-id="4b55b-188">Enable storage logging for the Blob service:</span></span>
   
    ```powershell
    Set-AzureStorageServiceLoggingProperty -ServiceType Blob -LoggingOperations Read,Write,Delete -PassThru -RetentionDays 7 -Version 1.0
    ```

5. <span data-ttu-id="4b55b-189">Opslag metrische gegevens voor de Blob-service, om ervoor te zorgen instellen inschakelen **- MetricsType** naar `Minute`:</span><span class="sxs-lookup"><span data-stu-id="4b55b-189">Enable storage metrics for the Blob service, making sure to set **-MetricsType** to `Minute`:</span></span>
   
    ```powershell
    Set-AzureStorageServiceMetricsProperty -ServiceType Blob -MetricsType Minute -MetricsLevel ServiceAndApi -PassThru -RetentionDays 7 -Version 1.0
    ```

### <a name="configure-net-client-side-logging"></a><span data-ttu-id="4b55b-190">.NET-clientzijde logboekregistratie configureren</span><span class="sxs-lookup"><span data-stu-id="4b55b-190">Configure .NET client-side logging</span></span>
<span data-ttu-id="4b55b-191">Schakel .NET diagnostische gegevens in het configuratiebestand van de toepassing (web.config of app.config) voor het configureren van client-side '-logboekregistratie voor een .NET-toepassing.</span><span class="sxs-lookup"><span data-stu-id="4b55b-191">To configure client-side logging for a .NET application, enable .NET diagnostics in the application's configuration file (web.config or app.config).</span></span> <span data-ttu-id="4b55b-192">Zie [clientzijde logboekregistratie met de Storage-clientbibliotheek voor .NET](http://msdn.microsoft.com/library/azure/dn782839.aspx) en [clientzijde logboekregistratie met de Microsoft Azure-opslag-SDK voor Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) op MSDN voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="4b55b-192">See [Client-side Logging with the .NET Storage Client Library](http://msdn.microsoft.com/library/azure/dn782839.aspx) and [Client-side Logging with the Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) on MSDN for details.</span></span>

<span data-ttu-id="4b55b-193">De client-side '-logboek bevat gedetailleerde informatie over hoe de client de aanvraag wordt voorbereid en ontvangt en verwerkt het antwoord.</span><span class="sxs-lookup"><span data-stu-id="4b55b-193">The client-side log includes detailed information about how the client prepares the request and receives and processes the response.</span></span>

<span data-ttu-id="4b55b-194">De Storage-clientbibliotheek worden client-side '-logboekgegevens opgeslagen in de opgegeven locatie in het configuratiebestand van de toepassing (web.config of app.config).</span><span class="sxs-lookup"><span data-stu-id="4b55b-194">The Storage Client Library stores client-side log data in the location specified in the application's configuration file (web.config or app.config).</span></span>

### <a name="collect-a-network-trace"></a><span data-ttu-id="4b55b-195">Een nieuwe netwerktracering verzamelen</span><span class="sxs-lookup"><span data-stu-id="4b55b-195">Collect a network trace</span></span>
<span data-ttu-id="4b55b-196">U kunt Message Analyzer gebruiken voor het verzamelen van een HTTP/HTTPS-netwerktracering terwijl de clienttoepassing wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="4b55b-196">You can use Message Analyzer to collect an HTTP/HTTPS network trace while your client application is running.</span></span> <span data-ttu-id="4b55b-197">Message Analyzer gebruikt [Fiddler](http://www.telerik.com/fiddler) op de back-end.</span><span class="sxs-lookup"><span data-stu-id="4b55b-197">Message Analyzer uses [Fiddler](http://www.telerik.com/fiddler) on the back end.</span></span> <span data-ttu-id="4b55b-198">Voordat u de netwerktracering hebt verzameld, wordt u aangeraden Fiddler om vast te leggen van niet-versleutelde HTTPS-verkeer te configureren:</span><span class="sxs-lookup"><span data-stu-id="4b55b-198">Before you collect the network trace, we recommend that you configure Fiddler to record unencrypted HTTPS traffic:</span></span>

1. <span data-ttu-id="4b55b-199">Installeer [Fiddler](http://www.telerik.com/download/fiddler).</span><span class="sxs-lookup"><span data-stu-id="4b55b-199">Install [Fiddler](http://www.telerik.com/download/fiddler).</span></span>
2. <span data-ttu-id="4b55b-200">Start Fiddler.</span><span class="sxs-lookup"><span data-stu-id="4b55b-200">Launch Fiddler.</span></span>
3. <span data-ttu-id="4b55b-201">Selecteer **extra | Opties voor fiddler**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-201">Select **Tools | Fiddler Options**.</span></span>
4. <span data-ttu-id="4b55b-202">Zorg ervoor dat in het dialoogvenster Opties voor **HTTPS-Maak verbinding vastleggen** en **HTTPS-verkeer ontsleutelen** beide zijn geselecteerd, zoals hieronder wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="4b55b-202">In the Options dialog, ensure that **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** are both selected, as shown below.</span></span>

![Fiddler opties configureren](./media/storage-e2e-troubleshooting/fiddler-options-1.png)

<span data-ttu-id="4b55b-204">Voor de zelfstudie verzamelen en een nieuwe netwerktracering eerst opslaan in Message Analyzer en maken van een sessie analyse voor het analyseren van de tracering en de logboeken.</span><span class="sxs-lookup"><span data-stu-id="4b55b-204">For the tutorial, collect and save a network trace first in Message Analyzer, then create an analysis session to analyze the trace and the logs.</span></span> <span data-ttu-id="4b55b-205">Naar een netwerktracering in Message Analyzer verzamelen:</span><span class="sxs-lookup"><span data-stu-id="4b55b-205">To collect a network trace in Message Analyzer:</span></span>

1. <span data-ttu-id="4b55b-206">Selecteer in Message Analyzer **bestand | Snelle Trace | Niet-versleuteld HTTPS**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-206">In Message Analyzer, select **File | Quick Trace | Unencrypted HTTPS**.</span></span>
2. <span data-ttu-id="4b55b-207">De tracering begint onmiddellijk.</span><span class="sxs-lookup"><span data-stu-id="4b55b-207">The trace will begin immediately.</span></span> <span data-ttu-id="4b55b-208">Selecteer **stoppen** stoppen van de tracering zodat we deze trace-opslag alleen verkeer kunt configureren.</span><span class="sxs-lookup"><span data-stu-id="4b55b-208">Select **Stop** to stop the trace so that we can configure it to trace storage traffic only.</span></span>
3. <span data-ttu-id="4b55b-209">Selecteer **bewerken** de traceringssessie bewerken.</span><span class="sxs-lookup"><span data-stu-id="4b55b-209">Select **Edit** to edit the tracing session.</span></span>
4. <span data-ttu-id="4b55b-210">Selecteer de **configureren** koppeling rechts van de **Microsoft-Pef-WebProxy** ETW-provider.</span><span class="sxs-lookup"><span data-stu-id="4b55b-210">Select the **Configure** link to the right of the **Microsoft-Pef-WebProxy** ETW provider.</span></span>
5. <span data-ttu-id="4b55b-211">In de **geavanceerde instellingen** dialoogvenster, klikt u op de **Provider** tabblad.</span><span class="sxs-lookup"><span data-stu-id="4b55b-211">In the **Advanced Settings** dialog, click the **Provider** tab.</span></span>
6. <span data-ttu-id="4b55b-212">In de **Hostname Filter** veld, geeft u de eindpunten van uw opslag, gescheiden door spaties.</span><span class="sxs-lookup"><span data-stu-id="4b55b-212">In the **Hostname Filter** field, specify your storage endpoints, separated by spaces.</span></span> <span data-ttu-id="4b55b-213">Bijvoorbeeld, kunt u uw eindpunten als volgt; Wijzig `storagesample` op de naam van uw opslagaccount:</span><span class="sxs-lookup"><span data-stu-id="4b55b-213">For example, you can specify your endpoints as follows; change `storagesample` to the name of your storage account:</span></span>

    ```   
    storagesample.blob.core.windows.net storagesample.queue.core.windows.net storagesample.table.core.windows.net
    ```

7. <span data-ttu-id="4b55b-214">Het dialoogvenster sluiten en klik op **opnieuw** om te beginnen met het verzamelen van de tracering met het filter hostname aanwezig is, zodat alleen Azure Storage-netwerkverkeer wordt opgenomen in de tracering.</span><span class="sxs-lookup"><span data-stu-id="4b55b-214">Exit the dialog, and click **Restart** to begin collecting the trace with the hostname filter in place, so that only Azure Storage network traffic is included in the trace.</span></span>

> [!NOTE]
> <span data-ttu-id="4b55b-215">Nadat u klaar bent met het verzamelen van uw netwerk-trace, wordt aangeraden dat u de instellingen die u hebt gewijzigd in Fiddler om te ontsleutelen HTTPS-verkeer te herstellen.</span><span class="sxs-lookup"><span data-stu-id="4b55b-215">After you have finished collecting your network trace, we strongly recommend that you revert the settings that you may have changed in Fiddler to decrypt HTTPS traffic.</span></span> <span data-ttu-id="4b55b-216">Schakel in het dialoogvenster Fiddler opties uit de **vastleggen HTTPS Maak verbinding** en **HTTPS-verkeer ontsleutelen** selectievakjes uit.</span><span class="sxs-lookup"><span data-stu-id="4b55b-216">In the Fiddler Options dialog, deselect the **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** checkboxes.</span></span>
> 
> 

<span data-ttu-id="4b55b-217">Zie [met behulp van de functies voor het traceren van netwerk](http://technet.microsoft.com/library/jj674819.aspx) op Technet voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="4b55b-217">See [Using the Network Tracing Features](http://technet.microsoft.com/library/jj674819.aspx) on Technet for more details.</span></span>

## <a name="review-metrics-data-in-the-azure-portal"></a><span data-ttu-id="4b55b-218">Controleer de metrische gegevens in de Azure portal</span><span class="sxs-lookup"><span data-stu-id="4b55b-218">Review metrics data in the Azure portal</span></span>
<span data-ttu-id="4b55b-219">Zodra uw toepassing actief is geweest gedurende een periode, kunt u lezen de grafieken metrische gegevens die worden weergegeven in de [Azure-portal](https://portal.azure.com) om te zien hoe uw service heeft is uitvoert.</span><span class="sxs-lookup"><span data-stu-id="4b55b-219">Once your application has been running for a period of time, you can review the metrics charts that appear in the [Azure portal](https://portal.azure.com) to observe how your service has been performing.</span></span>

<span data-ttu-id="4b55b-220">Eerst, gaat u naar uw opslagaccount in de Azure-portal.</span><span class="sxs-lookup"><span data-stu-id="4b55b-220">First, navigate to your storage account in the Azure portal.</span></span> <span data-ttu-id="4b55b-221">Standaard een controle grafiek met de **Verwerkingsfrequentie** metriek wordt weergegeven op de blade-account.</span><span class="sxs-lookup"><span data-stu-id="4b55b-221">By default, a monitoring chart with the **Success percentage** metric is displayed on the account blade.</span></span> <span data-ttu-id="4b55b-222">Als u de grafiek om andere metrische gegevens weer te geven eerder hebt gewijzigd, voegt u de **Verwerkingsfrequentie** metriek.</span><span class="sxs-lookup"><span data-stu-id="4b55b-222">If you've previously modified the chart to display different metrics, add the **Success percentage** metric.</span></span>

<span data-ttu-id="4b55b-223">U ziet nu **Verwerkingsfrequentie** in de bewakingsgrafiek samen met andere metrische gegevens u hebt toegevoegd.</span><span class="sxs-lookup"><span data-stu-id="4b55b-223">You'll now see **Success percentage** in the monitoring chart, along with any other metrics you may have added.</span></span> <span data-ttu-id="4b55b-224">In het scenario dat we naast onderzoeken door analyseren in de logboeken in Message Analyzer, is het percentage slagingspercentage enigszins minder dan 100%.</span><span class="sxs-lookup"><span data-stu-id="4b55b-224">In the scenario we'll investigate next by analyzing the logs in Message Analyzer, the percent success rate is somewhat below 100%.</span></span>

<span data-ttu-id="4b55b-225">Zie voor meer informatie over het toevoegen en aanpassen van metrische gegevens grafieken [grafieken van de metrische gegevens aanpassen](storage-monitor-storage-account.md#customize-metrics-charts).</span><span class="sxs-lookup"><span data-stu-id="4b55b-225">For more details on adding and customizing metrics charts, see [Customize metrics charts](storage-monitor-storage-account.md#customize-metrics-charts).</span></span>

> [!NOTE]
> <span data-ttu-id="4b55b-226">Het kan even duren voor de metrische gegevens worden weergegeven in de Azure portal, nadat u opslag metrische gegevens inschakelen.</span><span class="sxs-lookup"><span data-stu-id="4b55b-226">It may take some time for your metrics data to appear in the Azure portal after you enable storage metrics.</span></span> <span data-ttu-id="4b55b-227">Dit komt omdat elk uur metrische gegevens voor het vorige uur niet in de Azure-portal weergegeven worden totdat het huidige uur is verstreken.</span><span class="sxs-lookup"><span data-stu-id="4b55b-227">This is because hourly metrics for the previous hour are not displayed in the Azure portal until the current hour has elapsed.</span></span> <span data-ttu-id="4b55b-228">Bovendien worden minuut metrische gegevens momenteel niet weergegeven in de Azure portal.</span><span class="sxs-lookup"><span data-stu-id="4b55b-228">Also, minute metrics are not currently displayed in the Azure portal.</span></span> <span data-ttu-id="4b55b-229">Dus afhankelijk van wanneer het inschakelen van metrische gegevens, duurt maximaal twee uur om metrische gegevens te bekijken.</span><span class="sxs-lookup"><span data-stu-id="4b55b-229">So depending on when you enable metrics, it may take up to two hours to see metrics data.</span></span>
> 
> 

## <a name="use-azcopy-to-copy-server-logs-to-a-local-directory"></a><span data-ttu-id="4b55b-230">AzCopy gebruiken om te kopiëren van serverlogboeken naar een lokale map</span><span class="sxs-lookup"><span data-stu-id="4b55b-230">Use AzCopy to copy server logs to a local directory</span></span>
<span data-ttu-id="4b55b-231">Azure Storage schrijft logboekgegevens van de server voor blobs, tijdens metrische gegevens worden geschreven naar tabellen.</span><span class="sxs-lookup"><span data-stu-id="4b55b-231">Azure Storage writes server log data to blobs, while metrics are written to tables.</span></span> <span data-ttu-id="4b55b-232">Logboek blobs zijn beschikbaar in de bekende `$logs` container voor uw opslagaccount.</span><span class="sxs-lookup"><span data-stu-id="4b55b-232">Log blobs are available in the well-known `$logs` container for your storage account.</span></span> <span data-ttu-id="4b55b-233">Logboek blobs worden hiërarchisch benoemd met jaar, maand, dag en uur, zodat u het bereik van de tijd die u wilt onderzoeken gemakkelijk kan vinden.</span><span class="sxs-lookup"><span data-stu-id="4b55b-233">Log blobs are named hierarchically by year, month, day, and hour, so that you can easily locate the range of time you wish to investigate.</span></span> <span data-ttu-id="4b55b-234">Bijvoorbeeld, in de `storagesample` account, de container voor de blobs logboek voor 01-02-2015 8 en 9 uur, `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span><span class="sxs-lookup"><span data-stu-id="4b55b-234">For example, in the `storagesample` account, the container for the log blobs for 01/02/2015, from 8-9 am, is `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span></span> <span data-ttu-id="4b55b-235">De afzonderlijke blobs in deze container zijn benoemde opeenvolgend, beginnend met `000000.log`.</span><span class="sxs-lookup"><span data-stu-id="4b55b-235">The individual blobs in this container are named sequentially, beginning with `000000.log`.</span></span>

<span data-ttu-id="4b55b-236">U kunt het opdrachtregelhulpprogramma AzCopy deze logboekbestanden serverzijde downloaden naar een locatie van uw keuze op uw lokale machine.</span><span class="sxs-lookup"><span data-stu-id="4b55b-236">You can use the AzCopy command-line tool to download these server-side log files to a location of your choice on your local machine.</span></span> <span data-ttu-id="4b55b-237">U kunt bijvoorbeeld de volgende opdracht gebruiken voor het downloaden van de logboekbestanden voor blob-bewerkingen die plaatsgevonden op 2 januari 2015 naar de map heeft `C:\Temp\Logs\Server`; vervangen `<storageaccountname>` met de naam van uw opslagaccount en `<storageaccountkey>` door uw toegangssleutel voor account:</span><span class="sxs-lookup"><span data-stu-id="4b55b-237">For example, you can use the following command to download the log files for blob operations that took place on January 2, 2015 to the folder `C:\Temp\Logs\Server`; replace `<storageaccountname>` with the name of your storage account, and `<storageaccountkey>` with your account access key:</span></span>

```azcopy
AzCopy.exe /Source:http://<storageaccountname>.blob.core.windows.net/$logs /Dest:C:\Temp\Logs\Server /Pattern:"blob/2015/01/02" /SourceKey:<storageaccountkey> /S /V
```
<span data-ttu-id="4b55b-238">AzCopy is beschikbaar voor downloaden op de [Azure downloadt](https://azure.microsoft.com/downloads/) pagina.</span><span class="sxs-lookup"><span data-stu-id="4b55b-238">AzCopy is available for download on the [Azure Downloads](https://azure.microsoft.com/downloads/) page.</span></span> <span data-ttu-id="4b55b-239">Zie voor meer informatie over het gebruik van AzCopy [gegevensoverdracht met het AzCopy-opdrachtregelprogramma](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="4b55b-239">For details about using AzCopy, see [Transfer data with the AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>

<span data-ttu-id="4b55b-240">Zie voor meer informatie over het downloaden van serverzijde logboeken [logboekgegevens downloaden opslag logboekregistratie](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span><span class="sxs-lookup"><span data-stu-id="4b55b-240">For additional information about downloading server-side logs, see [Download Storage Logging log data](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span></span>

## <a name="use-microsoft-message-analyzer-to-analyze-log-data"></a><span data-ttu-id="4b55b-241">Gebruik Microsoft Message Analyzer logboekgegevens analyseren</span><span class="sxs-lookup"><span data-stu-id="4b55b-241">Use Microsoft Message Analyzer to analyze log data</span></span>
<span data-ttu-id="4b55b-242">Microsoft Message Analyzer is een hulpprogramma voor het vastleggen, weergeven en analyseren van verkeer, gebeurtenissen en andere systemen of toepassingen berichten in scenario's voor probleemoplossing en diagnostische messaging protocol.</span><span class="sxs-lookup"><span data-stu-id="4b55b-242">Microsoft Message Analyzer is a tool for capturing, displaying, and analyzing protocol messaging traffic, events, and other system or application messages in troubleshooting and diagnostic scenarios.</span></span> <span data-ttu-id="4b55b-243">Message Analyzer ook kunt u laden, aggregeren en analyseren van gegevens van logboekbestanden en traceerbestanden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="4b55b-243">Message Analyzer also enables you to load, aggregate, and analyze data from log and saved trace files.</span></span> <span data-ttu-id="4b55b-244">Zie voor meer informatie over Message Analyzer [Microsoft Message Analyzer besturingssysteem Guide](http://technet.microsoft.com/library/jj649776.aspx).</span><span class="sxs-lookup"><span data-stu-id="4b55b-244">For more information about Message Analyzer, see [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx).</span></span>

<span data-ttu-id="4b55b-245">Berichtanalyse omvat activa voor Azure Storage die u helpen bij het analyseren van de server, client en netwerk-Logboeken.</span><span class="sxs-lookup"><span data-stu-id="4b55b-245">Message Analyzer includes assets for Azure Storage that help you to analyze server, client, and network logs.</span></span> <span data-ttu-id="4b55b-246">In deze sectie bespreken we het gebruik van deze hulpprogramma's voor het oplossen van het probleem van laag percentage slagen in de logboeken van de opslag.</span><span class="sxs-lookup"><span data-stu-id="4b55b-246">In this section, we'll discuss how to use those tools to address the issue of low percent success in the storage logs.</span></span>

### <a name="download-and-install-message-analyzer-and-the-azure-storage-assets"></a><span data-ttu-id="4b55b-247">Download en installeer Message Analyzer en de Azure Storage-bedrijfsmiddelen</span><span class="sxs-lookup"><span data-stu-id="4b55b-247">Download and install Message Analyzer and the Azure Storage Assets</span></span>
1. <span data-ttu-id="4b55b-248">Download [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) van het Microsoft Download Center en voert u het installatieprogramma.</span><span class="sxs-lookup"><span data-stu-id="4b55b-248">Download [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) from the Microsoft Download Center, and run the installer.</span></span>
2. <span data-ttu-id="4b55b-249">Start de Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="4b55b-249">Launch Message Analyzer.</span></span>
3. <span data-ttu-id="4b55b-250">Van de **extra** selecteert u **Asset Manager**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-250">From the **Tools** menu, select **Asset Manager**.</span></span> <span data-ttu-id="4b55b-251">In de **Asset Manager** dialoogvenster Selecteer **downloadt**, vervolgens filteren op **Azure Storage**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-251">In the **Asset Manager** dialog, select **Downloads**, then filter on **Azure Storage**.</span></span> <span data-ttu-id="4b55b-252">U ziet de activa van de Azure-opslag, zoals wordt weergegeven in de volgende afbeelding.</span><span class="sxs-lookup"><span data-stu-id="4b55b-252">You will see the Azure Storage Assets, as shown in the picture below.</span></span>
4. <span data-ttu-id="4b55b-253">Klik op **Sync alle weergegeven objecten** voor het installeren van de activa van Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="4b55b-253">Click **Sync All Displayed Items** to install the Azure Storage Assets.</span></span> <span data-ttu-id="4b55b-254">De beschikbare elementen zijn onder andere:</span><span class="sxs-lookup"><span data-stu-id="4b55b-254">The available assets include:</span></span>
   * <span data-ttu-id="4b55b-255">**Azure Storage kleur regels:** Azure Storage kleur regels kunt u speciale filters definiëren waarmee u berichten die specifieke informatie in een tracering bevatten te markeren met behulp van kleur, tekst en lettertype stijlen.</span><span class="sxs-lookup"><span data-stu-id="4b55b-255">**Azure Storage Color Rules:** Azure Storage color rules enable you to define special filters that use color, text, and font styles to highlight messages that contain specific information in a trace.</span></span>
   * <span data-ttu-id="4b55b-256">**Azure Storage-grafieken:** Azure Storage kolomdiagrammen zijn vooraf gedefinieerde diagrammen die in een grafiek weergegeven logboekgegevens van de server.</span><span class="sxs-lookup"><span data-stu-id="4b55b-256">**Azure Storage Charts:** Azure Storage charts are predefined charts that graph server log data.</span></span> <span data-ttu-id="4b55b-257">Houd er rekening mee dat voor het gebruik van Azure Storage-grafieken op dit moment moet u alleen logboek van de server in het raster Analysis geladen mogelijk.</span><span class="sxs-lookup"><span data-stu-id="4b55b-257">Note that to use Azure Storage charts at this time, you may only load the server log into the Analysis Grid.</span></span>
   * <span data-ttu-id="4b55b-258">**Azure Storage Parsers:** de Azure Storage-parsers de Azure Storage client, de server en de HTTP-logboeken parseren om weer te geven in het raster analyse.</span><span class="sxs-lookup"><span data-stu-id="4b55b-258">**Azure Storage Parsers:** The Azure Storage parsers parse the Azure Storage client, server, and HTTP logs in order to display them in the Analysis Grid.</span></span>
   * <span data-ttu-id="4b55b-259">**Azure Storage-Filters:** Azure Storage-filters zijn vooraf gedefinieerde criteria die u gebruiken kunt voor het opvragen van uw gegevens in het raster analyse.</span><span class="sxs-lookup"><span data-stu-id="4b55b-259">**Azure Storage Filters:** Azure Storage filters are predefined criteria that you can use to query your data in the Analysis Grid.</span></span>
   * <span data-ttu-id="4b55b-260">**Azure Storage weergave-indelingen:** Azure Storage weergave-indelingen zijn vooraf gedefinieerde kolomindelingen en groeperingen in het raster analyse.</span><span class="sxs-lookup"><span data-stu-id="4b55b-260">**Azure Storage View Layouts:** Azure Storage view layouts are predefined column layouts and groupings in the Analysis Grid.</span></span>
5. <span data-ttu-id="4b55b-261">Opnieuw opstarten Message Analyzer nadat u de assets hebt geïnstalleerd.</span><span class="sxs-lookup"><span data-stu-id="4b55b-261">Restart Message Analyzer after you've installed the assets.</span></span>

![Message Analyzer Asset Manager](./media/storage-e2e-troubleshooting/mma-start-page-1.png)

> [!NOTE]
> <span data-ttu-id="4b55b-263">Installeer alle van de Azure Storage-assets weergegeven voor de doeleinden van deze zelfstudie.</span><span class="sxs-lookup"><span data-stu-id="4b55b-263">Install all of the Azure Storage assets shown for the purposes of this tutorial.</span></span>
> 
> 

### <a name="import-your-log-files-into-message-analyzer"></a><span data-ttu-id="4b55b-264">Importeren van de logboekbestanden in Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="4b55b-264">Import your log files into Message Analyzer</span></span>
<span data-ttu-id="4b55b-265">U kunt alle opgeslagen logboekbestanden (serverzijde, client-side en netwerk) importeren in één sessie in Microsoft Message Analyzer voor analyse.</span><span class="sxs-lookup"><span data-stu-id="4b55b-265">You can import all of your saved log files (server-side, client-side, and network) into a single session in Microsoft Message Analyzer for analysis.</span></span>

1. <span data-ttu-id="4b55b-266">Op de **bestand** menu van Microsoft Message Analyzer, klikt u op **nieuwe sessie**, en klik vervolgens op **leeg sessie**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-266">On the **File** menu in Microsoft Message Analyzer, click **New Session**, and then click **Blank Session**.</span></span> <span data-ttu-id="4b55b-267">In de **nieuwe sessie** dialoogvenster een naam voor uw analyse-sessie.</span><span class="sxs-lookup"><span data-stu-id="4b55b-267">In the **New Session** dialog, enter a name for your analysis session.</span></span> <span data-ttu-id="4b55b-268">In de **Sessiedetails** -scherm, klikt u op de **bestanden** knop.</span><span class="sxs-lookup"><span data-stu-id="4b55b-268">In the **Session Details** panel, click on the **Files** button.</span></span>
2. <span data-ttu-id="4b55b-269">Klik op het netwerk trace om gegevens te laden die worden gegenereerd door Message Analyzer, **bestanden toevoegen**, blader naar de locatie waar u het bestand .matp van uw web-traceringssessie hebt opgeslagen, selecteert u het bestand .matp en klikt u op **Open**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-269">To load the network trace data generated by Message Analyzer, click on **Add Files**, browse to the location where you saved your .matp file from your web tracing session, select the .matp file, and click **Open**.</span></span>
3. <span data-ttu-id="4b55b-270">Klik op de server-side ' om logboekgegevens te laden, **bestanden toevoegen**, blader naar de locatie waar u uw logboeken serverzijde hebt gedownload, selecteert u de logboekbestanden voor de periode die u wilt analyseren, en klikt u op **Open**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-270">To load the server-side log data, click on **Add Files**, browse to the location where you downloaded your server-side logs, select the log files for the time range you want to analyze, and click **Open**.</span></span> <span data-ttu-id="4b55b-271">Vervolgens in de **Sessiedetails** deelvenster, stelt u de **tekst logboekconfiguratie** vervolgkeuzelijst voor elke serverzijde logboekbestand **AzureStorageLog** om ervoor te zorgen dat Microsoft Message Analyzer correct het logboekbestand kan parseren.</span><span class="sxs-lookup"><span data-stu-id="4b55b-271">Then, in the **Session Details** panel, set the **Text Log Configuration** drop-down for each server-side log file to **AzureStorageLog** to ensure that Microsoft Message Analyzer can parse the log file correctly.</span></span>
4. <span data-ttu-id="4b55b-272">Klik op de client-side ' om logboekgegevens te laden, **bestanden toevoegen**, blader naar de locatie waar u uw client-side '-Logboeken hebt opgeslagen, selecteert u de logboekbestanden die u wilt analyseren, en klikt u op **Open**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-272">To load the client-side log data, click on **Add Files**, browse to the location where you saved your client-side logs, select the log files you want to analyze, and click **Open**.</span></span> <span data-ttu-id="4b55b-273">Vervolgens in de **Sessiedetails** deelvenster, stelt u de **tekst logboekconfiguratie** vervolgkeuzelijst voor elke client-side-logboekbestand te **AzureStorageClientDotNetV4** om ervoor te zorgen dat Microsoft Message Analyzer correct het logboekbestand kan parseren.</span><span class="sxs-lookup"><span data-stu-id="4b55b-273">Then, in the **Session Details** panel, set the **Text Log Configuration** drop-down for each client-side log file to **AzureStorageClientDotNetV4** to ensure that Microsoft Message Analyzer can parse the log file correctly.</span></span>
5. <span data-ttu-id="4b55b-274">Klik op **Start** in de **nieuwe sessie** dialoogvenster laden en parseren van de logboekgegevens.</span><span class="sxs-lookup"><span data-stu-id="4b55b-274">Click **Start** in the **New Session** dialog to load and parse the log data.</span></span> <span data-ttu-id="4b55b-275">De logboekgegevens worden weergegeven in het raster Message Analyzer analyse.</span><span class="sxs-lookup"><span data-stu-id="4b55b-275">The log data displays in the Message Analyzer Analysis Grid.</span></span>

<span data-ttu-id="4b55b-276">De volgende afbeelding toont een voorbeeld-sessie die is geconfigureerd met de server, client en netwerk-logboekbestanden voor tracering.</span><span class="sxs-lookup"><span data-stu-id="4b55b-276">The picture below shows an example session configured with server, client, and network trace log files.</span></span>

![Message Analyzer sessie configureren](./media/storage-e2e-troubleshooting/configure-mma-session-1.png)

<span data-ttu-id="4b55b-278">Houd er rekening mee dat Message Analyzer logboekbestanden in het geheugen laadt.</span><span class="sxs-lookup"><span data-stu-id="4b55b-278">Note that Message Analyzer loads log files into memory.</span></span> <span data-ttu-id="4b55b-279">Als er een groot aantal logboekgegevens, wilt u het filter om de beste prestaties van Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="4b55b-279">If you have a large set of log data, you will want to filter it in order to get the best performance from Message Analyzer.</span></span>

<span data-ttu-id="4b55b-280">Bepaal eerst het tijdsbestek dat u geïnteresseerd bent in het controleren van, en deze periode zo klein mogelijk te houden.</span><span class="sxs-lookup"><span data-stu-id="4b55b-280">First, determine the time frame that you are interested in reviewing, and keep this time frame as small as possible.</span></span> <span data-ttu-id="4b55b-281">In veel gevallen wordt u wilt een periode van minuten of uren maximaal bekijken.</span><span class="sxs-lookup"><span data-stu-id="4b55b-281">In many cases you will want to review a period of minutes or hours at most.</span></span> <span data-ttu-id="4b55b-282">Importeer de kleinste set logboeken die uw behoeften.</span><span class="sxs-lookup"><span data-stu-id="4b55b-282">Import the smallest set of logs that can meet your needs.</span></span>

<span data-ttu-id="4b55b-283">Als u nog steeds een grote hoeveelheid gegevens aan het logboek hebt, vervolgens mogelijk wilt u een sessie om te filteren dat uw logboekgegevens voordat u het laden.</span><span class="sxs-lookup"><span data-stu-id="4b55b-283">If you still have a large amount of log data, then you may want to specify a session filter to filter your log data before you load it.</span></span> <span data-ttu-id="4b55b-284">In de **isStrictMode** de optie de **bibliotheek** klikken om een vooraf gedefinieerde filter kiezen; bijvoorbeeld kiezen **globale tijd Filter I** filters uit de Azure-opslag kunt u filteren op een tijdsinterval.</span><span class="sxs-lookup"><span data-stu-id="4b55b-284">In the **Session Filter** box, select the **Library** button to choose a predefined filter; for example, choose **Global Time Filter I** from the Azure Storage filters to filter on a time interval.</span></span> <span data-ttu-id="4b55b-285">Vervolgens kunt u de filtercriteria om op te geven van het eerste en laatste tijdstempel voor het interval dat u wilt zien.</span><span class="sxs-lookup"><span data-stu-id="4b55b-285">You can then edit the filter criteria to specify the starting and ending timestamp for the interval you want to see.</span></span> <span data-ttu-id="4b55b-286">U kunt ook filteren op een bepaalde statuscode; u kunt bijvoorbeeld alleen logboekvermeldingen waar de statuscode 404 wordt geladen.</span><span class="sxs-lookup"><span data-stu-id="4b55b-286">You can also filter on a particular status code; for example, you can choose to load only log entries where the status code is 404.</span></span>

<span data-ttu-id="4b55b-287">Zie voor meer informatie over het importeren van gegevens aan het logboek in Microsoft Message Analyzer [berichtgegevens bij het ophalen van](http://technet.microsoft.com/library/dn772437.aspx) op TechNet.</span><span class="sxs-lookup"><span data-stu-id="4b55b-287">For more information about importing log data into Microsoft Message Analyzer, see [Retrieving Message Data](http://technet.microsoft.com/library/dn772437.aspx) on TechNet.</span></span>

### <a name="use-the-client-request-id-to-correlate-log-file-data"></a><span data-ttu-id="4b55b-288">De aanvraag-ID van client correleren Logbestandsgegevens gebruiken</span><span class="sxs-lookup"><span data-stu-id="4b55b-288">Use the client request ID to correlate log file data</span></span>
<span data-ttu-id="4b55b-289">De Azure Storage-clientbibliotheek genereert automatisch een unieke client aanvraag-ID voor elke aanvraag.</span><span class="sxs-lookup"><span data-stu-id="4b55b-289">The Azure Storage Client Library automatically generates a unique client request ID for every request.</span></span> <span data-ttu-id="4b55b-290">Deze waarde is geschreven naar het clientlogboek, logboek van de server en de netwerktracering, zodat u deze gebruiken kunt voor het correleren van gegevens over alle drie logboeken binnen Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="4b55b-290">This value is written to the client log, the server log, and the network trace, so you can use it to correlate data across all three logs within Message Analyzer.</span></span> <span data-ttu-id="4b55b-291">Zie [aanvraag-ID van Client](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) aanvragen voor aanvullende informatie over de client ID.</span><span class="sxs-lookup"><span data-stu-id="4b55b-291">See [Client request ID](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) for additional information about the client request ID.</span></span>

<span data-ttu-id="4b55b-292">De volgende secties wordt beschreven hoe u voor het gebruik van vooraf geconfigureerde en aangepaste indeling weergaven met elkaar correleren en gegevens groeperen op basis van de client-request-ID.</span><span class="sxs-lookup"><span data-stu-id="4b55b-292">The sections below describe how to use pre-configured and custom layout views to correlate and group data based on the client request ID.</span></span>

### <a name="select-a-view-layout-to-display-in-the-analysis-grid"></a><span data-ttu-id="4b55b-293">Selecteer een weergave-indeling moet worden weergegeven in het raster analyse</span><span class="sxs-lookup"><span data-stu-id="4b55b-293">Select a view layout to display in the Analysis Grid</span></span>
<span data-ttu-id="4b55b-294">De opslag-elementen voor Message Analyzer bevatten Azure Storage-weergave indelingen, die zijn vooraf geconfigureerde weergaven die u gebruiken kunt om uw gegevens met nuttig groeperingen en kolommen voor verschillende scenario's weer te geven.</span><span class="sxs-lookup"><span data-stu-id="4b55b-294">The Storage Assets for Message Analyzer include Azure Storage View Layouts, which are pre-configured views that you can use to display your data with useful groupings and columns for different scenarios.</span></span> <span data-ttu-id="4b55b-295">U kunt ook aangepaste weergave-indelingen maken en opslaan voor hergebruik.</span><span class="sxs-lookup"><span data-stu-id="4b55b-295">You can also create custom view layouts and save them for reuse.</span></span>

<span data-ttu-id="4b55b-296">De afbeelding hieronder bevat de **lay-out** menu beschikbaar door het selecteren van **lay-out** vanuit het lint werkbalk.</span><span class="sxs-lookup"><span data-stu-id="4b55b-296">The picture below shows the **View Layout** menu, available by selecting **View Layout** from the toolbar ribbon.</span></span> <span data-ttu-id="4b55b-297">De weergave-indelingen voor Azure Storage zijn gegroepeerd onder de **Azure Storage** knooppunt in het menu.</span><span class="sxs-lookup"><span data-stu-id="4b55b-297">The view layouts for Azure Storage are grouped under the **Azure Storage** node in the menu.</span></span> <span data-ttu-id="4b55b-298">U kunt zoeken naar `Azure Storage` in het zoekvak te filteren op Azure Storage indelingen alleen bekijken.</span><span class="sxs-lookup"><span data-stu-id="4b55b-298">You can search for `Azure Storage` in the search box to filter on Azure Storage view layouts only.</span></span> <span data-ttu-id="4b55b-299">U kunt ook de ster naast een te maken het een favoriet en weer te geven aan de bovenkant van het menu Weergave-indeling selecteren.</span><span class="sxs-lookup"><span data-stu-id="4b55b-299">You can also select the star next to a view layout to make it a favorite and display it at the top of the menu.</span></span>

![Weergavemenu-indeling](./media/storage-e2e-troubleshooting/view-layout-menu.png)

<span data-ttu-id="4b55b-301">Selecteer allereerst **gegroepeerd op ClientRequestID en Module**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-301">To begin with, select **Grouped by ClientRequestID and Module**.</span></span> <span data-ttu-id="4b55b-302">Deze groepen weergeven lay-out zich gegevens uit alle drie logboeken eerst op client-request-ID, vervolgens op de bron-logboekbestand (of **Module** in Berichtanalyse).</span><span class="sxs-lookup"><span data-stu-id="4b55b-302">This view layout groups log data from all three logs first by client request ID, then by source log file (or **Module** in Message Analyzer).</span></span> <span data-ttu-id="4b55b-303">Aan deze weergave kunt u inzoomen op een bepaalde client-aanvraag-ID en er gegevens van alle drie logboekbestanden voor die clientaanvraag-id.</span><span class="sxs-lookup"><span data-stu-id="4b55b-303">With this view, you can drill down into a particular client request ID, and see data from all three log files for that client request ID.</span></span>

<span data-ttu-id="4b55b-304">De afbeelding hieronder bevat de weergave van deze indeling toegepast op de voorbeeldgegevens logboek wordt weergegeven, met een subset met kolommen weergegeven.</span><span class="sxs-lookup"><span data-stu-id="4b55b-304">The picture below shows this layout view applied to the sample log data, with a subset of columns displayed.</span></span> <span data-ttu-id="4b55b-305">U kunt zien dat voor een bepaalde client-aanvraag-ID, het raster Analysis gegevens worden weergegeven in de clientlogboek, serverlogboek en netwerktracering.</span><span class="sxs-lookup"><span data-stu-id="4b55b-305">You can see that for a particular client request ID, the Analysis Grid displays data from the client log, server log, and network trace.</span></span>

![Lay-out van Azure Storage weergeven](./media/storage-e2e-troubleshooting/view-layout-client-request-id-module.png)

> [!NOTE]
> <span data-ttu-id="4b55b-307">Verschillende logboekbestanden hebben verschillende kolommen, zodat wanneer gegevens uit meerdere logboekbestanden wordt weergegeven in het raster analyse, sommige kolommen mag niet alle gegevens voor een bepaalde rij bevatten.</span><span class="sxs-lookup"><span data-stu-id="4b55b-307">Different log files have different columns, so when data from multiple log files is displayed in the Analysis Grid, some columns may not contain any data for a given row.</span></span> <span data-ttu-id="4b55b-308">Bijvoorbeeld, in de bovenstaande afbeelding client logboek rijen niet weergeven alle gegevens voor de **tijdstempel**, **TimeElapsed**, **bron**, en **bestemming** kolommen, omdat deze kolommen niet bestaan in het clientlogboek, maar bestaan in de netwerk-trace.</span><span class="sxs-lookup"><span data-stu-id="4b55b-308">For example, in the picture above, the client log rows do not show any data for the **Timestamp**, **TimeElapsed**, **Source**, and **Destination** columns, because these columns do not exist in the client log, but do exist in the network trace.</span></span> <span data-ttu-id="4b55b-309">Op dezelfde manier de **tijdstempel** kolom tijdstempelgegevens van het logboek van de server wordt weergegeven, maar geen gegevens weergegeven voor de **TimeElapsed**, **bron**, en **bestemming** kolommen die geen deel uitmaken van het logboek van de server.</span><span class="sxs-lookup"><span data-stu-id="4b55b-309">Similarly, the **Timestamp** column displays timestamp data from the server log, but no data is displayed for the **TimeElapsed**, **Source**, and **Destination** columns, which are not part of the server log.</span></span>
> 
> 

<span data-ttu-id="4b55b-310">Naast het gebruik van de weergave-indelingen van Azure Storage, kunt u ook definiëren en slaat uw eigen weergave-indelingen.</span><span class="sxs-lookup"><span data-stu-id="4b55b-310">In addition to using the Azure Storage view layouts, you can also define and save your own view layouts.</span></span> <span data-ttu-id="4b55b-311">U kunt andere gewenste velden voor het groeperen van gegevens selecteren en de groepering op te slaan als onderdeel van uw aangepaste indeling ook.</span><span class="sxs-lookup"><span data-stu-id="4b55b-311">You can select other desired fields for grouping data and save the grouping as part of your custom layout as well.</span></span>

### <a name="apply-color-rules-to-the-analysis-grid"></a><span data-ttu-id="4b55b-312">Kleur regels toepassen op het raster analyse</span><span class="sxs-lookup"><span data-stu-id="4b55b-312">Apply color rules to the Analysis Grid</span></span>
<span data-ttu-id="4b55b-313">De opslag activa ook kleur, deze regels een visuele betekent dat bieden voor het identificeren van verschillende typen fouten in het raster analyse.</span><span class="sxs-lookup"><span data-stu-id="4b55b-313">The Storage Assets also include color rules, which offer a visual means to identify different types of errors in the Analysis Grid.</span></span> <span data-ttu-id="4b55b-314">De kleur van de vooraf gedefinieerde regels van toepassing op HTTP-fouten, zodat ze alleen voor de tracering van logboek- en server worden weergegeven.</span><span class="sxs-lookup"><span data-stu-id="4b55b-314">The predefined color rules apply to HTTP errors, so they appear only for the server log and network trace.</span></span>

<span data-ttu-id="4b55b-315">Als kleur regels toepassen, selecteert u **kleur regels** vanuit het lint werkbalk.</span><span class="sxs-lookup"><span data-stu-id="4b55b-315">To apply color rules, select **Color Rules** from the toolbar ribbon.</span></span> <span data-ttu-id="4b55b-316">Hier ziet u de Azure Storage kleur regels in het menu.</span><span class="sxs-lookup"><span data-stu-id="4b55b-316">You'll see the Azure Storage color rules in the menu.</span></span> <span data-ttu-id="4b55b-317">Selecteer voor de zelfstudie **Client fouten (StatusCode tussen 400 en 499)**, zoals wordt weergegeven in de volgende afbeelding.</span><span class="sxs-lookup"><span data-stu-id="4b55b-317">For the tutorial, select **Client Errors (StatusCode between 400 and 499)**, as shown in the picture below.</span></span>

![Lay-out van Azure Storage weergeven](./media/storage-e2e-troubleshooting/color-rules-menu.png)

<span data-ttu-id="4b55b-319">Naast het gebruik van de regels van de kleur van Azure Storage, kunt u ook definiëren en uw eigen regels kleur opslaan.</span><span class="sxs-lookup"><span data-stu-id="4b55b-319">In addition to using the Azure Storage color rules, you can also define and save your own color rules.</span></span>

### <a name="group-and-filter-log-data-to-find-400-range-errors"></a><span data-ttu-id="4b55b-320">Groeperen en filteren Logboekgegevens 400 bereik fouten vinden</span><span class="sxs-lookup"><span data-stu-id="4b55b-320">Group and filter log data to find 400-range errors</span></span>
<span data-ttu-id="4b55b-321">Vervolgens we groeperen en filteren van de logboekgegevens om alle fouten in het bereik van 400.</span><span class="sxs-lookup"><span data-stu-id="4b55b-321">Next, we'll group and filter the log data to find all errors in the 400 range.</span></span>

1. <span data-ttu-id="4b55b-322">Zoek de **StatusCode** kolom in het raster analyse met de rechtermuisknop op de kolom Titel en selecteer **groep**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-322">Locate the **StatusCode** column in the Analysis Grid, right-click the column heading, and select **Group**.</span></span>
2. <span data-ttu-id="4b55b-323">Vervolgens groeperen op de **ClientRequestId** kolom.</span><span class="sxs-lookup"><span data-stu-id="4b55b-323">Next, group on the **ClientRequestId** column.</span></span> <span data-ttu-id="4b55b-324">U ziet dat de gegevens in het raster Analysis nu zijn georganiseerd door statuscode en client aanvraag-ID.</span><span class="sxs-lookup"><span data-stu-id="4b55b-324">You'll see that the data in the Analysis Grid is now organized by status code and by client request ID.</span></span>
3. <span data-ttu-id="4b55b-325">Het venster Filter hulpprogramma weergegeven als deze nog niet wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="4b55b-325">Display the View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="4b55b-326">Selecteer op het lint werkbalk **hulpprogramma Windows**, klikt u vervolgens **Filter voor**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-326">On the toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
4. <span data-ttu-id="4b55b-327">Het om logboekgegevens te filteren om alleen 400 bereik fouten weer te geven, toevoegen de volgende filtercriteria voldoen aan de **Filter voor** venster en klik op **toepassen**:</span><span class="sxs-lookup"><span data-stu-id="4b55b-327">To filter the log data to display only 400-range errors, add the following filter criteria to the **View Filter** window, and click **Apply**:</span></span>

    ```   
    (AzureStorageLog.StatusCode >= 400 && AzureStorageLog.StatusCode <=499) || (HTTP.StatusCode >= 400 && HTTP.StatusCode <= 499)
    ```

<span data-ttu-id="4b55b-328">De volgende afbeelding ziet de resultaten van deze groeperen en filteren.</span><span class="sxs-lookup"><span data-stu-id="4b55b-328">The picture below shows the results of this grouping and filter.</span></span> <span data-ttu-id="4b55b-329">Uitbreiden van de **ClientRequestID** veld onder de groepering voor statuscode 409, ziet u bijvoorbeeld een bewerking dat heeft geresulteerd in deze statuscode.</span><span class="sxs-lookup"><span data-stu-id="4b55b-329">Expanding the **ClientRequestID** field beneath the grouping for status code 409, for example, shows an operation that resulted in that status code.</span></span>

![Lay-out van Azure Storage weergeven](./media/storage-e2e-troubleshooting/400-range-errors1.png)

<span data-ttu-id="4b55b-331">Nadat dit filter is toegepast, ziet u dat de rijen van het clientlogboek zijn uitgesloten, als de client logboek bevat geen een **StatusCode** kolom.</span><span class="sxs-lookup"><span data-stu-id="4b55b-331">After applying this filter, you'll see that rows from the client log are excluded, as the client log does not include a **StatusCode** column.</span></span> <span data-ttu-id="4b55b-332">Allereerst getoetst de server en het netwerk traceerlogboeken vinden 404-fouten, en vervolgens we keert terug naar het clientlogboek de bewerkingen van de client die hebben geleid tot ze onderzoeken.</span><span class="sxs-lookup"><span data-stu-id="4b55b-332">To begin with, we'll review the server and network trace logs to locate 404 errors, and then we'll return to the client log to examine the client operations that led to them.</span></span>

> [!NOTE]
> <span data-ttu-id="4b55b-333">U kunt filteren op de **StatusCode** kolom en nog steeds gegevens weergeven van alle drie logboeken, met inbegrip van het clientlogboek voor de, als u een expressie toevoegt aan het filter dat bevat logboekvermeldingen waar de statuscode null is.</span><span class="sxs-lookup"><span data-stu-id="4b55b-333">You can filter on the **StatusCode** column and still display data from all three logs, including the client log, if you add an expression to the filter that includes log entries where the status code is null.</span></span> <span data-ttu-id="4b55b-334">Kan deze filterexpressie, gebruiken:</span><span class="sxs-lookup"><span data-stu-id="4b55b-334">To construct this filter expression, use:</span></span>
> 
> <code>&#42;StatusCode >= 400 or !&#42;StatusCode</code>
> 
> <span data-ttu-id="4b55b-335">Dit filter retourneert alle rijen van de client logboek en alleen rijen uit het logbestand voor de server en de HTTP-logboek waar de statuscode is groter dan 400.</span><span class="sxs-lookup"><span data-stu-id="4b55b-335">This filter returns all rows from the client log and only rows from the server log and HTTP log where the status code is greater than 400.</span></span> <span data-ttu-id="4b55b-336">Als u deze op de lay-out gegroepeerd op aanvraag-ID van client en de module toepast, kunt u zoeken of blader door de logboekvermeldingen toepassingsgroepen vinden waar alle drie logboeken worden weergegeven.</span><span class="sxs-lookup"><span data-stu-id="4b55b-336">If you apply it to the view layout grouped by client request ID and module, you can search or scroll through the log entries to find ones where all three logs are represented.</span></span>   
> 
> 

### <a name="filter-log-data-to-find-404-errors"></a><span data-ttu-id="4b55b-337">De logboekgegevens filter vinden 404-fouten</span><span class="sxs-lookup"><span data-stu-id="4b55b-337">Filter log data to find 404 errors</span></span>
<span data-ttu-id="4b55b-338">De opslag activa bevatten vooraf gedefinieerde filters die u gebruiken kunt voor het beperken van de logboekgegevens als u de fouten of trends die u zoekt.</span><span class="sxs-lookup"><span data-stu-id="4b55b-338">The Storage Assets include predefined filters that you can use to narrow log data to find the errors or trends you are looking for.</span></span> <span data-ttu-id="4b55b-339">Vervolgens twee vooraf gedefinieerde filters moet worden toegepast: één waarmee de server en het netwerk traceerlogboeken voor 404-fouten worden gefilterd en dat de gegevens op een opgegeven tijdperiode filtert.</span><span class="sxs-lookup"><span data-stu-id="4b55b-339">Next, we'll apply two predefined filters: one that filters the server and network trace logs for 404 errors, and one that filters the data on a specified time range.</span></span>

1. <span data-ttu-id="4b55b-340">Het venster Filter hulpprogramma weergegeven als deze nog niet wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="4b55b-340">Display the View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="4b55b-341">Selecteer op het lint werkbalk **hulpprogramma Windows**, klikt u vervolgens **Filter voor**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-341">On the toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
2. <span data-ttu-id="4b55b-342">Selecteer in het venster Filter **bibliotheek**, en zoek op `Azure Storage` vinden van Azure Storage-filters.</span><span class="sxs-lookup"><span data-stu-id="4b55b-342">In the View Filter window, select **Library**, and search on `Azure Storage` to find the Azure Storage filters.</span></span> <span data-ttu-id="4b55b-343">Selecteer het filter voor **404 (niet gevonden) berichten in alle logboeken**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-343">Select the filter for **404 (Not Found) messages in all logs**.</span></span>
3. <span data-ttu-id="4b55b-344">Weergave de **bibliotheek** menu opnieuw, en zoek en selecteer de **globale tijdfilter**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-344">Display the **Library** menu again, and locate and select the **Global Time Filter**.</span></span>
4. <span data-ttu-id="4b55b-345">Bewerk de tijdstempels weergegeven in het filter aan het bereik dat u wilt weergeven.</span><span class="sxs-lookup"><span data-stu-id="4b55b-345">Edit the timestamps shown in the filter to the range you wish to view.</span></span> <span data-ttu-id="4b55b-346">Dit draagt bij tot het beperken van het bereik van gegevens te analyseren.</span><span class="sxs-lookup"><span data-stu-id="4b55b-346">This will help to narrow the range of data to analyze.</span></span>
5. <span data-ttu-id="4b55b-347">Het filter moet worden weergegeven als in het voorbeeld hieronder.</span><span class="sxs-lookup"><span data-stu-id="4b55b-347">Your filter should appear similar to the example below.</span></span> <span data-ttu-id="4b55b-348">Klik op **toepassen** het filter wilt toepassen op het raster analyse.</span><span class="sxs-lookup"><span data-stu-id="4b55b-348">Click **Apply** to apply the filter to the Analysis Grid.</span></span>

    ```   
    ((AzureStorageLog.StatusCode == 404 || HTTP.StatusCode == 404)) And
    (#Timestamp >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39)
    ```

    ![Lay-out van Azure Storage weergeven](./media/storage-e2e-troubleshooting/404-filtered-errors1.png)

### <a name="analyze-your-log-data"></a><span data-ttu-id="4b55b-350">De logboekgegevens analyseren</span><span class="sxs-lookup"><span data-stu-id="4b55b-350">Analyze your log data</span></span>
<span data-ttu-id="4b55b-351">Nu dat u hebt gegroepeerd en uw gegevens gefilterd, bekijk de details van afzonderlijke aanvragen die 404-fouten gegenereerd.</span><span class="sxs-lookup"><span data-stu-id="4b55b-351">Now that you have grouped and filtered your data, you can examine the details of individual requests that generated 404 errors.</span></span> <span data-ttu-id="4b55b-352">De gegevens worden in de huidige weergave-indeling gegroepeerd per client aanvraag-ID, klikt u vervolgens door de bron-logboek.</span><span class="sxs-lookup"><span data-stu-id="4b55b-352">In the current view layout, the data is grouped by client request ID, then by log source.</span></span> <span data-ttu-id="4b55b-353">Aangezien we op aanvragen waarin het veld StatusCode 404 bevat filtert, ziet er alleen de server en traceringsgegevens voor netwerk, niet de logboekgegevens van de client.</span><span class="sxs-lookup"><span data-stu-id="4b55b-353">Since we are filtering on requests where the StatusCode field contains 404, we'll see only the server and network trace data, not the client log data.</span></span>

<span data-ttu-id="4b55b-354">De volgende afbeelding ziet een specifieke aanvraag waarin een 404 door een ophalen van Blob-bewerking heeft opgeleverd omdat de blob niet bestaat.</span><span class="sxs-lookup"><span data-stu-id="4b55b-354">The picture below shows a specific request where a Get Blob operation yielded a 404 because the blob did not exist.</span></span> <span data-ttu-id="4b55b-355">Houd er rekening mee dat sommige kolommen zijn verwijderd uit de standaardweergave om de relevante gegevens weer te geven.</span><span class="sxs-lookup"><span data-stu-id="4b55b-355">Note that some columns have been removed from the standard view in order to display the relevant data.</span></span>

![Gefilterde Server en de logboeken met traceringen](./media/storage-e2e-troubleshooting/server-filtered-404-error.png)

<span data-ttu-id="4b55b-357">We je deze client-request-ID vervolgens correleren met de logboekgegevens van de client om te zien welke acties de client de failoverbewerking duurt als de fout is opgetreden.</span><span class="sxs-lookup"><span data-stu-id="4b55b-357">Next, we'll correlate this client request ID with the client log data to see what actions the client was taking when the error happened.</span></span> <span data-ttu-id="4b55b-358">U kunt een nieuwe Analysis rasterweergave voor deze sessie om weer te geven van de client-logboekgegevens, die wordt geopend in een tweede tabblad weergeven:</span><span class="sxs-lookup"><span data-stu-id="4b55b-358">You can display a new Analysis Grid view for this session to view the client log data, which opens in a second tab:</span></span>

1. <span data-ttu-id="4b55b-359">Eerst, kopieert u de waarde van de **ClientRequestId** veld naar het Klembord.</span><span class="sxs-lookup"><span data-stu-id="4b55b-359">First, copy the value of the **ClientRequestId** field to the clipboard.</span></span> <span data-ttu-id="4b55b-360">U kunt dit doen door een rij selecteren, zoeken naar de **ClientRequestId** veld met de rechtermuisknop op de gegevenswaarde en het kiezen van **kopie 'ClientRequestId'**.</span><span class="sxs-lookup"><span data-stu-id="4b55b-360">You can do this by selecting either row, locating the **ClientRequestId** field, right-clicking on the data value, and choosing **Copy 'ClientRequestId'**.</span></span>
2. <span data-ttu-id="4b55b-361">Selecteer op het lint werkbalk **nieuwe Viewer**, selecteer daarna **Analysis raster** naar een nieuw tabblad openen. Het nieuwe tabblad bevat alle gegevens in de logboekbestanden, zonder groeperen, filteren of kleur regels.</span><span class="sxs-lookup"><span data-stu-id="4b55b-361">On the toolbar ribbon, select **New Viewer**, then select **Analysis Grid** to open a new tab. The new tab shows all data in your log files, without grouping, filtering, or color rules.</span></span>
3. <span data-ttu-id="4b55b-362">Selecteer op het lint werkbalk **lay-out**, selecteer daarna **kolommen van alle .NET-Client** onder de **Azure Storage** sectie.</span><span class="sxs-lookup"><span data-stu-id="4b55b-362">On the toolbar ribbon, select **View Layout**, then select **All .NET Client Columns** under the **Azure Storage** section.</span></span> <span data-ttu-id="4b55b-363">Deze weergave-indeling bevat gegevens van de client logboek, evenals de traceringslogboeken voor de server en het netwerk.</span><span class="sxs-lookup"><span data-stu-id="4b55b-363">This view layout shows data from the client log as well as the server and network trace logs.</span></span> <span data-ttu-id="4b55b-364">Standaard wordt gesorteerd op de **MessageNumber** kolom.</span><span class="sxs-lookup"><span data-stu-id="4b55b-364">By default it is sorted on the **MessageNumber** column.</span></span>
4. <span data-ttu-id="4b55b-365">Zoek vervolgens het clientlogboek voor de client-request-ID.</span><span class="sxs-lookup"><span data-stu-id="4b55b-365">Next, search the client log for the client request ID.</span></span> <span data-ttu-id="4b55b-366">Selecteer op het lint werkbalk **berichten vinden**, geeft u een aangepast filter op de client-request-ID in de **vinden** veld.</span><span class="sxs-lookup"><span data-stu-id="4b55b-366">On the toolbar ribbon, select **Find Messages**, then specify a custom filter on the client request ID in the **Find** field.</span></span> <span data-ttu-id="4b55b-367">Gebruik deze syntaxis voor het filter, geven de aanvraag-ID van uw eigen client:</span><span class="sxs-lookup"><span data-stu-id="4b55b-367">Use this syntax for the filter, specifying your own client request ID:</span></span>

    ```
    *ClientRequestId == "398bac41-7725-484b-8a69-2a9e48fc669a"
    ```

<span data-ttu-id="4b55b-368">Berichtanalyse zoekt en selecteert de eerste logboekvermelding waarbij de zoekcriteria overeenkomt met de client-request-ID.</span><span class="sxs-lookup"><span data-stu-id="4b55b-368">Message Analyzer locates and selects the first log entry where the search criteria matches the client request ID.</span></span> <span data-ttu-id="4b55b-369">In het clientlogboek er zijn meerdere vermeldingen voor elke client-request-ID, zodat u ze te groeperen kunt op de **ClientRequestId** veld om te zien alle samen te vereenvoudigen.</span><span class="sxs-lookup"><span data-stu-id="4b55b-369">In the client log, there are several entries for each client request ID, so you may want to group them on the **ClientRequestId** field to make it easier to see them all together.</span></span> <span data-ttu-id="4b55b-370">De volgende afbeelding ziet u alle berichten in het clientlogboek voor de opgegeven client aanvraag-ID.</span><span class="sxs-lookup"><span data-stu-id="4b55b-370">The picture below shows all of the messages in the client log for the specified client request ID.</span></span>

![Client logboek weergeeft 404-fouten](./media/storage-e2e-troubleshooting/client-log-analysis-grid1.png)

<span data-ttu-id="4b55b-372">De gegevens weergegeven in de weergave-indelingen op deze twee tabbladen kunt u de gegevens van aanvragen om te bepalen wat de fout hebben veroorzaakt analyseren.</span><span class="sxs-lookup"><span data-stu-id="4b55b-372">Using the data shown in the view layouts in these two tabs, you can analyze the request data to determine what may have caused the error.</span></span> <span data-ttu-id="4b55b-373">U kunt ook zoeken op aanvragen die voorafgegaan van dit programma om te zien als een eerdere gebeurtenis mogelijk hebben geleid tot de 404-fout.</span><span class="sxs-lookup"><span data-stu-id="4b55b-373">You can also look at requests that preceded this one to see if a previous event may have led to the 404 error.</span></span> <span data-ttu-id="4b55b-374">U kunt bijvoorbeeld de client logboekvermeldingen voorafgaand aan deze aanvraag-ID van de client om te bepalen of de blob is mogelijk verwijderd of dat de fout is veroorzaakt door de clienttoepassing een CreateIfNotExists-API aanroepen voor een container of blob bekijken.</span><span class="sxs-lookup"><span data-stu-id="4b55b-374">For example, you can review the client log entries preceding this client request ID to determine whether the blob may have been deleted, or if the error was due to the client application calling a CreateIfNotExists API on a container or blob.</span></span> <span data-ttu-id="4b55b-375">In het clientlogboek vindt u de blob-adres in de **beschrijving** veld; in de server en de logboeken met traceringen, wordt deze informatie verschijnt in de **samenvatting** veld.</span><span class="sxs-lookup"><span data-stu-id="4b55b-375">In the client log, you can find the blob's address in the **Description** field; in the server and network trace logs, this information appears in the **Summary** field.</span></span>

<span data-ttu-id="4b55b-376">Zodra u het adres van de blob die 404-fout heeft opgeleverd weet, kunt u verder onderzoek.</span><span class="sxs-lookup"><span data-stu-id="4b55b-376">Once you know the address of the blob that yielded the 404 error, you can investigate further.</span></span> <span data-ttu-id="4b55b-377">Als u de logboekvermeldingen voor andere berichten die zijn gekoppeld aan de bewerkingen op de dezelfde blob zoekt, kunt u controleren of de entiteit die door de client eerder verwijderd.</span><span class="sxs-lookup"><span data-stu-id="4b55b-377">If you search the log entries for other messages associated with operations on the same blob, you can check whether the client previously deleted the entity.</span></span>

## <a name="analyze-other-types-of-storage-errors"></a><span data-ttu-id="4b55b-378">Andere soorten opslag fouten analyseren</span><span class="sxs-lookup"><span data-stu-id="4b55b-378">Analyze other types of storage errors</span></span>
<span data-ttu-id="4b55b-379">Nu dat u bekend bent met Message Analyzer gebruiken om uw logboekgegevens te analyseren, kunt u andere soorten fouten bij het gebruik van weergave analyseren indelingen, kleur regels en zoeken/filteren.</span><span class="sxs-lookup"><span data-stu-id="4b55b-379">Now that you are familiar with using Message Analyzer to analyze your log data, you can analyze other types of errors using view layouts, color rules, and searching/filtering.</span></span> <span data-ttu-id="4b55b-380">De onderstaande tabellen vindt u enkele problemen kunnen optreden en de filtercriteria kunt u ze kunt vinden.</span><span class="sxs-lookup"><span data-stu-id="4b55b-380">The tables below lists some issues you may encounter and the filter criteria you can use to locate them.</span></span> <span data-ttu-id="4b55b-381">Zie voor meer informatie over het samenstellen van filters en het filteren van taal Berichtanalyse [berichtgegevens filteren](http://technet.microsoft.com/library/jj819365.aspx).</span><span class="sxs-lookup"><span data-stu-id="4b55b-381">For more information on constructing filters and the Message Analyzer filtering language, see [Filtering Message Data](http://technet.microsoft.com/library/jj819365.aspx).</span></span>

| <span data-ttu-id="4b55b-382">Voor het onderzoeken van...</span><span class="sxs-lookup"><span data-stu-id="4b55b-382">To Investigate…</span></span> | <span data-ttu-id="4b55b-383">Gebruik de filterexpressie...</span><span class="sxs-lookup"><span data-stu-id="4b55b-383">Use Filter Expression…</span></span> | <span data-ttu-id="4b55b-384">Expressie is van toepassing op logboek (Client-, Server-, netwerk, alle)</span><span class="sxs-lookup"><span data-stu-id="4b55b-384">Expression Applies to Log (Client, Server,   Network, All)</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4b55b-385">Onverwachte vertragingen bij de levering van berichten in een wachtrij</span><span class="sxs-lookup"><span data-stu-id="4b55b-385">Unexpected delays in message delivery on a queue</span></span> |<span data-ttu-id="4b55b-386">AzureStorageClientDotNetV4.Description bevat 'Opnieuw proberen is bewerking mislukt.'</span><span class="sxs-lookup"><span data-stu-id="4b55b-386">AzureStorageClientDotNetV4.Description   contains "Retrying failed operation."</span></span> |<span data-ttu-id="4b55b-387">Client</span><span class="sxs-lookup"><span data-stu-id="4b55b-387">Client</span></span> |
| <span data-ttu-id="4b55b-388">HTTP-toename van PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="4b55b-388">HTTP Increase in PercentThrottlingError</span></span> |<span data-ttu-id="4b55b-389">HTTP. Response.StatusCode == 500 &#124; &#124; HTTP. Response.StatusCode == 503</span><span class="sxs-lookup"><span data-stu-id="4b55b-389">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span></span> |<span data-ttu-id="4b55b-390">Netwerk</span><span class="sxs-lookup"><span data-stu-id="4b55b-390">Network</span></span> |
| <span data-ttu-id="4b55b-391">Toename van het PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="4b55b-391">Increase in PercentTimeoutError</span></span> |<span data-ttu-id="4b55b-392">HTTP. Response.StatusCode == 500</span><span class="sxs-lookup"><span data-stu-id="4b55b-392">HTTP.Response.StatusCode   == 500</span></span> |<span data-ttu-id="4b55b-393">Netwerk</span><span class="sxs-lookup"><span data-stu-id="4b55b-393">Network</span></span> |
| <span data-ttu-id="4b55b-394">Toename van het PercentTimeoutError (alle)</span><span class="sxs-lookup"><span data-stu-id="4b55b-394">Increase in PercentTimeoutError (all)</span></span> |<span data-ttu-id="4b55b-395">* StatusCode 500 ==</span><span class="sxs-lookup"><span data-stu-id="4b55b-395">*StatusCode   == 500</span></span> |<span data-ttu-id="4b55b-396">Alle</span><span class="sxs-lookup"><span data-stu-id="4b55b-396">All</span></span> |
| <span data-ttu-id="4b55b-397">Toename van het PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="4b55b-397">Increase in PercentNetworkError</span></span> |<span data-ttu-id="4b55b-398">AzureStorageClientDotNetV4.EventLogEntry.Level < 2</span><span class="sxs-lookup"><span data-stu-id="4b55b-398">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span></span> |<span data-ttu-id="4b55b-399">Client</span><span class="sxs-lookup"><span data-stu-id="4b55b-399">Client</span></span> |
| <span data-ttu-id="4b55b-400">HTTP-fout 403 (verboden) berichten</span><span class="sxs-lookup"><span data-stu-id="4b55b-400">HTTP 403 (Forbidden) messages</span></span> |<span data-ttu-id="4b55b-401">HTTP. Response.StatusCode == 403</span><span class="sxs-lookup"><span data-stu-id="4b55b-401">HTTP.Response.StatusCode   == 403</span></span> |<span data-ttu-id="4b55b-402">Netwerk</span><span class="sxs-lookup"><span data-stu-id="4b55b-402">Network</span></span> |
| <span data-ttu-id="4b55b-403">HTTP 404 (niet gevonden) berichten</span><span class="sxs-lookup"><span data-stu-id="4b55b-403">HTTP 404 (Not found) messages</span></span> |<span data-ttu-id="4b55b-404">HTTP. Response.StatusCode == 404</span><span class="sxs-lookup"><span data-stu-id="4b55b-404">HTTP.Response.StatusCode   == 404</span></span> |<span data-ttu-id="4b55b-405">Netwerk</span><span class="sxs-lookup"><span data-stu-id="4b55b-405">Network</span></span> |
| <span data-ttu-id="4b55b-406">404 (alle)</span><span class="sxs-lookup"><span data-stu-id="4b55b-406">404 (all)</span></span> |<span data-ttu-id="4b55b-407">* StatusCode 404 ==</span><span class="sxs-lookup"><span data-stu-id="4b55b-407">*StatusCode   == 404</span></span> |<span data-ttu-id="4b55b-408">Alle</span><span class="sxs-lookup"><span data-stu-id="4b55b-408">All</span></span> |
| <span data-ttu-id="4b55b-409">Shared Access Signature (SAS) autorisatie probleem</span><span class="sxs-lookup"><span data-stu-id="4b55b-409">Shared Access Signature (SAS) authorization issue</span></span> |<span data-ttu-id="4b55b-410">AzureStorageLog.RequestStatus == "SASAuthorizationError"</span><span class="sxs-lookup"><span data-stu-id="4b55b-410">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span></span> |<span data-ttu-id="4b55b-411">Netwerk</span><span class="sxs-lookup"><span data-stu-id="4b55b-411">Network</span></span> |
| <span data-ttu-id="4b55b-412">HTTP 409 (Conflict) berichten</span><span class="sxs-lookup"><span data-stu-id="4b55b-412">HTTP 409 (Conflict) messages</span></span> |<span data-ttu-id="4b55b-413">HTTP. Response.StatusCode == 409</span><span class="sxs-lookup"><span data-stu-id="4b55b-413">HTTP.Response.StatusCode   == 409</span></span> |<span data-ttu-id="4b55b-414">Netwerk</span><span class="sxs-lookup"><span data-stu-id="4b55b-414">Network</span></span> |
| <span data-ttu-id="4b55b-415">409 (alle)</span><span class="sxs-lookup"><span data-stu-id="4b55b-415">409 (all)</span></span> |<span data-ttu-id="4b55b-416">* StatusCode == 409</span><span class="sxs-lookup"><span data-stu-id="4b55b-416">*StatusCode   == 409</span></span> |<span data-ttu-id="4b55b-417">Alle</span><span class="sxs-lookup"><span data-stu-id="4b55b-417">All</span></span> |
| <span data-ttu-id="4b55b-418">Lage PercentSuccess of analytics logboekvermeldingen hebben bewerkingen met de status van ClientOtherErrors</span><span class="sxs-lookup"><span data-stu-id="4b55b-418">Low PercentSuccess or analytics log entries have   operations with transaction status of ClientOtherErrors</span></span> |<span data-ttu-id="4b55b-419">AzureStorageLog.RequestStatus == "ClientOtherError"</span><span class="sxs-lookup"><span data-stu-id="4b55b-419">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span></span> |<span data-ttu-id="4b55b-420">Server</span><span class="sxs-lookup"><span data-stu-id="4b55b-420">Server</span></span> |
| <span data-ttu-id="4b55b-421">Nagle waarschuwing</span><span class="sxs-lookup"><span data-stu-id="4b55b-421">Nagle   Warning</span></span> |<span data-ttu-id="4b55b-422">((AzureStorageLog.EndToEndLatencyMS-AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS * 1.5)) en (AzureStorageLog.RequestPacketSize < 1460) en (AzureStorageLog.EndToEndLatencyMS - AzureStorageLog.ServerLatencyMS > = 200)</span><span class="sxs-lookup"><span data-stu-id="4b55b-422">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) and (AzureStorageLog.RequestPacketSize <1460) and (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span></span> |<span data-ttu-id="4b55b-423">Server</span><span class="sxs-lookup"><span data-stu-id="4b55b-423">Server</span></span> |
| <span data-ttu-id="4b55b-424">Tijdsbereik in Logboeken Server en het netwerk</span><span class="sxs-lookup"><span data-stu-id="4b55b-424">Range of   time in Server and Network logs</span></span> |<span data-ttu-id="4b55b-425">#Timestamp > = 2014-10-20T16:36:38 en #Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="4b55b-425">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span></span> |<span data-ttu-id="4b55b-426">Netwerk-server</span><span class="sxs-lookup"><span data-stu-id="4b55b-426">Server, Network</span></span> |
| <span data-ttu-id="4b55b-427">Tijdsbereik in Server-logboeken</span><span class="sxs-lookup"><span data-stu-id="4b55b-427">Range of   time in Server logs</span></span> |<span data-ttu-id="4b55b-428">AzureStorageLog.Timestamp > = 2014-10-20T16:36:38 en AzureStorageLog.Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="4b55b-428">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 and AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span></span> |<span data-ttu-id="4b55b-429">Server</span><span class="sxs-lookup"><span data-stu-id="4b55b-429">Server</span></span> |

## <a name="next-steps"></a><span data-ttu-id="4b55b-430">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="4b55b-430">Next steps</span></span>
<span data-ttu-id="4b55b-431">Zie de volgende bronnen voor meer informatie over het oplossen van problemen end-to-end-scenario's in Azure Storage:</span><span class="sxs-lookup"><span data-stu-id="4b55b-431">For more information about troubleshooting end-to-end scenarios in Azure Storage, see these resources:</span></span>

* [<span data-ttu-id="4b55b-432">Controleren, vaststellen en oplossen van Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="4b55b-432">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>](storage-monitoring-diagnosing-troubleshooting.md)
* [<span data-ttu-id="4b55b-433">Storage Analytics</span><span class="sxs-lookup"><span data-stu-id="4b55b-433">Storage Analytics</span></span>](http://msdn.microsoft.com/library/azure/hh343270.aspx)
* [<span data-ttu-id="4b55b-434">Een opslagaccount in de Azure portal controleren</span><span class="sxs-lookup"><span data-stu-id="4b55b-434">Monitor a storage account in the Azure portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="4b55b-435">Gegevensoverdracht met het AzCopy-opdrachtregelprogramma</span><span class="sxs-lookup"><span data-stu-id="4b55b-435">Transfer data with the AzCopy Command-Line Utility</span></span>](storage-use-azcopy.md)
* [<span data-ttu-id="4b55b-436">Microsoft Message Analyzer besturingssysteem handleiding</span><span class="sxs-lookup"><span data-stu-id="4b55b-436">Microsoft Message Analyzer Operating Guide</span></span>](http://technet.microsoft.com/library/jj649776.aspx)
