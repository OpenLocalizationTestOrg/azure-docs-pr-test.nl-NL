---
title: Herstellen van een Azure Import/Export-import-taak - v1 | Microsoft Docs
description: Informatie over het herstellen van een import-taak die is gemaakt en uitgevoerd met behulp van de Azure Import/Export-service.
author: muralikk
manager: syadav
editor: tysonn
services: storage
documentationcenter: 
ms.assetid: 38cc16bd-ad55-4625-9a85-e1726c35fd1b
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/23/2017
ms.author: muralikk
ms.openlocfilehash: c837713fd9e7d03287ae5a3644fd6bb47714c9d4
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/29/2017
---
# <a name="repairing-an-import-job"></a><span data-ttu-id="cd28f-103">Een importtaak herstellen</span><span class="sxs-lookup"><span data-stu-id="cd28f-103">Repairing an import job</span></span>
<span data-ttu-id="cd28f-104">De Microsoft Azure Import/Export-service kan niet worden enkele van uw bestanden of onderdelen van een bestand kopiëren naar de Windows Azure Blob-service.</span><span class="sxs-lookup"><span data-stu-id="cd28f-104">The Microsoft Azure Import/Export service may fail to copy some of your files or parts of a file to the Windows Azure Blob service.</span></span> <span data-ttu-id="cd28f-105">Redenen voor fouten zijn onder andere:</span><span class="sxs-lookup"><span data-stu-id="cd28f-105">Some reasons for failures include:</span></span>  
  
-   <span data-ttu-id="cd28f-106">Beschadigde bestanden</span><span class="sxs-lookup"><span data-stu-id="cd28f-106">Corrupted files</span></span>  
  
-   <span data-ttu-id="cd28f-107">Beschadigde schijven</span><span class="sxs-lookup"><span data-stu-id="cd28f-107">Damaged drives</span></span>  
  
-   <span data-ttu-id="cd28f-108">De opslagaccountsleutel is gewijzigd terwijl het bestand is wordt overgebracht.</span><span class="sxs-lookup"><span data-stu-id="cd28f-108">The storage account key changed while the file was being transferred.</span></span>  
  
<span data-ttu-id="cd28f-109">Kunt u het hulpprogramma voor importeren/exporteren van Microsoft Azure met het importeren van taak kopiëren logboekbestanden uitvoeren en het hulpprogramma voor de ontbrekende bestanden (of delen van een bestand) wordt geüpload naar uw Windows Azure storage-account om de importtaak te voltooien.</span><span class="sxs-lookup"><span data-stu-id="cd28f-109">You can run the Microsoft Azure Import/Export Tool with the import job's copy log files, and the tool uploads the missing files (or parts of a file) to your Windows Azure storage account to complete the import job.</span></span>  
  
## <a name="repairimport-parameters"></a><span data-ttu-id="cd28f-110">RepairImport parameters</span><span class="sxs-lookup"><span data-stu-id="cd28f-110">RepairImport parameters</span></span>

<span data-ttu-id="cd28f-111">U kunt de volgende parameters opgeven met **RepairImport**:</span><span class="sxs-lookup"><span data-stu-id="cd28f-111">The following parameters can be specified with **RepairImport**:</span></span> 
  
|||  
|-|-|  
|<span data-ttu-id="cd28f-112">**/ r:**< RepairFile\></span><span class="sxs-lookup"><span data-stu-id="cd28f-112">**/r:**<RepairFile\></span></span>|<span data-ttu-id="cd28f-113">**Vereist.**</span><span class="sxs-lookup"><span data-stu-id="cd28f-113">**Required.**</span></span> <span data-ttu-id="cd28f-114">Pad naar het bestand herstellen, waarin de voortgang van het herstel en kunt u de reparatie van een onderbroken hervatten.</span><span class="sxs-lookup"><span data-stu-id="cd28f-114">Path to the repair file, which tracks the progress of the repair, and allows you to resume an interrupted repair.</span></span> <span data-ttu-id="cd28f-115">Elk station moet slechts één repair-bestand hebben.</span><span class="sxs-lookup"><span data-stu-id="cd28f-115">Each drive must have one and only one repair file.</span></span> <span data-ttu-id="cd28f-116">Wanneer u een reparatie voor een bepaald station start, worden aan een reparatie-bestand, dat nog niet bestaat in het pad doorgeven.</span><span class="sxs-lookup"><span data-stu-id="cd28f-116">When you start a repair for a given drive, pass in the path to a repair file, which does not yet exist.</span></span> <span data-ttu-id="cd28f-117">Om de reparatie van een onderbroken hervatten, moet u doorgeven in een bestaand bestand voor herstel.</span><span class="sxs-lookup"><span data-stu-id="cd28f-117">To resume an interrupted repair, you should pass in the name of an existing repair file.</span></span> <span data-ttu-id="cd28f-118">Het herstel bestand overeenkomt met het doelstation moet altijd worden opgegeven.</span><span class="sxs-lookup"><span data-stu-id="cd28f-118">The repair file corresponding to the target drive must always be specified.</span></span>|  
|<span data-ttu-id="cd28f-119">**schakeloptie/LOGDIR op:**< LogDirectory\></span><span class="sxs-lookup"><span data-stu-id="cd28f-119">**/logdir:**<LogDirectory\></span></span>|<span data-ttu-id="cd28f-120">**Optioneel.**</span><span class="sxs-lookup"><span data-stu-id="cd28f-120">**Optional.**</span></span> <span data-ttu-id="cd28f-121">De logboekmap.</span><span class="sxs-lookup"><span data-stu-id="cd28f-121">The log directory.</span></span> <span data-ttu-id="cd28f-122">Uitgebreide logboekbestanden worden geschreven naar deze map.</span><span class="sxs-lookup"><span data-stu-id="cd28f-122">Verbose log files are written to this directory.</span></span> <span data-ttu-id="cd28f-123">Als er geen logboekmap is opgegeven, wordt de huidige map gebruikt als de logboekmap.</span><span class="sxs-lookup"><span data-stu-id="cd28f-123">If no log directory is specified, the current directory is used as the log directory.</span></span>|  
|<span data-ttu-id="cd28f-124">**/ d:**< TargetDirectories\></span><span class="sxs-lookup"><span data-stu-id="cd28f-124">**/d:**<TargetDirectories\></span></span>|<span data-ttu-id="cd28f-125">**Vereist.**</span><span class="sxs-lookup"><span data-stu-id="cd28f-125">**Required.**</span></span> <span data-ttu-id="cd28f-126">Een of meer door puntkomma's gescheiden mappen met de oorspronkelijke bestanden die zijn geïmporteerd.</span><span class="sxs-lookup"><span data-stu-id="cd28f-126">One or more semicolon-separated directories that contain the original files that were imported.</span></span> <span data-ttu-id="cd28f-127">Het station importeren kan ook worden gebruikt, maar is niet vereist als alternatieve locaties van de originele bestanden beschikbaar zijn.</span><span class="sxs-lookup"><span data-stu-id="cd28f-127">The import drive may also be used, but is not required if alternate locations of original files are available.</span></span>|  
|<span data-ttu-id="cd28f-128">**/BK:**< BitLockerKey\></span><span class="sxs-lookup"><span data-stu-id="cd28f-128">**/bk:**<BitLockerKey\></span></span>|<span data-ttu-id="cd28f-129">**Optioneel.**</span><span class="sxs-lookup"><span data-stu-id="cd28f-129">**Optional.**</span></span> <span data-ttu-id="cd28f-130">Als u wilt dat het hulpprogramma voor het ontgrendelen van een versleuteld station waar de originele bestanden beschikbaar zijn, moet u de BitLocker-sleutel opgeven.</span><span class="sxs-lookup"><span data-stu-id="cd28f-130">You should specify the BitLocker key if you want the tool to unlock an encrypted drive where the original files are available.</span></span>|  
|<span data-ttu-id="cd28f-131">**/sn:**< StorageAccountName\></span><span class="sxs-lookup"><span data-stu-id="cd28f-131">**/sn:**<StorageAccountName\></span></span>|<span data-ttu-id="cd28f-132">**Vereist.**</span><span class="sxs-lookup"><span data-stu-id="cd28f-132">**Required.**</span></span> <span data-ttu-id="cd28f-133">De naam van het opslagaccount voor de import-taak.</span><span class="sxs-lookup"><span data-stu-id="cd28f-133">The name of the storage account for the import job.</span></span>|  
|<span data-ttu-id="cd28f-134">**/SK:**< StorageAccountKey\></span><span class="sxs-lookup"><span data-stu-id="cd28f-134">**/sk:**<StorageAccountKey\></span></span>|<span data-ttu-id="cd28f-135">**Vereist** als een container SAS is niet opgegeven.</span><span class="sxs-lookup"><span data-stu-id="cd28f-135">**Required** if and only if a container SAS is not specified.</span></span> <span data-ttu-id="cd28f-136">De accountsleutel voor het opslagaccount voor de import-taak.</span><span class="sxs-lookup"><span data-stu-id="cd28f-136">The account key for the storage account for the import job.</span></span>|  
|<span data-ttu-id="cd28f-137">**/csas:**< ContainerSas\></span><span class="sxs-lookup"><span data-stu-id="cd28f-137">**/csas:**<ContainerSas\></span></span>|<span data-ttu-id="cd28f-138">**Vereist** als de sleutel van het opslagaccount is niet opgegeven.</span><span class="sxs-lookup"><span data-stu-id="cd28f-138">**Required** if and only if the storage account key is not specified.</span></span> <span data-ttu-id="cd28f-139">De container SAS voor toegang tot de blobs die zijn gekoppeld aan de import-taak.</span><span class="sxs-lookup"><span data-stu-id="cd28f-139">The container SAS for accessing the blobs associated with the import job.</span></span>|  
|<span data-ttu-id="cd28f-140">**/ CopyLogFile:**< DriveCopyLogFile\></span><span class="sxs-lookup"><span data-stu-id="cd28f-140">**/CopyLogFile:**<DriveCopyLogFile\></span></span>|<span data-ttu-id="cd28f-141">**Vereist.**</span><span class="sxs-lookup"><span data-stu-id="cd28f-141">**Required.**</span></span> <span data-ttu-id="cd28f-142">Pad naar het station kopiëren-logboekbestand (uitgebreid logboek of fout bij het aanmelden).</span><span class="sxs-lookup"><span data-stu-id="cd28f-142">Path to the drive copy log file (either verbose log or error log).</span></span> <span data-ttu-id="cd28f-143">Het bestand is gegenereerd door de Windows Azure Import/Export-service en kan worden gedownload van de blob-opslag die is gekoppeld aan de taak.</span><span class="sxs-lookup"><span data-stu-id="cd28f-143">The file is generated by the Windows Azure Import/Export service and can be downloaded from the blob storage associated with the job.</span></span> <span data-ttu-id="cd28f-144">Het logboekbestand kopiëren bevat informatie over mislukte blobs of bestanden die moeten worden hersteld.</span><span class="sxs-lookup"><span data-stu-id="cd28f-144">The copy log file contains information about failed blobs or files, which are to be repaired.</span></span>|  
|<span data-ttu-id="cd28f-145">**/ PathMapFile:**< DrivePathMapFile\></span><span class="sxs-lookup"><span data-stu-id="cd28f-145">**/PathMapFile:**<DrivePathMapFile\></span></span>|<span data-ttu-id="cd28f-146">**Optioneel.**</span><span class="sxs-lookup"><span data-stu-id="cd28f-146">**Optional.**</span></span> <span data-ttu-id="cd28f-147">Pad naar een tekstbestand dat kan worden gebruikt voor het oplossen van dubbelzinnigheden als er meerdere bestanden met dezelfde naam die u in dezelfde taak zijn importeren.</span><span class="sxs-lookup"><span data-stu-id="cd28f-147">Path to a text file that can be used to resolve ambiguities if you have multiple files with the same name that you were importing in the same job.</span></span> <span data-ttu-id="cd28f-148">De eerste keer dat het hulpprogramma wordt uitgevoerd, kan dit bestand met alle niet-eenduidige namen vullen.</span><span class="sxs-lookup"><span data-stu-id="cd28f-148">The first time the tool is run, it can populate this file with all of the ambiguous names.</span></span> <span data-ttu-id="cd28f-149">Dit bestand latere uitvoeringen van het hulpprogramma gebruiken om op te lossen de dubbelzinnigheden.</span><span class="sxs-lookup"><span data-stu-id="cd28f-149">Subsequent runs of the tool use this file to resolve the ambiguities.</span></span>|  
  
## <a name="using-the-repairimport-command"></a><span data-ttu-id="cd28f-150">Met behulp van de opdracht RepairImport</span><span class="sxs-lookup"><span data-stu-id="cd28f-150">Using the RepairImport command</span></span>  
<span data-ttu-id="cd28f-151">Als u wilt herstellen gegevens importeren door het streamen van de gegevens via het netwerk, moet u de mappen met de oorspronkelijke bestanden zijn u importeren met behulp van de `/d` parameter.</span><span class="sxs-lookup"><span data-stu-id="cd28f-151">To repair import data by streaming the data over the network, you must specify the directories that contain the original files you were importing using the `/d` parameter.</span></span> <span data-ttu-id="cd28f-152">Het logboekbestand kopiëren die u hebt gedownload van uw storage-account, moet u ook opgeven.</span><span class="sxs-lookup"><span data-stu-id="cd28f-152">You must also specify the copy log file that you downloaded from your storage account.</span></span> <span data-ttu-id="cd28f-153">Een typische opdrachtregel om te herstellen van een import-taak met gedeeltelijke fouten ziet eruit als:</span><span class="sxs-lookup"><span data-stu-id="cd28f-153">A typical command line to repair an import job with partial failures looks like:</span></span>  
  
```  
WAImportExport.exe RepairImport /r:C:\WAImportExport\9WM35C2V.rep /d:C:\Users\bob\Pictures;X:\BobBackup\photos /sn:bobmediaaccount /sk:VkGbrUqBWLYJ6zg1m29VOTrxpBgdNOlp+kp0C9MEdx3GELxmBw4hK94f7KysbbeKLDksg7VoN1W/a5UuM2zNgQ== /CopyLogFile:C:\WAImportExport\9WM35C2V.log  
```  
  
<span data-ttu-id="cd28f-154">In het volgende voorbeeld van een logbestand kopiëren is beschadigd terwijl gegevenselementen 64 K van een bestand op de schijf die is geleverd voor de import-taak.</span><span class="sxs-lookup"><span data-stu-id="cd28f-154">In the following example of a copy log file, one 64-K piece of a file was corrupted on the drive that was shipped for the import job.</span></span> <span data-ttu-id="cd28f-155">Aangezien dit de enige fout die wordt aangegeven, wordt de rest van de blobs in de taak zijn geïmporteerd.</span><span class="sxs-lookup"><span data-stu-id="cd28f-155">Since this is the only failure indicated, the rest of the blobs in the job were successfully imported.</span></span>  
  
```xml
<?xml version="1.0" encoding="utf-8"?>  
<DriveLog>  
 <DriveId>9WM35C2V</DriveId>  
 <Blob Status="CompletedWithErrors">  
 <BlobPath>pictures/animals/koala.jpg</BlobPath>  
 <FilePath>\animals\koala.jpg</FilePath>  
 <Length>163840</Length>  
 <ImportDisposition Status="Overwritten">overwrite</ImportDisposition>  
 <PageRangeList>  
  <PageRange Offset="65536" Length="65536" Hash="AA2585F6F6FD01C4AD4256E018240CD4" Status="Corrupted" />  
 </PageRangeList>  
 </Blob>  
 <Status>CompletedWithErrors</Status>  
</DriveLog>  
```
  
<span data-ttu-id="cd28f-156">Wanneer dit logboek kopie wordt doorgegeven aan de Azure-hulpprogramma voor importeren/exporteren, wordt het hulpprogramma probeert te importeren voor dit bestand met de ontbrekende inhoud via het netwerk te voltooien.</span><span class="sxs-lookup"><span data-stu-id="cd28f-156">When this copy log is passed to the Azure Import/Export Tool, the tool tries to finish the import for this file by copying the missing contents across the network.</span></span> <span data-ttu-id="cd28f-157">Na het bovenstaande voorbeeld kunnen het hulpprogramma zoekt naar het oorspronkelijke bestand `\animals\koala.jpg` binnen de twee mappen `C:\Users\bob\Pictures` en `X:\BobBackup\photos`.</span><span class="sxs-lookup"><span data-stu-id="cd28f-157">Following the example above, the tool looks for the original file `\animals\koala.jpg` within the two directories `C:\Users\bob\Pictures` and `X:\BobBackup\photos`.</span></span> <span data-ttu-id="cd28f-158">Als het bestand `C:\Users\bob\Pictures\animals\koala.jpg` bestaat, de Azure-hulpprogramma voor importeren/exporteren wordt het ontbrekende bereik van gegevens gekopieerd naar de bijbehorende blob `http://bobmediaaccount.blob.core.windows.net/pictures/animals/koala.jpg`.</span><span class="sxs-lookup"><span data-stu-id="cd28f-158">If the file `C:\Users\bob\Pictures\animals\koala.jpg` exists, the Azure Import/Export Tool copies the missing range of data to the corresponding blob `http://bobmediaaccount.blob.core.windows.net/pictures/animals/koala.jpg`.</span></span>  
  
## <a name="resolving-conflicts-when-using-repairimport"></a><span data-ttu-id="cd28f-159">Het oplossen van conflicten bij gebruik van RepairImport</span><span class="sxs-lookup"><span data-stu-id="cd28f-159">Resolving conflicts when using RepairImport</span></span>  
<span data-ttu-id="cd28f-160">In sommige gevallen is het hulpprogramma mogelijk niet vinden of openen van het vereiste bestand voor een van de volgende redenen: het bestand kan niet worden gevonden, het bestand is niet toegankelijk, de bestandsnaam is niet eenduidig of de inhoud van het bestand zijn niet langer juist.</span><span class="sxs-lookup"><span data-stu-id="cd28f-160">In some situations, the tool may not be able to find or open the necessary file for one of the following reasons: the file could not be found, the file is not accessible, the file name is ambiguous, or the content of the file is no longer correct.</span></span>  
  
<span data-ttu-id="cd28f-161">Een niet-eenduidige fout kan optreden als het hulpprogramma is bij het vinden van `\animals\koala.jpg` en er is een bestand met die naam onder beide `C:\Users\bob\pictures` en `X:\BobBackup\photos`.</span><span class="sxs-lookup"><span data-stu-id="cd28f-161">An ambiguous error could occur if the tool is trying to locate `\animals\koala.jpg` and there is a file with that name under both `C:\Users\bob\pictures` and `X:\BobBackup\photos`.</span></span> <span data-ttu-id="cd28f-162">Dat wil zeggen, beide `C:\Users\bob\pictures\animals\koala.jpg` en `X:\BobBackup\photos\animals\koala.jpg` bestaat op de import-taak stations.</span><span class="sxs-lookup"><span data-stu-id="cd28f-162">That is, both `C:\Users\bob\pictures\animals\koala.jpg` and `X:\BobBackup\photos\animals\koala.jpg` exist on the import job drives.</span></span>  
  
<span data-ttu-id="cd28f-163">De `/PathMapFile` optie kunt u deze fouten op te lossen.</span><span class="sxs-lookup"><span data-stu-id="cd28f-163">The `/PathMapFile` option allows you to resolve these errors.</span></span> <span data-ttu-id="cd28f-164">U kunt de naam van het bestand de lijst met bestanden die het hulpprogramma is niet in staat is bevat te herkennen, opgeven.</span><span class="sxs-lookup"><span data-stu-id="cd28f-164">You can specify the name of the file, which contains the list of files that the tool was not able to correctly identify.</span></span> <span data-ttu-id="cd28f-165">De volgende opdrachtregel voorbeeld gevuld `9WM35C2V_pathmap.txt`:</span><span class="sxs-lookup"><span data-stu-id="cd28f-165">The following command-line example populates `9WM35C2V_pathmap.txt`:</span></span>  
  
```
WAImportExport.exe RepairImport /r:C:\WAImportExport\9WM35C2V.rep /d:C:\Users\bob\Pictures;X:\BobBackup\photos /sn:bobmediaaccount /sk:VkGbrUqBWLYJ6zg1m29VOTrxpBgdNOlp+kp0C9MEdx3GELxmBw4hK94f7KysbbeKLDksg7VoN1W/a5UuM2zNgQ== /CopyLogFile:C:\WAImportExport\9WM35C2V.log /PathMapFile:C:\WAImportExport\9WM35C2V_pathmap.txt  
```
  
<span data-ttu-id="cd28f-166">Het hulpprogramma wordt vervolgens de problematisch bestandspaden op om te schrijven `9WM35C2V_pathmap.txt`, één op elke regel.</span><span class="sxs-lookup"><span data-stu-id="cd28f-166">The tool will then write the problematic file paths to `9WM35C2V_pathmap.txt`, one on each line.</span></span> <span data-ttu-id="cd28f-167">Het bestand kan bijvoorbeeld de volgende vermeldingen bevatten na het uitvoeren van de opdracht:</span><span class="sxs-lookup"><span data-stu-id="cd28f-167">For instance, the file may contain the following entries after running the command:</span></span>  
 
```
\animals\koala.jpg  
\animals\kangaroo.jpg  
```
  
 <span data-ttu-id="cd28f-168">Voor elk bestand in de lijst, moet u proberen om te zoeken en open het bestand om te controleren of dat deze beschikbaar is om het hulpprogramma.</span><span class="sxs-lookup"><span data-stu-id="cd28f-168">For each file in the list, you should attempt to locate and open the file to ensure it is available to the tool.</span></span> <span data-ttu-id="cd28f-169">Als u zien van het hulpprogramma expliciet waar vind ik een bestand wilt, kunt u het pad toewijzingsbestand wijzigen en het pad toevoegen aan elk bestand in dezelfde lijn, gescheiden door een tab-teken:</span><span class="sxs-lookup"><span data-stu-id="cd28f-169">If you wish to tell the tool explicitly where to find a file, you can modify the path map file and add the path to each file on the same line, separated by a tab character:</span></span>  
  
```
\animals\koala.jpg           C:\Users\bob\Pictures\animals\koala.jpg  
\animals\kangaroo.jpg        X:\BobBackup\photos\animals\kangaroo.jpg  
```
  
<span data-ttu-id="cd28f-170">Na het maken van de benodigde bestanden beschikbaar zijn voor het hulpprogramma of bijwerken van het toewijzingsbestand pad, kunt u het hulpprogramma voor het voltooien van het importproces opnieuw uit.</span><span class="sxs-lookup"><span data-stu-id="cd28f-170">After making the necessary files available to the tool, or updating the path map file, you can rerun the tool to complete the import process.</span></span>  
  
## <a name="next-steps"></a><span data-ttu-id="cd28f-171">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="cd28f-171">Next steps</span></span>
 
* [<span data-ttu-id="cd28f-172">Instellen van het hulpprogramma Azure Import/Export</span><span class="sxs-lookup"><span data-stu-id="cd28f-172">Setting Up the Azure Import/Export Tool</span></span>](storage-import-export-tool-setup-v1.md)   
* [<span data-ttu-id="cd28f-173">Harde schijven voorbereiden voor een importtaak</span><span class="sxs-lookup"><span data-stu-id="cd28f-173">Preparing hard drives for an import job</span></span>](../storage-import-export-tool-preparing-hard-drives-import-v1.md)   
* [<span data-ttu-id="cd28f-174">De taakstatus controleren met kopielogboekbestanden</span><span class="sxs-lookup"><span data-stu-id="cd28f-174">Reviewing job status with copy log files</span></span>](storage-import-export-tool-reviewing-job-status-v1.md)   
* [<span data-ttu-id="cd28f-175">Een exporttaak herstellen</span><span class="sxs-lookup"><span data-stu-id="cd28f-175">Repairing an export job</span></span>](../storage-import-export-tool-repairing-an-export-job-v1.md)   
* [<span data-ttu-id="cd28f-176">Problemen met het hulpprogramma Azure Import/Export oplossen</span><span class="sxs-lookup"><span data-stu-id="cd28f-176">Troubleshooting the Azure Import/Export Tool</span></span>](storage-import-export-tool-troubleshooting-v1.md)
