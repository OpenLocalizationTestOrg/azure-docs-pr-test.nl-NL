---
title: 'Azure Premium-opslag: Ontwerpen voor prestaties | Microsoft Docs'
description: Ontwerp hoogwaardige toepassingen met behulp van Azure Premium-opslag. Premium-opslag biedt ondersteuning voor schijven voor hoge prestaties, lage latentie voor I/O-intensieve werkbelastingen die worden uitgevoerd op Azure Virtual Machines.
services: storage
documentationcenter: na
author: aungoo-msft
manager: tadb
editor: tysonn
ms.assetid: e6a409c3-d31a-4704-a93c-0a04fdc95960
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/27/2017
ms.author: aungoo
ms.openlocfilehash: 75845eb4707e8e5606153a5e1a7c10b4113ee121
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-premium-storage-design-for-high-performance"></a><span data-ttu-id="1da42-104">Azure Premium-opslag: Ontwerp voor hoge prestaties</span><span class="sxs-lookup"><span data-stu-id="1da42-104">Azure Premium Storage: Design for High Performance</span></span>
## <a name="overview"></a><span data-ttu-id="1da42-105">Overzicht</span><span class="sxs-lookup"><span data-stu-id="1da42-105">Overview</span></span>
<span data-ttu-id="1da42-106">In dit artikel bevat richtlijnen voor het bouwen van krachtige toepassingen met behulp van Azure Premium-opslag.</span><span class="sxs-lookup"><span data-stu-id="1da42-106">This article provides guidelines for building high performance applications using Azure Premium Storage.</span></span> <span data-ttu-id="1da42-107">U kunt de instructies in dit document gecombineerd met de prestaties van best practices van toepassing tootechnologies gebruikt door de toepassing hello gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1da42-107">You can use hello instructions provided in this document combined with performance best practices applicable tootechnologies used by your application.</span></span> <span data-ttu-id="1da42-108">tooillustrate hello richtlijnen, hebben we SQL Server wordt uitgevoerd op de Premium-opslag als voorbeeld in dit hele document gebruikt.</span><span class="sxs-lookup"><span data-stu-id="1da42-108">tooillustrate hello guidelines, we have used SQL Server running on Premium Storage as an example throughout this document.</span></span>

<span data-ttu-id="1da42-109">Hoewel we prestaties scenario's voor het Hallo-opslaglaag in dit artikel, moet u toooptimize Hallo toepassingslaag.</span><span class="sxs-lookup"><span data-stu-id="1da42-109">While we address performance scenarios for hello Storage layer in this article, you will need toooptimize hello application layer.</span></span> <span data-ttu-id="1da42-110">Bijvoorbeeld, als u een SharePoint-Farm op Azure Premium-opslag host, kunt u Hallo SQL Server-voorbeelden uit dit artikel toooptimize Hallo-databaseserver.</span><span class="sxs-lookup"><span data-stu-id="1da42-110">For example, if you are hosting a SharePoint Farm on Azure Premium Storage, you can use hello SQL Server examples from this article toooptimize hello database server.</span></span> <span data-ttu-id="1da42-111">Bovendien Hallo de SharePoint-Farm-webserver en de toepassing server tooget Hallo meeste prestaties optimaliseren.</span><span class="sxs-lookup"><span data-stu-id="1da42-111">Additionally, optimize hello SharePoint Farm's Web server and Application server tooget hello most performance.</span></span>

<span data-ttu-id="1da42-112">Dit artikel helpt antwoord volgen Veelgestelde vragen over het optimaliseren van de toepassingsprestaties op Azure Premium-opslag</span><span class="sxs-lookup"><span data-stu-id="1da42-112">This article will help answer following common questions about optimizing application performance on Azure Premium Storage,</span></span>

* <span data-ttu-id="1da42-113">Hoe toomeasure de toepassingsprestaties van uw?</span><span class="sxs-lookup"><span data-stu-id="1da42-113">How toomeasure your application performance?</span></span>  
* <span data-ttu-id="1da42-114">Waarom zijn verwachte hoge prestaties niet zien?</span><span class="sxs-lookup"><span data-stu-id="1da42-114">Why are you not seeing expected high performance?</span></span>  
* <span data-ttu-id="1da42-115">Welke factoren van invloed op de toepassingsprestaties van uw op Premium-opslag?</span><span class="sxs-lookup"><span data-stu-id="1da42-115">Which factors influence your application performance on Premium Storage?</span></span>  
* <span data-ttu-id="1da42-116">Hoe deze factoren van invloed op prestaties van uw toepassing op Premium-opslag?</span><span class="sxs-lookup"><span data-stu-id="1da42-116">How do these factors influence performance of your application on Premium Storage?</span></span>  
* <span data-ttu-id="1da42-117">Hoe kunt u optimaliseren voor IOPS, bandbreedte en latentie?</span><span class="sxs-lookup"><span data-stu-id="1da42-117">How can you optimize for IOPS, Bandwidth and Latency?</span></span>  

<span data-ttu-id="1da42-118">We hebben deze richtlijnen die specifiek voor Premium-opslag omdat werkbelasting op Premium-opslag zeer gevoelige prestaties zijn.</span><span class="sxs-lookup"><span data-stu-id="1da42-118">We have provided these guidelines specifically for Premium Storage because workloads running on Premium Storage are highly performance sensitive.</span></span> <span data-ttu-id="1da42-119">We hebben voorbeelden verstrekt, indien van toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-119">We have provided examples where appropriate.</span></span> <span data-ttu-id="1da42-120">U kunt ook enkele van deze richtlijnen tooapplications IaaS VM's met met standaard opslagschijven toepassen.</span><span class="sxs-lookup"><span data-stu-id="1da42-120">You can also apply some of these guidelines tooapplications running on IaaS VMs with Standard Storage disks.</span></span>

<span data-ttu-id="1da42-121">Voordat u begint, als u nieuwe tooPremium opslag, lees dan eerst Hallo [Premium-opslag: krachtige opslag voor Azure Virtual Machine-werkbelasting](storage-premium-storage.md) en [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md)artikelen.</span><span class="sxs-lookup"><span data-stu-id="1da42-121">Before you begin, if you are new tooPremium Storage, first read hello [Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads](storage-premium-storage.md) and [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) articles.</span></span>

## <a name="application-performance-indicators"></a><span data-ttu-id="1da42-122">Prestatie-indicatoren van toepassing</span><span class="sxs-lookup"><span data-stu-id="1da42-122">Application Performance Indicators</span></span>
<span data-ttu-id="1da42-123">We controleren of een toepassing wordt uitgevoerd met behulp van prestatie-indicatoren, zoals goed of niet, hoe snel een gebruikersaanvraag, hoeveel gegevens van een toepassing per aanvraag verwerken wordt verwerkt door een toepassing, hoeveel aanvragen verwerken van een toepassing is in een specifieke periode, hoe lang die een gebruiker toowait tooget een antwoord heeft na hun aanvraag.</span><span class="sxs-lookup"><span data-stu-id="1da42-123">We assess whether an application is performing well or not using performance indicators like, how fast an application is processing a user request, how much data an application is processing per request, how many requests is an application processing in a specific period of time, how long a user has toowait tooget a response after submitting their request.</span></span> <span data-ttu-id="1da42-124">Hallo technische voorwaarden voor deze prestatie-indicatoren zijn IOPS, doorvoer of bandbreedte en latentie.</span><span class="sxs-lookup"><span data-stu-id="1da42-124">hello technical terms for these performance indicators are, IOPS, Throughput or Bandwidth, and Latency.</span></span>

<span data-ttu-id="1da42-125">In deze sectie bespreken we Hallo algemene prestatie-indicatoren in de context Hallo van Premium-opslag.</span><span class="sxs-lookup"><span data-stu-id="1da42-125">In this section, we will discuss hello common performance indicators in hello context of Premium Storage.</span></span> <span data-ttu-id="1da42-126">In Hallo volgende sectie, toepassingsvereisten verzamelen, leert u hoe toomeasure deze prestatie-indicatoren voor uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-126">In hello following section, Gathering Application Requirements, you will learn how toomeasure these performance indicators for your application.</span></span> <span data-ttu-id="1da42-127">Verderop in de toepassingsprestaties optimaliseren u leert over Hallo factoren die invloed hebben op deze prestatie-indicatoren en aanbevelingen toooptimize ze.</span><span class="sxs-lookup"><span data-stu-id="1da42-127">Later in Optimizing Application Performance, you will learn about hello factors affecting these performance indicators and recommendations toooptimize them.</span></span>

## <a name="iops"></a><span data-ttu-id="1da42-128">IOPS</span><span class="sxs-lookup"><span data-stu-id="1da42-128">IOPS</span></span>
<span data-ttu-id="1da42-129">IOPS is aantal aanvragen dat uw toepassing toohello opslagschijven in één seconde verzendt.</span><span class="sxs-lookup"><span data-stu-id="1da42-129">IOPS is number of requests that your application is sending toohello storage disks in one second.</span></span> <span data-ttu-id="1da42-130">Een i/o-bewerking kan worden gelezen of opeenvolgende of willekeurig schrijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-130">An input/output operation could be read or write, sequential or random.</span></span> <span data-ttu-id="1da42-131">OLTP-toepassingen zoals een online retail-website moeten tooprocess veel gelijktijdige gebruiker onmiddellijk aanvraagt.</span><span class="sxs-lookup"><span data-stu-id="1da42-131">OLTP applications like an online retail website need tooprocess many concurrent user requests immediately.</span></span> <span data-ttu-id="1da42-132">Hallo gebruikersaanvragen invoegen zijn en werk intensieve databasetransacties welke toepassing hello snel moet verwerken.</span><span class="sxs-lookup"><span data-stu-id="1da42-132">hello user requests are insert and update intensive database transactions, which hello application must process quickly.</span></span> <span data-ttu-id="1da42-133">Daarom vereisen OLTP-toepassingen zeer hoge IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-133">Therefore, OLTP applications require very high IOPS.</span></span> <span data-ttu-id="1da42-134">Dergelijke toepassingen miljoenen kleine en willekeurige i/o-aanvragen worden verwerkt.</span><span class="sxs-lookup"><span data-stu-id="1da42-134">Such applications handle millions of small and random IO requests.</span></span> <span data-ttu-id="1da42-135">Als u een dergelijke toepassing hebt, moet u Hallo toepassing infrastructuur toooptimize ontwerpen voor IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-135">If you have such an application, you must design hello application infrastructure toooptimize for IOPS.</span></span> <span data-ttu-id="1da42-136">In hello later sectie *toepassingsprestaties optimaliseren*, bespreken we in detail alle Hallo factoren die u, tooget overwegen moet hoge IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-136">In hello later section, *Optimizing Application Performance*, we discuss in detail all hello factors that you must consider tooget high IOPS.</span></span>

<span data-ttu-id="1da42-137">Wanneer koppelt u een premium-opslag schijf tooyour grootschalige virtuele machine, Azure voorziet u een gegarandeerd aantal IOPS volgens de specificatie van Hallo-schijf.</span><span class="sxs-lookup"><span data-stu-id="1da42-137">When you attach a premium storage disk tooyour high scale VM, Azure provisions for you a guaranteed number of IOPS as per hello disk specification.</span></span> <span data-ttu-id="1da42-138">Een schijf P50 levert bijvoorbeeld 7500 IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-138">For example, a P50 disk provisions 7500 IOPS.</span></span> <span data-ttu-id="1da42-139">Elke grote schaal VM-grootte heeft ook een specifieke IOPS limiet die deze kan tolereren.</span><span class="sxs-lookup"><span data-stu-id="1da42-139">Each high scale VM size also has a specific IOPS limit that it can sustain.</span></span> <span data-ttu-id="1da42-140">Zo heeft een standaard GS5 VM 80.000 IOP's beperken.</span><span class="sxs-lookup"><span data-stu-id="1da42-140">For example, a Standard GS5 VM has 80,000 IOPS limit.</span></span>

## <a name="throughput"></a><span data-ttu-id="1da42-141">Doorvoer</span><span class="sxs-lookup"><span data-stu-id="1da42-141">Throughput</span></span>
<span data-ttu-id="1da42-142">Doorvoer- of bandbreedte is Hallo en de hoeveelheid gegevens dat uw toepassing toohello opslagschijven in een opgegeven interval verzendt.</span><span class="sxs-lookup"><span data-stu-id="1da42-142">Throughput or Bandwidth is hello amount of data that your application is sending toohello storage disks in a specified interval.</span></span> <span data-ttu-id="1da42-143">Als uw toepassing met het uitvoeren van de i/o-bewerkingen met grote i/o-eenheid grootten, is er een hoge doorvoer vereist.</span><span class="sxs-lookup"><span data-stu-id="1da42-143">If your application is performing input/output operations with large IO unit sizes, it requires high Throughput.</span></span> <span data-ttu-id="1da42-144">Datawarehouse-toepassingen vaak tooissue scan bewerkingsintensieve bewerkingen die toegang tot grote delen van gegevens op een tijdstip en meest bulkbewerkingen worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="1da42-144">Data warehouse applications tend tooissue scan intensive operations that access large portions of data at a time and commonly perform bulk operations.</span></span> <span data-ttu-id="1da42-145">Met andere woorden, vereisen dergelijke toepassingen hogere doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1da42-145">In other words, such applications require higher Throughput.</span></span> <span data-ttu-id="1da42-146">Als u een dergelijke toepassing hebt, moet u de infrastructuur toooptimize ontwerpen voor doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1da42-146">If you have such an application, you must design its infrastructure toooptimize for Throughput.</span></span> <span data-ttu-id="1da42-147">In de volgende sectie hello, besproken in detail Hallo factoren u moet tooachieve dit afstemmen.</span><span class="sxs-lookup"><span data-stu-id="1da42-147">In hello next section, we discuss in detail hello factors you must tune tooachieve this.</span></span>

<span data-ttu-id="1da42-148">Wanneer koppelt u een premium-opslag schijf tooa grootschalige virtuele machine, Azure bepalingen doorvoer volgens de specificatie van die schijf.</span><span class="sxs-lookup"><span data-stu-id="1da42-148">When you attach a premium storage disk tooa high scale VM, Azure provisions Throughput as per that disk specification.</span></span> <span data-ttu-id="1da42-149">Een schijf P50 levert bijvoorbeeld 250 MB per tweede schijf doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1da42-149">For example, a P50 disk provisions 250 MB per second disk Throughput.</span></span> <span data-ttu-id="1da42-150">Elke grote schaal VM-grootte heeft ook als specifieke doorvoer limiet die deze kan tolereren.</span><span class="sxs-lookup"><span data-stu-id="1da42-150">Each high scale VM size also has as specific Throughput limit that it can sustain.</span></span> <span data-ttu-id="1da42-151">Standaard GS5 VM heeft bijvoorbeeld een maximale doorvoer van 2.000 MB per seconde.</span><span class="sxs-lookup"><span data-stu-id="1da42-151">For example, Standard GS5 VM has a maximum throughput of 2,000 MB per second.</span></span> 

<span data-ttu-id="1da42-152">Er is een relatie tussen de doorvoer en IOP's, zoals wordt weergegeven in onderstaande Hallo-formule.</span><span class="sxs-lookup"><span data-stu-id="1da42-152">There is a relation between Throughput and IOPS as shown in hello formula below.</span></span>

![](media/storage-premium-storage-performance/image1.png)

<span data-ttu-id="1da42-153">Het is daarom belangrijk toodetermine Hallo optimale doorvoer en IOPS-waarden die vereist zijn voor uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-153">Therefore, it is important toodetermine hello optimal Throughput and IOPS values that your application requires.</span></span> <span data-ttu-id="1da42-154">Als u toooptimize een probeert, wordt Hallo andere ook beïnvloed.</span><span class="sxs-lookup"><span data-stu-id="1da42-154">As you try toooptimize one, hello other also gets affected.</span></span> <span data-ttu-id="1da42-155">In een volgende sectie *toepassingsprestaties optimaliseren*, behandeld in meer informatie over het optimaliseren van IOPS en Doorvoerlimieten.</span><span class="sxs-lookup"><span data-stu-id="1da42-155">In a later section, *Optimizing Application Performance*, we will discuss in more details about optimizing IOPS and Throughput.</span></span>

## <a name="latency"></a><span data-ttu-id="1da42-156">Latentie</span><span class="sxs-lookup"><span data-stu-id="1da42-156">Latency</span></span>
<span data-ttu-id="1da42-157">Latentie is Hallo het duurt voordat een toepassing tooreceive één aanvraag, verzenden toohello opslagschijven en Hallo antwoord toohello client verzenden.</span><span class="sxs-lookup"><span data-stu-id="1da42-157">Latency is hello time it takes an application tooreceive a single request, send it toohello storage disks and send hello response toohello client.</span></span> <span data-ttu-id="1da42-158">Dit is een kritieke meting van de prestaties van een toepassing in toevoeging tooIOPS en doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1da42-158">This is a critical measure of an application's performance in addition tooIOPS and Throughput.</span></span> <span data-ttu-id="1da42-159">Hallo latentie van de schijf voor een premium-opslag is Hallo keer tooretrieve Hallo-informatie voor een aanvraag duurt en communiceren tooyour toepassing weer.</span><span class="sxs-lookup"><span data-stu-id="1da42-159">hello Latency of a premium storage disk is hello time it takes tooretrieve hello information for a request and communicate it back tooyour application.</span></span> <span data-ttu-id="1da42-160">Premium-opslag biedt een consistente lage latenties.</span><span class="sxs-lookup"><span data-stu-id="1da42-160">Premium Storage provides consistent low latencies.</span></span> <span data-ttu-id="1da42-161">Als u alleen-lezen-hostcaching op schijven met opslagruimte premium inschakelt, kunt u veel lagere latentie mogelijk lezen krijgen.</span><span class="sxs-lookup"><span data-stu-id="1da42-161">If you enable ReadOnly host caching on premium storage disks, you can get much lower read latency.</span></span> <span data-ttu-id="1da42-162">Bespreken we schijfcache in de volgende sectie uitvoeriger op *toepassingsprestaties optimaliseren*.</span><span class="sxs-lookup"><span data-stu-id="1da42-162">We will discuss Disk Caching in more detail in later section on *Optimizing Application Performance*.</span></span>

<span data-ttu-id="1da42-163">Wanneer het optimaliseren van uw toepassing tooget hogere IOPS en Doorvoerlimieten, heeft dit gevolgen voor Hallo latentie van uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-163">When you are optimizing your application tooget higher IOPS and Throughput, it will affect hello Latency of your application.</span></span> <span data-ttu-id="1da42-164">Na het afstemmen van de toepassingsprestaties Hallo Hallo latentie van Hallo toepassing tooavoid altijd geëvalueerd onverwacht hoge latentie gedrag.</span><span class="sxs-lookup"><span data-stu-id="1da42-164">After tuning hello application performance, always evaluate hello Latency of hello application tooavoid unexpected high latency behavior.</span></span>

## <a name="gather-application-performance-requirements"></a><span data-ttu-id="1da42-165">Verzamelen van prestaties toepassingsvereisten</span><span class="sxs-lookup"><span data-stu-id="1da42-165">Gather Application Performance Requirements</span></span>
<span data-ttu-id="1da42-166">Hallo eerste stap bij het ontwerpen van krachtige toepassingen die worden uitgevoerd op Azure Premium-opslag is toounderstand Hallo prestatie-eisen van uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-166">hello first step in designing high performance applications running on Azure Premium Storage is, toounderstand hello performance requirements of your application.</span></span> <span data-ttu-id="1da42-167">Wanneer u prestatie-eisen verzameld, kunt u uw toepassing tooachieve Hallo optimale prestaties te optimaliseren.</span><span class="sxs-lookup"><span data-stu-id="1da42-167">After you gather performance requirements, you can optimize your application tooachieve hello most optimal performance.</span></span>

<span data-ttu-id="1da42-168">In de vorige sectie hello, we uitgelegd Hallo algemene prestatie-indicatoren, IOPS, doorvoer en latentie.</span><span class="sxs-lookup"><span data-stu-id="1da42-168">In hello previous section, we explained hello common performance indicators, IOPS, Throughput and Latency.</span></span> <span data-ttu-id="1da42-169">U moet nagaan welke van deze prestatie-indicatoren kritieke tooyour toepassing toodeliver Hallo desired-gebruikerservaring.</span><span class="sxs-lookup"><span data-stu-id="1da42-169">You must identify which of these performance indicators are critical tooyour application toodeliver hello desired user experience.</span></span> <span data-ttu-id="1da42-170">Bijvoorbeeld, telt hoge IOPS miljoenen transacties worden verwerkt in een tweede meeste tooOLTP-toepassingen.</span><span class="sxs-lookup"><span data-stu-id="1da42-170">For example, high IOPS matters most tooOLTP applications processing millions of transactions in a second.</span></span> <span data-ttu-id="1da42-171">Dat hoge doorvoersnelheid essentieel voor de verwerking van grote hoeveelheden gegevens in een tweede Data Warehouse-toepassingen is.</span><span class="sxs-lookup"><span data-stu-id="1da42-171">Whereas, high Throughput is critical for Data Warehouse applications processing large amounts of data in a second.</span></span> <span data-ttu-id="1da42-172">Zeer lage latentie is van cruciaal belang voor realtime toepassingen zoals live videostreaming websites.</span><span class="sxs-lookup"><span data-stu-id="1da42-172">Extremely low Latency is crucial for real-time applications like live video streaming websites.</span></span>

<span data-ttu-id="1da42-173">Vervolgens meten Hallo Maximale prestatie-eisen van uw toepassing tijdens de levensduur.</span><span class="sxs-lookup"><span data-stu-id="1da42-173">Next, measure hello maximum performance requirements of your application throughout its lifetime.</span></span> <span data-ttu-id="1da42-174">Controlelijst voor het voorbeeld hieronder hello gebruiken als een start.</span><span class="sxs-lookup"><span data-stu-id="1da42-174">Use hello sample checklist below as a start.</span></span> <span data-ttu-id="1da42-175">Maximale prestatie-eisen record Hallo tijdens normaal, piek- en rustige uren werkbelasting perioden.</span><span class="sxs-lookup"><span data-stu-id="1da42-175">Record hello maximum performance requirements during normal, peak and off-hours workload periods.</span></span> <span data-ttu-id="1da42-176">Door het identificeren van de vereisten voor alle werkbelastingen niveaus kunt u zich kunt toodetermine Hallo algehele prestaties vereisten van uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-176">By identifying requirements for all workloads levels, you will be able toodetermine hello overall performance requirement of your application.</span></span> <span data-ttu-id="1da42-177">Hallo normale werkbelasting van een webwinkel wordt bijvoorbeeld Hallo transacties die het meeste dagen in een jaar fungeert.</span><span class="sxs-lookup"><span data-stu-id="1da42-177">For example, hello normal workload of an e-commerce website will be hello transactions it serves during most days in a year.</span></span> <span data-ttu-id="1da42-178">Hallo piek werkbelasting van Hallo website worden Hallo transacties die het tijdens de feestdagen of speciale verkoop gebeurtenissen fungeert.</span><span class="sxs-lookup"><span data-stu-id="1da42-178">hello peak workload of hello website will be hello transactions it serves during holiday season or special sale events.</span></span> <span data-ttu-id="1da42-179">Hallo piek werkbelasting is doorgaans ervaren voor een beperkte periode, maar kan vereisen uw toepassing tooscale twee of meer de normale werking.</span><span class="sxs-lookup"><span data-stu-id="1da42-179">hello peak workload is typically experienced for a limited period, but can require your application tooscale two or more times its normal operation.</span></span> <span data-ttu-id="1da42-180">Ontdek Hallo 50 percentiel, 90 percentiel en 99 percentiel vereisten.</span><span class="sxs-lookup"><span data-stu-id="1da42-180">Find out hello 50 percentile, 90 percentile and 99 percentile requirements.</span></span> <span data-ttu-id="1da42-181">Dit helpt uitfilteren eventuele uitschieters in Hallo prestatie-eisen en kunt u uw inspanningen zich richten op voor de juiste waarden hello te optimaliseren.</span><span class="sxs-lookup"><span data-stu-id="1da42-181">This helps filter out any outliers in hello performance requirements and you can focus your efforts on optimizing for hello right values.</span></span>

<span data-ttu-id="1da42-182">**Controlelijst voor de vereisten van de toepassingsprestaties**</span><span class="sxs-lookup"><span data-stu-id="1da42-182">**Application Performance Requirements Checklist**</span></span>

| <span data-ttu-id="1da42-183">**Prestatie-eisen**</span><span class="sxs-lookup"><span data-stu-id="1da42-183">**Performance requirements**</span></span> | <span data-ttu-id="1da42-184">**50 percentiel**</span><span class="sxs-lookup"><span data-stu-id="1da42-184">**50 Percentile**</span></span> | <span data-ttu-id="1da42-185">**90 percentiel**</span><span class="sxs-lookup"><span data-stu-id="1da42-185">**90 Percentile**</span></span> | <span data-ttu-id="1da42-186">**99 percentiel**</span><span class="sxs-lookup"><span data-stu-id="1da42-186">**99  Percentile**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="1da42-187">Met maximaal</span><span class="sxs-lookup"><span data-stu-id="1da42-187">Max.</span></span> <span data-ttu-id="1da42-188">Transacties per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-188">Transactions per second</span></span> | | | |
| <span data-ttu-id="1da42-189">% Leesbewerkingen</span><span class="sxs-lookup"><span data-stu-id="1da42-189">% Read operations</span></span> | | | |
| <span data-ttu-id="1da42-190">% Schrijfbewerkingen</span><span class="sxs-lookup"><span data-stu-id="1da42-190">% Write operations</span></span> | | | |
| <span data-ttu-id="1da42-191">% Willekeurige bewerkingen</span><span class="sxs-lookup"><span data-stu-id="1da42-191">% Random operations</span></span> | | | |
| <span data-ttu-id="1da42-192">% Opeenvolgende bewerkingen</span><span class="sxs-lookup"><span data-stu-id="1da42-192">% Sequential operations</span></span> | | | |
| <span data-ttu-id="1da42-193">De grootte van de i/o-aanvraag</span><span class="sxs-lookup"><span data-stu-id="1da42-193">IO request size</span></span> | | | |
| <span data-ttu-id="1da42-194">Gemiddelde doorvoersnelheid</span><span class="sxs-lookup"><span data-stu-id="1da42-194">Average Throughput</span></span> | | | |
| <span data-ttu-id="1da42-195">Met maximaal</span><span class="sxs-lookup"><span data-stu-id="1da42-195">Max.</span></span> <span data-ttu-id="1da42-196">Doorvoer</span><span class="sxs-lookup"><span data-stu-id="1da42-196">Throughput</span></span> | | | |
| <span data-ttu-id="1da42-197">Min.</span><span class="sxs-lookup"><span data-stu-id="1da42-197">Min.</span></span> <span data-ttu-id="1da42-198">Latentie</span><span class="sxs-lookup"><span data-stu-id="1da42-198">Latency</span></span> | | | |
| <span data-ttu-id="1da42-199">Gemiddelde latentie</span><span class="sxs-lookup"><span data-stu-id="1da42-199">Average Latency</span></span> | | | |
| <span data-ttu-id="1da42-200">Met maximaal</span><span class="sxs-lookup"><span data-stu-id="1da42-200">Max.</span></span> <span data-ttu-id="1da42-201">CPU</span><span class="sxs-lookup"><span data-stu-id="1da42-201">CPU</span></span> | | | |
| <span data-ttu-id="1da42-202">Gemiddelde CPU</span><span class="sxs-lookup"><span data-stu-id="1da42-202">Average CPU</span></span> | | | |
| <span data-ttu-id="1da42-203">Met maximaal</span><span class="sxs-lookup"><span data-stu-id="1da42-203">Max.</span></span> <span data-ttu-id="1da42-204">Geheugen</span><span class="sxs-lookup"><span data-stu-id="1da42-204">Memory</span></span> | | | |
| <span data-ttu-id="1da42-205">Gemiddelde geheugen</span><span class="sxs-lookup"><span data-stu-id="1da42-205">Average Memory</span></span> | | | |
| <span data-ttu-id="1da42-206">Wachtrijdiepte</span><span class="sxs-lookup"><span data-stu-id="1da42-206">Queue Depth</span></span> | | | |

> [!NOTE]
> <span data-ttu-id="1da42-207">U moet overwegen deze getallen op basis van de verwachte toekomstige groei van uw toepassing schalen.</span><span class="sxs-lookup"><span data-stu-id="1da42-207">You should consider scaling these numbers based on expected future growth of your application.</span></span> <span data-ttu-id="1da42-208">Het is een goed idee tooplan groei tevoren, omdat deze mogelijk moeilijker toochange Hallo-infrastructuur voor het verbeteren van de prestaties later.</span><span class="sxs-lookup"><span data-stu-id="1da42-208">It is a good idea tooplan for growth ahead of time, because it could be harder toochange hello infrastructure for improving performance later.</span></span>
>
>

<span data-ttu-id="1da42-209">Als u een bestaande toepassing en toomove tooPremium opslag wilt, moet u eerst Hallo controlelijst hierboven voor de bestaande toepassing hello bouwen.</span><span class="sxs-lookup"><span data-stu-id="1da42-209">If you have an existing application and want toomove tooPremium Storage, first build hello checklist above for hello existing application.</span></span> <span data-ttu-id="1da42-210">Vervolgens kunt samenstellen van een prototype van uw toepassing op Premium-opslag- en ontwerpfase Hallo-toepassing op basis van de richtlijnen in *toepassingsprestaties optimaliseren* in verderop in dit document.</span><span class="sxs-lookup"><span data-stu-id="1da42-210">Then, build a prototype of your application on Premium Storage and design hello application based on guidelines described in *Optimizing Application Performance* in a later section of this document.</span></span> <span data-ttu-id="1da42-211">de volgende sectie Hallo beschrijft Hallo-hulpprogramma's kunt u toogather Hallo prestatiemetingen.</span><span class="sxs-lookup"><span data-stu-id="1da42-211">hello next section describes hello tools you can use toogather hello performance measurements.</span></span>

<span data-ttu-id="1da42-212">Maak een controlelijst vergelijkbare tooyour bestaande toepassing voor Hallo prototype.</span><span class="sxs-lookup"><span data-stu-id="1da42-212">Create a checklist similar tooyour existing application for hello prototype.</span></span> <span data-ttu-id="1da42-213">Met Benchmarking hulpprogramma's kunt u werkbelastingen Hallo simuleren en prestaties van een prototype-toepassing hello meten.</span><span class="sxs-lookup"><span data-stu-id="1da42-213">Using Benchmarking tools you can simulate hello workloads and measure performance on hello prototype application.</span></span> <span data-ttu-id="1da42-214">Zie de sectie Hallo over [Benchmarking](#benchmarking) toolearn meer.</span><span class="sxs-lookup"><span data-stu-id="1da42-214">See hello section on [Benchmarking](#benchmarking) toolearn more.</span></span> <span data-ttu-id="1da42-215">Hierdoor kunt u bepalen of Premium-opslag kan overeenkomen met of groter zijn dan de prestatie-eisen van uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-215">By doing so you can determine whether Premium Storage can match or surpass your application performance requirements.</span></span> <span data-ttu-id="1da42-216">Vervolgens kunt u implementeren Hallo dezelfde richtlijnen voor de productietoepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-216">Then you can implement hello same guidelines for your production application.</span></span>

### <a name="counters-toomeasure-application-performance-requirements"></a><span data-ttu-id="1da42-217">Prestatiemeteritems van de prestaties van toomeasure toepassingsvereisten</span><span class="sxs-lookup"><span data-stu-id="1da42-217">Counters toomeasure application performance requirements</span></span>
<span data-ttu-id="1da42-218">aanbevolen manier toomeasure prestatie-eisen van uw toepassing Hello, toouse prestatiebewaking hulpprogramma's van besturingssysteem Hallo van Hallo-server.</span><span class="sxs-lookup"><span data-stu-id="1da42-218">hello best way toomeasure performance requirements of your application, is toouse performance-monitoring tools provided by hello operating system of hello server.</span></span> <span data-ttu-id="1da42-219">U kunt PerfMon voor Windows- en iostat voor Linux.</span><span class="sxs-lookup"><span data-stu-id="1da42-219">You can use PerfMon for Windows and iostat for Linux.</span></span> <span data-ttu-id="1da42-220">Deze hulpprogramma's vastleggen tellers bijbehorende tooeach meting in Hallo boven sectie uitgelegd.</span><span class="sxs-lookup"><span data-stu-id="1da42-220">These tools capture counters corresponding tooeach measure explained in hello above section.</span></span> <span data-ttu-id="1da42-221">U moet waarden van deze prestatiemeteritems Hallo vastleggen als uw toepassing wordt uitgevoerd, zijn normaal, de piek- en rustige uren werkbelastingen.</span><span class="sxs-lookup"><span data-stu-id="1da42-221">You must capture hello values of these counters when your application is running its normal, peak and off-hours workloads.</span></span>

<span data-ttu-id="1da42-222">Hallo-prestatiemeteritems zijn beschikbaar voor de processor, geheugen, en elke logische schijf en de fysieke schijf van uw server.</span><span class="sxs-lookup"><span data-stu-id="1da42-222">hello PerfMon counters are available for processor, memory and, each logical disk and physical disk of your server.</span></span> <span data-ttu-id="1da42-223">Als u premium-opslag-schijven met een virtuele machine, Hallo fysieke schijf-items zijn voor elke schijf premium-opslag en de prestatiemeteritems voor logische schijf zijn voor elk volume dat is gemaakt op Hallo premium-opslag-schijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-223">When you use premium storage disks with a VM, hello physical disk counters are for each premium storage disk, and logical disk counters are for each volume created on hello premium storage disks.</span></span> <span data-ttu-id="1da42-224">U moet waarden voor Hallo-schijven die als host fungeren van de werkbelasting van uw toepassing hello vastleggen.</span><span class="sxs-lookup"><span data-stu-id="1da42-224">You must capture hello values for hello disks that host your application workload.</span></span> <span data-ttu-id="1da42-225">Als er een één tooone toewijzing tussen logische en fysieke schijven, raadpleegt u toophysical schijf tellers; Raadpleeg anders toohello logische schijf tellers.</span><span class="sxs-lookup"><span data-stu-id="1da42-225">If there is a one tooone mapping between logical and physical disks, you can refer toophysical disk counters; otherwise refer toohello logical disk counters.</span></span> <span data-ttu-id="1da42-226">Hallo iostat opdracht genereert op Linux, een CPU- en schijfresources utilization-rapport.</span><span class="sxs-lookup"><span data-stu-id="1da42-226">On Linux, hello iostat command generates a CPU and disk utilization report.</span></span> <span data-ttu-id="1da42-227">Hallo disk utilization-rapport voorziet in statistieken per fysieke apparaat of partitie.</span><span class="sxs-lookup"><span data-stu-id="1da42-227">hello disk utilization report provides statistics per physical device or partition.</span></span> <span data-ttu-id="1da42-228">Als u een databaseserver met de gegevens en logboekbestanden op afzonderlijke schijven hebt, kunt u deze gegevens voor beide schijven verzamelen.</span><span class="sxs-lookup"><span data-stu-id="1da42-228">If you have a database server with its data and log on separate disks, collect this data for both disks.</span></span> <span data-ttu-id="1da42-229">Onderstaande tabel worden beschreven tellers voor schijven, processor en geheugen:</span><span class="sxs-lookup"><span data-stu-id="1da42-229">Below table describes counters for disks, processor and memory:</span></span>

| <span data-ttu-id="1da42-230">Prestatiemeteritems</span><span class="sxs-lookup"><span data-stu-id="1da42-230">Counter</span></span> | <span data-ttu-id="1da42-231">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="1da42-231">Description</span></span> | <span data-ttu-id="1da42-232">PerfMon</span><span class="sxs-lookup"><span data-stu-id="1da42-232">PerfMon</span></span> | <span data-ttu-id="1da42-233">Iostat</span><span class="sxs-lookup"><span data-stu-id="1da42-233">Iostat</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="1da42-234">**IOPS of transacties per seconde**</span><span class="sxs-lookup"><span data-stu-id="1da42-234">**IOPS or Transactions per second**</span></span> |<span data-ttu-id="1da42-235">Het aantal i/o-aanvragen uitgegeven toohello opslagschijf voor de per seconde.</span><span class="sxs-lookup"><span data-stu-id="1da42-235">Number of I/O requests issued toohello storage disk per second.</span></span> |<span data-ttu-id="1da42-236">Schijf lezen per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-236">Disk Reads/sec</span></span> <br> <span data-ttu-id="1da42-237">Schijf schrijven per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-237">Disk Writes/sec</span></span> |<span data-ttu-id="1da42-238">tps</span><span class="sxs-lookup"><span data-stu-id="1da42-238">tps</span></span> <br> <span data-ttu-id="1da42-239">r/s</span><span class="sxs-lookup"><span data-stu-id="1da42-239">r/s</span></span> <br> <span data-ttu-id="1da42-240">w/s</span><span class="sxs-lookup"><span data-stu-id="1da42-240">w/s</span></span> |
| <span data-ttu-id="1da42-241">**Schijf lees- en schrijfbewerkingen**</span><span class="sxs-lookup"><span data-stu-id="1da42-241">**Disk Reads and Writes**</span></span> |<span data-ttu-id="1da42-242">% van de lees- en schrijfbewerkingen uitgevoerd op Hallo schijf.</span><span class="sxs-lookup"><span data-stu-id="1da42-242">% of Reads and Write operations performed on hello disk.</span></span> |<span data-ttu-id="1da42-243">Percentage schijftijd voor lezen</span><span class="sxs-lookup"><span data-stu-id="1da42-243">% Disk Read Time</span></span> <br> <span data-ttu-id="1da42-244">Percentage schijftijd voor schrijven</span><span class="sxs-lookup"><span data-stu-id="1da42-244">% Disk Write Time</span></span> |<span data-ttu-id="1da42-245">r/s</span><span class="sxs-lookup"><span data-stu-id="1da42-245">r/s</span></span> <br> <span data-ttu-id="1da42-246">w/s</span><span class="sxs-lookup"><span data-stu-id="1da42-246">w/s</span></span> |
| <span data-ttu-id="1da42-247">**Doorvoer**</span><span class="sxs-lookup"><span data-stu-id="1da42-247">**Throughput**</span></span> |<span data-ttu-id="1da42-248">De hoeveelheid gegevens lezen uit of schrijven toohello schijf per seconde.</span><span class="sxs-lookup"><span data-stu-id="1da42-248">Amount of data read from or written toohello disk per second.</span></span> |<span data-ttu-id="1da42-249">Gelezen Bytes per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-249">Disk Read Bytes/sec</span></span> <br> <span data-ttu-id="1da42-250">Geschreven Bytes per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-250">Disk Write Bytes/sec</span></span> |<span data-ttu-id="1da42-251">kB_read/s</span><span class="sxs-lookup"><span data-stu-id="1da42-251">kB_read/s</span></span> <br> <span data-ttu-id="1da42-252">kB_wrtn/s</span><span class="sxs-lookup"><span data-stu-id="1da42-252">kB_wrtn/s</span></span> |
| <span data-ttu-id="1da42-253">**Latentie**</span><span class="sxs-lookup"><span data-stu-id="1da42-253">**Latency**</span></span> |<span data-ttu-id="1da42-254">Totale tijd toocomplete een schijf-i/o-aanvraag.</span><span class="sxs-lookup"><span data-stu-id="1da42-254">Total time toocomplete a disk IO request.</span></span> |<span data-ttu-id="1da42-255">Gemiddelde leestijd voor schijf</span><span class="sxs-lookup"><span data-stu-id="1da42-255">Average Disk sec/Read</span></span> <br> <span data-ttu-id="1da42-256">Gemiddelde fysieke schijf</span><span class="sxs-lookup"><span data-stu-id="1da42-256">Average disk sec/Write</span></span> |<span data-ttu-id="1da42-257">await</span><span class="sxs-lookup"><span data-stu-id="1da42-257">await</span></span> <br> <span data-ttu-id="1da42-258">svctm</span><span class="sxs-lookup"><span data-stu-id="1da42-258">svctm</span></span> |
| <span data-ttu-id="1da42-259">**I/o-grootte**</span><span class="sxs-lookup"><span data-stu-id="1da42-259">**IO size**</span></span> |<span data-ttu-id="1da42-260">Hallo-grootte van i/o-aanvragen verstrekt toohello opslagschijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-260">hello size of I/O requests issues toohello storage disks.</span></span> |<span data-ttu-id="1da42-261">Gemiddeld aantal gelezen Bytes</span><span class="sxs-lookup"><span data-stu-id="1da42-261">Average Disk Bytes/Read</span></span> <br> <span data-ttu-id="1da42-262">Gemiddelde aantal geschreven Bytes</span><span class="sxs-lookup"><span data-stu-id="1da42-262">Average Disk Bytes/Write</span></span> |<span data-ttu-id="1da42-263">avgrq sz</span><span class="sxs-lookup"><span data-stu-id="1da42-263">avgrq-sz</span></span> |
| <span data-ttu-id="1da42-264">**Wachtrijdiepte**</span><span class="sxs-lookup"><span data-stu-id="1da42-264">**Queue Depth**</span></span> |<span data-ttu-id="1da42-265">Aantal openstaande i/o-wachttijd toobe formulier gelezen of geschreven toohello opslagschijf aanvragen.</span><span class="sxs-lookup"><span data-stu-id="1da42-265">Number of outstanding I/O requests waiting toobe read form or written toohello storage disk.</span></span> |<span data-ttu-id="1da42-266">Huidige wachtrijlengte voor schijf</span><span class="sxs-lookup"><span data-stu-id="1da42-266">Current Disk Queue Length</span></span> |<span data-ttu-id="1da42-267">avgqu sz</span><span class="sxs-lookup"><span data-stu-id="1da42-267">avgqu-sz</span></span> |
| <span data-ttu-id="1da42-268">**Max. Geheugen**</span><span class="sxs-lookup"><span data-stu-id="1da42-268">**Max. Memory**</span></span> |<span data-ttu-id="1da42-269">Hoeveelheid geheugen vereist toorun toepassing soepel</span><span class="sxs-lookup"><span data-stu-id="1da42-269">Amount of memory required toorun application smoothly</span></span> |<span data-ttu-id="1da42-270">Percentage toegewezen Bytes in gebruik</span><span class="sxs-lookup"><span data-stu-id="1da42-270">% Committed Bytes in Use</span></span> |<span data-ttu-id="1da42-271">Vmstat gebruiken</span><span class="sxs-lookup"><span data-stu-id="1da42-271">Use vmstat</span></span> |
| <span data-ttu-id="1da42-272">**Max. CPU**</span><span class="sxs-lookup"><span data-stu-id="1da42-272">**Max. CPU**</span></span> |<span data-ttu-id="1da42-273">De hoeveelheid CPU toorun toepassing soepel vereist</span><span class="sxs-lookup"><span data-stu-id="1da42-273">Amount CPU required toorun application smoothly</span></span> |<span data-ttu-id="1da42-274">Percentage processortijd</span><span class="sxs-lookup"><span data-stu-id="1da42-274">% Processor time</span></span> |<span data-ttu-id="1da42-275">% util</span><span class="sxs-lookup"><span data-stu-id="1da42-275">%util</span></span> |

<span data-ttu-id="1da42-276">Meer informatie over [iostat](http://linuxcommand.org/man_pages/iostat1.html) en [PerfMon](https://msdn.microsoft.com/library/aa645516.aspx).</span><span class="sxs-lookup"><span data-stu-id="1da42-276">Learn more about [iostat](http://linuxcommand.org/man_pages/iostat1.html) and [PerfMon](https://msdn.microsoft.com/library/aa645516.aspx).</span></span>

## <a name="optimizing-application-performance"></a><span data-ttu-id="1da42-277">Optimaliseert de prestaties van toepassingen</span><span class="sxs-lookup"><span data-stu-id="1da42-277">Optimizing Application Performance</span></span>
<span data-ttu-id="1da42-278">Hallo belangrijkste factoren die van invloed op prestaties van een toepassing die wordt uitgevoerd op de Premium-opslag zijn aard van i/o-aanvragen, VM-grootte, de grootte van de schijf, het aantal schijven, schijfcache, Multithreading en wachtrijdiepte.</span><span class="sxs-lookup"><span data-stu-id="1da42-278">hello main factors that influence performance of an application running on Premium Storage are Nature of IO Requests, VM size, Disk size, Number of disks, Disk Caching, Multithreading and Queue Depth.</span></span> <span data-ttu-id="1da42-279">U kunt sommige van deze factoren met knoppen geleverd door het Hallo-systeem beheren.</span><span class="sxs-lookup"><span data-stu-id="1da42-279">You can control some of these factors with knobs provided by hello system.</span></span> <span data-ttu-id="1da42-280">De meeste toepassingen mogelijk geen geven u een optie tooalter Hallo i/o-grootte en wachtrijdiepte rechtstreeks.</span><span class="sxs-lookup"><span data-stu-id="1da42-280">Most applications may not give you an option tooalter hello IO size and Queue Depth directly.</span></span> <span data-ttu-id="1da42-281">Bijvoorbeeld, als u SQL Server gebruikt, kiezen u niet Hallo IO diepte van grootte en wachtrij.</span><span class="sxs-lookup"><span data-stu-id="1da42-281">For example, if you are using SQL Server, you cannot choose hello IO size and queue depth.</span></span> <span data-ttu-id="1da42-282">SQL Server kiest Hallo optimale IO grootte en wachtrij diepte waarden tooget Hallo meeste prestaties.</span><span class="sxs-lookup"><span data-stu-id="1da42-282">SQL Server chooses hello optimal IO size and queue depth values tooget hello most performance.</span></span> <span data-ttu-id="1da42-283">Het is belangrijk toounderstand Hallo gevolgen van beide typen factoren op de toepassingsprestaties van uw, zodat u de juiste resources toomeet prestatievereisten past kunt inrichten.</span><span class="sxs-lookup"><span data-stu-id="1da42-283">It is important toounderstand hello effects of both types of factors on your application performance, so that you can provision appropriate resources toomeet performance needs.</span></span>

<span data-ttu-id="1da42-284">In deze sectie verwijzen toohello toepassing controlelijst voor de vereisten die u hebt gemaakt, tooidentify hoeveel u toooptimize de toepassingsprestaties van uw nodig.</span><span class="sxs-lookup"><span data-stu-id="1da42-284">Throughout this section, refer toohello application requirements checklist that you created, tooidentify how much you need toooptimize your application performance.</span></span> <span data-ttu-id="1da42-285">Op basis van dat u zich kunt toodetermine moet die factoren in deze sectie u tootune.</span><span class="sxs-lookup"><span data-stu-id="1da42-285">Based on that, you will be able toodetermine which factors from this section you will need tootune.</span></span> <span data-ttu-id="1da42-286">toowitness Hallo gevolgen van elke factor voor uw toepassingsprestaties uitvoeren benchmarking hulpprogramma's voor het installatieprogramma van de toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-286">toowitness hello effects of each factor on your application performance, run benchmarking tools on your application setup.</span></span> <span data-ttu-id="1da42-287">Raadpleeg toohello [Benchmarking](#Benchmarking) sectie op Hallo einde van dit artikel voor stappen toorun algemene benchmarking hulpprogramma's voor Windows en Linux-machines.</span><span class="sxs-lookup"><span data-stu-id="1da42-287">Refer toohello [Benchmarking](#Benchmarking) section at hello end of this article for steps toorun common benchmarking tools on Windows and Linux VMs.</span></span>

### <a name="optimizing-iops-throughput-and-latency-at-a-glance"></a><span data-ttu-id="1da42-288">IOPS, Throughput and Latency optimaliseren in één oogopslag</span><span class="sxs-lookup"><span data-stu-id="1da42-288">Optimizing IOPS, Throughput and Latency at a glance</span></span>
<span data-ttu-id="1da42-289">Hallo in de volgende tabel geeft een overzicht van alle Hallo prestatiefactoren en Hallo stappen toooptimize IOPS, doorvoer en latentie.</span><span class="sxs-lookup"><span data-stu-id="1da42-289">hello table below summarizes all hello performance factors and hello steps toooptimize IOPS, Throughput and Latency.</span></span> <span data-ttu-id="1da42-290">Hallo secties na dit overzicht bevat een beschrijving van elk factor is veel meer diepte.</span><span class="sxs-lookup"><span data-stu-id="1da42-290">hello sections following this summary will describe each factor is much more depth.</span></span>

| &nbsp; | <span data-ttu-id="1da42-291">**IOPS**</span><span class="sxs-lookup"><span data-stu-id="1da42-291">**IOPS**</span></span> | <span data-ttu-id="1da42-292">**Doorvoer**</span><span class="sxs-lookup"><span data-stu-id="1da42-292">**Throughput**</span></span> | <span data-ttu-id="1da42-293">**Latentie**</span><span class="sxs-lookup"><span data-stu-id="1da42-293">**Latency**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="1da42-294">**Voorbeeldscenario 's**</span><span class="sxs-lookup"><span data-stu-id="1da42-294">**Example Scenario**</span></span> |<span data-ttu-id="1da42-295">Enterprise OLTP-toepassing waarvoor zeer hoge transacties per tweede snelheid.</span><span class="sxs-lookup"><span data-stu-id="1da42-295">Enterprise OLTP application requiring very high transactions per second rate.</span></span> |<span data-ttu-id="1da42-296">Enterprise gegevensopslag toepassing verwerking van grote hoeveelheden gegevens.</span><span class="sxs-lookup"><span data-stu-id="1da42-296">Enterprise Data warehousing application processing large amounts of data.</span></span> |<span data-ttu-id="1da42-297">Bijna realtime toepassingen vereisen directe antwoorden toouser aanvragen, zoals online gaming.</span><span class="sxs-lookup"><span data-stu-id="1da42-297">Near real-time applications requiring instant responses toouser requests, like online gaming.</span></span> |
| <span data-ttu-id="1da42-298">Prestatiefactoren</span><span class="sxs-lookup"><span data-stu-id="1da42-298">Performance factors</span></span> | &nbsp; | &nbsp; | &nbsp; |
| <span data-ttu-id="1da42-299">**I/o-grootte**</span><span class="sxs-lookup"><span data-stu-id="1da42-299">**IO size**</span></span> |<span data-ttu-id="1da42-300">I/o-kleinere levert hogere IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-300">Smaller IO size yields higher IOPS.</span></span> |<span data-ttu-id="1da42-301">Grotere i/o-grootte tooyields hogere doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1da42-301">Larger IO size tooyields higher Throughput.</span></span> | &nbsp;|
| <span data-ttu-id="1da42-302">**VM-grootte**</span><span class="sxs-lookup"><span data-stu-id="1da42-302">**VM size**</span></span> |<span data-ttu-id="1da42-303">Gebruik een VM-grootte die groter zijn dan de vereisten voor toepassingsimplementatie IOPS biedt.</span><span class="sxs-lookup"><span data-stu-id="1da42-303">Use a VM size that offers IOPS greater than your application requirement.</span></span> <span data-ttu-id="1da42-304">Zie VM-grootten en hun IOPS-limieten.</span><span class="sxs-lookup"><span data-stu-id="1da42-304">See VM sizes and their IOPS limits here.</span></span> |<span data-ttu-id="1da42-305">Gebruik een VM-grootte met doorvoer limiet groter is dan de vereisten van uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-305">Use a VM size with Throughput limit greater than your application requirement.</span></span> <span data-ttu-id="1da42-306">VM-grootten en hun doorvoerlimieten hier zien.</span><span class="sxs-lookup"><span data-stu-id="1da42-306">See VM sizes and their Throughput limits here.</span></span> |<span data-ttu-id="1da42-307">Gebruik een VM-grootte of aanbiedingen limieten groter is dan de vereiste toepassing schalen.</span><span class="sxs-lookup"><span data-stu-id="1da42-307">Use a VM size that offers scale limits greater than your application requirement.</span></span> <span data-ttu-id="1da42-308">VM-grootten en hun limieten hier zien.</span><span class="sxs-lookup"><span data-stu-id="1da42-308">See VM sizes and their limits here.</span></span> |
| <span data-ttu-id="1da42-309">**Grootte van de schijf**</span><span class="sxs-lookup"><span data-stu-id="1da42-309">**Disk size**</span></span> |<span data-ttu-id="1da42-310">Gebruik een grootte van de schijf die groter zijn dan de vereisten voor toepassingsimplementatie IOPS biedt.</span><span class="sxs-lookup"><span data-stu-id="1da42-310">Use a disk size that offers IOPS greater than your application requirement.</span></span> <span data-ttu-id="1da42-311">Zie schijfgrootten en hun IOPS-limieten.</span><span class="sxs-lookup"><span data-stu-id="1da42-311">See disk sizes and their IOPS limits here.</span></span> |<span data-ttu-id="1da42-312">De grootte van een schijf met doorvoer limiet groter is dan de vereisten van uw toepassing gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1da42-312">Use a disk size with Throughput limit greater than your application requirement.</span></span> <span data-ttu-id="1da42-313">Zie schijfgrootten en hun doorvoerlimieten hier.</span><span class="sxs-lookup"><span data-stu-id="1da42-313">See disk sizes and their Throughput limits here.</span></span> |<span data-ttu-id="1da42-314">Gebruik een grootte van de schijf dat aanbiedingen limieten groter is dan de vereiste toepassing schalen.</span><span class="sxs-lookup"><span data-stu-id="1da42-314">Use a disk size that offers scale limits greater than your application requirement.</span></span> <span data-ttu-id="1da42-315">Zie schijfgrootten en hier hun limieten.</span><span class="sxs-lookup"><span data-stu-id="1da42-315">See disk sizes and their limits here.</span></span> |
| <span data-ttu-id="1da42-316">**Virtuele machine en Schaallimieten voor schijf**</span><span class="sxs-lookup"><span data-stu-id="1da42-316">**VM and Disk Scale Limits**</span></span> |<span data-ttu-id="1da42-317">Limiet van Hallo VM-grootte gekozen IOPS moet groter zijn dan de totale IOP's aangedreven door premium opslagschijven tooit gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="1da42-317">IOPS limit of hello VM size chosen should be greater than total IOPS driven by premium storage disks attached tooit.</span></span> |<span data-ttu-id="1da42-318">Limiet voor doorvoer van Hallo VM-grootte gekozen moet groter zijn dan de totale doorvoer aangedreven door premium opslagschijven tooit gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="1da42-318">Throughput limit of hello VM size chosen should be greater than total Throughput driven by premium storage disks attached tooit.</span></span> |<span data-ttu-id="1da42-319">Schaallimieten van Hallo VM-grootte gekozen moet groter zijn dan de totale schaallimieten van gekoppelde premium-opslag-schijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-319">Scale limits of hello VM size chosen must be greater than total scale limits of attached premium storage disks.</span></span> |
| <span data-ttu-id="1da42-320">**Schijfcache**</span><span class="sxs-lookup"><span data-stu-id="1da42-320">**Disk Caching**</span></span> |<span data-ttu-id="1da42-321">ReadOnly-Cache inschakelen op schijven met premium-opslag met lezen zware bewerkingen tooget hoger lezen IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-321">Enable ReadOnly Cache on premium storage disks with Read heavy operations tooget higher Read IOPS.</span></span> | &nbsp; |<span data-ttu-id="1da42-322">ReadOnly-Cache inschakelen op schijven met premium-opslag met gereed zware bewerkingen tooget zeer lage lezen latentie.</span><span class="sxs-lookup"><span data-stu-id="1da42-322">Enable ReadOnly Cache on premium storage disks with Ready heavy operations tooget very low Read latencies.</span></span> |
| <span data-ttu-id="1da42-323">**Striping van de schijf**</span><span class="sxs-lookup"><span data-stu-id="1da42-323">**Disk Striping**</span></span> |<span data-ttu-id="1da42-324">Gebruik van meerdere schijven en stripe ze samen tooget een gecombineerde hogere IOPS en doorvoer limiet.</span><span class="sxs-lookup"><span data-stu-id="1da42-324">Use multiple disks and stripe them together tooget a combined higher IOPS and Throughput limit.</span></span> <span data-ttu-id="1da42-325">Let op: Hallo gecombineerde limiet is per VM moet groter dan Hallo gecombineerde limieten van de gekoppelde premium-schijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-325">Note that hello combined limit per VM should be higher than hello combined limits of attached premium disks.</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="1da42-326">**Stripe-grootte**</span><span class="sxs-lookup"><span data-stu-id="1da42-326">**Stripe Size**</span></span> |<span data-ttu-id="1da42-327">Kleinere stripe voor willekeurige kleine i/o-patroon gezien in OLTP-toepassingen.</span><span class="sxs-lookup"><span data-stu-id="1da42-327">Smaller stripe size for random small IO pattern seen in OLTP applications.</span></span> <span data-ttu-id="1da42-328">Gebruik bijvoorbeeld stripe-grootte van 64KB voor SQL Server OLTP-toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-328">E.g., use stripe size of 64KB for SQL Server OLTP application.</span></span> |<span data-ttu-id="1da42-329">Grotere stripe voor opeenvolgende grote i/o-patroon gezien in de datawarehouse-toepassingen.</span><span class="sxs-lookup"><span data-stu-id="1da42-329">Larger stripe size for sequential large IO pattern seen in Data Warehouse applications.</span></span> <span data-ttu-id="1da42-330">Gebruik bijvoorbeeld 256KB stripe-grootte voor SQL Server Data warehouse-toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-330">E.g., use 256KB stripe size for SQL Server Data warehouse application.</span></span> | &nbsp; |
| <span data-ttu-id="1da42-331">**Multithreading**</span><span class="sxs-lookup"><span data-stu-id="1da42-331">**Multithreading**</span></span> |<span data-ttu-id="1da42-332">Gebruik multithreading toopush hoger aantal aanvragen tooPremium opslag die toohigher IOPS leiden en doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1da42-332">Use multithreading toopush higher number of requests tooPremium Storage that will lead toohigher IOPS and Throughput.</span></span> <span data-ttu-id="1da42-333">Bijvoorbeeld, stel SQL Server op een hoog MAXDOP waarde tooallocate meer CPU's tooSQL Server.</span><span class="sxs-lookup"><span data-stu-id="1da42-333">For example, on SQL Server set a high MAXDOP value tooallocate more CPUs tooSQL Server.</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="1da42-334">**Wachtrijdiepte**</span><span class="sxs-lookup"><span data-stu-id="1da42-334">**Queue Depth**</span></span> |<span data-ttu-id="1da42-335">Grotere wachtrijdiepte levert hogere IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-335">Larger Queue Depth yields higher IOPS.</span></span> |<span data-ttu-id="1da42-336">Grotere wachtrijdiepte levert hogere doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1da42-336">Larger Queue Depth yields higher Throughput.</span></span> |<span data-ttu-id="1da42-337">Kleinere wachtrijdiepte levert lagere latenties.</span><span class="sxs-lookup"><span data-stu-id="1da42-337">Smaller Queue Depth yields lower latencies.</span></span> |

## <a name="nature-of-io-requests"></a><span data-ttu-id="1da42-338">Aard van i/o-aanvragen</span><span class="sxs-lookup"><span data-stu-id="1da42-338">Nature of IO Requests</span></span>
<span data-ttu-id="1da42-339">Een i/o-aanvraag is een eenheid van i/o-bewerking die uw toepassing gaan uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="1da42-339">An IO request is a unit of input/output operation that your application will be performing.</span></span> <span data-ttu-id="1da42-340">Hallo aard van i/o-aanvragen, willekeurige of opeenvolgende, identificeren lezen of schrijven, klein of groot is, kunt u bepalen Hallo prestatie-eisen van uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-340">Identifying hello nature of IO requests, random or sequential, read or write, small or large, will help you determine hello performance requirements of your application.</span></span> <span data-ttu-id="1da42-341">Het is heel belangrijk toounderstand Hallo aard van i/o-aanvragen, toomake Hallo rechts beslissingen bij het ontwerpen van de infrastructuur van uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-341">It is very important toounderstand hello nature of IO requests, toomake hello right decisions when designing your application infrastructure.</span></span>

<span data-ttu-id="1da42-342">I/o-grootte is een van de Hallo meer belangrijke factoren.</span><span class="sxs-lookup"><span data-stu-id="1da42-342">IO size is one of hello more important factors.</span></span> <span data-ttu-id="1da42-343">Hallo i/o-grootte is Hallo grootte van Hallo i/o-bewerkingsaanvraag gegenereerd door uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-343">hello IO size is hello size of hello input/output operation request generated by your application.</span></span> <span data-ttu-id="1da42-344">Hallo i/o-grootte heeft een aanzienlijke invloed op prestaties vooral op Hallo IOPS en bandbreedte die toepassing hello kunnen tooachieve is.</span><span class="sxs-lookup"><span data-stu-id="1da42-344">hello IO size has a significant impact on performance especially on hello IOPS and Bandwidth that hello application is able tooachieve.</span></span> <span data-ttu-id="1da42-345">Hallo volgende formule toont Hallo relatie tussen IOP's, i/o-grootte en bandbreedte/doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1da42-345">hello following formula shows hello relationship between IOPS, IO size and Bandwidth/Throughput.</span></span>  
    ![](media/storage-premium-storage-performance/image1.png)

<span data-ttu-id="1da42-346">Sommige toepassingen kunnen u tooalter hun i/o-grootte, maar sommige toepassingen niet.</span><span class="sxs-lookup"><span data-stu-id="1da42-346">Some applications allow you tooalter their IO size, while some applications do not.</span></span> <span data-ttu-id="1da42-347">Bijvoorbeeld SQL Server bepaalt Hallo optimale grootte I/O zelf en biedt geen gebruikers met alle knoppen toochange deze.</span><span class="sxs-lookup"><span data-stu-id="1da42-347">For example, SQL Server determines hello optimal IO size itself, and does not provide users with any knobs toochange it.</span></span> <span data-ttu-id="1da42-348">Op Hallo daarentegen, Oracle biedt een parameter met de naam [DB\_blokkeren\_grootte](https://docs.oracle.com/cd/B19306_01/server.102/b14211/iodesign.htm#i28815) i/o-aanvraaggrootte van Hallo-database die u kunt configureren met behulp Hallo.</span><span class="sxs-lookup"><span data-stu-id="1da42-348">On hello other hand, Oracle provides a parameter called [DB\_BLOCK\_SIZE](https://docs.oracle.com/cd/B19306_01/server.102/b14211/iodesign.htm#i28815) using which you can configure hello I/O request size of hello database.</span></span>

<span data-ttu-id="1da42-349">Als u met behulp van een toepassing die u toochange Hallo i/o-grootte niet toestaat, gebruikt u Hallo richtlijnen in dit artikel toooptimize Hallo prestaties KPI die de meest relevante tooyour toepassing is.</span><span class="sxs-lookup"><span data-stu-id="1da42-349">If you are using an application, which does not allow you toochange hello IO size, use hello guidelines in this article toooptimize hello performance KPI that is most relevant tooyour application.</span></span> <span data-ttu-id="1da42-350">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="1da42-350">For example,</span></span>

* <span data-ttu-id="1da42-351">Een OLTP-toepassing genereert miljoenen kleine en willekeurige i/o-aanvragen.</span><span class="sxs-lookup"><span data-stu-id="1da42-351">An OLTP application generates millions of small and random IO requests.</span></span> <span data-ttu-id="1da42-352">Dit type i/o toohandle aanvraagt, moet u uw toepassing infrastructuur tooget ontwerpen hogere IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-352">toohandle these type of IO requests, you must design your application infrastructure tooget higher IOPS.</span></span>  
* <span data-ttu-id="1da42-353">Een datawarehouse-toepassing genereert grote en opeenvolgende i/o-aanvragen.</span><span class="sxs-lookup"><span data-stu-id="1da42-353">A data warehousing application generates large and sequential IO requests.</span></span> <span data-ttu-id="1da42-354">toohandle deze type i/o-aanvragen, moet u uw toepassing infrastructuur tooget hogere bandbreedte of doorvoer ontwerpen.</span><span class="sxs-lookup"><span data-stu-id="1da42-354">toohandle these type of IO requests, you must design your application infrastructure tooget higher Bandwidth or Throughput.</span></span>

<span data-ttu-id="1da42-355">Als u van een toepassing, waarmee u toochange Hallo i/o-grootte gebruikmaakt, gebruiken deze vuistregel voor Hallo IO grootte bovendien tooother prestaties richtlijnen</span><span class="sxs-lookup"><span data-stu-id="1da42-355">If you are using an application, which allows you toochange hello IO size, use this rule of thumb for hello IO size in addition tooother performance guidelines,</span></span>

* <span data-ttu-id="1da42-356">Kleinere i/o-grootte tooget hogere IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-356">Smaller IO size tooget higher IOPS.</span></span> <span data-ttu-id="1da42-357">Bijvoorbeeld: 8 KB voor een OLTP-toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-357">For example, 8 KB for an OLTP application.</span></span>  
* <span data-ttu-id="1da42-358">Grotere i/o-grootte tooget hogere bandbreedte/doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1da42-358">Larger IO size tooget higher Bandwidth/Throughput.</span></span> <span data-ttu-id="1da42-359">Bijvoorbeeld 1024 KB voor een datawarehouse-toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-359">For example, 1024 KB for a data warehouse application.</span></span>

<span data-ttu-id="1da42-360">Hier volgt een voorbeeld van hoe u Hallo IOPS en doorvoer/bandbreedte voor uw toepassing berekenen kunt.</span><span class="sxs-lookup"><span data-stu-id="1da42-360">Here is an example on how you can calculate hello IOPS and Throughput/Bandwidth for your application.</span></span> <span data-ttu-id="1da42-361">U kunt een toepassing met een schijf P30.</span><span class="sxs-lookup"><span data-stu-id="1da42-361">Consider an application using a P30 disk.</span></span> <span data-ttu-id="1da42-362">Hallo is maximumaantal IOPS en doorvoer/bandbreedte met een schijf P30 bereiken kunt 5000 IOP's en 200 MB per seconde respectievelijk.</span><span class="sxs-lookup"><span data-stu-id="1da42-362">hello maximum IOPS and Throughput/Bandwidth a P30 disk can achieve is 5000 IOPS and 200 MB per second respectively.</span></span> <span data-ttu-id="1da42-363">Als uw toepassing vereist Hallo die maximumaantal IOPS van Hallo P30 schijf en u gebruikt een kleinere IO zoals 8 KB hello waardoor u bandbreedte heeft kunt tooget nu 40 MB per seconde.</span><span class="sxs-lookup"><span data-stu-id="1da42-363">Now, if your application requires hello maximum IOPS from hello P30 disk and you use a smaller IO size like 8 KB, hello resulting Bandwidth you will be able tooget is 40 MB per second.</span></span> <span data-ttu-id="1da42-364">Als uw toepassing vereist Hallo maximale doorvoer/bandbreedte van P30 schijf en gebruik van i/o groter zoals 1024 KB, hello resulterende IOP's zijn echter minder 200 IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-364">However, if your application requires hello maximum Throughput/Bandwidth from P30 disk, and you use a larger IO size like 1024 KB, hello resulting IOPS will be less, 200 IOPS.</span></span> <span data-ttu-id="1da42-365">Daarom Hallo i/o-grootte instellen zodat deze voldoet aan de vereiste IOPS en doorvoer/bandbreedte van zowel uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-365">Therefore, tune hello IO size such that it meets both your application's IOPS and Throughput/Bandwidth requirement.</span></span> <span data-ttu-id="1da42-366">De volgende tabel geeft een overzicht van Hallo verschillende i/o-grootte en hun bijbehorende IOPS en Doorvoerlimieten voor een schijf P30.</span><span class="sxs-lookup"><span data-stu-id="1da42-366">Table below summarizes hello different IO sizes and their corresponding IOPS and Throughput for a P30 disk.</span></span>

| <span data-ttu-id="1da42-367">Vereisten voor toepassingsimplementatie</span><span class="sxs-lookup"><span data-stu-id="1da42-367">Application Requirement</span></span> | <span data-ttu-id="1da42-368">I/o-grootte</span><span class="sxs-lookup"><span data-stu-id="1da42-368">I/O size</span></span> | <span data-ttu-id="1da42-369">IOPS</span><span class="sxs-lookup"><span data-stu-id="1da42-369">IOPS</span></span> | <span data-ttu-id="1da42-370">Doorvoer/bandbreedte</span><span class="sxs-lookup"><span data-stu-id="1da42-370">Throughput/Bandwidth</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="1da42-371">Max. IOP 's</span><span class="sxs-lookup"><span data-stu-id="1da42-371">Max IOPS</span></span> |<span data-ttu-id="1da42-372">8 kB</span><span class="sxs-lookup"><span data-stu-id="1da42-372">8 KB</span></span> |<span data-ttu-id="1da42-373">5,000</span><span class="sxs-lookup"><span data-stu-id="1da42-373">5,000</span></span> |<span data-ttu-id="1da42-374">40 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-374">40 MB per second</span></span> |
| <span data-ttu-id="1da42-375">Maximale doorvoer</span><span class="sxs-lookup"><span data-stu-id="1da42-375">Max Throughput</span></span> |<span data-ttu-id="1da42-376">1024 KB</span><span class="sxs-lookup"><span data-stu-id="1da42-376">1024 KB</span></span> |<span data-ttu-id="1da42-377">200</span><span class="sxs-lookup"><span data-stu-id="1da42-377">200</span></span> |<span data-ttu-id="1da42-378">200 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-378">200 MB per second</span></span> |
| <span data-ttu-id="1da42-379">Maximale Throughput + hoge IOPS</span><span class="sxs-lookup"><span data-stu-id="1da42-379">Max Throughput + high IOPS</span></span> |<span data-ttu-id="1da42-380">64 kB</span><span class="sxs-lookup"><span data-stu-id="1da42-380">64 KB</span></span> |<span data-ttu-id="1da42-381">3,200</span><span class="sxs-lookup"><span data-stu-id="1da42-381">3,200</span></span> |<span data-ttu-id="1da42-382">200 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-382">200 MB per second</span></span> |
| <span data-ttu-id="1da42-383">Maximale IOPS + hoge doorvoersnelheid</span><span class="sxs-lookup"><span data-stu-id="1da42-383">Max IOPS + high Throughput</span></span> |<span data-ttu-id="1da42-384">32 KB</span><span class="sxs-lookup"><span data-stu-id="1da42-384">32 KB</span></span> |<span data-ttu-id="1da42-385">5,000</span><span class="sxs-lookup"><span data-stu-id="1da42-385">5,000</span></span> |<span data-ttu-id="1da42-386">160 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-386">160 MB per second</span></span> |

<span data-ttu-id="1da42-387">Gebruik meerdere premium-schijven samen striped tooget IOPS en bandbreedte die hoger is dan de maximumwaarde Hallo van een schijf één premium-opslag.</span><span class="sxs-lookup"><span data-stu-id="1da42-387">tooget IOPS and Bandwidth higher than hello maximum value of a single premium storage disk, use multiple premium disks striped together.</span></span> <span data-ttu-id="1da42-388">Bijvoorbeeld, stripe twee P30 schijven tooget een gecombineerde IOPS van 10.000 IOPS of een gecombineerde doorvoer van 400 MB per seconde.</span><span class="sxs-lookup"><span data-stu-id="1da42-388">For example, stripe two P30 disks tooget a combined IOPS of 10,000 IOPS or a combined Throughput of 400 MB per second.</span></span> <span data-ttu-id="1da42-389">Zoals wordt beschreven in de volgende sectie hello, moet u een VM-grootte die ondersteuning biedt voor Hallo gecombineerd schijf IOPS en doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1da42-389">As explained in hello next section, you must use a VM size that supports hello combined disk IOPS and Throughput.</span></span>

> [!NOTE]
> <span data-ttu-id="1da42-390">Als u beide IOPS vergroten of andere doorvoer Hallo ook verhoogt, zorg er dan voor dat u doorvoer of IOPS-limieten van Hallo schijf of virtuele machine niet bereikt wanneer ofwel een verhogen.</span><span class="sxs-lookup"><span data-stu-id="1da42-390">As you increase either IOPS or Throughput hello other also increases, make sure you do not hit throughput or IOPS limits of hello disk or VM when increasing either one.</span></span>
>
>

<span data-ttu-id="1da42-391">toowitness Hallo gevolgen van i/o-grootte voor de prestaties van toepassingen, kunt u benchmarking's uitvoeren op de virtuele machine en de schijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-391">toowitness hello effects of IO size on application performance, you can run benchmarking tools on your VM and disks.</span></span> <span data-ttu-id="1da42-392">Meerdere testruns maken en gebruiken van andere i/o-grootte voor elke uitvoering toosee Hallo impact.</span><span class="sxs-lookup"><span data-stu-id="1da42-392">Create multiple test runs and use different IO size for each run toosee hello impact.</span></span> <span data-ttu-id="1da42-393">Raadpleeg toohello [Benchmarking](#Benchmarking) sectie op Hallo einde van dit artikel voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="1da42-393">Refer toohello [Benchmarking](#Benchmarking) section at hello end of this article for more details.</span></span>

## <a name="high-scale-vm-sizes"></a><span data-ttu-id="1da42-394">VM-grootten van grote schaal</span><span class="sxs-lookup"><span data-stu-id="1da42-394">High Scale VM Sizes</span></span>
<span data-ttu-id="1da42-395">Wanneer u begint met het ontwerpen van een toepassing, is een van de eerste dingen toodo Hallo, kiest u een VM-toohost uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-395">When you start designing an application, one of hello first things toodo is, choose a VM toohost your application.</span></span> <span data-ttu-id="1da42-396">Premium-opslag wordt geleverd met hoge Scale VM-grootten die toepassingen waarbij hogere rekencapaciteit en een hoge lokale schijf i/o-prestaties kunnen worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="1da42-396">Premium Storage comes with High Scale VM sizes that can run applications requiring higher compute power and a high local disk I/O performance.</span></span> <span data-ttu-id="1da42-397">Deze virtuele machines bieden snellere processors, een hogere ratio van geheugen-core- en een Solid-State stations (SSD) voor de lokale schijf Hallo.</span><span class="sxs-lookup"><span data-stu-id="1da42-397">These VMs provide faster processors, a higher memory-to-core ratio, and a Solid-State Drive (SSD) for hello local disk.</span></span> <span data-ttu-id="1da42-398">Voorbeelden van hoge Scale VMs ondersteunende Premium-opslag zijn Hallo DS, DSv2 en GS-serie virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="1da42-398">Examples of High Scale VMs supporting Premium Storage are hello DS, DSv2 and GS series VMs.</span></span>

<span data-ttu-id="1da42-399">Maximale schaal VM's zijn beschikbaar in verschillende grootten met een verschillend aantal CPU-kernen, geheugen, OS en grootte van de tijdelijke schijf.</span><span class="sxs-lookup"><span data-stu-id="1da42-399">High Scale VMs are available in different sizes with a different number of CPU cores, memory, OS and temporary disk size.</span></span> <span data-ttu-id="1da42-400">Elk VM-grootte heeft ook het maximum aantal gegevensschijven dat kunt u toohello VM koppelen.</span><span class="sxs-lookup"><span data-stu-id="1da42-400">Each VM size also has maximum number of data disks that you can attach toohello VM.</span></span> <span data-ttu-id="1da42-401">Hallo gekozen VM-grootte heeft gevolgen hoeveel capaciteit verwerking, geheugen en opslagruimte beschikbaar is voor uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-401">Therefore, hello chosen VM size will affect how much processing, memory, and storage capacity is available for your application.</span></span> <span data-ttu-id="1da42-402">Het is ook van invloed op hello berekenings- en opslagkosten.</span><span class="sxs-lookup"><span data-stu-id="1da42-402">It also affects hello Compute and Storage cost.</span></span> <span data-ttu-id="1da42-403">Hieronder staat bijvoorbeeld Hallo specificaties van Hallo grootste VM-grootte in een DS-serie, DSv2 reeks en een GS-serie:</span><span class="sxs-lookup"><span data-stu-id="1da42-403">For example, below are hello specifications of hello largest VM size in a DS series, DSv2 series and a GS series:</span></span>

| <span data-ttu-id="1da42-404">VM-grootte</span><span class="sxs-lookup"><span data-stu-id="1da42-404">VM size</span></span> | <span data-ttu-id="1da42-405">CPU-kernen</span><span class="sxs-lookup"><span data-stu-id="1da42-405">CPU cores</span></span> | <span data-ttu-id="1da42-406">Geheugen</span><span class="sxs-lookup"><span data-stu-id="1da42-406">Memory</span></span> | <span data-ttu-id="1da42-407">Schijfgrootten VM</span><span class="sxs-lookup"><span data-stu-id="1da42-407">VM disk sizes</span></span> | <span data-ttu-id="1da42-408">Met maximaal</span><span class="sxs-lookup"><span data-stu-id="1da42-408">Max.</span></span> <span data-ttu-id="1da42-409">Gegevensschijven</span><span class="sxs-lookup"><span data-stu-id="1da42-409">data disks</span></span> | <span data-ttu-id="1da42-410">Cachegrootte</span><span class="sxs-lookup"><span data-stu-id="1da42-410">Cache size</span></span> | <span data-ttu-id="1da42-411">IOPS</span><span class="sxs-lookup"><span data-stu-id="1da42-411">IOPS</span></span> | <span data-ttu-id="1da42-412">Bandbreedtelimieten i/o-Cache</span><span class="sxs-lookup"><span data-stu-id="1da42-412">Bandwidth Cache IO limits</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="1da42-413">Standard_DS14</span><span class="sxs-lookup"><span data-stu-id="1da42-413">Standard_DS14</span></span> |<span data-ttu-id="1da42-414">16</span><span class="sxs-lookup"><span data-stu-id="1da42-414">16</span></span> |<span data-ttu-id="1da42-415">112 GB</span><span class="sxs-lookup"><span data-stu-id="1da42-415">112 GB</span></span> |<span data-ttu-id="1da42-416">OS = 1023 GB</span><span class="sxs-lookup"><span data-stu-id="1da42-416">OS = 1023 GB</span></span> <br> <span data-ttu-id="1da42-417">Lokale SSD = 224 GB</span><span class="sxs-lookup"><span data-stu-id="1da42-417">Local SSD = 224 GB</span></span> |<span data-ttu-id="1da42-418">32</span><span class="sxs-lookup"><span data-stu-id="1da42-418">32</span></span> |<span data-ttu-id="1da42-419">576 GB</span><span class="sxs-lookup"><span data-stu-id="1da42-419">576 GB</span></span> |<span data-ttu-id="1da42-420">50.000 IOP 'S</span><span class="sxs-lookup"><span data-stu-id="1da42-420">50,000 IOPS</span></span> <br> <span data-ttu-id="1da42-421">512 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-421">512 MB per second</span></span> |<span data-ttu-id="1da42-422">4000 IOPS en 33 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-422">4,000 IOPS and 33 MB per second</span></span> |
| <span data-ttu-id="1da42-423">Standard_GS5</span><span class="sxs-lookup"><span data-stu-id="1da42-423">Standard_GS5</span></span> |<span data-ttu-id="1da42-424">32</span><span class="sxs-lookup"><span data-stu-id="1da42-424">32</span></span> |<span data-ttu-id="1da42-425">448 GB</span><span class="sxs-lookup"><span data-stu-id="1da42-425">448 GB</span></span> |<span data-ttu-id="1da42-426">OS = 1023 GB</span><span class="sxs-lookup"><span data-stu-id="1da42-426">OS = 1023 GB</span></span> <br> <span data-ttu-id="1da42-427">Lokale SSD = 896 GB</span><span class="sxs-lookup"><span data-stu-id="1da42-427">Local SSD = 896 GB</span></span> |<span data-ttu-id="1da42-428">64</span><span class="sxs-lookup"><span data-stu-id="1da42-428">64</span></span> |<span data-ttu-id="1da42-429">4224 GB</span><span class="sxs-lookup"><span data-stu-id="1da42-429">4224 GB</span></span> |<span data-ttu-id="1da42-430">80.000 IOP 'S</span><span class="sxs-lookup"><span data-stu-id="1da42-430">80,000 IOPS</span></span> <br> <span data-ttu-id="1da42-431">2.000 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-431">2,000 MB per second</span></span> |<span data-ttu-id="1da42-432">5000 IOP's en 50 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-432">5,000 IOPS and 50 MB per second</span></span> |

<span data-ttu-id="1da42-433">een volledige lijst met alle beschikbare Azure VM-grootten tooview te verwijzen[Windows VM-grootten](../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) of [Linux VM-grootten](../virtual-machines/linux/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="1da42-433">tooview a complete list of all available Azure VM sizes, refer too[Windows VM sizes](../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) or [Linux VM sizes](../virtual-machines/linux/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="1da42-434">Kies een VM-grootte die kan voorzien en schaal tooyour gewenst toepassing prestatie-eisen.</span><span class="sxs-lookup"><span data-stu-id="1da42-434">Choose a VM size that can meet and scale tooyour desired application performance requirements.</span></span> <span data-ttu-id="1da42-435">Bovendien rekening toothis, volgen enkele belangrijke overwegingen bij het kiezen van de VM-grootten.</span><span class="sxs-lookup"><span data-stu-id="1da42-435">In addition toothis, take into account following important considerations when choosing VM sizes.</span></span>

<span data-ttu-id="1da42-436">*Schaallimieten*</span><span class="sxs-lookup"><span data-stu-id="1da42-436">*Scale Limits*</span></span>  
<span data-ttu-id="1da42-437">Hallo maximale IOPS-limieten per virtuele machine en per schijf zijn verschillende en onafhankelijk van elkaar.</span><span class="sxs-lookup"><span data-stu-id="1da42-437">hello maximum IOPS limits per VM and per disk are different and independent of each other.</span></span> <span data-ttu-id="1da42-438">Zorg ervoor dat de toepassing hello IOP's binnen de grenzen Hallo Hallo VM, evenals Hallo premium-schijven gekoppelde tooit van wordt bestuurd.</span><span class="sxs-lookup"><span data-stu-id="1da42-438">Make sure that hello application is driving IOPS within hello limits of hello VM as well as hello premium disks attached tooit.</span></span> <span data-ttu-id="1da42-439">Anders merken toepassingsprestaties beperking.</span><span class="sxs-lookup"><span data-stu-id="1da42-439">Otherwise, application performance will experience throttling.</span></span>

<span data-ttu-id="1da42-440">Stel bijvoorbeeld dat een vereiste toepassing is maximaal 4000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-440">As an example, suppose an application requirement is a maximum of 4,000 IOPS.</span></span> <span data-ttu-id="1da42-441">tooachieve deze, u bepaling een P30 schijf op een VM DS1.</span><span class="sxs-lookup"><span data-stu-id="1da42-441">tooachieve this, you provision a P30 disk on a DS1 VM.</span></span> <span data-ttu-id="1da42-442">Hallo P30 schijf kunt bieden tot too5, 000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-442">hello P30 disk can deliver up too5,000 IOPS.</span></span> <span data-ttu-id="1da42-443">Hallo DS1 VM is echter beperkt too3, 200 IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-443">However, hello DS1 VM is limited too3,200 IOPS.</span></span> <span data-ttu-id="1da42-444">Als gevolg daarvan kan Hallo toepassingsprestaties zal worden beperkt door Hallo VM grens bij 3200 IOPS en zullen er verminderde prestaties.</span><span class="sxs-lookup"><span data-stu-id="1da42-444">Consequently, hello application performance will be constrained by hello VM limit at 3,200 IOPS and there will be degraded performance.</span></span> <span data-ttu-id="1da42-445">tooprevent deze situatie, kiest u een virtuele machine en schijfgrootte die beide voldoen aan toepassingsvereisten.</span><span class="sxs-lookup"><span data-stu-id="1da42-445">tooprevent this situation, choose a VM and disk size that will both meet application requirements.</span></span>

<span data-ttu-id="1da42-446">*Kosten van bewerking*</span><span class="sxs-lookup"><span data-stu-id="1da42-446">*Cost of Operation*</span></span>  
<span data-ttu-id="1da42-447">In veel gevallen is het mogelijk dat de totale kosten van bewerking u Premium-opslag is lager dan het gebruik van de Standard-opslag.</span><span class="sxs-lookup"><span data-stu-id="1da42-447">In many cases, it is possible that your overall cost of operation using Premium Storage is lower than using Standard Storage.</span></span>

<span data-ttu-id="1da42-448">Neem bijvoorbeeld een toepassing 16.000 IOPS vereisen.</span><span class="sxs-lookup"><span data-stu-id="1da42-448">For example, consider an application requiring 16,000 IOPS.</span></span> <span data-ttu-id="1da42-449">tooachieve deze prestaties, moet u een standaard\_D14 Azure IaaS VM, waardoor een maximumaantal IOPS op 16.000 met 32 standaard opslagschijven voor 1 TB.</span><span class="sxs-lookup"><span data-stu-id="1da42-449">tooachieve this performance, you will need a Standard\_D14 Azure IaaS VM, which can give a maximum IOPS of 16,000 using 32 standard storage 1TB disks.</span></span> <span data-ttu-id="1da42-450">Elke schijf van 1TB standard-opslag kunt maximaal 500 IOPS bereiken.</span><span class="sxs-lookup"><span data-stu-id="1da42-450">Each 1TB standard storage disk can achieve a maximum of 500 IOPS.</span></span> <span data-ttu-id="1da42-451">Hallo geschatte kosten van deze virtuele machine per maand $1,570 zijn.</span><span class="sxs-lookup"><span data-stu-id="1da42-451">hello estimated cost of this VM per month will be $1,570.</span></span> <span data-ttu-id="1da42-452">maandelijkse kosten Hallo 32 standaardopslag schijven worden $1,638.</span><span class="sxs-lookup"><span data-stu-id="1da42-452">hello monthly cost of 32 standard storage disks will be $1,638.</span></span> <span data-ttu-id="1da42-453">Hallo geschatte totale maandelijkse kosten worden $3,208.</span><span class="sxs-lookup"><span data-stu-id="1da42-453">hello estimated total monthly cost will be $3,208.</span></span>

<span data-ttu-id="1da42-454">Echter, als u gehost Hallo dezelfde toepassing op Premium-opslag, moet u een kleinere VM en minder premium-opslag-schijven, waardoor de totale kosten Hallo.</span><span class="sxs-lookup"><span data-stu-id="1da42-454">However, if you hosted hello same application on Premium Storage, you will need a smaller VM size and fewer premium storage disks, thus reducing hello overall cost.</span></span> <span data-ttu-id="1da42-455">Een standaard\_DS13 VM Hallo 16.000 IOPS vereiste met vier P30 schijven kan worden voorzien.</span><span class="sxs-lookup"><span data-stu-id="1da42-455">A Standard\_DS13 VM can meet hello 16,000 IOPS requirement using four P30 disks.</span></span> <span data-ttu-id="1da42-456">Hallo DS13 VM heeft een maximumaantal IOPS op 25,600 en elke schijf P30 heeft een maximumaantal IOPS op 5.000.</span><span class="sxs-lookup"><span data-stu-id="1da42-456">hello DS13 VM has a maximum IOPS of 25,600 and each P30 disk has a maximum IOPS of 5,000.</span></span> <span data-ttu-id="1da42-457">Over het algemeen deze configuratie 5.000 x 4 = 20.000 kunt bereiken IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-457">Overall, this configuration can achieve 5,000 x 4 = 20,000 IOPS.</span></span> <span data-ttu-id="1da42-458">Hallo geschatte kosten van deze virtuele machine per maand $1,003 zijn.</span><span class="sxs-lookup"><span data-stu-id="1da42-458">hello estimated cost of this VM per month will be $1,003.</span></span> <span data-ttu-id="1da42-459">Hallo maandelijkse kosten van vier P30 premium-opslag-schijven worden $544.34.</span><span class="sxs-lookup"><span data-stu-id="1da42-459">hello monthly cost of four P30 premium storage disks will be $544.34.</span></span> <span data-ttu-id="1da42-460">Hallo geschatte totale maandelijkse kosten worden $1,544.</span><span class="sxs-lookup"><span data-stu-id="1da42-460">hello estimated total monthly cost will be $1,544.</span></span>

<span data-ttu-id="1da42-461">De volgende tabel geeft een overzicht van Hallo verdeling van de kosten van dit scenario voor Standard en Premium-opslag.</span><span class="sxs-lookup"><span data-stu-id="1da42-461">Table below summarizes hello cost breakdown of this scenario for Standard and Premium Storage.</span></span>

| &nbsp; | <span data-ttu-id="1da42-462">**Standard**</span><span class="sxs-lookup"><span data-stu-id="1da42-462">**Standard**</span></span> | <span data-ttu-id="1da42-463">**Premium**</span><span class="sxs-lookup"><span data-stu-id="1da42-463">**Premium**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="1da42-464">**Kosten van de virtuele machine per maand**</span><span class="sxs-lookup"><span data-stu-id="1da42-464">**Cost of VM per month**</span></span> |<span data-ttu-id="1da42-465">$1,570.58 (standaard\_D14)</span><span class="sxs-lookup"><span data-stu-id="1da42-465">$1,570.58 (Standard\_D14)</span></span> |<span data-ttu-id="1da42-466">$1,003.66 (standaard\_DS13)</span><span class="sxs-lookup"><span data-stu-id="1da42-466">$1,003.66 (Standard\_DS13)</span></span> |
| <span data-ttu-id="1da42-467">**Kost van schijven per maand**</span><span class="sxs-lookup"><span data-stu-id="1da42-467">**Cost of Disks per month**</span></span> |<span data-ttu-id="1da42-468">1,638.40 (32 x 1 TB schijven)</span><span class="sxs-lookup"><span data-stu-id="1da42-468">$1,638.40 (32 x 1 TB disks)</span></span> |<span data-ttu-id="1da42-469">544.34 (4 x P30 schijven)</span><span class="sxs-lookup"><span data-stu-id="1da42-469">$544.34 (4 x P30 disks)</span></span> |
| <span data-ttu-id="1da42-470">**Totale kosten per maand**</span><span class="sxs-lookup"><span data-stu-id="1da42-470">**Overall Cost per month**</span></span> |<span data-ttu-id="1da42-471">$3,208.98</span><span class="sxs-lookup"><span data-stu-id="1da42-471">$3,208.98</span></span> |<span data-ttu-id="1da42-472">$1,544.34</span><span class="sxs-lookup"><span data-stu-id="1da42-472">$1,544.34</span></span> |

<span data-ttu-id="1da42-473">*Linux-distributies*</span><span class="sxs-lookup"><span data-stu-id="1da42-473">*Linux Distros*</span></span>  

<span data-ttu-id="1da42-474">Met Azure Premium-opslag, beschikt u over Hallo hetzelfde niveau van de prestaties voor virtuele machines met Windows en Linux.</span><span class="sxs-lookup"><span data-stu-id="1da42-474">With Azure Premium Storage, you get hello same level of Performance for VMs running Windows and Linux.</span></span> <span data-ttu-id="1da42-475">We bieden ondersteuning voor veel versies van Linux-distributies en ziet u de volledige lijst Hallo [hier](../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="1da42-475">We support many flavors of Linux distros, and you can see hello complete list [here](../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="1da42-476">Het is belangrijk toonote verschillende distributies zijn beter geschikt voor verschillende typen werkbelastingen.</span><span class="sxs-lookup"><span data-stu-id="1da42-476">It is important toonote that different distros are better suited for different types of workloads.</span></span> <span data-ttu-id="1da42-477">U ziet, afhankelijk van Hallo distro die uw werkbelasting wordt uitgevoerd op verschillende prestatieniveaus.</span><span class="sxs-lookup"><span data-stu-id="1da42-477">You will see different levels of performance depending on hello distro your workload is running on.</span></span> <span data-ttu-id="1da42-478">Linux-distributies Hallo met uw toepassing testen en kies Hallo die het beste werkt.</span><span class="sxs-lookup"><span data-stu-id="1da42-478">Test hello Linux distros with your application and choose hello one that works best.</span></span>

<span data-ttu-id="1da42-479">Wanneer waarop Linux wordt uitgevoerd met Premium-opslag, controleert u de meest recente updates Hallo over de vereiste stuurprogramma's tooensure hoge prestaties.</span><span class="sxs-lookup"><span data-stu-id="1da42-479">When running Linux with Premium Storage, check hello latest updates about required drivers tooensure high performance.</span></span>

## <a name="premium-storage-disk-sizes"></a><span data-ttu-id="1da42-480">Schijfgrootte voor Premium-opslag</span><span class="sxs-lookup"><span data-stu-id="1da42-480">Premium Storage Disk Sizes</span></span>
<span data-ttu-id="1da42-481">Azure Premium-opslag biedt momenteel zeven schijfgrootten.</span><span class="sxs-lookup"><span data-stu-id="1da42-481">Azure Premium Storage offers seven disk sizes currently.</span></span> <span data-ttu-id="1da42-482">De grootte van elke schijf heeft de limiet van een andere schaal voor IOPS, bandbreedte en opslag.</span><span class="sxs-lookup"><span data-stu-id="1da42-482">Each disk size has a different scale limit for IOPS, Bandwidth and Storage.</span></span> <span data-ttu-id="1da42-483">Kies Hallo rechts Premium Storage schijfgrootte afhankelijk van de toepassingsvereisten Hallo en Hallo grote schaal VM-grootte.</span><span class="sxs-lookup"><span data-stu-id="1da42-483">Choose hello right Premium Storage Disk size depending on hello application requirements and hello high scale VM size.</span></span> <span data-ttu-id="1da42-484">Hallo in de volgende tabel toont Hallo zeven schijven grootten en hun mogelijkheden.</span><span class="sxs-lookup"><span data-stu-id="1da42-484">hello table below shows hello seven disks sizes and their capabilities.</span></span> <span data-ttu-id="1da42-485">P4 en P6 grootten zijn momenteel alleen ondersteund voor schijven die worden beheerd.</span><span class="sxs-lookup"><span data-stu-id="1da42-485">P4 and P6 sizes are currently only supported for Managed Disks.</span></span>

| <span data-ttu-id="1da42-486">Premium-schijven Type</span><span class="sxs-lookup"><span data-stu-id="1da42-486">Premium Disks Type</span></span>  | <span data-ttu-id="1da42-487">P4</span><span class="sxs-lookup"><span data-stu-id="1da42-487">P4</span></span>    | <span data-ttu-id="1da42-488">P6</span><span class="sxs-lookup"><span data-stu-id="1da42-488">P6</span></span>    | <span data-ttu-id="1da42-489">P10</span><span class="sxs-lookup"><span data-stu-id="1da42-489">P10</span></span>   | <span data-ttu-id="1da42-490">P20</span><span class="sxs-lookup"><span data-stu-id="1da42-490">P20</span></span>   | <span data-ttu-id="1da42-491">P30</span><span class="sxs-lookup"><span data-stu-id="1da42-491">P30</span></span>   | <span data-ttu-id="1da42-492">P40</span><span class="sxs-lookup"><span data-stu-id="1da42-492">P40</span></span>   | <span data-ttu-id="1da42-493">P50</span><span class="sxs-lookup"><span data-stu-id="1da42-493">P50</span></span>   | 
|---------------------|-------|-------|-------|-------|-------|-------|-------|
| <span data-ttu-id="1da42-494">Schijfgrootte</span><span class="sxs-lookup"><span data-stu-id="1da42-494">Disk size</span></span>           | <span data-ttu-id="1da42-495">32 GB</span><span class="sxs-lookup"><span data-stu-id="1da42-495">32 GB</span></span> | <span data-ttu-id="1da42-496">64 GB</span><span class="sxs-lookup"><span data-stu-id="1da42-496">64 GB</span></span> | <span data-ttu-id="1da42-497">128 GB</span><span class="sxs-lookup"><span data-stu-id="1da42-497">128 GB</span></span>| <span data-ttu-id="1da42-498">512 GB</span><span class="sxs-lookup"><span data-stu-id="1da42-498">512 GB</span></span>            | <span data-ttu-id="1da42-499">1024 GB (1 TB)</span><span class="sxs-lookup"><span data-stu-id="1da42-499">1024 GB (1 TB)</span></span>    | <span data-ttu-id="1da42-500">2048 GB (2 TB)</span><span class="sxs-lookup"><span data-stu-id="1da42-500">2048 GB (2 TB)</span></span>    | <span data-ttu-id="1da42-501">4095 GB (4 TB)</span><span class="sxs-lookup"><span data-stu-id="1da42-501">4095 GB (4 TB)</span></span>    | 
| <span data-ttu-id="1da42-502">IOP's per schijf</span><span class="sxs-lookup"><span data-stu-id="1da42-502">IOPS per disk</span></span>       | <span data-ttu-id="1da42-503">120</span><span class="sxs-lookup"><span data-stu-id="1da42-503">120</span></span>   | <span data-ttu-id="1da42-504">240</span><span class="sxs-lookup"><span data-stu-id="1da42-504">240</span></span>   | <span data-ttu-id="1da42-505">500</span><span class="sxs-lookup"><span data-stu-id="1da42-505">500</span></span>   | <span data-ttu-id="1da42-506">2300</span><span class="sxs-lookup"><span data-stu-id="1da42-506">2300</span></span>              | <span data-ttu-id="1da42-507">5000</span><span class="sxs-lookup"><span data-stu-id="1da42-507">5000</span></span>              | <span data-ttu-id="1da42-508">7500</span><span class="sxs-lookup"><span data-stu-id="1da42-508">7500</span></span>              | <span data-ttu-id="1da42-509">7500</span><span class="sxs-lookup"><span data-stu-id="1da42-509">7500</span></span>              | 
| <span data-ttu-id="1da42-510">Doorvoer per schijf</span><span class="sxs-lookup"><span data-stu-id="1da42-510">Throughput per disk</span></span> | <span data-ttu-id="1da42-511">25 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-511">25 MB per second</span></span>  | <span data-ttu-id="1da42-512">50 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-512">50 MB per second</span></span>  | <span data-ttu-id="1da42-513">100 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-513">100 MB per second</span></span> | <span data-ttu-id="1da42-514">150 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-514">150 MB per second</span></span> | <span data-ttu-id="1da42-515">200 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-515">200 MB per second</span></span> | <span data-ttu-id="1da42-516">250 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-516">250 MB per second</span></span> | <span data-ttu-id="1da42-517">250 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-517">250 MB per second</span></span> | 


<span data-ttu-id="1da42-518">Hoeveel schijven die u kiest, hangt Hallo schijf grootte gekozen.</span><span class="sxs-lookup"><span data-stu-id="1da42-518">How many disks you choose depends on hello disk size chosen.</span></span> <span data-ttu-id="1da42-519">U kunt één P50 schijf of meerdere P10 schijven toomeet uw vereisten voor toepassingsimplementatie.</span><span class="sxs-lookup"><span data-stu-id="1da42-519">You could use a single P50 disk or multiple P10 disks toomeet your application requirement.</span></span> <span data-ttu-id="1da42-520">Aandachtspunten voor gebruikersaccounts onderstaande waardoor Hallo keuze rekening.</span><span class="sxs-lookup"><span data-stu-id="1da42-520">Take into account considerations listed below when making hello choice.</span></span>

<span data-ttu-id="1da42-521">*Schaallimieten (IOPS en Doorvoerlimieten)*</span><span class="sxs-lookup"><span data-stu-id="1da42-521">*Scale Limits (IOPS and Throughput)*</span></span>  
<span data-ttu-id="1da42-522">Hallo IOPS en Doorvoerlimieten limieten van elke Premium-schijfgrootte is verschillende en onafhankelijk van schaallimieten voor Hallo VM.</span><span class="sxs-lookup"><span data-stu-id="1da42-522">hello IOPS and Throughput limits of each Premium disk size is different and independent from hello VM scale limits.</span></span> <span data-ttu-id="1da42-523">Zorg ervoor dat de totale IOP's Hallo en doorvoer van Hallo schijven zijn binnen de grenzen van de schaal van Hallo gekozen VM-grootte.</span><span class="sxs-lookup"><span data-stu-id="1da42-523">Make sure that hello total IOPS and Throughput from hello disks are within scale limits of hello chosen VM size.</span></span>

<span data-ttu-id="1da42-524">Bijvoorbeeld als een vereiste toepassing maximaal 250 MB per seconde doorvoer is en u gebruikmaakt van een VM DS4 met één P30 schijf.</span><span class="sxs-lookup"><span data-stu-id="1da42-524">For example, if an application requirement is a maximum of 250 MB/sec Throughput and you are using a DS4 VM with a single P30 disk.</span></span> <span data-ttu-id="1da42-525">Hallo DS4 VM kunt gaven ze too256 MB per seconde doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1da42-525">hello DS4 VM can give up too256 MB/sec Throughput.</span></span> <span data-ttu-id="1da42-526">Een enkele P30 schijf heeft echter doorvoer limiet van 200 MB per seconde. Hallo-toepassing wordt als gevolg daarvan kan worden beperkt op 200 MB per seconde vanwege toohello schijf limiet.</span><span class="sxs-lookup"><span data-stu-id="1da42-526">However, a single P30 disk has Throughput limit of 200 MB/sec. Consequently, hello application will be constrained at 200 MB/sec due toohello disk limit.</span></span> <span data-ttu-id="1da42-527">tooovercome deze limiet inrichten van meer dan één gegevens schijven toohello VM of het formaat van uw schijven tooP40 of P50.</span><span class="sxs-lookup"><span data-stu-id="1da42-527">tooovercome this limit, provision more than one data disks toohello VM or resize your disks tooP40 or P50.</span></span>

> [!NOTE]
> <span data-ttu-id="1da42-528">Leesbewerkingen geleverd door Hallo cache niet zijn opgenomen in Hallo schijf IOPS en doorvoer, toodisk limieten daarom geen onderwerpnaam.</span><span class="sxs-lookup"><span data-stu-id="1da42-528">Reads served by hello cache are not included in hello disk IOPS and Throughput, hence not subject toodisk limits.</span></span> <span data-ttu-id="1da42-529">Cache heeft de afzonderlijke IOPS en Doorvoerlimieten bereikt per VM.</span><span class="sxs-lookup"><span data-stu-id="1da42-529">Cache has its separate IOPS and Throughput limit per VM.</span></span>
>
> <span data-ttu-id="1da42-530">In eerste instantie zijn lees- en schrijfbewerkingen bijvoorbeeld 60MB per seconde en 40MB per seconde respectievelijk.</span><span class="sxs-lookup"><span data-stu-id="1da42-530">For example, initially your reads and writes are 60MB/sec and 40MB/sec respectively.</span></span> <span data-ttu-id="1da42-531">Na verloop van tijd Hallo cache warms up en meer en meer Hallo leesbewerkingen uit cache Hallo fungeert.</span><span class="sxs-lookup"><span data-stu-id="1da42-531">Over time, hello cache warms up and serves more and more of hello reads from hello cache.</span></span> <span data-ttu-id="1da42-532">Vervolgens kunt u hogere schrijven doorvoer van Hallo schijf ophalen.</span><span class="sxs-lookup"><span data-stu-id="1da42-532">Then, you can get higher write Throughput from hello disk.</span></span>
>
>

<span data-ttu-id="1da42-533">*Aantal schijven*</span><span class="sxs-lookup"><span data-stu-id="1da42-533">*Number of Disks*</span></span>  
<span data-ttu-id="1da42-534">Het aantal schijven u moet door het beoordelen van toepassingsvereisten Hallo bepalen.</span><span class="sxs-lookup"><span data-stu-id="1da42-534">Determine hello number of disks you will need by assessing application requirements.</span></span> <span data-ttu-id="1da42-535">Elk VM-grootte heeft ook een limiet op Hallo aantal schijven dat kunt u toohello VM koppelen.</span><span class="sxs-lookup"><span data-stu-id="1da42-535">Each VM size also has a limit on hello number of disks that you can attach toohello VM.</span></span> <span data-ttu-id="1da42-536">Dit is meestal tweemaal Hallo aantal kernen.</span><span class="sxs-lookup"><span data-stu-id="1da42-536">Typically, this is twice hello number of cores.</span></span> <span data-ttu-id="1da42-537">Zorg ervoor dat Hallo VM-grootte die u kiest, kan het aantal schijven nodig Hallo ondersteunen.</span><span class="sxs-lookup"><span data-stu-id="1da42-537">Ensure that hello VM size you choose can support hello number of disks needed.</span></span>

<span data-ttu-id="1da42-538">Vergeet niet Hallo Premium-opslag schijven hebben hogere prestaties tooStandard mogelijkheden ten opzichte van opslagschijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-538">Remember, hello Premium Storage disks have higher performance capabilities compared tooStandard Storage disks.</span></span> <span data-ttu-id="1da42-539">Dus als u uw toepassing van Azure IaaS VM standaardopslag tooPremium opslag gebruiken migreert, moet u waarschijnlijk minder premium-schijven tooachieve Hallo dezelfde of een hogere prestaties voor uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-539">Therefore, if you are migrating your application from Azure IaaS VM using Standard Storage tooPremium Storage, you will likely need fewer premium disks tooachieve hello same or higher performance for your application.</span></span>

## <a name="disk-caching"></a><span data-ttu-id="1da42-540">Schijfcache</span><span class="sxs-lookup"><span data-stu-id="1da42-540">Disk Caching</span></span>
<span data-ttu-id="1da42-541">Maximale schaal virtuele machines die gebruikmaken van Azure Premium-opslag hebben een meerlaagse caching-technologie BlobCache aangeroepen.</span><span class="sxs-lookup"><span data-stu-id="1da42-541">High Scale VMs that leverage Azure Premium Storage have a multi-tier caching technology called BlobCache.</span></span> <span data-ttu-id="1da42-542">BlobCache gebruikt een combinatie van Hallo RAM voor virtuele Machine en de lokale SSD voor opslaan in cache.</span><span class="sxs-lookup"><span data-stu-id="1da42-542">BlobCache uses a combination of hello Virtual Machine RAM and local SSD for caching.</span></span> <span data-ttu-id="1da42-543">Deze cache is beschikbaar voor permanente Hallo Premium-opslag-schijven en Hallo VM lokale schijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-543">This cache is available for hello Premium Storage persistent disks and hello VM local disks.</span></span> <span data-ttu-id="1da42-544">Deze cache-instelling is standaard ingesteld tooRead schrijftijd voor OS-schijven en alleen-lezen voor gegevensschijven gehost op Premium-opslag.</span><span class="sxs-lookup"><span data-stu-id="1da42-544">By default, this cache setting is set tooRead/Write for OS disks and ReadOnly for data disks hosted on Premium Storage.</span></span> <span data-ttu-id="1da42-545">Met de schijfcache is ingeschakeld op Hallo Premium-opslag-schijven, kunt Hallo grootschalige virtuele machines zeer hoge prestatieniveaus die groter is dan de onderliggende schijfprestaties Hallo bereiken.</span><span class="sxs-lookup"><span data-stu-id="1da42-545">With disk caching enabled on hello Premium Storage disks, hello high scale VMs can achieve extremely high levels of performance that exceed hello underlying disk performance.</span></span>

> [!WARNING]
> <span data-ttu-id="1da42-546">Wijzigen van Hallo cache-instelling van een Azure-schijf wordt losgekoppeld en opnieuw toegevoegd Hallo doelschijf is.</span><span class="sxs-lookup"><span data-stu-id="1da42-546">Changing hello cache setting of an Azure disk detaches and re-attaches hello target disk.</span></span> <span data-ttu-id="1da42-547">Als het Hallo-besturingssysteemschijf, kan Hallo VM opnieuw wordt opgestart.</span><span class="sxs-lookup"><span data-stu-id="1da42-547">If it is hello operating system disk, hello VM is restarted.</span></span> <span data-ttu-id="1da42-548">Stop alle toepassingen en services die kunnen worden beïnvloed door deze onderbreking voordat u Hallo schijfcache-instelling wijzigt.</span><span class="sxs-lookup"><span data-stu-id="1da42-548">Stop all applications/services that might be affected by this disruption before changing hello disk cache setting.</span></span>
>
>

<span data-ttu-id="1da42-549">toolearn meer informatie over hoe BlobCache werkt, raadpleegt u toohello binnen [Azure Premium-opslag](https://azure.microsoft.com/blog/azure-premium-storage-now-generally-available-2/) blogbericht.</span><span class="sxs-lookup"><span data-stu-id="1da42-549">toolearn more about how BlobCache works, refer toohello Inside [Azure Premium Storage](https://azure.microsoft.com/blog/azure-premium-storage-now-generally-available-2/) blog post.</span></span>

<span data-ttu-id="1da42-550">Het is belangrijk tooenable cache op de juiste set Hallo van schijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-550">It is important tooenable cache on hello right set of disks.</span></span> <span data-ttu-id="1da42-551">Of u moet inschakelen schijfcache op een schijf premium of niet hangen af van Hallo werkbelasting patroon die schijf verwerkt.</span><span class="sxs-lookup"><span data-stu-id="1da42-551">Whether you should enable disk caching on a premium disk or not will depend on hello workload pattern that disk will be handling.</span></span> <span data-ttu-id="1da42-552">De volgende tabel ziet u de Hallo standaard cache-instellingen voor het besturingssysteem en gegevensschijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-552">Table below shows hello default cache settings for OS and Data disks.</span></span>

| <span data-ttu-id="1da42-553">**Schijftype**</span><span class="sxs-lookup"><span data-stu-id="1da42-553">**Disk Type**</span></span> | <span data-ttu-id="1da42-554">**Standaardinstelling voor Cache**</span><span class="sxs-lookup"><span data-stu-id="1da42-554">**Default Cache Setting**</span></span> |
| --- | --- |
| <span data-ttu-id="1da42-555">Besturingssysteemschijf</span><span class="sxs-lookup"><span data-stu-id="1da42-555">OS disk</span></span> |<span data-ttu-id="1da42-556">ReadWrite</span><span class="sxs-lookup"><span data-stu-id="1da42-556">ReadWrite</span></span> |
| <span data-ttu-id="1da42-557">Gegevensschijf</span><span class="sxs-lookup"><span data-stu-id="1da42-557">Data disk</span></span> |<span data-ttu-id="1da42-558">Geen</span><span class="sxs-lookup"><span data-stu-id="1da42-558">None</span></span> |

<span data-ttu-id="1da42-559">Hieronder worden aanbevolen schijf cache-instellingen voor gegevensschijven, Hallo</span><span class="sxs-lookup"><span data-stu-id="1da42-559">Following are hello recommended disk cache settings for data disks,</span></span>

| <span data-ttu-id="1da42-560">**Instelling van de schijfcache**</span><span class="sxs-lookup"><span data-stu-id="1da42-560">**Disk Caching Setting**</span></span> | <span data-ttu-id="1da42-561">**Aanbeveling als toouse deze instelling**</span><span class="sxs-lookup"><span data-stu-id="1da42-561">**Recommendation on when toouse this setting**</span></span> |
| --- | --- |
| <span data-ttu-id="1da42-562">Geen</span><span class="sxs-lookup"><span data-stu-id="1da42-562">None</span></span> |<span data-ttu-id="1da42-563">Host-cache configureren als geen voor de alleen-schrijven en schrijven zware schijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-563">Configure host-cache as None for write-only and write-heavy disks.</span></span> |
| <span data-ttu-id="1da42-564">Alleen-lezen</span><span class="sxs-lookup"><span data-stu-id="1da42-564">ReadOnly</span></span> |<span data-ttu-id="1da42-565">Host-cache configureren als alleen-lezen voor alleen-lezen en alleen-lezen-schijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-565">Configure host-cache as ReadOnly for read-only and read-write disks.</span></span> |
| <span data-ttu-id="1da42-566">ReadWrite</span><span class="sxs-lookup"><span data-stu-id="1da42-566">ReadWrite</span></span> |<span data-ttu-id="1da42-567">Host-cache configureren zoals ReadWrite alleen als uw toepassing op correcte wijze schrijven in de cache toopersistent gegevensschijven opgeslagen wanneer deze nodig is.</span><span class="sxs-lookup"><span data-stu-id="1da42-567">Configure host-cache as ReadWrite only if your application properly  handles writing cached data toopersistent disks when needed.</span></span> |

<span data-ttu-id="1da42-568">*Alleen-lezen*</span><span class="sxs-lookup"><span data-stu-id="1da42-568">*ReadOnly*</span></span>  
<span data-ttu-id="1da42-569">U kunt door ReadOnly cachegebruik op Premium-opslag gegevens schijven te configureren, lage latentie voor lezen bereiken en zeer hoge lezen IOPS en Doorvoerlimieten ophalen voor uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-569">By configuring ReadOnly caching on Premium Storage data disks, you can achieve low Read latency and get very high Read IOPS and Throughput for your application.</span></span> <span data-ttu-id="1da42-570">Dit is vanwege twee redenen</span><span class="sxs-lookup"><span data-stu-id="1da42-570">This is due two reasons,</span></span>

1. <span data-ttu-id="1da42-571">Leesbewerkingen uitvoeren vanuit cache, die zich op Hallo VM geheugen en de lokale SSD, zijn veel sneller dan leesbewerkingen van de gegevensschijf hello, die zich op Hallo Azure blob-opslag.</span><span class="sxs-lookup"><span data-stu-id="1da42-571">Reads performed from cache, which is on hello VM memory and local SSD, are much faster than reads from hello data disk, which is on hello Azure blob storage.</span></span>  
2. <span data-ttu-id="1da42-572">Premium-opslag telt niet mee Hallo leesbewerkingen geleverd vanuit cache, naar Hallo schijf-IOPS en doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1da42-572">Premium Storage does not count hello Reads served from cache, towards hello disk IOPS and Throughput.</span></span> <span data-ttu-id="1da42-573">Uw toepassing is daarom kunnen tooachieve hogere totale IOP's en doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1da42-573">Therefore, your application is able tooachieve higher total IOPS and Throughput.</span></span>

<span data-ttu-id="1da42-574">*ReadWrite*</span><span class="sxs-lookup"><span data-stu-id="1da42-574">*ReadWrite*</span></span>  
<span data-ttu-id="1da42-575">Hallo OS schijven hebben standaard ReadWrite cachebewerkingen ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="1da42-575">By default, hello OS disks have ReadWrite caching enabled.</span></span> <span data-ttu-id="1da42-576">Ondersteuning voor cachegebruik op gegevens ook schijven ReadWrite onlangs toegevoegd.</span><span class="sxs-lookup"><span data-stu-id="1da42-576">We have recently added support for ReadWrite caching on data disks as well.</span></span> <span data-ttu-id="1da42-577">Als u van ReadWrite in cache opslaan gebruikmaakt, moet u een goede manier toowrite Hallo gegevens uit de cache toopersistent schijven hebben.</span><span class="sxs-lookup"><span data-stu-id="1da42-577">If you are using ReadWrite caching, you must have a proper way toowrite hello data from cache toopersistent disks.</span></span> <span data-ttu-id="1da42-578">Bijvoorbeeld, schrijven van SQL Server-ingangen in cache opgeslagen gegevens toohello permanente opslagschijven op een eigen.</span><span class="sxs-lookup"><span data-stu-id="1da42-578">For example, SQL Server handles writing cached data toohello persistent storage disks on its own.</span></span> <span data-ttu-id="1da42-579">ReadWrite cache gebruiken met een toepassing die niet persistent maken Hallo verwerkt vereist gegevens toodata verloren zijn gegaan, kan leiden als Hallo VM vastloopt.</span><span class="sxs-lookup"><span data-stu-id="1da42-579">Using ReadWrite cache with an application that does not handle persisting hello required data can lead toodata loss, if hello VM crashes.</span></span>

<span data-ttu-id="1da42-580">Als u bijvoorbeeld kunt u deze richtlijnen tooSQL Server toepassen uitgevoerd op de Premium-opslag door Hallo-volgende te doen</span><span class="sxs-lookup"><span data-stu-id="1da42-580">As an example, you can apply these guidelines tooSQL Server running on Premium Storage by doing hello following,</span></span>

1. <span data-ttu-id="1da42-581">'ReadOnly' cache configureren op de premium-opslag-schijven die als host fungeert voor gegevensbestanden.</span><span class="sxs-lookup"><span data-stu-id="1da42-581">Configure "ReadOnly" cache on premium storage disks hosting data files.</span></span>  
   <span data-ttu-id="1da42-582">a.</span><span class="sxs-lookup"><span data-stu-id="1da42-582">a.</span></span>  <span data-ttu-id="1da42-583">Hallo snelle leest uit cache lagere Hallo SQL Server-query-tijd omdat data-pagina's uit Hallo cache vergeleken toodirectly van gegevensschijven Hallo veel sneller worden opgehaald.</span><span class="sxs-lookup"><span data-stu-id="1da42-583">hello fast reads from cache lower hello SQL Server query time since data pages are retrieved much faster from hello cache compared toodirectly from hello data disks.</span></span>  
   <span data-ttu-id="1da42-584">b.</span><span class="sxs-lookup"><span data-stu-id="1da42-584">b.</span></span>  <span data-ttu-id="1da42-585">Leesbewerkingen uit cache verstrekken, betekent dat er is meer doorvoer van gegevensschijven premium beschikbaar.</span><span class="sxs-lookup"><span data-stu-id="1da42-585">Serving reads from cache, means there is additional Throughput available from premium data disks.</span></span> <span data-ttu-id="1da42-586">SQL Server kan gebruikmaken van deze extra doorvoer naar meer data-pagina's en andere bewerkingen zoals back-up/herstel ophalen, batch-belastingen en index wordt opnieuw gemaakt.</span><span class="sxs-lookup"><span data-stu-id="1da42-586">SQL Server can use this additional Throughput towards retrieving more data pages and other operations like backup/restore, batch loads, and index rebuilds.</span></span>  
2. <span data-ttu-id="1da42-587">Configureer 'None' cache op premium-opslag schijven hosting Hallo-logboekbestanden.</span><span class="sxs-lookup"><span data-stu-id="1da42-587">Configure "None" cache on premium storage disks hosting hello log files.</span></span>  
   <span data-ttu-id="1da42-588">a.</span><span class="sxs-lookup"><span data-stu-id="1da42-588">a.</span></span>  <span data-ttu-id="1da42-589">Logboekbestanden hebben voornamelijk schrijven zware bewerkingen.</span><span class="sxs-lookup"><span data-stu-id="1da42-589">Log files have primarily write-heavy operations.</span></span> <span data-ttu-id="1da42-590">Ze kunnen daarom niet gebruikmaken van Hallo ReadOnly-cache.</span><span class="sxs-lookup"><span data-stu-id="1da42-590">Therefore, they do not benefit from hello ReadOnly cache.</span></span>

## <a name="disk-striping"></a><span data-ttu-id="1da42-591">Striping van de schijf</span><span class="sxs-lookup"><span data-stu-id="1da42-591">Disk Striping</span></span>
<span data-ttu-id="1da42-592">Wanneer een grootschalige die virtuele machine is gekoppeld met verschillende premium permanente opslagschijven, Hallo schijven kan worden striped samen tooaggregate hun IOP's, bandbreedte en opslagcapaciteit.</span><span class="sxs-lookup"><span data-stu-id="1da42-592">When a high scale VM is attached with several premium storage persistent disks, hello disks can be striped together tooaggregate their IOPs, bandwidth, and storage capacity.</span></span>

<span data-ttu-id="1da42-593">Op Windows, kunt u schijven met opslagruimten toostripe samen gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1da42-593">On Windows, you can use Storage Spaces toostripe disks together.</span></span> <span data-ttu-id="1da42-594">U moet één kolom voor elke schijf in een pool configureren.</span><span class="sxs-lookup"><span data-stu-id="1da42-594">You must configure one column for each disk in a pool.</span></span> <span data-ttu-id="1da42-595">Anders kunt hello algehele prestaties van striped volumes lager zijn dan verwacht vanwege toouneven distributie van verkeer over Hallo-schijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-595">Otherwise, hello overall performance of striped volume can be lower than expected, due toouneven distribution of traffic across hello disks.</span></span>

<span data-ttu-id="1da42-596">Belangrijk: Met Server Manager UI, kunt u Hallo kunt u het totale aantal kolommen van too8 voor striped volumes instellen.</span><span class="sxs-lookup"><span data-stu-id="1da42-596">Important: Using Server Manager UI, you can set hello total number of columns up too8 for a striped volume.</span></span> <span data-ttu-id="1da42-597">Bij het toevoegen van meer dan 8 schijven, gebruikt u PowerShell toocreate Hallo volume.</span><span class="sxs-lookup"><span data-stu-id="1da42-597">When attaching more than 8 disks, use PowerShell toocreate hello volume.</span></span> <span data-ttu-id="1da42-598">Met behulp van PowerShell, kunt u instellen Hallo aantal kolommen gelijk toohello aantal schijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-598">Using PowerShell, you can set hello number of columns equal toohello number of disks.</span></span> <span data-ttu-id="1da42-599">Bijvoorbeeld, als er 16 schijven in een stripeset één; 16 kolommen opgeven in Hallo *NumberOfColumns* parameter Hallo *New-VirtualDisk* PowerShell-cmdlet.</span><span class="sxs-lookup"><span data-stu-id="1da42-599">For example, if there are 16 disks in a single stripe set; specify 16 columns in hello *NumberOfColumns* parameter of hello *New-VirtualDisk* PowerShell cmdlet.</span></span>

<span data-ttu-id="1da42-600">Op Linux, Hallo MDADM hulpprogramma toostripe schijven samen te gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1da42-600">On Linux, use hello MDADM utility toostripe disks together.</span></span> <span data-ttu-id="1da42-601">Voor gedetailleerde stappen op de schijven striping van Linux te verwijzen[Software-RAID configureren op Linux](../virtual-machines/linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="1da42-601">For detailed steps on striping disks on Linux refer too[Configure Software RAID on Linux](../virtual-machines/linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

<span data-ttu-id="1da42-602">*Stripe-grootte*</span><span class="sxs-lookup"><span data-stu-id="1da42-602">*Stripe Size*</span></span>  
<span data-ttu-id="1da42-603">Een belangrijke configuratie in striping van de schijf is Hallo stripe-grootte.</span><span class="sxs-lookup"><span data-stu-id="1da42-603">An important configuration in disk striping is hello stripe size.</span></span> <span data-ttu-id="1da42-604">Hallo stripe-grootte of blokgrootte is de kleinste chunk Hallo van gegevens die van toepassing op striped volumes kunt oplossen.</span><span class="sxs-lookup"><span data-stu-id="1da42-604">hello stripe size or block size is hello smallest chunk of data that application can address on a striped volume.</span></span> <span data-ttu-id="1da42-605">Hallo stripe grootte die u configureert, is afhankelijk van Hallo type toepassing en de aanvraag-patroon.</span><span class="sxs-lookup"><span data-stu-id="1da42-605">hello stripe size you configure depends on hello type of application and its request pattern.</span></span> <span data-ttu-id="1da42-606">Als u Hallo verkeerde stripe-grootte kiest, kan dit ertoe leiden tooIO uitlijning van gegevenstypen, wat toodegraded prestaties van uw toepassing leidt.</span><span class="sxs-lookup"><span data-stu-id="1da42-606">If you choose hello wrong stripe size, it could lead tooIO misalignment, which leads toodegraded performance of your application.</span></span>

<span data-ttu-id="1da42-607">Bijvoorbeeld, als een i/o-aanvraag die is gegenereerd door de toepassing groter dan de schijfgrootte stripe hello is, schrijft Hallo opslagsysteem deze over stripe eenheid grenzen op meer dan één schijf.</span><span class="sxs-lookup"><span data-stu-id="1da42-607">For example, if an IO request generated by your application is bigger than hello disk stripe size, hello storage system writes it across stripe unit boundaries on more than one disk.</span></span> <span data-ttu-id="1da42-608">Wanneer het is tijd tooaccess die gegevens hebt deze tooseek in meer dan één stripe eenheden toocomplete Hallo-aanvraag.</span><span class="sxs-lookup"><span data-stu-id="1da42-608">When it is time tooaccess that data, it will have tooseek across more than one stripe units toocomplete hello request.</span></span> <span data-ttu-id="1da42-609">Hallo cumulatieve effect van dit gedrag kan toosubstantial prestatievermindering leiden.</span><span class="sxs-lookup"><span data-stu-id="1da42-609">hello cumulative effect of such behavior can lead toosubstantial performance degradation.</span></span> <span data-ttu-id="1da42-610">Daarentegen als Hallo grootte voor i/o-aanvraag kleiner dan stripe-grootte is en als het willekeurig, Hallo i/o-aanvragen op Hallo dezelfde optellen kunnen schijf op Hallo een knelpunt veroorzaakt en uiteindelijk Hallo i/o-prestaties beïnvloeden.</span><span class="sxs-lookup"><span data-stu-id="1da42-610">On hello other hand, if hello IO request size is smaller than stripe size, and if it is random in nature, hello IO requests may add up on hello same disk causing a bottleneck and ultimately degrading hello IO performance.</span></span>

<span data-ttu-id="1da42-611">Afhankelijk van het soort werkbelasting Hallo uw toepassing wordt uitgevoerd, kies een passende stripe-grootte.</span><span class="sxs-lookup"><span data-stu-id="1da42-611">Depending on hello type of workload your application is running, choose an appropriate stripe size.</span></span> <span data-ttu-id="1da42-612">Gebruik een kleinere stripe voor willekeurige kleine i/o-aanvragen.</span><span class="sxs-lookup"><span data-stu-id="1da42-612">For random small IO requests, use a smaller stripe size.</span></span> <span data-ttu-id="1da42-613">Terwijl voor grote opeenvolgende i/o-aanvragen stripe groter gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1da42-613">Whereas, for large sequential IO requests use a larger stripe size.</span></span> <span data-ttu-id="1da42-614">Ontdek Hallo stripe aanbevelingen voor de grootte voor de toepassing hello dat u uitvoert op Premium-opslag.</span><span class="sxs-lookup"><span data-stu-id="1da42-614">Find out hello stripe size recommendations for hello application you will be running on Premium Storage.</span></span> <span data-ttu-id="1da42-615">Configureer stripe-grootte van 64KB voor OLTP-werkbelastingen en 256KB voor magazijnbeheer werkbelastingen van gegevens voor SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1da42-615">For SQL Server, configure stripe size of 64KB for OLTP workloads and 256KB for data warehousing workloads.</span></span> <span data-ttu-id="1da42-616">Zie [best practices prestaties for SQL Server op Azure Virtual machines](../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md#disks-guidance) toolearn meer.</span><span class="sxs-lookup"><span data-stu-id="1da42-616">See [Performance best practices for SQL Server on Azure VMs](../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md#disks-guidance) toolearn more.</span></span>

> [!NOTE]
> <span data-ttu-id="1da42-617">U kunt stripe samen een maximum van 32 premium-opslag-schijven op een DS-serie VM en 64 premium-opslag-schijven op een GS-serie VM.</span><span class="sxs-lookup"><span data-stu-id="1da42-617">You can stripe together a maximum of 32 premium storage disks on a DS series VM and 64 premium storage disks on a GS series VM.</span></span>
>
>

## <a name="multi-threading"></a><span data-ttu-id="1da42-618">Multithreading</span><span class="sxs-lookup"><span data-stu-id="1da42-618">Multi-threading</span></span>
<span data-ttu-id="1da42-619">Azure heeft Premium-opslag platform toobe massively parallelle ontworpen.</span><span class="sxs-lookup"><span data-stu-id="1da42-619">Azure has designed Premium Storage platform toobe massively parallel.</span></span> <span data-ttu-id="1da42-620">Een toepassing met meerdere threads realiseert daarom veel hogere prestaties dan een toepassing met één thread.</span><span class="sxs-lookup"><span data-stu-id="1da42-620">Therefore, a multi-threaded application achieves much higher performance than a single-threaded application.</span></span> <span data-ttu-id="1da42-621">Een toepassing met meerdere threads zijn taken opgesplitst in meerdere threads en verhoogt de efficiëntie van de uitvoering door met Hallo VM en schijf resources toohello maximum.</span><span class="sxs-lookup"><span data-stu-id="1da42-621">A multi-threaded application splits up its tasks across multiple threads and increases efficiency of its execution by utilizing hello VM and disk resources toohello maximum.</span></span>

<span data-ttu-id="1da42-622">Bijvoorbeeld, als uw toepassing wordt uitgevoerd op één kern VM met twee threads, kunt Hallo CPU schakelen tussen Hallo twee threads tooachieve efficiëntie.</span><span class="sxs-lookup"><span data-stu-id="1da42-622">For example, if your application is running on a single core VM using two threads, hello CPU can switch between hello two threads tooachieve efficiency.</span></span> <span data-ttu-id="1da42-623">Terwijl een thread op een schijf-i/o-toocomplete wacht, kunt Hallo CPU schakelen toohello andere thread.</span><span class="sxs-lookup"><span data-stu-id="1da42-623">While one thread is waiting on a disk IO toocomplete, hello CPU can switch toohello other thread.</span></span> <span data-ttu-id="1da42-624">Op deze manier doen twee threads meer dan één thread zou.</span><span class="sxs-lookup"><span data-stu-id="1da42-624">In this way, two threads can accomplish more than a single thread would.</span></span> <span data-ttu-id="1da42-625">Als Hallo VM meer dan één kern heeft, sneller het verdere uitgevoerd omdat elke core parallel taken kunt uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="1da42-625">If hello VM has more than one core, it further decreases running time since each core can execute tasks in parallel.</span></span>

<span data-ttu-id="1da42-626">U mogelijk niet kunnen toochange Hallo manier een gebruiksklare toepassing wordt geïmplementeerd op een enkele thread of multithreading.</span><span class="sxs-lookup"><span data-stu-id="1da42-626">You may not be able toochange hello way an off-the-shelf application implements single threading or multi-threading.</span></span> <span data-ttu-id="1da42-627">SQL Server is bijvoorbeeld geschikt is voor het verwerken van meerdere CPU en meerdere kernen.</span><span class="sxs-lookup"><span data-stu-id="1da42-627">For example, SQL Server is capable of handling multi-CPU and multi-core.</span></span> <span data-ttu-id="1da42-628">SQL Server besluit echter onder welke omstandigheden wordt deze gebruikmaken van een of meer threads tooprocess een query.</span><span class="sxs-lookup"><span data-stu-id="1da42-628">However, SQL Server decides under what conditions it will leverage one or more threads tooprocess a query.</span></span> <span data-ttu-id="1da42-629">Het kan query's uitvoeren en bouwen indexen met multithreading.</span><span class="sxs-lookup"><span data-stu-id="1da42-629">It can run queries and build indexes using multi-threading.</span></span> <span data-ttu-id="1da42-630">SQL Server gebruikt voor een query waarbij grote tabellen koppelen en gegevens worden gesorteerd voordat er wordt teruggekeerd toohello gebruiker, waarschijnlijk meerdere threads.</span><span class="sxs-lookup"><span data-stu-id="1da42-630">For a query that involves joining large tables and sorting data before returning toohello user, SQL Server will likely use multiple threads.</span></span> <span data-ttu-id="1da42-631">Een gebruiker kan echter niet instellen of SQL Server wordt uitgevoerd een query met een enkele thread of meerdere threads.</span><span class="sxs-lookup"><span data-stu-id="1da42-631">However, a user cannot control whether SQL Server executes a query using a single thread or multiple threads.</span></span>

<span data-ttu-id="1da42-632">Er zijn configuratie-instellingen die u en tooinfluence dit multithreading of een parallelle wijzigen kunt verwerking van een toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-632">There are configuration settings that you can alter tooinfluence this multi-threading or parallel processing of an application.</span></span> <span data-ttu-id="1da42-633">In geval van SQL Server is het bijvoorbeeld Hallo maximale mate van parallelle uitvoering configuratie.</span><span class="sxs-lookup"><span data-stu-id="1da42-633">For example, in case of SQL Server it is hello maximum Degree of Parallelism configuration.</span></span> <span data-ttu-id="1da42-634">Deze instelling aangeroepen MAXDOP, kunt u tooconfigure Hallo maximum aantal processors SQL Server gebruiken kunt bij het parallel verwerken.</span><span class="sxs-lookup"><span data-stu-id="1da42-634">This setting called MAXDOP, allows you tooconfigure hello maximum number of processors SQL Server can use when parallel processing.</span></span> <span data-ttu-id="1da42-635">U kunt MAXDOP voor afzonderlijke query's of indexbewerkingen configureren.</span><span class="sxs-lookup"><span data-stu-id="1da42-635">You can configure MAXDOP for individual queries or index operations.</span></span> <span data-ttu-id="1da42-636">Dit is nuttig wanneer u toobalance resources van uw systeem voor een kritieke toepassing prestaties wenst.</span><span class="sxs-lookup"><span data-stu-id="1da42-636">This is beneficial when you want toobalance resources of your system for a performance critical application.</span></span>

<span data-ttu-id="1da42-637">Stel dat uw toepassing met behulp van SQL Server wordt uitgevoerd een grote query en een indexbewerking Hallo hetzelfde moment.</span><span class="sxs-lookup"><span data-stu-id="1da42-637">For example, say your application using SQL Server is executing a large query and an index operation at hello same time.</span></span> <span data-ttu-id="1da42-638">Laat het ons wordt ervan uitgegaan dat u deze Hallo index bewerking toobe meer zodat vergeleken toohello grote query wilde.</span><span class="sxs-lookup"><span data-stu-id="1da42-638">Let us assume that you wanted hello index operation toobe more performant compared toohello large query.</span></span> <span data-ttu-id="1da42-639">In dat geval kunt u MAXDOP waarde van de index opnieuw toobe Hallo hoger is dan Hallo MAXDOP waarde voor Hallo query instellen.</span><span class="sxs-lookup"><span data-stu-id="1da42-639">In such a case, you can set MAXDOP value of hello index operation toobe higher than hello MAXDOP value for hello query.</span></span> <span data-ttu-id="1da42-640">Op deze manier SQL Server heeft meer aantal processors dat deze kan gebruikmaken van voor Hallo index bewerking vergeleken toohello aantal processors deze kan besteden toohello grote query.</span><span class="sxs-lookup"><span data-stu-id="1da42-640">This way, SQL Server has more number of processors that it can leverage for hello index operation compared toohello number of processors it can dedicate toohello large query.</span></span> <span data-ttu-id="1da42-641">Denk eraan dat u het aantal threads dat SQL Server wordt gebruikt voor elke bewerking Hallo zijn niet van invloed.</span><span class="sxs-lookup"><span data-stu-id="1da42-641">Remember, you do not control hello number of threads SQL Server will use for each operation.</span></span> <span data-ttu-id="1da42-642">U kunt bepalen Hallo kunt u het maximum aantal processors worden toegewezen voor multithreading.</span><span class="sxs-lookup"><span data-stu-id="1da42-642">You can control hello maximum number of processors being dedicated for multi-threading.</span></span>

<span data-ttu-id="1da42-643">Meer informatie over [graden van parallelle uitvoering](https://technet.microsoft.com/library/ms188611.aspx) in SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1da42-643">Learn more about [Degrees of Parallelism](https://technet.microsoft.com/library/ms188611.aspx) in SQL Server.</span></span> <span data-ttu-id="1da42-644">Ontdek dergelijke instellingen die van invloed zijn op multithreading in uw toepassing en de prestaties van de toooptimize configuraties.</span><span class="sxs-lookup"><span data-stu-id="1da42-644">Find out such settings that influence multi-threading in your application and their configurations toooptimize performance.</span></span>

## <a name="queue-depth"></a><span data-ttu-id="1da42-645">Wachtrijdiepte</span><span class="sxs-lookup"><span data-stu-id="1da42-645">Queue Depth</span></span>
<span data-ttu-id="1da42-646">Hallo wachtrijdiepte of wachtrijlengte of grootte van de wachtrij is Hallo aantal openstaande i/o-aanvragen in Hallo-systeem.</span><span class="sxs-lookup"><span data-stu-id="1da42-646">hello Queue Depth or Queue Length or Queue Size is hello number of pending IO requests in hello system.</span></span> <span data-ttu-id="1da42-647">Hallo-waarde van wachtrijdiepte bepaalt hoeveel i/o bewerkingen uw toepassing lijnen kunt, welke opslagschijven hello wordt verwerkt.</span><span class="sxs-lookup"><span data-stu-id="1da42-647">hello value of Queue Depth determines how many IO operations your application can line up, which hello storage disks will be processing.</span></span> <span data-ttu-id="1da42-648">Het is van invloed op alle Hallo drie toepassing prestatie-indicatoren die is besproken in dit artikel te weten, IOPS, doorvoer en latentie.</span><span class="sxs-lookup"><span data-stu-id="1da42-648">It affects all hello three application performance indicators that we discussed in this article viz., IOPS, Throughput and Latency.</span></span>

<span data-ttu-id="1da42-649">Wachtrij diepte en multithreading zijn nauw verwant zijn.</span><span class="sxs-lookup"><span data-stu-id="1da42-649">Queue Depth and multi-threading are closely related.</span></span> <span data-ttu-id="1da42-650">Hallo wachtrijdiepte waarde geeft aan hoeveel multithreading kan worden bereikt door Hallo-toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-650">hello Queue Depth value indicates how much multi-threading can be achieved by hello application.</span></span> <span data-ttu-id="1da42-651">Als Hallo wachtrijdiepte groot is, toepassing gelijktijdig kan worden uitgevoerd meer bewerkingen, met andere woorden, meer multithreading.</span><span class="sxs-lookup"><span data-stu-id="1da42-651">If hello Queue Depth is large, application can execute more operations concurrently, in other words, more multi-threading.</span></span> <span data-ttu-id="1da42-652">Als Hallo wachtrijdiepte klein is, zelfs als de toepassing met meerdere threads is, heeft dit niet voldoende aanvragen voor gelijktijdige uitvoering uitgelijnd.</span><span class="sxs-lookup"><span data-stu-id="1da42-652">If hello Queue Depth is small, even though application is multi-threaded, it will not have enough requests lined up for concurrent execution.</span></span>

<span data-ttu-id="1da42-653">Normaal gesproken uit Hallo rek toepassingen staan geen u wachtrijdiepte toochange hello, omdat als onjuist voert deze bewerkingen meer schade dan goed is ingesteld.</span><span class="sxs-lookup"><span data-stu-id="1da42-653">Typically, off hello shelf applications do not allow you toochange hello queue depth, because if set incorrectly it will do more harm than good.</span></span> <span data-ttu-id="1da42-654">Toepassingen wordt ingesteld Hallo Rechterwaarde van wachtrijdiepte tooget Hallo optimale prestaties.</span><span class="sxs-lookup"><span data-stu-id="1da42-654">Applications will set hello right value of queue depth tooget hello optimal performance.</span></span> <span data-ttu-id="1da42-655">Echter, het is belangrijk toounderstand dit concept, zodat voor het oplossen van prestatieproblemen met uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-655">However, it is important toounderstand this concept so that you can troubleshoot performance issues with your application.</span></span> <span data-ttu-id="1da42-656">U kunt ook Hallo gevolgen van het wachtrijdiepte zien door met het uitvoeren van benchmarking's op uw systeem.</span><span class="sxs-lookup"><span data-stu-id="1da42-656">You can also observe hello effects of queue depth by running benchmarking tools on your system.</span></span>

<span data-ttu-id="1da42-657">Sommige toepassingen bieden instellingen tooinfluence Hallo wachtrijdiepte.</span><span class="sxs-lookup"><span data-stu-id="1da42-657">Some applications provide settings tooinfluence hello Queue Depth.</span></span> <span data-ttu-id="1da42-658">Bijvoorbeeld, Hallo MAXDOP (maximale graad van parallelle uitvoering) instelling in SQL Server worden beschreven in de vorige sectie.</span><span class="sxs-lookup"><span data-stu-id="1da42-658">For example, hello MAXDOP (maximum degree of parallelism) setting in SQL Server explained in previous section.</span></span> <span data-ttu-id="1da42-659">MAXDOP is een manier tooinfluence wachtrijdiepte en multithreading, hoewel deze Hallo wachtrijdiepte waarde van SQL Server niet rechtstreeks wijzigen.</span><span class="sxs-lookup"><span data-stu-id="1da42-659">MAXDOP is a way tooinfluence Queue Depth and multi-threading, although it does not directly change hello Queue Depth value of SQL Server.</span></span>

<span data-ttu-id="1da42-660">*Hoge wachtrijdiepte*</span><span class="sxs-lookup"><span data-stu-id="1da42-660">*High Queue Depth*</span></span>  
<span data-ttu-id="1da42-661">Een hoge wachtrijdiepte meer bewerkingen op Hallo schijf wordt uitgelijnd.</span><span class="sxs-lookup"><span data-stu-id="1da42-661">A high queue depth lines up more operations on hello disk.</span></span> <span data-ttu-id="1da42-662">Hallo schijf kent de volgende aanvraag Hallo in de wachtrij tevoren.</span><span class="sxs-lookup"><span data-stu-id="1da42-662">hello disk knows hello next request in its queue ahead of time.</span></span> <span data-ttu-id="1da42-663">Als gevolg daarvan kan Hallo schijf bewerkingen tevoren plannen en op een optimale wijze worden verwerkt.</span><span class="sxs-lookup"><span data-stu-id="1da42-663">Consequently, hello disk can schedule operations ahead of time and process them in an optimal sequence.</span></span> <span data-ttu-id="1da42-664">Sinds de toepassing hello verzendt meer aanvragen toohello schijf, kan Hallo schijf meer parallelle IOs verwerken.</span><span class="sxs-lookup"><span data-stu-id="1da42-664">Since hello application is sending more requests toohello disk, hello disk can process more parallel IOs.</span></span> <span data-ttu-id="1da42-665">Uiteindelijk worden Hallo toepassing kunnen tooachieve hogere IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-665">Ultimately, hello application will be able tooachieve higher IOPS.</span></span> <span data-ttu-id="1da42-666">Sinds de toepassing meer aanvragen verwerkt, verhoogt hello totale doorvoer van de toepassing hello ook de.</span><span class="sxs-lookup"><span data-stu-id="1da42-666">Since application is processing more requests, hello total Throughput of hello application also increases.</span></span>

<span data-ttu-id="1da42-667">Normaal gesproken een toepassing kunt bereiken van maximale doorvoer met 8-16 + openstaande IO's per gekoppelde schijf.</span><span class="sxs-lookup"><span data-stu-id="1da42-667">Typically, an application can achieve maximum Throughput with 8-16+ outstanding IOs per attached disk.</span></span> <span data-ttu-id="1da42-668">Als een wachtrijdiepte een toepassing is niet voldoende IOs toohello system pushen en minder hoeveelheid in een bepaalde periode wordt verwerkt.</span><span class="sxs-lookup"><span data-stu-id="1da42-668">If a Queue Depth is one, application is not pushing enough IOs toohello system, and it will process less amount of in a given period.</span></span> <span data-ttu-id="1da42-669">Met andere woorden, minder doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1da42-669">In other words, less Throughput.</span></span>

<span data-ttu-id="1da42-670">Bijvoorbeeld, in SQL Server, instelling Hallo MAXDOP waarde voor een query te "4" informeert het SQL-Server die van toofour kernen tooexecute Hallo query kan worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="1da42-670">For example, in SQL Server, setting hello MAXDOP value for a query too"4" informs SQL Server that it can use up toofour cores tooexecute hello query.</span></span> <span data-ttu-id="1da42-671">SQL Server bepaalt wat de beste wachtrijdiepte waarde en Hallo aantal kernen voor het uitvoeren van de query Hallo is.</span><span class="sxs-lookup"><span data-stu-id="1da42-671">SQL Server will determine what is best queue depth value and hello number of cores for hello query execution.</span></span>

<span data-ttu-id="1da42-672">*Optimale wachtrijdiepte*</span><span class="sxs-lookup"><span data-stu-id="1da42-672">*Optimal Queue Depth*</span></span>  
<span data-ttu-id="1da42-673">Zeer hoge wachtrijdiepte waarde heeft ook de nadelen.</span><span class="sxs-lookup"><span data-stu-id="1da42-673">Very high queue depth value also has its drawbacks.</span></span> <span data-ttu-id="1da42-674">Als de wachtrijdiepte waarde is te hoog, toepassing hello toodrive geprobeerd zeer hoge IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-674">If queue depth value is too high, hello application will try toodrive very high IOPS.</span></span> <span data-ttu-id="1da42-675">Tenzij de toepassing heeft permanente schijven met voldoende ingerichte IOP's, kan dit toepassingslatenties negatief beïnvloeden.</span><span class="sxs-lookup"><span data-stu-id="1da42-675">Unless application has persistent disks with sufficient provisioned IOPS, this can negatively affect application latencies.</span></span> <span data-ttu-id="1da42-676">Volgende formule toont Hallo relatie tussen IOP's, latentie en wachtrijdiepte.</span><span class="sxs-lookup"><span data-stu-id="1da42-676">Following formula shows hello relationship between IOPS, Latency and Queue Depth.</span></span>  
    ![](media/storage-premium-storage-performance/image6.png)

<span data-ttu-id="1da42-677">U moet de wachtrijdiepte tooany hoge waarde, maar de optimale waarde tooan, die voldoende IOPS voor Hallo toepassing kan leveren zonder latenties niet configureren.</span><span class="sxs-lookup"><span data-stu-id="1da42-677">You should not configure Queue Depth tooany high value, but tooan optimal value, which can deliver enough IOPS for hello application without affecting latencies.</span></span> <span data-ttu-id="1da42-678">Bijvoorbeeld, als Hallo application latentie toobe 1 milliseconde moet, Hallo wachtrijdiepte vereist tooachieve 5000 IOP's is, Wachtrijdiepte = 5000 x 0,001 = 5.</span><span class="sxs-lookup"><span data-stu-id="1da42-678">For example, if hello application latency needs toobe 1 millisecond, hello Queue Depth required tooachieve 5,000 IOPS is, QD = 5000 x 0.001 = 5.</span></span>

<span data-ttu-id="1da42-679">*Wachtrijdiepte voor Striped volumes*</span><span class="sxs-lookup"><span data-stu-id="1da42-679">*Queue Depth for Striped Volume*</span></span>  
<span data-ttu-id="1da42-680">Voor een striped volume een hoog genoeg wachtrijdiepte te onderhouden zodat elke schijf een piek wachtrijdiepte afzonderlijk heeft.</span><span class="sxs-lookup"><span data-stu-id="1da42-680">For a striped volume, maintain a high enough queue depth such that, every disk has a peak queue depth individually.</span></span> <span data-ttu-id="1da42-681">Neem bijvoorbeeld een toepassing die een wachtrijdiepte van 2 pushes en er zijn 4 schijven in Hallo streep.</span><span class="sxs-lookup"><span data-stu-id="1da42-681">For example, consider an application that pushes a queue depth of 2 and there are 4 disks in hello stripe.</span></span> <span data-ttu-id="1da42-682">Hallo twee i/o-aanvragen gaat tootwo schijven en niet-actieve resterende van twee schijven zijn.</span><span class="sxs-lookup"><span data-stu-id="1da42-682">hello two IO requests will go tootwo disks and remaining two disks will be idle.</span></span> <span data-ttu-id="1da42-683">Daarom Hallo wachtrijdiepte configureren zodat alle Hallo schijven kunnen bezet zijn.</span><span class="sxs-lookup"><span data-stu-id="1da42-683">Therefore, configure hello queue depth such that all hello disks can be busy.</span></span> <span data-ttu-id="1da42-684">Formule hieronder ziet u hoe toodetermine Hallo wachtrijdiepte van striped volumes.</span><span class="sxs-lookup"><span data-stu-id="1da42-684">Formula below shows how toodetermine hello queue depth of striped volumes.</span></span>  
    ![](media/storage-premium-storage-performance/image7.png)

## <a name="throttling"></a><span data-ttu-id="1da42-685">Beperking</span><span class="sxs-lookup"><span data-stu-id="1da42-685">Throttling</span></span>
<span data-ttu-id="1da42-686">Azure Premium-opslag voorziet in een opgegeven aantal IOPS en Doorvoerlimieten afhankelijk van de VM-grootten Hallo en schijfgrootten die u kiest.</span><span class="sxs-lookup"><span data-stu-id="1da42-686">Azure Premium Storage provisions specified number of IOPS and Throughput depending on hello VM sizes and disk sizes you choose.</span></span> <span data-ttu-id="1da42-687">Telkens wanneer uw toepassing toodrive IOPS of doorvoer boven deze limieten probeert van welke Hallo VM of de schijf kan verwerken, wordt het Premium-opslag vertraging.</span><span class="sxs-lookup"><span data-stu-id="1da42-687">Anytime your application tries toodrive IOPS or Throughput above these limits of what hello VM or disk can handle, Premium Storage will throttle it.</span></span> <span data-ttu-id="1da42-688">Dit manifesten in de vorm Hallo van verminderde prestaties in uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-688">This manifests in hello form of degraded performance in your application.</span></span> <span data-ttu-id="1da42-689">Dit kan betekenen hogere latentie, doorvoer verlagen of IOPS verlagen.</span><span class="sxs-lookup"><span data-stu-id="1da42-689">This can mean higher latency, lower Throughput or lower IOPS.</span></span> <span data-ttu-id="1da42-690">Als Premium-opslag niet beperken biedt, wordt uw toepassing kan volledig mislukt door meer dan wat de daarbij behorende bronnen zijn geschikt om dat te bereiken.</span><span class="sxs-lookup"><span data-stu-id="1da42-690">If Premium Storage does not throttle, your application could completely fail by exceeding what its resources are capable of achieving.</span></span> <span data-ttu-id="1da42-691">Dus tooavoid prestaties vanwege problemen met toothrottling, altijd inrichten voldoende bronnen zijn voor uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-691">So, tooavoid performance issues due toothrottling, always provision sufficient resources for your application.</span></span> <span data-ttu-id="1da42-692">In overweging nemen we in Hallo VM-grootten en schijf grootten hierboven besproken.</span><span class="sxs-lookup"><span data-stu-id="1da42-692">Take into consideration what we discussed in hello VM sizes and Disk sizes sections above.</span></span> <span data-ttu-id="1da42-693">De beste manier toofigure Hallo benchmarking is welke bronnen moet u toohost uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="1da42-693">Benchmarking is hello best way toofigure out what resources you will need toohost your application.</span></span>

## <a name="benchmarking"></a><span data-ttu-id="1da42-694">Benchmarking</span><span class="sxs-lookup"><span data-stu-id="1da42-694">Benchmarking</span></span>
<span data-ttu-id="1da42-695">Benchmarking is Hallo proces simuleren van andere werkbelastingen op uw toepassing en de toepassingsprestaties Hallo voor elke werkbelasting te meten.</span><span class="sxs-lookup"><span data-stu-id="1da42-695">Benchmarking is hello process of simulating different workloads on your application and measuring hello application performance for each workload.</span></span> <span data-ttu-id="1da42-696">Hallo-stappen die worden beschreven in de vorige sectie hebt u Hallo toepassing prestatie-eisen verzameld.</span><span class="sxs-lookup"><span data-stu-id="1da42-696">Using hello steps described in an earlier section, you have gathered hello application performance requirements.</span></span> <span data-ttu-id="1da42-697">Door het uitvoeren van hulpprogramma's op Hallo virtuele machines die als host fungeert voor de toepassing hello benchmarking, kunt u bepalen Hallo prestatieniveaus die uw toepassing met Premium-opslag bereiken kunt.</span><span class="sxs-lookup"><span data-stu-id="1da42-697">By running benchmarking tools on hello VMs hosting hello application, you can determine hello performance levels that your application can achieve with Premium Storage.</span></span> <span data-ttu-id="1da42-698">In deze sectie bieden we u voorbeelden van benchmarks van een standaard DS14 VM ingericht met Azure Premium-opslag-schijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-698">In this section, we provide you examples of benchmarking a Standard DS14 VM provisioned with Azure Premium Storage disks.</span></span>

<span data-ttu-id="1da42-699">We hebben respectievelijk Iometer en FIO, algemene benchmarking's gebruikt voor Windows en Linux.</span><span class="sxs-lookup"><span data-stu-id="1da42-699">We have used common benchmarking tools Iometer and FIO, for Windows and Linux respectively.</span></span> <span data-ttu-id="1da42-700">Deze hulpprogramma's starten meerdere threads simuleren een productie-achtige werkbelasting en meting Hallo systeemprestaties.</span><span class="sxs-lookup"><span data-stu-id="1da42-700">These tools spawn multiple threads simulating a production like workload, and measure hello system performance.</span></span> <span data-ttu-id="1da42-701">U kunt ook een parameters zoals blok grootte en wachtrij diepte die u normaal gesproken niet voor een toepassing wijzigen configureren met de Hallo-hulpprogramma's.</span><span class="sxs-lookup"><span data-stu-id="1da42-701">Using hello tools you can also configure parameters like block size and queue depth, which you normally cannot change for an application.</span></span> <span data-ttu-id="1da42-702">Hiermee krijgt u meer flexibiliteit toodrive Hallo maximale prestaties op een grootschalige virtuele machine die zijn ingericht met premium-schijven voor verschillende soorten toepassingsworkloads.</span><span class="sxs-lookup"><span data-stu-id="1da42-702">This gives you more flexibility toodrive hello maximum performance on a high scale VM provisioned with premium disks for different types of application workloads.</span></span> <span data-ttu-id="1da42-703">meer informatie over elk benchmarking hulpprogramma vindt u toolearn [Iometer](http://www.iometer.org/) en [FIO](http://freecode.com/projects/fio).</span><span class="sxs-lookup"><span data-stu-id="1da42-703">toolearn more about each benchmarking tool visit [Iometer](http://www.iometer.org/) and [FIO](http://freecode.com/projects/fio).</span></span>

<span data-ttu-id="1da42-704">toofollow hello voorbeelden hieronder, een standaard DS14 VM maken en koppelen van 11 Premium-opslag schijven toohello VM.</span><span class="sxs-lookup"><span data-stu-id="1da42-704">toofollow hello examples below, create a Standard DS14 VM and attach 11 Premium Storage disks toohello VM.</span></span> <span data-ttu-id="1da42-705">Hallo 11 schijven 10 schijven configureren met hostcaching als 'Geen' en stripe ze naar een volume NoCacheWrites aangeroepen.</span><span class="sxs-lookup"><span data-stu-id="1da42-705">Of hello 11 disks, configure 10 disks with host caching as "None" and stripe them into a volume called NoCacheWrites.</span></span> <span data-ttu-id="1da42-706">Hostcaching als 'ReadOnly' op de resterende schijf Hallo configureren en een volume CacheReads aangeroepen met deze schijf maken.</span><span class="sxs-lookup"><span data-stu-id="1da42-706">Configure host caching as "ReadOnly" on hello remaining disk and create a volume called CacheReads with this disk.</span></span> <span data-ttu-id="1da42-707">Met deze instellingen, kunt u zich kunt toosee Hallo maximale lezen en schrijven prestaties van een standaard DS14 virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="1da42-707">Using this setup, you will be able toosee hello maximum Read and Write performance from a Standard DS14 VM.</span></span> <span data-ttu-id="1da42-708">Voor gedetailleerde stappen voor het maken van een VM DS14 met premium-schijven gaat te[maken en gebruiken een Premium-opslag-account voor een virtuele machine gegevensschijf](storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="1da42-708">For detailed steps about creating a DS14 VM with premium disks, go too[Create and use a Premium Storage account for a virtual machine data disk](storage-premium-storage.md).</span></span>

<span data-ttu-id="1da42-709">*Opwarmen van Cache Hallo*</span><span class="sxs-lookup"><span data-stu-id="1da42-709">*Warming up hello Cache*</span></span>  
<span data-ttu-id="1da42-710">Hallo-schijf met alleen-lezen-hostcaching kunnen toogive worden hogere IOPS dan Hallo schijf limiet.</span><span class="sxs-lookup"><span data-stu-id="1da42-710">hello disk with ReadOnly host caching will be able toogive higher IOPS than hello disk limit.</span></span> <span data-ttu-id="1da42-711">tooget dit maximum lezen prestaties uit Hallo host cache, u moet eerst oefenen cache op Hallo van deze schijf.</span><span class="sxs-lookup"><span data-stu-id="1da42-711">tooget this maximum read performance from hello host cache, first you must warm up hello cache of this disk.</span></span> <span data-ttu-id="1da42-712">Dit zorgt ervoor dat Hallo lezen IOs welke benchmarking hulpprogramma op CacheReads volume veranderingen daadwerkelijk treffers Hallo-cache en niet Hallo rechtstreeks.</span><span class="sxs-lookup"><span data-stu-id="1da42-712">This ensures that hello Read IOs which benchmarking tool will drive on CacheReads volume actually hits hello cache and not hello disk directly.</span></span> <span data-ttu-id="1da42-713">Hallo cache treffers leiden tot extra IOP's uit één cache Hallo schijf ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="1da42-713">hello cache hits result in additional IOPS from hello single cache enabled disk.</span></span>

> <span data-ttu-id="1da42-714">**Belangrijk:**</span><span class="sxs-lookup"><span data-stu-id="1da42-714">**Important:**</span></span>  
> <span data-ttu-id="1da42-715">U moet Hallo cache opgewarmd voordat benchmarking, wordt uitgevoerd telkens wanneer de VM opnieuw wordt opgestart.</span><span class="sxs-lookup"><span data-stu-id="1da42-715">You must warm up hello cache before running benchmarking, every time VM is rebooted.</span></span>
>
>

#### <a name="iometer"></a><span data-ttu-id="1da42-716">Iometer</span><span class="sxs-lookup"><span data-stu-id="1da42-716">Iometer</span></span>
<span data-ttu-id="1da42-717">[Download Hallo Iometer hulpprogramma](http://sourceforge.net/projects/iometer/files/iometer-stable/2006-07-27/iometer-2006.07.27.win32.i386-setup.exe/download) op Hallo VM.</span><span class="sxs-lookup"><span data-stu-id="1da42-717">[Download hello Iometer tool](http://sourceforge.net/projects/iometer/files/iometer-stable/2006-07-27/iometer-2006.07.27.win32.i386-setup.exe/download) on hello VM.</span></span>

<span data-ttu-id="1da42-718">*Testbestand*</span><span class="sxs-lookup"><span data-stu-id="1da42-718">*Test file*</span></span>  
<span data-ttu-id="1da42-719">Iometer maakt gebruik van een testbestand dat is opgeslagen op Hallo volume waarop u Hallo benchmarking test wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="1da42-719">Iometer uses a test file that is stored on hello volume on which you will run hello benchmarking test.</span></span> <span data-ttu-id="1da42-720">Deze stations leesbewerkingen en schrijfbewerkingen op deze test bestand toomeasure Hallo schijf IOPS en doorvoer.</span><span class="sxs-lookup"><span data-stu-id="1da42-720">It drives Reads and Writes on this test file toomeasure hello disk IOPS and Throughput.</span></span> <span data-ttu-id="1da42-721">Iometer maakt deze testbestand als u deze niet hebt opgegeven.</span><span class="sxs-lookup"><span data-stu-id="1da42-721">Iometer creates this test file if you have not provided one.</span></span> <span data-ttu-id="1da42-722">Een bestand voor het testen van 200GB iobw.tst aangeroepen op Hallo CacheReads en NoCacheWrites volumes maken.</span><span class="sxs-lookup"><span data-stu-id="1da42-722">Create a 200GB test file called iobw.tst on hello CacheReads and NoCacheWrites volumes.</span></span>

<span data-ttu-id="1da42-723">*Toegangsspecificaties*</span><span class="sxs-lookup"><span data-stu-id="1da42-723">*Access Specifications*</span></span>  
<span data-ttu-id="1da42-724">Hallo-specificaties, aanvragen i/o-grootte, % lezen/schrijven, willekeurige/sequentiële % zijn geconfigureerd met Hallo 'toegangsspecificaties' tabblad in Iometer.</span><span class="sxs-lookup"><span data-stu-id="1da42-724">hello specifications, request IO size, % read/write, % random/sequential are configured using hello "Access Specifications" tab in Iometer.</span></span> <span data-ttu-id="1da42-725">Maakt een access-specificatie voor elk Hallo scenario's die hieronder worden beschreven.</span><span class="sxs-lookup"><span data-stu-id="1da42-725">Create an access specification for each of hello scenarios described below.</span></span> <span data-ttu-id="1da42-726">Maak Hallo toegangsspecificaties en 'Opgeslagen' met een geschikte naam zoals – RandomWrites\_8 kB, RandomReads\_8 kB.</span><span class="sxs-lookup"><span data-stu-id="1da42-726">Create hello access specifications and "Save" with an appropriate name like – RandomWrites\_8K, RandomReads\_8K.</span></span> <span data-ttu-id="1da42-727">Selecteer overeenkomende specificatie Hallo bij het uitvoeren van testscenario Hallo.</span><span class="sxs-lookup"><span data-stu-id="1da42-727">Select hello corresponding specification when running hello test scenario.</span></span>

<span data-ttu-id="1da42-728">Een voorbeeld van de toegangsspecificaties voor maximale IOPS schrijven scenario wordt hieronder weergegeven</span><span class="sxs-lookup"><span data-stu-id="1da42-728">An example of access specifications for maximum Write IOPS scenario is shown below,</span></span>  
    ![](media/storage-premium-storage-performance/image8.png)

<span data-ttu-id="1da42-729">*Maximale IOPS Test specificaties*</span><span class="sxs-lookup"><span data-stu-id="1da42-729">*Maximum IOPS Test Specifications*</span></span>  
<span data-ttu-id="1da42-730">toodemonstrate maximale IOPs, kleinere aanvraag gebruiken.</span><span class="sxs-lookup"><span data-stu-id="1da42-730">toodemonstrate maximum IOPs, use smaller request size.</span></span> <span data-ttu-id="1da42-731">Gebruik van 8 kB aangevraagde grootte en maak specificaties voor willekeurige geschreven en gelezen.</span><span class="sxs-lookup"><span data-stu-id="1da42-731">Use 8K request size and create specifications for Random Writes and Reads.</span></span>

| <span data-ttu-id="1da42-732">Specificatie toegang</span><span class="sxs-lookup"><span data-stu-id="1da42-732">Access Specification</span></span> | <span data-ttu-id="1da42-733">De aanvraaggrootte van de</span><span class="sxs-lookup"><span data-stu-id="1da42-733">Request size</span></span> | <span data-ttu-id="1da42-734">Willekeurige %</span><span class="sxs-lookup"><span data-stu-id="1da42-734">Random %</span></span> | <span data-ttu-id="1da42-735">% Lezen</span><span class="sxs-lookup"><span data-stu-id="1da42-735">Read %</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="1da42-736">RandomWrites\_8 kB</span><span class="sxs-lookup"><span data-stu-id="1da42-736">RandomWrites\_8K</span></span> |<span data-ttu-id="1da42-737">8 KB</span><span class="sxs-lookup"><span data-stu-id="1da42-737">8K</span></span> |<span data-ttu-id="1da42-738">100</span><span class="sxs-lookup"><span data-stu-id="1da42-738">100</span></span> |<span data-ttu-id="1da42-739">0</span><span class="sxs-lookup"><span data-stu-id="1da42-739">0</span></span> |
| <span data-ttu-id="1da42-740">RandomReads\_8 kB</span><span class="sxs-lookup"><span data-stu-id="1da42-740">RandomReads\_8K</span></span> |<span data-ttu-id="1da42-741">8 KB</span><span class="sxs-lookup"><span data-stu-id="1da42-741">8K</span></span> |<span data-ttu-id="1da42-742">100</span><span class="sxs-lookup"><span data-stu-id="1da42-742">100</span></span> |<span data-ttu-id="1da42-743">100</span><span class="sxs-lookup"><span data-stu-id="1da42-743">100</span></span> |

<span data-ttu-id="1da42-744">*Maximale doorvoer Test specificaties*</span><span class="sxs-lookup"><span data-stu-id="1da42-744">*Maximum Throughput Test Specifications*</span></span>  
<span data-ttu-id="1da42-745">toodemonstrate maximale doorvoer, groter aanvraag voor gebruik.</span><span class="sxs-lookup"><span data-stu-id="1da42-745">toodemonstrate maximum Throughput, use larger request size.</span></span> <span data-ttu-id="1da42-746">De grootte van 64K aanvraag gebruiken en specificaties voor willekeurige schrijfbewerkingen en leesbewerkingen maken.</span><span class="sxs-lookup"><span data-stu-id="1da42-746">Use 64K request size and create specifications for Random Writes and Reads.</span></span>

| <span data-ttu-id="1da42-747">Specificatie toegang</span><span class="sxs-lookup"><span data-stu-id="1da42-747">Access Specification</span></span> | <span data-ttu-id="1da42-748">De aanvraaggrootte van de</span><span class="sxs-lookup"><span data-stu-id="1da42-748">Request size</span></span> | <span data-ttu-id="1da42-749">Willekeurige %</span><span class="sxs-lookup"><span data-stu-id="1da42-749">Random %</span></span> | <span data-ttu-id="1da42-750">% Lezen</span><span class="sxs-lookup"><span data-stu-id="1da42-750">Read %</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="1da42-751">RandomWrites\_64 kB</span><span class="sxs-lookup"><span data-stu-id="1da42-751">RandomWrites\_64K</span></span> |<span data-ttu-id="1da42-752">64 KB</span><span class="sxs-lookup"><span data-stu-id="1da42-752">64K</span></span> |<span data-ttu-id="1da42-753">100</span><span class="sxs-lookup"><span data-stu-id="1da42-753">100</span></span> |<span data-ttu-id="1da42-754">0</span><span class="sxs-lookup"><span data-stu-id="1da42-754">0</span></span> |
| <span data-ttu-id="1da42-755">RandomReads\_64 kB</span><span class="sxs-lookup"><span data-stu-id="1da42-755">RandomReads\_64K</span></span> |<span data-ttu-id="1da42-756">64 KB</span><span class="sxs-lookup"><span data-stu-id="1da42-756">64K</span></span> |<span data-ttu-id="1da42-757">100</span><span class="sxs-lookup"><span data-stu-id="1da42-757">100</span></span> |<span data-ttu-id="1da42-758">100</span><span class="sxs-lookup"><span data-stu-id="1da42-758">100</span></span> |

<span data-ttu-id="1da42-759">*Hallo Iometer Test uitgevoerd*</span><span class="sxs-lookup"><span data-stu-id="1da42-759">*Running hello Iometer Test*</span></span>  
<span data-ttu-id="1da42-760">Onderstaande toowarm cache Hallo stappen uitvoeren</span><span class="sxs-lookup"><span data-stu-id="1da42-760">Perform hello steps below toowarm up cache</span></span>

1. <span data-ttu-id="1da42-761">Twee toegangsspecificaties maken met de onderstaande waarden,</span><span class="sxs-lookup"><span data-stu-id="1da42-761">Create two access specifications with values shown below,</span></span>

   | <span data-ttu-id="1da42-762">Naam</span><span class="sxs-lookup"><span data-stu-id="1da42-762">Name</span></span> | <span data-ttu-id="1da42-763">De aanvraaggrootte van de</span><span class="sxs-lookup"><span data-stu-id="1da42-763">Request size</span></span> | <span data-ttu-id="1da42-764">Willekeurige %</span><span class="sxs-lookup"><span data-stu-id="1da42-764">Random %</span></span> | <span data-ttu-id="1da42-765">% Lezen</span><span class="sxs-lookup"><span data-stu-id="1da42-765">Read %</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="1da42-766">RandomWrites\_1 MB</span><span class="sxs-lookup"><span data-stu-id="1da42-766">RandomWrites\_1MB</span></span> |<span data-ttu-id="1da42-767">1MB</span><span class="sxs-lookup"><span data-stu-id="1da42-767">1MB</span></span> |<span data-ttu-id="1da42-768">100</span><span class="sxs-lookup"><span data-stu-id="1da42-768">100</span></span> |<span data-ttu-id="1da42-769">0</span><span class="sxs-lookup"><span data-stu-id="1da42-769">0</span></span> |
   | <span data-ttu-id="1da42-770">RandomReads\_1 MB</span><span class="sxs-lookup"><span data-stu-id="1da42-770">RandomReads\_1MB</span></span> |<span data-ttu-id="1da42-771">1MB</span><span class="sxs-lookup"><span data-stu-id="1da42-771">1MB</span></span> |<span data-ttu-id="1da42-772">100</span><span class="sxs-lookup"><span data-stu-id="1da42-772">100</span></span> |<span data-ttu-id="1da42-773">100</span><span class="sxs-lookup"><span data-stu-id="1da42-773">100</span></span> |
2. <span data-ttu-id="1da42-774">Hallo Iometer test voor het initialiseren van de cache-schijf met de volgende parameters worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="1da42-774">Run hello Iometer test for initializing cache disk with following parameters.</span></span> <span data-ttu-id="1da42-775">Drie werkthreads gebruiken voor het doelvolume Hallo en een wachtrijdiepte van 128.</span><span class="sxs-lookup"><span data-stu-id="1da42-775">Use three worker threads for hello target volume and a queue depth of 128.</span></span> <span data-ttu-id="1da42-776">Stel Hallo 'Uitvoeren tijd' duur van Hallo test too2hrs op Hallo 'Setup testen' tabblad.</span><span class="sxs-lookup"><span data-stu-id="1da42-776">Set hello "Run time" duration of hello test too2hrs on hello "Test Setup" tab.</span></span>

   | <span data-ttu-id="1da42-777">Scenario</span><span class="sxs-lookup"><span data-stu-id="1da42-777">Scenario</span></span> | <span data-ttu-id="1da42-778">Doelvolume</span><span class="sxs-lookup"><span data-stu-id="1da42-778">Target Volume</span></span> | <span data-ttu-id="1da42-779">Naam</span><span class="sxs-lookup"><span data-stu-id="1da42-779">Name</span></span> | <span data-ttu-id="1da42-780">Duur</span><span class="sxs-lookup"><span data-stu-id="1da42-780">Duration</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="1da42-781">Initialiseer de schijf Cache</span><span class="sxs-lookup"><span data-stu-id="1da42-781">Initialize Cache Disk</span></span> |<span data-ttu-id="1da42-782">CacheReads</span><span class="sxs-lookup"><span data-stu-id="1da42-782">CacheReads</span></span> |<span data-ttu-id="1da42-783">RandomWrites\_1 MB</span><span class="sxs-lookup"><span data-stu-id="1da42-783">RandomWrites\_1MB</span></span> |<span data-ttu-id="1da42-784">2hrs</span><span class="sxs-lookup"><span data-stu-id="1da42-784">2hrs</span></span> |
3. <span data-ttu-id="1da42-785">Hallo Iometer test voor het opwarmen van cache-schijf met de volgende parameters worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="1da42-785">Run hello Iometer test for warming up cache disk with following parameters.</span></span> <span data-ttu-id="1da42-786">Drie werkthreads gebruiken voor het doelvolume Hallo en een wachtrijdiepte van 128.</span><span class="sxs-lookup"><span data-stu-id="1da42-786">Use three worker threads for hello target volume and a queue depth of 128.</span></span> <span data-ttu-id="1da42-787">Stel Hallo 'Uitvoeren tijd' duur van Hallo test too2hrs op Hallo 'Setup testen' tabblad.</span><span class="sxs-lookup"><span data-stu-id="1da42-787">Set hello "Run time" duration of hello test too2hrs on hello "Test Setup" tab.</span></span>

   | <span data-ttu-id="1da42-788">Scenario</span><span class="sxs-lookup"><span data-stu-id="1da42-788">Scenario</span></span> | <span data-ttu-id="1da42-789">Doelvolume</span><span class="sxs-lookup"><span data-stu-id="1da42-789">Target Volume</span></span> | <span data-ttu-id="1da42-790">Naam</span><span class="sxs-lookup"><span data-stu-id="1da42-790">Name</span></span> | <span data-ttu-id="1da42-791">Duur</span><span class="sxs-lookup"><span data-stu-id="1da42-791">Duration</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="1da42-792">Warme van Cache-schijf</span><span class="sxs-lookup"><span data-stu-id="1da42-792">Warm up Cache Disk</span></span> |<span data-ttu-id="1da42-793">CacheReads</span><span class="sxs-lookup"><span data-stu-id="1da42-793">CacheReads</span></span> |<span data-ttu-id="1da42-794">RandomReads\_1 MB</span><span class="sxs-lookup"><span data-stu-id="1da42-794">RandomReads\_1MB</span></span> |<span data-ttu-id="1da42-795">2hrs</span><span class="sxs-lookup"><span data-stu-id="1da42-795">2hrs</span></span> |

<span data-ttu-id="1da42-796">Nadat de cache-schijf is opgewarmd, doorgaan met de onderstaande Testscenario's Hallo.</span><span class="sxs-lookup"><span data-stu-id="1da42-796">After cache disk is warmed up, proceed with hello test scenarios listed below.</span></span> <span data-ttu-id="1da42-797">toorun hello Iometer testen, gebruikt u ten minste drie worker threads voor **elke** volume als doel.</span><span class="sxs-lookup"><span data-stu-id="1da42-797">toorun hello Iometer test, use at least three worker threads for **each** target volume.</span></span> <span data-ttu-id="1da42-798">Voor elke werkthread Hallo doelvolume selecteert, wachtrijdiepte ingesteld en selecteert u een van de test-specificaties Hallo opgeslagen, zoals weergegeven in de tabel Hallo hieronder toorun Hallo bijbehorende test-scenario.</span><span class="sxs-lookup"><span data-stu-id="1da42-798">For each worker thread, select hello target volume, set queue depth and select one of hello saved test specifications, as shown in hello table below, toorun hello corresponding test scenario.</span></span> <span data-ttu-id="1da42-799">Hallo tabel toont ook verwachte resultaten voor IOPS en Doorvoerlimieten bij het uitvoeren van deze tests.</span><span class="sxs-lookup"><span data-stu-id="1da42-799">hello table also shows expected results for IOPS and Throughput when running these tests.</span></span> <span data-ttu-id="1da42-800">Voor alle scenario's is een kleine i/o-grootte van 8KB en een hoge wachtrijdiepte van 128 gebruikt.</span><span class="sxs-lookup"><span data-stu-id="1da42-800">For all scenarios, a small IO size of 8KB and a high queue depth of 128 is used.</span></span>

| <span data-ttu-id="1da42-801">Testscenario</span><span class="sxs-lookup"><span data-stu-id="1da42-801">Test Scenario</span></span> | <span data-ttu-id="1da42-802">Doelvolume</span><span class="sxs-lookup"><span data-stu-id="1da42-802">Target Volume</span></span> | <span data-ttu-id="1da42-803">Naam</span><span class="sxs-lookup"><span data-stu-id="1da42-803">Name</span></span> | <span data-ttu-id="1da42-804">Resultaat</span><span class="sxs-lookup"><span data-stu-id="1da42-804">Result</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="1da42-805">Met maximaal</span><span class="sxs-lookup"><span data-stu-id="1da42-805">Max.</span></span> <span data-ttu-id="1da42-806">Lees IOP 's</span><span class="sxs-lookup"><span data-stu-id="1da42-806">Read IOPS</span></span> |<span data-ttu-id="1da42-807">CacheReads</span><span class="sxs-lookup"><span data-stu-id="1da42-807">CacheReads</span></span> |<span data-ttu-id="1da42-808">RandomWrites\_8 kB</span><span class="sxs-lookup"><span data-stu-id="1da42-808">RandomWrites\_8K</span></span> |<span data-ttu-id="1da42-809">50.000 IOP 'S</span><span class="sxs-lookup"><span data-stu-id="1da42-809">50,000 IOPS</span></span> |
| <span data-ttu-id="1da42-810">Met maximaal</span><span class="sxs-lookup"><span data-stu-id="1da42-810">Max.</span></span> <span data-ttu-id="1da42-811">IOPS schrijven</span><span class="sxs-lookup"><span data-stu-id="1da42-811">Write IOPS</span></span> |<span data-ttu-id="1da42-812">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="1da42-812">NoCacheWrites</span></span> |<span data-ttu-id="1da42-813">RandomReads\_8 kB</span><span class="sxs-lookup"><span data-stu-id="1da42-813">RandomReads\_8K</span></span> |<span data-ttu-id="1da42-814">64.000 IOP 'S</span><span class="sxs-lookup"><span data-stu-id="1da42-814">64,000 IOPS</span></span> |
| <span data-ttu-id="1da42-815">Met maximaal</span><span class="sxs-lookup"><span data-stu-id="1da42-815">Max.</span></span> <span data-ttu-id="1da42-816">Gecombineerde IOP 's</span><span class="sxs-lookup"><span data-stu-id="1da42-816">Combined IOPS</span></span> |<span data-ttu-id="1da42-817">CacheReads</span><span class="sxs-lookup"><span data-stu-id="1da42-817">CacheReads</span></span> |<span data-ttu-id="1da42-818">RandomWrites\_8 kB</span><span class="sxs-lookup"><span data-stu-id="1da42-818">RandomWrites\_8K</span></span> |<span data-ttu-id="1da42-819">100.000 IOP 'S</span><span class="sxs-lookup"><span data-stu-id="1da42-819">100,000 IOPS</span></span> |
| <span data-ttu-id="1da42-820">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="1da42-820">NoCacheWrites</span></span> |<span data-ttu-id="1da42-821">RandomReads\_8 kB</span><span class="sxs-lookup"><span data-stu-id="1da42-821">RandomReads\_8K</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="1da42-822">Met maximaal</span><span class="sxs-lookup"><span data-stu-id="1da42-822">Max.</span></span> <span data-ttu-id="1da42-823">Lees MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-823">Read MB/sec</span></span> |<span data-ttu-id="1da42-824">CacheReads</span><span class="sxs-lookup"><span data-stu-id="1da42-824">CacheReads</span></span> |<span data-ttu-id="1da42-825">RandomWrites\_64 kB</span><span class="sxs-lookup"><span data-stu-id="1da42-825">RandomWrites\_64K</span></span> |<span data-ttu-id="1da42-826">524 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-826">524 MB/sec</span></span> |
| <span data-ttu-id="1da42-827">Met maximaal</span><span class="sxs-lookup"><span data-stu-id="1da42-827">Max.</span></span> <span data-ttu-id="1da42-828">Schrijven van MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-828">Write MB/sec</span></span> |<span data-ttu-id="1da42-829">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="1da42-829">NoCacheWrites</span></span> |<span data-ttu-id="1da42-830">RandomReads\_64 kB</span><span class="sxs-lookup"><span data-stu-id="1da42-830">RandomReads\_64K</span></span> |<span data-ttu-id="1da42-831">524 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-831">524 MB/sec</span></span> |
| <span data-ttu-id="1da42-832">Gecombineerde MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-832">Combined MB/sec</span></span> |<span data-ttu-id="1da42-833">CacheReads</span><span class="sxs-lookup"><span data-stu-id="1da42-833">CacheReads</span></span> |<span data-ttu-id="1da42-834">RandomWrites\_64 kB</span><span class="sxs-lookup"><span data-stu-id="1da42-834">RandomWrites\_64K</span></span> |<span data-ttu-id="1da42-835">1000 MB per seconde</span><span class="sxs-lookup"><span data-stu-id="1da42-835">1000 MB/sec</span></span> |
| <span data-ttu-id="1da42-836">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="1da42-836">NoCacheWrites</span></span> |<span data-ttu-id="1da42-837">RandomReads\_64 kB</span><span class="sxs-lookup"><span data-stu-id="1da42-837">RandomReads\_64K</span></span> | &nbsp; | &nbsp; |

<span data-ttu-id="1da42-838">Hieronder vindt u schermafbeeldingen Hallo Iometer testresultaten voor gecombineerde IOPS en Doorvoerlimieten scenario's.</span><span class="sxs-lookup"><span data-stu-id="1da42-838">Below are screenshots of hello Iometer test results for combined IOPS and Throughput scenarios.</span></span>

<span data-ttu-id="1da42-839">*Gecombineerde lees- en schrijfbewerkingen maximumaantal IOPS*</span><span class="sxs-lookup"><span data-stu-id="1da42-839">*Combined Reads and Writes Maximum IOPS*</span></span>  
![](media/storage-premium-storage-performance/image9.png)

<span data-ttu-id="1da42-840">*Gecombineerde lees- en schrijfbewerkingen maximale doorvoer*</span><span class="sxs-lookup"><span data-stu-id="1da42-840">*Combined Reads and Writes Maximum Throughput*</span></span>  
![](media/storage-premium-storage-performance/image10.png)

### <a name="fio"></a><span data-ttu-id="1da42-841">FIO</span><span class="sxs-lookup"><span data-stu-id="1da42-841">FIO</span></span>
<span data-ttu-id="1da42-842">FIO is een populair hulpprogramma toobenchmark opslag op Hallo virtuele Linux-machines.</span><span class="sxs-lookup"><span data-stu-id="1da42-842">FIO is a popular tool toobenchmark storage on hello Linux VMs.</span></span> <span data-ttu-id="1da42-843">Heeft Hallo flexibiliteit tooselect verschillende i/o-grootte, sequentiële of willekeurige lees- en schrijfbewerkingen.</span><span class="sxs-lookup"><span data-stu-id="1da42-843">It has hello flexibility tooselect different IO sizes, sequential or random reads and writes.</span></span> <span data-ttu-id="1da42-844">Hiermee wordt het werkthreads of processen tooperform Hallo opgegeven i/o-bewerkingen.</span><span class="sxs-lookup"><span data-stu-id="1da42-844">It spawns worker threads or processes tooperform hello specified I/O operations.</span></span> <span data-ttu-id="1da42-845">U kunt opgeven dat Hallo-type van i/o-bewerkingen die elke werkthread moet uitvoeren met behulp van taakbestanden.</span><span class="sxs-lookup"><span data-stu-id="1da42-845">You can specify hello type of I/O operations each worker thread must perform using job files.</span></span> <span data-ttu-id="1da42-846">Een taakbestand per scenario geïllustreerd in de onderstaande Hallo voorbeelden is gemaakt.</span><span class="sxs-lookup"><span data-stu-id="1da42-846">We created one job file per scenario illustrated in hello examples below.</span></span> <span data-ttu-id="1da42-847">Hallo-specificaties in deze taak bestanden toobenchmark verschillende workloads die worden uitgevoerd op de Premium-opslag, kunt u wijzigen.</span><span class="sxs-lookup"><span data-stu-id="1da42-847">You can change hello specifications in these job files toobenchmark different workloads running on Premium Storage.</span></span> <span data-ttu-id="1da42-848">In de voorbeelden hello, gebruiken we een actieve standaard DS 14 VM **Ubuntu**.</span><span class="sxs-lookup"><span data-stu-id="1da42-848">In hello examples, we are using a Standard DS 14 VM running **Ubuntu**.</span></span> <span data-ttu-id="1da42-849">Gebruik Hallo dezelfde instellingen die zijn beschreven in Hallo begin Hallo [sectie Benchmarking](#Benchmarking) en warme Hallo cache voordat Hallo benchmarking tests wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="1da42-849">Use hello same setup described in hello beginning of hello [Benchmarking section](#Benchmarking) and warm up hello cache before running hello benchmarking tests.</span></span>

<span data-ttu-id="1da42-850">Voordat u begint, [FIO downloaden](https://github.com/axboe/fio) en installeer deze op uw virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="1da42-850">Before you begin, [download FIO](https://github.com/axboe/fio) and install it on your virtual machine.</span></span>

<span data-ttu-id="1da42-851">Na de opdracht voor Ubuntu, Hallo uitvoeren</span><span class="sxs-lookup"><span data-stu-id="1da42-851">Run hello following command for Ubuntu,</span></span>

```
apt-get install fio
```

<span data-ttu-id="1da42-852">We gebruiken vier werkthreads voor het besturen van schrijfbewerkingen en vier werkthreads voor aangedreven leesbewerkingen op Hallo-schijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-852">We will use four worker threads for driving Write operations and four worker threads for driving Read operations on hello disks.</span></span> <span data-ttu-id="1da42-853">Hallo schrijven werknemers wordt worden volledig verkeer op Hallo 'nocache"volume 10 schijven met cache te ingesteld heeft 'None'.</span><span class="sxs-lookup"><span data-stu-id="1da42-853">hello Write workers will be driving traffic on hello "nocache" volume, which has 10 disks with cache set too"None".</span></span> <span data-ttu-id="1da42-854">Hallo lezen werknemers zal worden volledig verkeer op Hallo 'readcache' volume 1 schijf met cache set te heeft 'ReadOnly'.</span><span class="sxs-lookup"><span data-stu-id="1da42-854">hello Read workers will be driving traffic on hello "readcache" volume, which has 1 disk with cache set too"ReadOnly".</span></span>

<span data-ttu-id="1da42-855">*Maximale schrijven IOP 's*</span><span class="sxs-lookup"><span data-stu-id="1da42-855">*Maximum Write IOPS*</span></span>  
<span data-ttu-id="1da42-856">Hallo taakbestand maken met de volgende specificaties tooget maximumaantal IOPS schrijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-856">Create hello job file with following specifications tooget maximum Write IOPS.</span></span> <span data-ttu-id="1da42-857">Geef deze de naam 'fiowrite.ini'.</span><span class="sxs-lookup"><span data-stu-id="1da42-857">Name it "fiowrite.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=256
ioengine=libaio
bs=8k

[writer1]
rw=randwrite
directory=/mnt/nocache
[writer2]
rw=randwrite
directory=/mnt/nocache
[writer3]
rw=randwrite
directory=/mnt/nocache
[writer4]
rw=randwrite
directory=/mnt/nocache
```

<span data-ttu-id="1da42-858">Opmerking Hallo Volg belangrijke dingen die in overeenstemming met de Hallo ontwerprichtlijnen in de vorige secties beschreven zijn.</span><span class="sxs-lookup"><span data-stu-id="1da42-858">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="1da42-859">Deze specificaties zijn essentieel toodrive maximumaantal IOPS</span><span class="sxs-lookup"><span data-stu-id="1da42-859">These specifications are essential toodrive maximum IOPS,</span></span>  

* <span data-ttu-id="1da42-860">Een hoge wachtrijdiepte van 256.</span><span class="sxs-lookup"><span data-stu-id="1da42-860">A high queue depth of 256.</span></span>  
* <span data-ttu-id="1da42-861">Een kleine blokgrootte van 8KB.</span><span class="sxs-lookup"><span data-stu-id="1da42-861">A small block size of 8KB.</span></span>  
* <span data-ttu-id="1da42-862">Meerdere threads uitvoeren van willekeurige schrijfbewerkingen.</span><span class="sxs-lookup"><span data-stu-id="1da42-862">Multiple threads performing random writes.</span></span>

<span data-ttu-id="1da42-863">Hallo opdracht tookick uit Hallo FIO testen gedurende 30 seconden na uitvoeren</span><span class="sxs-lookup"><span data-stu-id="1da42-863">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>  

```
sudo fio --runtime 30 fiowrite.ini
```

<span data-ttu-id="1da42-864">Tijdens het Hallo-test wordt uitgevoerd, kunt u zich kunt toosee Hallo aantal schrijven van IOPS Hallo VM- en Premium-schijven leveren.</span><span class="sxs-lookup"><span data-stu-id="1da42-864">While hello test runs, you will be able toosee hello number of write IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="1da42-865">Zoals u in onderstaande Hallo-voorbeeld, is de maximale IOPS-limiet van 50.000 IOPS-schrijven leveren van Hallo DS14 VM.</span><span class="sxs-lookup"><span data-stu-id="1da42-865">As shown in hello sample below, hello DS14 VM is delivering its maximum write IOPS limit of 50,000 IOPS.</span></span>  
    ![](media/storage-premium-storage-performance/image11.png)

<span data-ttu-id="1da42-866">*Maximale lezen IOP 's*</span><span class="sxs-lookup"><span data-stu-id="1da42-866">*Maximum Read IOPS*</span></span>  
<span data-ttu-id="1da42-867">Hallo taakbestand maken met de volgende specificaties tooget maximumaantal IOPS op lezen.</span><span class="sxs-lookup"><span data-stu-id="1da42-867">Create hello job file with following specifications tooget maximum Read IOPS.</span></span> <span data-ttu-id="1da42-868">Geef deze de naam 'fioread.ini'.</span><span class="sxs-lookup"><span data-stu-id="1da42-868">Name it "fioread.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=256
ioengine=libaio
bs=8k

[reader1]
rw=randread
directory=/mnt/readcache
[reader2]
rw=randread
directory=/mnt/readcache
[reader3]
rw=randread
directory=/mnt/readcache
[reader4]
rw=randread
directory=/mnt/readcache
```

<span data-ttu-id="1da42-869">Opmerking Hallo Volg belangrijke dingen die in overeenstemming met de Hallo ontwerprichtlijnen in de vorige secties beschreven zijn.</span><span class="sxs-lookup"><span data-stu-id="1da42-869">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="1da42-870">Deze specificaties zijn essentieel toodrive maximumaantal IOPS</span><span class="sxs-lookup"><span data-stu-id="1da42-870">These specifications are essential toodrive maximum IOPS,</span></span>

* <span data-ttu-id="1da42-871">Een hoge wachtrijdiepte van 256.</span><span class="sxs-lookup"><span data-stu-id="1da42-871">A high queue depth of 256.</span></span>  
* <span data-ttu-id="1da42-872">Een kleine blokgrootte van 8KB.</span><span class="sxs-lookup"><span data-stu-id="1da42-872">A small block size of 8KB.</span></span>  
* <span data-ttu-id="1da42-873">Meerdere threads uitvoeren van willekeurige schrijfbewerkingen.</span><span class="sxs-lookup"><span data-stu-id="1da42-873">Multiple threads performing random writes.</span></span>

<span data-ttu-id="1da42-874">Hallo opdracht tookick uit Hallo FIO testen gedurende 30 seconden na uitvoeren</span><span class="sxs-lookup"><span data-stu-id="1da42-874">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>

```
sudo fio --runtime 30 fioread.ini
```

<span data-ttu-id="1da42-875">Tijdens het Hallo-test wordt uitgevoerd, kunt u zich kunt toosee Hallo aantal gelezen IOPS Hallo VM en leveren van Premium-schijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-875">While hello test runs, you will be able toosee hello number of read IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="1da42-876">Zoals u in onderstaande Hallo-voorbeeld, levert Hallo DS14 VM maximaal 64.000 lezen IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-876">As shown in hello sample below, hello DS14 VM is delivering more than 64,000 Read IOPS.</span></span> <span data-ttu-id="1da42-877">Dit is een combinatie van Hallo schijf en Hallo cache prestaties.</span><span class="sxs-lookup"><span data-stu-id="1da42-877">This is a combination of hello disk and hello cache performance.</span></span>  
    ![](media/storage-premium-storage-performance/image12.png)

<span data-ttu-id="1da42-878">*Maximale lezen en schrijven IOP 's*</span><span class="sxs-lookup"><span data-stu-id="1da42-878">*Maximum Read and Write IOPS*</span></span>  
<span data-ttu-id="1da42-879">Maak Hallo taakbestand met de volgende specificaties tooget maximale gecombineerde lezen en schrijven IOPS.</span><span class="sxs-lookup"><span data-stu-id="1da42-879">Create hello job file with following specifications tooget maximum combined Read and Write IOPS.</span></span> <span data-ttu-id="1da42-880">Geef deze de naam 'fioreadwrite.ini'.</span><span class="sxs-lookup"><span data-stu-id="1da42-880">Name it "fioreadwrite.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=128
ioengine=libaio
bs=4k

[reader1]
rw=randread
directory=/mnt/readcache
[reader2]
rw=randread
directory=/mnt/readcache
[reader3]
rw=randread
directory=/mnt/readcache
[reader4]
rw=randread
directory=/mnt/readcache

[writer1]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer2]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer3]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer4]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
```

<span data-ttu-id="1da42-881">Opmerking Hallo Volg belangrijke dingen die in overeenstemming met de Hallo ontwerprichtlijnen in de vorige secties beschreven zijn.</span><span class="sxs-lookup"><span data-stu-id="1da42-881">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="1da42-882">Deze specificaties zijn essentieel toodrive maximumaantal IOPS</span><span class="sxs-lookup"><span data-stu-id="1da42-882">These specifications are essential toodrive maximum IOPS,</span></span>

* <span data-ttu-id="1da42-883">Een hoge wachtrijdiepte van 128.</span><span class="sxs-lookup"><span data-stu-id="1da42-883">A high queue depth of 128.</span></span>  
* <span data-ttu-id="1da42-884">Een kleine blokgrootte van 4KB.</span><span class="sxs-lookup"><span data-stu-id="1da42-884">A small block size of 4KB.</span></span>  
* <span data-ttu-id="1da42-885">Meerdere threads uitvoeren van willekeurige leest en schrijft.</span><span class="sxs-lookup"><span data-stu-id="1da42-885">Multiple threads performing random reads and writes.</span></span>

<span data-ttu-id="1da42-886">Hallo opdracht tookick uit Hallo FIO testen gedurende 30 seconden na uitvoeren</span><span class="sxs-lookup"><span data-stu-id="1da42-886">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>

```
sudo fio --runtime 30 fioreadwrite.ini
```

<span data-ttu-id="1da42-887">Tijdens het Hallo-test wordt uitgevoerd, wordt u kunnen toosee Hallo aantal gecombineerde lezen en schrijven IOPS Hallo VM en leveren van Premium-schijven.</span><span class="sxs-lookup"><span data-stu-id="1da42-887">While hello test runs, you will be able toosee hello number of combined read and write IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="1da42-888">Zoals u in onderstaande Hallo-voorbeeld, levert Hallo DS14 VM meer dan 100.000 gecombineerde lezen en schrijven IOP's.</span><span class="sxs-lookup"><span data-stu-id="1da42-888">As shown in hello sample below, hello DS14 VM is delivering more than 100,000 combined Read and Write IOPS.</span></span> <span data-ttu-id="1da42-889">Dit is een combinatie van Hallo schijf en Hallo cache prestaties.</span><span class="sxs-lookup"><span data-stu-id="1da42-889">This is a combination of hello disk and hello cache performance.</span></span>  
    ![](media/storage-premium-storage-performance/image13.png)

<span data-ttu-id="1da42-890">*Maximale gecombineerde doorvoer*</span><span class="sxs-lookup"><span data-stu-id="1da42-890">*Maximum Combined Throughput*</span></span>  
<span data-ttu-id="1da42-891">tooget Hallo maximale gecombineerde lezen en schrijven doorvoer, gebruikt een grotere blok en grote wachtrijdiepte met meerdere threads uitvoeren van lees- en schrijfbewerkingen.</span><span class="sxs-lookup"><span data-stu-id="1da42-891">tooget hello maximum combined Read and Write Throughput, use a larger block size and large queue depth with multiple threads performing reads and writes.</span></span> <span data-ttu-id="1da42-892">U kunt een blokgrootte van 64KB en wachtrijdiepte van 128.</span><span class="sxs-lookup"><span data-stu-id="1da42-892">You can use a block size of 64KB and queue depth of 128.</span></span>

## <a name="next-steps"></a><span data-ttu-id="1da42-893">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="1da42-893">Next Steps</span></span>
<span data-ttu-id="1da42-894">Meer informatie over Azure Premium-opslag:</span><span class="sxs-lookup"><span data-stu-id="1da42-894">Learn more about Azure Premium Storage:</span></span>

* [<span data-ttu-id="1da42-895">Premium Storage: opslag met hoge prestaties voor de werkbelasting van virtuele Azure-machines</span><span class="sxs-lookup"><span data-stu-id="1da42-895">Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads</span></span>](storage-premium-storage.md)  

<span data-ttu-id="1da42-896">Lees de artikelen over aanbevolen procedures voor prestaties voor SQL Server voor SQL Server-gebruikers:</span><span class="sxs-lookup"><span data-stu-id="1da42-896">For SQL Server users, read articles on Performance Best Practices for SQL Server:</span></span>

* [<span data-ttu-id="1da42-897">Best Practices prestaties for SQL Server in Azure Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="1da42-897">Performance Best Practices for SQL Server in Azure Virtual Machines</span></span>](../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md)
* [<span data-ttu-id="1da42-898">Azure Premium-opslag biedt de beste prestaties voor SQL Server in Azure VM</span><span class="sxs-lookup"><span data-stu-id="1da42-898">Azure Premium Storage provides highest performance for SQL Server in Azure VM</span></span>](http://blogs.technet.com/b/dataplatforminsider/archive/2015/04/23/azure-premium-storage-provides-highest-performance-for-sql-server-in-azure-vm.aspx)
