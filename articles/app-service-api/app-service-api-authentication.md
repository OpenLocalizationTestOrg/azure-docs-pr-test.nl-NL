---
title: aaaAuthentication en autorisatie voor API-Apps in Azure App Service | Microsoft Docs
description: Meer informatie over Hallo verificatie en autorisatie services met Azure App Service voor API-Apps.
services: app-service\api
documentationcenter: .net
author: alexkarcher-msft
manager: erikre
editor: 
ms.assetid: d620b53a-5a6f-41c9-84c7-f7ef5ff02ae7
ms.service: app-service-api
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/23/2016
ms.author: alkarche
ms.openlocfilehash: 6d26754b8b606ec232a74768787922ea80577c95
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="authentication-and-authorization-for-api-apps-in-azure-app-service"></a><span data-ttu-id="fe69d-103">Verificatie en autorisatie voor API-Apps in Azure App Service</span><span class="sxs-lookup"><span data-stu-id="fe69d-103">Authentication and authorization for API Apps in Azure App Service</span></span>
## <a name="overview"></a><span data-ttu-id="fe69d-104">Overzicht</span><span class="sxs-lookup"><span data-stu-id="fe69d-104">Overview</span></span>
> [!NOTE]
> <span data-ttu-id="fe69d-105">In dit onderwerp worden de gemigreerde tooa geconsolideerd [App Service-verificatie / autorisatie](../app-service/app-service-authentication-overview.md) onderwerp bevat informatie over mobiele-, Web- en API-Apps.</span><span class="sxs-lookup"><span data-stu-id="fe69d-105">This topic will be migrated tooa consolidated [App Service Authentication / Authorization](../app-service/app-service-authentication-overview.md) topic, which covers Web, Mobile, and API Apps.</span></span>
> 
> 

<span data-ttu-id="fe69d-106">Azure App Service biedt ingebouwde verificatie en autorisatie die services [OAuth 2.0](#oauth) en [OpenID Connect](#oauth).</span><span class="sxs-lookup"><span data-stu-id="fe69d-106">Azure App Service offers built-in authentication and authorization services that implement [OAuth 2.0](#oauth) and [OpenID Connect](#oauth).</span></span> <span data-ttu-id="fe69d-107">Dit artikel wordt beschreven Hallo services en de opties die beschikbaar voor de API-Apps in Azure App Service zijn.</span><span class="sxs-lookup"><span data-stu-id="fe69d-107">This article describes hello services and options that are available for API Apps in Azure App Service.</span></span>

<span data-ttu-id="fe69d-108">Hallo volgende diagram ziet u enkele belangrijke kenmerken van App Service-verificatie:</span><span class="sxs-lookup"><span data-stu-id="fe69d-108">hello following diagram illustrates some key characteristics of App Service authentication:</span></span>

* <span data-ttu-id="fe69d-109">Het verwerkt binnenkomende API-aanvragen, wat betekent dat dit proces werkt met elke taal of elk framework ondersteund door App Service.</span><span class="sxs-lookup"><span data-stu-id="fe69d-109">It preprocesses incoming API requests, which means it works with any language or framework supported by App Service.</span></span>
* <span data-ttu-id="fe69d-110">Dit biedt u verschillende opties voor werkt hoeveel verificatie u wilt toodo in uw eigen code.</span><span class="sxs-lookup"><span data-stu-id="fe69d-110">It gives you several options for how much authentication work you want toodo in your own code.</span></span>
* <span data-ttu-id="fe69d-111">De Tool werkt voor zowel eindgebruikers als de verificatie van de service-account.</span><span class="sxs-lookup"><span data-stu-id="fe69d-111">It works for both end user and service account authentication.</span></span> 
* <span data-ttu-id="fe69d-112">Deze ondersteuning biedt voor vijf identiteitsproviders: Azure Active Directory, Facebook, Google, Twitter en Microsoft-Account.</span><span class="sxs-lookup"><span data-stu-id="fe69d-112">It supports five identity providers: Azure Active Directory, Facebook, Google, Twitter, and Microsoft Account.</span></span>
* <span data-ttu-id="fe69d-113">Dit werkt hetzelfde Hallo voor API-Apps, Web-Apps en mobiele Apps.</span><span class="sxs-lookup"><span data-stu-id="fe69d-113">It works hello same for API Apps, Web Apps, and Mobile Apps.</span></span>

![](./media/app-service-api-authentication/api-apps-overview.png)

## <a name="language-agnostic"></a><span data-ttu-id="fe69d-114">Networkdirect taal</span><span class="sxs-lookup"><span data-stu-id="fe69d-114">Language agnostic</span></span>
<span data-ttu-id="fe69d-115">Verwerking van App Service-verificatie wordt uitgevoerd voordat aanvragen uw API-app, wat betekent dat Hallo verificatiefuncties werken voor API-apps die zijn geschreven in elke taal of elk framework bereiken.</span><span class="sxs-lookup"><span data-stu-id="fe69d-115">App Service authentication processing happens before requests reach your API app, which means that hello authentication features work for API apps written in any language or framework.</span></span>  <span data-ttu-id="fe69d-116">Uw API kan worden gebaseerd op ASP.NET, Java, Node.js of elk framework die ondersteuning biedt voor App Service.</span><span class="sxs-lookup"><span data-stu-id="fe69d-116">Your API can be based on ASP.NET, Java, Node.js, or any framework that App Service supports.</span></span>

<span data-ttu-id="fe69d-117">App Service doorgegeven op Hallo JSON web token (JWT) in Hallo autorisatie-header van een HTTP-aanvraag en code die is geschreven in elke taal of elk framework kunt ophalen Hallo informatie die nodig is van Hallo token.</span><span class="sxs-lookup"><span data-stu-id="fe69d-117">App Service passes on hello JSON web token (JWT) in hello Authorization header of an HTTP request, and code written in any language or framework can get hello information it needs from hello token.</span></span> <span data-ttu-id="fe69d-118">Bovendien hebt App Service u eenvoudiger toegang toohello meest gebruikte claims door in te stellen sommige speciale kopteksten, zoals Hallo volgende:</span><span class="sxs-lookup"><span data-stu-id="fe69d-118">In addition, App Service gives you easier access toohello most commonly used claims by setting some special headers, such as hello following:</span></span>

* <span data-ttu-id="fe69d-119">X-MS-CLIENT-PRINCIPAL-NAAM</span><span class="sxs-lookup"><span data-stu-id="fe69d-119">X-MS-CLIENT-PRINCIPAL-NAME</span></span>
* <span data-ttu-id="fe69d-120">X-MS-CLIENT-PRINCIPAL-ID</span><span class="sxs-lookup"><span data-stu-id="fe69d-120">X-MS-CLIENT-PRINCIPAL-ID</span></span>
* <span data-ttu-id="fe69d-121">X-MS-TOKEN-FACEBOOK-ACCESS-TOKEN</span><span class="sxs-lookup"><span data-stu-id="fe69d-121">X-MS-TOKEN-FACEBOOK-ACCESS-TOKEN</span></span>
* <span data-ttu-id="fe69d-122">X-MS-TOKEN-FACEBOOK-EXPIRES-ON</span><span class="sxs-lookup"><span data-stu-id="fe69d-122">X-MS-TOKEN-FACEBOOK-EXPIRES-ON</span></span>

<span data-ttu-id="fe69d-123">In een .NET-API kunt u Hallo `Authorize` kenmerk en code op basis van claims voor fijnmazig autorisatie kunt u eenvoudig schrijven omdat informatie over claims in .NET-klassen voor u is ingevuld.</span><span class="sxs-lookup"><span data-stu-id="fe69d-123">In a .NET API, you can use hello `Authorize` attribute, and for fine-grained authorization you can easily write code based on claims because claims information is populated for you in .NET classes.</span></span>

## <a name="multiple-protection-options"></a><span data-ttu-id="fe69d-124">Meerdere beveiligingsopties</span><span class="sxs-lookup"><span data-stu-id="fe69d-124">Multiple protection options</span></span>
<span data-ttu-id="fe69d-125">App Service kunt voorkomen dat anonieme HTTP-aanvragen uw API-app is bereikt, kan doorgeven bij alle aanvragen en valideren van tokens voor aanvragen die ze bevatten of kunnen via alle aanvragen zonder verholpen op deze:</span><span class="sxs-lookup"><span data-stu-id="fe69d-125">App Service can prevent anonymous HTTP requests from reaching your API app, it can pass on all requests and validate tokens for requests that include them, or it can let through all requests without taking any action on them:</span></span>

1. <span data-ttu-id="fe69d-126">Toestaan dat alleen geverifieerde aanvragen tooreach uw API-app.</span><span class="sxs-lookup"><span data-stu-id="fe69d-126">Allow only authenticated requests tooreach your API app.</span></span>
   
    <span data-ttu-id="fe69d-127">Als een anonieme aanvraag wordt ontvangen via een browser, App-Service omleidt tooa aanmeldingspagina voor Hallo verificatieprovider (Azure AD, Google en Twitter, enzovoort) die u kiest.</span><span class="sxs-lookup"><span data-stu-id="fe69d-127">If an anonymous request is received from a browser, App Service will redirect tooa logon page for hello authentication provider (Azure AD, Google, Twitter, etc.) that you choose.</span></span> 
   
    <span data-ttu-id="fe69d-128">U hoeft niet toowrite een verificatiecode op te geven op alle in uw app met deze optie en autorisatiecode wordt vereenvoudigd, omdat de belangrijkste claims Hallo u in Hallo HTTP-headers vindt.</span><span class="sxs-lookup"><span data-stu-id="fe69d-128">With this option, you don't need toowrite any authentication code at all in your app, and authorization code is simplified because hello most important claims are provided in hello HTTP headers.</span></span>
2. <span data-ttu-id="fe69d-129">Alle aanvragen tooreach uw API-app toestaan maar geverifieerde aanvragen valideren en verificatiegegevens in Hallo HTTP-headers doorgegeven.</span><span class="sxs-lookup"><span data-stu-id="fe69d-129">Allow all requests tooreach your API app, but validate authenticated requests and pass along authentication information in hello HTTP headers.</span></span>
   
    <span data-ttu-id="fe69d-130">Deze optie biedt meer flexibiliteit in anonieme aanvragen voor de verwerking, maar er toowrite code als u tooprevent anonieme gebruikers wilt van uw API gebruiken.</span><span class="sxs-lookup"><span data-stu-id="fe69d-130">This option gives you more flexibility in handling anonymous requests, but you have toowrite code if you want tooprevent anonymous users from using your API.</span></span> <span data-ttu-id="fe69d-131">Sinds de meest populaire claims Hallo in Hallo-headers van HTTP-aanvragen worden doorgegeven, is autorisatiecode relatief eenvoudig.</span><span class="sxs-lookup"><span data-stu-id="fe69d-131">Since hello most popular claims are passed in hello headers of HTTP requests, authorization code is relatively simple.</span></span>
3. <span data-ttu-id="fe69d-132">Alle aanvragen tooreach toestaan uw API, geen actie onderneemt op verificatiegegevens in Hallo aanvragen.</span><span class="sxs-lookup"><span data-stu-id="fe69d-132">Allow all requests tooreach your API, take no action on authentication information in hello requests.</span></span>
   
    <span data-ttu-id="fe69d-133">Deze optie blijven Hallo taken van verificatie en autorisatie volledig up tooyour toepassingscode.</span><span class="sxs-lookup"><span data-stu-id="fe69d-133">This option leaves hello tasks of authentication and authorization entirely up tooyour application code.</span></span>

<span data-ttu-id="fe69d-134">In Hallo [Azure-portal](https://portal.azure.com/), optie Hallo op Hallo gewenste **verificatie / autorisatie** blade.</span><span class="sxs-lookup"><span data-stu-id="fe69d-134">In hello [Azure portal](https://portal.azure.com/), you select hello option you want on hello **Authentication / Authorization** blade.</span></span>

![](./media/app-service-api-authentication/authblade.png)

<span data-ttu-id="fe69d-135">Inschakelen voor opties 1 en 2, **verificatie van App Service**, en in Hallo **tootake actie wanneer de aanvraag is niet geverifieerd** vervolgkeuzelijst kiezen **aanmelden** of **Aanvraag toestaan (geen actie)**.</span><span class="sxs-lookup"><span data-stu-id="fe69d-135">For options 1 and 2, turn on **App Service Authentication**, and in hello **Action tootake when request is not authenticated** drop-down list choose **Log in** or **Allow request (no action)**.</span></span>  <span data-ttu-id="fe69d-136">Als u ervoor kiest **aanmelden**, u hebt toochoose een verificatieprovider en dat de provider configureren.</span><span class="sxs-lookup"><span data-stu-id="fe69d-136">If you choose **Log in**, you have toochoose an authentication provider and configure that provider.</span></span>

![](./media/app-service-api-authentication/actiontotake.png)

<span data-ttu-id="fe69d-137">Voor gedetailleerde informatie over het tooconfigure verificatie, Zie [hoe tooconfigure uw App Service-toepassing toouse Azure Active Directory-aanmelding](../app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="fe69d-137">For detailed information about how tooconfigure authentication, see [How tooconfigure your App Service application toouse Azure Active Directory login](../app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication.md).</span></span> <span data-ttu-id="fe69d-138">Hallo-artikel geldt tooAPI apps, evenals een mobiele apps en andere verificatieproviders tooother artikelen voor Hallo gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="fe69d-138">hello article applies tooAPI apps as well as mobile apps, and it links tooother articles for hello other authentication providers.</span></span>

## <span data-ttu-id="fe69d-139"><a id="internal"></a>Verificatie van de service-account</span><span class="sxs-lookup"><span data-stu-id="fe69d-139"><a id="internal"></a> Service account authentication</span></span>
<span data-ttu-id="fe69d-140">App Service-verificatie werkt ook voor interne scenario's zoals voor het aanroepen van een API-app tooanother API-app.</span><span class="sxs-lookup"><span data-stu-id="fe69d-140">App Service authentication works for internal scenarios such as for calling from one API app tooanother API app.</span></span> <span data-ttu-id="fe69d-141">In dit scenario kunt u een token ophalen met behulp van referenties voor een serviceaccount in plaats van de referenties van de eindgebruiker.</span><span class="sxs-lookup"><span data-stu-id="fe69d-141">In this scenario you get a token by using credentials for a service account instead of end user credentials.</span></span> <span data-ttu-id="fe69d-142">Een service-account wordt ook wel een *service-principal* in Azure Active Directory en verificatie met behulp van zo'n account wordt ook wel bekend als een service-naar-service-scenario.</span><span class="sxs-lookup"><span data-stu-id="fe69d-142">A service account is also known as a *service principal* in Azure Active Directory, and authentication using such an account is also known as a service-to-service scenario.</span></span> 

<span data-ttu-id="fe69d-143">Voor service to service-scenario's beveiligen Hallo aangeroepen API-app met behulp van Azure Active Directory en een verificatietoken AAD-service principal bieden bij het aanroepen van Hallo API-app.</span><span class="sxs-lookup"><span data-stu-id="fe69d-143">For service-to-service scenarios, protect hello called API app by using Azure Active Directory, and provide an AAD service principal authorization token when you call hello API app.</span></span> <span data-ttu-id="fe69d-144">U ophalen een token met Hallo client-ID en een client geheim Hallo AAD-toepassing.</span><span class="sxs-lookup"><span data-stu-id="fe69d-144">You get a token by providing hello client ID and client secret from hello AAD application.</span></span> <span data-ttu-id="fe69d-145">Er is geen speciale Azure alleen-lezen-code is vereist, zoals gebruikte toobe true voor het verwerken van Hallo Mobile Services Zumo token.</span><span class="sxs-lookup"><span data-stu-id="fe69d-145">No special Azure-only code is required, such as used toobe true for handling hello Mobile Services Zumo token.</span></span> <span data-ttu-id="fe69d-146">Een voorbeeld van dit scenario met ASP.NET-API-apps wordt gedekt door Hallo zelfstudie [principal verificatie van de Service voor API-Apps](app-service-api-dotnet-service-principal-auth.md).</span><span class="sxs-lookup"><span data-stu-id="fe69d-146">An example of this scenario using ASP.NET API apps is covered by hello tutorial [Service principal authentication for API Apps](app-service-api-dotnet-service-principal-auth.md).</span></span>

<span data-ttu-id="fe69d-147">Als u een service-naar-serviceconnector scenario toohandle wilt zonder verificatie van App Service, kunt u clientcertificaten of basisverificatie.</span><span class="sxs-lookup"><span data-stu-id="fe69d-147">If you want toohandle a service-to-service scenario without using App Service authentication, you can use client certificates or basic authentication.</span></span> <span data-ttu-id="fe69d-148">Zie voor informatie over clientcertificaten in Azure, [hoe tooConfigure TLS wederzijdse verificatie voor Web-Apps](../app-service-web/app-service-web-configure-tls-mutual-auth.md).</span><span class="sxs-lookup"><span data-stu-id="fe69d-148">For information about client certificates in Azure, see [How tooConfigure TLS Mutual Authentication for Web Apps](../app-service-web/app-service-web-configure-tls-mutual-auth.md).</span></span> <span data-ttu-id="fe69d-149">Zie voor meer informatie over basisverificatie in ASP.NET [verificatie-Filters in ASP.NET Web API 2](http://www.asp.net/web-api/overview/security/authentication-filters).</span><span class="sxs-lookup"><span data-stu-id="fe69d-149">For information about basic authentication in ASP.NET, see [Authentication Filters in ASP.NET Web API 2](http://www.asp.net/web-api/overview/security/authentication-filters).</span></span>

<span data-ttu-id="fe69d-150">Verificatie van de service-account van een App Service logic app tooan API-app is een speciaal geval die wordt beschreven in [uw aangepaste API gebruiken die worden gehost op App Service met Logic apps](../logic-apps/logic-apps-custom-hosted-api.md).</span><span class="sxs-lookup"><span data-stu-id="fe69d-150">Service account authentication from an App Service logic app tooan API app is a special case that is explained in [Using your custom API hosted on App Service with Logic apps](../logic-apps/logic-apps-custom-hosted-api.md).</span></span>

## <a name="mobile-client-authentication"></a><span data-ttu-id="fe69d-151">Mobiele clientverificatie</span><span class="sxs-lookup"><span data-stu-id="fe69d-151">Mobile client authentication</span></span>
<span data-ttu-id="fe69d-152">Voor informatie over het toohandle verificatie van mobiele clients, Zie Hallo [documentatie over verificatie voor mobiele apps](../app-service-mobile/app-service-mobile-ios-get-started-users.md).</span><span class="sxs-lookup"><span data-stu-id="fe69d-152">For information about how toohandle authentication from mobile clients, see hello [documentation on authentication for mobile apps](../app-service-mobile/app-service-mobile-ios-get-started-users.md).</span></span> <span data-ttu-id="fe69d-153">App Service-verificatie werkt Hallo dezelfde manier voor mobiele apps en API apps.</span><span class="sxs-lookup"><span data-stu-id="fe69d-153">App Service authentication works hello same way for mobile apps and API apps.</span></span>

## <a name="more-information"></a><span data-ttu-id="fe69d-154">Meer informatie</span><span class="sxs-lookup"><span data-stu-id="fe69d-154">More information</span></span>
<span data-ttu-id="fe69d-155">Zie voor meer informatie over verificatie en autorisatie in Azure App Service Hallo resources te volgen:</span><span class="sxs-lookup"><span data-stu-id="fe69d-155">For more information about authentication and authorization in Azure App Service, see hello following resources:</span></span>

* [<span data-ttu-id="fe69d-156">Uitbreidbare App Service-verificatie / autorisatie</span><span class="sxs-lookup"><span data-stu-id="fe69d-156">Expanding App Service authentication / authorization</span></span>](https://azure.microsoft.com/blog/announcing-app-service-authentication-authorization/)
* <span data-ttu-id="fe69d-157">[Hoe tooconfigure uw App Service-toepassing toouse Azure Active Directory-aanmelding](../app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication.md) (inclusief koppelingen voor andere verificatieproviders bovenaan Hallo Hallo pagina).</span><span class="sxs-lookup"><span data-stu-id="fe69d-157">[How tooconfigure your App Service application toouse Azure Active Directory login](../app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication.md) (Includes links for other authentication providers at hello top of hello page.)</span></span> 

<span data-ttu-id="fe69d-158">Zie voor meer informatie over het OAuth 2.0, OpenID Connect en JSON Web Tokens (JWT) Hallo resources te volgen.</span><span class="sxs-lookup"><span data-stu-id="fe69d-158">For more information about OAuth 2.0, OpenID Connect, and JSON Web Tokens (JWT), see hello following resources.</span></span>

* [<span data-ttu-id="fe69d-159">Aan de slag met OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="fe69d-159">Getting started with OAuth 2.0</span></span>](http://shop.oreilly.com/product/0636920021810.do "aan de slag met OAuth 2.0") 
* [<span data-ttu-id="fe69d-160">Inleiding tooOAuth2, OpenID Connect en JSON Web Tokens (JWT) - Pluralsight loop</span><span class="sxs-lookup"><span data-stu-id="fe69d-160">Introduction tooOAuth2, OpenID Connect and JSON Web Tokens (JWT) - Pluralsight Course</span></span>](http://www.pluralsight.com/courses/oauth2-json-web-tokens-openid-connect-introduction) 
* [<span data-ttu-id="fe69d-161">Opbouwen en een RESTful-API voor meerdere Clients in ASP.NET - Pluralsight loop beveiligen</span><span class="sxs-lookup"><span data-stu-id="fe69d-161">Building and Securing a RESTful API for Multiple Clients in ASP.NET - Pluralsight course</span></span>](http://www.pluralsight.com/courses/building-securing-restful-api-aspdotnet)

<span data-ttu-id="fe69d-162">Zie voor meer informatie over Azure Active Directory Hallo resources te volgen.</span><span class="sxs-lookup"><span data-stu-id="fe69d-162">For more information about Azure Active Directory, see hello following resources.</span></span>

* [<span data-ttu-id="fe69d-163">Azure AD-scenario 's</span><span class="sxs-lookup"><span data-stu-id="fe69d-163">Azure AD scenarios</span></span>](http://aka.ms/aadscenarios)
* [<span data-ttu-id="fe69d-164">Azure AD ontwikkelaarshandleiding</span><span class="sxs-lookup"><span data-stu-id="fe69d-164">Azure AD developers' guide</span></span>](http://aka.ms/aaddev)
* [<span data-ttu-id="fe69d-165">Azure AD-voorbeelden</span><span class="sxs-lookup"><span data-stu-id="fe69d-165">Azure AD samples</span></span>](http://aka.ms/aadsamples)

## <a name="next-steps"></a><span data-ttu-id="fe69d-166">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="fe69d-166">Next steps</span></span>
<span data-ttu-id="fe69d-167">In dit artikel is beschreven functies voor verificatie en autorisatie van App-Service die u voor API-apps gebruiken kunt.</span><span class="sxs-lookup"><span data-stu-id="fe69d-167">This article has explained authentication and authorization features of App Service that you can use for API apps.</span></span> <span data-ttu-id="fe69d-168">de volgende zelfstudie Hallo bij het ophalen van Hallo gestart reeks toont hoe tooimplement [verificatie van gebruikers in App Service API Apps](app-service-api-dotnet-user-principal-auth.md).</span><span class="sxs-lookup"><span data-stu-id="fe69d-168">hello next tutorial in hello getting started series shows how tooimplement [user authentication in App Service API Apps](app-service-api-dotnet-user-principal-auth.md).</span></span>

