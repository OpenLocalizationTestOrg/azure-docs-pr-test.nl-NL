---
title: aaaLog zoekopdrachten in OMS Log Analytics | Microsoft Docs
description: U vereisen een zoekopdracht logboek tooretrieve geen gegevens van logboekanalyse.  Dit artikel wordt beschreven hoe nieuwe logboek zoekopdrachten worden gebruikt in Log Analytics en concepten, moet u toounderstand voordat deze is gemaakt.
services: log-analytics
documentationcenter: 
author: bwren
manager: carmonm
editor: 
ms.service: log-analytics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/25/2017
ms.author: bwren
ms.openlocfilehash: 08fda1d9eb9e6ab824ffb9e12af09832c3e3fad2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="understanding-log-searches-in-log-analytics"></a><span data-ttu-id="e756b-104">Understanding logboek zoekt in Log Analytics</span><span class="sxs-lookup"><span data-stu-id="e756b-104">Understanding log searches in Log Analytics</span></span>

> [!NOTE]
> <span data-ttu-id="e756b-105">Dit artikel wordt beschreven logboek van zoekopdrachten in Azure-logboekanalyse Hallo nieuwe query language gebruiken.</span><span class="sxs-lookup"><span data-stu-id="e756b-105">This article describes log searches in Azure Log Analytics using hello new query language.</span></span>  <span data-ttu-id="e756b-106">U kunt meer informatie over de nieuwe taal Hallo en uw werkruimte op Hallo procedure tooupgrade ophalen [Upgrade van uw Azure-logboekanalyse werkruimte toonew logboek zoekopdracht](log-analytics-log-search-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="e756b-106">You can learn more about hello new language and get hello procedure tooupgrade your workspace at [Upgrade your Azure Log Analytics workspace toonew log search](log-analytics-log-search-upgrade.md).</span></span>  
>
> <span data-ttu-id="e756b-107">Als uw werkruimte niet bijgewerkte toohello nieuwe querytaal is, raadpleegt u te[vinden van gegevens met behulp van logboek zoekopdrachten in logboekanalyse](log-analytics-log-searches.md).</span><span class="sxs-lookup"><span data-stu-id="e756b-107">If your workspace hasn't been upgraded toohello new query language, you should refer too[Find data using log searches in Log Analytics](log-analytics-log-searches.md).</span></span>

<span data-ttu-id="e756b-108">U vereisen een zoekopdracht logboek tooretrieve geen gegevens van logboekanalyse.</span><span class="sxs-lookup"><span data-stu-id="e756b-108">You require a log search tooretrieve any data from Log Analytics.</span></span>  <span data-ttu-id="e756b-109">Of u bent analyseren van gegevens in de portal hello, configureren van een waarschuwingsregel toobe gewaarschuwd voor een bepaalde voorwaarde of de gegevens op te halen met behulp van Hallo Log Analytics-API, gaat u een zoekopdracht toospecify Hallo logboekgegevens gewenste.</span><span class="sxs-lookup"><span data-stu-id="e756b-109">Whether you're analyzing data in hello portal, configuring an alert rule toobe notified of a particular condition, or retrieving data using hello Log Analytics API, you will use a log search toospecify hello data you want.</span></span>  <span data-ttu-id="e756b-110">Dit artikel wordt beschreven hoe logboek zoekopdrachten worden gebruikt in Log Analytics en concepten die u begrijpen moet voordat deze is gemaakt.</span><span class="sxs-lookup"><span data-stu-id="e756b-110">This article describes how log searches are used in Log Analytics and provides concepts that should understand before creating one.</span></span> <span data-ttu-id="e756b-111">Zie Hallo [Vervolgstappen](#next-steps) sectie voor meer informatie over het maken en bewerken van logboek zoekopdrachten en voor verwijzingen op Hallo querytaal.</span><span class="sxs-lookup"><span data-stu-id="e756b-111">See hello [Next steps](#next-steps) section for details on creating and editing log searches and for references on hello query language.</span></span>

## <a name="where-log-searches-are-used"></a><span data-ttu-id="e756b-112">Waar logboek zoekopdrachten worden gebruikt</span><span class="sxs-lookup"><span data-stu-id="e756b-112">Where log searches are used</span></span>

<span data-ttu-id="e756b-113">Hallo verschillende manieren die u logboek zoekopdrachten in logboekanalyse gebruikt zijn Hallo volgende:</span><span class="sxs-lookup"><span data-stu-id="e756b-113">hello different ways that you will use log searches in Log Analytics include hello following:</span></span>

- <span data-ttu-id="e756b-114">**Portals.**</span><span class="sxs-lookup"><span data-stu-id="e756b-114">**Portals.**</span></span> <span data-ttu-id="e756b-115">U interactieve analyses van gegevens kunt uitvoeren in Hallo-opslagplaats met Hallo [logboek zoeken portal](log-analytics-log-search-log-search-portal.md) of Hallo [Advanced Analytics-portal](https://go.microsoft.com/fwlink/?linkid=856587).</span><span class="sxs-lookup"><span data-stu-id="e756b-115">You can perform interactive analysis of data in hello repository with hello [Log Search portal](log-analytics-log-search-log-search-portal.md) or hello [Advanced Analytics portal](https://go.microsoft.com/fwlink/?linkid=856587).</span></span>  <span data-ttu-id="e756b-116">Hiermee kunt u tooedit uw vragen en te analyseren Hallo resulteert in verschillende indelingen en visualisaties.</span><span class="sxs-lookup"><span data-stu-id="e756b-116">This allows you tooedit your query and analyze hello results in a variety of formats and visualizations.</span></span>  <span data-ttu-id="e756b-117">De meeste query's die u maakt in een van de portals hello wordt gestart en vervolgens gekopieerd zodra u controleren of deze werkt zoals verwacht.</span><span class="sxs-lookup"><span data-stu-id="e756b-117">Most queries that you create will start in one of hello portals and then copied once you verify that it works as expected.</span></span>
- <span data-ttu-id="e756b-118">**Regels voor waarschuwingen.**</span><span class="sxs-lookup"><span data-stu-id="e756b-118">**Alert rules.**</span></span> <span data-ttu-id="e756b-119">[Waarschuwing regels](log-analytics-alerts.md) proactief problemen van gegevens in uw werkruimte.</span><span class="sxs-lookup"><span data-stu-id="e756b-119">[Alert rules](log-analytics-alerts.md) proactively identify issues from data in your workspace.</span></span>  <span data-ttu-id="e756b-120">Elke waarschuwingsregel is gebaseerd op een logboek zoekopdracht die automatisch wordt uitgevoerd met regelmatige tussenpozen.</span><span class="sxs-lookup"><span data-stu-id="e756b-120">Each alert rule is based on a log search that is automatically run at regular intervals.</span></span>  <span data-ttu-id="e756b-121">Hallo resultaten zijn domeinen toodetermine als een waarschuwing moet worden gemaakt.</span><span class="sxs-lookup"><span data-stu-id="e756b-121">hello results are inspected toodetermine if an alert should be created.</span></span>
- <span data-ttu-id="e756b-122">**Weergaven.**</span><span class="sxs-lookup"><span data-stu-id="e756b-122">**Views.**</span></span>  <span data-ttu-id="e756b-123">U kunt visualisaties van gegevens toobe opgenomen in Gebruikersdashboards met maken [ontwerper](log-analytics-view-designer.md).</span><span class="sxs-lookup"><span data-stu-id="e756b-123">You can create visualizations of data toobe included in user dashboards with [View Designer](log-analytics-view-designer.md).</span></span>  <span data-ttu-id="e756b-124">Logboek zoekopdrachten Hallo-gegevens die worden gebruikt door bieden [tegels](log-analytics-view-designer-tiles.md) en [visualisatie delen](log-analytics-view-designer-parts.md) in elke weergave.</span><span class="sxs-lookup"><span data-stu-id="e756b-124">Log searches provide hello data used by [tiles](log-analytics-view-designer-tiles.md) and [visualization parts](log-analytics-view-designer-parts.md) in each view.</span></span>  <span data-ttu-id="e756b-125">U kunt inzoomen op uit visualisatie delen Hallo logboek zoeken portal tooperform verdere analyse op Hallo-gegevens.</span><span class="sxs-lookup"><span data-stu-id="e756b-125">You can drill down from visualization parts into hello Log Search portal tooperform further analysis on hello data.</span></span>
- <span data-ttu-id="e756b-126">**Exporteren.**</span><span class="sxs-lookup"><span data-stu-id="e756b-126">**Export.**</span></span>  <span data-ttu-id="e756b-127">Wanneer u gegevens uit Hallo Log Analytics-werkruimte tooExcel exporteren of [Power BI](log-analytics-powerbi.md), hebt u een logboek zoeken toodefine Hallo gegevens tooexport.</span><span class="sxs-lookup"><span data-stu-id="e756b-127">When you export data from hello Log Analytics workspace tooExcel or [Power BI](log-analytics-powerbi.md), you create a log search toodefine hello data tooexport.</span></span>
- <span data-ttu-id="e756b-128">**PowerShell.**</span><span class="sxs-lookup"><span data-stu-id="e756b-128">**PowerShell.**</span></span> <span data-ttu-id="e756b-129">U kunt een PowerShell-script uitvoeren vanaf een opdrachtregel of een Azure Automation-runbook die gebruikmaakt van [Get-AzureRmOperationalInsightsSearchResults](https://docs.microsoft.com/powershell/module/azurerm.operationalinsights/get-azurermoperationalinsightssearchresults?view=azurermps-4.0.0) tooretrieve gegevens van logboekanalyse.</span><span class="sxs-lookup"><span data-stu-id="e756b-129">You can run a PowerShell script from a command line or an Azure Automation runbook that uses [Get-AzureRmOperationalInsightsSearchResults](https://docs.microsoft.com/powershell/module/azurerm.operationalinsights/get-azurermoperationalinsightssearchresults?view=azurermps-4.0.0) tooretrieve data from Log Analytics.</span></span>  <span data-ttu-id="e756b-130">Deze cmdlet is een query toodetermine Hallo gegevens tooretrieve vereist.</span><span class="sxs-lookup"><span data-stu-id="e756b-130">This cmdlet requires a query toodetermine hello data tooretrieve.</span></span>
- <span data-ttu-id="e756b-131">**Log Analytics-API.**</span><span class="sxs-lookup"><span data-stu-id="e756b-131">**Log Analytics API.**</span></span>  <span data-ttu-id="e756b-132">Hallo [Log Analytics-API van zoekservice Meld](log-analytics-log-search-api.md) kan een REST-API-client tooretrieve gegevens van Hallo-werkruimte.</span><span class="sxs-lookup"><span data-stu-id="e756b-132">hello [Log Analytics log search API](log-analytics-log-search-api.md) allows any REST API client tooretrieve data from hello workspace.</span></span>  <span data-ttu-id="e756b-133">Hallo-API-aanvraag bevat een query die wordt uitgevoerd op logboekanalyse toodetermine Hallo gegevens tooretrieve.</span><span class="sxs-lookup"><span data-stu-id="e756b-133">hello API request includes a query that is run against Log Analytics toodetermine hello data tooretrieve.</span></span>

![Logboek zoekopdrachten](media/log-analytics-log-search-new/log-search-overview.png)

## <a name="how-log-analytics-data-is-organized"></a><span data-ttu-id="e756b-135">De structuur van Log Analytics-gegevens</span><span class="sxs-lookup"><span data-stu-id="e756b-135">How Log Analytics data is organized</span></span>
<span data-ttu-id="e756b-136">Als u een query bouwen, begint u met het bepalen van welke tabellen Hallo gegevens hebt die u zoekt.</span><span class="sxs-lookup"><span data-stu-id="e756b-136">When you build a query, you start by determining which tables have hello data that you're looking for.</span></span> <span data-ttu-id="e756b-137">Elke [gegevensbron](log-analytics-data-sources.md) en [oplossing](../operations-management-suite/operations-management-suite-solutions.md) gegevens opslaat in de speciale tabellen in de werkruimte voor logboekanalyse Hallo.</span><span class="sxs-lookup"><span data-stu-id="e756b-137">Each [data source](log-analytics-data-sources.md) and [solution](../operations-management-suite/operations-management-suite-solutions.md) stores its data in dedicated tables in hello Log Analytics workspace.</span></span>  <span data-ttu-id="e756b-138">Documentatie voor elke gegevensbron en de oplossing bevat Hallo-naam van Hallo-gegevenstype dat wordt gemaakt en een beschrijving van elk van de eigenschappen ervan.</span><span class="sxs-lookup"><span data-stu-id="e756b-138">Documentation for each data source and solution includes hello name of hello data type that it creates and a description of each of its properties.</span></span>     <span data-ttu-id="e756b-139">Groot aantal query's moet alleen gegevens uit een enkele tabellen, maar anderen tal van opties tooinclude gegevens uit meerdere tabellen kunnen gebruiken.</span><span class="sxs-lookup"><span data-stu-id="e756b-139">Many queries will only require data from a single tables, but others may use a variety of options tooinclude data from multiple tables.</span></span>

![Tabellen](media/log-analytics-log-search-new/queries-tables.png)


## <a name="writing-a-query"></a><span data-ttu-id="e756b-141">Een query schrijven</span><span class="sxs-lookup"><span data-stu-id="e756b-141">Writing a query</span></span>
<span data-ttu-id="e756b-142">Hallo-kern van logboek zoekopdrachten in logboekanalyse is [een uitgebreide querytaal](https://docs.loganalytics.io/) waarmee u ophalen en analyseren van gegevens uit de opslagplaats Hallo in tal van manieren.</span><span class="sxs-lookup"><span data-stu-id="e756b-142">At hello core of log searches in Log Analytics is [an extensive query language](https://docs.loganalytics.io/) that lets you retrieve and analyze data from hello repository in a variety of ways.</span></span>  <span data-ttu-id="e756b-143">Deze zelfde querytaal wordt gebruikt voor [Application Insights](../application-insights/app-insights-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="e756b-143">This same query language is used for [Application Insights](../application-insights/app-insights-analytics.md).</span></span>  <span data-ttu-id="e756b-144">Leren hoe toowrite een query kritieke toocreating logboek zoekopdrachten in logboekanalyse is.</span><span class="sxs-lookup"><span data-stu-id="e756b-144">Learning how toowrite a query is critical toocreating log searches in Log Analytics.</span></span>  <span data-ttu-id="e756b-145">U doorgaans beginnen met een eenvoudige query's en vervolgens uitgevoerd toouse meer geavanceerde functies zoals steeds ingewikkelder worden uw vereisten.</span><span class="sxs-lookup"><span data-stu-id="e756b-145">You'll typically start with basic queries and then progress toouse more advanced functions as your requirements become more complex.</span></span>

<span data-ttu-id="e756b-146">Hallo basisstructuur van een query is een brontabel gevolgd door een reeks operators gescheiden door een sluisteken `|`.</span><span class="sxs-lookup"><span data-stu-id="e756b-146">hello basic structure of a query is a source table followed by a series of operators separated by a pipe character `|`.</span></span>  <span data-ttu-id="e756b-147">U kunt een keten van meerdere operators toorefine Hallo gegevens en geavanceerde functies uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="e756b-147">You can chain together multiple operators toorefine hello data and perform advanced functions.</span></span>

<span data-ttu-id="e756b-148">Stel bijvoorbeeld dat u deze wilde toofind Hallo top tien computers Hello meeste foutgebeurtenissen via Hallo afgelopen dag.</span><span class="sxs-lookup"><span data-stu-id="e756b-148">For example, suppose you wanted toofind hello top ten computers with hello most error events over hello past day.</span></span>

    Event
    | where (EventLevelName == "Error")
    | where (TimeGenerated > ago(1days))
    | summarize ErrorCount = count() by Computer
    | top 10 by ErrorCount desc

<span data-ttu-id="e756b-149">Of misschien wilt u toofind dat computers die nog niet als een heartbeat in Hallo laatste dag hebben.</span><span class="sxs-lookup"><span data-stu-id="e756b-149">Or maybe you want toofind computers that haven't had a heartbeat in hello last day.</span></span>

    Heartbeat
    | where TimeGenerated > ago(7d)
    | summarize max(TimeGenerated) by Computer
    | where max_TimeGenerated < ago(1d)  

<span data-ttu-id="e756b-150">Hoe zit een lijndiagram met Hallo processorgebruik voor elke computer in de afgelopen week?</span><span class="sxs-lookup"><span data-stu-id="e756b-150">How about a line chart with hello processor utilization for each computer from last week?</span></span>

    Perf
    | where ObjectName == "Processor" and CounterName == "% Processor Time"
    | where TimeGenerated  between (startofweek(ago(7d)) .. endofweek(ago(7d)) )
    | summarize avg(CounterValue) by Computer, bin(TimeGenerated, 5min)
    | render timechart    

<span data-ttu-id="e756b-151">U kunt zien van deze snelle voorbeelden die ongeacht Hallo soort gegevens die u werkt met, Hallo structuur van Hallo-query is vergelijkbaar.</span><span class="sxs-lookup"><span data-stu-id="e756b-151">You can see from these quick samples that regardless of hello kind of data that you're working with, hello structure of hello query is similar.</span></span>  <span data-ttu-id="e756b-152">U kunt opsplitsen in afzonderlijke stappen waarbij Hallo resulterende gegevens van een opdracht wordt verzonden via de volgende opdracht voor toohello Hallo-pijplijn.</span><span class="sxs-lookup"><span data-stu-id="e756b-152">You can break it down into distinct steps where hello resulting data from one command is sent through hello pipeline toohello next command.</span></span>

<span data-ttu-id="e756b-153">Zie voor volledige documentatie over hello Azure Log Analytics-querytaal inclusief zelfstudies en taalreferentie Hallo [Azure Log Analytics query language-documentatie](https://docs.loganalytics.io/).</span><span class="sxs-lookup"><span data-stu-id="e756b-153">For complete documentation on hello Azure Log Analytics query language including tutorials and language reference, see hello [Azure Log Analytics query language documentation](https://docs.loganalytics.io/).</span></span>

## <a name="next-steps"></a><span data-ttu-id="e756b-154">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="e756b-154">Next steps</span></span>

- <span data-ttu-id="e756b-155">Meer informatie over Hallo [portals toocreate te gebruiken en bewerken van logboek zoekopdrachten](log-analytics-log-search-portals.md).</span><span class="sxs-lookup"><span data-stu-id="e756b-155">Learn about hello [portals that you use toocreate and edit log searches](log-analytics-log-search-portals.md).</span></span>
- <span data-ttu-id="e756b-156">Bekijk een [zelfstudie over het schrijven van query's](https://go.microsoft.com/fwlink/?linkid=856078) Hallo nieuwe query language gebruiken.</span><span class="sxs-lookup"><span data-stu-id="e756b-156">Check out a [tutorial on writing queries](https://go.microsoft.com/fwlink/?linkid=856078) using hello new query language.</span></span>
