---
title: aaaContinuous integratie in VS-Team Services met behulp van Azure Resource Group projecten | Microsoft Docs
description: Hierin wordt beschreven hoe tooset van doorlopende integratie in Visual Studio Team Services met behulp van Azure Resource Group-implementatie in Visual Studio-projecten.
services: visual-studio-online
documentationcenter: na
author: mlearned
manager: erickson-doug
editor: 
ms.assetid: b81c172a-be87-4adc-861e-d20b94be9e38
ms.service: azure-resource-manager
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/01/2016
ms.author: mlearned
ms.openlocfilehash: 0fe4a4b8989ee323e8ef2206fa4ebed503025670
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="continuous-integration-in-visual-studio-team-services-using-azure-resource-group-deployment-projects"></a><span data-ttu-id="7633e-103">Doorlopende integratie in Visual Studio Team Services met behulp van Azure Resource Group implementatieprojecten</span><span class="sxs-lookup"><span data-stu-id="7633e-103">Continuous integration in Visual Studio Team Services using Azure Resource Group deployment projects</span></span>
<span data-ttu-id="7633e-104">een Azure-sjabloon toodeploy, u taken uitvoeren in verschillende stadia: maken, testen, kopie tooAzure (ook wel 'Fasering' genoemd) en de sjabloon implementeert.</span><span class="sxs-lookup"><span data-stu-id="7633e-104">toodeploy an Azure template, you perform tasks in various stages: Build, Test, Copy tooAzure (also called "Staging"), and Deploy Template.</span></span> <span data-ttu-id="7633e-105">Er zijn twee verschillende manieren toodeploy sjablonen tooVisual Studio Team Services (VS Team Services).</span><span class="sxs-lookup"><span data-stu-id="7633e-105">There are two different ways toodeploy templates tooVisual Studio Team Services (VS Team Services).</span></span> <span data-ttu-id="7633e-106">Beide methoden Hallo dezelfde resultaten opleveren, dus kies Hallo die het beste past bij uw werkstroom.</span><span class="sxs-lookup"><span data-stu-id="7633e-106">Both methods provide hello same results, so choose hello one that best fits your workflow.</span></span>

1. <span data-ttu-id="7633e-107">Een definitie van één stap tooyour build met Hallo PowerShell-script dat opgenomen in het implementatieproject Azure-resourcegroep van hello (implementeren AzureResourceGroup.ps1) toevoegen.</span><span class="sxs-lookup"><span data-stu-id="7633e-107">Add a single step tooyour build definition that runs hello PowerShell script that’s included in hello Azure Resource Group deployment project (Deploy-AzureResourceGroup.ps1).</span></span> <span data-ttu-id="7633e-108">Hallo script artefacten kopieert en vervolgens implementeert Hallo-sjabloon.</span><span class="sxs-lookup"><span data-stu-id="7633e-108">hello script copies artifacts and then deploys hello template.</span></span>
2. <span data-ttu-id="7633e-109">Voeg dat meerdere tegenover Team Services bouwen stappen elkaar uitvoeren van een taak fase.</span><span class="sxs-lookup"><span data-stu-id="7633e-109">Add multiple VS Team Services build steps, each one performing a stage task.</span></span>

<span data-ttu-id="7633e-110">In dit artikel wordt gedemonstreerd beide opties.</span><span class="sxs-lookup"><span data-stu-id="7633e-110">This article demonstrates both options.</span></span> <span data-ttu-id="7633e-111">de eerste optie Hallo heeft Hallo voordeel gebruik Hallo hetzelfde script gebruikt door ontwikkelaars in Visual Studio en het geven van de consistentie in het hele levenscyclus Hallo.</span><span class="sxs-lookup"><span data-stu-id="7633e-111">hello first option has hello advantage of using hello same script used by developers in Visual Studio and providing consistency throughout hello lifecycle.</span></span> <span data-ttu-id="7633e-112">de tweede optie Hallo biedt een handige alternatieve toohello ingebouwde script.</span><span class="sxs-lookup"><span data-stu-id="7633e-112">hello second option offers a convenient alternative toohello built-in script.</span></span> <span data-ttu-id="7633e-113">Beide procedures wordt ervan uitgegaan dat u hebt al een implementatieproject voor Visual Studio in VS-teamservices ingecheckt.</span><span class="sxs-lookup"><span data-stu-id="7633e-113">Both procedures assume you already have a Visual Studio deployment project checked into VS Team Services.</span></span>

## <a name="copy-artifacts-tooazure"></a><span data-ttu-id="7633e-114">Artefacten tooAzure kopiëren</span><span class="sxs-lookup"><span data-stu-id="7633e-114">Copy artifacts tooAzure</span></span>
<span data-ttu-id="7633e-115">Als u alle artefacten die nodig zijn voor de sjabloonimplementatie, moet u ongeacht Hallo scenario Azure Resource Manager toegang toothem geven.</span><span class="sxs-lookup"><span data-stu-id="7633e-115">Regardless of hello scenario, if you have any artifacts that are needed for template deployment, you must give Azure Resource Manager access toothem.</span></span> <span data-ttu-id="7633e-116">Deze artefacten kunnen u de volgende bestanden:</span><span class="sxs-lookup"><span data-stu-id="7633e-116">These artifacts can include files such as:</span></span>

* <span data-ttu-id="7633e-117">Geneste sjablonen</span><span class="sxs-lookup"><span data-stu-id="7633e-117">Nested templates</span></span>
* <span data-ttu-id="7633e-118">Configuratiescripts en DSC-scripts</span><span class="sxs-lookup"><span data-stu-id="7633e-118">Configuration scripts and DSC scripts</span></span>
* <span data-ttu-id="7633e-119">Binaire bestanden van toepassingen</span><span class="sxs-lookup"><span data-stu-id="7633e-119">Application binaries</span></span>

### <a name="nested-templates-and-configuration-scripts"></a><span data-ttu-id="7633e-120">Geneste sjablonen en configuratiescripts</span><span class="sxs-lookup"><span data-stu-id="7633e-120">Nested Templates and Configuration Scripts</span></span>
<span data-ttu-id="7633e-121">Wanneer u het Hallo-sjablonen die worden geleverd door Visual Studio gebruikt (of gebouwd met Visual Studio codefragmenten) Hallo PowerShell-script bereidt niet alleen Hallo artefacten, het Hallo-URI voor Hallo bronnen voor verschillende implementaties ook parameterizes.</span><span class="sxs-lookup"><span data-stu-id="7633e-121">When you use hello templates provided by Visual Studio (or built with Visual Studio snippets), hello PowerShell script not only stages hello artifacts, it also parameterizes hello URI for hello resources for different deployments.</span></span> <span data-ttu-id="7633e-122">Hallo-script en vervolgens kopieert Hallo artefacten tooa beveiligde container in Azure, maakt u een SaS-token voor die container en stuurt vervolgens deze gegevens over toohello sjabloonimplementatie.</span><span class="sxs-lookup"><span data-stu-id="7633e-122">hello script then copies hello artifacts tooa secure container in Azure, creates a SaS token for that container, and then passes that information on toohello template deployment.</span></span> <span data-ttu-id="7633e-123">Zie [sjabloonimplementatie met een maakt](https://msdn.microsoft.com/library/azure/dn790564.aspx) toolearn informatie over geneste sjablonen.</span><span class="sxs-lookup"><span data-stu-id="7633e-123">See [Create a template deployment](https://msdn.microsoft.com/library/azure/dn790564.aspx) toolearn more about nested templates.</span></span>  <span data-ttu-id="7633e-124">Wanneer u taken in de VS Team Services, moet u Hallo juiste taken voor uw sjabloonimplementatie selecteren en indien nodig, parameterwaarden doorgeven van Hallo stap toohello sjabloonimplementatie voor fasering.</span><span class="sxs-lookup"><span data-stu-id="7633e-124">When using tasks in VS Team Services, you must select hello appropriate tasks for your template deployment and if necessary, pass parameter values from hello staging step toohello template deployment.</span></span>

## <a name="set-up-continuous-deployment-in-vs-team-services"></a><span data-ttu-id="7633e-125">Doorlopende implementatie in VS-teamservices ingesteld</span><span class="sxs-lookup"><span data-stu-id="7633e-125">Set up continuous deployment in VS Team Services</span></span>
<span data-ttu-id="7633e-126">toocall hello PowerShell-script in VS-Team Services, moet u tooupdate de definitie van de build.</span><span class="sxs-lookup"><span data-stu-id="7633e-126">toocall hello PowerShell script in VS Team Services, you need tooupdate your build definition.</span></span> <span data-ttu-id="7633e-127">In het kort zijn Hallo stappen:</span><span class="sxs-lookup"><span data-stu-id="7633e-127">In brief, hello steps are:</span></span> 

1. <span data-ttu-id="7633e-128">De definitie van de build Hallo bewerken.</span><span class="sxs-lookup"><span data-stu-id="7633e-128">Edit hello build definition.</span></span>
2. <span data-ttu-id="7633e-129">Azure autorisatie in VS-teamservices instellen.</span><span class="sxs-lookup"><span data-stu-id="7633e-129">Set up Azure authorization in VS Team Services.</span></span>
3. <span data-ttu-id="7633e-130">De stap van een Azure PowerShell-build die verwijst naar de PowerShell-script in hello Azure-resourcegroep implementatieproject Hallo toevoegen.</span><span class="sxs-lookup"><span data-stu-id="7633e-130">Add an Azure PowerShell build step that references hello PowerShell script in hello Azure Resource Group deployment project.</span></span>
4. <span data-ttu-id="7633e-131">Hallo-waarde van Hallo *- ArtifactsStagingDirectory* toowork parameter aan een project is ingebouwd in VS-Team Services.</span><span class="sxs-lookup"><span data-stu-id="7633e-131">Set hello value of hello *-ArtifactsStagingDirectory* parameter toowork with a project built in VS Team Services.</span></span>

### <a name="detailed-walkthrough-for-option-1"></a><span data-ttu-id="7633e-132">Gedetailleerd overzicht optie 1</span><span class="sxs-lookup"><span data-stu-id="7633e-132">Detailed walkthrough for Option 1</span></span>
<span data-ttu-id="7633e-133">Hallo doorlopen volgende procedures Hallo stappen nodig tooconfigure continue implementatie in VS-Team Services met behulp van een enkele taak waarvoor Hallo PowerShell-script wordt uitgevoerd in uw project.</span><span class="sxs-lookup"><span data-stu-id="7633e-133">hello following procedures walk you through hello steps necessary tooconfigure continuous deployment in VS Team Services using a single task that runs hello PowerShell script in your project.</span></span> 

1. <span data-ttu-id="7633e-134">Bewerk de definitie van de VS Team Services bouwen en toevoegen van een Azure PowerShell build stap.</span><span class="sxs-lookup"><span data-stu-id="7633e-134">Edit your VS Team Services build definition and add an Azure PowerShell build step.</span></span> <span data-ttu-id="7633e-135">Kies Hallo build definitie onder Hallo **bouwen definities** categorie en kies vervolgens Hallo **bewerken** koppeling.</span><span class="sxs-lookup"><span data-stu-id="7633e-135">Choose hello build definition under hello **Build definitions** category and then choose hello **Edit** link.</span></span>
   
   ![De definitie van de build bewerken][0]
2. <span data-ttu-id="7633e-137">Voeg een nieuwe **Azure PowerShell** stap toohello build definitie bouwen en kies vervolgens Hallo **build-stap toevoegen...**</span><span class="sxs-lookup"><span data-stu-id="7633e-137">Add a new **Azure PowerShell** build step toohello build definition and then choose hello **Add build step…**</span></span> <span data-ttu-id="7633e-138">te klikken.</span><span class="sxs-lookup"><span data-stu-id="7633e-138">button.</span></span>
   
   ![Build stap toevoegen][1]
3. <span data-ttu-id="7633e-140">Kies Hallo **implementeren taak** categorie, selecteer Hallo **Azure PowerShell** taak en kies vervolgens de **toevoegen** knop.</span><span class="sxs-lookup"><span data-stu-id="7633e-140">Choose hello **Deploy task** category, select hello **Azure PowerShell** task, and then choose its **Add** button.</span></span>
   
   ![Taken toevoegen][2]
4. <span data-ttu-id="7633e-142">Kies Hallo **Azure PowerShell** stap bouwen en vul vervolgens de waarden.</span><span class="sxs-lookup"><span data-stu-id="7633e-142">Choose hello **Azure PowerShell** build step and then fill in its values.</span></span>
   
   1. <span data-ttu-id="7633e-143">Als u al een Azure-service-eindpunt toegevoegd tooVS Team Services, kiest u Hallo-abonnement in Hallo **Azure-abonnement** vervolgkeuzelijst vak en klikt u vervolgens overslaan toohello volgende sectie.</span><span class="sxs-lookup"><span data-stu-id="7633e-143">If you already have an Azure service endpoint added tooVS Team Services, choose hello subscription in hello **Azure Subscription** drop-down list box and then skip toohello next section.</span></span> 
      
      <span data-ttu-id="7633e-144">Als u geen een Azure-service-eindpunt in VS-Team Services, moet u tooadd een.</span><span class="sxs-lookup"><span data-stu-id="7633e-144">If you don’t have an Azure service endpoint in VS Team Services, you need tooadd one.</span></span> <span data-ttu-id="7633e-145">Deze subsectie doorloopt u Hallo-proces.</span><span class="sxs-lookup"><span data-stu-id="7633e-145">This subsection takes you through hello process.</span></span> <span data-ttu-id="7633e-146">Als uw Azure-account gebruikt een Microsoft-account (zoals Hotmail), moet u Hallo stappen tooget na een Service-Principal-verificatie uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="7633e-146">If your Azure account uses a Microsoft account (such as Hotmail), you must take hello following steps tooget a Service Principal authentication.</span></span>
   2. <span data-ttu-id="7633e-147">Kies Hallo **beheren** koppelen van de volgende toohello **Azure-abonnement** keuzelijst met invoervak.</span><span class="sxs-lookup"><span data-stu-id="7633e-147">Choose hello **Manage** link next toohello **Azure Subscription** drop-down list box.</span></span>
      
      ![Azure-abonnementen beheren][3]
   3. <span data-ttu-id="7633e-149">Kies **Azure** in Hallo **nieuwe Service-eindpunt** keuzelijst met invoervak.</span><span class="sxs-lookup"><span data-stu-id="7633e-149">Choose **Azure** in hello **New Service Endpoint** drop-down list box.</span></span>
      
      ![Nieuwe service-eindpunt][4]
   4. <span data-ttu-id="7633e-151">In Hallo **Azure-abonnement toevoegen** dialoogvenster, selecteer Hallo **Service-Principal** optie.</span><span class="sxs-lookup"><span data-stu-id="7633e-151">In hello **Add Azure Subscription** dialog box, select hello **Service Principal** option.</span></span>
      
      ![Service-principal optie][5]
   5. <span data-ttu-id="7633e-153">Toevoegen van uw Azure-abonnement informatie toohello **Azure-abonnement toevoegen** in het dialoogvenster.</span><span class="sxs-lookup"><span data-stu-id="7633e-153">Add your Azure subscription information toohello **Add Azure Subscription** dialog box.</span></span> <span data-ttu-id="7633e-154">U moet tooprovide Hallo volgende items:</span><span class="sxs-lookup"><span data-stu-id="7633e-154">You need tooprovide hello following items:</span></span>
      
      * <span data-ttu-id="7633e-155">Abonnements-Id</span><span class="sxs-lookup"><span data-stu-id="7633e-155">Subscription Id</span></span>
      * <span data-ttu-id="7633e-156">De naam van abonnement</span><span class="sxs-lookup"><span data-stu-id="7633e-156">Subscription Name</span></span>
      * <span data-ttu-id="7633e-157">Service-Principal-Id</span><span class="sxs-lookup"><span data-stu-id="7633e-157">Service Principal Id</span></span>
      * <span data-ttu-id="7633e-158">Service-Principal-sleutel</span><span class="sxs-lookup"><span data-stu-id="7633e-158">Service Principal Key</span></span>
      * <span data-ttu-id="7633e-159">Tenant-Id</span><span class="sxs-lookup"><span data-stu-id="7633e-159">Tenant Id</span></span>
   6. <span data-ttu-id="7633e-160">Voeg een naam van uw keuze toohello **abonnement** naamvak.</span><span class="sxs-lookup"><span data-stu-id="7633e-160">Add a name of your choice toohello **Subscription** name box.</span></span> <span data-ttu-id="7633e-161">Deze waarde wordt weergegeven in hello later **Azure-abonnement** vervolgkeuzelijst in VS-Team Services.</span><span class="sxs-lookup"><span data-stu-id="7633e-161">This value appears later in hello **Azure Subscription** drop-down list in VS Team Services.</span></span> 
   7. <span data-ttu-id="7633e-162">Als u uw Azure-abonnement-ID niet weet, kunt u een van de volgende opdrachten tooretrieve Hallo deze.</span><span class="sxs-lookup"><span data-stu-id="7633e-162">If you don’t know your Azure subscription ID, you can use one of hello following commands tooretrieve it.</span></span>
      
      <span data-ttu-id="7633e-163">Gebruik voor PowerShell-scripts:</span><span class="sxs-lookup"><span data-stu-id="7633e-163">For PowerShell scripts, use:</span></span>
      
      `Get-AzureRmSubscription`
      
      <span data-ttu-id="7633e-164">Gebruik voor Azure CLI:</span><span class="sxs-lookup"><span data-stu-id="7633e-164">For Azure CLI, use:</span></span>
      
      `azure account show`
   8. <span data-ttu-id="7633e-165">tooget een Service-Principal-ID, Service-Principal-sleutel en Tenant-ID, volgt u de procedure Hallo in [een Active Directory-toepassing en service-principal maken met portal](resource-group-create-service-principal-portal.md) of [verifiëren met een service-principal Azure Resource Manager](resource-group-authenticate-service-principal.md).</span><span class="sxs-lookup"><span data-stu-id="7633e-165">tooget a Service Principal ID, Service Principal Key, and Tenant ID, follow hello procedure in [Create Active Directory application and service principal using portal](resource-group-create-service-principal-portal.md) or [Authenticating a service principal with Azure Resource Manager](resource-group-authenticate-service-principal.md).</span></span>
   9. <span data-ttu-id="7633e-166">Add Hallo Service-Principal-ID, Service-Principal-sleutel en het Tenant-ID-waarden toohello **Azure-abonnement toevoegen** dialoogvenster vak en klik vervolgens op Hallo **OK** knop.</span><span class="sxs-lookup"><span data-stu-id="7633e-166">Add hello Service Principal ID, Service Principal Key, and Tenant ID values toohello **Add Azure Subscription** dialog box and then choose hello **OK** button.</span></span>
      
      <span data-ttu-id="7633e-167">U hebt nu een geldige Service Principal toouse toorun hello Azure PowerShell-script.</span><span class="sxs-lookup"><span data-stu-id="7633e-167">You now have a valid Service Principal toouse toorun hello Azure PowerShell script.</span></span>
5. <span data-ttu-id="7633e-168">De definitie van de build Hallo bewerken en kies Hallo **Azure PowerShell** stap bouwen.</span><span class="sxs-lookup"><span data-stu-id="7633e-168">Edit hello build definition and choose hello **Azure PowerShell** build step.</span></span> <span data-ttu-id="7633e-169">Selecteer Hallo-abonnement in Hallo **Azure-abonnement** keuzelijst met invoervak.</span><span class="sxs-lookup"><span data-stu-id="7633e-169">Select hello subscription in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="7633e-170">(Als het Hallo-abonnement niet wordt weergegeven, kiest u Hallo **vernieuwen** knop volgende Hallo **beheren** koppeling.)</span><span class="sxs-lookup"><span data-stu-id="7633e-170">(If hello subscription doesn't appear, choose hello **Refresh** button next hello **Manage** link.)</span></span> 
   
   ![Azure PowerShell opbouwtaak configureren][8]
6. <span data-ttu-id="7633e-172">Geef een pad toohello implementeren AzureResourceGroup.ps1 PowerShell-script.</span><span class="sxs-lookup"><span data-stu-id="7633e-172">Provide a path toohello Deploy-AzureResourceGroup.ps1 PowerShell script.</span></span> <span data-ttu-id="7633e-173">toodo, kies Hallo weglatingsteken (...) knop volgende toohello **scriptpad** toohello implementeren AzureResourceGroup.ps1 PowerShell-script in Hallo Ga **Scripts** map van uw project, selecteer en kies vervolgens Hallo **OK** knop.</span><span class="sxs-lookup"><span data-stu-id="7633e-173">toodo this, choose hello ellipsis (…) button next toohello **Script Path** box, navigate toohello Deploy-AzureResourceGroup.ps1 PowerShell script in hello **Scripts** folder of your project, select it, and then choose hello **OK** button.</span></span>    
   
   ![Pad tooscript selecteren][9]
7. <span data-ttu-id="7633e-175">Nadat u Hallo script hebt geselecteerd, Hallo pad toohello script bijwerken zodat deze wordt uitgevoerd vanaf Hallo Build.StagingDirectory (dezelfde directory Hallo die *ArtifactsLocation* is ingesteld op).</span><span class="sxs-lookup"><span data-stu-id="7633e-175">After you select hello script, update hello path toohello script so that it’s run from hello Build.StagingDirectory (hello same directory that *ArtifactsLocation* is set to).</span></span> <span data-ttu-id="7633e-176">U kunt dit doen door toe te voegen "$(Build.StagingDirectory)/ ' toohello begin van Hallo scriptpad.</span><span class="sxs-lookup"><span data-stu-id="7633e-176">You can do this by adding “$(Build.StagingDirectory)/” toohello beginning of hello script path.</span></span>
   
    ![Pad tooscript bewerken][10]
8. <span data-ttu-id="7633e-178">In Hallo **scriptparameters** Voer Hallo parameters (op één regel) te volgen.</span><span class="sxs-lookup"><span data-stu-id="7633e-178">In hello **Script Arguments** box, enter hello following parameters (in a single line).</span></span> <span data-ttu-id="7633e-179">Wanneer u Hallo script in Visual Studio uitvoert, kunt u zien hoe tegenover maakt gebruik van parameters in Hallo Hallo **uitvoer** venster.</span><span class="sxs-lookup"><span data-stu-id="7633e-179">When you run hello script in Visual Studio, you can see how VS uses hello parameters in hello **Output** window.</span></span> <span data-ttu-id="7633e-180">U kunt dit gebruiken als een beginpunt voor het instellen van de parameterwaarden Hallo in uw build-stap.</span><span class="sxs-lookup"><span data-stu-id="7633e-180">You can use this as a starting point for setting hello parameter values in your build step.</span></span>
   
   | <span data-ttu-id="7633e-181">Parameter</span><span class="sxs-lookup"><span data-stu-id="7633e-181">Parameter</span></span> | <span data-ttu-id="7633e-182">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="7633e-182">Description</span></span> |
   | --- | --- |
   | <span data-ttu-id="7633e-183">-ResourceGroupLocation</span><span class="sxs-lookup"><span data-stu-id="7633e-183">-ResourceGroupLocation</span></span> |<span data-ttu-id="7633e-184">geografische locatie waarde waar Hallo resourcegroep zich bevindt, zoals Hallo **eastus** of **'VS-Oost'**.</span><span class="sxs-lookup"><span data-stu-id="7633e-184">hello geo-location value where hello resource group is located, such as **eastus** or **'East US'**.</span></span> <span data-ttu-id="7633e-185">(Toevoegen tussen enkele aanhalingstekens als Hallo naam een spatie.) Zie [Azure-gebieden](https://azure.microsoft.com/en-us/regions/) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="7633e-185">(Add single quotes if there's a space in hello name.) See [Azure Regions](https://azure.microsoft.com/en-us/regions/) for more information.</span></span> |
   | <span data-ttu-id="7633e-186">-ResourceGroupName</span><span class="sxs-lookup"><span data-stu-id="7633e-186">-ResourceGroupName</span></span> |<span data-ttu-id="7633e-187">Hallo-naam van resourcegroep Hallo gebruikt voor deze implementatie.</span><span class="sxs-lookup"><span data-stu-id="7633e-187">hello name of hello resource group used for this deployment.</span></span> |
   | <span data-ttu-id="7633e-188">-UploadArtifacts</span><span class="sxs-lookup"><span data-stu-id="7633e-188">-UploadArtifacts</span></span> |<span data-ttu-id="7633e-189">Deze parameter, indien aanwezig, wordt die artefacten die toobe moeten geüpload tooAzure van Hallo lokaal systeem.</span><span class="sxs-lookup"><span data-stu-id="7633e-189">This parameter, when present, specifies that artifacts that need toobe uploaded tooAzure from hello local system.</span></span> <span data-ttu-id="7633e-190">U hoeft alleen tooset deze switch als de sjabloonimplementatie van uw extra artefacten vereist die u wilt toostage met Hallo PowerShell-script (zoals configuratiescripts of geneste sjablonen).</span><span class="sxs-lookup"><span data-stu-id="7633e-190">You only need tooset this switch if your template deployment requires extra artifacts that you want toostage using hello PowerShell script (such as configuration scripts or nested templates).</span></span> |
   | <span data-ttu-id="7633e-191">-StorageAccountName</span><span class="sxs-lookup"><span data-stu-id="7633e-191">-StorageAccountName</span></span> |<span data-ttu-id="7633e-192">Hallo-naam van de opslagaccount Hallo gebruikt toostage artefacten voor deze implementatie.</span><span class="sxs-lookup"><span data-stu-id="7633e-192">hello name of hello storage account used toostage artifacts for this deployment.</span></span> <span data-ttu-id="7633e-193">Deze parameter wordt alleen gebruikt als u bij het Faseren van artefacten voor implementatie.</span><span class="sxs-lookup"><span data-stu-id="7633e-193">This parameter is only used if you are staging artifacts for deployment.</span></span> <span data-ttu-id="7633e-194">Als deze parameter wordt opgegeven, wordt een nieuw opslagaccount gemaakt als Hallo-script niet tijdens een eerdere implementatie gemaakt is.</span><span class="sxs-lookup"><span data-stu-id="7633e-194">If this parameter is supplied, a new storage account is created if hello script has not created one during a previous deployment.</span></span> <span data-ttu-id="7633e-195">Als het Hallo-parameter wordt opgegeven, wordt opslagaccount Hallo moet al bestaan.</span><span class="sxs-lookup"><span data-stu-id="7633e-195">If hello parameter is specified, hello storage account must already exist.</span></span> |
   | <span data-ttu-id="7633e-196">-StorageAccountResourceGroupName</span><span class="sxs-lookup"><span data-stu-id="7633e-196">-StorageAccountResourceGroupName</span></span> |<span data-ttu-id="7633e-197">Hallo-naam van resourcegroep Hallo Hallo storage-account gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="7633e-197">hello name of hello resource group associated with hello storage account.</span></span> <span data-ttu-id="7633e-198">Deze parameter is alleen vereist als u een waarde voor Hallo StorageAccountName parameter opgeven.</span><span class="sxs-lookup"><span data-stu-id="7633e-198">This parameter is required only if you provide a value for hello StorageAccountName parameter.</span></span> |
   | <span data-ttu-id="7633e-199">-Sjabloonbestand</span><span class="sxs-lookup"><span data-stu-id="7633e-199">-TemplateFile</span></span> |<span data-ttu-id="7633e-200">Hallo pad toohello sjabloonbestand in implementatieproject voor hello Azure-resourcegroep.</span><span class="sxs-lookup"><span data-stu-id="7633e-200">hello path toohello template file in hello Azure Resource Group deployment project.</span></span> <span data-ttu-id="7633e-201">Gebruik een pad voor deze parameter op die locatie Hallo PowerShell-script in plaats van een absoluut pad relatief toohello tooenhance flexibiliteit.</span><span class="sxs-lookup"><span data-stu-id="7633e-201">tooenhance flexibility, use a path for this parameter that is relative toohello location of hello PowerShell script instead of an absolute path.</span></span> |
   | <span data-ttu-id="7633e-202">-TemplateParametersFile</span><span class="sxs-lookup"><span data-stu-id="7633e-202">-TemplateParametersFile</span></span> |<span data-ttu-id="7633e-203">Hallo pad toohello parameterbestand in implementatieproject voor hello Azure-resourcegroep.</span><span class="sxs-lookup"><span data-stu-id="7633e-203">hello path toohello parameters file in hello Azure Resource Group deployment project.</span></span> <span data-ttu-id="7633e-204">Gebruik een pad voor deze parameter op die locatie Hallo PowerShell-script in plaats van een absoluut pad relatief toohello tooenhance flexibiliteit.</span><span class="sxs-lookup"><span data-stu-id="7633e-204">tooenhance flexibility, use a path for this parameter that is relative toohello location of hello PowerShell script instead of an absolute path.</span></span> |
   | <span data-ttu-id="7633e-205">-ArtifactStagingDirectory</span><span class="sxs-lookup"><span data-stu-id="7633e-205">-ArtifactStagingDirectory</span></span> |<span data-ttu-id="7633e-206">Deze parameter kunt Hallo PowerShell-script weet Hallo-map van waaruit de binaire bestanden van het project Hallo moeten worden gekopieerd.</span><span class="sxs-lookup"><span data-stu-id="7633e-206">This parameter lets hello PowerShell script know hello folder from where hello project’s binary files should be copied.</span></span> <span data-ttu-id="7633e-207">Hallo-standaardwaarde gebruikt door Hallo PowerShell-script, overschrijft deze waarde.</span><span class="sxs-lookup"><span data-stu-id="7633e-207">This value overrides hello default value used by hello PowerShell script.</span></span> <span data-ttu-id="7633e-208">Voor VS Team Services gebruikt, stelt u Hallo-waarde in op: - ArtifactStagingDirectory $(Build.StagingDirectory)</span><span class="sxs-lookup"><span data-stu-id="7633e-208">For VS Team Services use, set hello value to: -ArtifactStagingDirectory $(Build.StagingDirectory)</span></span> |
   
   <span data-ttu-id="7633e-209">Hier volgt een voorbeeld van een script argumenten (line verbroken voor de leesbaarheid):</span><span class="sxs-lookup"><span data-stu-id="7633e-209">Here’s a script arguments example (line broken for readability):</span></span>
   
   ```    
   -ResourceGroupName 'MyGroup' -ResourceGroupLocation 'eastus' -TemplateFile '..\templates\azuredeploy.json' 
   -TemplateParametersFile '..\templates\azuredeploy.parameters.json' -UploadArtifacts -StorageAccountName 'mystorageacct' 
   –StorageAccountResourceGroupName 'Default-Storage-EastUS' -ArtifactStagingDirectory '$(Build.StagingDirectory)'    
   ```
   
   <span data-ttu-id="7633e-210">Wanneer u klaar bent, Hallo **scriptparameters** vak moet eruitzien als Hallo volgende lijst:</span><span class="sxs-lookup"><span data-stu-id="7633e-210">When you’re finished, hello **Script Arguments** box should resemble hello following list:</span></span>
   
   ![Scriptargumenten][11]
9. <span data-ttu-id="7633e-212">Nadat u hebt toegevoegd om alle vereiste items toohello Azure PowerShell bouwen stap hello, kiest u Hallo **wachtrij** knop toobuild Hallo project te bouwen.</span><span class="sxs-lookup"><span data-stu-id="7633e-212">After you’ve added all hello required items toohello Azure PowerShell build step, choose hello **Queue** build button toobuild hello project.</span></span> <span data-ttu-id="7633e-213">Hallo **bouwen** scherm toont Hallo-uitvoer van Hallo PowerShell-script.</span><span class="sxs-lookup"><span data-stu-id="7633e-213">hello **Build** screen shows hello output from hello PowerShell script.</span></span>

### <a name="detailed-walkthrough-for-option-2"></a><span data-ttu-id="7633e-214">Optie 2 gedetailleerd overzicht</span><span class="sxs-lookup"><span data-stu-id="7633e-214">Detailed walkthrough for Option 2</span></span>
<span data-ttu-id="7633e-215">Hallo doorlopen volgende procedures Hallo stappen nodig tooconfigure continue implementatie in VS-teamservices Hallo ingebouwde taken gebruiken.</span><span class="sxs-lookup"><span data-stu-id="7633e-215">hello following procedures walk you through hello steps necessary tooconfigure continuous deployment in VS Team Services using hello built-in tasks.</span></span>

1. <span data-ttu-id="7633e-216">Bewerk uw tegenover Team Services build definitie tooadd twee nieuwe build stappen.</span><span class="sxs-lookup"><span data-stu-id="7633e-216">Edit your VS Team Services build definition tooadd two new build steps.</span></span> <span data-ttu-id="7633e-217">Kies Hallo build definitie onder Hallo **bouwen definities** categorie en kies vervolgens Hallo **bewerken** koppeling.</span><span class="sxs-lookup"><span data-stu-id="7633e-217">Choose hello build definition under hello **Build definitions** category and then choose hello **Edit** link.</span></span>
   
   ![Build-definition bewerken][12]
2. <span data-ttu-id="7633e-219">Add Hallo nieuwe bouwen stappen toohello build definitie met Hallo **build-stap toevoegen...**</span><span class="sxs-lookup"><span data-stu-id="7633e-219">Add hello new build steps toohello build definition using hello **Add build step…**</span></span> <span data-ttu-id="7633e-220">te klikken.</span><span class="sxs-lookup"><span data-stu-id="7633e-220">button.</span></span>
   
   ![Build stap toevoegen][13]
3. <span data-ttu-id="7633e-222">Kies Hallo **implementeren** taakcategorie, selecteer Hallo **Azure bestandskopie** taak en kies vervolgens de **toevoegen** knop.</span><span class="sxs-lookup"><span data-stu-id="7633e-222">Choose hello **Deploy** task category, select hello **Azure File Copy** task, and then choose its **Add** button.</span></span>
   
   ![Azure bestandskopie taak toevoegen][14]
4. <span data-ttu-id="7633e-224">Kies Hallo **Azure Resource Group Deployment** taak en kies vervolgens de **toevoegen** knop en vervolgens **sluiten** hello **taak catalogus**.</span><span class="sxs-lookup"><span data-stu-id="7633e-224">Choose hello **Azure Resource Group Deployment** task, then choose its **Add** button and then **Close** hello **Task Catalog**.</span></span>
   
   ![Azure Resource Group Deployment taak toevoegen][15]
5. <span data-ttu-id="7633e-226">Kies Hallo **Azure bestandskopie** taak en de waarden in te vullen.</span><span class="sxs-lookup"><span data-stu-id="7633e-226">Choose hello **Azure File Copy** task and fill in its values.</span></span>
   
   <span data-ttu-id="7633e-227">Als u al een Azure-service-eindpunt toegevoegd tooVS Team Services, kiest u Hallo-abonnement in Hallo **Azure-abonnement** keuzelijst met invoervak.</span><span class="sxs-lookup"><span data-stu-id="7633e-227">If you already have an Azure service endpoint added tooVS Team Services, choose hello subscription in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="7633e-228">Als u niet een abonnement hebt, raadpleegt u [optie 1](#detailed-walkthrough-for-option-1) voor instructies over het instellen van een van in VS-teamservices.</span><span class="sxs-lookup"><span data-stu-id="7633e-228">If you do not have a subscription, see [Option 1](#detailed-walkthrough-for-option-1) for instructions on setting one up in VS Team Services.</span></span>
   
   * <span data-ttu-id="7633e-229">Bron - Voer **$(Build.StagingDirectory)**</span><span class="sxs-lookup"><span data-stu-id="7633e-229">Source - enter **$(Build.StagingDirectory)**</span></span>
   * <span data-ttu-id="7633e-230">Azure verbindingstype - Selecteer **Azure Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="7633e-230">Azure Connection Type - select **Azure Resource Manager**</span></span>
   * <span data-ttu-id="7633e-231">Azure RM-abonnement - Selecteer Hallo abonnement voor Hallo storage-account u wilt dat toouse in Hallo **Azure-abonnement** keuzelijst met invoervak.</span><span class="sxs-lookup"><span data-stu-id="7633e-231">Azure RM Subscription - select hello subscription for hello storage account you want toouse in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="7633e-232">Als het Hallo-abonnement niet wordt weergegeven, kiest u Hallo **vernieuwen** knop volgende Hallo **beheren** koppeling.</span><span class="sxs-lookup"><span data-stu-id="7633e-232">If hello subscription doesn't appear, choose hello **Refresh** button next hello **Manage** link.</span></span>
   * <span data-ttu-id="7633e-233">Doeltype - Selecteer **Azure Blob**</span><span class="sxs-lookup"><span data-stu-id="7633e-233">Destination Type - select **Azure Blob**</span></span>
   * <span data-ttu-id="7633e-234">RM Storage-Account - Selecteer Hallo storage account u wilt dat toouse voor het Faseren van artefacten</span><span class="sxs-lookup"><span data-stu-id="7633e-234">RM Storage Account - select hello storage account you would like toouse for staging artifacts</span></span>
   * <span data-ttu-id="7633e-235">Containernaam - Hallo naam invoeren van de container Hallo gewenst toouse voor fasering; elke naam zijn geldige container kan, maar één toegewezen toothis build definitie gebruiken</span><span class="sxs-lookup"><span data-stu-id="7633e-235">Container Name - enter hello name of hello container you would like toouse for staging; it can be any valid container name, but use one dedicated toothis build definition</span></span>
   
   <span data-ttu-id="7633e-236">Voor de uitvoerwaarden Hallo:</span><span class="sxs-lookup"><span data-stu-id="7633e-236">For hello output values:</span></span>
   
   * <span data-ttu-id="7633e-237">Storage-Container URI - Voer **artifactsLocation**</span><span class="sxs-lookup"><span data-stu-id="7633e-237">Storage Container URI - enter **artifactsLocation**</span></span>
   * <span data-ttu-id="7633e-238">Storage-Container SAS-Token - Voer **artifactsLocationSasToken**</span><span class="sxs-lookup"><span data-stu-id="7633e-238">Storage Container SAS Token - enter **artifactsLocationSasToken**</span></span>
   
   ![De taak Azure bestand kopiëren configureren][16]
6. <span data-ttu-id="7633e-240">Kies Hallo **Azure Resource Group Deployment** stap bouwen en vul vervolgens de waarden.</span><span class="sxs-lookup"><span data-stu-id="7633e-240">Choose hello **Azure Resource Group Deployment** build step and then fill in its values.</span></span>
   
   * <span data-ttu-id="7633e-241">Azure verbindingstype - Selecteer **Azure Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="7633e-241">Azure Connection Type - select **Azure Resource Manager**</span></span>
   * <span data-ttu-id="7633e-242">Azure RM-abonnement - abonnement voor de implementatie in Hallo Selecteer Hallo **Azure-abonnement** keuzelijst met invoervak.</span><span class="sxs-lookup"><span data-stu-id="7633e-242">Azure RM Subscription - select hello subscription for deployment in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="7633e-243">Dit is meestal Hallo hetzelfde abonnement worden gebruikt in de vorige stap Hallo</span><span class="sxs-lookup"><span data-stu-id="7633e-243">This will usually be hello same subscription used in hello previous step</span></span>
   * <span data-ttu-id="7633e-244">Actie - Selecteer **maken of bijwerken resourcegroep**</span><span class="sxs-lookup"><span data-stu-id="7633e-244">Action - select **Create or Update Resource Group**</span></span>
   * <span data-ttu-id="7633e-245">Resourcegroep - Selecteer een resourcegroep of Hallo-naam van een nieuwe resourcegroep voor Hallo-implementatie</span><span class="sxs-lookup"><span data-stu-id="7633e-245">Resource Group - select a resource group or enter hello name of a new resource group for hello deployment</span></span>
   * <span data-ttu-id="7633e-246">Locatie - Selecteer Hallo-locatie voor de resourcegroep Hallo</span><span class="sxs-lookup"><span data-stu-id="7633e-246">Location - select hello location for hello resource group</span></span>
   * <span data-ttu-id="7633e-247">Sjabloon: Voer Hallo pad en naam van Hallo sjabloon toobe geïmplementeerd voorafgaand **$(Build.StagingDirectory)**, bijvoorbeeld: **$(Build.StagingDirectory/DSC-CI/azuredeploy.json)**</span><span class="sxs-lookup"><span data-stu-id="7633e-247">Template - enter hello path and name of hello template toobe deployed prepending **$(Build.StagingDirectory)**, for example: **$(Build.StagingDirectory/DSC-CI/azuredeploy.json)**</span></span>
   * <span data-ttu-id="7633e-248">Sjabloonparameters - Hallo pad en naam van Hallo parameters toobe gebruikt, voer voorafgaand **$(Build.StagingDirectory)**, bijvoorbeeld: **$(Build.StagingDirectory/DSC-CI/azuredeploy.parameters.json)**</span><span class="sxs-lookup"><span data-stu-id="7633e-248">Template Parameters - enter hello path and name of hello parameters toobe used, prepending **$(Build.StagingDirectory)**, for example: **$(Build.StagingDirectory/DSC-CI/azuredeploy.parameters.json)**</span></span>
   * <span data-ttu-id="7633e-249">Sjabloonparameters overschrijven: Voer of kopiëren en plakken van Hallo code te volgen:</span><span class="sxs-lookup"><span data-stu-id="7633e-249">Override Template Parameters - enter or copy and paste hello following code:</span></span>
     
     ```    
     -_artifactsLocation $(artifactsLocation) -_artifactsLocationSasToken (ConvertTo-SecureString -String "$(artifactsLocationSasToken)" -AsPlainText -Force)
     ```
     ![Azure-resourcegroep implementatie taak configureren][17]
7. <span data-ttu-id="7633e-251">Nadat u alle vereiste Hallo items hebt toegevoegd, Hallo build definitie opslaan en kies **wachtrij nieuwe build** Hallo bovenaan.</span><span class="sxs-lookup"><span data-stu-id="7633e-251">After you’ve added all hello required items, save hello build definition and choose **Queue new build** at hello top.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7633e-252">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="7633e-252">Next steps</span></span>
<span data-ttu-id="7633e-253">Lees [overzicht van Azure Resource Manager](azure-resource-manager/resource-group-overview.md) toolearn meer informatie over Azure Resource Manager en Azure-resourcegroepen.</span><span class="sxs-lookup"><span data-stu-id="7633e-253">Read [Azure Resource Manager overview](azure-resource-manager/resource-group-overview.md) toolearn more about Azure Resource Manager and Azure resource groups.</span></span>

[0]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough1.png
[1]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough2.png
[2]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough3.png
[3]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough4.png
[4]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough5.png
[5]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough6.png
[8]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough9.png
[9]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough10.png
[10]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough11b.png
[11]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough12.png
[12]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough13.png
[13]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough14.png
[14]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough15.png
[15]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough16.png
[16]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough17.png
[17]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough18.png
