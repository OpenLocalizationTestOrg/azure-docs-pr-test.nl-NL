---
title: aaaHow tooimplement meervoudige navigatie in Azure Search | Microsoft Docs
description: "Voeg facetnavigatie tooapplications die kunnen worden geïntegreerd met Azure Search, een zoekservice in de cloud gehoste op Microsoft Azure."
services: search
documentationcenter: 
author: HeidiSteen
manager: mblythe
editor: 
ms.assetid: cdf98fd4-63fd-4b50-b0b0-835cb08ad4d3
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 3/10/2017
ms.author: heidist
ms.openlocfilehash: c1e6bf9dc55d0044525db79e37d35a50ded5a736
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="how-tooimplement-faceted-navigation-in-azure-search"></a><span data-ttu-id="bd02c-103">Hoe tooimplement meervoudige navigatie in Azure Search</span><span class="sxs-lookup"><span data-stu-id="bd02c-103">How tooimplement faceted navigation in Azure Search</span></span>
<span data-ttu-id="bd02c-104">Meervoudige navigatie is een filtermechanisme waarmee zelf gerichte analyse navigatie in toepassingen.</span><span class="sxs-lookup"><span data-stu-id="bd02c-104">Faceted navigation is a filtering mechanism that provides self-directed drilldown navigation in search applications.</span></span> <span data-ttu-id="bd02c-105">Hallo term 'facetnavigatie' niet bekend zijn, maar u hebt waarschijnlijk het eerder gebruikt.</span><span class="sxs-lookup"><span data-stu-id="bd02c-105">hello term 'faceted navigation' may be unfamiliar, but you've probably used it before.</span></span> <span data-ttu-id="bd02c-106">Als de Hallo volgende voorbeeld wordt getoond, is meervoudige navigatie niets meer dan Hallo categorieën gebruikt toofilter resultaten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-106">As hello following example shows, faceted navigation is nothing more than hello categories used toofilter results.</span></span>

 ![Azure Search taak Portal-Demo][1]

<span data-ttu-id="bd02c-108">Meervoudige navigatie is een alternatieve vermelding punt toosearch.</span><span class="sxs-lookup"><span data-stu-id="bd02c-108">Faceted navigation is an alternative entry point toosearch.</span></span> <span data-ttu-id="bd02c-109">Biedt een handige alternatieve tootyping complexe zoekopdracht expressies handmatig.</span><span class="sxs-lookup"><span data-stu-id="bd02c-109">It offers a convenient alternative tootyping complex search expressions by hand.</span></span> <span data-ttu-id="bd02c-110">Facetten kunt u vinden wat u zoekt, terwijl u ervoor zorgt dat er geen nul resultaten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-110">Facets can help you find what you're looking for, while ensuring that you don’t get zero results.</span></span> <span data-ttu-id="bd02c-111">Als een ontwikkelaar kunnen facetten u blootstellen Hallo nuttigst zoekcriteria voor uw zoekopdracht corpus navigeren.</span><span class="sxs-lookup"><span data-stu-id="bd02c-111">As a developer, facets let you expose hello most useful search criteria for navigating your search corpus.</span></span> <span data-ttu-id="bd02c-112">In online retail-toepassingen is vaak facetnavigatie gebouwd via merken, afdelingen (kinderen om), grootte, prijs, populariteit en classificaties.</span><span class="sxs-lookup"><span data-stu-id="bd02c-112">In online retail applications, faceted navigation is often built over brands, departments (kid’s shoes), size, price, popularity, and ratings.</span></span> 

<span data-ttu-id="bd02c-113">Implementatie van meervoudige navigatie verschilt voor elk voor zoekopdracht technologieën.</span><span class="sxs-lookup"><span data-stu-id="bd02c-113">Implementing faceted navigation differs across search technologies.</span></span> <span data-ttu-id="bd02c-114">In Azure Search is meervoudige navigatie op moment van de query wordt gebouwd met velden die u eerder in uw schema toegeschreven.</span><span class="sxs-lookup"><span data-stu-id="bd02c-114">In Azure Search, faceted navigation is built at query time, using fields that you previously attributed in your schema.</span></span>

-   <span data-ttu-id="bd02c-115">Hallo-query's die uw toepassing wordt gemaakt, een query moet verzenden *facet queryparameters* resultaatset tooget Hallo beschikbaar facet filterwaarden voor het document.</span><span class="sxs-lookup"><span data-stu-id="bd02c-115">In hello queries that your application builds, a query must send *facet query parameters* tooget hello available facet filter values for that document result set.</span></span>

-   <span data-ttu-id="bd02c-116">tooactually trim Hallo document resultatenset, Hallo toepassing moet worden toegepast een `$filter` expressie.</span><span class="sxs-lookup"><span data-stu-id="bd02c-116">tooactually trim hello document result set, hello application must also apply a `$filter` expression.</span></span>

<span data-ttu-id="bd02c-117">In uw toepassingsontwikkeling vormt schrijven van code die wordt gemaakt van query's Hallo bulksgewijs Hallo werk.</span><span class="sxs-lookup"><span data-stu-id="bd02c-117">In your application development, writing code that constructs queries constitutes hello bulk of hello work.</span></span> <span data-ttu-id="bd02c-118">Veel van het gedrag van de Hallo-toepassingen die u van meervoudige navigatie verwacht worden geleverd door het Hallo-service, inclusief ingebouwde ondersteuning voor het definiëren van de bereiken en ophalen van tellingen voor facet resultaten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-118">Many of hello application behaviors that you would expect from faceted navigation are provided by hello service, including built-in support for defining ranges and getting counts for facet results.</span></span> <span data-ttu-id="bd02c-119">Hallo-service omvat ook de praktische standaardwaarden die u helpen te voorkomen dat onhandig navigatiestructuur.</span><span class="sxs-lookup"><span data-stu-id="bd02c-119">hello service also includes sensible defaults that help you avoid unwieldy navigation structures.</span></span> 

## <a name="sample-code-and-demo"></a><span data-ttu-id="bd02c-120">Voorbeeldcode en demo</span><span class="sxs-lookup"><span data-stu-id="bd02c-120">Sample code and demo</span></span>
<span data-ttu-id="bd02c-121">In dit artikel wordt een taak zoeken portal als voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="bd02c-121">This article uses a job search portal as an example.</span></span> <span data-ttu-id="bd02c-122">Hallo-voorbeeld wordt geïmplementeerd als een ASP.NET MVC-toepassing.</span><span class="sxs-lookup"><span data-stu-id="bd02c-122">hello example is implemented as an ASP.NET MVC application.</span></span>

-   <span data-ttu-id="bd02c-123">Zie en testen Hallo werkende demo online op [Azure Search taak Portal-Demo](http://azjobsdemo.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="bd02c-123">See and test hello working demo online at [Azure Search Job Portal Demo](http://azjobsdemo.azurewebsites.net/).</span></span>

-   <span data-ttu-id="bd02c-124">Hallo code downloaden van Hallo [Azure-Samples-opslagplaats op GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span><span class="sxs-lookup"><span data-stu-id="bd02c-124">Download hello code from hello [Azure-Samples repo on GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span></span>

## <a name="get-started"></a><span data-ttu-id="bd02c-125">Aan de slag</span><span class="sxs-lookup"><span data-stu-id="bd02c-125">Get started</span></span>
<span data-ttu-id="bd02c-126">Als u nieuwe toosearch ontwikkeling, is het beste manier toothink Hallo van meervoudige navigatie Hallo mogelijkheden voor gericht zoeken dat wordt.</span><span class="sxs-lookup"><span data-stu-id="bd02c-126">If you're new toosearch development, hello best way toothink of faceted navigation is that it shows hello possibilities for self-directed search.</span></span> <span data-ttu-id="bd02c-127">Het is een soort inzoomen zoekervaring, op basis van vooraf gedefinieerde filters, die worden gebruikt voor het verfijnen van snel omlaag zoekresultaten via point-and-click acties.</span><span class="sxs-lookup"><span data-stu-id="bd02c-127">It’s a type of drill-down search experience, based on predefined filters, used for quickly narrowing down search results through point-and-click actions.</span></span> 

### <a name="interaction-model"></a><span data-ttu-id="bd02c-128">Interactie model</span><span class="sxs-lookup"><span data-stu-id="bd02c-128">Interaction model</span></span>

<span data-ttu-id="bd02c-129">Hallo zoekervaring voor meervoudige navigatie is herhaald, dus laten we eerst het als een reeks van query's die in toouser reacties uitgevouwen begrijpen.</span><span class="sxs-lookup"><span data-stu-id="bd02c-129">hello search experience for faceted navigation is iterative, so let’s start by understanding it as a sequence of queries that unfold in response toouser actions.</span></span>

<span data-ttu-id="bd02c-130">Hallo beginpunt is een toepassingspagina waarmee facetnavigatie doorgaans op Hallo omtrek geplaatst.</span><span class="sxs-lookup"><span data-stu-id="bd02c-130">hello starting point is an application page that provides faceted navigation, typically placed on hello periphery.</span></span> <span data-ttu-id="bd02c-131">Meervoudige navigatie is vaak een boomstructuur met selectievakjes uit voor elke waarde of overeen.</span><span class="sxs-lookup"><span data-stu-id="bd02c-131">Faceted navigation is often a tree structure, with checkboxes for each value, or clickable text.</span></span> 

1. <span data-ttu-id="bd02c-132">Een query verzonden tooAzure zoeken geeft Hallo facetnavigatie structuur via een of meer facet queryparameters.</span><span class="sxs-lookup"><span data-stu-id="bd02c-132">A query sent tooAzure Search specifies hello faceted navigation structure via one or more facet query parameters.</span></span> <span data-ttu-id="bd02c-133">Bijvoorbeeld Hallo query mogelijk ook `facet=Rating`, mogelijk met een `:values` of `:sort` optie toofurther Hallo presentatie verfijnen.</span><span class="sxs-lookup"><span data-stu-id="bd02c-133">For instance, hello query might include `facet=Rating`, perhaps with a `:values` or `:sort` option toofurther refine hello presentation.</span></span>
2. <span data-ttu-id="bd02c-134">Hallo presentatie laag geeft een zoekpagina waarmee facetnavigatie met Hallo facetten die zijn opgegeven op het Hallo-aanvraag.</span><span class="sxs-lookup"><span data-stu-id="bd02c-134">hello presentation layer renders a search page that provides faceted navigation, using hello facets specified on hello request.</span></span>
3. <span data-ttu-id="bd02c-135">Uitgaande van een meervoudige navigatie-structuur met de classificatie, klikt u op "4" tooindicate die alleen producten met een classificatie van 4 of hoger moeten worden weergegeven.</span><span class="sxs-lookup"><span data-stu-id="bd02c-135">Given a faceted navigation structure that includes Rating, you click "4" tooindicate that only products with a rating of 4 or higher should be shown.</span></span> 
4. <span data-ttu-id="bd02c-136">Als antwoord verzendt toepassing hello een query met`$filter=Rating ge 4`</span><span class="sxs-lookup"><span data-stu-id="bd02c-136">In response, hello application sends a query that includes `$filter=Rating ge 4`</span></span> 
5. <span data-ttu-id="bd02c-137">Hallo presentatie laag updates Hallo pagina, met een verminderde resultatenset met alleen de items die voldoen aan de nieuwe criteria Hallo (in dit geval producten beoordeeld 4 en hoger).</span><span class="sxs-lookup"><span data-stu-id="bd02c-137">hello presentation layer updates hello page, showing a reduced result set, containing just those items that satisfy hello new criteria (in this case, products rated 4 and up).</span></span>

<span data-ttu-id="bd02c-138">Een facet is een queryparameter, maar niet verwarren met invoer voor de query.</span><span class="sxs-lookup"><span data-stu-id="bd02c-138">A facet is a query parameter, but do not confuse it with query input.</span></span> <span data-ttu-id="bd02c-139">Dit wordt nooit gebruikt als selectiecriteria in een query.</span><span class="sxs-lookup"><span data-stu-id="bd02c-139">It is never used as selection criteria in a query.</span></span> <span data-ttu-id="bd02c-140">In plaats daarvan zien facet queryparameters als invoer toohello navigatiestructuur die weer in het Hallo-antwoord.</span><span class="sxs-lookup"><span data-stu-id="bd02c-140">Instead, think of facet query parameters as inputs toohello navigation structure that comes back in hello response.</span></span> <span data-ttu-id="bd02c-141">Voor elke facet queryparameter die u opgeeft, evalueert Azure Search hoeveel documenten zijn in Hallo gedeeltelijke resultaten voor elke facetwaarde.</span><span class="sxs-lookup"><span data-stu-id="bd02c-141">For each facet query parameter you provide, Azure Search evaluates how many documents are in hello partial results for each facet value.</span></span>

<span data-ttu-id="bd02c-142">Kennisgeving Hallo `$filter` in stap 4.</span><span class="sxs-lookup"><span data-stu-id="bd02c-142">Notice hello `$filter` in step 4.</span></span> <span data-ttu-id="bd02c-143">Hallo-filter is een belangrijk aspect van meervoudige navigatie.</span><span class="sxs-lookup"><span data-stu-id="bd02c-143">hello filter is an important aspect of faceted navigation.</span></span> <span data-ttu-id="bd02c-144">Hoewel de facetten en filters onafhankelijk van elkaar in Hallo API zijn, moet u beide toodeliver Hallo-ervaring die u van plan bent.</span><span class="sxs-lookup"><span data-stu-id="bd02c-144">Although facets and filters are independent in hello API, you need both toodeliver hello experience you intend.</span></span> 

### <a name="app-design-pattern"></a><span data-ttu-id="bd02c-145">Het ontwerppatroon App</span><span class="sxs-lookup"><span data-stu-id="bd02c-145">App design pattern</span></span>

<span data-ttu-id="bd02c-146">Hallo patroon is in de toepassingscode, toouse facet query parameters tooreturn hello facetnavigatiestructuur samen met facet resultaten, plus een $filter-expressie.</span><span class="sxs-lookup"><span data-stu-id="bd02c-146">In application code, hello pattern is toouse facet query parameters tooreturn hello faceted navigation structure along with facet results, plus a $filter expression.</span></span>  <span data-ttu-id="bd02c-147">Hallo filter expressie ingangen Hallo-gebeurtenis op Hallo facetwaarde geklikt.</span><span class="sxs-lookup"><span data-stu-id="bd02c-147">hello filter expression handles hello click event on hello facet value.</span></span> <span data-ttu-id="bd02c-148">Bedenk Hallo `$filter` expressie als Hallo code achter de werkelijke bijsnijden Hallo zoekresultaten toohello presentatie laag geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="bd02c-148">Think of hello `$filter` expression as hello code behind hello actual trimming of search results returned toohello presentation layer.</span></span> <span data-ttu-id="bd02c-149">Gezien een facet kleuren, te klikken op Hallo kleur rood wordt geïmplementeerd via een `$filter` expressie die u selecteert alleen de items die een kleur van rood hebben.</span><span class="sxs-lookup"><span data-stu-id="bd02c-149">Given a Colors facet, clicking hello color Red is implemented through a `$filter` expression that selects only those items that have a color of red.</span></span> 

### <a name="query-basics"></a><span data-ttu-id="bd02c-150">Query-basisbeginselen</span><span class="sxs-lookup"><span data-stu-id="bd02c-150">Query basics</span></span>

<span data-ttu-id="bd02c-151">In Azure Search een aanvraag via een of meer queryparameters is opgegeven (Zie [documenten zoeken](http://msdn.microsoft.com/library/azure/dn798927.aspx) voor een beschrijving van elk criterium).</span><span class="sxs-lookup"><span data-stu-id="bd02c-151">In Azure Search, a request is specified through one or more query parameters (see [Search Documents](http://msdn.microsoft.com/library/azure/dn798927.aspx) for a description of each one).</span></span> <span data-ttu-id="bd02c-152">Geen van de queryparameters Hallo zijn vereist, maar u moet ten minste één om een geldige query-toobe hebben.</span><span class="sxs-lookup"><span data-stu-id="bd02c-152">None of hello query parameters are required, but you must have at least one in order for a query toobe valid.</span></span>

<span data-ttu-id="bd02c-153">Precisie, begrepen zoals hello mogelijkheid toofilter uit irrelevante treffers verkregen is via een van deze expressies of beide:</span><span class="sxs-lookup"><span data-stu-id="bd02c-153">Precision, understood as hello ability toofilter out irrelevant hits, is achieved through one or both of these expressions:</span></span>

-   <span data-ttu-id="bd02c-154">**zoeken =**</span><span class="sxs-lookup"><span data-stu-id="bd02c-154">**search=**</span></span>  
    <span data-ttu-id="bd02c-155">Hallo-waarde van deze parameter wordt verstaan onder Hallo zoekexpressie.</span><span class="sxs-lookup"><span data-stu-id="bd02c-155">hello value of this parameter constitutes hello search expression.</span></span> <span data-ttu-id="bd02c-156">Een los stukje van tekst of een complexe zoekopdracht-expressie met meerdere voorwaarden en operators mogelijk.</span><span class="sxs-lookup"><span data-stu-id="bd02c-156">It might be a single piece of text, or a complex search expression that includes multiple terms and operators.</span></span> <span data-ttu-id="bd02c-157">Op Hallo van server, wordt een zoekexpressie gebruikt voor zoeken in volledige tekst, doorzoekbare velden in Hallo index voor die overeenkomt met de voorwaarden, retourneren resultaten in de volgorde van de waarden van positie opvragen.</span><span class="sxs-lookup"><span data-stu-id="bd02c-157">On hello server, a search expression is used for full-text search, querying searchable fields in hello index for matching terms, returning results in rank order.</span></span> <span data-ttu-id="bd02c-158">Als u instelt `search` toonull, queryuitvoering ligt boven de gehele index hello (dat wil zeggen, `search=*`).</span><span class="sxs-lookup"><span data-stu-id="bd02c-158">If you set `search` toonull, query execution is over hello entire index (that is, `search=*`).</span></span> <span data-ttu-id="bd02c-159">In this case, andere elementen van Hallo query uitvoert, zoals een `$filter` of Hallo primaire factoren die invloed hebben op welke documenten worden geretourneerd scoren van profiel zijn `($filter`) en in welke volgorde (`scoringProfile` of `$orderby`).</span><span class="sxs-lookup"><span data-stu-id="bd02c-159">In this case, other elements of hello query, such as a `$filter` or scoring profile, are hello primary factors affecting which documents are returned `($filter`) and in what order (`scoringProfile` or `$orderby`).</span></span>

-   <span data-ttu-id="bd02c-160">**$filter =**</span><span class="sxs-lookup"><span data-stu-id="bd02c-160">**$filter=**</span></span>  
    <span data-ttu-id="bd02c-161">Een filter is een krachtig mechanisme voor het beperken van de grootte van de zoekresultaten op basis van waarden van specifieke documentkenmerken Hallo Hallo.</span><span class="sxs-lookup"><span data-stu-id="bd02c-161">A filter is a powerful mechanism for limiting hello size of search results based on hello values of specific document attributes.</span></span> <span data-ttu-id="bd02c-162">Een `$filter` wordt eerst geëvalueerd, gevolgd door de facetten logica die Hallo beschikbare waarden en bijbehorende tellingen voor elke waarde genereert</span><span class="sxs-lookup"><span data-stu-id="bd02c-162">A `$filter` is evaluated first, followed by faceting logic that generates hello available values and corresponding counts for each value</span></span>

<span data-ttu-id="bd02c-163">Complexe zoekopdracht expressies verminderen Hallo prestaties van query Hallo.</span><span class="sxs-lookup"><span data-stu-id="bd02c-163">Complex search expressions decrease hello performance of hello query.</span></span> <span data-ttu-id="bd02c-164">Waar mogelijk, goed opgebouwde filter expressies tooincrease precisie gebruiken en queryprestaties verbeteren.</span><span class="sxs-lookup"><span data-stu-id="bd02c-164">Where possible, use well-constructed filter expressions tooincrease precision and improve query performance.</span></span>

<span data-ttu-id="bd02c-165">toobetter begrijpen hoe nauwkeuriger in een filter wordt toegevoegd, een complexe zoekopdracht expressie tooone met een filterexpressie vergelijken:</span><span class="sxs-lookup"><span data-stu-id="bd02c-165">toobetter understand how a filter adds more precision, compare a complex search expression tooone that includes a filter expression:</span></span>

-   `GET /indexes/hotel/docs?search=lodging budget +Seattle –motel +parking`
-   `GET /indexes/hotel/docs?search=lodging&$filter=City eq ‘Seattle’ and Parking and Type ne ‘motel’`

<span data-ttu-id="bd02c-166">Beide query's zijn geldig, maar Hallo tweede beter als u niet motels met parkeerplaatsen in Haarlem zoekt is.</span><span class="sxs-lookup"><span data-stu-id="bd02c-166">Both queries are valid, but hello second is superior if you’re looking for non-motels with parking in Seattle.</span></span>
-   <span data-ttu-id="bd02c-167">de eerste query Hallo afhankelijk van deze specifieke woorden wordt vermeld of niet wordt vermeld in tekenreeksvelden zoals naam, beschrijving en andere velden die doorzoekbare gegevens.</span><span class="sxs-lookup"><span data-stu-id="bd02c-167">hello first query relies on those specific words being mentioned or not mentioned in string fields like Name, Description, and any other field containing searchable data.</span></span>
-   <span data-ttu-id="bd02c-168">Hallo tweede query zoekt nauwkeurige overeenkomsten op gestructureerde gegevens en is waarschijnlijk toobe nauwkeuriger.</span><span class="sxs-lookup"><span data-stu-id="bd02c-168">hello second query looks for precise matches on structured data and is likely toobe much more accurate.</span></span>

<span data-ttu-id="bd02c-169">In toepassingen die facetnavigatie omvatten, maar zorg ervoor dat wordt elke actie van de gebruiker over de structuur van een meervoudige navigatie vergezeld van een beperking van de zoekresultaten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-169">In applications that include faceted navigation, make sure that each user action over a faceted navigation structure is accompanied by a narrowing of search results.</span></span> <span data-ttu-id="bd02c-170">toonarrow resultaten, een filterexpressie gebruiken.</span><span class="sxs-lookup"><span data-stu-id="bd02c-170">toonarrow results, use a filter expression.</span></span>

<a name="howtobuildit"></a>

## <a name="build-a-faceted-navigation-app"></a><span data-ttu-id="bd02c-171">Een meervoudige navigatie-app bouwen</span><span class="sxs-lookup"><span data-stu-id="bd02c-171">Build a faceted navigation app</span></span>
<span data-ttu-id="bd02c-172">U implementeren meervoudige navigatie met Azure Search in uw toepassingscode die Hallo zoekaanvraag voortbouwt.</span><span class="sxs-lookup"><span data-stu-id="bd02c-172">You implement faceted navigation with Azure Search in your application code that builds hello search request.</span></span> <span data-ttu-id="bd02c-173">Hallo facetnavigatie afhankelijk van de elementen in het schema dat u eerder hebt gedefinieerd.</span><span class="sxs-lookup"><span data-stu-id="bd02c-173">hello faceted navigation relies on elements in your schema that you defined previously.</span></span>

<span data-ttu-id="bd02c-174">Hallo vooraf gedefinieerd in uw search-index is `Facetable [true|false]` kenmerk indexeren, ingesteld op de geselecteerde velden tooenable of uitschakelen van het gebruik ervan in een meervoudige navigatie-structuur.</span><span class="sxs-lookup"><span data-stu-id="bd02c-174">Predefined in your search index is hello `Facetable [true|false]` index attribute, set on selected fields tooenable or disable their use in a faceted navigation structure.</span></span> <span data-ttu-id="bd02c-175">Zonder `"Facetable" = true`, een veld in de navigatiebalk facet kan niet worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="bd02c-175">Without `"Facetable" = true`, a field cannot be used in facet navigation.</span></span>

<span data-ttu-id="bd02c-176">Hallo presentatie laag in uw code biedt Hallo gebruikerservaring.</span><span class="sxs-lookup"><span data-stu-id="bd02c-176">hello presentation layer in your code provides hello user experience.</span></span> <span data-ttu-id="bd02c-177">Het beste Hallo samenstellende delen van meervoudige navigatie hello, zoals Hallo label, waarden, selectievakjes en Hallo aantal aanbieden.</span><span class="sxs-lookup"><span data-stu-id="bd02c-177">It should list hello constituent parts of hello faceted navigation, such as hello label, values, check boxes, and hello count.</span></span> <span data-ttu-id="bd02c-178">Hello Azure Search REST API is platform networkdirect, dus elke taal en het platform dat u wilt gebruiken.</span><span class="sxs-lookup"><span data-stu-id="bd02c-178">hello Azure Search REST API is platform agnostic, so use whatever language and platform you want.</span></span> <span data-ttu-id="bd02c-179">Hallo belangrijkste is dat tooinclude UI-elementen die ondersteuning bieden voor incrementele met bijgewerkte gebruikersinterfacestatus vernieuwen omdat elke extra facet is geselecteerd.</span><span class="sxs-lookup"><span data-stu-id="bd02c-179">hello important thing is tooinclude UI elements that support incremental refresh, with updated UI state as each additional facet is selected.</span></span> 

<span data-ttu-id="bd02c-180">Op het moment dat de query, maakt de toepassingscode een aanvraag met `facet=[string]`, een aanvraagparameter waarmee Hallo veld toofacet door.</span><span class="sxs-lookup"><span data-stu-id="bd02c-180">At query time, your application code creates a request that includes `facet=[string]`, a request parameter that provides hello field toofacet by.</span></span> <span data-ttu-id="bd02c-181">Een query kunt beschikt over meerdere facetten zoals `&facet=color&facet=category&facet=rating`, elkaar gescheiden door een ampersand (&)-teken.</span><span class="sxs-lookup"><span data-stu-id="bd02c-181">A query can have multiple facets, such as `&facet=color&facet=category&facet=rating`, each one separated by an ampersand (&) character.</span></span>

<span data-ttu-id="bd02c-182">Ook moet opgeven, toepassingscode een `$filter` expressie toohandle Hallo klikt u op de gebeurtenissen in meervoudige navigatie.</span><span class="sxs-lookup"><span data-stu-id="bd02c-182">Application code must also construct a `$filter` expression toohandle hello click events in faceted navigation.</span></span> <span data-ttu-id="bd02c-183">Een `$filter` Hallo zoekresultaten wilt weergeven, met behulp van de facetwaarde van Hallo als filtercriteria vermindert.</span><span class="sxs-lookup"><span data-stu-id="bd02c-183">A `$filter` reduces hello search results, using hello facet value as filter criteria.</span></span>

<span data-ttu-id="bd02c-184">Azure Search retourneert Hallo zoekresultaten, op basis van een of meer voorwaarden die u, samen met updates toohello facetnavigatie structuur invoert.</span><span class="sxs-lookup"><span data-stu-id="bd02c-184">Azure Search returns hello search results, based on one or more terms that you enter, along with updates toohello faceted navigation structure.</span></span> <span data-ttu-id="bd02c-185">In Azure Search meervoudige navigatie is één niveau gebouwd facet waarden, statistieken en hoeveel resultaten gevonden voor elk criterium.</span><span class="sxs-lookup"><span data-stu-id="bd02c-185">In Azure Search, faceted navigation is a single-level construction, with facet values, and counts of how many results are found for each one.</span></span>

<span data-ttu-id="bd02c-186">In de Hallo uit te voeren, nemen we nader bekeken hoe toobuild elk onderdeel.</span><span class="sxs-lookup"><span data-stu-id="bd02c-186">In hello following sections, we take a closer look at how toobuild each part.</span></span>

<a name="buildindex"></a>

## <a name="build-hello-index"></a><span data-ttu-id="bd02c-187">Hallo-index maken</span><span class="sxs-lookup"><span data-stu-id="bd02c-187">Build hello index</span></span>
<span data-ttu-id="bd02c-188">Facetten is ingeschakeld op basis van door veld in de index Hallo via deze indexkenmerk: `"Facetable": true`.</span><span class="sxs-lookup"><span data-stu-id="bd02c-188">Faceting is enabled on a field-by-field basis in hello index, via this index attribute: `"Facetable": true`.</span></span>  
<span data-ttu-id="bd02c-189">Alle veldtypen die mogelijk kunnen worden gebruikt in facetnavigatie `Facetable` standaard.</span><span class="sxs-lookup"><span data-stu-id="bd02c-189">All field types that could possibly be used in faceted navigation are `Facetable` by default.</span></span> <span data-ttu-id="bd02c-190">Dergelijke veldtypen omvatten `Edm.String`, `Edm.DateTimeOffset`, en alle numerieke veldtypen Hallo (in wezen alle veldtypen zijn geschikt voor facetten behalve `Edm.GeographyPoint`, die niet worden gebruikt in facetnavigatie).</span><span class="sxs-lookup"><span data-stu-id="bd02c-190">Such field types include `Edm.String`, `Edm.DateTimeOffset`, and all hello numeric field types (essentially, all field types are facetable except `Edm.GeographyPoint`, which can’t be used in faceted navigation).</span></span> 

<span data-ttu-id="bd02c-191">Als u een index maakt, is een aanbevolen procedure voor meervoudige navigatie tooexplicitly Schakel facetten voor velden die nooit mogen worden gebruikt als een facet uitgeschakeld.</span><span class="sxs-lookup"><span data-stu-id="bd02c-191">When building an index, a best practice for faceted navigation is tooexplicitly turn faceting off for fields that should never be used as a facet.</span></span>  <span data-ttu-id="bd02c-192">In het bijzonder tekenreeksvelden voor singleton-waarden, zoals een naam-ID of het product te moeten worden ingesteld`"Facetable": false` tooprevent hun onbedoeld (en ongeschikt) in meervoudige navigatie gebruiken.</span><span class="sxs-lookup"><span data-stu-id="bd02c-192">In particular, string fields for singleton values, such as an ID or product name, should be set too`"Facetable": false` tooprevent their accidental (and ineffective) use in faceted navigation.</span></span> <span data-ttu-id="bd02c-193">Schakelen facetten uitschakelen wanneer u deze niet nodig bijdraagt aan de grootte van Hallo index Hallo klein en meestal verbetert de prestaties.</span><span class="sxs-lookup"><span data-stu-id="bd02c-193">Turning faceting off where you don’t need it helps keep hello size of hello index small, and typically improves performance.</span></span>

<span data-ttu-id="bd02c-194">Volgende maakt deel uit van het Hallo-schema voor Hallo taak Portal-Demo voorbeeld-app afgekapte van enkele kenmerken tooreduce Hallo grootte:</span><span class="sxs-lookup"><span data-stu-id="bd02c-194">Following is part of hello schema for hello Job Portal Demo sample app, trimmed of some attributes tooreduce hello size:</span></span>

```json
{
  ...
  "name": "nycjobs",
  "fields": [
    { “name”: "id",                 "type": "Edm.String",              "searchable": false, "filterable": false, ... "facetable": false, ... },
    { “name”: "job_id",             "type": "Edm.String",              "searchable": false, "filterable": false, ... "facetable": false, ... },
    { “name”: "agency",              "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "posting_type",        "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "num_of_positions",    "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "business_title",      "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "civil_service_title", "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "title_code_no",       "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "level",               "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_range_from",   "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_range_to",     "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_frequency",    "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "work_location",       "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
…
    { “name”: "geo_location",        "type": "Edm.GeographyPoint",     "searchable": false, "filterable": true, ...  "facetable": false, ... },
    { “name”: "tags",                "type": "Collection(Edm.String)", "searchable": true,  "filterable": true, ...  "facetable": true, ...  }
  ],
…
}
```

<span data-ttu-id="bd02c-195">Zoals u in de voorbeeld-schema Hallo ziet `Facetable` is uitgeschakeld voor tekenreeksvelden als facetten, zoals id-waarden mag niet worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="bd02c-195">As you can see in hello sample schema, `Facetable` is turned off for string fields that shouldn’t be used as facets, such as ID values.</span></span> <span data-ttu-id="bd02c-196">Schakelen facetten uitschakelen wanneer u deze niet nodig bijdraagt aan de grootte van Hallo index Hallo klein en meestal verbetert de prestaties.</span><span class="sxs-lookup"><span data-stu-id="bd02c-196">Turning faceting off where you don’t need it helps keep hello size of hello index small, and typically improves performance.</span></span>

> [!TIP]
> <span data-ttu-id="bd02c-197">Als een best practice bevatten Hallo volledige set indexkenmerken voor elk veld.</span><span class="sxs-lookup"><span data-stu-id="bd02c-197">As a best practice, include hello full set of index attributes for each field.</span></span> <span data-ttu-id="bd02c-198">Hoewel `Facetable` is standaard ingeschakeld voor bijna alle velden, opzettelijk instelling elk kenmerk kunt u denkt dat via Hallo implicaties van elke beslissing schema.</span><span class="sxs-lookup"><span data-stu-id="bd02c-198">Although `Facetable` is on by default for almost all fields, purposely setting each attribute can help you think through hello implications of each schema decision.</span></span> 

<a name="checkdata"></a>

## <a name="check-hello-data"></a><span data-ttu-id="bd02c-199">Hallo gegevens controleren</span><span class="sxs-lookup"><span data-stu-id="bd02c-199">Check hello data</span></span>
<span data-ttu-id="bd02c-200">Hallo kwaliteit van uw gegevens heeft een directe invloed op of Hallo facetnavigatie structuur gebeurtenis zich voordoet dan u verwacht.</span><span class="sxs-lookup"><span data-stu-id="bd02c-200">hello quality of your data has a direct effect on whether hello faceted navigation structure materializes as you expect it to.</span></span> <span data-ttu-id="bd02c-201">Het is ook van invloed op Hallo gebruiksgemak filters tooreduce Hallo resultatenset construeren.</span><span class="sxs-lookup"><span data-stu-id="bd02c-201">It also affects hello ease of constructing filters tooreduce hello result set.</span></span>

<span data-ttu-id="bd02c-202">Als u toofacet door merk of prijs wilt, elk document moet waarden bevatten voor *BrandName* en *ProductPrice* die geldig, consistente en productief zijn als een filteroptie zijn.</span><span class="sxs-lookup"><span data-stu-id="bd02c-202">If you want toofacet by Brand or Price, each document should contain values for *BrandName* and *ProductPrice* that are valid, consistent, and productive as a filter option.</span></span>

<span data-ttu-id="bd02c-203">Hier volgen enkele herinneringen van welke tooscrub voor:</span><span class="sxs-lookup"><span data-stu-id="bd02c-203">Here are a few reminders of what tooscrub for:</span></span>

* <span data-ttu-id="bd02c-204">Voor elk veld dat u wilt dat toofacet door, afvragen of deze bevat waarden die geschikt is als filters in zelf gerichte zoeken.</span><span class="sxs-lookup"><span data-stu-id="bd02c-204">For every field that you want toofacet by, ask yourself whether it contains values that are suitable as filters in self-directed search.</span></span> <span data-ttu-id="bd02c-205">Hallo-waarden moet korte, beschrijvende en voldoende onderscheidende toooffer een duidelijke keuze tussen concurrerende opties.</span><span class="sxs-lookup"><span data-stu-id="bd02c-205">hello values should be short, descriptive, and sufficiently distinctive toooffer a clear choice between competing options.</span></span>
* <span data-ttu-id="bd02c-206">De spelling of bijna overeenkomende waarden.</span><span class="sxs-lookup"><span data-stu-id="bd02c-206">Misspellings or nearly matching values.</span></span> <span data-ttu-id="bd02c-207">Als u facet op kleur en veldwaarden oranje en Ornage (onjuist gespeld) omvatten, maar een facet op basis van Hallo kleurveld zou kunnen worden opgepikt beide.</span><span class="sxs-lookup"><span data-stu-id="bd02c-207">If you facet on Color, and field values include Orange and Ornage (a misspelling), a facet based on hello Color field would pick up both.</span></span>
* <span data-ttu-id="bd02c-208">Gemengde case tekst kan ook aanrichten functies in facetnavigatie met oranje en oranje verschijnen als twee verschillende waarden.</span><span class="sxs-lookup"><span data-stu-id="bd02c-208">Mixed case text can also wreak havoc in faceted navigation, with orange and Orange appearing as two different values.</span></span> 
* <span data-ttu-id="bd02c-209">Enkelvoudige en meervoudige versies van dezelfde waarde in een afzonderlijke facet voor elk resulteren kan Hallo.</span><span class="sxs-lookup"><span data-stu-id="bd02c-209">Single and plural versions of hello same value can result in a separate facet for each.</span></span>

<span data-ttu-id="bd02c-210">Als u zich kunt voorstellen is zorgvuldigheid Hallo gegevens voorbereiden een essentieel aspect van effectieve meervoudige navigatie.</span><span class="sxs-lookup"><span data-stu-id="bd02c-210">As you can imagine, diligence in preparing hello data is an essential aspect of effective faceted navigation.</span></span>

<a name="presentationlayer"></a>

## <a name="build-hello-ui"></a><span data-ttu-id="bd02c-211">Hallo gebruikersinterface bouwen</span><span class="sxs-lookup"><span data-stu-id="bd02c-211">Build hello UI</span></span>
<span data-ttu-id="bd02c-212">Werkt terug uit Hallo presentatie laag kunt u vereisten die mogelijk anders worden overgeslagen en begrijpen welke mogelijkheden zijn essentieel toohello onthullen help zoeken ervaring.</span><span class="sxs-lookup"><span data-stu-id="bd02c-212">Working back from hello presentation layer can help you uncover requirements that might be missed otherwise, and understand which capabilities are essential toohello search experience.</span></span>

<span data-ttu-id="bd02c-213">Invoer van de gebruiker op de pagina Hallo detecteert en Hallo gewijzigd elementen invoegt in termen van meervoudige navigatie uw web- of -pagina geeft Hallo facetnavigatie structuur.</span><span class="sxs-lookup"><span data-stu-id="bd02c-213">In terms of faceted navigation, your web or application page displays hello faceted navigation structure, detects user input on hello page, and inserts hello changed elements.</span></span> 

<span data-ttu-id="bd02c-214">Voor webtoepassingen, wordt AJAX meestal gebruikt in Hallo presentatie laag omdat hiermee toorefresh incrementele wijzigingen.</span><span class="sxs-lookup"><span data-stu-id="bd02c-214">For web applications, AJAX is commonly used in hello presentation layer because it allows you toorefresh incremental changes.</span></span> <span data-ttu-id="bd02c-215">U kunt ook ASP.NET MVC- of een andere visualisatie-platform die tooan Azure Search-service via HTTP verbinden kan.</span><span class="sxs-lookup"><span data-stu-id="bd02c-215">You could also use ASP.NET MVC or any other visualization platform that can connect tooan Azure Search service over HTTP.</span></span> <span data-ttu-id="bd02c-216">Hallo-voorbeeldtoepassing waarnaar wordt verwezen in dit artikel--hello **Azure Search taak Portal-Demo** – gebeurt toobe een ASP.NET MVC-toepassing.</span><span class="sxs-lookup"><span data-stu-id="bd02c-216">hello sample application referenced throughout this article -- hello **Azure Search Job Portal Demo** – happens toobe an ASP.NET MVC application.</span></span>

<span data-ttu-id="bd02c-217">In voorbeeld Hallo is meervoudige navigatie ingebouwd in Hallo zoekresultatenpagina.</span><span class="sxs-lookup"><span data-stu-id="bd02c-217">In hello sample, faceted navigation is built into hello search results page.</span></span> <span data-ttu-id="bd02c-218">Hallo volgende voorbeeld, die afkomstig zijn uit Hallo `index.cshtml` resultatenpagina-bestand van de voorbeeldtoepassing hello, toont Hallo statische HTML-structuur voor het weergeven van meervoudige navigatie op Hallo zoeken.</span><span class="sxs-lookup"><span data-stu-id="bd02c-218">hello following example, taken from hello `index.cshtml` file of hello sample application, shows hello static HTML structure for displaying faceted navigation on hello search results page.</span></span> <span data-ttu-id="bd02c-219">Hallo-lijst met facetten is gebouwd of dynamisch opnieuw opbouwen wanneer u een zoekterm of schakelt u uit een beperkingsfacet.</span><span class="sxs-lookup"><span data-stu-id="bd02c-219">hello list of facets is built or rebuilt dynamically when you submit a search term, or select or clear a facet.</span></span>

```html
<div class="widget sidebar-widget jobs-filter-widget">
  <h5 class="widget-title">Filter Results</h5>
    <p id="filterReset"></p>
    <div class="widget-content">

      <h6 id="businessTitleFacetTitle">Business Title</h6>
      <ul class="filter-list" id="business_title_facets">
      </ul>

      <h6>Location</h6>
      <ul class="filter-list" id="posting_type_facets">
      </ul>

      <h6>Posting Type</h6>
      <ul class="filter-list" id="posting_type_facets"></ul>

      <h6>Minimum Salary</h6>
      <ul class="filter-list" id="salary_range_facets">
      </ul>

  </div>
</div>
```

<span data-ttu-id="bd02c-220">Hallo volgende codefragment uit Hallo `index.cshtml` pagina dynamisch Hallo HTML toodisplay Hallo eerste facet, zakelijke titel.</span><span class="sxs-lookup"><span data-stu-id="bd02c-220">hello following code snippet from hello `index.cshtml` page dynamically builds hello HTML toodisplay hello first facet, Business Title.</span></span> <span data-ttu-id="bd02c-221">Hallo HTML voor Hallo samenstellen soortgelijke functies dynamisch andere facetten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-221">Similar functions dynamically build hello HTML for hello other facets.</span></span> <span data-ttu-id="bd02c-222">Elke facet heeft een label en een telling waarin het aantal items gevonden voor die resulteren facet Hallo.</span><span class="sxs-lookup"><span data-stu-id="bd02c-222">Each facet has a label and a count, which displays hello number of items found for that facet result.</span></span>

```js
function UpdateBusinessTitleFacets(data) {
  var facetResultsHTML = '';
  for (var i = 0; i < data.length; i++) {
    facetResultsHTML += '<li><a href="javascript:void(0)" onclick="ChooseBusinessTitleFacet(\'' + data[i].Value + '\');">' + data[i].Value + ' (' + data[i].Count + ')</span></a></li>';
  }

  $("#business_title_facets").html(facetResultsHTML);
}
```

> [!TIP]
> <span data-ttu-id="bd02c-223">Bij het ontwerpen van de zoekresultatenpagina Hallo onthouden tooadd een mechanisme voor het wissen van facetten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-223">When you design hello search results page, remember tooadd a mechanism for clearing facets.</span></span> <span data-ttu-id="bd02c-224">Als u selectievakjes toevoegt, kunt u eenvoudig zien hoe tooclear Hallo filtert.</span><span class="sxs-lookup"><span data-stu-id="bd02c-224">If you add check boxes, you can easily see how tooclear hello filters.</span></span> <span data-ttu-id="bd02c-225">Voor andere indelingen moet u mogelijk een patroon breadcrumb of een andere creative benadering.</span><span class="sxs-lookup"><span data-stu-id="bd02c-225">For other layouts, you might need a breadcrumb pattern or another creative approach.</span></span> <span data-ttu-id="bd02c-226">Bijvoorbeeld in Hallo voorbeeldtoepassing taak zoeken Portal, kunt u Hallo `[X]` na een geselecteerde facet tooclear Hallo-beperkingsfacet.</span><span class="sxs-lookup"><span data-stu-id="bd02c-226">For example, in hello Job Search Portal sample application, you can click hello `[X]` after a selected facet tooclear hello facet.</span></span>

<a name="buildquery"></a>

## <a name="build-hello-query"></a><span data-ttu-id="bd02c-227">Hallo query opbouwen</span><span class="sxs-lookup"><span data-stu-id="bd02c-227">Build hello query</span></span>
<span data-ttu-id="bd02c-228">Hallo-code die u voor het bouwen van query's schrijven moet opgeven, alle onderdelen van een geldige query, zoals zoeken expressies, facetten, filters, score berekenen profielen – iets tooformulate een aanvraag gebruikt.</span><span class="sxs-lookup"><span data-stu-id="bd02c-228">hello code that you write for building queries should specify all parts of a valid query, including search expressions, facets, filters, scoring profiles– anything used tooformulate a request.</span></span> <span data-ttu-id="bd02c-229">In deze sectie besproken waar facetten past in een query en hoe filters worden gebruikt met facetten toodeliver een verminderde resultaatset.</span><span class="sxs-lookup"><span data-stu-id="bd02c-229">In this section, we explore where facets fit into a query, and how filters are used with facets toodeliver a reduced result set.</span></span>

<span data-ttu-id="bd02c-230">U ziet dat facetten integraal in deze voorbeeldtoepassing.</span><span class="sxs-lookup"><span data-stu-id="bd02c-230">Notice that facets are integral in this sample application.</span></span> <span data-ttu-id="bd02c-231">Hallo zoekfunctie in Hallo taak Portal-Demo is ontworpen om meervoudige navigatie en filters.</span><span class="sxs-lookup"><span data-stu-id="bd02c-231">hello search experience in hello Job Portal Demo is designed around faceted navigation and filters.</span></span> <span data-ttu-id="bd02c-232">Hallo opvallende plaatsing van meervoudige navigatie op Hallo pagina ziet u het belang.</span><span class="sxs-lookup"><span data-stu-id="bd02c-232">hello prominent placement of faceted navigation on hello page demonstrates its importance.</span></span> 

<span data-ttu-id="bd02c-233">Een voorbeeld is vaak een goede plaats toobegin.</span><span class="sxs-lookup"><span data-stu-id="bd02c-233">An example is often a good place toobegin.</span></span> <span data-ttu-id="bd02c-234">Hallo volgende voorbeeld, die afkomstig zijn uit Hallo `JobsSearch.cs` builds die een aanvraag die facet navigatie worden gemaakt op basis van functie, locatie, soort boeken en minimale salaris-bestand.</span><span class="sxs-lookup"><span data-stu-id="bd02c-234">hello following example, taken from hello `JobsSearch.cs` file, builds a request that creates facet navigation based on Business Title, Location, Posting Type, and Minimum Salary.</span></span> 

```cs
SearchParameters sp = new SearchParameters()
{
  ...
  // Add facets
  Facets = new List<String>() { "business_title", "posting_type", "level", "salary_range_from,interval:50000" },
};
```

<span data-ttu-id="bd02c-235">Een queryparameter facet tooa veld is ingesteld en afhankelijk van het Hallo-gegevenstype, kunnen worden verder als parameters gebruikt door komma's gescheiden lijst met `count:<integer>`, `sort:<>`, `interval:<integer>`, en `values:<list>`.</span><span class="sxs-lookup"><span data-stu-id="bd02c-235">A facet query parameter is set tooa field and depending on hello data type, can be further parameterized by comma-delimited list that includes `count:<integer>`, `sort:<>`, `interval:<integer>`, and `values:<list>`.</span></span> <span data-ttu-id="bd02c-236">Een lijst met waarden wordt ondersteund voor numerieke gegevens bij het instellen van bereiken.</span><span class="sxs-lookup"><span data-stu-id="bd02c-236">A values list is supported for numeric data when setting up ranges.</span></span> <span data-ttu-id="bd02c-237">Zie [documenten zoeken (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx) voor informatie over het gebruik.</span><span class="sxs-lookup"><span data-stu-id="bd02c-237">See [Search Documents (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx) for usage details.</span></span>

<span data-ttu-id="bd02c-238">Hallo-aanvraag geformuleerd door uw toepassing samen met de facetten, moet ook filters toonarrow omlaag Hallo set candidate documenten op basis van een waarde facet selectie maken.</span><span class="sxs-lookup"><span data-stu-id="bd02c-238">Along with facets, hello request formulated by your application should also build filters toonarrow down hello set of candidate documents based on a facet value selection.</span></span> <span data-ttu-id="bd02c-239">Voor een winkel fiets facetnavigatie biedt aanwijzingen tooquestions zoals *welke kleuren, fabrikanten en typen bikes beschikbaar zijn?*.</span><span class="sxs-lookup"><span data-stu-id="bd02c-239">For a bike store, faceted navigation provides clues tooquestions like *What colors, manufacturers, and types of bikes are available?*.</span></span> <span data-ttu-id="bd02c-240">Filteren van antwoorden op vragen zoals *mountainbikes, welke exacte bikes rood zijn, in dit bereik te prijs?*.</span><span class="sxs-lookup"><span data-stu-id="bd02c-240">Filtering answers questions like *Which exact bikes are red, mountain bikes, in this price range?*.</span></span> <span data-ttu-id="bd02c-241">Wanneer u "Red" tooindicate die alleen rode producten moeten worden weergegeven, klikt u op volgende query Hallo-toepassing hello verzendt bevat `$filter=Color eq ‘Red’`.</span><span class="sxs-lookup"><span data-stu-id="bd02c-241">When you click "Red" tooindicate that only Red products should be shown, hello next query hello application sends includes `$filter=Color eq ‘Red’`.</span></span>

<span data-ttu-id="bd02c-242">Hallo volgende codefragment uit Hallo `JobsSearch.cs` pagina wordt geselecteerd Hallo Business titel toohello filter toegevoegd als u een waarde van Hallo Business titel facet selecteren.</span><span class="sxs-lookup"><span data-stu-id="bd02c-242">hello following code snippet from hello `JobsSearch.cs` page adds hello selected Business Title toohello filter if you select a value from hello Business Title facet.</span></span>

```cs
if (businessTitleFacet != "")
  filter = "business_title eq '" + businessTitleFacet + "'";
```

<a name="tips"></a> 

## <a name="tips-and-best-practices"></a><span data-ttu-id="bd02c-243">Tips en best practices</span><span class="sxs-lookup"><span data-stu-id="bd02c-243">Tips and best practices</span></span>

### <a name="indexing-tips"></a><span data-ttu-id="bd02c-244">Tips indexeren</span><span class="sxs-lookup"><span data-stu-id="bd02c-244">Indexing tips</span></span>
<span data-ttu-id="bd02c-245">**Index-efficiëntie te verbeteren, als u een zoekvak niet gebruikt**</span><span class="sxs-lookup"><span data-stu-id="bd02c-245">**Improve index efficiency if you don't use a Search box**</span></span>

<span data-ttu-id="bd02c-246">Als uw toepassing gebruikmaakt van meervoudige navigatie uitsluitend (dat wil zeggen, geen zoekvak), kunt u Hallo veld als markeren `searchable=false`, `facetable=true` tooproduce een compacter index.</span><span class="sxs-lookup"><span data-stu-id="bd02c-246">If your application uses faceted navigation exclusively (that is, no search box), you can mark hello field as `searchable=false`, `facetable=true` tooproduce a more compact index.</span></span> <span data-ttu-id="bd02c-247">Bovendien indexeren doet zich alleen op de hele facet waarden, met geen woordafbreking of indexeren van Hallo-onderdelen van een waarde met meerdere woord.</span><span class="sxs-lookup"><span data-stu-id="bd02c-247">In addition, indexing occurs only on whole facet values, with no word-break or indexing of hello component parts of a multi-word value.</span></span>

<span data-ttu-id="bd02c-248">**Opgeven welke velden kunnen worden gebruikt als facetten**</span><span class="sxs-lookup"><span data-stu-id="bd02c-248">**Specify which fields can be used as facets**</span></span>

<span data-ttu-id="bd02c-249">Intrekken van die Hallo schema van Hallo index bepaalt welke velden beschikbaar toouse als een beperkingsfacet.</span><span class="sxs-lookup"><span data-stu-id="bd02c-249">Recall that hello schema of hello index determines which fields are available toouse as a facet.</span></span> <span data-ttu-id="bd02c-250">Uitgaande van dat een veld is geschikt voor facetten geeft Hallo query aan welke velden toofacet door.</span><span class="sxs-lookup"><span data-stu-id="bd02c-250">Assuming a field is facetable, hello query specifies which fields toofacet by.</span></span> <span data-ttu-id="bd02c-251">Hallo-veld waarop u facetten zijn biedt Hallo-waarden die worden weergegeven onder Hallo label.</span><span class="sxs-lookup"><span data-stu-id="bd02c-251">hello field by which you are faceting provides hello values that appear below hello label.</span></span> 

<span data-ttu-id="bd02c-252">Hallo-waarden die worden vermeld onder elk label worden opgehaald uit het Hallo-index.</span><span class="sxs-lookup"><span data-stu-id="bd02c-252">hello values that appear under each label are retrieved from hello index.</span></span> <span data-ttu-id="bd02c-253">Bijvoorbeeld, als hello facet veld is *kleur*, Hallo waarden beschikbaar voor het filteren van aanvullende zijn Hallo waarden voor dat veld - rood en zwart.</span><span class="sxs-lookup"><span data-stu-id="bd02c-253">For example, if hello facet field is *Color*, hello values available for additional filtering are hello values for that field - Red, Black, and so forth.</span></span>

<span data-ttu-id="bd02c-254">Voor numerieke en datum-/ alleen waarden, kunt u waarden expliciet instellen op Hallo facet veld (bijvoorbeeld `facet=Rating,values:1|2|3|4|5`).</span><span class="sxs-lookup"><span data-stu-id="bd02c-254">For Numeric and DateTime values only, you can explicitly set values on hello facet field (for example, `facet=Rating,values:1|2|3|4|5`).</span></span> <span data-ttu-id="bd02c-255">Een lijst met waarden is toegestaan voor deze veld typen toosimplify Hallo scheiding van facet resultaten in aaneengesloten bereiken (ofwel bereiken op basis van numerieke waarden of perioden).</span><span class="sxs-lookup"><span data-stu-id="bd02c-255">A values list is allowed for these field types toosimplify hello separation of facet results into contiguous ranges (either ranges based on numeric values or time periods).</span></span> 

<span data-ttu-id="bd02c-256">**Standaard kunt u slechts één niveau van meervoudige navigatie hebt**</span><span class="sxs-lookup"><span data-stu-id="bd02c-256">**By default you can only have one level of faceted navigation**</span></span> 

<span data-ttu-id="bd02c-257">Zoals is aangegeven, is er geen rechtstreekse ondersteuning voor het nesten van facetten in een hiërarchie.</span><span class="sxs-lookup"><span data-stu-id="bd02c-257">As noted, there is no direct support for nesting facets in a hierarchy.</span></span> <span data-ttu-id="bd02c-258">Standaard ondersteunt meervoudige navigatie in Azure Search slechts één niveau van filters.</span><span class="sxs-lookup"><span data-stu-id="bd02c-258">By default, faceted navigation in Azure Search only supports one level of filters.</span></span> <span data-ttu-id="bd02c-259">Tijdelijke oplossingen echter bestaan.</span><span class="sxs-lookup"><span data-stu-id="bd02c-259">However, workarounds do exist.</span></span> <span data-ttu-id="bd02c-260">U kunt coderen een facet hiërarchische structuur in een `Collection(Edm.String)` verwijzen met één vermelding per hiërarchie.</span><span class="sxs-lookup"><span data-stu-id="bd02c-260">You can encode a hierarchical facet structure in a `Collection(Edm.String)` with one entry point per hierarchy.</span></span> <span data-ttu-id="bd02c-261">Deze oplossing implementeren valt buiten bereik Hallo van dit artikel.</span><span class="sxs-lookup"><span data-stu-id="bd02c-261">Implementing this workaround is beyond hello scope of this article.</span></span> 

### <a name="querying-tips"></a><span data-ttu-id="bd02c-262">Tips opvragen</span><span class="sxs-lookup"><span data-stu-id="bd02c-262">Querying tips</span></span>
<span data-ttu-id="bd02c-263">**Velden valideren**</span><span class="sxs-lookup"><span data-stu-id="bd02c-263">**Validate fields**</span></span>

<span data-ttu-id="bd02c-264">Als u Hallo lijst met facetten dynamisch op basis van niet-vertrouwde gebruikersinvoer bouwt, controleert u het Hallo-namen van Hallo meervoudige velden zijn geldig.</span><span class="sxs-lookup"><span data-stu-id="bd02c-264">If you build hello list of facets dynamically based on untrusted user input, validate that hello names of hello faceted fields are valid.</span></span> <span data-ttu-id="bd02c-265">Of escape Hallo namen tijdens het bouwen van URL's met behulp van `Uri.EscapeDataString()` in .NET of Hallo equivalent in uw favoriete platform.</span><span class="sxs-lookup"><span data-stu-id="bd02c-265">Or, escape hello names when building URLs by using either `Uri.EscapeDataString()` in .NET, or hello equivalent in your platform of choice.</span></span>

### <a name="filtering-tips"></a><span data-ttu-id="bd02c-266">Tips voor het filteren</span><span class="sxs-lookup"><span data-stu-id="bd02c-266">Filtering tips</span></span>
<span data-ttu-id="bd02c-267">**De precisie van de zoekopdracht verhogen met filters**</span><span class="sxs-lookup"><span data-stu-id="bd02c-267">**Increase search precision with filters**</span></span>

<span data-ttu-id="bd02c-268">Filters gebruiken.</span><span class="sxs-lookup"><span data-stu-id="bd02c-268">Use filters.</span></span> <span data-ttu-id="bd02c-269">Als u zich baseert op net zoeken expressies alleen gegevens als gevolg kan leiden tot een document toobe heeft geretourneerd dat geen nauwkeurige facetwaarde van Hallo in een van de velden.</span><span class="sxs-lookup"><span data-stu-id="bd02c-269">If you rely on just search expressions alone, stemming could cause a document toobe returned that doesn’t have hello precise facet value in any of its fields.</span></span>

<span data-ttu-id="bd02c-270">**Het verhogen van de prestaties van de zoekopdracht met filters**</span><span class="sxs-lookup"><span data-stu-id="bd02c-270">**Increase search performance with filters**</span></span>

<span data-ttu-id="bd02c-271">Filters beperken Hallo set candidate documenten voor zoeken en ranking uitsluiten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-271">Filters narrow down hello set of candidate documents for search and exclude them from ranking.</span></span> <span data-ttu-id="bd02c-272">Als er een groot aantal documenten, kunt met behulp van een selectief beperkingsfacet inzoomen vaak u betere prestaties.</span><span class="sxs-lookup"><span data-stu-id="bd02c-272">If you have a large set of documents, using a selective facet drill-down often gives you better performance.</span></span>
  
<span data-ttu-id="bd02c-273">**Alleen Hallo meervoudige velden filteren**</span><span class="sxs-lookup"><span data-stu-id="bd02c-273">**Filter only hello faceted fields**</span></span>

<span data-ttu-id="bd02c-274">In meervoudige inzoomen, wilt u doorgaans tooonly documenten met Hallo facetwaarde in een specifieke (beperkt) veld niet overal in de doorzoekbare velden opnemen.</span><span class="sxs-lookup"><span data-stu-id="bd02c-274">In faceted drill-down, you typically want tooonly include documents that have hello facet value in a specific (faceted) field, not anywhere across all searchable fields.</span></span> <span data-ttu-id="bd02c-275">Een filter toe te voegen versterkt Hallo doelveld door Hallo service toosearch Hallo meervoudige veld naar een overeenkomende waarde.</span><span class="sxs-lookup"><span data-stu-id="bd02c-275">Adding a filter reinforces hello target field by directing hello service toosearch only in hello faceted field for a matching value.</span></span>

<span data-ttu-id="bd02c-276">**Trim facet resultaten met meer filters**</span><span class="sxs-lookup"><span data-stu-id="bd02c-276">**Trim facet results with more filters**</span></span>

<span data-ttu-id="bd02c-277">Facet resultaten worden gevonden in de zoekresultaten Hallo die overeenkomen met een term facet documenten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-277">Facet results are documents found in hello search results that match a facet term.</span></span> <span data-ttu-id="bd02c-278">In het volgende voorbeeld wordt in de zoekresultaten voor Hallo *cloudcomputing*, 254 items hebben ook *interne specificatie* als een inhoudstype.</span><span class="sxs-lookup"><span data-stu-id="bd02c-278">In hello following example, in search results for *cloud computing*, 254 items also have *internal specification* as a content type.</span></span> <span data-ttu-id="bd02c-279">Items zijn niet noodzakelijkerwijs sluiten elkaar wederzijds uit.</span><span class="sxs-lookup"><span data-stu-id="bd02c-279">Items are not necessarily mutually exclusive.</span></span> <span data-ttu-id="bd02c-280">Als een item voldoet aan de criteria Hallo van beide filters, wordt het beschouwd in elk criterium.</span><span class="sxs-lookup"><span data-stu-id="bd02c-280">If an item meets hello criteria of both filters, it is counted in each one.</span></span> <span data-ttu-id="bd02c-281">Deze duplicaten is mogelijk wanneer facetten op `Collection(Edm.String)` velden, welke vaak gebruikt tooimplement document labels.</span><span class="sxs-lookup"><span data-stu-id="bd02c-281">This duplication is possible when faceting on `Collection(Edm.String)` fields, which are often used tooimplement document tagging.</span></span>

        Search term: "cloud computing"
        Content type
           Internal specification (254)
           Video (10) 

<span data-ttu-id="bd02c-282">In het algemeen als u vindt dat facet resultaten consistent is te groot, is het raadzaam dat u toevoegt, meer filters toogive gebruikers meer opties voor het Hallo-zoekopdracht te verfijnen.</span><span class="sxs-lookup"><span data-stu-id="bd02c-282">In general, if you find that facet results are consistently too large, we recommend that you add more filters toogive users more options for narrowing hello search.</span></span>

### <a name="tips-about-result-count"></a><span data-ttu-id="bd02c-283">Tips voor het aantal resultaten</span><span class="sxs-lookup"><span data-stu-id="bd02c-283">Tips about result count</span></span>

<span data-ttu-id="bd02c-284">**Hallo aantal items in de Hallo facet navigatie beperken**</span><span class="sxs-lookup"><span data-stu-id="bd02c-284">**Limit hello number of items in hello facet navigation**</span></span>

<span data-ttu-id="bd02c-285">Er is een standaardlimiet van 10 waarden voor elk meervoudige veld in de navigatiestructuur Hallo.</span><span class="sxs-lookup"><span data-stu-id="bd02c-285">For each faceted field in hello navigation tree, there is a default limit of 10 values.</span></span> <span data-ttu-id="bd02c-286">Deze standaardinstelling zinvolle voor navigatiestructuur omdat Hallo waarden beheerbare lijstgrootte tooa blijven.</span><span class="sxs-lookup"><span data-stu-id="bd02c-286">This default makes sense for navigation structures because it keeps hello values list tooa manageable size.</span></span> <span data-ttu-id="bd02c-287">U kunt Hallo standaardinstelling negeren door een waarde toocount toewijzen.</span><span class="sxs-lookup"><span data-stu-id="bd02c-287">You can override hello default by assigning a value toocount.</span></span>

* <span data-ttu-id="bd02c-288">`&facet=city,count:5`Hiermee geeft u op dat alleen Hallo eerste vijf steden gevonden in Hallo boven gerangschikt resultaten worden geretourneerd als gevolg hiervan facet.</span><span class="sxs-lookup"><span data-stu-id="bd02c-288">`&facet=city,count:5` specifies that only hello first five cities found in hello top ranked results are returned as a facet result.</span></span> <span data-ttu-id="bd02c-289">U kunt een voorbeeldquery met een zoekterm van 'luchthaven' en 32 overeenkomsten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-289">Consider a sample query with a search term of “airport” and 32 matches.</span></span> <span data-ttu-id="bd02c-290">Als het Hallo-query is `&facet=city,count:5`, alleen de eerste vijf unieke steden Hallo Hello meeste documenten in de zoekresultaten Hallo zijn opgenomen in Hallo facet resultaten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-290">If hello query specifies `&facet=city,count:5`, only hello first five unique cities with hello most documents in hello search results are included in hello facet results.</span></span>

<span data-ttu-id="bd02c-291">Kennisgeving Hallo onderscheid tussen facet resultaten en zoekresultaten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-291">Notice hello distinction between facet results and search results.</span></span> <span data-ttu-id="bd02c-292">Zoekresultaten zijn alle Hallo-documenten die overeenkomen met Hallo-query.</span><span class="sxs-lookup"><span data-stu-id="bd02c-292">Search results are all hello documents that match hello query.</span></span> <span data-ttu-id="bd02c-293">Facet resultaten zijn Hallo overeenkomt met voor elke facetwaarde.</span><span class="sxs-lookup"><span data-stu-id="bd02c-293">Facet results are hello matches for each facet value.</span></span> <span data-ttu-id="bd02c-294">In voorbeeld hello bevatten de zoekresultaten stad namen die zich niet in Hallo facet classificatie lijst (5 in ons voorbeeld).</span><span class="sxs-lookup"><span data-stu-id="bd02c-294">In hello example, search results include City names that are not in hello facet classification list (5 in our example).</span></span> <span data-ttu-id="bd02c-295">De resultaten worden gefilterd via facetnavigatie zichtbaar wanneer u facetten wissen, of kies andere facetten naast plaats.</span><span class="sxs-lookup"><span data-stu-id="bd02c-295">Results that are filtered out through faceted navigation become visible when you clear facets, or choose other facets besides City.</span></span> 

> [!NOTE]
> <span data-ttu-id="bd02c-296">Bespreken `count` wanneer er meer dan één type kan verwarrend zijn.</span><span class="sxs-lookup"><span data-stu-id="bd02c-296">Discussing `count` when there is more than one type can be confusing.</span></span> <span data-ttu-id="bd02c-297">Hallo biedt volgende tabel een kort overzicht van hoe Hallo term wordt gebruikt in Azure Search API, voorbeeldcode en documentatie.</span><span class="sxs-lookup"><span data-stu-id="bd02c-297">hello following table offers a brief summary of how hello term is used in Azure Search API, sample code, and documentation.</span></span> 

* `@colorFacet.count`<br/>
  <span data-ttu-id="bd02c-298">In de presentatiecode ziet u een parameter van het aantal op Hallo facet, gebruikte toodisplay Hallo aantal facet resultaten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-298">In presentation code, you should see a count parameter on hello facet, used toodisplay hello number of facet results.</span></span> <span data-ttu-id="bd02c-299">Aantal wijst facet resultaten Hallo aantal documenten die overeenkomen met op Hallo facet term of -bereik.</span><span class="sxs-lookup"><span data-stu-id="bd02c-299">In facet results, count indicates hello number of documents that match on hello facet term or range.</span></span>
* `&facet=City,count:12`<br/>
  <span data-ttu-id="bd02c-300">U kunt in een query facet tooa waarde instellen.</span><span class="sxs-lookup"><span data-stu-id="bd02c-300">In a facet query, you can set count tooa value.</span></span>  <span data-ttu-id="bd02c-301">Hallo standaardwaarde is 10, maar u kunt deze hogere of lagere instellen.</span><span class="sxs-lookup"><span data-stu-id="bd02c-301">hello default is 10, but you can set it higher or lower.</span></span> <span data-ttu-id="bd02c-302">Instelling `count:12` opgehaald Hallo bovenste 12-overeenkomsten in facet resultaten door het aantal documenten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-302">Setting `count:12` gets hello top 12 matches in facet results by document count.</span></span>
* <span data-ttu-id="bd02c-303">"`@odata.count`"</span><span class="sxs-lookup"><span data-stu-id="bd02c-303">"`@odata.count`"</span></span><br/>
  <span data-ttu-id="bd02c-304">Hallo query-antwoord wordt geeft deze waarde het aantal overeenkomende items in de zoekresultaten Hallo Hallo.</span><span class="sxs-lookup"><span data-stu-id="bd02c-304">In hello query response, this value indicates hello number of matching items in hello search results.</span></span> <span data-ttu-id="bd02c-305">Gemiddeld het groter is dan Hallo som van alle facet resultaten gecombineerd vanwege toohello aanwezigheid van items die overeenkomen met de zoekterm hello, maar hebben geen waarde facet overeenkomsten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-305">On average, it’s larger than hello sum of all facet results combined, due toohello presence of items that match hello search term, but have no facet value matches.</span></span>

<span data-ttu-id="bd02c-306">**Telt het aantal in facet resultaten ophalen**</span><span class="sxs-lookup"><span data-stu-id="bd02c-306">**Get counts in facet results**</span></span>

<span data-ttu-id="bd02c-307">Wanneer u een filter tooa meervoudige query toevoegt, kunt u tooretain Hallo facet instructie (bijvoorbeeld `facet=Rating&$filter=Rating ge 4`).</span><span class="sxs-lookup"><span data-stu-id="bd02c-307">When you add a filter tooa faceted query, you might want tooretain hello facet statement (for example, `facet=Rating&$filter=Rating ge 4`).</span></span> <span data-ttu-id="bd02c-308">Technisch gezien facet = waardering is niet nodig, maar deze te houden Hallo tellingen van facet waarden voor de classificaties retourneert 4 en hoger.</span><span class="sxs-lookup"><span data-stu-id="bd02c-308">Technically, facet=Rating isn’t needed, but keeping it returns hello counts of facet values for ratings 4 and higher.</span></span> <span data-ttu-id="bd02c-309">Als u op "4" en Hallo query bevat bijvoorbeeld een filter voor groter of gelijk te '4', aantallen worden geretourneerd voor elke classificatie is 4 en hoger.</span><span class="sxs-lookup"><span data-stu-id="bd02c-309">For example, if you click "4" and hello query includes a filter for greater or equal too"4", counts are returned for each rating that is 4 and higher.</span></span>  

<span data-ttu-id="bd02c-310">**Zorg ervoor dat u nauwkeurige facet aantallen ophalen**</span><span class="sxs-lookup"><span data-stu-id="bd02c-310">**Make sure you get accurate facet counts**</span></span>

<span data-ttu-id="bd02c-311">Onder bepaalde omstandigheden, ziet u wellicht facet aantallen komen niet overeen met de resultatensets hello (Zie [facetnavigatie in Azure Search (forum post)](https://social.msdn.microsoft.com/Forums/azure/06461173-ea26-4e6a-9545-fbbd7ee61c8f/faceting-on-azure-search?forum=azuresearch)).</span><span class="sxs-lookup"><span data-stu-id="bd02c-311">Under certain circumstances, you might find that facet counts do not match hello result sets (see [Faceted navigation in Azure Search (forum post)](https://social.msdn.microsoft.com/Forums/azure/06461173-ea26-4e6a-9545-fbbd7ee61c8f/faceting-on-azure-search?forum=azuresearch)).</span></span>

<span data-ttu-id="bd02c-312">Facet tellingen kunnen onnauwkeurig zijn vanwege toohello sharding-architectuur.</span><span class="sxs-lookup"><span data-stu-id="bd02c-312">Facet counts can be inaccurate due toohello sharding architecture.</span></span> <span data-ttu-id="bd02c-313">Elke search-index heeft meerdere shards en elke shard rapporteert Hallo bovenste N facetten door het aantal documenten, die vervolgens worden gecombineerd tot een enkelvoudig resultaat wordt verkregen.</span><span class="sxs-lookup"><span data-stu-id="bd02c-313">Every search index has multiple shards, and each shard reports hello top N facets by document count, which is then combined into a single result.</span></span> <span data-ttu-id="bd02c-314">Als sommige shards veel overeenkomende waarden, hebt terwijl anderen minder hebben, merkt u dat sommige waarden facet ontbreken of onder-telling in Hallo resultaten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-314">If some shards have many matching values, while others have fewer, you may find that some facet values are missing or under-counted in hello results.</span></span>

<span data-ttu-id="bd02c-315">Hoewel dit gedrag op elk gewenst moment wijzigen kan als u vandaag de dag dit probleem ondervindt, kunt u omzeilen deze door kunstmatig verversen Hallo-aantal:<number> tooa groot aantal tooenforce volledige rapportages van elke shard.</span><span class="sxs-lookup"><span data-stu-id="bd02c-315">Although this behavior could change at any time, if you encounter this behavior today, you can work around it by artificially inflating hello count:<number> tooa large number tooenforce full reporting from each shard.</span></span> <span data-ttu-id="bd02c-316">Als waarde van het aantal Hallo: is groter dan of gelijk toohello getal met unieke waarden in het veld Hallo u nauwkeurige resultaten gegarandeerd.</span><span class="sxs-lookup"><span data-stu-id="bd02c-316">If hello value of count: is greater than or equal toohello number of unique values in hello field, you are guaranteed accurate results.</span></span> <span data-ttu-id="bd02c-317">Echter, wanneer het aantal documenten, wat hoog zijn, er is een prestatiestraf, dus zorgvuldig gebruik deze optie.</span><span class="sxs-lookup"><span data-stu-id="bd02c-317">However, when document counts are high, there is a performance penalty, so use this option judiciously.</span></span>

### <a name="user-interface-tips"></a><span data-ttu-id="bd02c-318">Tips voor gebruiker-interface</span><span class="sxs-lookup"><span data-stu-id="bd02c-318">User interface tips</span></span>
<span data-ttu-id="bd02c-319">**Labels voor elk veld in de navigatiebalk facet toevoegen**</span><span class="sxs-lookup"><span data-stu-id="bd02c-319">**Add labels for each field in facet navigation**</span></span>

<span data-ttu-id="bd02c-320">Labels worden gewoonlijk gedefinieerd in Hallo HTML of formulier (`index.cshtml` in de voorbeeldtoepassing Hallo).</span><span class="sxs-lookup"><span data-stu-id="bd02c-320">Labels are typically defined in hello HTML or form (`index.cshtml` in hello sample application).</span></span> <span data-ttu-id="bd02c-321">Er is geen API in Azure Search voor facet navigatielabels of andere metagegevens.</span><span class="sxs-lookup"><span data-stu-id="bd02c-321">There is no API in Azure Search for facet navigation labels or any other metadata.</span></span>

<a name="rangefacets"></a>

## <a name="filter-based-on-a-range"></a><span data-ttu-id="bd02c-322">Filteren op basis van een bereik</span><span class="sxs-lookup"><span data-stu-id="bd02c-322">Filter based on a range</span></span>
<span data-ttu-id="bd02c-323">Facetten via bereiken met waarden is een algemene zoekopdracht toepassing vereiste.</span><span class="sxs-lookup"><span data-stu-id="bd02c-323">Faceting over ranges of values is a common search application requirement.</span></span> <span data-ttu-id="bd02c-324">Bereiken worden ondersteund voor numerieke gegevens en DateTime-waarden.</span><span class="sxs-lookup"><span data-stu-id="bd02c-324">Ranges are supported for numeric data and DateTime values.</span></span> <span data-ttu-id="bd02c-325">Meer informatie over elke methode in [documenten zoeken (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx).</span><span class="sxs-lookup"><span data-stu-id="bd02c-325">You can read more about each approach in [Search Documents (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx).</span></span>

<span data-ttu-id="bd02c-326">Azure Search vereenvoudigt bereik constructie dankzij de twee methoden voor het berekenen van een bereik.</span><span class="sxs-lookup"><span data-stu-id="bd02c-326">Azure Search simplifies range construction by providing two approaches for computing a range.</span></span> <span data-ttu-id="bd02c-327">Voor beide benaderingen maakt Azure Search Hallo juiste bereiken opgegeven Hallo invoerwaarden die u hebt opgegeven.</span><span class="sxs-lookup"><span data-stu-id="bd02c-327">For both approaches, Azure Search creates hello appropriate ranges given hello inputs you’ve provided.</span></span> <span data-ttu-id="bd02c-328">Bijvoorbeeld, als u de waarden van 10 opgeeft | 20 | 30, wordt kan bereiken van 0-10, 10-20, 20-30 automatisch gemaakt.</span><span class="sxs-lookup"><span data-stu-id="bd02c-328">For instance, if you specify range values of 10|20|30, it automatically creates ranges of 0-10, 10-20, 20-30.</span></span> <span data-ttu-id="bd02c-329">Uw toepassing kunt desgewenst verwijderen voor de tijdstippen die leeg zijn.</span><span class="sxs-lookup"><span data-stu-id="bd02c-329">Your application can optionally remove any intervals that are empty.</span></span> 

<span data-ttu-id="bd02c-330">**Methode 1: Hallo interval parameter gebruiken**</span><span class="sxs-lookup"><span data-stu-id="bd02c-330">**Approach 1: Use hello interval parameter**</span></span>  
<span data-ttu-id="bd02c-331">tooset prijs facetten in $10 stappen, geeft u op:`&facet=price,interval:10`</span><span class="sxs-lookup"><span data-stu-id="bd02c-331">tooset price facets in $10 increments, you would specify: `&facet=price,interval:10`</span></span>

<span data-ttu-id="bd02c-332">**Methode 2: Een lijst met waarden gebruiken**</span><span class="sxs-lookup"><span data-stu-id="bd02c-332">**Approach 2: Use a values list**</span></span>  
<span data-ttu-id="bd02c-333">U kunt een lijst met waarden gebruiken voor numerieke gegevens.</span><span class="sxs-lookup"><span data-stu-id="bd02c-333">For numeric data, you can use a values list.</span></span>  <span data-ttu-id="bd02c-334">Houd rekening met Hallo facet bereik voor een `listPrice` veld als volgt weergegeven:</span><span class="sxs-lookup"><span data-stu-id="bd02c-334">Consider hello facet range for a `listPrice` field, rendered as follows:</span></span>

  ![Lijst met waarden van voorbeeld][5]

<span data-ttu-id="bd02c-336">toospecify een facet bereik, zoals Hallo in Hallo voorgaande schermopname, gebruikt u een lijst met waarden:</span><span class="sxs-lookup"><span data-stu-id="bd02c-336">toospecify a facet range like hello one in hello preceding screen shot, use a values list:</span></span>

    facet=listPrice,values:10|25|100|500|1000|2500

<span data-ttu-id="bd02c-337">Elk bereik is 0 als uitgangspunt, een waarde uit de lijst Hallo als een eindpunt gebruikt en vervolgens afgekapte Hallo vorige bereik toocreate discrete intervallen gebouwd.</span><span class="sxs-lookup"><span data-stu-id="bd02c-337">Each range is built using 0 as a starting point, a value from hello list as an endpoint, and then trimmed of hello previous range toocreate discrete intervals.</span></span> <span data-ttu-id="bd02c-338">Azure Search biedt deze dingen als onderdeel van meervoudige navigatie.</span><span class="sxs-lookup"><span data-stu-id="bd02c-338">Azure Search does these things as part of faceted navigation.</span></span> <span data-ttu-id="bd02c-339">U hoeft geen toowrite code voor het structureren van elk interval.</span><span class="sxs-lookup"><span data-stu-id="bd02c-339">You do not have toowrite code for structuring each interval.</span></span>

### <a name="build-a-filter-for-a-range"></a><span data-ttu-id="bd02c-340">Een filter voor een bereik bouwen</span><span class="sxs-lookup"><span data-stu-id="bd02c-340">Build a filter for a range</span></span>
<span data-ttu-id="bd02c-341">toofilter documenten op basis van een bereik dat u selecteert, kunt u Hallo `"ge"` en `"lt"` operators in een tweedelige-expressie die Hallo eindpunten van Hallo bereik definieert filteren.</span><span class="sxs-lookup"><span data-stu-id="bd02c-341">toofilter documents based on a range you select, you can use hello `"ge"` and `"lt"` filter operators in a two-part expression that defines hello endpoints of hello range.</span></span> <span data-ttu-id="bd02c-342">Bijvoorbeeld, als u ervoor kiest Hallo bereik 10-25 voor een `listPrice` veld Hallo-filter is `$filter=listPrice ge 10 and listPrice lt 25`.</span><span class="sxs-lookup"><span data-stu-id="bd02c-342">For example, if you choose hello range 10-25 for a `listPrice` field, hello filter would be `$filter=listPrice ge 10 and listPrice lt 25`.</span></span> <span data-ttu-id="bd02c-343">In de voorbeeldcode Hallo Hallo filterexpressie gebruikt **priceFrom** en **priceTo** parameters tooset Hallo eindpunten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-343">In hello sample code, hello filter expression uses **priceFrom** and **priceTo** parameters tooset hello endpoints.</span></span> 

  ![Query voor een bereik van waarden][6]

<a name="geofacets"></a> 

## <a name="filter-based-on-distance"></a><span data-ttu-id="bd02c-345">Filter gebaseerd op afstand</span><span class="sxs-lookup"><span data-stu-id="bd02c-345">Filter based on distance</span></span>
<span data-ttu-id="bd02c-346">De algemene toosee filters waarmee u een winkel, een restaurant of een bestemming op basis van de huidige locatie van nabijheid tooyour kiezen.</span><span class="sxs-lookup"><span data-stu-id="bd02c-346">It’s common toosee filters that help you choose a store, restaurant, or destination based on its proximity tooyour current location.</span></span> <span data-ttu-id="bd02c-347">Hoewel dit type filter als facetnavigatie eruitzien kan, is alleen een filter.</span><span class="sxs-lookup"><span data-stu-id="bd02c-347">While this type of filter might look like faceted navigation, it’s just a filter.</span></span> <span data-ttu-id="bd02c-348">We vermeld hier voor mensen die specifiek implementatie advies voor het probleem bepaald ontwerp zoekt.</span><span class="sxs-lookup"><span data-stu-id="bd02c-348">We mention it here for those of you who are specifically looking for implementation advice for that particular design problem.</span></span>

<span data-ttu-id="bd02c-349">Er zijn twee georuimtelijke functies in Azure Search **geo.distance** en **geo.intersects**.</span><span class="sxs-lookup"><span data-stu-id="bd02c-349">There are two Geospatial functions in Azure Search, **geo.distance** and **geo.intersects**.</span></span>

* <span data-ttu-id="bd02c-350">Hallo **geo.distance** functie retourneert Hallo afstand in kilometer tussen twee punten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-350">hello **geo.distance** function returns hello distance in kilometers between two points.</span></span> <span data-ttu-id="bd02c-351">Één punt is een veld en andere een constante doorgegeven als onderdeel van het Hallo-filter.</span><span class="sxs-lookup"><span data-stu-id="bd02c-351">One point is a field and other is a constant passed as part of hello filter.</span></span> 
* <span data-ttu-id="bd02c-352">Hallo **geo.intersects** functie retourneert true als er een opgegeven punt zich binnen een bepaalde veelhoek.</span><span class="sxs-lookup"><span data-stu-id="bd02c-352">hello **geo.intersects** function returns true if a given point is within a given polygon.</span></span> <span data-ttu-id="bd02c-353">Hallo-punt is een veld en Hallo veelhoek is opgegeven als een constante lijst coördinaten doorgegeven als onderdeel van het Hallo-filter.</span><span class="sxs-lookup"><span data-stu-id="bd02c-353">hello point is a field and hello polygon is specified as a constant list of coordinates passed as part of hello filter.</span></span>

<span data-ttu-id="bd02c-354">Vindt u voorbeelden van filter in [OData-expressiesyntaxis (Azure Search)](http://msdn.microsoft.com/library/azure/dn798921.aspx).</span><span class="sxs-lookup"><span data-stu-id="bd02c-354">You can find filter examples in [OData expression syntax (Azure Search)](http://msdn.microsoft.com/library/azure/dn798921.aspx).</span></span>

<a name="tryitout"></a>

## <a name="try-hello-demo"></a><span data-ttu-id="bd02c-355">Probeer het Hallo-demo</span><span class="sxs-lookup"><span data-stu-id="bd02c-355">Try hello demo</span></span>
<span data-ttu-id="bd02c-356">Hello Azure Search taak Portal-Demo bevat Hallo voorbeelden waarnaar wordt verwezen in dit artikel.</span><span class="sxs-lookup"><span data-stu-id="bd02c-356">hello Azure Search Job Portal Demo contains hello examples referenced in this article.</span></span>

-   <span data-ttu-id="bd02c-357">Zie en testen Hallo werkende demo online op [Azure Search taak Portal-Demo](http://azjobsdemo.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="bd02c-357">See and test hello working demo online at [Azure Search Job Portal Demo](http://azjobsdemo.azurewebsites.net/).</span></span>

-   <span data-ttu-id="bd02c-358">Hallo code downloaden van Hallo [Azure-Samples-opslagplaats op GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span><span class="sxs-lookup"><span data-stu-id="bd02c-358">Download hello code from hello [Azure-Samples repo on GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span></span>

<span data-ttu-id="bd02c-359">Als u met zoekresultaten werkt, bekijk Hallo-URL voor wijzigingen in het samenstellen van query.</span><span class="sxs-lookup"><span data-stu-id="bd02c-359">As you work with search results, watch hello URL for changes in query construction.</span></span> <span data-ttu-id="bd02c-360">Deze toepassing gebeurt tooappend facetten toohello URI terwijl u elk item selecteert.</span><span class="sxs-lookup"><span data-stu-id="bd02c-360">This application happens tooappend facets toohello URI as you select each one.</span></span>

1. <span data-ttu-id="bd02c-361">toouse hello toewijzing functionaliteit van Hallo demo-app, u een Bing Maps-sleutel van Hallo [Bing Maps Dev Center](https://www.bingmapsportal.com/).</span><span class="sxs-lookup"><span data-stu-id="bd02c-361">toouse hello mapping functionality of hello demo app, get a Bing Maps key from hello [Bing Maps Dev Center](https://www.bingmapsportal.com/).</span></span> <span data-ttu-id="bd02c-362">Plak deze via de bestaande sleutel Hallo in Hallo `index.cshtml` pagina.</span><span class="sxs-lookup"><span data-stu-id="bd02c-362">Paste it over hello existing key in hello `index.cshtml` page.</span></span> <span data-ttu-id="bd02c-363">Hallo `BingApiKey` instellen in Hallo `Web.config` -bestand wordt niet gebruikt.</span><span class="sxs-lookup"><span data-stu-id="bd02c-363">hello `BingApiKey` setting in hello `Web.config` file is not used.</span></span> 

2. <span data-ttu-id="bd02c-364">Hallo-toepassing uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="bd02c-364">Run hello application.</span></span> <span data-ttu-id="bd02c-365">Hallo-optioneel rondleiding of Hallo dialoogvenster sluiten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-365">Take hello optional tour, or dismiss hello dialog box.</span></span>
   
3. <span data-ttu-id="bd02c-366">Geef een zoekterm, zoals 'analist', en klik op het zoekpictogram Hallo.</span><span class="sxs-lookup"><span data-stu-id="bd02c-366">Enter a search term, such as "analyst", and click hello Search icon.</span></span> <span data-ttu-id="bd02c-367">Hallo-query snel wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="bd02c-367">hello query executes quickly.</span></span>
   
   <span data-ttu-id="bd02c-368">De structuur van een meervoudige navigatie wordt ook geretourneerd met Hallo zoekresultaten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-368">A faceted navigation structure is also returned with hello search results.</span></span> <span data-ttu-id="bd02c-369">In de pagina met zoekresultaten Hallo omvat Hallo facetnavigatie structuur tellingen voor elk resultaat facet.</span><span class="sxs-lookup"><span data-stu-id="bd02c-369">In hello search result page, hello faceted navigation structure includes counts for each facet result.</span></span> <span data-ttu-id="bd02c-370">Er is geen facetten zijn geselecteerd, zodat alle overeenkomende resultaten worden geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="bd02c-370">No facets are selected, so all matching results are returned.</span></span>
   
   ![Zoekresultaten voordat u selecteert facetten][11]

4. <span data-ttu-id="bd02c-372">Klik op een functie, de locatie of de minimale salaris.</span><span class="sxs-lookup"><span data-stu-id="bd02c-372">Click a Business Title, Location, or Minimum Salary.</span></span> <span data-ttu-id="bd02c-373">Facetten zijn null op Hallo zoekt, maar als deze waarden ondernemen, Hallo zoekresultaten zijn afgekapt tot van items die niet langer overeenkomen met.</span><span class="sxs-lookup"><span data-stu-id="bd02c-373">Facets were null on hello initial search, but as they take on values, hello search results are trimmed of items that no longer match.</span></span>
   
   ![Zoekresultaten na het selecteren van facetten][12]

5. <span data-ttu-id="bd02c-375">tooclear hello meervoudige query zodat u kunt andere query gedrag, klikt u op Hallo `[X]` nadat Hallo facetten tooclear Hallo facetten geselecteerd.</span><span class="sxs-lookup"><span data-stu-id="bd02c-375">tooclear hello faceted query so that you can try different query behaviors, click hello `[X]` after hello selected facets tooclear hello facets.</span></span>
   
<a name="nextstep"></a>

## <a name="learn-more"></a><span data-ttu-id="bd02c-376">Meer informatie</span><span class="sxs-lookup"><span data-stu-id="bd02c-376">Learn more</span></span>
<span data-ttu-id="bd02c-377">Bekijk [Azure Search diepgaand](http://channel9.msdn.com/Events/TechEd/Europe/2014/DBI-B410).</span><span class="sxs-lookup"><span data-stu-id="bd02c-377">Watch [Azure Search Deep Dive](http://channel9.msdn.com/Events/TechEd/Europe/2014/DBI-B410).</span></span> <span data-ttu-id="bd02c-378">45:25, er is een demo voor het tooimplement facetten.</span><span class="sxs-lookup"><span data-stu-id="bd02c-378">At 45:25, there is a demo on how tooimplement facets.</span></span>

<span data-ttu-id="bd02c-379">Voor meer informatie over ontwerp beginselen voor meervoudige navigatie wordt aangeraden Hallo koppelingen te volgen:</span><span class="sxs-lookup"><span data-stu-id="bd02c-379">For more insights on design principles for faceted navigation, we recommend hello following links:</span></span>

* [<span data-ttu-id="bd02c-380">Ontwerpen voor meervoudige zoeken</span><span class="sxs-lookup"><span data-stu-id="bd02c-380">Designing for Faceted Search</span></span>](http://www.uie.com/articles/faceted_search/)
* [<span data-ttu-id="bd02c-381">Ontwerppatronen: Meervoudige navigatie</span><span class="sxs-lookup"><span data-stu-id="bd02c-381">Design Patterns: Faceted Navigation</span></span>](http://alistapart.com/article/design-patterns-faceted-navigation)


<!--Anchors-->
[How toobuild it]: #howtobuildit
[Build hello presentation layer]: #presentationlayer
[Build hello index]: #buildindex
[Check for data quality]: #checkdata
[Build hello query]: #buildquery
[Tips on how toocontrol faceted navigation]: #tips
[Faceted navigation based on range values]: #rangefacets
[Faceted navigation based on GeoPoints]: #geofacets
[Try it out]: #tryitout

<!--Image references-->
[1]: ./media/search-faceted-navigation/azure-search-faceting-example.PNG
[2]: ./media/search-faceted-navigation/Facet-2-CSHTML.PNG
[3]: ./media/search-faceted-navigation/Facet-3-schema.PNG
[4]: ./media/search-faceted-navigation/Facet-4-SearchMethod.PNG
[5]: ./media/search-faceted-navigation/Facet-5-Prices.PNG
[6]: ./media/search-faceted-navigation/Facet-6-buildfilter.PNG
[7]: ./media/search-faceted-navigation/Facet-7-appstart.png
[8]: ./media/search-faceted-navigation/Facet-8-appbike.png
[9]: ./media/search-faceted-navigation/Facet-9-appbikefaceted.png
[10]: ./media/search-faceted-navigation/Facet-10-appTitle.png
[11]: ./media/search-faceted-navigation/faceted-search-before-facets.png
[12]: ./media/search-faceted-navigation/faceted-search-after-facets.png

<!--Link references-->
[Designing for Faceted Search]: http://www.uie.com/articles/faceted_search/
[Design Patterns: Faceted Navigation]: http://alistapart.com/article/design-patterns-faceted-navigation
[Create your first application]: search-create-first-solution.md
[OData expression syntax (Azure Search)]: http://msdn.microsoft.com/library/azure/dn798921.aspx
[Azure Search Adventure Works Demo]: https://azuresearchadventureworksdemo.codeplex.com/
[http://www.odata.org/documentation/odata-version-2-0/overview/]: http://www.odata.org/documentation/odata-version-2-0/overview/ 
[Faceting on Azure Search forum post]: ../faceting-on-azure-search.md?forum=azuresearch
[Search Documents (Azure Search API)]: http://msdn.microsoft.com/library/azure/dn798927.aspx

