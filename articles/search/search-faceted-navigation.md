---
title: Meervoudige navigatie implementeren in Azure Search | Microsoft Docs
description: "Meervoudige navigatie toevoegen aan toepassingen die zijn geïntegreerd met Azure Search, een zoekservice in de cloud gehoste op Microsoft Azure."
services: search
documentationcenter: 
author: HeidiSteen
manager: mblythe
editor: 
ms.assetid: cdf98fd4-63fd-4b50-b0b0-835cb08ad4d3
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 3/10/2017
ms.author: heidist
ms.openlocfilehash: 413f498eeb0bbc9a971c7a65200ed2fd8caa9aaf
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-implement-faceted-navigation-in-azure-search"></a><span data-ttu-id="2ab67-103">Facetnavigatie implementeren in Azure Search</span><span class="sxs-lookup"><span data-stu-id="2ab67-103">How to implement faceted navigation in Azure Search</span></span>
<span data-ttu-id="2ab67-104">Meervoudige navigatie is een filtermechanisme waarmee zelf gerichte analyse navigatie in toepassingen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-104">Faceted navigation is a filtering mechanism that provides self-directed drilldown navigation in search applications.</span></span> <span data-ttu-id="2ab67-105">De term 'facetnavigatie' niet bekend zijn, maar u hebt waarschijnlijk het eerder gebruikt.</span><span class="sxs-lookup"><span data-stu-id="2ab67-105">The term 'faceted navigation' may be unfamiliar, but you've probably used it before.</span></span> <span data-ttu-id="2ab67-106">Zoals in het volgende voorbeeld toont, wordt er meervoudige navigatie is niets meer dan de categorieën die wordt gebruikt voor het filteren van resultaten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-106">As the following example shows, faceted navigation is nothing more than the categories used to filter results.</span></span>

 ![Azure Search taak Portal-Demo][1]

<span data-ttu-id="2ab67-108">Meervoudige navigatie is een alternatieve toegangspunt om te zoeken.</span><span class="sxs-lookup"><span data-stu-id="2ab67-108">Faceted navigation is an alternative entry point to search.</span></span> <span data-ttu-id="2ab67-109">Biedt een alternatief voor het zoeken van complexe expressies handmatig te typen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-109">It offers a convenient alternative to typing complex search expressions by hand.</span></span> <span data-ttu-id="2ab67-110">Facetten kunt u vinden wat u zoekt, terwijl u ervoor zorgt dat er geen nul resultaten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-110">Facets can help you find what you're looking for, while ensuring that you don’t get zero results.</span></span> <span data-ttu-id="2ab67-111">Als een ontwikkelaar kunnen facetten u de nuttigste zoekcriteria voor uw zoekopdracht corpus navigeren blootstellen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-111">As a developer, facets let you expose the most useful search criteria for navigating your search corpus.</span></span> <span data-ttu-id="2ab67-112">In online retail-toepassingen is vaak facetnavigatie gebouwd via merken, afdelingen (kinderen om), grootte, prijs, populariteit en classificaties.</span><span class="sxs-lookup"><span data-stu-id="2ab67-112">In online retail applications, faceted navigation is often built over brands, departments (kid’s shoes), size, price, popularity, and ratings.</span></span> 

<span data-ttu-id="2ab67-113">Implementatie van meervoudige navigatie verschilt voor elk voor zoekopdracht technologieën.</span><span class="sxs-lookup"><span data-stu-id="2ab67-113">Implementing faceted navigation differs across search technologies.</span></span> <span data-ttu-id="2ab67-114">In Azure Search is meervoudige navigatie op moment van de query wordt gebouwd met velden die u eerder in uw schema toegeschreven.</span><span class="sxs-lookup"><span data-stu-id="2ab67-114">In Azure Search, faceted navigation is built at query time, using fields that you previously attributed in your schema.</span></span>

-   <span data-ttu-id="2ab67-115">In de query's die uw toepassing wordt gemaakt, een query moet verzenden *facet queryparameters* ophalen van de beschikbare facet filterwaarden voor de resultatenset van dat document.</span><span class="sxs-lookup"><span data-stu-id="2ab67-115">In the queries that your application builds, a query must send *facet query parameters* to get the available facet filter values for that document result set.</span></span>

-   <span data-ttu-id="2ab67-116">Het resultaat van het document daadwerkelijk knippen ingesteld, wordt de toepassing moet worden toegepast een `$filter` expressie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-116">To actually trim the document result set, the application must also apply a `$filter` expression.</span></span>

<span data-ttu-id="2ab67-117">In de toepassingsontwikkeling van uw vormt schrijven van code die wordt gemaakt van query's het grootste deel van het werk.</span><span class="sxs-lookup"><span data-stu-id="2ab67-117">In your application development, writing code that constructs queries constitutes the bulk of the work.</span></span> <span data-ttu-id="2ab67-118">Veel van het gedrag van toepassingen die u van meervoudige navigatie verwacht worden geleverd door de service, inclusief de ingebouwde ondersteuning voor het definiëren van de bereiken en ophalen van tellingen voor facet resultaten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-118">Many of the application behaviors that you would expect from faceted navigation are provided by the service, including built-in support for defining ranges and getting counts for facet results.</span></span> <span data-ttu-id="2ab67-119">De service omvat tevens logisch standaardwaarden die u helpen te voorkomen dat onhandig navigatiestructuur.</span><span class="sxs-lookup"><span data-stu-id="2ab67-119">The service also includes sensible defaults that help you avoid unwieldy navigation structures.</span></span> 

## <a name="sample-code-and-demo"></a><span data-ttu-id="2ab67-120">Voorbeeldcode en demo</span><span class="sxs-lookup"><span data-stu-id="2ab67-120">Sample code and demo</span></span>
<span data-ttu-id="2ab67-121">In dit artikel wordt een taak zoeken portal als voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="2ab67-121">This article uses a job search portal as an example.</span></span> <span data-ttu-id="2ab67-122">In het voorbeeld is geïmplementeerd als een ASP.NET MVC-toepassing.</span><span class="sxs-lookup"><span data-stu-id="2ab67-122">The example is implemented as an ASP.NET MVC application.</span></span>

-   <span data-ttu-id="2ab67-123">Zie en testen van de werkende demo online op [Azure Search taak Portal-Demo](http://azjobsdemo.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="2ab67-123">See and test the working demo online at [Azure Search Job Portal Demo](http://azjobsdemo.azurewebsites.net/).</span></span>

-   <span data-ttu-id="2ab67-124">Download de code uit de [Azure-Samples-opslagplaats op GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span><span class="sxs-lookup"><span data-stu-id="2ab67-124">Download the code from the [Azure-Samples repo on GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span></span>

## <a name="get-started"></a><span data-ttu-id="2ab67-125">Aan de slag</span><span class="sxs-lookup"><span data-stu-id="2ab67-125">Get started</span></span>
<span data-ttu-id="2ab67-126">Als u nieuwe ontwikkeling zoeken, is het beste denken aan facetnavigatie dat de mogelijkheden voor zelf gerichte zoekopdracht te zien.</span><span class="sxs-lookup"><span data-stu-id="2ab67-126">If you're new to search development, the best way to think of faceted navigation is that it shows the possibilities for self-directed search.</span></span> <span data-ttu-id="2ab67-127">Het is een soort inzoomen zoekervaring, op basis van vooraf gedefinieerde filters, die worden gebruikt voor het verfijnen van snel omlaag zoekresultaten via point-and-click acties.</span><span class="sxs-lookup"><span data-stu-id="2ab67-127">It’s a type of drill-down search experience, based on predefined filters, used for quickly narrowing down search results through point-and-click actions.</span></span> 

### <a name="interaction-model"></a><span data-ttu-id="2ab67-128">Interactie model</span><span class="sxs-lookup"><span data-stu-id="2ab67-128">Interaction model</span></span>

<span data-ttu-id="2ab67-129">De zoekfunctie voor meervoudige navigatie is herhaald, dus laten we eerst het als een reeks van query's die in reactie op gebruikersacties uitgevouwen begrijpen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-129">The search experience for faceted navigation is iterative, so let’s start by understanding it as a sequence of queries that unfold in response to user actions.</span></span>

<span data-ttu-id="2ab67-130">Het beginpunt is een toepassingspagina waarmee facetnavigatie doorgaans op de omtrek geplaatst.</span><span class="sxs-lookup"><span data-stu-id="2ab67-130">The starting point is an application page that provides faceted navigation, typically placed on the periphery.</span></span> <span data-ttu-id="2ab67-131">Meervoudige navigatie is vaak een boomstructuur met selectievakjes uit voor elke waarde of overeen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-131">Faceted navigation is often a tree structure, with checkboxes for each value, or clickable text.</span></span> 

1. <span data-ttu-id="2ab67-132">Een query verzonden naar Azure Search Hiermee geeft u de structuur facetnavigatie via een of meer facet queryparameters.</span><span class="sxs-lookup"><span data-stu-id="2ab67-132">A query sent to Azure Search specifies the faceted navigation structure via one or more facet query parameters.</span></span> <span data-ttu-id="2ab67-133">Bijvoorbeeld: de query kan onder andere `facet=Rating`, mogelijk met een `:values` of `:sort` optie om de presentatie verder te verfijnen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-133">For instance, the query might include `facet=Rating`, perhaps with a `:values` or `:sort` option to further refine the presentation.</span></span>
2. <span data-ttu-id="2ab67-134">De laag voor presentatie geeft een zoekpagina waarmee facetnavigatie met de facetten die zijn opgegeven voor de aanvraag.</span><span class="sxs-lookup"><span data-stu-id="2ab67-134">The presentation layer renders a search page that provides faceted navigation, using the facets specified on the request.</span></span>
3. <span data-ttu-id="2ab67-135">Uitgaande van een meervoudige navigatie-structuur met de classificatie, u klikt op '4' om aan te geven dat alleen producten met een classificatie van 4 of hoger moeten worden weergegeven.</span><span class="sxs-lookup"><span data-stu-id="2ab67-135">Given a faceted navigation structure that includes Rating, you click "4" to indicate that only products with a rating of 4 or higher should be shown.</span></span> 
4. <span data-ttu-id="2ab67-136">Als antwoord verzendt de toepassing een query met`$filter=Rating ge 4`</span><span class="sxs-lookup"><span data-stu-id="2ab67-136">In response, the application sends a query that includes `$filter=Rating ge 4`</span></span> 
5. <span data-ttu-id="2ab67-137">De laag voor presentatie updates de pagina, met een verminderde resultatenset met alleen de items die voldoen aan de nieuwe criteria (in dit geval producten beoordeeld 4 en hoger).</span><span class="sxs-lookup"><span data-stu-id="2ab67-137">The presentation layer updates the page, showing a reduced result set, containing just those items that satisfy the new criteria (in this case, products rated 4 and up).</span></span>

<span data-ttu-id="2ab67-138">Een facet is een queryparameter, maar niet verwarren met invoer voor de query.</span><span class="sxs-lookup"><span data-stu-id="2ab67-138">A facet is a query parameter, but do not confuse it with query input.</span></span> <span data-ttu-id="2ab67-139">Dit wordt nooit gebruikt als selectiecriteria in een query.</span><span class="sxs-lookup"><span data-stu-id="2ab67-139">It is never used as selection criteria in a query.</span></span> <span data-ttu-id="2ab67-140">In plaats daarvan zien facet queryparameters als invoer voor de navigatiestructuur die weer in het antwoord.</span><span class="sxs-lookup"><span data-stu-id="2ab67-140">Instead, think of facet query parameters as inputs to the navigation structure that comes back in the response.</span></span> <span data-ttu-id="2ab67-141">Voor elke facet queryparameter die u opgeeft, evalueert Azure Search hoeveel documenten zijn in de gedeeltelijke resultaten voor elke facetwaarde.</span><span class="sxs-lookup"><span data-stu-id="2ab67-141">For each facet query parameter you provide, Azure Search evaluates how many documents are in the partial results for each facet value.</span></span>

<span data-ttu-id="2ab67-142">U ziet de `$filter` in stap 4.</span><span class="sxs-lookup"><span data-stu-id="2ab67-142">Notice the `$filter` in step 4.</span></span> <span data-ttu-id="2ab67-143">Het filter is een belangrijk aspect van meervoudige navigatie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-143">The filter is an important aspect of faceted navigation.</span></span> <span data-ttu-id="2ab67-144">Hoewel de facetten en filters onafhankelijk van elkaar in de API zijn, moet u zowel voor die u van plan bent gebruikerservaring.</span><span class="sxs-lookup"><span data-stu-id="2ab67-144">Although facets and filters are independent in the API, you need both to deliver the experience you intend.</span></span> 

### <a name="app-design-pattern"></a><span data-ttu-id="2ab67-145">Het ontwerppatroon App</span><span class="sxs-lookup"><span data-stu-id="2ab67-145">App design pattern</span></span>

<span data-ttu-id="2ab67-146">In de toepassingscode is het patroon facet queryparameters gebruiken om te retourneren van de structuur facetnavigatie samen met facet resultaten, plus een $filter-expressie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-146">In application code, the pattern is to use facet query parameters to return the faceted navigation structure along with facet results, plus a $filter expression.</span></span>  <span data-ttu-id="2ab67-147">De filterexpressie verwerkt de gebeurtenis click van de facetwaarde van.</span><span class="sxs-lookup"><span data-stu-id="2ab67-147">The filter expression handles the click event on the facet value.</span></span> <span data-ttu-id="2ab67-148">Vergelijken met de `$filter` expressie als de code achter de werkelijke bijsnijden zoekresultaten geretourneerd naar de laag voor presentatie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-148">Think of the `$filter` expression as the code behind the actual trimming of search results returned to the presentation layer.</span></span> <span data-ttu-id="2ab67-149">Gezien een facet kleuren, te klikken op de kleur rood wordt geïmplementeerd via een `$filter` expressie die u selecteert alleen de items die een kleur van rood hebben.</span><span class="sxs-lookup"><span data-stu-id="2ab67-149">Given a Colors facet, clicking the color Red is implemented through a `$filter` expression that selects only those items that have a color of red.</span></span> 

### <a name="query-basics"></a><span data-ttu-id="2ab67-150">Query-basisbeginselen</span><span class="sxs-lookup"><span data-stu-id="2ab67-150">Query basics</span></span>

<span data-ttu-id="2ab67-151">In Azure Search een aanvraag via een of meer queryparameters is opgegeven (Zie [documenten zoeken](http://msdn.microsoft.com/library/azure/dn798927.aspx) voor een beschrijving van elk criterium).</span><span class="sxs-lookup"><span data-stu-id="2ab67-151">In Azure Search, a request is specified through one or more query parameters (see [Search Documents](http://msdn.microsoft.com/library/azure/dn798927.aspx) for a description of each one).</span></span> <span data-ttu-id="2ab67-152">Geen van de query-parameters zijn vereist, maar u moet ten minste één om een query naar een geldig hebben.</span><span class="sxs-lookup"><span data-stu-id="2ab67-152">None of the query parameters are required, but you must have at least one in order for a query to be valid.</span></span>

<span data-ttu-id="2ab67-153">Precisie, zoals de mogelijkheid om te filteren irrelevante treffers wordt bereikt door een of beide van deze expressies te begrijpen:</span><span class="sxs-lookup"><span data-stu-id="2ab67-153">Precision, understood as the ability to filter out irrelevant hits, is achieved through one or both of these expressions:</span></span>

-   <span data-ttu-id="2ab67-154">**zoeken =**</span><span class="sxs-lookup"><span data-stu-id="2ab67-154">**search=**</span></span>  
    <span data-ttu-id="2ab67-155">De waarde van deze parameter wordt verstaan onder de zoekopdracht.</span><span class="sxs-lookup"><span data-stu-id="2ab67-155">The value of this parameter constitutes the search expression.</span></span> <span data-ttu-id="2ab67-156">Een los stukje van tekst of een complexe zoekopdracht-expressie met meerdere voorwaarden en operators mogelijk.</span><span class="sxs-lookup"><span data-stu-id="2ab67-156">It might be a single piece of text, or a complex search expression that includes multiple terms and operators.</span></span> <span data-ttu-id="2ab67-157">De expressie voor een zoekopdracht wordt op de server gebruikt voor zoeken in volledige tekst, uitvoeren van query's doorzoekbare velden in de index voor die overeenkomt met de voorwaarden, retourneren resultaten in de volgorde van de waarden van positie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-157">On the server, a search expression is used for full-text search, querying searchable fields in the index for matching terms, returning results in rank order.</span></span> <span data-ttu-id="2ab67-158">Als u instelt `search` op null, query wordt via de gehele index (dat wil zeggen, `search=*`).</span><span class="sxs-lookup"><span data-stu-id="2ab67-158">If you set `search` to null, query execution is over the entire index (that is, `search=*`).</span></span> <span data-ttu-id="2ab67-159">In dit geval andere elementen van de query, zoals een `$filter` of score berekenen profiel, zijn de primaire factoren die invloed hebben op welke documenten worden geretourneerd `($filter`) en in welke volgorde (`scoringProfile` of `$orderby`).</span><span class="sxs-lookup"><span data-stu-id="2ab67-159">In this case, other elements of the query, such as a `$filter` or scoring profile, are the primary factors affecting which documents are returned `($filter`) and in what order (`scoringProfile` or `$orderby`).</span></span>

-   <span data-ttu-id="2ab67-160">**$filter =**</span><span class="sxs-lookup"><span data-stu-id="2ab67-160">**$filter=**</span></span>  
    <span data-ttu-id="2ab67-161">Een filter is een krachtig mechanisme voor het beperken van de grootte van de zoekresultaten op basis van de waarden van specifieke documentkenmerken.</span><span class="sxs-lookup"><span data-stu-id="2ab67-161">A filter is a powerful mechanism for limiting the size of search results based on the values of specific document attributes.</span></span> <span data-ttu-id="2ab67-162">Een `$filter` wordt eerst geëvalueerd, gevolgd door de facetten logica waarmee de beschikbare waarden en de bijbehorende tellingen voor elke waarde wordt gegenereerd</span><span class="sxs-lookup"><span data-stu-id="2ab67-162">A `$filter` is evaluated first, followed by faceting logic that generates the available values and corresponding counts for each value</span></span>

<span data-ttu-id="2ab67-163">Complexe zoekopdracht expressies verminderen de prestaties van de query.</span><span class="sxs-lookup"><span data-stu-id="2ab67-163">Complex search expressions decrease the performance of the query.</span></span> <span data-ttu-id="2ab67-164">Waar mogelijk, gebruikt u goed opgebouwde Filterexpressies voor betere nauwkeurigheid en queryprestaties verbeteren.</span><span class="sxs-lookup"><span data-stu-id="2ab67-164">Where possible, use well-constructed filter expressions to increase precision and improve query performance.</span></span>

<span data-ttu-id="2ab67-165">Vergelijk om beter te begrijpen hoe nauwkeuriger in een filter wordt toegevoegd, een complexe zoekexpressie dat een filterexpressie bevat:</span><span class="sxs-lookup"><span data-stu-id="2ab67-165">To better understand how a filter adds more precision, compare a complex search expression to one that includes a filter expression:</span></span>

-   `GET /indexes/hotel/docs?search=lodging budget +Seattle –motel +parking`
-   `GET /indexes/hotel/docs?search=lodging&$filter=City eq ‘Seattle’ and Parking and Type ne ‘motel’`

<span data-ttu-id="2ab67-166">Beide query's zijn geldig, maar de tweede beter als u niet motels met parkeerplaatsen in Haarlem zoekt is.</span><span class="sxs-lookup"><span data-stu-id="2ab67-166">Both queries are valid, but the second is superior if you’re looking for non-motels with parking in Seattle.</span></span>
-   <span data-ttu-id="2ab67-167">De eerste query, is afhankelijk van deze specifieke woorden wordt vermeld of niet in tekenreeksvelden zoals naam, beschrijving en andere velden die doorzoekbare gegevens genoemd.</span><span class="sxs-lookup"><span data-stu-id="2ab67-167">The first query relies on those specific words being mentioned or not mentioned in string fields like Name, Description, and any other field containing searchable data.</span></span>
-   <span data-ttu-id="2ab67-168">De tweede query zoekt nauwkeurige overeenkomsten op gestructureerde gegevens en is waarschijnlijk nauwkeuriger.</span><span class="sxs-lookup"><span data-stu-id="2ab67-168">The second query looks for precise matches on structured data and is likely to be much more accurate.</span></span>

<span data-ttu-id="2ab67-169">In toepassingen die facetnavigatie omvatten, maar zorg ervoor dat wordt elke actie van de gebruiker over de structuur van een meervoudige navigatie vergezeld van een beperking van de zoekresultaten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-169">In applications that include faceted navigation, make sure that each user action over a faceted navigation structure is accompanied by a narrowing of search results.</span></span> <span data-ttu-id="2ab67-170">Gebruiken om de resultaten beperken, een filterexpressie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-170">To narrow results, use a filter expression.</span></span>

<a name="howtobuildit"></a>

## <a name="build-a-faceted-navigation-app"></a><span data-ttu-id="2ab67-171">Een meervoudige navigatie-app bouwen</span><span class="sxs-lookup"><span data-stu-id="2ab67-171">Build a faceted navigation app</span></span>
<span data-ttu-id="2ab67-172">U implementeren meervoudige navigatie met Azure Search in uw toepassingscode die de zoekopdracht voortbouwt.</span><span class="sxs-lookup"><span data-stu-id="2ab67-172">You implement faceted navigation with Azure Search in your application code that builds the search request.</span></span> <span data-ttu-id="2ab67-173">Er is een meervoudige navigatie afhankelijk van de elementen in het schema dat u eerder hebt gedefinieerd.</span><span class="sxs-lookup"><span data-stu-id="2ab67-173">The faceted navigation relies on elements in your schema that you defined previously.</span></span>

<span data-ttu-id="2ab67-174">Vooraf gedefinieerd in de zoekopdracht index is de `Facetable [true|false]` indexkenmerk, ingesteld op de geselecteerde velden of het gebruik ervan in een structuur facetnavigatie uit te schakelen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-174">Predefined in your search index is the `Facetable [true|false]` index attribute, set on selected fields to enable or disable their use in a faceted navigation structure.</span></span> <span data-ttu-id="2ab67-175">Zonder `"Facetable" = true`, een veld in de navigatiebalk facet kan niet worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="2ab67-175">Without `"Facetable" = true`, a field cannot be used in facet navigation.</span></span>

<span data-ttu-id="2ab67-176">De laag voor presentatie in uw code biedt de gebruikerservaring.</span><span class="sxs-lookup"><span data-stu-id="2ab67-176">The presentation layer in your code provides the user experience.</span></span> <span data-ttu-id="2ab67-177">Het moet delen van de facetnavigatie, zoals het label, waarden, selectievakjes en het aantal aanbieden.</span><span class="sxs-lookup"><span data-stu-id="2ab67-177">It should list the constituent parts of the faceted navigation, such as the label, values, check boxes, and the count.</span></span> <span data-ttu-id="2ab67-178">De Azure Search REST-API is platform networkdirect, dus elke taal en het platform dat u wilt gebruiken.</span><span class="sxs-lookup"><span data-stu-id="2ab67-178">The Azure Search REST API is platform agnostic, so use whatever language and platform you want.</span></span> <span data-ttu-id="2ab67-179">Het belangrijkste is om op te nemen van UI-elementen die ondersteuning bieden voor incrementele vernieuwen met bijgewerkte gebruikersinterfacestatus omdat elke extra facet is geselecteerd.</span><span class="sxs-lookup"><span data-stu-id="2ab67-179">The important thing is to include UI elements that support incremental refresh, with updated UI state as each additional facet is selected.</span></span> 

<span data-ttu-id="2ab67-180">Op het moment dat de query, maakt de toepassingscode een aanvraag met `facet=[string]`, een aanvraagparameter waarmee het veld facet door.</span><span class="sxs-lookup"><span data-stu-id="2ab67-180">At query time, your application code creates a request that includes `facet=[string]`, a request parameter that provides the field to facet by.</span></span> <span data-ttu-id="2ab67-181">Een query kunt beschikt over meerdere facetten zoals `&facet=color&facet=category&facet=rating`, elkaar gescheiden door een ampersand (&)-teken.</span><span class="sxs-lookup"><span data-stu-id="2ab67-181">A query can have multiple facets, such as `&facet=color&facet=category&facet=rating`, each one separated by an ampersand (&) character.</span></span>

<span data-ttu-id="2ab67-182">Ook moet opgeven, toepassingscode een `$filter` expressie voor het afhandelen van de gebeurtenissen klikken in meervoudige navigatie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-182">Application code must also construct a `$filter` expression to handle the click events in faceted navigation.</span></span> <span data-ttu-id="2ab67-183">Een `$filter` minder zoekresultaten wilt weergeven, met behulp van de facetwaarde als filtercriteria.</span><span class="sxs-lookup"><span data-stu-id="2ab67-183">A `$filter` reduces the search results, using the facet value as filter criteria.</span></span>

<span data-ttu-id="2ab67-184">Azure Search retourneert de zoekresultaten op basis van een of meer voorwaarden die u, samen met updates voor de structuur meervoudige navigatie invoert.</span><span class="sxs-lookup"><span data-stu-id="2ab67-184">Azure Search returns the search results, based on one or more terms that you enter, along with updates to the faceted navigation structure.</span></span> <span data-ttu-id="2ab67-185">In Azure Search meervoudige navigatie is één niveau gebouwd facet waarden, statistieken en hoeveel resultaten gevonden voor elk criterium.</span><span class="sxs-lookup"><span data-stu-id="2ab67-185">In Azure Search, faceted navigation is a single-level construction, with facet values, and counts of how many results are found for each one.</span></span>

<span data-ttu-id="2ab67-186">In de volgende secties nemen we het bouwen van elk onderdeel nader bekijken.</span><span class="sxs-lookup"><span data-stu-id="2ab67-186">In the following sections, we take a closer look at how to build each part.</span></span>

<a name="buildindex"></a>

## <a name="build-the-index"></a><span data-ttu-id="2ab67-187">Bouw de index</span><span class="sxs-lookup"><span data-stu-id="2ab67-187">Build the index</span></span>
<span data-ttu-id="2ab67-188">Facetten is ingeschakeld op basis van door veld in de index, via deze indexkenmerk: `"Facetable": true`.</span><span class="sxs-lookup"><span data-stu-id="2ab67-188">Faceting is enabled on a field-by-field basis in the index, via this index attribute: `"Facetable": true`.</span></span>  
<span data-ttu-id="2ab67-189">Alle veldtypen die mogelijk kunnen worden gebruikt in facetnavigatie `Facetable` standaard.</span><span class="sxs-lookup"><span data-stu-id="2ab67-189">All field types that could possibly be used in faceted navigation are `Facetable` by default.</span></span> <span data-ttu-id="2ab67-190">Dergelijke veldtypen omvatten `Edm.String`, `Edm.DateTimeOffset`, en de numerieke veldtypen (in wezen alle veldtypen zijn geschikt voor facetten behalve `Edm.GeographyPoint`, die niet worden gebruikt in facetnavigatie).</span><span class="sxs-lookup"><span data-stu-id="2ab67-190">Such field types include `Edm.String`, `Edm.DateTimeOffset`, and all the numeric field types (essentially, all field types are facetable except `Edm.GeographyPoint`, which can’t be used in faceted navigation).</span></span> 

<span data-ttu-id="2ab67-191">Als u een index maakt, is een best practice voor meervoudige navigatie expliciet facetten om uit te schakelen voor velden die nooit mogen worden gebruikt als een beperkingsfacet.</span><span class="sxs-lookup"><span data-stu-id="2ab67-191">When building an index, a best practice for faceted navigation is to explicitly turn faceting off for fields that should never be used as a facet.</span></span>  <span data-ttu-id="2ab67-192">In het bijzonder tekenreeksvelden voor singleton-waarden, zoals een naam-ID of product moeten worden ingesteld op `"Facetable": false` om te voorkomen dat het gebruik ervan onbedoeld (en niet effectief) in meervoudige navigatie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-192">In particular, string fields for singleton values, such as an ID or product name, should be set to `"Facetable": false` to prevent their accidental (and ineffective) use in faceted navigation.</span></span> <span data-ttu-id="2ab67-193">Facetten uitschakelen wanneer u deze niet nodig schakelen helpt u de grootte van de index klein en meestal verbetert de prestaties.</span><span class="sxs-lookup"><span data-stu-id="2ab67-193">Turning faceting off where you don’t need it helps keep the size of the index small, and typically improves performance.</span></span>

<span data-ttu-id="2ab67-194">Volgende maakt deel uit van het schema voor de taak Portal-Demo voorbeeld-app afgekapte van enkele kenmerken om de grootte te beperken:</span><span class="sxs-lookup"><span data-stu-id="2ab67-194">Following is part of the schema for the Job Portal Demo sample app, trimmed of some attributes to reduce the size:</span></span>

```json
{
  ...
  "name": "nycjobs",
  "fields": [
    { “name”: "id",                 "type": "Edm.String",              "searchable": false, "filterable": false, ... "facetable": false, ... },
    { “name”: "job_id",             "type": "Edm.String",              "searchable": false, "filterable": false, ... "facetable": false, ... },
    { “name”: "agency",              "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "posting_type",        "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "num_of_positions",    "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "business_title",      "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "civil_service_title", "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "title_code_no",       "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "level",               "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_range_from",   "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_range_to",     "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_frequency",    "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "work_location",       "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
…
    { “name”: "geo_location",        "type": "Edm.GeographyPoint",     "searchable": false, "filterable": true, ...  "facetable": false, ... },
    { “name”: "tags",                "type": "Collection(Edm.String)", "searchable": true,  "filterable": true, ...  "facetable": true, ...  }
  ],
…
}
```

<span data-ttu-id="2ab67-195">Zoals u in het voorbeeldschema ziet `Facetable` is uitgeschakeld voor tekenreeksvelden als facetten, zoals id-waarden mag niet worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="2ab67-195">As you can see in the sample schema, `Facetable` is turned off for string fields that shouldn’t be used as facets, such as ID values.</span></span> <span data-ttu-id="2ab67-196">Facetten uitschakelen wanneer u deze niet nodig schakelen helpt u de grootte van de index klein en meestal verbetert de prestaties.</span><span class="sxs-lookup"><span data-stu-id="2ab67-196">Turning faceting off where you don’t need it helps keep the size of the index small, and typically improves performance.</span></span>

> [!TIP]
> <span data-ttu-id="2ab67-197">Als een best practice, omvatten de volledige set van indexkenmerken voor elk veld.</span><span class="sxs-lookup"><span data-stu-id="2ab67-197">As a best practice, include the full set of index attributes for each field.</span></span> <span data-ttu-id="2ab67-198">Hoewel `Facetable` is standaard ingeschakeld voor bijna alle velden, opzettelijk instelling elk kenmerk kunt u denkt dat via de implicaties van elke beslissing schema.</span><span class="sxs-lookup"><span data-stu-id="2ab67-198">Although `Facetable` is on by default for almost all fields, purposely setting each attribute can help you think through the implications of each schema decision.</span></span> 

<a name="checkdata"></a>

## <a name="check-the-data"></a><span data-ttu-id="2ab67-199">Controleer de gegevens</span><span class="sxs-lookup"><span data-stu-id="2ab67-199">Check the data</span></span>
<span data-ttu-id="2ab67-200">De kwaliteit van uw gegevens heeft een directe invloed op of de structuur facetnavigatie gebeurtenis zich voordoet dan u verwacht.</span><span class="sxs-lookup"><span data-stu-id="2ab67-200">The quality of your data has a direct effect on whether the faceted navigation structure materializes as you expect it to.</span></span> <span data-ttu-id="2ab67-201">Het is ook van invloed op het gemak van het construeren van filters zodat de resultatenset.</span><span class="sxs-lookup"><span data-stu-id="2ab67-201">It also affects the ease of constructing filters to reduce the result set.</span></span>

<span data-ttu-id="2ab67-202">Als u wilt facet door merk of prijs, elk document moet bevatten waarden voor *BrandName* en *ProductPrice* die geldig, consistente en productief zijn als een filteroptie zijn.</span><span class="sxs-lookup"><span data-stu-id="2ab67-202">If you want to facet by Brand or Price, each document should contain values for *BrandName* and *ProductPrice* that are valid, consistent, and productive as a filter option.</span></span>

<span data-ttu-id="2ab67-203">Hier volgen enkele herinneringen van wat u wilt verwijderen voor:</span><span class="sxs-lookup"><span data-stu-id="2ab67-203">Here are a few reminders of what to scrub for:</span></span>

* <span data-ttu-id="2ab67-204">Voor elk veld dat u wilt facet door, afvragen of deze bevat waarden die geschikt is als filters in zelf gerichte zoeken.</span><span class="sxs-lookup"><span data-stu-id="2ab67-204">For every field that you want to facet by, ask yourself whether it contains values that are suitable as filters in self-directed search.</span></span> <span data-ttu-id="2ab67-205">De waarden moeten worden korte, beschrijvende en voldoende onderscheidende bieden een duidelijke keuze tussen concurrerende opties.</span><span class="sxs-lookup"><span data-stu-id="2ab67-205">The values should be short, descriptive, and sufficiently distinctive to offer a clear choice between competing options.</span></span>
* <span data-ttu-id="2ab67-206">De spelling of bijna overeenkomende waarden.</span><span class="sxs-lookup"><span data-stu-id="2ab67-206">Misspellings or nearly matching values.</span></span> <span data-ttu-id="2ab67-207">Als u facet op kleur en veldwaarden oranje en Ornage (onjuist gespeld) omvatten, maar een facet op basis van het veld kleur zou kunnen worden opgepikt beide.</span><span class="sxs-lookup"><span data-stu-id="2ab67-207">If you facet on Color, and field values include Orange and Ornage (a misspelling), a facet based on the Color field would pick up both.</span></span>
* <span data-ttu-id="2ab67-208">Gemengde case tekst kan ook aanrichten functies in facetnavigatie met oranje en oranje verschijnen als twee verschillende waarden.</span><span class="sxs-lookup"><span data-stu-id="2ab67-208">Mixed case text can also wreak havoc in faceted navigation, with orange and Orange appearing as two different values.</span></span> 
* <span data-ttu-id="2ab67-209">Enkelvoudige en meervoudige versies van dezelfde waarde kunnen resulteren in een afzonderlijke facet voor elk.</span><span class="sxs-lookup"><span data-stu-id="2ab67-209">Single and plural versions of the same value can result in a separate facet for each.</span></span>

<span data-ttu-id="2ab67-210">Als u zich kunt voorstellen is zorgvuldigheid voorbereiden van de gegevens in een essentiële aspect van effectieve meervoudige navigatie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-210">As you can imagine, diligence in preparing the data is an essential aspect of effective faceted navigation.</span></span>

<a name="presentationlayer"></a>

## <a name="build-the-ui"></a><span data-ttu-id="2ab67-211">De gebruikersinterface bouwen</span><span class="sxs-lookup"><span data-stu-id="2ab67-211">Build the UI</span></span>
<span data-ttu-id="2ab67-212">Werken terug vanaf de laag voor presentatie kunt u de vereisten die mogelijk anders worden overgeslagen, en u begrijpt welke mogelijkheden essentieel voor de zoekfunctie zijn onthullen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-212">Working back from the presentation layer can help you uncover requirements that might be missed otherwise, and understand which capabilities are essential to the search experience.</span></span>

<span data-ttu-id="2ab67-213">Detecteert de invoer van de gebruiker op de pagina en de gewijzigde elementen invoegt in termen van meervoudige navigatie uw pagina website of toepassing geeft de structuur meervoudige navigatie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-213">In terms of faceted navigation, your web or application page displays the faceted navigation structure, detects user input on the page, and inserts the changed elements.</span></span> 

<span data-ttu-id="2ab67-214">Voor webtoepassingen, wordt AJAX meestal gebruikt in de laag voor presentatie omdat Hiermee kunt u incrementele wijzigingen vernieuwen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-214">For web applications, AJAX is commonly used in the presentation layer because it allows you to refresh incremental changes.</span></span> <span data-ttu-id="2ab67-215">U kunt ook ASP.NET MVC- of een andere visualisatie-platform die verbinding met een Azure Search-service via HTTP maken kan.</span><span class="sxs-lookup"><span data-stu-id="2ab67-215">You could also use ASP.NET MVC or any other visualization platform that can connect to an Azure Search service over HTTP.</span></span> <span data-ttu-id="2ab67-216">De voorbeeldtoepassing waarnaar wordt verwezen in dit artikel--de **Azure Search taak Portal-Demo** – gebeurt er met een ASP.NET MVC-toepassing.</span><span class="sxs-lookup"><span data-stu-id="2ab67-216">The sample application referenced throughout this article -- the **Azure Search Job Portal Demo** – happens to be an ASP.NET MVC application.</span></span>

<span data-ttu-id="2ab67-217">In het voorbeeld is meervoudige navigatie ingebouwd in de pagina met zoekresultaten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-217">In the sample, faceted navigation is built into the search results page.</span></span> <span data-ttu-id="2ab67-218">Het volgende voorbeeld wordt opgehaald uit de `index.cshtml` resultatenpagina-bestand van de voorbeeldtoepassing, toont de statische HTML-structuur voor het weergeven van meervoudige navigatie op de zoekopdracht.</span><span class="sxs-lookup"><span data-stu-id="2ab67-218">The following example, taken from the `index.cshtml` file of the sample application, shows the static HTML structure for displaying faceted navigation on the search results page.</span></span> <span data-ttu-id="2ab67-219">De lijst met facetten is gebouwd of dynamisch opnieuw opbouwen wanneer u een zoekterm of schakelt u uit een beperkingsfacet.</span><span class="sxs-lookup"><span data-stu-id="2ab67-219">The list of facets is built or rebuilt dynamically when you submit a search term, or select or clear a facet.</span></span>

```html
<div class="widget sidebar-widget jobs-filter-widget">
  <h5 class="widget-title">Filter Results</h5>
    <p id="filterReset"></p>
    <div class="widget-content">

      <h6 id="businessTitleFacetTitle">Business Title</h6>
      <ul class="filter-list" id="business_title_facets">
      </ul>

      <h6>Location</h6>
      <ul class="filter-list" id="posting_type_facets">
      </ul>

      <h6>Posting Type</h6>
      <ul class="filter-list" id="posting_type_facets"></ul>

      <h6>Minimum Salary</h6>
      <ul class="filter-list" id="salary_range_facets">
      </ul>

  </div>
</div>
```

<span data-ttu-id="2ab67-220">Het volgende codefragment uit de `index.cshtml` pagina dynamisch de HTML-code om het eerste facet, zakelijke titel weer te geven.</span><span class="sxs-lookup"><span data-stu-id="2ab67-220">The following code snippet from the `index.cshtml` page dynamically builds the HTML to display the first facet, Business Title.</span></span> <span data-ttu-id="2ab67-221">Soortgelijke functies bouwen dynamisch de HTML-code voor de andere facetten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-221">Similar functions dynamically build the HTML for the other facets.</span></span> <span data-ttu-id="2ab67-222">Elke facet heeft een label en een telling waarin het aantal items gevonden voor die resulteren facet.</span><span class="sxs-lookup"><span data-stu-id="2ab67-222">Each facet has a label and a count, which displays the number of items found for that facet result.</span></span>

```js
function UpdateBusinessTitleFacets(data) {
  var facetResultsHTML = '';
  for (var i = 0; i < data.length; i++) {
    facetResultsHTML += '<li><a href="javascript:void(0)" onclick="ChooseBusinessTitleFacet(\'' + data[i].Value + '\');">' + data[i].Value + ' (' + data[i].Count + ')</span></a></li>';
  }

  $("#business_title_facets").html(facetResultsHTML);
}
```

> [!TIP]
> <span data-ttu-id="2ab67-223">Wanneer u de pagina met zoekresultaten ontwerpt, moet u een mechanisme voor het wissen van facetten toevoegen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-223">When you design the search results page, remember to add a mechanism for clearing facets.</span></span> <span data-ttu-id="2ab67-224">Als u de selectievakjes toevoegt, kunt u eenvoudig zien hoe de filters wissen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-224">If you add check boxes, you can easily see how to clear the filters.</span></span> <span data-ttu-id="2ab67-225">Voor andere indelingen moet u mogelijk een patroon breadcrumb of een andere creative benadering.</span><span class="sxs-lookup"><span data-stu-id="2ab67-225">For other layouts, you might need a breadcrumb pattern or another creative approach.</span></span> <span data-ttu-id="2ab67-226">Bijvoorbeeld, in de voorbeeldtoepassing taak zoeken Portal kunt u de `[X]` na een geselecteerde beperkingsfacet het facet wissen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-226">For example, in the Job Search Portal sample application, you can click the `[X]` after a selected facet to clear the facet.</span></span>

<a name="buildquery"></a>

## <a name="build-the-query"></a><span data-ttu-id="2ab67-227">De query bouwen</span><span class="sxs-lookup"><span data-stu-id="2ab67-227">Build the query</span></span>
<span data-ttu-id="2ab67-228">De code die u voor het bouwen van query's schrijven moet alle onderdelen van een geldige query, zoals zoeken expressies, facetten, filters, score berekenen profielen – iets gebruikt voor het opstellen van een aanvraag opgeven.</span><span class="sxs-lookup"><span data-stu-id="2ab67-228">The code that you write for building queries should specify all parts of a valid query, including search expressions, facets, filters, scoring profiles– anything used to formulate a request.</span></span> <span data-ttu-id="2ab67-229">In deze sectie besproken waar facetten past in een query en hoe filters met facetten worden gebruikt voor het leveren van een verminderde resultatenset.</span><span class="sxs-lookup"><span data-stu-id="2ab67-229">In this section, we explore where facets fit into a query, and how filters are used with facets to deliver a reduced result set.</span></span>

<span data-ttu-id="2ab67-230">U ziet dat facetten integraal in deze voorbeeldtoepassing.</span><span class="sxs-lookup"><span data-stu-id="2ab67-230">Notice that facets are integral in this sample application.</span></span> <span data-ttu-id="2ab67-231">De zoekfunctie in de taak Portal-Demo is ontworpen om meervoudige navigatie en filters.</span><span class="sxs-lookup"><span data-stu-id="2ab67-231">The search experience in the Job Portal Demo is designed around faceted navigation and filters.</span></span> <span data-ttu-id="2ab67-232">De opvallende plaatsing van meervoudige navigatie op de pagina ziet u het belang.</span><span class="sxs-lookup"><span data-stu-id="2ab67-232">The prominent placement of faceted navigation on the page demonstrates its importance.</span></span> 

<span data-ttu-id="2ab67-233">Een voorbeeld is vaak een goede plaats om te beginnen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-233">An example is often a good place to begin.</span></span> <span data-ttu-id="2ab67-234">Het volgende voorbeeld wordt opgehaald uit de `JobsSearch.cs` builds die een aanvraag die facet navigatie worden gemaakt op basis van functie, locatie, soort boeken en minimale salaris-bestand.</span><span class="sxs-lookup"><span data-stu-id="2ab67-234">The following example, taken from the `JobsSearch.cs` file, builds a request that creates facet navigation based on Business Title, Location, Posting Type, and Minimum Salary.</span></span> 

```cs
SearchParameters sp = new SearchParameters()
{
  ...
  // Add facets
  Facets = new List<String>() { "business_title", "posting_type", "level", "salary_range_from,interval:50000" },
};
```

<span data-ttu-id="2ab67-235">Een queryparameter facet is ingesteld op een veld en afhankelijk van het gegevenstype, kan worden verder als parameters gebruikt door komma's gescheiden lijst met `count:<integer>`, `sort:<>`, `interval:<integer>`, en `values:<list>`.</span><span class="sxs-lookup"><span data-stu-id="2ab67-235">A facet query parameter is set to a field and depending on the data type, can be further parameterized by comma-delimited list that includes `count:<integer>`, `sort:<>`, `interval:<integer>`, and `values:<list>`.</span></span> <span data-ttu-id="2ab67-236">Een lijst met waarden wordt ondersteund voor numerieke gegevens bij het instellen van bereiken.</span><span class="sxs-lookup"><span data-stu-id="2ab67-236">A values list is supported for numeric data when setting up ranges.</span></span> <span data-ttu-id="2ab67-237">Zie [documenten zoeken (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx) voor informatie over het gebruik.</span><span class="sxs-lookup"><span data-stu-id="2ab67-237">See [Search Documents (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx) for usage details.</span></span>

<span data-ttu-id="2ab67-238">De aanvraag geformuleerd door uw toepassing moet samen met de facetten, ook bouwen van filters om de set candidate documenten op basis van een waarde facet selectie vast te stellen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-238">Along with facets, the request formulated by your application should also build filters to narrow down the set of candidate documents based on a facet value selection.</span></span> <span data-ttu-id="2ab67-239">Voor een winkel fiets facetnavigatie biedt aanwijzingen op vragen zoals *welke kleuren, fabrikanten en typen bikes beschikbaar zijn?*.</span><span class="sxs-lookup"><span data-stu-id="2ab67-239">For a bike store, faceted navigation provides clues to questions like *What colors, manufacturers, and types of bikes are available?*.</span></span> <span data-ttu-id="2ab67-240">Filteren van antwoorden op vragen zoals *mountainbikes, welke exacte bikes rood zijn, in dit bereik te prijs?*.</span><span class="sxs-lookup"><span data-stu-id="2ab67-240">Filtering answers questions like *Which exact bikes are red, mountain bikes, in this price range?*.</span></span> <span data-ttu-id="2ab67-241">Als u op "Red" om aan te geven dat alleen rode producten moeten worden weergegeven, de volgende query de toepassing verzendt bevat een `$filter=Color eq ‘Red’`.</span><span class="sxs-lookup"><span data-stu-id="2ab67-241">When you click "Red" to indicate that only Red products should be shown, the next query the application sends includes `$filter=Color eq ‘Red’`.</span></span>

<span data-ttu-id="2ab67-242">Het volgende codefragment uit de `JobsSearch.cs` pagina wordt de geselecteerde functie aan het filter toegevoegd als u een waarde uit het zakelijke titel facet selecteert.</span><span class="sxs-lookup"><span data-stu-id="2ab67-242">The following code snippet from the `JobsSearch.cs` page adds the selected Business Title to the filter if you select a value from the Business Title facet.</span></span>

```cs
if (businessTitleFacet != "")
  filter = "business_title eq '" + businessTitleFacet + "'";
```

<a name="tips"></a> 

## <a name="tips-and-best-practices"></a><span data-ttu-id="2ab67-243">Tips en best practices</span><span class="sxs-lookup"><span data-stu-id="2ab67-243">Tips and best practices</span></span>

### <a name="indexing-tips"></a><span data-ttu-id="2ab67-244">Tips indexeren</span><span class="sxs-lookup"><span data-stu-id="2ab67-244">Indexing tips</span></span>
<span data-ttu-id="2ab67-245">**Index-efficiëntie te verbeteren, als u een zoekvak niet gebruikt**</span><span class="sxs-lookup"><span data-stu-id="2ab67-245">**Improve index efficiency if you don't use a Search box**</span></span>

<span data-ttu-id="2ab67-246">Als uw toepassing gebruikmaakt van meervoudige navigatie uitsluitend (dat wil zeggen, geen zoekvak), kunt u het veld als markeren `searchable=false`, `facetable=true` voor het produceren van een meer compacte index.</span><span class="sxs-lookup"><span data-stu-id="2ab67-246">If your application uses faceted navigation exclusively (that is, no search box), you can mark the field as `searchable=false`, `facetable=true` to produce a more compact index.</span></span> <span data-ttu-id="2ab67-247">Bovendien indexeren doet zich alleen op de hele facet waarden, met geen woordafbreking of van de onderdelen van een waarde met meerdere word te indexeren.</span><span class="sxs-lookup"><span data-stu-id="2ab67-247">In addition, indexing occurs only on whole facet values, with no word-break or indexing of the component parts of a multi-word value.</span></span>

<span data-ttu-id="2ab67-248">**Opgeven welke velden kunnen worden gebruikt als facetten**</span><span class="sxs-lookup"><span data-stu-id="2ab67-248">**Specify which fields can be used as facets**</span></span>

<span data-ttu-id="2ab67-249">Let erop dat het schema van de index welke velden beschikbaar zijn bepaalt voor gebruik als een beperkingsfacet.</span><span class="sxs-lookup"><span data-stu-id="2ab67-249">Recall that the schema of the index determines which fields are available to use as a facet.</span></span> <span data-ttu-id="2ab67-250">Ervan uitgaande dat een veld is geschikt voor facetten, geeft de query aan welke velden moeten worden facet door.</span><span class="sxs-lookup"><span data-stu-id="2ab67-250">Assuming a field is facetable, the query specifies which fields to facet by.</span></span> <span data-ttu-id="2ab67-251">Het veld waarop u facetten zijn bevat de waarden die worden weergegeven onder het label.</span><span class="sxs-lookup"><span data-stu-id="2ab67-251">The field by which you are faceting provides the values that appear below the label.</span></span> 

<span data-ttu-id="2ab67-252">De waarden die worden vermeld onder elk label worden opgehaald uit de index.</span><span class="sxs-lookup"><span data-stu-id="2ab67-252">The values that appear under each label are retrieved from the index.</span></span> <span data-ttu-id="2ab67-253">Bijvoorbeeld, als het veld facet *kleur*, de waarden die beschikbaar zijn voor het filteren van aanvullende zijn de waarden voor dat veld - rood en zwart.</span><span class="sxs-lookup"><span data-stu-id="2ab67-253">For example, if the facet field is *Color*, the values available for additional filtering are the values for that field - Red, Black, and so forth.</span></span>

<span data-ttu-id="2ab67-254">Voor numerieke en datum-/ alleen waarden, kunt u waarden expliciet instellen op het veld facet (bijvoorbeeld `facet=Rating,values:1|2|3|4|5`).</span><span class="sxs-lookup"><span data-stu-id="2ab67-254">For Numeric and DateTime values only, you can explicitly set values on the facet field (for example, `facet=Rating,values:1|2|3|4|5`).</span></span> <span data-ttu-id="2ab67-255">Een lijst met waarden is toegestaan voor deze veldtypen voor het vereenvoudigen van de scheiding tussen facet resultaten in aaneengesloten bereiken (ofwel bereiken op basis van numerieke waarden of perioden).</span><span class="sxs-lookup"><span data-stu-id="2ab67-255">A values list is allowed for these field types to simplify the separation of facet results into contiguous ranges (either ranges based on numeric values or time periods).</span></span> 

<span data-ttu-id="2ab67-256">**Standaard kunt u slechts één niveau van meervoudige navigatie hebt**</span><span class="sxs-lookup"><span data-stu-id="2ab67-256">**By default you can only have one level of faceted navigation**</span></span> 

<span data-ttu-id="2ab67-257">Zoals is aangegeven, is er geen rechtstreekse ondersteuning voor het nesten van facetten in een hiërarchie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-257">As noted, there is no direct support for nesting facets in a hierarchy.</span></span> <span data-ttu-id="2ab67-258">Standaard ondersteunt meervoudige navigatie in Azure Search slechts één niveau van filters.</span><span class="sxs-lookup"><span data-stu-id="2ab67-258">By default, faceted navigation in Azure Search only supports one level of filters.</span></span> <span data-ttu-id="2ab67-259">Tijdelijke oplossingen echter bestaan.</span><span class="sxs-lookup"><span data-stu-id="2ab67-259">However, workarounds do exist.</span></span> <span data-ttu-id="2ab67-260">U kunt coderen een facet hiërarchische structuur in een `Collection(Edm.String)` verwijzen met één vermelding per hiërarchie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-260">You can encode a hierarchical facet structure in a `Collection(Edm.String)` with one entry point per hierarchy.</span></span> <span data-ttu-id="2ab67-261">Deze oplossing implementeren valt buiten het bereik van dit artikel.</span><span class="sxs-lookup"><span data-stu-id="2ab67-261">Implementing this workaround is beyond the scope of this article.</span></span> 

### <a name="querying-tips"></a><span data-ttu-id="2ab67-262">Tips opvragen</span><span class="sxs-lookup"><span data-stu-id="2ab67-262">Querying tips</span></span>
<span data-ttu-id="2ab67-263">**Velden valideren**</span><span class="sxs-lookup"><span data-stu-id="2ab67-263">**Validate fields**</span></span>

<span data-ttu-id="2ab67-264">Als u de lijst met facetten dynamisch op basis van niet-vertrouwde gebruikersinvoer bouwt, controleert u de namen van de meervoudige velden zijn geldig.</span><span class="sxs-lookup"><span data-stu-id="2ab67-264">If you build the list of facets dynamically based on untrusted user input, validate that the names of the faceted fields are valid.</span></span> <span data-ttu-id="2ab67-265">Of de namen escape tijdens het bouwen van URL's met behulp van `Uri.EscapeDataString()` in .NET of de overeenkomstige waarde in uw favoriete platform.</span><span class="sxs-lookup"><span data-stu-id="2ab67-265">Or, escape the names when building URLs by using either `Uri.EscapeDataString()` in .NET, or the equivalent in your platform of choice.</span></span>

### <a name="filtering-tips"></a><span data-ttu-id="2ab67-266">Tips voor het filteren</span><span class="sxs-lookup"><span data-stu-id="2ab67-266">Filtering tips</span></span>
<span data-ttu-id="2ab67-267">**De precisie van de zoekopdracht verhogen met filters**</span><span class="sxs-lookup"><span data-stu-id="2ab67-267">**Increase search precision with filters**</span></span>

<span data-ttu-id="2ab67-268">Filters gebruiken.</span><span class="sxs-lookup"><span data-stu-id="2ab67-268">Use filters.</span></span> <span data-ttu-id="2ab67-269">Als u zich op net zoeken expressies alleen gegevens als gevolg kan leiden tot een document baseert moet worden geretourneerd die niet de facetwaarde van de exacte hebben met een van de velden.</span><span class="sxs-lookup"><span data-stu-id="2ab67-269">If you rely on just search expressions alone, stemming could cause a document to be returned that doesn’t have the precise facet value in any of its fields.</span></span>

<span data-ttu-id="2ab67-270">**Het verhogen van de prestaties van de zoekopdracht met filters**</span><span class="sxs-lookup"><span data-stu-id="2ab67-270">**Increase search performance with filters**</span></span>

<span data-ttu-id="2ab67-271">Filters beperken de set candidate documenten voor zoeken en ranking uitsluiten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-271">Filters narrow down the set of candidate documents for search and exclude them from ranking.</span></span> <span data-ttu-id="2ab67-272">Als er een groot aantal documenten, kunt met behulp van een selectief beperkingsfacet inzoomen vaak u betere prestaties.</span><span class="sxs-lookup"><span data-stu-id="2ab67-272">If you have a large set of documents, using a selective facet drill-down often gives you better performance.</span></span>
  
<span data-ttu-id="2ab67-273">**Alleen de meervoudige velden filteren**</span><span class="sxs-lookup"><span data-stu-id="2ab67-273">**Filter only the faceted fields**</span></span>

<span data-ttu-id="2ab67-274">In meervoudige Inzoomen wilt u waarschijnlijk alleen documenten met de facetwaarde in een specifieke (beperkt) veld niet overal in de doorzoekbare velden opnemen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-274">In faceted drill-down, you typically want to only include documents that have the facet value in a specific (faceted) field, not anywhere across all searchable fields.</span></span> <span data-ttu-id="2ab67-275">Toevoegen van een filter versterkt het doelveld door de service om alleen in het veld meervoudige naar een overeenkomende waarde te zoeken.</span><span class="sxs-lookup"><span data-stu-id="2ab67-275">Adding a filter reinforces the target field by directing the service to search only in the faceted field for a matching value.</span></span>

<span data-ttu-id="2ab67-276">**Trim facet resultaten met meer filters**</span><span class="sxs-lookup"><span data-stu-id="2ab67-276">**Trim facet results with more filters**</span></span>

<span data-ttu-id="2ab67-277">Facet resultaten worden gevonden in de zoekresultaten die overeenkomen met een term facet documenten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-277">Facet results are documents found in the search results that match a facet term.</span></span> <span data-ttu-id="2ab67-278">In het volgende voorbeeld wordt in de zoekresultaten voor *cloudcomputing*, 254 items hebben ook *interne specificatie* als een inhoudstype.</span><span class="sxs-lookup"><span data-stu-id="2ab67-278">In the following example, in search results for *cloud computing*, 254 items also have *internal specification* as a content type.</span></span> <span data-ttu-id="2ab67-279">Items zijn niet noodzakelijkerwijs sluiten elkaar wederzijds uit.</span><span class="sxs-lookup"><span data-stu-id="2ab67-279">Items are not necessarily mutually exclusive.</span></span> <span data-ttu-id="2ab67-280">Als een item voldoet aan de criteria van beide filters, wordt het beschouwd in elk criterium.</span><span class="sxs-lookup"><span data-stu-id="2ab67-280">If an item meets the criteria of both filters, it is counted in each one.</span></span> <span data-ttu-id="2ab67-281">Deze duplicaten is mogelijk wanneer facetten op `Collection(Edm.String)` velden, die vaak worden gebruikt voor het implementeren van document labels.</span><span class="sxs-lookup"><span data-stu-id="2ab67-281">This duplication is possible when faceting on `Collection(Edm.String)` fields, which are often used to implement document tagging.</span></span>

        Search term: "cloud computing"
        Content type
           Internal specification (254)
           Video (10) 

<span data-ttu-id="2ab67-282">In het algemeen als u vindt dat facet resultaten consistent is te groot, raden we toevoegen u meer filters zodat gebruikers op meer opties voor het verfijnen van de zoekopdracht.</span><span class="sxs-lookup"><span data-stu-id="2ab67-282">In general, if you find that facet results are consistently too large, we recommend that you add more filters to give users more options for narrowing the search.</span></span>

### <a name="tips-about-result-count"></a><span data-ttu-id="2ab67-283">Tips voor het aantal resultaten</span><span class="sxs-lookup"><span data-stu-id="2ab67-283">Tips about result count</span></span>

<span data-ttu-id="2ab67-284">**Het aantal items in de navigatiebalk facet beperken**</span><span class="sxs-lookup"><span data-stu-id="2ab67-284">**Limit the number of items in the facet navigation**</span></span>

<span data-ttu-id="2ab67-285">Er is een standaardlimiet van 10 waarden voor elk meervoudige veld in de navigatiestructuur.</span><span class="sxs-lookup"><span data-stu-id="2ab67-285">For each faceted field in the navigation tree, there is a default limit of 10 values.</span></span> <span data-ttu-id="2ab67-286">Deze standaardinstelling zinvolle voor navigatiestructuur omdat het zorgt ervoor dat de waardelijst beheerbare grootte.</span><span class="sxs-lookup"><span data-stu-id="2ab67-286">This default makes sense for navigation structures because it keeps the values list to a manageable size.</span></span> <span data-ttu-id="2ab67-287">U kunt deze standaardinstelling negeren door het toewijzen van een waarde op te tellen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-287">You can override the default by assigning a value to count.</span></span>

* <span data-ttu-id="2ab67-288">`&facet=city,count:5`Hiermee geeft u op dat alleen de eerste vijf steden gevonden in de rechterbovenhoek gerangschikt resultaten worden geretourneerd als gevolg hiervan facet.</span><span class="sxs-lookup"><span data-stu-id="2ab67-288">`&facet=city,count:5` specifies that only the first five cities found in the top ranked results are returned as a facet result.</span></span> <span data-ttu-id="2ab67-289">U kunt een voorbeeldquery met een zoekterm van 'luchthaven' en 32 overeenkomsten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-289">Consider a sample query with a search term of “airport” and 32 matches.</span></span> <span data-ttu-id="2ab67-290">Als de query geeft `&facet=city,count:5`, alleen de eerste vijf unieke steden met de meeste documenten in de zoekresultaten zijn opgenomen in de resultaten facet.</span><span class="sxs-lookup"><span data-stu-id="2ab67-290">If the query specifies `&facet=city,count:5`, only the first five unique cities with the most documents in the search results are included in the facet results.</span></span>

<span data-ttu-id="2ab67-291">U ziet het onderscheid tussen facet resultaten en zoekresultaten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-291">Notice the distinction between facet results and search results.</span></span> <span data-ttu-id="2ab67-292">Zoekresultaten zijn alle documenten die overeenkomen met de query.</span><span class="sxs-lookup"><span data-stu-id="2ab67-292">Search results are all the documents that match the query.</span></span> <span data-ttu-id="2ab67-293">Facet resultaten worden de overeenkomsten voor elke facetwaarde.</span><span class="sxs-lookup"><span data-stu-id="2ab67-293">Facet results are the matches for each facet value.</span></span> <span data-ttu-id="2ab67-294">In het voorbeeld bevatten de zoekresultaten stad namen die zich niet in de lijst met facet classificatie (5 in ons voorbeeld).</span><span class="sxs-lookup"><span data-stu-id="2ab67-294">In the example, search results include City names that are not in the facet classification list (5 in our example).</span></span> <span data-ttu-id="2ab67-295">De resultaten worden gefilterd via facetnavigatie zichtbaar wanneer u facetten wissen, of kies andere facetten naast plaats.</span><span class="sxs-lookup"><span data-stu-id="2ab67-295">Results that are filtered out through faceted navigation become visible when you clear facets, or choose other facets besides City.</span></span> 

> [!NOTE]
> <span data-ttu-id="2ab67-296">Bespreken `count` wanneer er meer dan één type kan verwarrend zijn.</span><span class="sxs-lookup"><span data-stu-id="2ab67-296">Discussing `count` when there is more than one type can be confusing.</span></span> <span data-ttu-id="2ab67-297">De volgende tabel biedt een kort overzicht van hoe de term wordt gebruikt in Azure Search API, voorbeeldcode en documentatie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-297">The following table offers a brief summary of how the term is used in Azure Search API, sample code, and documentation.</span></span> 

* `@colorFacet.count`<br/>
  <span data-ttu-id="2ab67-298">In de presentatiecode ziet u een parameter van het aantal op het facet, gebruikt om het aantal facet resultaten weer te geven.</span><span class="sxs-lookup"><span data-stu-id="2ab67-298">In presentation code, you should see a count parameter on the facet, used to display the number of facet results.</span></span> <span data-ttu-id="2ab67-299">Aantal geeft in facet resultaten, het aantal documenten die overeenkomen met het facet term of -bereik.</span><span class="sxs-lookup"><span data-stu-id="2ab67-299">In facet results, count indicates the number of documents that match on the facet term or range.</span></span>
* `&facet=City,count:12`<br/>
  <span data-ttu-id="2ab67-300">U kunt in een query facet aantal instellen op een waarde.</span><span class="sxs-lookup"><span data-stu-id="2ab67-300">In a facet query, you can set count to a value.</span></span>  <span data-ttu-id="2ab67-301">De standaardwaarde is 10, maar u kunt deze hogere of lagere instellen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-301">The default is 10, but you can set it higher or lower.</span></span> <span data-ttu-id="2ab67-302">Instelling `count:12` boven 12 komt overeen met in facet resultaten op het aantal document opgehaald.</span><span class="sxs-lookup"><span data-stu-id="2ab67-302">Setting `count:12` gets the top 12 matches in facet results by document count.</span></span>
* <span data-ttu-id="2ab67-303">"`@odata.count`"</span><span class="sxs-lookup"><span data-stu-id="2ab67-303">"`@odata.count`"</span></span><br/>
  <span data-ttu-id="2ab67-304">Deze waarde geeft in het queryantwoord, het aantal overeenkomende items in de zoekresultaten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-304">In the query response, this value indicates the number of matching items in the search results.</span></span> <span data-ttu-id="2ab67-305">Gemiddeld het groter is dan de som van alle facet resultaten gecombineerd, vanwege de aanwezigheid van items die overeenkomen met de zoekterm, maar geen overeenkomsten facet-waarde hebben.</span><span class="sxs-lookup"><span data-stu-id="2ab67-305">On average, it’s larger than the sum of all facet results combined, due to the presence of items that match the search term, but have no facet value matches.</span></span>

<span data-ttu-id="2ab67-306">**Telt het aantal in facet resultaten ophalen**</span><span class="sxs-lookup"><span data-stu-id="2ab67-306">**Get counts in facet results**</span></span>

<span data-ttu-id="2ab67-307">Wanneer u een filter aan een meervoudige query toevoegt, wilt u mogelijk de instructie facet bewaren (bijvoorbeeld `facet=Rating&$filter=Rating ge 4`).</span><span class="sxs-lookup"><span data-stu-id="2ab67-307">When you add a filter to a faceted query, you might want to retain the facet statement (for example, `facet=Rating&$filter=Rating ge 4`).</span></span> <span data-ttu-id="2ab67-308">Technisch gezien facet = waardering is niet nodig, maar deze te houden retourneert het aantal waarden voor beoordelingen facet 4 en hoger.</span><span class="sxs-lookup"><span data-stu-id="2ab67-308">Technically, facet=Rating isn’t needed, but keeping it returns the counts of facet values for ratings 4 and higher.</span></span> <span data-ttu-id="2ab67-309">Bijvoorbeeld, als u op "4" en de query een filter voor groter of gelijk aan "4 bevat", zijn aantallen geretourneerd voor elke beoordeling die is 4 en hoger.</span><span class="sxs-lookup"><span data-stu-id="2ab67-309">For example, if you click "4" and the query includes a filter for greater or equal to "4", counts are returned for each rating that is 4 and higher.</span></span>  

<span data-ttu-id="2ab67-310">**Zorg ervoor dat u nauwkeurige facet aantallen ophalen**</span><span class="sxs-lookup"><span data-stu-id="2ab67-310">**Make sure you get accurate facet counts**</span></span>

<span data-ttu-id="2ab67-311">Onder bepaalde omstandigheden, ziet u wellicht facet aantallen komen niet overeen met de resultatensets (Zie [facetnavigatie in Azure Search (forum post)](https://social.msdn.microsoft.com/Forums/azure/06461173-ea26-4e6a-9545-fbbd7ee61c8f/faceting-on-azure-search?forum=azuresearch)).</span><span class="sxs-lookup"><span data-stu-id="2ab67-311">Under certain circumstances, you might find that facet counts do not match the result sets (see [Faceted navigation in Azure Search (forum post)](https://social.msdn.microsoft.com/Forums/azure/06461173-ea26-4e6a-9545-fbbd7ee61c8f/faceting-on-azure-search?forum=azuresearch)).</span></span>

<span data-ttu-id="2ab67-312">Facet tellingen kunnen onnauwkeurig zijn vanwege de sharding-architectuur.</span><span class="sxs-lookup"><span data-stu-id="2ab67-312">Facet counts can be inaccurate due to the sharding architecture.</span></span> <span data-ttu-id="2ab67-313">Elke search-index heeft meerdere shards en elke shard rapporteert de bovenste N facetten door het aantal documenten, die vervolgens worden gecombineerd tot een enkelvoudig resultaat wordt verkregen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-313">Every search index has multiple shards, and each shard reports the top N facets by document count, which is then combined into a single result.</span></span> <span data-ttu-id="2ab67-314">Als sommige shards veel overeenkomende waarden, hebt terwijl anderen minder hebben, merkt u dat sommige waarden facet ontbreken of onder-telling in de resultaten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-314">If some shards have many matching values, while others have fewer, you may find that some facet values are missing or under-counted in the results.</span></span>

<span data-ttu-id="2ab67-315">Hoewel dit gedrag op elk gewenst moment wijzigen kan als u vandaag de dag dit probleem ondervindt, kunt u omzeilen het door het aantal kunstmatig verversen:<number> tot een groot aantal af te dwingen volledige rapportages van elke shard.</span><span class="sxs-lookup"><span data-stu-id="2ab67-315">Although this behavior could change at any time, if you encounter this behavior today, you can work around it by artificially inflating the count:<number> to a large number to enforce full reporting from each shard.</span></span> <span data-ttu-id="2ab67-316">Als de waarde van het aantal: is groter dan of gelijk is aan het aantal unieke waarden in het veld, wordt gegarandeerd nauwkeurige resultaten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-316">If the value of count: is greater than or equal to the number of unique values in the field, you are guaranteed accurate results.</span></span> <span data-ttu-id="2ab67-317">Echter, wanneer het aantal documenten, wat hoog zijn, er is een prestatiestraf, dus zorgvuldig gebruik deze optie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-317">However, when document counts are high, there is a performance penalty, so use this option judiciously.</span></span>

### <a name="user-interface-tips"></a><span data-ttu-id="2ab67-318">Tips voor gebruiker-interface</span><span class="sxs-lookup"><span data-stu-id="2ab67-318">User interface tips</span></span>
<span data-ttu-id="2ab67-319">**Labels voor elk veld in de navigatiebalk facet toevoegen**</span><span class="sxs-lookup"><span data-stu-id="2ab67-319">**Add labels for each field in facet navigation**</span></span>

<span data-ttu-id="2ab67-320">Labels worden gewoonlijk gedefinieerd in het HTML-code of het formulier (`index.cshtml` in de voorbeeldtoepassing).</span><span class="sxs-lookup"><span data-stu-id="2ab67-320">Labels are typically defined in the HTML or form (`index.cshtml` in the sample application).</span></span> <span data-ttu-id="2ab67-321">Er is geen API in Azure Search voor facet navigatielabels of andere metagegevens.</span><span class="sxs-lookup"><span data-stu-id="2ab67-321">There is no API in Azure Search for facet navigation labels or any other metadata.</span></span>

<a name="rangefacets"></a>

## <a name="filter-based-on-a-range"></a><span data-ttu-id="2ab67-322">Filteren op basis van een bereik</span><span class="sxs-lookup"><span data-stu-id="2ab67-322">Filter based on a range</span></span>
<span data-ttu-id="2ab67-323">Facetten via bereiken met waarden is een algemene zoekopdracht toepassing vereiste.</span><span class="sxs-lookup"><span data-stu-id="2ab67-323">Faceting over ranges of values is a common search application requirement.</span></span> <span data-ttu-id="2ab67-324">Bereiken worden ondersteund voor numerieke gegevens en DateTime-waarden.</span><span class="sxs-lookup"><span data-stu-id="2ab67-324">Ranges are supported for numeric data and DateTime values.</span></span> <span data-ttu-id="2ab67-325">Meer informatie over elke methode in [documenten zoeken (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx).</span><span class="sxs-lookup"><span data-stu-id="2ab67-325">You can read more about each approach in [Search Documents (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx).</span></span>

<span data-ttu-id="2ab67-326">Azure Search vereenvoudigt bereik constructie dankzij de twee methoden voor het berekenen van een bereik.</span><span class="sxs-lookup"><span data-stu-id="2ab67-326">Azure Search simplifies range construction by providing two approaches for computing a range.</span></span> <span data-ttu-id="2ab67-327">Voor beide benaderingen maakt Azure Search de juiste bereiken gegeven van de invoerwaarden die u hebt opgegeven.</span><span class="sxs-lookup"><span data-stu-id="2ab67-327">For both approaches, Azure Search creates the appropriate ranges given the inputs you’ve provided.</span></span> <span data-ttu-id="2ab67-328">Bijvoorbeeld, als u de waarden van 10 opgeeft | 20 | 30, wordt kan bereiken van 0-10, 10-20, 20-30 automatisch gemaakt.</span><span class="sxs-lookup"><span data-stu-id="2ab67-328">For instance, if you specify range values of 10|20|30, it automatically creates ranges of 0-10, 10-20, 20-30.</span></span> <span data-ttu-id="2ab67-329">Uw toepassing kunt desgewenst verwijderen voor de tijdstippen die leeg zijn.</span><span class="sxs-lookup"><span data-stu-id="2ab67-329">Your application can optionally remove any intervals that are empty.</span></span> 

<span data-ttu-id="2ab67-330">**Methode 1: Gebruik de parameter interval**</span><span class="sxs-lookup"><span data-stu-id="2ab67-330">**Approach 1: Use the interval parameter**</span></span>  
<span data-ttu-id="2ab67-331">Prijs facetten in $10 stappen stelt opgeven:`&facet=price,interval:10`</span><span class="sxs-lookup"><span data-stu-id="2ab67-331">To set price facets in $10 increments, you would specify: `&facet=price,interval:10`</span></span>

<span data-ttu-id="2ab67-332">**Methode 2: Een lijst met waarden gebruiken**</span><span class="sxs-lookup"><span data-stu-id="2ab67-332">**Approach 2: Use a values list**</span></span>  
<span data-ttu-id="2ab67-333">U kunt een lijst met waarden gebruiken voor numerieke gegevens.</span><span class="sxs-lookup"><span data-stu-id="2ab67-333">For numeric data, you can use a values list.</span></span>  <span data-ttu-id="2ab67-334">Houd rekening met het facet bereik voor een `listPrice` veld als volgt weergegeven:</span><span class="sxs-lookup"><span data-stu-id="2ab67-334">Consider the facet range for a `listPrice` field, rendered as follows:</span></span>

  ![Lijst met waarden van voorbeeld][5]

<span data-ttu-id="2ab67-336">Als u wilt een bereik facet zoals in de vorige schermafbeelding opgeeft, gebruikt u een lijst met waarden:</span><span class="sxs-lookup"><span data-stu-id="2ab67-336">To specify a facet range like the one in the preceding screen shot, use a values list:</span></span>

    facet=listPrice,values:10|25|100|500|1000|2500

<span data-ttu-id="2ab67-337">Elk bereik is 0 als uitgangspunt, een waarde uit de lijst als een eindpunt gebruikt en vervolgens verwijderd van het vorige bereik maken discrete intervallen gebouwd.</span><span class="sxs-lookup"><span data-stu-id="2ab67-337">Each range is built using 0 as a starting point, a value from the list as an endpoint, and then trimmed of the previous range to create discrete intervals.</span></span> <span data-ttu-id="2ab67-338">Azure Search biedt deze dingen als onderdeel van meervoudige navigatie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-338">Azure Search does these things as part of faceted navigation.</span></span> <span data-ttu-id="2ab67-339">U beschikt niet over code schrijven voor elke periode structureren.</span><span class="sxs-lookup"><span data-stu-id="2ab67-339">You do not have to write code for structuring each interval.</span></span>

### <a name="build-a-filter-for-a-range"></a><span data-ttu-id="2ab67-340">Een filter voor een bereik bouwen</span><span class="sxs-lookup"><span data-stu-id="2ab67-340">Build a filter for a range</span></span>
<span data-ttu-id="2ab67-341">Als u wilt filteren documenten op basis van een bereik dat u selecteert, kunt u de `"ge"` en `"lt"` filteren operators in een tweedelige-expressie die u de eindpunten van het bereik definieert.</span><span class="sxs-lookup"><span data-stu-id="2ab67-341">To filter documents based on a range you select, you can use the `"ge"` and `"lt"` filter operators in a two-part expression that defines the endpoints of the range.</span></span> <span data-ttu-id="2ab67-342">Bijvoorbeeld, als u het bereik van 10-25 voor kiezen een `listPrice` veld het filter is `$filter=listPrice ge 10 and listPrice lt 25`.</span><span class="sxs-lookup"><span data-stu-id="2ab67-342">For example, if you choose the range 10-25 for a `listPrice` field, the filter would be `$filter=listPrice ge 10 and listPrice lt 25`.</span></span> <span data-ttu-id="2ab67-343">In de voorbeeldcode gebruikmaakt van de filterexpressie **priceFrom** en **priceTo** parameters voor het instellen van de eindpunten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-343">In the sample code, the filter expression uses **priceFrom** and **priceTo** parameters to set the endpoints.</span></span> 

  ![Query voor een bereik van waarden][6]

<a name="geofacets"></a> 

## <a name="filter-based-on-distance"></a><span data-ttu-id="2ab67-345">Filter gebaseerd op afstand</span><span class="sxs-lookup"><span data-stu-id="2ab67-345">Filter based on distance</span></span>
<span data-ttu-id="2ab67-346">Algemene om te zien, filtert waarmee u kiest een store, een restaurant of een bestemming op basis van de nabijheid tot uw huidige locatie.</span><span class="sxs-lookup"><span data-stu-id="2ab67-346">It’s common to see filters that help you choose a store, restaurant, or destination based on its proximity to your current location.</span></span> <span data-ttu-id="2ab67-347">Hoewel dit type filter als facetnavigatie eruitzien kan, is alleen een filter.</span><span class="sxs-lookup"><span data-stu-id="2ab67-347">While this type of filter might look like faceted navigation, it’s just a filter.</span></span> <span data-ttu-id="2ab67-348">We vermeld hier voor mensen die specifiek implementatie advies voor het probleem bepaald ontwerp zoekt.</span><span class="sxs-lookup"><span data-stu-id="2ab67-348">We mention it here for those of you who are specifically looking for implementation advice for that particular design problem.</span></span>

<span data-ttu-id="2ab67-349">Er zijn twee georuimtelijke functies in Azure Search **geo.distance** en **geo.intersects**.</span><span class="sxs-lookup"><span data-stu-id="2ab67-349">There are two Geospatial functions in Azure Search, **geo.distance** and **geo.intersects**.</span></span>

* <span data-ttu-id="2ab67-350">De **geo.distance** functie wordt de afstand in kilometer tussen twee punten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-350">The **geo.distance** function returns the distance in kilometers between two points.</span></span> <span data-ttu-id="2ab67-351">Één punt is een veld en andere een constante doorgegeven als onderdeel van het filter.</span><span class="sxs-lookup"><span data-stu-id="2ab67-351">One point is a field and other is a constant passed as part of the filter.</span></span> 
* <span data-ttu-id="2ab67-352">De **geo.intersects** functie retourneert true als er een opgegeven punt zich binnen een bepaalde veelhoek.</span><span class="sxs-lookup"><span data-stu-id="2ab67-352">The **geo.intersects** function returns true if a given point is within a given polygon.</span></span> <span data-ttu-id="2ab67-353">Het punt een veld is en de veelhoek is opgegeven als een constante lijst coördinaten doorgegeven als onderdeel van het filter.</span><span class="sxs-lookup"><span data-stu-id="2ab67-353">The point is a field and the polygon is specified as a constant list of coordinates passed as part of the filter.</span></span>

<span data-ttu-id="2ab67-354">Vindt u voorbeelden van filter in [OData-expressiesyntaxis (Azure Search)](http://msdn.microsoft.com/library/azure/dn798921.aspx).</span><span class="sxs-lookup"><span data-stu-id="2ab67-354">You can find filter examples in [OData expression syntax (Azure Search)](http://msdn.microsoft.com/library/azure/dn798921.aspx).</span></span>

<a name="tryitout"></a>

## <a name="try-the-demo"></a><span data-ttu-id="2ab67-355">Probeer de demoversie</span><span class="sxs-lookup"><span data-stu-id="2ab67-355">Try the demo</span></span>
<span data-ttu-id="2ab67-356">De Azure Search taak Portal-Demo bevat de voorbeelden in dit artikel wordt verwezen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-356">The Azure Search Job Portal Demo contains the examples referenced in this article.</span></span>

-   <span data-ttu-id="2ab67-357">Zie en testen van de werkende demo online op [Azure Search taak Portal-Demo](http://azjobsdemo.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="2ab67-357">See and test the working demo online at [Azure Search Job Portal Demo](http://azjobsdemo.azurewebsites.net/).</span></span>

-   <span data-ttu-id="2ab67-358">Download de code uit de [Azure-Samples-opslagplaats op GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span><span class="sxs-lookup"><span data-stu-id="2ab67-358">Download the code from the [Azure-Samples repo on GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span></span>

<span data-ttu-id="2ab67-359">Als u met zoekresultaten werkt, bekijkt u de URL voor wijzigingen in het samenstellen van query.</span><span class="sxs-lookup"><span data-stu-id="2ab67-359">As you work with search results, watch the URL for changes in query construction.</span></span> <span data-ttu-id="2ab67-360">Deze toepassing gebeurt facetten toevoegen aan de URI terwijl u elk item selecteert.</span><span class="sxs-lookup"><span data-stu-id="2ab67-360">This application happens to append facets to the URI as you select each one.</span></span>

1. <span data-ttu-id="2ab67-361">Voor het gebruik van de functionaliteit van de toewijzing van de demo-app moet u een Bing Maps-sleutel van de [Bing Maps Dev Center](https://www.bingmapsportal.com/).</span><span class="sxs-lookup"><span data-stu-id="2ab67-361">To use the mapping functionality of the demo app, get a Bing Maps key from the [Bing Maps Dev Center](https://www.bingmapsportal.com/).</span></span> <span data-ttu-id="2ab67-362">Plak deze via de bestaande sleutel in de `index.cshtml` pagina.</span><span class="sxs-lookup"><span data-stu-id="2ab67-362">Paste it over the existing key in the `index.cshtml` page.</span></span> <span data-ttu-id="2ab67-363">De `BingApiKey` instellen in de `Web.config` -bestand wordt niet gebruikt.</span><span class="sxs-lookup"><span data-stu-id="2ab67-363">The `BingApiKey` setting in the `Web.config` file is not used.</span></span> 

2. <span data-ttu-id="2ab67-364">Voer de toepassing uit.</span><span class="sxs-lookup"><span data-stu-id="2ab67-364">Run the application.</span></span> <span data-ttu-id="2ab67-365">De optionele rondleiding of het dialoogvenster sluiten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-365">Take the optional tour, or dismiss the dialog box.</span></span>
   
3. <span data-ttu-id="2ab67-366">Geef een zoekterm, zoals 'analist', en klik op het zoekpictogram.</span><span class="sxs-lookup"><span data-stu-id="2ab67-366">Enter a search term, such as "analyst", and click the Search icon.</span></span> <span data-ttu-id="2ab67-367">Snel de query wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="2ab67-367">The query executes quickly.</span></span>
   
   <span data-ttu-id="2ab67-368">De structuur van een meervoudige navigatie wordt ook geretourneerd met de zoekresultaten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-368">A faceted navigation structure is also returned with the search results.</span></span> <span data-ttu-id="2ab67-369">In de pagina met zoekresultaten bevat de structuur facetnavigatie tellingen voor elk resultaat facet.</span><span class="sxs-lookup"><span data-stu-id="2ab67-369">In the search result page, the faceted navigation structure includes counts for each facet result.</span></span> <span data-ttu-id="2ab67-370">Er is geen facetten zijn geselecteerd, zodat alle overeenkomende resultaten worden geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="2ab67-370">No facets are selected, so all matching results are returned.</span></span>
   
   ![Zoekresultaten voordat u selecteert facetten][11]

4. <span data-ttu-id="2ab67-372">Klik op een functie, de locatie of de minimale salaris.</span><span class="sxs-lookup"><span data-stu-id="2ab67-372">Click a Business Title, Location, or Minimum Salary.</span></span> <span data-ttu-id="2ab67-373">Facetten null in de eerste zoekopdracht zijn, maar als deze waarden ondernemen, de zoekresultaten zijn afgekapt tot van items die niet langer overeenkomen.</span><span class="sxs-lookup"><span data-stu-id="2ab67-373">Facets were null on the initial search, but as they take on values, the search results are trimmed of items that no longer match.</span></span>
   
   ![Zoekresultaten na het selecteren van facetten][12]

5. <span data-ttu-id="2ab67-375">Schakel de meervoudige query zodat u andere query gedrag kunt, klikt u op de `[X]` na de geselecteerde facetten te wissen van de facetten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-375">To clear the faceted query so that you can try different query behaviors, click the `[X]` after the selected facets to clear the facets.</span></span>
   
<a name="nextstep"></a>

## <a name="learn-more"></a><span data-ttu-id="2ab67-376">Meer informatie</span><span class="sxs-lookup"><span data-stu-id="2ab67-376">Learn more</span></span>
<span data-ttu-id="2ab67-377">Bekijk [Azure Search diepgaand](http://channel9.msdn.com/Events/TechEd/Europe/2014/DBI-B410).</span><span class="sxs-lookup"><span data-stu-id="2ab67-377">Watch [Azure Search Deep Dive](http://channel9.msdn.com/Events/TechEd/Europe/2014/DBI-B410).</span></span> <span data-ttu-id="2ab67-378">45:25 is er een demo voor het implementeren van facetten.</span><span class="sxs-lookup"><span data-stu-id="2ab67-378">At 45:25, there is a demo on how to implement facets.</span></span>

<span data-ttu-id="2ab67-379">Om meer inzicht te krijgen over ontwerp beginselen voor meervoudige navigatie raden we aan de volgende koppelingen:</span><span class="sxs-lookup"><span data-stu-id="2ab67-379">For more insights on design principles for faceted navigation, we recommend the following links:</span></span>

* [<span data-ttu-id="2ab67-380">Ontwerpen voor meervoudige zoeken</span><span class="sxs-lookup"><span data-stu-id="2ab67-380">Designing for Faceted Search</span></span>](http://www.uie.com/articles/faceted_search/)
* [<span data-ttu-id="2ab67-381">Ontwerppatronen: Meervoudige navigatie</span><span class="sxs-lookup"><span data-stu-id="2ab67-381">Design Patterns: Faceted Navigation</span></span>](http://alistapart.com/article/design-patterns-faceted-navigation)


<!--Anchors-->
[How to build it]: #howtobuildit
[Build the presentation layer]: #presentationlayer
[Build the index]: #buildindex
[Check for data quality]: #checkdata
[Build the query]: #buildquery
[Tips on how to control faceted navigation]: #tips
[Faceted navigation based on range values]: #rangefacets
[Faceted navigation based on GeoPoints]: #geofacets
[Try it out]: #tryitout

<!--Image references-->
[1]: ./media/search-faceted-navigation/azure-search-faceting-example.PNG
[2]: ./media/search-faceted-navigation/Facet-2-CSHTML.PNG
[3]: ./media/search-faceted-navigation/Facet-3-schema.PNG
[4]: ./media/search-faceted-navigation/Facet-4-SearchMethod.PNG
[5]: ./media/search-faceted-navigation/Facet-5-Prices.PNG
[6]: ./media/search-faceted-navigation/Facet-6-buildfilter.PNG
[7]: ./media/search-faceted-navigation/Facet-7-appstart.png
[8]: ./media/search-faceted-navigation/Facet-8-appbike.png
[9]: ./media/search-faceted-navigation/Facet-9-appbikefaceted.png
[10]: ./media/search-faceted-navigation/Facet-10-appTitle.png
[11]: ./media/search-faceted-navigation/faceted-search-before-facets.png
[12]: ./media/search-faceted-navigation/faceted-search-after-facets.png

<!--Link references-->
[Designing for Faceted Search]: http://www.uie.com/articles/faceted_search/
[Design Patterns: Faceted Navigation]: http://alistapart.com/article/design-patterns-faceted-navigation
[Create your first application]: search-create-first-solution.md
[OData expression syntax (Azure Search)]: http://msdn.microsoft.com/library/azure/dn798921.aspx
[Azure Search Adventure Works Demo]: https://azuresearchadventureworksdemo.codeplex.com/
[http://www.odata.org/documentation/odata-version-2-0/overview/]: http://www.odata.org/documentation/odata-version-2-0/overview/ 
[Faceting on Azure Search forum post]: ../faceting-on-azure-search.md?forum=azuresearch
[Search Documents (Azure Search API)]: http://msdn.microsoft.com/library/azure/dn798927.aspx

