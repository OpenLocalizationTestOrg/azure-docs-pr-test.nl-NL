---
title: Modeling Multitenancy in Azure Search | Microsoft Docs
description: Meer informatie over algemene ontwerppatronen voor multitenant SaaS-toepassingen tijdens het gebruik van Azure Search.
services: search
manager: jhubbard
author: ashmaka
documentationcenter: 
ms.assetid: 72e9696a-553b-47dc-9e05-a82db0ebf094
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 10/26/2016
ms.author: ashmaka
ms.openlocfilehash: fd1b0c7cc8210d27fdc500bf4e5641bedfe93cff
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/11/2017
---
# <a name="design-patterns-for-multitenant-saas-applications-and-azure-search"></a><span data-ttu-id="33ea1-103">Ontwerppatronen voor multitenant SaaS-toepassingen en Azure Search</span><span class="sxs-lookup"><span data-stu-id="33ea1-103">Design patterns for multitenant SaaS applications and Azure Search</span></span>
<span data-ttu-id="33ea1-104">Een multitenant-toepassing is dat de services en de mogelijkheden biedt voor een willekeurig aantal tenants die niet zien of delen van de gegevens van een andere tenant.</span><span class="sxs-lookup"><span data-stu-id="33ea1-104">A multitenant application is one that provides the same services and capabilities to any number of tenants who cannot see or share the data of any other tenant.</span></span> <span data-ttu-id="33ea1-105">Dit document wordt besproken tenant isolatie strategieën voor multitenant toepassingen die zijn gebouwd met Azure Search.</span><span class="sxs-lookup"><span data-stu-id="33ea1-105">This document discusses tenant isolation strategies for multitenant applications built with Azure Search.</span></span>

## <a name="azure-search-concepts"></a><span data-ttu-id="33ea1-106">Azure Search-concepten</span><span class="sxs-lookup"><span data-stu-id="33ea1-106">Azure Search concepts</span></span>
<span data-ttu-id="33ea1-107">Als een oplossing zoeken as a service kunnen Azure Search ontwikkelaars een uitgebreide zoekopdracht ervaringen toevoegen aan toepassingen zonder eventuele infrastructuurbeheer of u een expert in de zoekopdracht.</span><span class="sxs-lookup"><span data-stu-id="33ea1-107">As a search-as-a-service solution, Azure Search allows developers to add rich search experiences to applications without managing any infrastructure or becoming an expert in search.</span></span> <span data-ttu-id="33ea1-108">Gegevens worden geüpload naar de service en klik vervolgens in de cloud worden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="33ea1-108">Data is uploaded to the service and then stored in the cloud.</span></span> <span data-ttu-id="33ea1-109">Eenvoudige aanvragen tot de Azure Search API gebruikt, kunnen de gegevens vervolgens worden gewijzigd en doorzocht.</span><span class="sxs-lookup"><span data-stu-id="33ea1-109">Using simple requests to the Azure Search API, the data can then be modified and searched.</span></span> <span data-ttu-id="33ea1-110">Een overzicht van de service kunt u vinden in [in dit artikel](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="33ea1-110">An overview of the service can be found in [this article](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="33ea1-111">Voordat u ontwerppatronen, is het belangrijk te weten van enkele concepten die in Azure Search.</span><span class="sxs-lookup"><span data-stu-id="33ea1-111">Before discussing design patterns, it is important to understand some concepts in Azure Search.</span></span>

### <a name="search-services-indexes-fields-and-documents"></a><span data-ttu-id="33ea1-112">Search-services, indexen, velden en -documenten</span><span class="sxs-lookup"><span data-stu-id="33ea1-112">Search services, indexes, fields, and documents</span></span>
<span data-ttu-id="33ea1-113">Wanneer u Azure Search, een lid van een *zoekservice*.</span><span class="sxs-lookup"><span data-stu-id="33ea1-113">When using Azure Search, one subscribes to a *search service*.</span></span> <span data-ttu-id="33ea1-114">Als gegevens worden geüpload naar Azure Search, wordt opgeslagen in een *index* binnen de search-service.</span><span class="sxs-lookup"><span data-stu-id="33ea1-114">As data is uploaded to Azure Search, it is stored in an *index* within the search service.</span></span> <span data-ttu-id="33ea1-115">Er is een aantal indexen binnen een enkele service.</span><span class="sxs-lookup"><span data-stu-id="33ea1-115">There can be a number of indexes within a single service.</span></span> <span data-ttu-id="33ea1-116">Voor het gebruik van de vertrouwde concepten van databases kan de zoekservice worden vergeleken met een database terwijl de indexen in een service kunnen worden vergeleken met tabellen in een database.</span><span class="sxs-lookup"><span data-stu-id="33ea1-116">To use the familiar concepts of databases, the search service can be likened to a database while the indexes within a service can be likened to tables within a database.</span></span>

<span data-ttu-id="33ea1-117">Elke index binnen een search-service heeft een eigen schema, die wordt gedefinieerd door een aantal aanpasbare *velden*.</span><span class="sxs-lookup"><span data-stu-id="33ea1-117">Each index within a search service has its own schema, which is defined by a number of customizable *fields*.</span></span> <span data-ttu-id="33ea1-118">Gegevens aan worden toegevoegd aan een Azure Search-index in de vorm van afzonderlijke *documenten*.</span><span class="sxs-lookup"><span data-stu-id="33ea1-118">Data is added to an Azure Search index in the form of individual *documents*.</span></span> <span data-ttu-id="33ea1-119">Elk document moet worden geüpload naar een specifieke index en die index schema moet passen.</span><span class="sxs-lookup"><span data-stu-id="33ea1-119">Each document must be uploaded to a particular index and must fit that index's schema.</span></span> <span data-ttu-id="33ea1-120">Bij het zoeken van gegevens met behulp van Azure Search, wordt de zoekopdracht in volledige tekst query's worden uitgegeven op basis van een bepaalde index.</span><span class="sxs-lookup"><span data-stu-id="33ea1-120">When searching data using Azure Search, the full-text search queries are issued against a particular index.</span></span>  <span data-ttu-id="33ea1-121">Als u wilt vergelijken deze begrippen aan die van een database, velden kunnen worden vergeleken met de kolommen in een tabel en documenten kunnen worden vergeleken met de rijen.</span><span class="sxs-lookup"><span data-stu-id="33ea1-121">To compare these concepts to those of a database, fields can be likened to columns in a table and documents can be likened to rows.</span></span>

### <a name="scalability"></a><span data-ttu-id="33ea1-122">Schaalbaarheid</span><span class="sxs-lookup"><span data-stu-id="33ea1-122">Scalability</span></span>
<span data-ttu-id="33ea1-123">Een Azure Search-service in de standaard [prijscategorie](https://azure.microsoft.com/pricing/details/search/) in twee dimensies kunt schalen: opslag en beschikbaarheid.</span><span class="sxs-lookup"><span data-stu-id="33ea1-123">Any Azure Search service in the Standard [pricing tier](https://azure.microsoft.com/pricing/details/search/) can scale in two dimensions: storage and availability.</span></span>

* <span data-ttu-id="33ea1-124">*Partities* kunnen worden toegevoegd aan het verhogen van de opslag van een service voor zoeken.</span><span class="sxs-lookup"><span data-stu-id="33ea1-124">*Partitions* can be added to increase the storage of a search service.</span></span>
* <span data-ttu-id="33ea1-125">*Replica's* kunnen worden toegevoegd aan een service te verhogen van de doorvoer van aanvragen dat een search-service kan verwerken.</span><span class="sxs-lookup"><span data-stu-id="33ea1-125">*Replicas* can be added to a service to increase the throughput of requests that a search service can handle.</span></span>

<span data-ttu-id="33ea1-126">Toevoegen en verwijderen partities en replica's op kunt de capaciteit van de search-service kan worden uitgebreid met de hoeveelheid gegevens en verkeer van de eisen van de toepassing.</span><span class="sxs-lookup"><span data-stu-id="33ea1-126">Adding and removing partitions and replicas at will allow the capacity of the search service to grow with the amount of data and traffic the application demands.</span></span> <span data-ttu-id="33ea1-127">Om een search-service om te lezen bereiken [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), hiervoor twee replica's.</span><span class="sxs-lookup"><span data-stu-id="33ea1-127">In order for a search service to achieve a read [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires two replicas.</span></span> <span data-ttu-id="33ea1-128">Om een service voor een alleen-lezen [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), drie replica's is vereist.</span><span class="sxs-lookup"><span data-stu-id="33ea1-128">In order for a service to achieve a read-write [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires three replicas.</span></span>

### <a name="service-and-index-limits-in-azure-search"></a><span data-ttu-id="33ea1-129">In Azure Search-service en de index limieten</span><span class="sxs-lookup"><span data-stu-id="33ea1-129">Service and index limits in Azure Search</span></span>
<span data-ttu-id="33ea1-130">Er zijn slechts enkele andere [Prijscategorieën](https://azure.microsoft.com/pricing/details/search/) in Azure Search elk van de lagen heeft verschillende [limieten en quota's](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="33ea1-130">There are a few different [pricing tiers](https://azure.microsoft.com/pricing/details/search/) in Azure Search, each of the tiers has different [limits and quotas](search-limits-quotas-capacity.md).</span></span> <span data-ttu-id="33ea1-131">Sommige van deze beperkingen zijn op het serviceniveau, sommige zijn op niveau van de index en sommige zijn op de partitie-niveau.</span><span class="sxs-lookup"><span data-stu-id="33ea1-131">Some of these limits are at the service-level, some are at the index-level, and some are at the partition-level.</span></span>

|  | <span data-ttu-id="33ea1-132">Basic</span><span class="sxs-lookup"><span data-stu-id="33ea1-132">Basic</span></span> | <span data-ttu-id="33ea1-133">Standard1</span><span class="sxs-lookup"><span data-stu-id="33ea1-133">Standard1</span></span> | <span data-ttu-id="33ea1-134">Standard2</span><span class="sxs-lookup"><span data-stu-id="33ea1-134">Standard2</span></span> | <span data-ttu-id="33ea1-135">Standard3</span><span class="sxs-lookup"><span data-stu-id="33ea1-135">Standard3</span></span> | <span data-ttu-id="33ea1-136">HD Standard3</span><span class="sxs-lookup"><span data-stu-id="33ea1-136">Standard3 HD</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="33ea1-137">Maximum aantal replica's per Service</span><span class="sxs-lookup"><span data-stu-id="33ea1-137">Maximum Replicas per Service</span></span> |<span data-ttu-id="33ea1-138">3</span><span class="sxs-lookup"><span data-stu-id="33ea1-138">3</span></span> |<span data-ttu-id="33ea1-139">12</span><span class="sxs-lookup"><span data-stu-id="33ea1-139">12</span></span> |<span data-ttu-id="33ea1-140">12</span><span class="sxs-lookup"><span data-stu-id="33ea1-140">12</span></span> |<span data-ttu-id="33ea1-141">12</span><span class="sxs-lookup"><span data-stu-id="33ea1-141">12</span></span> |<span data-ttu-id="33ea1-142">12</span><span class="sxs-lookup"><span data-stu-id="33ea1-142">12</span></span> |
| <span data-ttu-id="33ea1-143">Maximum aantal partities per Service</span><span class="sxs-lookup"><span data-stu-id="33ea1-143">Maximum Partitions per Service</span></span> |<span data-ttu-id="33ea1-144">1</span><span class="sxs-lookup"><span data-stu-id="33ea1-144">1</span></span> |<span data-ttu-id="33ea1-145">12</span><span class="sxs-lookup"><span data-stu-id="33ea1-145">12</span></span> |<span data-ttu-id="33ea1-146">12</span><span class="sxs-lookup"><span data-stu-id="33ea1-146">12</span></span> |<span data-ttu-id="33ea1-147">12</span><span class="sxs-lookup"><span data-stu-id="33ea1-147">12</span></span> |<span data-ttu-id="33ea1-148">1</span><span class="sxs-lookup"><span data-stu-id="33ea1-148">1</span></span> |
| <span data-ttu-id="33ea1-149">Maximum aantal Search-eenheden (replica's * partities) per Service</span><span class="sxs-lookup"><span data-stu-id="33ea1-149">Maximum Search Units (Replicas*Partitions) per Service</span></span> |<span data-ttu-id="33ea1-150">3</span><span class="sxs-lookup"><span data-stu-id="33ea1-150">3</span></span> |<span data-ttu-id="33ea1-151">36</span><span class="sxs-lookup"><span data-stu-id="33ea1-151">36</span></span> |<span data-ttu-id="33ea1-152">36</span><span class="sxs-lookup"><span data-stu-id="33ea1-152">36</span></span> |<span data-ttu-id="33ea1-153">36</span><span class="sxs-lookup"><span data-stu-id="33ea1-153">36</span></span> |<span data-ttu-id="33ea1-154">36 (maximaal 3 partities)</span><span class="sxs-lookup"><span data-stu-id="33ea1-154">36 (max 3 partitions)</span></span> |
| <span data-ttu-id="33ea1-155">Maximum aantal documenten per Service</span><span class="sxs-lookup"><span data-stu-id="33ea1-155">Maximum Documents per Service</span></span> |<span data-ttu-id="33ea1-156">1 miljoen</span><span class="sxs-lookup"><span data-stu-id="33ea1-156">1 million</span></span> |<span data-ttu-id="33ea1-157">180 miljoen</span><span class="sxs-lookup"><span data-stu-id="33ea1-157">180 million</span></span> |<span data-ttu-id="33ea1-158">720 miljoen</span><span class="sxs-lookup"><span data-stu-id="33ea1-158">720 million</span></span> |<span data-ttu-id="33ea1-159">1.4 miljard</span><span class="sxs-lookup"><span data-stu-id="33ea1-159">1.4 billion</span></span> |<span data-ttu-id="33ea1-160">600 miljoen</span><span class="sxs-lookup"><span data-stu-id="33ea1-160">600 million</span></span> |
| <span data-ttu-id="33ea1-161">Maximale opslag per Service</span><span class="sxs-lookup"><span data-stu-id="33ea1-161">Maximum Storage per Service</span></span> |<span data-ttu-id="33ea1-162">2 GB</span><span class="sxs-lookup"><span data-stu-id="33ea1-162">2 GB</span></span> |<span data-ttu-id="33ea1-163">300 GB</span><span class="sxs-lookup"><span data-stu-id="33ea1-163">300 GB</span></span> |<span data-ttu-id="33ea1-164">1,2 TB</span><span class="sxs-lookup"><span data-stu-id="33ea1-164">1.2 TB</span></span> |<span data-ttu-id="33ea1-165">2,4 TB</span><span class="sxs-lookup"><span data-stu-id="33ea1-165">2.4 TB</span></span> |<span data-ttu-id="33ea1-166">600 GB</span><span class="sxs-lookup"><span data-stu-id="33ea1-166">600 GB</span></span> |
| <span data-ttu-id="33ea1-167">Maximum aantal documenten per partitie</span><span class="sxs-lookup"><span data-stu-id="33ea1-167">Maximum Documents per Partition</span></span> |<span data-ttu-id="33ea1-168">1 miljoen</span><span class="sxs-lookup"><span data-stu-id="33ea1-168">1 million</span></span> |<span data-ttu-id="33ea1-169">15 miljoen</span><span class="sxs-lookup"><span data-stu-id="33ea1-169">15 million</span></span> |<span data-ttu-id="33ea1-170">60 miljoen</span><span class="sxs-lookup"><span data-stu-id="33ea1-170">60 million</span></span> |<span data-ttu-id="33ea1-171">120 miljoen</span><span class="sxs-lookup"><span data-stu-id="33ea1-171">120 million</span></span> |<span data-ttu-id="33ea1-172">200 miljoen</span><span class="sxs-lookup"><span data-stu-id="33ea1-172">200 million</span></span> |
| <span data-ttu-id="33ea1-173">Maximale opslag per partitie</span><span class="sxs-lookup"><span data-stu-id="33ea1-173">Maximum Storage per Partition</span></span> |<span data-ttu-id="33ea1-174">2 GB</span><span class="sxs-lookup"><span data-stu-id="33ea1-174">2 GB</span></span> |<span data-ttu-id="33ea1-175">25 GB</span><span class="sxs-lookup"><span data-stu-id="33ea1-175">25 GB</span></span> |<span data-ttu-id="33ea1-176">100 GB</span><span class="sxs-lookup"><span data-stu-id="33ea1-176">100 GB</span></span> |<span data-ttu-id="33ea1-177">200 GB</span><span class="sxs-lookup"><span data-stu-id="33ea1-177">200 GB</span></span> |<span data-ttu-id="33ea1-178">200 GB</span><span class="sxs-lookup"><span data-stu-id="33ea1-178">200 GB</span></span> |
| <span data-ttu-id="33ea1-179">Maximum aantal indexen per Service</span><span class="sxs-lookup"><span data-stu-id="33ea1-179">Maximum Indexes per Service</span></span> |<span data-ttu-id="33ea1-180">5</span><span class="sxs-lookup"><span data-stu-id="33ea1-180">5</span></span> |<span data-ttu-id="33ea1-181">50</span><span class="sxs-lookup"><span data-stu-id="33ea1-181">50</span></span> |<span data-ttu-id="33ea1-182">200</span><span class="sxs-lookup"><span data-stu-id="33ea1-182">200</span></span> |<span data-ttu-id="33ea1-183">200</span><span class="sxs-lookup"><span data-stu-id="33ea1-183">200</span></span> |<span data-ttu-id="33ea1-184">3000 (maximaal 1000 indexen/partitie)</span><span class="sxs-lookup"><span data-stu-id="33ea1-184">3000 (max 1000 indexes/partition)</span></span> |

#### <a name="s3-high-density"></a><span data-ttu-id="33ea1-185">S3 High-density '</span><span class="sxs-lookup"><span data-stu-id="33ea1-185">S3 High Density'</span></span>
<span data-ttu-id="33ea1-186">Er is een optie voor de modus hoge dichtheid (HD) is speciaal ontworpen voor multitenant scenario's in Azure-Search S3 prijscategorie.</span><span class="sxs-lookup"><span data-stu-id="33ea1-186">In Azure Search’s S3 pricing tier, there is an option for the High Density (HD) mode designed specifically for multitenant scenarios.</span></span> <span data-ttu-id="33ea1-187">In veel gevallen is het nodig zijn ter ondersteuning van een groot aantal onder een service te profiteren van de voordelen van eenvoud en kostenbesparing kleinere tenants.</span><span class="sxs-lookup"><span data-stu-id="33ea1-187">In many cases, it is necessary to support a large number of smaller tenants under a single service to achieve the benefits of simplicity and cost efficiency.</span></span>

<span data-ttu-id="33ea1-188">S3 HD kunt u veel kleine indexen moeten worden verpakt onder het beheer van een enkele search-service door de mogelijkheid moet worden uitgebreid met behulp van partities voor de mogelijkheid voor het hosten van meer indexen in een enkele service indexen handel.</span><span class="sxs-lookup"><span data-stu-id="33ea1-188">S3 HD allows for the many small indexes to be packed under the management of a single search service by trading the ability to scale out indexes using partitions for the ability to host more indexes in a single service.</span></span>

<span data-ttu-id="33ea1-189">Concrete invulling te geven, kan een service S3 hebben tussen 1 en 200 indexen die samen tot 1,4 miljard documenten kunnen hosten.</span><span class="sxs-lookup"><span data-stu-id="33ea1-189">Concretely, an S3 service could have between 1 and 200 indexes that together could host up to 1.4 billion documents.</span></span> <span data-ttu-id="33ea1-190">Een HD S3 aan de andere kant afzonderlijke indexen alleen gaan 1 miljoen documenten wilt toestaan, maar deze kan omgaan met maximaal 1000 indexen per partitie (maximaal 3000 per service) met een telling van de totale document van 200 miljoen per partitie (maximaal 600 miljoen per service).</span><span class="sxs-lookup"><span data-stu-id="33ea1-190">An S3 HD on the other hand would allow individual indexes to only go up to 1 million documents, but it can handle up to 1000 indexes per partition (up to 3000 per service) with a total document count of 200 million per partition (up to 600 million per service).</span></span>

## <a name="considerations-for-multitenant-applications"></a><span data-ttu-id="33ea1-191">Overwegingen voor multitenant-toepassingen</span><span class="sxs-lookup"><span data-stu-id="33ea1-191">Considerations for multitenant applications</span></span>
<span data-ttu-id="33ea1-192">Multitenant toepassingen moeten effectief met het distribueren van bronnen tussen de tenants behoud een zekere mate van privacy tussen de verschillende tenants.</span><span class="sxs-lookup"><span data-stu-id="33ea1-192">Multitenant applications must effectively distribute resources among the tenants while preserving some level of privacy between the various tenants.</span></span> <span data-ttu-id="33ea1-193">Er zijn enkele overwegingen bij het ontwerpen van de architectuur voor een dergelijke toepassing:</span><span class="sxs-lookup"><span data-stu-id="33ea1-193">There are a few considerations when designing the architecture for such an application:</span></span>

* <span data-ttu-id="33ea1-194">*Tenantisolatie:* Toepassingsontwikkelaars hoeven te passende maatregelen te nemen om ervoor te zorgen dat geen tenants hebt geverifieerd of toegang tot de gegevens van andere tenants ongewenste.</span><span class="sxs-lookup"><span data-stu-id="33ea1-194">*Tenant isolation:* Application developers need to take appropriate measures to ensure that no tenants have unauthorized or unwanted access to the data of other tenants.</span></span> <span data-ttu-id="33ea1-195">Afgezien van het perspectief van de privacy van gegevens vereisen tenant isolatie strategieën effectief beheer van gedeelde bronnen en bescherming tegen ruis neighbors.</span><span class="sxs-lookup"><span data-stu-id="33ea1-195">Beyond the perspective of data privacy, tenant isolation strategies require effective management of shared resources and protection from noisy neighbors.</span></span>
* <span data-ttu-id="33ea1-196">*Kosten van de resource cloud:* als met een andere toepassing softwareoplossingen kosten concurrerende als onderdeel van een multitenant-toepassing moeten blijven.</span><span class="sxs-lookup"><span data-stu-id="33ea1-196">*Cloud resource cost:* As with any other application, software solutions must remain cost competitive as a component of a multitenant application.</span></span>
* <span data-ttu-id="33ea1-197">*Gebruiksgemak Operations:* bij het ontwikkelen van een multitenant-architectuur, de impact op de bedrijfsactiviteiten en complexiteit van de toepassing is een belangrijk aandachtspunt.</span><span class="sxs-lookup"><span data-stu-id="33ea1-197">*Ease of Operations:* When developing a multitenant architecture, the impact on the application's operations and complexity is an important consideration.</span></span> <span data-ttu-id="33ea1-198">Azure Search is een [SLA van 99,9%](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="33ea1-198">Azure Search has a [99.9% SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span>
* <span data-ttu-id="33ea1-199">*Globale footprint:* Multitenant toepassingen mogelijk effectief dienen tenants die zijn verdeeld over de hele wereld.</span><span class="sxs-lookup"><span data-stu-id="33ea1-199">*Global footprint:* Multitenant applications may need to effectively serve tenants which are distributed across the globe.</span></span>
* <span data-ttu-id="33ea1-200">*Schaalbaarheid:* toepassingsontwikkelaars moeten rekening houden met hoe ze in overeenstemming brengen tussen het onderhouden van een voldoende laag niveau van complexiteit bij de toepassing en het ontwerpen van de toepassing om te schalen met het aantal tenants en de grootte van gegevens van tenants en werkbelasting.</span><span class="sxs-lookup"><span data-stu-id="33ea1-200">*Scalability:* Application developers need to consider how they reconcile between maintaining a sufficiently low level of application complexity and designing the application to scale with number of tenants and the size of tenants' data and workload.</span></span>

<span data-ttu-id="33ea1-201">Azure Search biedt een aantal grenzen die kunnen worden gebruikt voor het isoleren van de gegevens en de werkbelasting van tenants.</span><span class="sxs-lookup"><span data-stu-id="33ea1-201">Azure Search offers a few boundaries that can be used to isolate tenants’ data and workload.</span></span>

## <a name="modeling-multitenancy-with-azure-search"></a><span data-ttu-id="33ea1-202">Multitenancy modellering met Azure Search</span><span class="sxs-lookup"><span data-stu-id="33ea1-202">Modeling multitenancy with Azure Search</span></span>
<span data-ttu-id="33ea1-203">In het geval van een multitenant scenario ontwikkelaar van de toepassing maakt gebruik van een of meer search-services en delen van hun tenants tussen services, indexen of beide.</span><span class="sxs-lookup"><span data-stu-id="33ea1-203">In the case of a multitenant scenario, the application developer consumes one or more search services and divide their tenants among services, indexes, or both.</span></span> <span data-ttu-id="33ea1-204">Azure Search heeft enkele algemene patronen bij het modelleren van een multitenant scenario:</span><span class="sxs-lookup"><span data-stu-id="33ea1-204">Azure Search has a few common patterns when modeling a multitenant scenario:</span></span>

1. <span data-ttu-id="33ea1-205">*Index per tenant:* elke tenant heeft zijn eigen index binnen een search-service die wordt gedeeld met andere tenants.</span><span class="sxs-lookup"><span data-stu-id="33ea1-205">*Index per tenant:* Each tenant has its own index within a search service that is shared with other tenants.</span></span>
2. <span data-ttu-id="33ea1-206">*Service per tenant:* elke tenant heeft zijn eigen toegewezen Azure Search-service offering hoogste niveau van de scheiding van gegevens en werkbelasting.</span><span class="sxs-lookup"><span data-stu-id="33ea1-206">*Service per tenant:* Each tenant has its own dedicated Azure Search service, offering highest level of data and workload separation.</span></span>
3. <span data-ttu-id="33ea1-207">*De combinatie van beide:* tenants grotere, meer actief zijn speciale services toegewezen terwijl kleinere tenants afzonderlijke indexen binnen gedeelde services zijn toegewezen.</span><span class="sxs-lookup"><span data-stu-id="33ea1-207">*Mix of both:* Larger, more-active tenants are assigned dedicated services while smaller tenants are assigned individual indexes within shared services.</span></span>

## <a name="1-index-per-tenant"></a><span data-ttu-id="33ea1-208">1. Index per tenant</span><span class="sxs-lookup"><span data-stu-id="33ea1-208">1. Index per tenant</span></span>
![Een portrayal van het model index per tenant](./media/search-modeling-multitenant-saas-applications/azure-search-index-per-tenant.png)

<span data-ttu-id="33ea1-210">In een model index per tenant innemen meerdere tenants één Azure Search-service waarbij elke tenant hun eigen index heeft.</span><span class="sxs-lookup"><span data-stu-id="33ea1-210">In an index-per-tenant model, multiple tenants occupy a single Azure Search service where each tenant has their own index.</span></span>

<span data-ttu-id="33ea1-211">Tenants bereiken gegevensisolatie, omdat alle aanvragen zoeken en document bewerkingen op het indexniveau van een in Azure Search worden uitgegeven.</span><span class="sxs-lookup"><span data-stu-id="33ea1-211">Tenants achieve data isolation because all search requests and document operations are issued at an index level in Azure Search.</span></span> <span data-ttu-id="33ea1-212">In de toepassingslaag is de noodzaak afhankelijkheid van de verschillende tenants verkeer omleiden naar de juiste indexen tijdens ook het beheren van bronnen op het serviceniveau van de in alle tenants.</span><span class="sxs-lookup"><span data-stu-id="33ea1-212">In the application layer, there is the need awareness to direct the various tenants’ traffic to the proper indexes while also managing resources at the service level across all tenants.</span></span>

<span data-ttu-id="33ea1-213">Een kenmerk key van het model index per tenant is de mogelijkheid voor de ontwikkelaar van de toepassing aan de capaciteit van een zoekservice tussen de toepassing tenants oversubscribe.</span><span class="sxs-lookup"><span data-stu-id="33ea1-213">A key attribute of the index-per-tenant model is the ability for the application developer to oversubscribe the capacity of a search service among the application’s tenants.</span></span> <span data-ttu-id="33ea1-214">Als de tenants een ongelijke verdeling van werkbelasting, kan de optimale combinatie van tenants worden verdeeld over een zoekservice indexen aangepast aan een aantal zeer actieve, bronintensieve tenants tijdens tegelijkertijd afhandeling van minder lang staart actieve tenants.</span><span class="sxs-lookup"><span data-stu-id="33ea1-214">If the tenants have an uneven distribution of workload, the optimal combination of tenants can be distributed across a search service’s indexes to accommodate a number of highly active, resource-intensive tenants while simultaneously serving a long tail of less active tenants.</span></span> <span data-ttu-id="33ea1-215">De verhouding is het niet van het model voor het afhandelen van situaties waarbij elke tenant gelijktijdig maximaal actief is.</span><span class="sxs-lookup"><span data-stu-id="33ea1-215">The trade-off is the inability of the model to handle situations where each tenant is concurrently highly active.</span></span>

<span data-ttu-id="33ea1-216">Het model index per tenant vormt de basis voor een model variabele kosten, waar een volledige Azure Search-service is gekocht vooraf en vervolgens gevuld met tenants.</span><span class="sxs-lookup"><span data-stu-id="33ea1-216">The index-per-tenant model provides the basis for a variable cost model, where an entire Azure Search service is bought up-front and then subsequently filled with tenants.</span></span> <span data-ttu-id="33ea1-217">Hierdoor ongebruikte capaciteit aan te wijzen voor proefabonnementen en gratis accounts.</span><span class="sxs-lookup"><span data-stu-id="33ea1-217">This allows for unused capacity to be designated for trials and free accounts.</span></span>

<span data-ttu-id="33ea1-218">Voor toepassingen met een globale footprint, het model index per tenant niet mogelijk het meest efficiënt.</span><span class="sxs-lookup"><span data-stu-id="33ea1-218">For applications with a global footprint, the index-per-tenant model may not be the most efficient.</span></span> <span data-ttu-id="33ea1-219">Als een toepassing tenants zijn verdeeld over de hele wereld, is het mogelijk dat een afzonderlijke service nodig is voor elke regio die mogelijk kosten op elk van deze dupliceren.</span><span class="sxs-lookup"><span data-stu-id="33ea1-219">If an application's tenants are distributed across the globe, a separate service may be necessary for each region which may duplicate costs across each of them.</span></span>

<span data-ttu-id="33ea1-220">Azure Search kunt voor de schaal van de afzonderlijke indexen en het totale aantal indexen groeien.</span><span class="sxs-lookup"><span data-stu-id="33ea1-220">Azure Search allows for the scale of both the individual indexes and the total number of indexes to grow.</span></span> <span data-ttu-id="33ea1-221">Als een juiste prijzen laag hebt gekozen, partities en replica's kunnen worden toegevoegd aan de hele search-service wanneer een afzonderlijke index in de service te groot is in termen van opslag- of -verkeer.</span><span class="sxs-lookup"><span data-stu-id="33ea1-221">If an appropriate pricing tier is chosen, partitions and replicas can be added to the entire search service when an individual index within the service grows too large in terms of storage or traffic.</span></span>

<span data-ttu-id="33ea1-222">Als het totale aantal indexen te voor één service groot is een andere service worden ingericht voor het opvangen van de nieuwe tenants.</span><span class="sxs-lookup"><span data-stu-id="33ea1-222">If the total number of indexes grows too large for a single service, another service has to be provisioned to accommodate the new tenants.</span></span> <span data-ttu-id="33ea1-223">Als indexen worden verplaatst tussen de search-services moeten als nieuwe services worden toegevoegd, moet de gegevens van de index handmatig worden gekopieerd van een index naar de andere zoals Azure Search is niet toegestaan voor een index worden verplaatst.</span><span class="sxs-lookup"><span data-stu-id="33ea1-223">If indexes have to be moved between search services as new services are added, the data from the index has to be manually copied from one index to the other as Azure Search does not allow for an index to be moved.</span></span>

## <a name="2-service-per-tenant"></a><span data-ttu-id="33ea1-224">2. Service per tenant</span><span class="sxs-lookup"><span data-stu-id="33ea1-224">2. Service per tenant</span></span>
![Een portrayal van het model service per tenant](./media/search-modeling-multitenant-saas-applications/azure-search-service-per-tenant.png)

<span data-ttu-id="33ea1-226">In een architectuur service per tenant heeft elke tenant een eigen search-service.</span><span class="sxs-lookup"><span data-stu-id="33ea1-226">In a service-per-tenant architecture, each tenant has its own search service.</span></span>

<span data-ttu-id="33ea1-227">In dit model bereikt de toepassing het maximumniveau van isolatie voor de tenants.</span><span class="sxs-lookup"><span data-stu-id="33ea1-227">In this model, the application achieves the maximum level of isolation for its tenants.</span></span> <span data-ttu-id="33ea1-228">Elke service heeft toegewezen opslag en doorvoer voor het verwerken van zoekaanvraag, evenals een afzonderlijke API-sleutels.</span><span class="sxs-lookup"><span data-stu-id="33ea1-228">Each service has dedicated storage and throughput for handling search request as well as separate API keys.</span></span>

<span data-ttu-id="33ea1-229">Voor toepassingen waarbij elke tenant heeft een groot footprint of de werkbelasting variëren tenant tenant, is het model service per tenant een daadwerkelijke keuze als bronnen worden niet gedeeld door verschillende tenants werkbelastingen.</span><span class="sxs-lookup"><span data-stu-id="33ea1-229">For applications where each tenant has a large footprint or the workload has little variability from tenant to tenant, the service-per-tenant model is an effective choice as resources are not shared across various tenants’ workloads.</span></span>

<span data-ttu-id="33ea1-230">Een service per tenant model biedt ook het voordeel van een kostprijsmodel voorspelbare, vaste.</span><span class="sxs-lookup"><span data-stu-id="33ea1-230">A service per tenant model also offers the benefit of a predictable, fixed cost model.</span></span> <span data-ttu-id="33ea1-231">Er is geen investeringen in een hele search-service tot er een tenant te vullen, is maar de kosten per tenant hoger dan het model van een index per tenant is.</span><span class="sxs-lookup"><span data-stu-id="33ea1-231">There is no up-front investment in an entire search service until there is a tenant to fill it, however the cost-per-tenant is higher than an index-per-tenant model.</span></span>

<span data-ttu-id="33ea1-232">Het model service per tenant is een efficiënte keuze voor toepassingen met een globale footprint.</span><span class="sxs-lookup"><span data-stu-id="33ea1-232">The service-per-tenant model is an efficient choice for applications with a global footprint.</span></span> <span data-ttu-id="33ea1-233">Met geografisch verspreide tenants is het gemakkelijk om elke tenant-service in de juiste regio.</span><span class="sxs-lookup"><span data-stu-id="33ea1-233">With geographically-distributed tenants, it is easy to have each tenant's service in the appropriate region.</span></span>

<span data-ttu-id="33ea1-234">De uitdagingen bij het schalen van dit patroon zich mogelijk aandienen wanneer individuele tenants langzamerhand hun service.</span><span class="sxs-lookup"><span data-stu-id="33ea1-234">The challenges in scaling this pattern arise when individual tenants outgrow their service.</span></span> <span data-ttu-id="33ea1-235">Azure Search ondersteunt momenteel geen upgrade de prijscategorie van een service voor zoeken, zodat alle gegevens zou moeten handmatig worden gekopieerd naar een nieuwe service.</span><span class="sxs-lookup"><span data-stu-id="33ea1-235">Azure Search does not currently support upgrading the pricing tier of a search service, so all data would have to be manually copied to a new service.</span></span>

## <a name="3-mixing-both-models"></a><span data-ttu-id="33ea1-236">3. De combinatie van beide modellen</span><span class="sxs-lookup"><span data-stu-id="33ea1-236">3. Mixing both models</span></span>
<span data-ttu-id="33ea1-237">Een ander patroon voor het modelleren van multitenancy is de combinatie van strategieën voor zowel de index per tenant en de service per tenant.</span><span class="sxs-lookup"><span data-stu-id="33ea1-237">Another pattern for modeling multitenancy is mixing both index-per-tenant and service-per-tenant strategies.</span></span>

<span data-ttu-id="33ea1-238">Door een combinatie van de twee patronen, een toepassing grootste tenants in beslag kunnen nemen toegewezen services terwijl de lang staart minder actieve, kleinere tenants in beslag indexen in een gedeelde service nemen kan.</span><span class="sxs-lookup"><span data-stu-id="33ea1-238">By mixing the two patterns, an application's largest tenants can occupy dedicated services while the long tail of less active, smaller tenants can occupy indexes in a shared service.</span></span> <span data-ttu-id="33ea1-239">Dit model zorgt ervoor dat de grootste tenants consistent hoge prestaties van de service bij het beveiligen van de kleinere tenants vanaf elke ruis neighbors.</span><span class="sxs-lookup"><span data-stu-id="33ea1-239">This model ensures that the largest tenants have consistently high performance from the service while helping to protect the smaller tenants from any noisy neighbors.</span></span>

<span data-ttu-id="33ea1-240">Implementeren van deze strategie afhankelijk prognose voorspellen welke tenants wordt een specifieke service ten opzichte van een index in een gedeelde service nodig is.</span><span class="sxs-lookup"><span data-stu-id="33ea1-240">However, implementing this strategy relies foresight in predicting which tenants will require a dedicated service versus an index in a shared service.</span></span> <span data-ttu-id="33ea1-241">Met de noodzaak voor het beheren van zowel deze multitenancy modellen verhoogt de complexiteit van de toepassing.</span><span class="sxs-lookup"><span data-stu-id="33ea1-241">Application complexity increases with the need to manage both of these multitenancy models.</span></span>

## <a name="achieving-even-finer-granularity"></a><span data-ttu-id="33ea1-242">Achieving zelfs weer specifieker</span><span class="sxs-lookup"><span data-stu-id="33ea1-242">Achieving even finer granularity</span></span>
<span data-ttu-id="33ea1-243">De bovenstaande ontwerppatronen als model voor multitenant scenario's in Azure Search wordt ervan uitgegaan dat een uniform bereik, waarbij elke tenant een hele exemplaar van een toepassing is.</span><span class="sxs-lookup"><span data-stu-id="33ea1-243">The above design patterns to model multitenant scenarios in Azure Search assume a uniform scope where each tenant is a whole instance of an application.</span></span> <span data-ttu-id="33ea1-244">Toepassingen kunnen echter soms verwerken veel kleinere bereiken.</span><span class="sxs-lookup"><span data-stu-id="33ea1-244">However, applications can sometimes handle many smaller scopes.</span></span>

<span data-ttu-id="33ea1-245">Als service per tenant en index per tenant modellen niet voldoende kleine bereiken zijn, is het mogelijk om een index om te zorgen voor een zelfs fijner mate van granulatie te modelleren.</span><span class="sxs-lookup"><span data-stu-id="33ea1-245">If service-per-tenant and index-per-tenant models are not sufficiently small scopes, it is possible to model an index to achieve an even finer degree of granularity.</span></span>

<span data-ttu-id="33ea1-246">Als u een enkele index zich anders gedragen voor andere client-eindpunten, kan een veld worden toegevoegd aan een index waarmee wordt aangegeven dat een bepaalde waarde voor elke mogelijke client.</span><span class="sxs-lookup"><span data-stu-id="33ea1-246">To have a single index behave differently for different client endpoints, a field can be added to an index which designates a certain value for each possible client.</span></span> <span data-ttu-id="33ea1-247">Telkens wanneer een client roept Azure Search opvragen of wijzigen van een index met de code van de clienttoepassing wordt de juiste waarde voor dat veld met behulp van Azure-Search [filter](https://msdn.microsoft.com/library/azure/dn798921.aspx) mogelijkheden op het moment dat de query.</span><span class="sxs-lookup"><span data-stu-id="33ea1-247">Each time a client calls Azure Search to query or modify an index, the code from the client application specifies the appropriate value for that field using Azure Search's [filter](https://msdn.microsoft.com/library/azure/dn798921.aspx) capability at query time.</span></span>

<span data-ttu-id="33ea1-248">Deze methode kan worden gebruikt als u de functionaliteit van afzonderlijke gebruikersaccounts, aparte machtigingsniveaus en zelfs verschillende toepassingen.</span><span class="sxs-lookup"><span data-stu-id="33ea1-248">This method can be used to achieve functionality of separate user accounts, separate permission levels, and even completely separate applications.</span></span>

> [!NOTE]
> <span data-ttu-id="33ea1-249">Met de hierboven beschreven benadering voor het configureren van een enkele index voor meerdere tenants van invloed op de relevantie van zoekresultaten.</span><span class="sxs-lookup"><span data-stu-id="33ea1-249">Using the approach described above to configure a single index to serve multiple tenants affects the relevance of search results.</span></span> <span data-ttu-id="33ea1-250">Zoeken relevantie scores zijn berekend in een bereik van de index-niveau, niet op tenantniveau-bereik, dus alle huurders gegevens zijn opgenomen in de relevantie-scores onderliggende statistieken zoals term frequentie.</span><span class="sxs-lookup"><span data-stu-id="33ea1-250">Search relevance scores are computed at an index-level scope, not a tenant-level scope, so all tenants' data is incorporated in the relevance scores' underlying statistics such as term frequency.</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="33ea1-251">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="33ea1-251">Next steps</span></span>
<span data-ttu-id="33ea1-252">Azure Search is een aantrekkelijke keuze voor veel toepassingen [voor meer informatie over de krachtige mogelijkheden van de service](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="33ea1-252">Azure Search is a compelling choice for many applications, [read more about the service's robust capabilities](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="33ea1-253">Overweeg bij het evalueren van de verschillende ontwerppatronen voor multitenant-toepassingen, de [verschillende Prijscategorieën](https://azure.microsoft.com/pricing/details/search/) en de bijbehorende [Servicelimieten](search-limits-quotas-capacity.md) om aan te passen beste Azure Search aanpassen aan de toepassing werkbelastingen en -architecturen van elke grootte.</span><span class="sxs-lookup"><span data-stu-id="33ea1-253">When evaluating the various design patterns for multitenant applications, consider the [various pricing tiers](https://azure.microsoft.com/pricing/details/search/) and the respective [service limits](search-limits-quotas-capacity.md) to best tailor Azure Search to fit application workloads and architectures of all sizes.</span></span>

<span data-ttu-id="33ea1-254">Vragen over Azure Search en multitenant scenario's kunnen worden omgeleid naar azuresearch_contact@microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="33ea1-254">Any questions about Azure Search and multitenant scenarios can be directed to azuresearch_contact@microsoft.com.</span></span>

