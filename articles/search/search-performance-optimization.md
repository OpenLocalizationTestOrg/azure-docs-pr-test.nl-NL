---
title: aaaAzure zoeken aandachtspunten voor prestaties en optimalisatie | Microsoft Docs
description: Azure Search-prestaties afstemmen en optimale schaal configureren
services: search
documentationcenter: 
author: LiamCavanagh
manager: pablocas
editor: 
ms.assetid: 4d3cd864-29d2-4921-be0d-a3f1a819de46
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 05/01/2017
ms.author: liamca
ms.openlocfilehash: 725149ba32773ab6b4c9d4b441424aba78db7c42
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-search-performance-and-optimization-considerations"></a><span data-ttu-id="229d6-103">Azure Search-overwegingen voor prestaties en optimalisatie</span><span class="sxs-lookup"><span data-stu-id="229d6-103">Azure Search performance and optimization considerations</span></span>
<span data-ttu-id="229d6-104">Een goede zoekfunctie is een belangrijke toosuccess voor veel mobiele telefoons en webtoepassingen.</span><span class="sxs-lookup"><span data-stu-id="229d6-104">A great search experience is a key toosuccess for many mobile and web applications.</span></span> <span data-ttu-id="229d6-105">Van vastgoed, tooused auto marktplaatsen tooonline catalogussen, snel zoeken en relevante resultaten heeft invloed op Hallo klantervaring.</span><span class="sxs-lookup"><span data-stu-id="229d6-105">From real estate, tooused car marketplaces tooonline catalogs, fast search and relevant results will affect hello customer experience.</span></span> <span data-ttu-id="229d6-106">Dit document is bedoeld toohelp u aanbevolen procedures voor hoe tooget Hallo optimaal gebruik van Azure Search, met name voor geavanceerde scenario's met vereisten voor schaalbaarheid, ondersteuning van meerdere talen of aangepaste ranking geavanceerde detecteren.</span><span class="sxs-lookup"><span data-stu-id="229d6-106">This document is intended toohelp you discover best practices for how tooget hello most out of Azure Search, especially for advanced scenarios with sophisticated requirements for scalability, multi-language support, or custom ranking.</span></span>  <span data-ttu-id="229d6-107">Bovendien dit document bevat een overzicht van interne werking en bevat informatie over methoden die effectief in echte klant apps werken.</span><span class="sxs-lookup"><span data-stu-id="229d6-107">In addition, this document outlines internals and covers approaches that work effectively in real-world customer apps.</span></span>

## <a name="performance-and-scale-tuning-for-search-services"></a><span data-ttu-id="229d6-108">Prestaties en schaal afstemming voor Search-services</span><span class="sxs-lookup"><span data-stu-id="229d6-108">Performance and scale tuning for Search services</span></span>
<span data-ttu-id="229d6-109">We zijn alle gebruikte toosearch engines zoals Bing en Google en Hallo hoge prestaties bieden.</span><span class="sxs-lookup"><span data-stu-id="229d6-109">We are all used toosearch engines such as Bing and Google and hello high performance they offer.</span></span>  <span data-ttu-id="229d6-110">Wanneer klanten uw zoekopdracht ingeschakeld web of mobiele toepassing gebruikt, wordt ze als gevolg hiervan vergelijkbare prestatiekenmerken verwachten.</span><span class="sxs-lookup"><span data-stu-id="229d6-110">As a result, when customers use your search-enabled web or mobile application, they will expect similar performance characteristics.</span></span>  <span data-ttu-id="229d6-111">Wanneer optimaliseren voor zoekprestaties, is een van de aanbevolen methoden Hallo toofocus op latentie, namelijk Hallo duurt voordat een query toocomplete en retourneren de resultaten.</span><span class="sxs-lookup"><span data-stu-id="229d6-111">When optimizing for search performance, one of hello best approaches is toofocus on latency, which is hello time a query takes toocomplete and return results.</span></span>  <span data-ttu-id="229d6-112">Wanneer voor de zoekopdracht latentie is het belangrijk om te optimaliseren:</span><span class="sxs-lookup"><span data-stu-id="229d6-112">When optimizing for search latency it is important to:</span></span>

1. <span data-ttu-id="229d6-113">Kies een doellatentie (of de maximale hoeveelheid tijd) die een typische zoekaanvraag toocomplete moet uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="229d6-113">Pick a target latency (or maximum amount of time) that a typical search request should take toocomplete.</span></span>
2. <span data-ttu-id="229d6-114">Maken en testen van een echte werkbelasting op basis van uw search-service met een realistische gegevensset toomeasure deze snelheden latentie.</span><span class="sxs-lookup"><span data-stu-id="229d6-114">Create and test a real workload against your search service with a realistic dataset toomeasure these latency rates.</span></span>
3. <span data-ttu-id="229d6-115">Beginnen met een klein aantal query's per seconde (QPS) en doorgaan tooincrease Hallo nummer in Hallo test uitgevoerd totdat Hallo query latentie zakt onder Hallo doellatentie gedefinieerd.</span><span class="sxs-lookup"><span data-stu-id="229d6-115">Start with a low number of queries per second (QPS) and continue tooincrease hello number executed in hello test until hello query latency drops below hello defined target latency.</span></span>  <span data-ttu-id="229d6-116">Dit is een belangrijk benchmark toohelp die u van plan voor schaal bent wanneer uw toepassing in gebruik groeit.</span><span class="sxs-lookup"><span data-stu-id="229d6-116">This is an important benchmark toohelp you plan for scale as your application grows in usage.</span></span>
4. <span data-ttu-id="229d6-117">Waar mogelijk opnieuw gebruiken de HTTP-verbindingen.</span><span class="sxs-lookup"><span data-stu-id="229d6-117">Wherever possible, reuse HTTP connections.</span></span>  <span data-ttu-id="229d6-118">Als u van hello Azure Search .NET SDK gebruikmaakt, betekent dit dat u opnieuw een exemplaar moet worden gebruikt of [SearchIndexClient](https://docs.microsoft.com/dotnet/api/microsoft.azure.search.searchindexclient) instantie en als u Hallo REST-API, moet u een enkele HttpClient hergebruiken.</span><span class="sxs-lookup"><span data-stu-id="229d6-118">If you are using hello Azure Search .NET SDK, this means you should reuse an instance or [SearchIndexClient](https://docs.microsoft.com/dotnet/api/microsoft.azure.search.searchindexclient) instance, and if you are using hello REST API, you should reuse a single HttpClient.</span></span>

<span data-ttu-id="229d6-119">Tijdens het maken van deze test werkbelastingen, er zijn enkele kenmerken van Azure Search tookeep rekening:</span><span class="sxs-lookup"><span data-stu-id="229d6-119">While creating these test workloads, there are some characteristics of Azure Search tookeep in mind:</span></span>

1. <span data-ttu-id="229d6-120">Het is mogelijk toopush zoveel zoeken query in één keer, dat Hallo beschikbare resources in uw Azure Search-service zal worden overbelast.</span><span class="sxs-lookup"><span data-stu-id="229d6-120">It is possible toopush so many search queries at one time, that hello resources available in your Azure Search service will be overwhelmed.</span></span>  <span data-ttu-id="229d6-121">Als dit gebeurt, ziet u HTTP 503-responscodes.</span><span class="sxs-lookup"><span data-stu-id="229d6-121">When this happens, you will see HTTP 503 response codes.</span></span>  <span data-ttu-id="229d6-122">Daarom is aanbevolen toostart met verschillende bereiken van de search-aanvragen toosee Hallo verschillen in latentie tarieven omdat het toevoegen van meer search-aanvragen.</span><span class="sxs-lookup"><span data-stu-id="229d6-122">For this reason, it is best toostart with various ranges of search requests toosee hello differences in latency rates as you add more search requests.</span></span>
2. <span data-ttu-id="229d6-123">Uploaden van inhoud tooAzure zoeken is van invloed op prestaties Hallo en latentie van hello Azure Search-service.</span><span class="sxs-lookup"><span data-stu-id="229d6-123">Uploading of content tooAzure Search will impact hello overall performance and latency of hello Azure Search service.</span></span>  <span data-ttu-id="229d6-124">Als u verwacht toosend gegevens dat terwijl gebruikers zoekopdrachten uitvoert, is het belangrijk tootake deze werkbelasting-account in uw tests uit.</span><span class="sxs-lookup"><span data-stu-id="229d6-124">If you expect toosend data while users are performing searches, it is important tootake this workload into account in your tests.</span></span>
3. <span data-ttu-id="229d6-125">Niet elke zoekopdracht wordt uitgevoerd op Hallo dezelfde prestatieniveaus.</span><span class="sxs-lookup"><span data-stu-id="229d6-125">Not every search query will perform at hello same performance levels.</span></span>  <span data-ttu-id="229d6-126">Bijvoorbeeld, voert een document lookup- of suggestie doorgaans sneller dan een query met een groot aantal facetten en filters.</span><span class="sxs-lookup"><span data-stu-id="229d6-126">For example, a document lookup or search suggestion will typically perform faster than a query with a significant number of facets and filters.</span></span>  <span data-ttu-id="229d6-127">Het is aanbevolen tootake Hallo verschillende query's die u verwacht dat toosee in account bij het bouwen van uw tests uit.</span><span class="sxs-lookup"><span data-stu-id="229d6-127">It is best tootake hello various queries you expect toosee into account when building your tests.</span></span>  
4. <span data-ttu-id="229d6-128">Variant van de search-aanvragen is belangrijk als u voortdurend Hallo uitvoert dezelfde aanvragen zoeken, in cache opslaan van gegevens, start toomake prestaties ziet er beter dan deze mogelijk met een meer uiteenlopende query ingesteld.</span><span class="sxs-lookup"><span data-stu-id="229d6-128">Variation of search requests is important because if you continually execute hello same search requests, caching of data will start toomake performance look better than it might with a more disparate query set.</span></span>

> [!NOTE]
> <span data-ttu-id="229d6-129">[Visual Studio Load testen](https://www.visualstudio.com/docs/test/performance-testing/run-performance-tests-app-before-release) is een goede manier tooperform uw benchmark test omdat u tooexecute HTTP-aanvragen als nodig zou zijn voor het uitvoeren van een query uitgevoerd naar Azure Search en Hiermee garandeert van aanvragen.</span><span class="sxs-lookup"><span data-stu-id="229d6-129">[Visual Studio Load Testing](https://www.visualstudio.com/docs/test/performance-testing/run-performance-tests-app-before-release) is a really good way tooperform your benchmark tests as it allows you tooexecute HTTP requests as you would need for executing queries against Azure Search and enables parallelization of requests.</span></span>
> 
> 

## <a name="scaling-azure-search-for-high-query-rates-and-throttled-requests"></a><span data-ttu-id="229d6-130">Azure Search voor hoge query tarieven schalen en beperkt aanvragen</span><span class="sxs-lookup"><span data-stu-id="229d6-130">Scaling Azure Search for high query rates and throttled requests</span></span>
<span data-ttu-id="229d6-131">Wanneer u te veel aanvragen voor beperkte ontvangt of groter zijn dan de tarieven van de latentie doel van een toegenomen querybelasting, kunt u toodecrease latentie tarieven raadplegen op twee manieren:</span><span class="sxs-lookup"><span data-stu-id="229d6-131">When you are receiving too many throttled requests or exceed your target latency rates from an increased query load, you can look toodecrease latency rates in one of two ways:</span></span>

1. <span data-ttu-id="229d6-132">**Replica's vergroten:** een replica is vergelijkbaar met een kopie van uw gegevens meerdere exemplaren van Azure Search tooload saldo aanvragen tegen Hallo toestaan.</span><span class="sxs-lookup"><span data-stu-id="229d6-132">**Increase Replicas:**  A replica is like a copy of your data allowing Azure Search tooload balance requests against hello multiple copies.</span></span>  <span data-ttu-id="229d6-133">Alle load balancing en replicatie van gegevens over de replica's wordt beheerd door de Azure Search en kunt u Hallo aantal replica's die zijn toegewezen voor uw service op elk gewenst moment wijzigen.</span><span class="sxs-lookup"><span data-stu-id="229d6-133">All load balancing and replication of data across replicas is managed by Azure Search and you can alter hello number of replicas allocated for your service at any time.</span></span>  <span data-ttu-id="229d6-134">U kunt toewijzen van too12 replica's in een standaard-zoekservice en 3 replica's in een Basic search-service.</span><span class="sxs-lookup"><span data-stu-id="229d6-134">You can allocate up too12 replicas in a Standard search service and 3 replicas in a Basic search service.</span></span> <span data-ttu-id="229d6-135">Replica's kunnen worden aangepast vanaf Hallo [Azure-portal](search-create-service-portal.md) of [PowerShell](search-manage-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="229d6-135">Replicas can be adjusted either from hello [Azure portal](search-create-service-portal.md) or [PowerShell](search-manage-powershell.md).</span></span>
2. <span data-ttu-id="229d6-136">**Toename zoeken laag:** Azure Search wordt geleverd een [aantal lagen](https://azure.microsoft.com/pricing/details/search/) en elk van deze lagen biedt verschillende niveaus van prestaties.</span><span class="sxs-lookup"><span data-stu-id="229d6-136">**Increase Search Tier:**  Azure Search comes in a [number of tiers](https://azure.microsoft.com/pricing/details/search/) and each of these tiers offers different levels of performance.</span></span>  <span data-ttu-id="229d6-137">In sommige gevallen mogelijk hebt u zo veel query's die Hallo laag op tarieven voldoende lage latentie, niet opgeven, zelfs wanneer de replica's volledig worden benut uit.  In dit geval kunt u gebruik van een hogere zoeken lagen zoals hello Azure Search S3 laag die is geschikt voor scenario's met een groot aantal documenten en zeer hoge query werkbelastingen Hallo tooconsider.</span><span class="sxs-lookup"><span data-stu-id="229d6-137">In some cases, you may have so many queries that hello tier you are on cannot provide sufficiently low latency rates, even when replicas are maxed out.  In this case, you may want tooconsider leveraging one of hello higher search tiers such as hello Azure Search S3 tier that is well suited for scenarios with large numbers of documents and extremely high query workloads.</span></span>

## <a name="scaling-azure-search-for-slow-individual-queries"></a><span data-ttu-id="229d6-138">Schalen van Azure Search voor langzame afzonderlijke query 's</span><span class="sxs-lookup"><span data-stu-id="229d6-138">Scaling Azure Search for slow individual queries</span></span>
<span data-ttu-id="229d6-139">Er is een andere reden waarom latentie tarieven kunnen traag zijn van één query toocomplete te lang duurt.</span><span class="sxs-lookup"><span data-stu-id="229d6-139">Another reason why latency rates can be slow is from a single query taking too long toocomplete.</span></span>  <span data-ttu-id="229d6-140">In dit geval wordt verbeterd het toevoegen van replica's niet latentie tarieven.</span><span class="sxs-lookup"><span data-stu-id="229d6-140">In this case, adding replicas will not improve latency rates.</span></span>  <span data-ttu-id="229d6-141">Voor deze aanvraag zijn twee opties beschikbaar:</span><span class="sxs-lookup"><span data-stu-id="229d6-141">For this case there are two options available:</span></span>

1. <span data-ttu-id="229d6-142">**Partities verhogen** een partitie is een mechanisme voor het splitsen van uw gegevens over extra bronnen.</span><span class="sxs-lookup"><span data-stu-id="229d6-142">**Increase Partitions** A partition is a mechanism for splitting your data across extra resources.</span></span>  <span data-ttu-id="229d6-143">Om deze reden dat wanneer u een tweede partitie toevoegen uw gegevens opgehaald opgesplitst in twee.</span><span class="sxs-lookup"><span data-stu-id="229d6-143">For this reason, when you add a second partition, your data gets split into two.</span></span>  <span data-ttu-id="229d6-144">Een derde partitie splitst uw index in drie, enzovoort.  Dit heeft ook Hallo effect dat in sommige gevallen trage query's wordt sneller vanwege toohello garandeert van de berekening.</span><span class="sxs-lookup"><span data-stu-id="229d6-144">A third partition splits your index into three, etc.  This also has hello effect that in some cases, slow queries will perform faster due toohello parallelization of computation.</span></span>  <span data-ttu-id="229d6-145">Er zijn enkele voorbeelden van wanneer we dit garandeert extreem met query's met lage selectiviteit query's werken hebben gezien.</span><span class="sxs-lookup"><span data-stu-id="229d6-145">There are a few examples of where we have seen this parallelization work extremely well with queries that have low selectivity queries.</span></span>  <span data-ttu-id="229d6-146">Dit proces bestaat uit de query's die overeenkomen met veel documenten of wanneer facetten moet tooprovide telt via een groot aantal documenten.</span><span class="sxs-lookup"><span data-stu-id="229d6-146">This consists of queries that match many documents or when faceting needs tooprovide counts over large numbers of documents.</span></span>  <span data-ttu-id="229d6-147">Omdat er dat veel van de berekening tooscore Hallo relevantie Hallo documenten of toocount Hallo cijfers documenten, toe te voegen extra partities kunt tooprovide aanvullende berekeningen nodig.</span><span class="sxs-lookup"><span data-stu-id="229d6-147">Since there is a lot of computation needed tooscore hello relevancy of hello documents or toocount hello numbers of documents, adding extra partitions can help tooprovide additional computation.</span></span>  
   
   <span data-ttu-id="229d6-148">Er zijn mag maximaal 12 partities in de standaard-zoekservice en 1 partitie in Hallo basic search-service.</span><span class="sxs-lookup"><span data-stu-id="229d6-148">There can be a maximum of 12 partitions in Standard search service and 1 partition in hello basic search service.</span></span>  <span data-ttu-id="229d6-149">Partities kunnen worden aangepast vanaf Hallo [Azure-portal](search-create-service-portal.md) of [PowerShell](search-manage-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="229d6-149">Partitions can be adjusted either from hello [Azure portal](search-create-service-portal.md) or [PowerShell](search-manage-powershell.md).</span></span>
2. <span data-ttu-id="229d6-150">**Limiet hoge kardinaliteit velden:** een veld van hoge kardinaliteit bestaat uit een geschikt voor facetten of Filterbaar veld dat een groot aantal unieke waarden heeft, en hierdoor neemt veel bronnen toocompute resultaten op.</span><span class="sxs-lookup"><span data-stu-id="229d6-150">**Limit High Cardinality Fields:** A high cardinality field consists of a facetable or filterable field that has a significant number of unique values, and as a result, takes a lot of resources toocompute results over.</span></span>   <span data-ttu-id="229d6-151">Bijvoorbeeld, zouden instellen van een Product-ID of beschrijving veld als geschikt voor facetten/Filterbaar voor hoge kardinaliteit omdat de meeste Hallo-waarden uit het document toodocument uniek zijn.</span><span class="sxs-lookup"><span data-stu-id="229d6-151">For example, setting a Product ID or Description field as facetable/filterable would make for high cardinality because most of hello values from document toodocument are unique.</span></span> <span data-ttu-id="229d6-152">Waar mogelijk het aantal velden van hoge kardinaliteit Hallo beperken.</span><span class="sxs-lookup"><span data-stu-id="229d6-152">Wherever possible, limit hello number of high cardinality fields.</span></span>
3. <span data-ttu-id="229d6-153">**Toename zoeken laag:** omhoog tooa hogere verplaatst Azure Search-laag kan een andere manier tooimprove-prestaties van trage query's zijn.</span><span class="sxs-lookup"><span data-stu-id="229d6-153">**Increase Search Tier:**  Moving up tooa higher Azure Search tier can be another way tooimprove performance of slow queries.</span></span>  <span data-ttu-id="229d6-154">Elke laag hoger biedt ook snellere processor en meer geheugen die een positieve invloed op prestaties van query's hebben kan.</span><span class="sxs-lookup"><span data-stu-id="229d6-154">Each higher tier also provides faster CPU’s and more memory which can have a positive impact on query performance.</span></span>

## <a name="scaling-for-availability"></a><span data-ttu-id="229d6-155">Schaal van beschikbaarheid</span><span class="sxs-lookup"><span data-stu-id="229d6-155">Scaling for availability</span></span>
<span data-ttu-id="229d6-156">Replica's niet alleen te reduceren latentie van query maar kunnen ook de mogelijkheid voor hoge beschikbaarheid.</span><span class="sxs-lookup"><span data-stu-id="229d6-156">Replicas not only help reduce query latency but can also allow for high availability.</span></span>  <span data-ttu-id="229d6-157">Met een enkele replica verwachte periodieke uitvaltijd vanwege tooserver opnieuw wordt opgestart nadat de software-updates of voor andere onderhoud gebeurtenissen die zich voordoen.</span><span class="sxs-lookup"><span data-stu-id="229d6-157">With a single replica, you should expect periodic downtime due tooserver reboots after software updates or for other maintenance events that will occur.</span></span>  <span data-ttu-id="229d6-158">Als gevolg hiervan, is het belangrijk tooconsider als uw toepassing vereist een hoge beschikbaarheid van zoekopdrachten (query's) en schrijfbewerkingen (indexering gebeurtenissen).</span><span class="sxs-lookup"><span data-stu-id="229d6-158">As a result, it is important tooconsider if your application requires high availability of searches (queries) as well as writes (indexing events).</span></span>  <span data-ttu-id="229d6-159">Azure Search biedt SLA-opties op alle Hallo de offerings betaald zoeken Hello volgende kenmerken:</span><span class="sxs-lookup"><span data-stu-id="229d6-159">Azure Search offers SLA options on all hello paid search offerings with hello following attributes:</span></span>

* <span data-ttu-id="229d6-160">2 replica's voor hoge beschikbaarheid van alleen-lezen werkbelastingen (query's)</span><span class="sxs-lookup"><span data-stu-id="229d6-160">2 replicas for high availability of read-only workloads (queries)</span></span>
* <span data-ttu-id="229d6-161">3 of meer replica's voor hoge beschikbaarheid van alleen-lezen-werkbelastingen (query's en indexeren)</span><span class="sxs-lookup"><span data-stu-id="229d6-161">3 or more replicas for high availability of read-write workloads (queries and indexing)</span></span>

<span data-ttu-id="229d6-162">Bezoek voor meer informatie over dit Hallo [Azure Search Service Level Agreement](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="229d6-162">For more details on this, please visit hello [Azure Search Service Level Agreement](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span>

<span data-ttu-id="229d6-163">Omdat replica's zijn kopieën van uw gegevens, met meerdere replica's kunnen Azure Search toodo computer is opgestart en onderhoud op basis van een replica op een tijdstip terwijl de handtekeningsleutels toocontinue toobe uitgevoerd met een query Hallo andere replica's.</span><span class="sxs-lookup"><span data-stu-id="229d6-163">Since replicas are copies of your data, having multiple replicas allows Azure Search toodo machine reboots and maintenance against one replica at a time while allowing queries toocontinue toobe executed against hello other replicas.</span></span>  <span data-ttu-id="229d6-164">Daarom moet u ook tooconsider hoe Hallo-query's die u nu toobe uitgevoerd met één exemplaar van Hallo gegevens minder hebt mogelijk van invloed op deze uitvaltijd.</span><span class="sxs-lookup"><span data-stu-id="229d6-164">For that reason, you will also need tooconsider how this downtime may impact hello queries that now have toobe executed against one less copy of hello data.</span></span>

## <a name="scaling-geo-distributed-workloads-and-provide-geo-redundancy"></a><span data-ttu-id="229d6-165">Geografisch verspreide werkbelastingen schalen en geografische redundantie bieden</span><span class="sxs-lookup"><span data-stu-id="229d6-165">Scaling geo-distributed workloads and provide geo-redundancy</span></span>
<span data-ttu-id="229d6-166">Voor geografisch verspreide werkbelastingen, zult u merken dat gebruikers zich verre Hallo Datacenter waar uw Azure Search-service wordt gehost hogere latentie tarieven hebben.</span><span class="sxs-lookup"><span data-stu-id="229d6-166">For geo-distributed workloads, you will find that users located far from hello data center where your Azure Search service is hosted will have higher latency rates.</span></span>  <span data-ttu-id="229d6-167">Daarom is het vaak belangrijk toohave zoeken op meerdere services in regio's die in dichter nabijheid toothese gebruikers.</span><span class="sxs-lookup"><span data-stu-id="229d6-167">For this reason, it is often important toohave multiple search services in regions that are in closer proximity toothese users.</span></span>  <span data-ttu-id="229d6-168">Azure Search biedt momenteel geen een automatische methode van Azure Search-index geo-replicatie tussen regio's, maar er zijn bepaalde technieken die kunnen worden gebruikt die u kunnen dit proces eenvoudige tooimplement maken en beheren.</span><span class="sxs-lookup"><span data-stu-id="229d6-168">Azure Search does not currently provide an automated method of geo-replicating Azure Search indexes across regions, but there are some techniques that can be used that can make this process simple tooimplement and manage.</span></span> <span data-ttu-id="229d6-169">Deze worden beschreven in Hallo volgende secties.</span><span class="sxs-lookup"><span data-stu-id="229d6-169">These are outlined in hello next few sections.</span></span>

<span data-ttu-id="229d6-170">Hallo doel van een set geografisch verspreide zoekservices is toohave twee of meer indexen die beschikbaar zijn in twee of meer regio's waar een gebruiker worden gerouteerd toohello Azure Search-service biedt de laagste latentie Hallo gezien in dit voorbeeld:</span><span class="sxs-lookup"><span data-stu-id="229d6-170">hello goal of a geo-distributed set of search services is toohave two or more indexes available in two or more regions where a user will be routed toohello Azure Search service that provides hello lowest latency as seen in this example:</span></span>

   ![Cross-tabblad van services per regio][1]

### <a name="keeping-data-in-sync-across-multiple-azure-search-services"></a><span data-ttu-id="229d6-172">Gegevens synchroon te houden op meerdere Azure Search-services</span><span class="sxs-lookup"><span data-stu-id="229d6-172">Keeping data in sync across multiple Azure Search services</span></span>
<span data-ttu-id="229d6-173">Er zijn twee opties voor het bewaren van uw gedistribueerde zoekservices synchroon die bestaan uit een met behulp van Hallo [Azure Search-indexeerfunctie](search-indexer-overview.md) of Hallo Push-API (ook wel aangeduid tooas hello [Azure Search REST API](https://docs.microsoft.com/rest/api/searchservice/)).</span><span class="sxs-lookup"><span data-stu-id="229d6-173">There are two options for keeping your distributed search services in sync which consist of either using hello [Azure Search Indexer](search-indexer-overview.md) or hello Push API (also referred tooas hello [Azure Search REST API](https://docs.microsoft.com/rest/api/searchservice/)).</span></span>  

### <a name="azure-search-indexers"></a><span data-ttu-id="229d6-174">Indexeerfuncties in Azure Search</span><span class="sxs-lookup"><span data-stu-id="229d6-174">Azure Search Indexers</span></span>
<span data-ttu-id="229d6-175">Als u van Azure Search-indexeerfunctie hello gebruikmaakt, importeert u al gegevenswijzigingen van een centrale datastore zoals Azure SQL DB- of Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="229d6-175">If you are using hello Azure Search Indexer, you are already importing data changes from a central datastore such as Azure SQL DB or Azure Cosmos DB.</span></span> <span data-ttu-id="229d6-176">Wanneer u een nieuwe zoekopdracht Service, maakt u gewoon een nieuwe Azure Search-indexeerfunctie voor de service ook maken die punten toothis hetzelfde gegevensarchief.</span><span class="sxs-lookup"><span data-stu-id="229d6-176">When you create a new search Service, you simply also create a new Azure Search Indexer for that service that points toothis same datastore.</span></span> <span data-ttu-id="229d6-177">Op die manier wanneer nieuwe wijzigingen in het gegevensarchief hello, komen ze vervolgens worden geïndexeerd door Hallo verschillende indexeerfuncties.</span><span class="sxs-lookup"><span data-stu-id="229d6-177">That way, whenever new changes come into hello data store, they will then be indexed by hello various Indexers.</span></span>  

<span data-ttu-id="229d6-178">Hier volgt een voorbeeld van hoe die architectuur eruit zou.</span><span class="sxs-lookup"><span data-stu-id="229d6-178">Here is an example of what that architecture would look like.</span></span>

   ![Één gegevensbron met gedistribueerde indexeerfunctie en combinaties van service][2]

### <a name="push-api"></a><span data-ttu-id="229d6-180">Push-API</span><span class="sxs-lookup"><span data-stu-id="229d6-180">Push API</span></span>
<span data-ttu-id="229d6-181">Als u Hallo u Azure Search Push-API te[bijwerken van inhoud in uw Azure Search-index](https://docs.microsoft.com/rest/api/searchservice/update-index), kunt u de verschillende zoekservices synchroon door te pushen wijzigingen tooall search-services wanneer een update vereist is.</span><span class="sxs-lookup"><span data-stu-id="229d6-181">If you are using hello Azure Search Push API too[update content in your Azure Search index](https://docs.microsoft.com/rest/api/searchservice/update-index), you can keep your various search services in sync by pushing changes tooall search services whenever an update is required.</span></span>  <span data-ttu-id="229d6-182">Wanneer dit te doen is het belangrijk toomake ervoor toohandle gevallen waarbij een update tooone search-service mislukt en een of meer updates is mislukt.</span><span class="sxs-lookup"><span data-stu-id="229d6-182">When doing this it is important toomake sure toohandle cases where an update tooone search service fails and one or more updates succeed.</span></span>

## <a name="leveraging-azure-traffic-manager"></a><span data-ttu-id="229d6-183">Gebruik van Azure Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="229d6-183">Leveraging Azure Traffic Manager</span></span>
<span data-ttu-id="229d6-184">[Azure Traffic Manager](../traffic-manager/traffic-manager-overview.md) kunt u tooroute aanvragen toomultiple geo zich websites die vervolgens worden ondersteund door meerdere Azure Search-Services.</span><span class="sxs-lookup"><span data-stu-id="229d6-184">[Azure Traffic Manager](../traffic-manager/traffic-manager-overview.md) allows you tooroute requests toomultiple geo-located websites that are then backed by multiple Azure Search Services.</span></span>  <span data-ttu-id="229d6-185">Een voordeel van Hallo Traffic Manager is het kan probe Azure Search tooensure dat deze beschikbaar is en gebruikers tooalternate search-services in de gebeurtenis Hallo uitvaltijd te routeren.</span><span class="sxs-lookup"><span data-stu-id="229d6-185">One advantage of hello Traffic Manager is that it can probe Azure Search tooensure that it is available and route users tooalternate search services in hello event of downtime.</span></span>  <span data-ttu-id="229d6-186">Bovendien, als u de search-aanvragen via de Azure-websites worden routering, kunt Azure Traffic Manager u tooload saldo gevallen waarbij Hallo Website actief is, maar geen Azure Search.</span><span class="sxs-lookup"><span data-stu-id="229d6-186">In addition, if you are routing search requests through Azure Web Sites, Azure Traffic Manager allows you tooload balance cases where hello Website is up but not Azure Search.</span></span>  <span data-ttu-id="229d6-187">Hier volgt een voorbeeld van welke architectuur Hallo die gebruikmaakt van Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="229d6-187">Here is an example of what hello architecture that leverages Traffic Manager.</span></span>

   ![Cross-tabblad van services per regio, met centrale Traffic Manager][3]

## <a name="monitoring-performance"></a><span data-ttu-id="229d6-189">Prestaties bewaken</span><span class="sxs-lookup"><span data-stu-id="229d6-189">Monitoring performance</span></span>
<span data-ttu-id="229d6-190">Azure Search biedt Hallo mogelijkheid tooanalyze en Hallo de prestaties controleren van de service via [Search Traffic Analytics (STA)](search-traffic-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="229d6-190">Azure Search offers hello ability tooanalyze and monitor hello performance of your service through [Search Traffic Analytics (STA)](search-traffic-analytics.md).</span></span> <span data-ttu-id="229d6-191">Via STA zijn, kunt u eventueel Hallo afzonderlijke zoekopdrachten, evenals een samengevoegde metrische gegevens tooan Azure Storage-account die vervolgens kan worden verwerkt voor analyse of weergegeven in Power BI registreren.</span><span class="sxs-lookup"><span data-stu-id="229d6-191">Through STA, you can optionally log hello individual search operations as well as aggregated metrics tooan Azure Storage account that can then be processed for analysis or visualized in Power BI.</span></span>  <span data-ttu-id="229d6-192">STA metrische gegevens kunt u prestatiestatistieken zoals gemiddelde aantal query's of reactietijden van de query bekijken.</span><span class="sxs-lookup"><span data-stu-id="229d6-192">Using STA metrics, you can review performance statistics such as average number of queries or query response times.</span></span>  <span data-ttu-id="229d6-193">Bovendien kunt Hallo bewerking logboekregistratie u toodrill op gegevens van specifieke zoekopdrachten.</span><span class="sxs-lookup"><span data-stu-id="229d6-193">In addition, hello operation logging allows you toodrill into details of specific search operations.</span></span>

<span data-ttu-id="229d6-194">STA is een waardevol hulpmiddel toounderstand latentie tarieven vanuit het perspectief van die Azure Search.</span><span class="sxs-lookup"><span data-stu-id="229d6-194">STA is a valuable tool toounderstand latency rates from that Azure Search perspective.</span></span>  <span data-ttu-id="229d6-195">Aangezien maatstaven voor prestaties van Hallo query geregistreerd zijn gebaseerd op Hallo tijd een query doet toobe volledig verwerkt in Azure Search (van Hallo tijd van het aangevraagde toowhen wordt verstuurd is), bent u toouse kunnen deze toodetermine als latentieproblemen afkomstig uit hello Azure Search-service zijn zijde of buiten Hallo service, bijvoorbeeld wanneer wordt netwerklatentie.</span><span class="sxs-lookup"><span data-stu-id="229d6-195">Since hello query performance metrics logged are based on hello time a query takes toobe fully processed in Azure Search (from hello time it is requested toowhen it is sent out), you are able toouse this toodetermine if latency issues are from hello Azure Search service side or outside of hello service, such as from network latency.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="229d6-196">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="229d6-196">Next steps</span></span>
<span data-ttu-id="229d6-197">Zie toolearn meer informatie over de prijzen van lagen en limieten voor services voor elk adres Hallo [Servicelimieten in Azure Search](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="229d6-197">toolearn more about hello pricing tiers and services limits for each one, see [Service limits in Azure Search](search-limits-quotas-capacity.md).</span></span>

<span data-ttu-id="229d6-198">Ga naar [capaciteitsplanning](search-capacity-planning.md) toolearn meer over combinaties van partitie en replica.</span><span class="sxs-lookup"><span data-stu-id="229d6-198">Visit [Capacity planning](search-capacity-planning.md) toolearn more about partition and replica combinations.</span></span>

<span data-ttu-id="229d6-199">Bekijk voor meer analyse van prestaties en sommige demonstraties van hoe tooimplement optimalisaties Hallo in dit artikel besproken toosee Hallo video te volgen:</span><span class="sxs-lookup"><span data-stu-id="229d6-199">For more drilldown on performance and toosee some demonstrations of how tooimplement hello optimizations discussed in this article, watch hello following video:</span></span>

> [!VIDEO https://channel9.msdn.com/Events/Microsoft-Azure/AzureCon-2015/ACON319/player]
> 
> 

<!--Image references-->
[1]: ./media/search-performance-optimization/geo-redundancy.png
[2]: ./media/search-performance-optimization/scale-indexers.png
[3]: ./media/search-performance-optimization/geo-search-traffic-mgr.png
