---
title: 'Azure Active Directory B2C: Single-page-apps met behulp van de impliciete stroom | Microsoft Docs'
description: "Informatie over het bouwen van apps van één pagina rechtstreeks via impliciete OAuth 2.0-stroom met Azure Active Directory B2C."
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: a45cc74c-a37e-453f-b08b-af75855e0792
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/06/2017
ms.author: parakhj
ms.openlocfilehash: 44ff168599e9078506e1afdd0f1dc4657ef0964d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/11/2017
---
# <a name="azure-ad-b2c-single-page-app-sign-in-by-using-oauth-20-implicit-flow"></a><span data-ttu-id="652c6-103">Azure AD B2C: Single-page-app aanmelden met behulp van de impliciete OAuth 2.0-stroom</span><span class="sxs-lookup"><span data-stu-id="652c6-103">Azure AD B2C: Single-page app sign-in by using OAuth 2.0 implicit flow</span></span>

> [!NOTE]
> <span data-ttu-id="652c6-104">Deze functie is in preview.</span><span class="sxs-lookup"><span data-stu-id="652c6-104">This feature is in preview.</span></span>
> 

<span data-ttu-id="652c6-105">Veel moderne apps hebben een front-end app met één pagina die voornamelijk in JavaScript is geschreven.</span><span class="sxs-lookup"><span data-stu-id="652c6-105">Many modern apps have a single-page app front end that primarily is written in JavaScript.</span></span> <span data-ttu-id="652c6-106">De app is vaak geschreven met behulp van een framework zoals AngularJS, Ember.js of Durandal.</span><span class="sxs-lookup"><span data-stu-id="652c6-106">Often, the app is written by using a framework like AngularJS, Ember.js, or Durandal.</span></span> <span data-ttu-id="652c6-107">Apps van één pagina en andere JavaScript-apps die worden uitgevoerd in een browser voornamelijk hebt enkele aanvullende uitdagingen voor verificatie:</span><span class="sxs-lookup"><span data-stu-id="652c6-107">Single-page apps and other JavaScript apps that run primarily in a browser have some additional challenges for authentication:</span></span>

* <span data-ttu-id="652c6-108">De beveiligingskenmerken van deze apps zijn aanzienlijk anders dan traditionele webtoepassingen op basis van een server.</span><span class="sxs-lookup"><span data-stu-id="652c6-108">The security characteristics of these apps are significantly different from traditional server-based web applications.</span></span>
* <span data-ttu-id="652c6-109">Veel autorisatieservers en id-providers bieden geen ondersteuning voor cross-origin-resources (CORS) aanvragen om te delen.</span><span class="sxs-lookup"><span data-stu-id="652c6-109">Many authorization servers and identity providers do not support cross-origin resource sharing (CORS) requests.</span></span>
* <span data-ttu-id="652c6-110">Volledige pagina browser omleidingen weg van de app kunnen aanzienlijk Invasief in de gebruikerservaring worden gemaakt.</span><span class="sxs-lookup"><span data-stu-id="652c6-110">Full-page browser redirects away from the app can be significantly invasive to the user experience.</span></span>

<span data-ttu-id="652c6-111">Ter ondersteuning van deze toepassingen, Azure Active Directory B2C (Azure AD B2C) maakt gebruik van de impliciete OAuth 2.0-stroom.</span><span class="sxs-lookup"><span data-stu-id="652c6-111">To support these applications, Azure Active Directory B2C (Azure AD B2C) uses the OAuth 2.0 implicit flow.</span></span> <span data-ttu-id="652c6-112">De OAuth 2.0 autorisatie impliciete grant-stroom wordt beschreven in [sectie 4.2 van de OAuth 2.0-specificatie](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="652c6-112">The OAuth 2.0 authorization implicit grant flow is described in [section 4.2 of the OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="652c6-113">In de impliciete flow, ontvangt de app tokens rechtstreeks vanuit de Azure Active Directory (Azure AD) eindpunt, zonder eventuele exchange server-naar-server te autoriseren.</span><span class="sxs-lookup"><span data-stu-id="652c6-113">In implicit flow, the app receives tokens directly from the Azure Active Directory (Azure AD) authorize endpoint, without any server-to-server exchange.</span></span> <span data-ttu-id="652c6-114">Alle verificatielogica en sessie wordt verwerkt volledig in de JavaScript-client zonder aanvullende paginaomleidingen plaatsen.</span><span class="sxs-lookup"><span data-stu-id="652c6-114">All authentication logic and session handling takes place entirely in the JavaScript client, without additional page redirects.</span></span>

<span data-ttu-id="652c6-115">Azure AD B2C breidt de standaard impliciete OAuth 2.0-stroom aan meer dan een eenvoudige verificatie en autorisatie.</span><span class="sxs-lookup"><span data-stu-id="652c6-115">Azure AD B2C extends the standard OAuth 2.0 implicit flow to more than simple authentication and authorization.</span></span> <span data-ttu-id="652c6-116">Azure AD B2C introduceert de [Beleidsparameter](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="652c6-116">Azure AD B2C introduces the [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="652c6-117">Met de Beleidsparameter, kunt u OAuth 2.0 gebruikerservaringen zoals toevoegen aan uw app registreren, aanmelden en Profielbeheer.</span><span class="sxs-lookup"><span data-stu-id="652c6-117">With the policy parameter, you can use OAuth 2.0 to add user experiences to your app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="652c6-118">In dit artikel wordt beschreven hoe u de impliciete stroom en Azure AD gebruiken voor het implementeren van elk van deze ervaring in uw toepassingen met één pagina.</span><span class="sxs-lookup"><span data-stu-id="652c6-118">In this article, we show you how to use the implicit flow and Azure AD to implement each of these experiences in your single-page applications.</span></span> <span data-ttu-id="652c6-119">Als u aan de slag wilt, Bekijk onze [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) en [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) voorbeelden.</span><span class="sxs-lookup"><span data-stu-id="652c6-119">To help you get started, take a look at our [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) and [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) samples.</span></span>

<span data-ttu-id="652c6-120">In het voorbeeld HTTP-aanvragen in dit artikel, gebruiken we onze voorbeeld Azure AD B2C-directory **fabrikamb2c.onmicrosoft.com**.</span><span class="sxs-lookup"><span data-stu-id="652c6-120">In the example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**.</span></span> <span data-ttu-id="652c6-121">We gebruiken ook onze eigen voorbeeldtoepassing en het beleid.</span><span class="sxs-lookup"><span data-stu-id="652c6-121">We also use our own sample application and policies.</span></span> <span data-ttu-id="652c6-122">U kunt de aanvragen zelf met behulp van deze waarden, of kunt u deze vervangen door uw eigen waarden.</span><span class="sxs-lookup"><span data-stu-id="652c6-122">You can try the requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="652c6-123">Meer informatie over hoe [ophalen van uw eigen Azure AD B2C-directory, toepassingen en beleidsregels](#use-your-own-b2c-tenant).</span><span class="sxs-lookup"><span data-stu-id="652c6-123">Learn how to [get your own Azure AD B2C directory, application, and policies](#use-your-own-b2c-tenant).</span></span>


## <a name="protocol-diagram"></a><span data-ttu-id="652c6-124">Protocol-diagram</span><span class="sxs-lookup"><span data-stu-id="652c6-124">Protocol diagram</span></span>

<span data-ttu-id="652c6-125">De impliciete aanmelden stroom lijkt op de volgende afbeelding.</span><span class="sxs-lookup"><span data-stu-id="652c6-125">The implicit sign-in flow looks something like the following figure.</span></span> <span data-ttu-id="652c6-126">Elke stap wordt in detail later in dit artikel beschreven.</span><span class="sxs-lookup"><span data-stu-id="652c6-126">Each step is described in detail later in the article.</span></span>

![OpenID Connect banen](../media/active-directory-v2-flows/convergence_scenarios_implicit.png)

## <a name="send-authentication-requests"></a><span data-ttu-id="652c6-128">Verificatieaanvragen verzenden</span><span class="sxs-lookup"><span data-stu-id="652c6-128">Send authentication requests</span></span>
<span data-ttu-id="652c6-129">Wanneer uw web-app moet de gebruiker verifiëren en uitvoeren van een beleid, stuurt deze door de gebruiker de `/authorize` eindpunt.</span><span class="sxs-lookup"><span data-stu-id="652c6-129">When your web app needs to authenticate the user and execute a policy, it directs the user to the `/authorize` endpoint.</span></span> <span data-ttu-id="652c6-130">Dit is het interactieve gedeelte van de stroom waarin de gebruiker wordt optreden, afhankelijk van het beleid.</span><span class="sxs-lookup"><span data-stu-id="652c6-130">This is the interactive portion of the flow, where the user takes action, depending on the policy.</span></span> <span data-ttu-id="652c6-131">De gebruiker ontvangt een ID-token van het Azure AD-eindpunt.</span><span class="sxs-lookup"><span data-stu-id="652c6-131">The user gets an ID token from the Azure AD endpoint.</span></span>

<span data-ttu-id="652c6-132">In deze aanvraag is de client geeft aan de `scope` parameter de machtigingen die nodig zijn voor het verkrijgen van de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="652c6-132">In this request, the client indicates in the `scope` parameter the permissions that it needs to acquire from the user.</span></span> <span data-ttu-id="652c6-133">In de `p` parameter, betekent dit het beleid uit te voeren.</span><span class="sxs-lookup"><span data-stu-id="652c6-133">In the `p` parameter, it indicates the policy to execute.</span></span> <span data-ttu-id="652c6-134">De volgende drie voorbeelden (met regeleinden voor leesbaarheid) elk gebruik een ander beleid.</span><span class="sxs-lookup"><span data-stu-id="652c6-134">The following three examples (with line breaks for readability) each use a different policy.</span></span> <span data-ttu-id="652c6-135">Voor een idee krijgen hoe elke aanvraag werkt, probeer de aanvraag in een browser te plakken en het uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="652c6-135">To get a feel for how each request works, try pasting the request into a browser and running it.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="652c6-136">Een beleid voor aanmelden gebruiken</span><span class="sxs-lookup"><span data-stu-id="652c6-136">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="652c6-137">Een registratiebeleid gebruiken</span><span class="sxs-lookup"><span data-stu-id="652c6-137">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="652c6-138">Gebruik van een beleid voor het profiel bewerken</span><span class="sxs-lookup"><span data-stu-id="652c6-138">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="652c6-139">Parameter</span><span class="sxs-lookup"><span data-stu-id="652c6-139">Parameter</span></span> | <span data-ttu-id="652c6-140">Vereist?</span><span class="sxs-lookup"><span data-stu-id="652c6-140">Required?</span></span> | <span data-ttu-id="652c6-141">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="652c6-141">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="652c6-142">client_id</span><span class="sxs-lookup"><span data-stu-id="652c6-142">client_id</span></span> |<span data-ttu-id="652c6-143">Vereist</span><span class="sxs-lookup"><span data-stu-id="652c6-143">Required</span></span> |<span data-ttu-id="652c6-144">De toepassings-ID die is toegewezen aan uw app in de [Azure-portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="652c6-144">The application ID assigned to your app in the [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="652c6-145">response_type</span><span class="sxs-lookup"><span data-stu-id="652c6-145">response_type</span></span> |<span data-ttu-id="652c6-146">Vereist</span><span class="sxs-lookup"><span data-stu-id="652c6-146">Required</span></span> |<span data-ttu-id="652c6-147">Moet bevatten `id_token` voor OpenID Connect aanmelden.</span><span class="sxs-lookup"><span data-stu-id="652c6-147">Must include `id_token` for OpenID Connect sign-in.</span></span> <span data-ttu-id="652c6-148">Kan het ook het antwoordtype bevatten `token`.</span><span class="sxs-lookup"><span data-stu-id="652c6-148">It also can include the response type `token`.</span></span> <span data-ttu-id="652c6-149">Als u `token`, uw app kunt onmiddellijk een toegangstoken van het eindpunt autoriseren ontvangen zonder het maken van een tweede aanvraag naar het geautoriseerde eindpunt.</span><span class="sxs-lookup"><span data-stu-id="652c6-149">If you use `token`, your app can immediately receive an access token from the authorize endpoint, without making a second request to the authorize endpoint.</span></span>  <span data-ttu-id="652c6-150">Als u de `token` antwoordtype, de `scope` parameter moet een scope die welke resource aangeeft voor het uitgeven van het token voor bevatten.</span><span class="sxs-lookup"><span data-stu-id="652c6-150">If you use the `token` response type, the `scope` parameter must contain a scope that indicates which resource to issue the token for.</span></span> |
| <span data-ttu-id="652c6-151">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="652c6-151">redirect_uri</span></span> |<span data-ttu-id="652c6-152">Aanbevolen</span><span class="sxs-lookup"><span data-stu-id="652c6-152">Recommended</span></span> |<span data-ttu-id="652c6-153">De omleidings-URI van uw app, waarbij verificatie reacties kunnen worden verzonden en ontvangen door uw app.</span><span class="sxs-lookup"><span data-stu-id="652c6-153">The redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="652c6-154">Deze moet exact overeenkomen met een van de omleidings-URI's die u hebt geregistreerd in de portal, behalve dat het URL-codering moet worden.</span><span class="sxs-lookup"><span data-stu-id="652c6-154">It must exactly match one of the redirect URIs that you registered in the portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="652c6-155">response_mode</span><span class="sxs-lookup"><span data-stu-id="652c6-155">response_mode</span></span> |<span data-ttu-id="652c6-156">Aanbevolen</span><span class="sxs-lookup"><span data-stu-id="652c6-156">Recommended</span></span> |<span data-ttu-id="652c6-157">Hiermee geeft u de methode om te gebruiken voor het verzenden van het resulterende token terug naar uw app.</span><span class="sxs-lookup"><span data-stu-id="652c6-157">Specifies the method to use to send the resulting token back to your app.</span></span>  <span data-ttu-id="652c6-158">Gebruik voor impliciete stromen `fragment`.</span><span class="sxs-lookup"><span data-stu-id="652c6-158">For implicit flows, use `fragment`.</span></span> |
| <span data-ttu-id="652c6-159">Bereik</span><span class="sxs-lookup"><span data-stu-id="652c6-159">scope</span></span> |<span data-ttu-id="652c6-160">Vereist</span><span class="sxs-lookup"><span data-stu-id="652c6-160">Required</span></span> |<span data-ttu-id="652c6-161">Een door spaties gescheiden lijst met bereiken.</span><span class="sxs-lookup"><span data-stu-id="652c6-161">A space-separated list of scopes.</span></span> <span data-ttu-id="652c6-162">Een waarde op één scope geeft u aan Azure AD zowel de machtigingen die worden aangevraagd.</span><span class="sxs-lookup"><span data-stu-id="652c6-162">A single scope value indicates to Azure AD both of the permissions that are being requested.</span></span> <span data-ttu-id="652c6-163">De `openid` bereik geeft aan dat een machtiging voor het aanmelden van de gebruiker en gegevens over de gebruiker in de vorm van een ID-tokens verkrijgen.</span><span class="sxs-lookup"><span data-stu-id="652c6-163">The `openid` scope indicates a permission to sign in the user and get data about the user in the form of ID tokens.</span></span> <span data-ttu-id="652c6-164">(Bespreken we dit later in het artikel.) De `offline_access` bereik is optioneel voor web-apps.</span><span class="sxs-lookup"><span data-stu-id="652c6-164">(We'll talk about this more later in the article.) The `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="652c6-165">Hiermee wordt aangegeven dat uw app een vernieuwingstoken voor de lange levensduur hebben toegang tot bronnen moet.</span><span class="sxs-lookup"><span data-stu-id="652c6-165">It indicates that your app needs a refresh token for long-lived access to resources.</span></span> |
| <span data-ttu-id="652c6-166">state</span><span class="sxs-lookup"><span data-stu-id="652c6-166">state</span></span> |<span data-ttu-id="652c6-167">Aanbevolen</span><span class="sxs-lookup"><span data-stu-id="652c6-167">Recommended</span></span> |<span data-ttu-id="652c6-168">Een waarde die is opgenomen in de aanvraag die ook in het token antwoord wordt geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="652c6-168">A value included in the request that also is returned in the token response.</span></span> <span data-ttu-id="652c6-169">Het kan zijn dat een tekenreeks van inhoud die u wilt gebruiken.</span><span class="sxs-lookup"><span data-stu-id="652c6-169">It can be a string of any content that you want to use.</span></span> <span data-ttu-id="652c6-170">Normaal gesproken wordt een willekeurig gegenereerde unieke waarde gebruikt, om aanvraagvervalsing op meerdere sites aanvallen te voorkomen.</span><span class="sxs-lookup"><span data-stu-id="652c6-170">Usually, a randomly generated, unique value is used, to prevent cross-site request forgery attacks.</span></span> <span data-ttu-id="652c6-171">De status wordt ook gebruikt voor het coderen van informatie over de status van de gebruiker in de app voordat de verificatieaanvraag heeft plaatsgevonden, zoals de pagina die ze op waren.</span><span class="sxs-lookup"><span data-stu-id="652c6-171">The state is also used to encode information about the user's state in the app before the authentication request occurred, like the page they were on.</span></span> |
| <span data-ttu-id="652c6-172">nonce</span><span class="sxs-lookup"><span data-stu-id="652c6-172">nonce</span></span> |<span data-ttu-id="652c6-173">Vereist</span><span class="sxs-lookup"><span data-stu-id="652c6-173">Required</span></span> |<span data-ttu-id="652c6-174">Een waarde die is opgenomen in de aanvraag (gegenereerd door de app) die is opgenomen in het resulterende token ID als een claim.</span><span class="sxs-lookup"><span data-stu-id="652c6-174">A value included in the request (generated by the app) that is included in the resulting ID token as a claim.</span></span> <span data-ttu-id="652c6-175">De app kunt vervolgens controleren of deze waarde om te beperken token replay-aanvallen.</span><span class="sxs-lookup"><span data-stu-id="652c6-175">The app can then verify this value to mitigate token replay attacks.</span></span> <span data-ttu-id="652c6-176">De waarde is meestal een willekeurige, unieke tekenreeks die kan worden gebruikt voor het identificeren van de oorsprong van de aanvraag.</span><span class="sxs-lookup"><span data-stu-id="652c6-176">Usually, the value is a randomized, unique string that can be used to identify the origin of the request.</span></span> |
| <span data-ttu-id="652c6-177">P</span><span class="sxs-lookup"><span data-stu-id="652c6-177">p</span></span> |<span data-ttu-id="652c6-178">Vereist</span><span class="sxs-lookup"><span data-stu-id="652c6-178">Required</span></span> |<span data-ttu-id="652c6-179">Het beleid uit te voeren.</span><span class="sxs-lookup"><span data-stu-id="652c6-179">The policy to execute.</span></span> <span data-ttu-id="652c6-180">Dit is de naam van een beleid dat is gemaakt in uw Azure AD B2C-tenant.</span><span class="sxs-lookup"><span data-stu-id="652c6-180">It's the name of a policy that is created in your Azure AD B2C tenant.</span></span> <span data-ttu-id="652c6-181">De waarde van de beleid-naam moet beginnen met **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="652c6-181">The policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="652c6-182">Zie voor meer informatie [ingebouwde beleid van Azure AD B2C](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="652c6-182">For more information, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="652c6-183">prompt</span><span class="sxs-lookup"><span data-stu-id="652c6-183">prompt</span></span> |<span data-ttu-id="652c6-184">Optioneel</span><span class="sxs-lookup"><span data-stu-id="652c6-184">Optional</span></span> |<span data-ttu-id="652c6-185">Het type van de interactie van de gebruiker die vereist zijn.</span><span class="sxs-lookup"><span data-stu-id="652c6-185">The type of user interaction that's required.</span></span> <span data-ttu-id="652c6-186">De enige geldige waarde is momenteel `login`.</span><span class="sxs-lookup"><span data-stu-id="652c6-186">Currently, the only valid value is `login`.</span></span> <span data-ttu-id="652c6-187">Dit zorgt ervoor dat gebruikers hun referenties invoeren voor deze aanvraag.</span><span class="sxs-lookup"><span data-stu-id="652c6-187">This forces the user to enter their credentials on that request.</span></span> <span data-ttu-id="652c6-188">Eenmalige aanmelding wordt pas van kracht.</span><span class="sxs-lookup"><span data-stu-id="652c6-188">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="652c6-189">Op dit moment wordt de gebruiker gevraagd om de werkstroom van het beleid te voltooien.</span><span class="sxs-lookup"><span data-stu-id="652c6-189">At this point, the user is asked to complete the policy's workflow.</span></span> <span data-ttu-id="652c6-190">Dit kan de gebruiker invoeren van hun gebruikersnaam en wachtwoord, aanmelden met een sociale identiteit aanmelden voor de map of andere aantal stappen inhouden.</span><span class="sxs-lookup"><span data-stu-id="652c6-190">This might involve the user entering their username and password, signing in with a social identity, signing up for the directory, or any other number of steps.</span></span> <span data-ttu-id="652c6-191">Acties van de gebruiker is afhankelijk van hoe het beleid wordt gedefinieerd.</span><span class="sxs-lookup"><span data-stu-id="652c6-191">User actions depend on how the policy is defined.</span></span>

<span data-ttu-id="652c6-192">Nadat de gebruiker het beleid voltooit, Azure AD retourneert een antwoord aan uw app op de waarde die u gebruikt voor `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="652c6-192">After the user completes the policy, Azure AD returns a response to your app at the value you used for `redirect_uri`.</span></span> <span data-ttu-id="652c6-193">Gebruikt de methode die is opgegeven in de `response_mode` parameter.</span><span class="sxs-lookup"><span data-stu-id="652c6-193">It uses the method specified in the `response_mode` parameter.</span></span> <span data-ttu-id="652c6-194">Het antwoord is exact hetzelfde zijn voor elk van de gebruiker actie scenario's, onafhankelijk van het beleid dat is uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="652c6-194">The response is exactly the same for each of the user action scenarios, independent of the policy that was executed.</span></span>

### <a name="successful-response"></a><span data-ttu-id="652c6-195">Geslaagde reactie</span><span class="sxs-lookup"><span data-stu-id="652c6-195">Successful response</span></span>
<span data-ttu-id="652c6-196">Een geslaagde reactie die gebruikmaakt van `response_mode=fragment` en `response_type=id_token+token` met regeleinden voor de leesbaarheid van de volgende lijkt:</span><span class="sxs-lookup"><span data-stu-id="652c6-196">A successful response that uses `response_mode=fragment` and `response_type=id_token+token` looks like the following, with line breaks for legibility:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&token_type=Bearer
&expires_in=3599
&scope="90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
&id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
```

| <span data-ttu-id="652c6-197">Parameter</span><span class="sxs-lookup"><span data-stu-id="652c6-197">Parameter</span></span> | <span data-ttu-id="652c6-198">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="652c6-198">Description</span></span> |
| --- | --- |
| <span data-ttu-id="652c6-199">access_token</span><span class="sxs-lookup"><span data-stu-id="652c6-199">access_token</span></span> |<span data-ttu-id="652c6-200">Het toegangstoken dat de app wordt aangevraagd.</span><span class="sxs-lookup"><span data-stu-id="652c6-200">The access token that the app requested.</span></span>  <span data-ttu-id="652c6-201">Het toegangstoken moet niet worden gedecodeerd of anders geïnspecteerd.</span><span class="sxs-lookup"><span data-stu-id="652c6-201">The access token should not be decoded or otherwise inspected.</span></span> <span data-ttu-id="652c6-202">Het kan worden behandeld als één tekenreeks.</span><span class="sxs-lookup"><span data-stu-id="652c6-202">It can be treated as an opaque string.</span></span> |
| <span data-ttu-id="652c6-203">token_type</span><span class="sxs-lookup"><span data-stu-id="652c6-203">token_type</span></span> |<span data-ttu-id="652c6-204">De waarde van het type token.</span><span class="sxs-lookup"><span data-stu-id="652c6-204">The token type value.</span></span> <span data-ttu-id="652c6-205">Het enige type dat ondersteuning biedt voor Azure AD is Bearer.</span><span class="sxs-lookup"><span data-stu-id="652c6-205">The only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="652c6-206">expires_in</span><span class="sxs-lookup"><span data-stu-id="652c6-206">expires_in</span></span> |<span data-ttu-id="652c6-207">De lengte van de tijd die het toegangstoken ongeldig (in seconden is).</span><span class="sxs-lookup"><span data-stu-id="652c6-207">The length of time that the access token is valid (in seconds).</span></span> |
| <span data-ttu-id="652c6-208">Bereik</span><span class="sxs-lookup"><span data-stu-id="652c6-208">scope</span></span> |<span data-ttu-id="652c6-209">De bereiken die de token geldig is.</span><span class="sxs-lookup"><span data-stu-id="652c6-209">The scopes that the token is valid for.</span></span> <span data-ttu-id="652c6-210">U kunt bereiken die in cache tokens gebruiken voor later gebruik.</span><span class="sxs-lookup"><span data-stu-id="652c6-210">You also can use scopes to cache tokens for later use.</span></span> |
| <span data-ttu-id="652c6-211">id_token</span><span class="sxs-lookup"><span data-stu-id="652c6-211">id_token</span></span> |<span data-ttu-id="652c6-212">Het token ID die de app wordt aangevraagd.</span><span class="sxs-lookup"><span data-stu-id="652c6-212">The ID token that the app requested.</span></span> <span data-ttu-id="652c6-213">U kunt het token ID gebruiken om te controleren van de identiteit van de gebruiker en beginnen met een sessie met de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="652c6-213">You can use the ID token to verify the user's identity and begin a session with the user.</span></span> <span data-ttu-id="652c6-214">Zie voor meer informatie over het ID-tokens en de inhoud ervan, de [Azure AD B2C tokenverwijzing](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="652c6-214">For more information about ID tokens and their contents, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="652c6-215">state</span><span class="sxs-lookup"><span data-stu-id="652c6-215">state</span></span> |<span data-ttu-id="652c6-216">Als een `state` parameter is opgenomen in de aanvraag dezelfde waarde moet worden weergegeven in het antwoord.</span><span class="sxs-lookup"><span data-stu-id="652c6-216">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="652c6-217">De app moet controleren of de `state` waarden in de aanvraag en antwoord identiek zijn.</span><span class="sxs-lookup"><span data-stu-id="652c6-217">The app should verify that the `state` values in the request and response are identical.</span></span> |

### <a name="error-response"></a><span data-ttu-id="652c6-218">Foutbericht</span><span class="sxs-lookup"><span data-stu-id="652c6-218">Error response</span></span>
<span data-ttu-id="652c6-219">Foutberichten kunnen ook worden verzonden naar de omleidings-URI zodat de app ze op de juiste wijze kan verwerken:</span><span class="sxs-lookup"><span data-stu-id="652c6-219">Error responses also can be sent to the redirect URI so that the app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="652c6-220">Parameter</span><span class="sxs-lookup"><span data-stu-id="652c6-220">Parameter</span></span> | <span data-ttu-id="652c6-221">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="652c6-221">Description</span></span> |
| --- | --- |
| <span data-ttu-id="652c6-222">error</span><span class="sxs-lookup"><span data-stu-id="652c6-222">error</span></span> |<span data-ttu-id="652c6-223">Een code fouttekenreeks gebruikt om te classificeren typen fouten die optreden.</span><span class="sxs-lookup"><span data-stu-id="652c6-223">An error code string used to classify types of errors that occur.</span></span> <span data-ttu-id="652c6-224">Ook kunt u de foutcode voor foutafhandeling.</span><span class="sxs-lookup"><span data-stu-id="652c6-224">You also can use the error code for error handling.</span></span> |
| <span data-ttu-id="652c6-225">error_description</span><span class="sxs-lookup"><span data-stu-id="652c6-225">error_description</span></span> |<span data-ttu-id="652c6-226">Een specifiek foutbericht die u kan helpen de hoofdoorzaak van een verificatiefout identificeren.</span><span class="sxs-lookup"><span data-stu-id="652c6-226">A specific error message that can help you identify the root cause of an authentication error.</span></span> |
| <span data-ttu-id="652c6-227">state</span><span class="sxs-lookup"><span data-stu-id="652c6-227">state</span></span> |<span data-ttu-id="652c6-228">Zie de volledige beschrijving in de voorgaande tabel.</span><span class="sxs-lookup"><span data-stu-id="652c6-228">See the full description in the preceding table.</span></span> <span data-ttu-id="652c6-229">Als een `state` parameter is opgenomen in de aanvraag dezelfde waarde moet worden weergegeven in het antwoord.</span><span class="sxs-lookup"><span data-stu-id="652c6-229">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="652c6-230">De app moet controleren of de `state` waarden in de aanvraag en antwoord identiek zijn.</span><span class="sxs-lookup"><span data-stu-id="652c6-230">The app should verify that the `state` values in the request and response are identical.</span></span>|

## <a name="validate-the-id-token"></a><span data-ttu-id="652c6-231">Het token ID valideren</span><span class="sxs-lookup"><span data-stu-id="652c6-231">Validate the ID token</span></span>
<span data-ttu-id="652c6-232">Ontvangen van een token ID is niet voldoende om de gebruiker te verifiëren.</span><span class="sxs-lookup"><span data-stu-id="652c6-232">Receiving an ID token is not enough to authenticate the user.</span></span> <span data-ttu-id="652c6-233">U moet de handtekening van het token ID valideren en controleer of de claims in het token per vereisten van uw app.</span><span class="sxs-lookup"><span data-stu-id="652c6-233">You must validate the ID token's signature, and verify the claims in the token per your app's requirements.</span></span> <span data-ttu-id="652c6-234">Maakt gebruik van Azure AD B2C [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) en cryptografie met openbare sleutels voor het ondertekenen van tokens en controleren of ze geldig zijn.</span><span class="sxs-lookup"><span data-stu-id="652c6-234">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography to sign tokens and verify that they are valid.</span></span>

<span data-ttu-id="652c6-235">Veel open source-bibliotheken zijn beschikbaar voor het valideren van JWTs, afhankelijk van de taal die u wilt gebruiken.</span><span class="sxs-lookup"><span data-stu-id="652c6-235">Many open-source libraries are available for validating JWTs, depending on the language you prefer to use.</span></span> <span data-ttu-id="652c6-236">U kunt verkennen beschikbaar open source-bibliotheken in plaats van uw eigen validatielogica implementeren.</span><span class="sxs-lookup"><span data-stu-id="652c6-236">Consider exploring available open-source libraries rather than implementing your own validation logic.</span></span> <span data-ttu-id="652c6-237">U kunt de informatie in dit artikel kunt u informatie over het correct gebruik die bibliotheken.</span><span class="sxs-lookup"><span data-stu-id="652c6-237">You can use the information in this article to help you learn how to properly use those libraries.</span></span>

<span data-ttu-id="652c6-238">Azure AD B2C heeft een eindpunt met OpenID Connect metagegevens.</span><span class="sxs-lookup"><span data-stu-id="652c6-238">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="652c6-239">Een app kunt gebruiken van het eindpunt voor het ophalen van informatie over Azure AD B2C tijdens runtime.</span><span class="sxs-lookup"><span data-stu-id="652c6-239">An app can use the endpoint to fetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="652c6-240">Deze informatie omvat eindpunten, inhoud van tokens en token-ondertekening sleutels.</span><span class="sxs-lookup"><span data-stu-id="652c6-240">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="652c6-241">Er is een JSON-metagegevens-document voor elk beleid in uw Azure AD B2C-tenant.</span><span class="sxs-lookup"><span data-stu-id="652c6-241">There is a JSON metadata document for each policy in your Azure AD B2C tenant.</span></span> <span data-ttu-id="652c6-242">Bijvoorbeeld, bevindt het metagegevensdocument voor het beleid b2c_1_sign_in in de tenant fabrikamb2c.onmicrosoft.com zich op:</span><span class="sxs-lookup"><span data-stu-id="652c6-242">For example, the metadata document for the b2c_1_sign_in policy in the fabrikamb2c.onmicrosoft.com tenant is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="652c6-243">Een van de eigenschappen van dit document configuratie is de `jwks_uri`.</span><span class="sxs-lookup"><span data-stu-id="652c6-243">One of the properties of this configuration document is the `jwks_uri`.</span></span> <span data-ttu-id="652c6-244">De waarde voor hetzelfde beleid zou zijn:</span><span class="sxs-lookup"><span data-stu-id="652c6-244">The value for the same policy would be:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`

<span data-ttu-id="652c6-245">Om te bepalen welk beleid is gebruikt voor het ondertekenen van een token ID (en waar u de metagegevens van ophalen), hebt u twee opties.</span><span class="sxs-lookup"><span data-stu-id="652c6-245">To determine which policy was used to sign an ID token (and where to fetch the metadata from), you have two options.</span></span> <span data-ttu-id="652c6-246">Eerst de naam van het beleid is opgenomen in de `acr` claim in `id_token`.</span><span class="sxs-lookup"><span data-stu-id="652c6-246">First, the policy name is included in the `acr` claim in `id_token`.</span></span> <span data-ttu-id="652c6-247">Zie voor informatie over het parseren van de claims van een token ID, de [Azure AD B2C tokenverwijzing](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="652c6-247">For information about how to parse the claims from an ID token, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="652c6-248">De andere optie is voor het coderen van het beleid in de waarde van de `state` parameter wanneer u de aanvraag verzendt.</span><span class="sxs-lookup"><span data-stu-id="652c6-248">Your other option is to encode the policy in the value of the `state` parameter when you issue the request.</span></span> <span data-ttu-id="652c6-249">Vervolgens worden gedecodeerd de `state` parameter om te bepalen welk beleid is gebruikt.</span><span class="sxs-lookup"><span data-stu-id="652c6-249">Then, decode the `state` parameter to determine which policy was used.</span></span> <span data-ttu-id="652c6-250">Beide methoden is geldig.</span><span class="sxs-lookup"><span data-stu-id="652c6-250">Either method is valid.</span></span>

<span data-ttu-id="652c6-251">Nadat u het metagegevensdocument van het eindpunt van de metagegevens OpenID Connect hebt aangeschaft, kunt u de openbare sleutels van RSA-256 (dat zich op dit eindpunt) om de handtekening van het token ID te valideren.</span><span class="sxs-lookup"><span data-stu-id="652c6-251">After you've acquired the metadata document from the OpenID Connect metadata endpoint, you can use the RSA-256 public keys (located at this endpoint) to validate the signature of the ID token.</span></span> <span data-ttu-id="652c6-252">Er is mogelijk meerdere sleutels die worden vermeld op dit eindpunt op elk moment kunt herkennen aan een `kid`.</span><span class="sxs-lookup"><span data-stu-id="652c6-252">There might be multiple keys listed at this endpoint at any given time, each identified by a `kid`.</span></span> <span data-ttu-id="652c6-253">De koptekst van `id_token` bevat ook een `kid` claim.</span><span class="sxs-lookup"><span data-stu-id="652c6-253">The header of `id_token` also contains a `kid` claim.</span></span> <span data-ttu-id="652c6-254">Hiermee wordt aangegeven welke van deze sleutels is gebruikt voor het ondertekenen van het token ID.</span><span class="sxs-lookup"><span data-stu-id="652c6-254">It indicates which of these keys was used to sign the ID token.</span></span> <span data-ttu-id="652c6-255">Voor meer informatie, waaronder informatie over [valideren van tokens](active-directory-b2c-reference-tokens.md#token-validation), Zie de [Azure AD B2C tokenverwijzing](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="652c6-255">For more information, including learning about [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>
<!--TODO: Improve the information on this-->

<span data-ttu-id="652c6-256">Valideren van de handtekening van het token ID vereisen meerdere claims verificatie.</span><span class="sxs-lookup"><span data-stu-id="652c6-256">After you validate the signature of the ID token, several claims require verification.</span></span> <span data-ttu-id="652c6-257">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="652c6-257">For example:</span></span>

* <span data-ttu-id="652c6-258">Valideer de `nonce` claim om token replayaanvallen te voorkomen.</span><span class="sxs-lookup"><span data-stu-id="652c6-258">Validate the `nonce` claim to prevent token replay attacks.</span></span> <span data-ttu-id="652c6-259">De waarde moet zijn opgegeven in de aanvraag aanmelden.</span><span class="sxs-lookup"><span data-stu-id="652c6-259">Its value should be what you specified in the sign-in request.</span></span>
* <span data-ttu-id="652c6-260">Valideer de `aud` claim om ervoor te zorgen dat het ID-token is uitgegeven voor uw app.</span><span class="sxs-lookup"><span data-stu-id="652c6-260">Validate the `aud` claim to ensure that the ID token was issued for your app.</span></span> <span data-ttu-id="652c6-261">De waarde moet de toepassings-ID van uw app.</span><span class="sxs-lookup"><span data-stu-id="652c6-261">Its value should be the application ID of your app.</span></span>
* <span data-ttu-id="652c6-262">Valideer de `iat` en `exp` claims om ervoor te zorgen dat het token ID niet is verlopen.</span><span class="sxs-lookup"><span data-stu-id="652c6-262">Validate the `iat` and `exp` claims to ensure that the ID token has not expired.</span></span>

<span data-ttu-id="652c6-263">Verschillende meer validaties die moeten worden uitgevoerd zijn beschreven in de [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="652c6-263">Several more validations that you should perform are described in detail in the [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> <span data-ttu-id="652c6-264">U kunt ook aanvullende verklaren, afhankelijk van uw scenario.</span><span class="sxs-lookup"><span data-stu-id="652c6-264">You might also want to validate additional claims, depending on your scenario.</span></span> <span data-ttu-id="652c6-265">Sommige algemene validaties zijn onder andere:</span><span class="sxs-lookup"><span data-stu-id="652c6-265">Some common validations include:</span></span>

* <span data-ttu-id="652c6-266">Ervoor te zorgen dat de gebruiker of organisatie heeft aangemeld voor de app.</span><span class="sxs-lookup"><span data-stu-id="652c6-266">Ensuring that the user or organization has signed up for the app.</span></span>
* <span data-ttu-id="652c6-267">Ervoor te zorgen dat de gebruiker heeft de juiste autorisatie en bevoegdheden.</span><span class="sxs-lookup"><span data-stu-id="652c6-267">Ensuring that the user has proper authorization and privileges.</span></span>
* <span data-ttu-id="652c6-268">Ervoor te zorgen dat een bepaalde sterkte van verificatie heeft plaatsgevonden, zoals zoals met behulp van Azure multi-factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="652c6-268">Ensuring that a certain strength of authentication has occurred, such as by using Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="652c6-269">Zie voor meer informatie over de claims in een token ID, de [Azure AD B2C tokenverwijzing](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="652c6-269">For more information about the claims in an ID token, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="652c6-270">Nadat u hebt het token ID volledig gevalideerd, kunt u beginnen met een sessie met de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="652c6-270">After you have completely validated the ID token, you can begin a session with the user.</span></span> <span data-ttu-id="652c6-271">Gebruik in uw app de claims in het token ID verkrijgen van informatie over de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="652c6-271">In your app, use the claims in the ID token to obtain information about the user.</span></span> <span data-ttu-id="652c6-272">Deze informatie kan worden gebruikt voor weergave, registreert en autorisatie.</span><span class="sxs-lookup"><span data-stu-id="652c6-272">This information can be used for display, records, authorization, and so on.</span></span>

## <a name="get-access-tokens"></a><span data-ttu-id="652c6-273">Toegangstokens ophalen</span><span class="sxs-lookup"><span data-stu-id="652c6-273">Get access tokens</span></span>
<span data-ttu-id="652c6-274">Als het enige dat uw web-apps moet doen uitvoeren beleidsregels, kunt u de volgende secties overslaan.</span><span class="sxs-lookup"><span data-stu-id="652c6-274">If the only thing your web apps needs to do is execute policies, you can skip the next few sections.</span></span> <span data-ttu-id="652c6-275">De informatie in de volgende secties zijn alleen van toepassing op web-apps die moeten geverifieerde aanroepen maken naar een web-API en die worden beveiligd door Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="652c6-275">The information in the following sections are applicable only to web apps that need to make authenticated calls to a web API, and which are protected by Azure AD B2C.</span></span>

<span data-ttu-id="652c6-276">Nu dat u hebt de gebruiker aangemeld bij uw app met één pagina, kunt u toegangstokens ophalen voor het aanroepen van web API's die zijn beveiligd door Azure AD.</span><span class="sxs-lookup"><span data-stu-id="652c6-276">Now that you've signed the user in to your single-page app, you can get access tokens for calling web APIs that are secured by Azure AD.</span></span> <span data-ttu-id="652c6-277">Zelfs als u al een token hebt ontvangen met behulp van de `token` antwoordtype, kunt u deze methode aan te schaffen tokens voor aanvullende bronnen zonder het omleiden van de gebruiker zich opnieuw aanmeldt.</span><span class="sxs-lookup"><span data-stu-id="652c6-277">Even if you have already received a token by using the `token` response type, you can use this method to acquire tokens for additional resources without redirecting the user to sign in again.</span></span>

<span data-ttu-id="652c6-278">In een typische web-app-stroom u doet dit door een aanvraag naar de `/token` eindpunt.</span><span class="sxs-lookup"><span data-stu-id="652c6-278">In a typical web app flow, you would do this by making a request to the `/token` endpoint.</span></span>  <span data-ttu-id="652c6-279">Echter, het eindpunt ondersteunt geen CORS-aanvragen, zodat het AJAX-aanroepen ophalen en vernieuwen van tokens kan niet worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="652c6-279">However, the endpoint does not support CORS requests, so making AJAX calls to get and refresh tokens is not an option.</span></span> <span data-ttu-id="652c6-280">In plaats daarvan kunt u de impliciete stroom in een verborgen iframe-element van HTML-nieuwe tokens krijgen voor andere web-API's.</span><span class="sxs-lookup"><span data-stu-id="652c6-280">Instead, you can use the implicit flow in a hidden HTML iframe element to get new tokens for other web APIs.</span></span> <span data-ttu-id="652c6-281">Hier volgt een voorbeeld: met regeleinden beter leesbaar:</span><span class="sxs-lookup"><span data-stu-id="652c6-281">Here's an example, with line breaks for legibility:</span></span>

```

https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
&response_mode=fragment
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&prompt=none
&domain_hint=organizations
&login_hint=myuser@mycompany.com
&p=b2c_1_sign_in
```

| <span data-ttu-id="652c6-282">Parameter</span><span class="sxs-lookup"><span data-stu-id="652c6-282">Parameter</span></span> | <span data-ttu-id="652c6-283">Vereist?</span><span class="sxs-lookup"><span data-stu-id="652c6-283">Required?</span></span> | <span data-ttu-id="652c6-284">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="652c6-284">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="652c6-285">client_id</span><span class="sxs-lookup"><span data-stu-id="652c6-285">client_id</span></span> |<span data-ttu-id="652c6-286">Vereist</span><span class="sxs-lookup"><span data-stu-id="652c6-286">Required</span></span> |<span data-ttu-id="652c6-287">De toepassings-ID die is toegewezen aan uw app in de [Azure-portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="652c6-287">The application ID assigned to your app in the [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="652c6-288">response_type</span><span class="sxs-lookup"><span data-stu-id="652c6-288">response_type</span></span> |<span data-ttu-id="652c6-289">Vereist</span><span class="sxs-lookup"><span data-stu-id="652c6-289">Required</span></span> |<span data-ttu-id="652c6-290">Moet bevatten `id_token` voor OpenID Connect aanmelden.</span><span class="sxs-lookup"><span data-stu-id="652c6-290">Must include `id_token` for OpenID Connect sign-in.</span></span>  <span data-ttu-id="652c6-291">Het kan ook betekenen dat het antwoordtype `token`.</span><span class="sxs-lookup"><span data-stu-id="652c6-291">It might also include the response type `token`.</span></span> <span data-ttu-id="652c6-292">Als u `token` hier uw app kan onmiddellijk ontvangen een toegangstoken van het eindpunt autoriseren, zonder dat een tweede aanvraag naar het geautoriseerde eindpunt.</span><span class="sxs-lookup"><span data-stu-id="652c6-292">If you use `token` here, your app can immediately receive an access token from the authorize endpoint, without making a second request to the authorize endpoint.</span></span> <span data-ttu-id="652c6-293">Als u de `token` antwoordtype, de `scope` parameter moet een scope die welke resource aangeeft voor het uitgeven van het token voor bevatten.</span><span class="sxs-lookup"><span data-stu-id="652c6-293">If you use the `token` response type, the `scope` parameter must contain a scope that indicates which resource to issue the token for.</span></span> |
| <span data-ttu-id="652c6-294">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="652c6-294">redirect_uri</span></span> |<span data-ttu-id="652c6-295">Aanbevolen</span><span class="sxs-lookup"><span data-stu-id="652c6-295">Recommended</span></span> |<span data-ttu-id="652c6-296">De omleidings-URI van uw app, waarbij verificatie reacties kunnen worden verzonden en ontvangen door uw app.</span><span class="sxs-lookup"><span data-stu-id="652c6-296">The redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="652c6-297">Deze moet exact overeenkomen met een van de omleidings-URI's die u in de portal hebt geregistreerd, behalve dat het URL-codering moet worden.</span><span class="sxs-lookup"><span data-stu-id="652c6-297">It must exactly match one of the redirect URIs you registered in the portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="652c6-298">Bereik</span><span class="sxs-lookup"><span data-stu-id="652c6-298">scope</span></span> |<span data-ttu-id="652c6-299">Vereist</span><span class="sxs-lookup"><span data-stu-id="652c6-299">Required</span></span> |<span data-ttu-id="652c6-300">Een door spaties gescheiden lijst met bereiken.</span><span class="sxs-lookup"><span data-stu-id="652c6-300">A space-separated list of scopes.</span></span>  <span data-ttu-id="652c6-301">Voor het ophalen van tokens, zijn alle scopes die u nodig voor de bedoelde bron hebt.</span><span class="sxs-lookup"><span data-stu-id="652c6-301">For getting tokens, include all scopes that you require for the intended resource.</span></span> |
| <span data-ttu-id="652c6-302">response_mode</span><span class="sxs-lookup"><span data-stu-id="652c6-302">response_mode</span></span> |<span data-ttu-id="652c6-303">Aanbevolen</span><span class="sxs-lookup"><span data-stu-id="652c6-303">Recommended</span></span> |<span data-ttu-id="652c6-304">Hiermee geeft u de methode die wordt gebruikt voor het verzenden van het resulterende token terug naar uw app.</span><span class="sxs-lookup"><span data-stu-id="652c6-304">Specifies the method that is used to send the resulting token back to your app.</span></span>  <span data-ttu-id="652c6-305">Kan `query`, `form_post`, of `fragment`.</span><span class="sxs-lookup"><span data-stu-id="652c6-305">Can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="652c6-306">state</span><span class="sxs-lookup"><span data-stu-id="652c6-306">state</span></span> |<span data-ttu-id="652c6-307">Aanbevolen</span><span class="sxs-lookup"><span data-stu-id="652c6-307">Recommended</span></span> |<span data-ttu-id="652c6-308">Een waarde die is opgenomen in de aanvraag die in het token antwoord wordt geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="652c6-308">A value included in the request that is returned in the token response.</span></span>  <span data-ttu-id="652c6-309">Het kan zijn dat een tekenreeks van inhoud die u wilt gebruiken.</span><span class="sxs-lookup"><span data-stu-id="652c6-309">It can be a string of any content that you want to use.</span></span>  <span data-ttu-id="652c6-310">Normaal gesproken wordt een willekeurig gegenereerde unieke waarde gebruikt, om aanvraagvervalsing op meerdere sites aanvallen te voorkomen.</span><span class="sxs-lookup"><span data-stu-id="652c6-310">Usually, a randomly generated, unique value is used, to prevent cross-site request forgery attacks.</span></span>  <span data-ttu-id="652c6-311">De status wordt ook gebruikt voor het coderen van informatie over de status van de gebruiker in de app voordat de verificatieaanvraag heeft plaatsgevonden.</span><span class="sxs-lookup"><span data-stu-id="652c6-311">The state also is used to encode information about the user's state in the app before the authentication request occurred.</span></span> <span data-ttu-id="652c6-312">De pagina of de weergave moet de gebruiker is bijvoorbeeld op.</span><span class="sxs-lookup"><span data-stu-id="652c6-312">For example, the page or view the user was on.</span></span> |
| <span data-ttu-id="652c6-313">nonce</span><span class="sxs-lookup"><span data-stu-id="652c6-313">nonce</span></span> |<span data-ttu-id="652c6-314">Vereist</span><span class="sxs-lookup"><span data-stu-id="652c6-314">Required</span></span> |<span data-ttu-id="652c6-315">Een waarde die is opgenomen in de aanvraag, die worden gegenereerd door de app, die is opgenomen in het resulterende token ID als een claim.</span><span class="sxs-lookup"><span data-stu-id="652c6-315">A value included in the request, generated by the app, that is included in the resulting ID token as a claim.</span></span>  <span data-ttu-id="652c6-316">De app kunt vervolgens controleren of deze waarde om te beperken token replay-aanvallen.</span><span class="sxs-lookup"><span data-stu-id="652c6-316">The app can then verify this value to mitigate token replay attacks.</span></span> <span data-ttu-id="652c6-317">De waarde is meestal een willekeurige, unieke tekenreeks die aangeeft van de oorsprong van de aanvraag.</span><span class="sxs-lookup"><span data-stu-id="652c6-317">Usually, the value is a randomized, unique string that identifies the origin of the request.</span></span> |
| <span data-ttu-id="652c6-318">prompt</span><span class="sxs-lookup"><span data-stu-id="652c6-318">prompt</span></span> |<span data-ttu-id="652c6-319">Vereist</span><span class="sxs-lookup"><span data-stu-id="652c6-319">Required</span></span> |<span data-ttu-id="652c6-320">Gebruiken om te vernieuwen en tokens verkrijgen in een verborgen iframe, `prompt=none` om ervoor te zorgen dat de iframe niet op de aanmeldingspagina hangen komt en wordt onmiddellijk geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="652c6-320">To refresh and get tokens in a hidden iframe, use `prompt=none` to ensure that the iframe does not get stuck on the sign-in page, and returns immediately.</span></span> |
| <span data-ttu-id="652c6-321">login_hint</span><span class="sxs-lookup"><span data-stu-id="652c6-321">login_hint</span></span> |<span data-ttu-id="652c6-322">Vereist</span><span class="sxs-lookup"><span data-stu-id="652c6-322">Required</span></span> |<span data-ttu-id="652c6-323">Als u wilt vernieuwen en tokens verkrijgen in een verborgen iframe, de gebruikersnaam van de gebruiker opnemen in deze hint onderscheid maken tussen meerdere sessies van de gebruiker mogelijk op een bepaald moment.</span><span class="sxs-lookup"><span data-stu-id="652c6-323">To refresh and get tokens in a hidden iframe, include the username of the user in this hint to distinguish between multiple sessions the user might have at a given  time.</span></span> <span data-ttu-id="652c6-324">U kunt de gebruikersnaam extraheren uit een eerdere aanmelden met behulp van de `preferred_username` claim.</span><span class="sxs-lookup"><span data-stu-id="652c6-324">You can extract the username from an earlier sign-in by using the `preferred_username` claim.</span></span> |
| <span data-ttu-id="652c6-325">domain_hint</span><span class="sxs-lookup"><span data-stu-id="652c6-325">domain_hint</span></span> |<span data-ttu-id="652c6-326">Vereist</span><span class="sxs-lookup"><span data-stu-id="652c6-326">Required</span></span> |<span data-ttu-id="652c6-327">Kan `consumers` of `organizations`.</span><span class="sxs-lookup"><span data-stu-id="652c6-327">Can be `consumers` or `organizations`.</span></span>  <span data-ttu-id="652c6-328">Voor het vernieuwen en ophalen van tokens in een verborgen iframe, moet u opnemen de `domain_hint` waarde in de aanvraag.</span><span class="sxs-lookup"><span data-stu-id="652c6-328">For refreshing and getting tokens in a hidden iframe, you must include the `domain_hint` value in the request.</span></span>  <span data-ttu-id="652c6-329">Pak de `tid` claim uit het token ID van een eerdere aanmelden om te bepalen welke waarde om te gebruiken.</span><span class="sxs-lookup"><span data-stu-id="652c6-329">Extract the `tid` claim from the ID token of an earlier sign-in to determine which value to use.</span></span>  <span data-ttu-id="652c6-330">Als de `tid` claim waarde is `9188040d-6c67-4c5b-b112-36a304b66dad`, gebruik `domain_hint=consumers`.</span><span class="sxs-lookup"><span data-stu-id="652c6-330">If the `tid` claim value is `9188040d-6c67-4c5b-b112-36a304b66dad`,  use `domain_hint=consumers`.</span></span>  <span data-ttu-id="652c6-331">Gebruik anders `domain_hint=organizations`.</span><span class="sxs-lookup"><span data-stu-id="652c6-331">Otherwise, use `domain_hint=organizations`.</span></span> |

<span data-ttu-id="652c6-332">Door in te stellen de `prompt=none` parameter, deze aanvraag ofwel slaagt of mislukt onmiddellijk en retourneert aan uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="652c6-332">By setting the `prompt=none` parameter, this request either succeeds or fails immediately, and returns to your application.</span></span>  <span data-ttu-id="652c6-333">Een geslaagde reactie wordt verzonden naar uw app op de aangegeven omleidings-URI, met behulp van de methode die is opgegeven in de `response_mode` parameter.</span><span class="sxs-lookup"><span data-stu-id="652c6-333">A successful response is sent to your app at the indicated redirect URI, by using the method specified in the `response_mode` parameter.</span></span>

### <a name="successful-response"></a><span data-ttu-id="652c6-334">Geslaagde reactie</span><span class="sxs-lookup"><span data-stu-id="652c6-334">Successful response</span></span>
<span data-ttu-id="652c6-335">Een geslaagde reactie met behulp van `response_mode=fragment` ziet er als volgt:</span><span class="sxs-lookup"><span data-stu-id="652c6-335">A successful response by using `response_mode=fragment` looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
&token_type=Bearer
&expires_in=3599
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
```

| <span data-ttu-id="652c6-336">Parameter</span><span class="sxs-lookup"><span data-stu-id="652c6-336">Parameter</span></span> | <span data-ttu-id="652c6-337">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="652c6-337">Description</span></span> |
| --- | --- |
| <span data-ttu-id="652c6-338">access_token</span><span class="sxs-lookup"><span data-stu-id="652c6-338">access_token</span></span> |<span data-ttu-id="652c6-339">Het token dat de app wordt aangevraagd.</span><span class="sxs-lookup"><span data-stu-id="652c6-339">The token that the app requested.</span></span> |
| <span data-ttu-id="652c6-340">token_type</span><span class="sxs-lookup"><span data-stu-id="652c6-340">token_type</span></span> |<span data-ttu-id="652c6-341">Het type token wordt altijd Bearer zijn.</span><span class="sxs-lookup"><span data-stu-id="652c6-341">The token type will always be Bearer.</span></span> |
| <span data-ttu-id="652c6-342">state</span><span class="sxs-lookup"><span data-stu-id="652c6-342">state</span></span> |<span data-ttu-id="652c6-343">Als een `state` parameter is opgenomen in de aanvraag dezelfde waarde moet worden weergegeven in het antwoord.</span><span class="sxs-lookup"><span data-stu-id="652c6-343">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="652c6-344">De app moet controleren of de `state` waarden in de aanvraag en antwoord identiek zijn.</span><span class="sxs-lookup"><span data-stu-id="652c6-344">The app should verify that the `state` values in the request and response are identical.</span></span> |
| <span data-ttu-id="652c6-345">expires_in</span><span class="sxs-lookup"><span data-stu-id="652c6-345">expires_in</span></span> |<span data-ttu-id="652c6-346">Hoe lang het toegangstoken is ongeldig (in seconden).</span><span class="sxs-lookup"><span data-stu-id="652c6-346">How long the access token is valid (in seconds).</span></span> |
| <span data-ttu-id="652c6-347">Bereik</span><span class="sxs-lookup"><span data-stu-id="652c6-347">scope</span></span> |<span data-ttu-id="652c6-348">De bereiken die het toegangstoken is geldig voor.</span><span class="sxs-lookup"><span data-stu-id="652c6-348">The scopes that the access token is valid for.</span></span> |

### <a name="error-response"></a><span data-ttu-id="652c6-349">Foutbericht</span><span class="sxs-lookup"><span data-stu-id="652c6-349">Error response</span></span>
<span data-ttu-id="652c6-350">Foutberichten kunnen ook worden verzonden naar de omleidings-URI zodat de app ze op de juiste wijze kan verwerken.</span><span class="sxs-lookup"><span data-stu-id="652c6-350">Error responses also can be sent to the redirect URI so that the app can handle them appropriately.</span></span>  <span data-ttu-id="652c6-351">Voor `prompt=none`, een verwachte fout ziet er als volgt:</span><span class="sxs-lookup"><span data-stu-id="652c6-351">For `prompt=none`, an expected error looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=user_authentication_required
&error_description=the+request+could+not+be+completed+silently
```

| <span data-ttu-id="652c6-352">Parameter</span><span class="sxs-lookup"><span data-stu-id="652c6-352">Parameter</span></span> | <span data-ttu-id="652c6-353">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="652c6-353">Description</span></span> |
| --- | --- |
| <span data-ttu-id="652c6-354">error</span><span class="sxs-lookup"><span data-stu-id="652c6-354">error</span></span> |<span data-ttu-id="652c6-355">Een tekenreeks van de fout code die kan worden gebruikt voor het classificeren van typen fouten die optreden.</span><span class="sxs-lookup"><span data-stu-id="652c6-355">An error code string that can be used to classify types of errors that occur.</span></span> <span data-ttu-id="652c6-356">U kunt ook de tekenreeks gebruiken om te reageren op fouten.</span><span class="sxs-lookup"><span data-stu-id="652c6-356">You also can use the string to react to errors.</span></span> |
| <span data-ttu-id="652c6-357">error_description</span><span class="sxs-lookup"><span data-stu-id="652c6-357">error_description</span></span> |<span data-ttu-id="652c6-358">Een specifiek foutbericht die u kan helpen de hoofdoorzaak van een verificatiefout identificeren.</span><span class="sxs-lookup"><span data-stu-id="652c6-358">A specific error message that can help you identify the root cause of an authentication error.</span></span> |

<span data-ttu-id="652c6-359">Als u deze fout in de aanvraag iframe ontvangt, moet de gebruiker interactief aanmelden opnieuw voor het ophalen van een nieuw token.</span><span class="sxs-lookup"><span data-stu-id="652c6-359">If you receive this error in the iframe request, the user must interactively sign in again to retrieve a new token.</span></span> <span data-ttu-id="652c6-360">U kunt dit op een manier die zinvol is voor uw toepassing verwerkt.</span><span class="sxs-lookup"><span data-stu-id="652c6-360">You can handle this in a way that makes sense for your application.</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="652c6-361">Vernieuwen van tokens</span><span class="sxs-lookup"><span data-stu-id="652c6-361">Refresh tokens</span></span>
<span data-ttu-id="652c6-362">ID-tokens en toegangstokens verlopen na een korte periode.</span><span class="sxs-lookup"><span data-stu-id="652c6-362">ID tokens and access tokens both expire after a short period of time.</span></span> <span data-ttu-id="652c6-363">Uw app moet worden voorbereid voor deze tokens periodiek vernieuwen.</span><span class="sxs-lookup"><span data-stu-id="652c6-363">Your app must be prepared to refresh these tokens periodically.</span></span>  <span data-ttu-id="652c6-364">Uitvoeren als u wilt vernieuwen beide typen token, dezelfde verborgen iframe aanvraag wordt gebruikt in een eerdere bijvoorbeeld met behulp van de `prompt=none` -parameter voor het beheren van Azure AD-stappen.</span><span class="sxs-lookup"><span data-stu-id="652c6-364">To refresh either type of token, perform the same hidden iframe request we used in an earlier example, by using the `prompt=none` parameter to control Azure AD steps.</span></span>  <span data-ttu-id="652c6-365">Voor het ontvangen van een nieuwe `id_token` waarde: Zorg ervoor dat u `response_type=id_token` en `scope=openid`, en een `nonce` parameter.</span><span class="sxs-lookup"><span data-stu-id="652c6-365">To receive a new `id_token` value, be sure to use `response_type=id_token` and `scope=openid`, and a `nonce` parameter.</span></span>

## <a name="send-a-sign-out-request"></a><span data-ttu-id="652c6-366">Afmelden aanvraag verzenden</span><span class="sxs-lookup"><span data-stu-id="652c6-366">Send a sign-out request</span></span>
<span data-ttu-id="652c6-367">Als u wilt dat de gebruiker buiten de app te melden, moet u de gebruiker omgeleid naar Azure AD om af te melden.</span><span class="sxs-lookup"><span data-stu-id="652c6-367">When you want to sign the user out of the app, redirect the user to Azure AD to sign out.</span></span> <span data-ttu-id="652c6-368">Als u dit doet, kan de gebruiker mogelijk om andere referenties voor uw app zonder hun referenties opnieuw invoeren.</span><span class="sxs-lookup"><span data-stu-id="652c6-368">If you don't do this, the user might be able to reauthenticate to your app without entering their credentials again.</span></span> <span data-ttu-id="652c6-369">Dit komt doordat er een geldige eenmalige aanmelding sessie met Azure AD.</span><span class="sxs-lookup"><span data-stu-id="652c6-369">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="652c6-370">U kunt gewoon omleiden door de gebruiker de `end_session_endpoint` die worden vermeld in de dezelfde OpenID Connect metagegevensdocument dat wordt beschreven in [valideren van het token ID](#validate-the-id-token).</span><span class="sxs-lookup"><span data-stu-id="652c6-370">You can simply redirect the user to the `end_session_endpoint` that is listed in the same OpenID Connect metadata document described in [Validate the ID token](#validate-the-id-token).</span></span> <span data-ttu-id="652c6-371">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="652c6-371">For example:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="652c6-372">Parameter</span><span class="sxs-lookup"><span data-stu-id="652c6-372">Parameter</span></span> | <span data-ttu-id="652c6-373">Vereist?</span><span class="sxs-lookup"><span data-stu-id="652c6-373">Required?</span></span> | <span data-ttu-id="652c6-374">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="652c6-374">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="652c6-375">P</span><span class="sxs-lookup"><span data-stu-id="652c6-375">p</span></span> |<span data-ttu-id="652c6-376">Vereist</span><span class="sxs-lookup"><span data-stu-id="652c6-376">Required</span></span> |<span data-ttu-id="652c6-377">Het beleid moet worden gebruikt voor het ondertekenen van de gebruiker buiten uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="652c6-377">The policy to use to sign the user out of your application.</span></span> |
| <span data-ttu-id="652c6-378">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="652c6-378">post_logout_redirect_uri</span></span> |<span data-ttu-id="652c6-379">Aanbevolen</span><span class="sxs-lookup"><span data-stu-id="652c6-379">Recommended</span></span> |<span data-ttu-id="652c6-380">De URL die de gebruiker wordt omgeleid naar na geslaagde afmelding plaatsvindt.</span><span class="sxs-lookup"><span data-stu-id="652c6-380">The URL that the user should be redirected to after successful sign-out.</span></span> <span data-ttu-id="652c6-381">Als dit niet opgenomen is, wordt Azure AD B2C een algemeen bericht voor de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="652c6-381">If it is not included, Azure AD B2C displays a generic message to the user.</span></span> |

> [!NOTE]
> <span data-ttu-id="652c6-382">Doorsturen van de gebruiker de `end_session_endpoint` enkele van de status van de gebruiker één aanmelding met Azure AD B2C wordt gewist.</span><span class="sxs-lookup"><span data-stu-id="652c6-382">Directing the user to the `end_session_endpoint` clears some of the user's single sign-on state with Azure AD B2C.</span></span> <span data-ttu-id="652c6-383">Echter ondertekenen niet het de gebruiker buiten de sociale identiteit provider gebruikerssessie.</span><span class="sxs-lookup"><span data-stu-id="652c6-383">However, it doesn't sign the user out of the user's social identity provider session.</span></span> <span data-ttu-id="652c6-384">Als de gebruiker selecteert dezelfde provider identificeren tijdens een volgende aanmelden, wordt de gebruiker is geverifieerd, zonder dat hun referenties invoeren.</span><span class="sxs-lookup"><span data-stu-id="652c6-384">If the user selects the same identify provider during a subsequent sign-in, the user is reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="652c6-385">Als een gebruiker wil te melden bij uw Azure AD B2C-toepassing, betekent het niet noodzakelijkerwijs dat ze willen volledig afmelden bij hun account Facebook, bijvoorbeeld.</span><span class="sxs-lookup"><span data-stu-id="652c6-385">If a user wants to sign out of your Azure AD B2C application, it does not necessarily mean they want to completely sign out of their Facebook account, for example.</span></span> <span data-ttu-id="652c6-386">Echter, voor lokale accounts de gebruikerssessie wordt beëindigd goed.</span><span class="sxs-lookup"><span data-stu-id="652c6-386">However, for local accounts, the user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-azure-ad-b2c-tenant"></a><span data-ttu-id="652c6-387">Gebruik uw eigen Azure AD B2C-tenant</span><span class="sxs-lookup"><span data-stu-id="652c6-387">Use your own Azure AD B2C tenant</span></span>
<span data-ttu-id="652c6-388">Om te proberen deze aanvragen zelf, moet u de volgende drie stappen uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="652c6-388">To try these requests yourself, complete the following three steps.</span></span> <span data-ttu-id="652c6-389">Vervang de voorbeeldwaarden die we in dit artikel met uw eigen waarden gebruiken:</span><span class="sxs-lookup"><span data-stu-id="652c6-389">Replace the example values we use in this article with your own values:</span></span>

1. <span data-ttu-id="652c6-390">[Een Azure AD B2C-tenant maken](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="652c6-390">[Create an Azure AD B2C tenant](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="652c6-391">Gebruik de naam van uw tenant in de aanvragen.</span><span class="sxs-lookup"><span data-stu-id="652c6-391">Use the name of your tenant in the requests.</span></span>
2. <span data-ttu-id="652c6-392">[Maken van een toepassing](active-directory-b2c-app-registration.md) verkrijgen van een toepassings-ID en een `redirect_uri` waarde.</span><span class="sxs-lookup"><span data-stu-id="652c6-392">[Create an application](active-directory-b2c-app-registration.md) to obtain an application ID and a `redirect_uri` value.</span></span> <span data-ttu-id="652c6-393">Een web-app of web-API opnemen in uw app.</span><span class="sxs-lookup"><span data-stu-id="652c6-393">Include a web app or web API in your app.</span></span> <span data-ttu-id="652c6-394">U kunt desgewenst een toepassingsgeheim maken.</span><span class="sxs-lookup"><span data-stu-id="652c6-394">Optionally, you can create an application secret.</span></span>
3. <span data-ttu-id="652c6-395">[Maken van uw beleid](active-directory-b2c-reference-policies.md) om op te halen van de beleidsnamen van uw.</span><span class="sxs-lookup"><span data-stu-id="652c6-395">[Create your policies](active-directory-b2c-reference-policies.md) to obtain your policy names.</span></span>

## <a name="samples"></a><span data-ttu-id="652c6-396">Voorbeelden</span><span class="sxs-lookup"><span data-stu-id="652c6-396">Samples</span></span>

* [<span data-ttu-id="652c6-397">Een app één pagina maken met behulp van Node.js</span><span class="sxs-lookup"><span data-stu-id="652c6-397">Create a single-page app by using Node.js</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)
* [<span data-ttu-id="652c6-398">Een app één pagina maken met behulp van .NET</span><span class="sxs-lookup"><span data-stu-id="652c6-398">Create a single-page app by using .NET</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)

