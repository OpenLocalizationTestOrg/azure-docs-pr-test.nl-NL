---
title: Autorisatiecodestroom - Azure AD B2C | Microsoft Docs
description: Meer informatie over hoe toobuild web-apps met behulp van Azure AD B2C en OpenID Connect-verificatieprotocol.
services: active-directory-b2c
documentationcenter: 
author: saeedakhter-msft
manager: krassk
editor: parakhj
ms.assetid: c371aaab-813a-4317-97df-b62e2f53d865
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/16/2017
ms.author: saeedakhter-msft
ms.openlocfilehash: 6bf9d37310bd45b39bda346441413556f9fd4fdc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-oauth-20-authorization-code-flow"></a><span data-ttu-id="f827f-103">Azure Active Directory B2C: OAuth 2.0-autorisatiecodestroom</span><span class="sxs-lookup"><span data-stu-id="f827f-103">Azure Active Directory B2C: OAuth 2.0 authorization code flow</span></span>
<span data-ttu-id="f827f-104">U kunt Hallo OAuth 2.0 autorisatie code grant in apps die zijn geïnstalleerd op een apparaat toogain toegang tooprotected resources, zoals web-API's gebruiken.</span><span class="sxs-lookup"><span data-stu-id="f827f-104">You can use hello OAuth 2.0 authorization code grant in apps installed on a device toogain access tooprotected resources, such as web APIs.</span></span> <span data-ttu-id="f827f-105">U kunt toevoegen, registreren, aanmelden met behulp van hello Azure Active Directory B2C (Azure AD B2C) implementatie van OAuth 2.0 en andere identiteitsbeheer taken tooyour mobiele en bureaublad-apps.</span><span class="sxs-lookup"><span data-stu-id="f827f-105">By using hello Azure Active Directory B2C (Azure AD B2C) implementation of OAuth 2.0, you can add sign-up, sign-in, and other identity management tasks tooyour mobile and desktop apps.</span></span> <span data-ttu-id="f827f-106">In dit artikel is taalonafhankelijk.</span><span class="sxs-lookup"><span data-stu-id="f827f-106">This article is language-independent.</span></span> <span data-ttu-id="f827f-107">In Hallo artikel wordt beschreven hoe toosend en HTTP-berichten ontvangen zonder gebruik van een open source-bibliotheken.</span><span class="sxs-lookup"><span data-stu-id="f827f-107">In hello article, we describe how toosend and receive HTTP messages without using any open-source libraries.</span></span>

<!-- TODO: Need link toolibraries -->

<span data-ttu-id="f827f-108">Hallo OAuth 2.0-autorisatiecodestroom wordt beschreven in [sectie 4.1 van Hallo OAuth 2.0-specificatie](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="f827f-108">hello OAuth 2.0 authorization code flow is described in [section 4.1 of hello OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="f827f-109">U kunt deze gebruiken voor verificatie en autorisatie in de meeste typen van de app, inclusief [web-apps](active-directory-b2c-apps.md#web-apps) en [systeemeigen geïnstalleerde apps](active-directory-b2c-apps.md#mobile-and-native-apps).</span><span class="sxs-lookup"><span data-stu-id="f827f-109">You can use it for authentication and authorization in most app types, including [web apps](active-directory-b2c-apps.md#web-apps) and [natively installed apps](active-directory-b2c-apps.md#mobile-and-native-apps).</span></span> <span data-ttu-id="f827f-110">Kunt u OAuth 2.0 autorisatie code stroom toosecurely verkrijgen Hallo *toegang tot tokens* voor uw apps, wat kan zijn gebruikte tooaccess resources die zijn beveiligd met een [autorisatie server](active-directory-b2c-reference-protocols.md#the-basics).</span><span class="sxs-lookup"><span data-stu-id="f827f-110">You can use hello OAuth 2.0 authorization code flow toosecurely acquire *access tokens* for your apps, which can be used tooaccess resources that are secured by an [authorization server](active-directory-b2c-reference-protocols.md#the-basics).</span></span>

<span data-ttu-id="f827f-111">In dit artikel is gericht op Hallo **openbare clients** OAuth 2.0-autorisatiecodestroom.</span><span class="sxs-lookup"><span data-stu-id="f827f-111">This article focuses on hello **public clients** OAuth 2.0 authorization code flow.</span></span> <span data-ttu-id="f827f-112">Een openbare-client is elke clienttoepassing die niet kan worden vertrouwd toosecurely Hallo integriteit van een geheime vraag te behouden.</span><span class="sxs-lookup"><span data-stu-id="f827f-112">A public client is any client application that cannot be trusted toosecurely maintain hello integrity of a secret password.</span></span> <span data-ttu-id="f827f-113">Dit omvat mobiele apps, bureaublad-apps en in wezen elke toepassing die wordt uitgevoerd op een apparaat en moet tooget toegangstokens.</span><span class="sxs-lookup"><span data-stu-id="f827f-113">This includes mobile apps, desktop apps, and essentially any application that runs on a device and needs tooget access tokens.</span></span> 

> [!NOTE]
> <span data-ttu-id="f827f-114">tooadd identity management tooa web-app met behulp van Azure AD B2C, gebruik [OpenID Connect](active-directory-b2c-reference-oidc.md) in plaats van OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="f827f-114">tooadd identity management tooa web app by using Azure AD B2C, use [OpenID Connect](active-directory-b2c-reference-oidc.md) instead of OAuth 2.0.</span></span>

<span data-ttu-id="f827f-115">Azure AD B2C breidt Hallo standaard die OAuth 2.0 loopt toodo meer dan een eenvoudige verificatie en autorisatie.</span><span class="sxs-lookup"><span data-stu-id="f827f-115">Azure AD B2C extends hello standard OAuth 2.0 flows toodo more than simple authentication and authorization.</span></span> <span data-ttu-id="f827f-116">Hierdoor Hallo [Beleidsparameter](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="f827f-116">It introduces hello [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="f827f-117">Met ingebouwde beleidsregels, kunt u OAuth 2.0 tooadd gebruiker merkt dat tooyour app, zoals aanmelding, aanmelding en Profielbeheer.</span><span class="sxs-lookup"><span data-stu-id="f827f-117">With built-in policies, you can use OAuth 2.0 tooadd user experiences tooyour app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="f827f-118">In dit artikel wordt uitgelegd hoe u dat toouse OAuth 2.0 en beleidsregels tooimplement elk van deze in uw eigen toepassingen functionaliteit.</span><span class="sxs-lookup"><span data-stu-id="f827f-118">In this article, we show you how toouse OAuth 2.0 and policies tooimplement each of these experiences in your native applications.</span></span> <span data-ttu-id="f827f-119">We ook ziet u hoe tooget toegangstokens voor toegang tot web-API's.</span><span class="sxs-lookup"><span data-stu-id="f827f-119">We also show you how tooget access tokens for accessing web APIs.</span></span>

<span data-ttu-id="f827f-120">In voorbeeld HTTP-aanvragen Hallo in dit artikel, gebruiken we onze voorbeeld Azure AD B2C-directory **fabrikamb2c.onmicrosoft.com**. We gebruiken ook onze voorbeeldtoepassing en beleidsregels.</span><span class="sxs-lookup"><span data-stu-id="f827f-120">In hello example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**. We also use our sample application and policies.</span></span> <span data-ttu-id="f827f-121">U kunt aanvragen Hallo zelf met behulp van deze waarden, of kunt u deze vervangen door uw eigen waarden.</span><span class="sxs-lookup"><span data-stu-id="f827f-121">You can try hello requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="f827f-122">Meer informatie over hoe te[ophalen van uw eigen Azure AD B2C-directory, toepassingen en beleidsregels](#use-your-own-azure-ad-b2c-directory).</span><span class="sxs-lookup"><span data-stu-id="f827f-122">Learn how too[get your own Azure AD B2C directory, application, and policies](#use-your-own-azure-ad-b2c-directory).</span></span>

## <a name="1-get-an-authorization-code"></a><span data-ttu-id="f827f-123">1. Een autorisatiecode ophalen</span><span class="sxs-lookup"><span data-stu-id="f827f-123">1. Get an authorization code</span></span>
<span data-ttu-id="f827f-124">Hallo-autorisatiecodestroom begint met de Hallo client doorsturen Hallo gebruiker toohello `/authorize` eindpunt.</span><span class="sxs-lookup"><span data-stu-id="f827f-124">hello authorization code flow begins with hello client directing hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="f827f-125">Dit is Hallo interactieve onderdeel van Hallo-stroom waar Hallo gebruiker actie plaatsvindt.</span><span class="sxs-lookup"><span data-stu-id="f827f-125">This is hello interactive part of hello flow, where hello user takes action.</span></span> <span data-ttu-id="f827f-126">In deze aanvraag Hallo-client geeft aan in Hallo `scope` parameter Hallo machtigingen dat het moet tooacquire van Hallo-gebruiker.</span><span class="sxs-lookup"><span data-stu-id="f827f-126">In this request, hello client indicates in hello `scope` parameter hello permissions that it needs tooacquire from hello user.</span></span> <span data-ttu-id="f827f-127">In Hallo `p` parameter, betekent dit Hallo beleid tooexecute.</span><span class="sxs-lookup"><span data-stu-id="f827f-127">In hello `p` parameter, it indicates hello policy tooexecute.</span></span> <span data-ttu-id="f827f-128">Hallo gebruik volgende drie voorbeelden (met regeleinden voor leesbaarheid) elk een ander beleid.</span><span class="sxs-lookup"><span data-stu-id="f827f-128">hello following three examples (with line breaks for readability) each use a different policy.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="f827f-129">Een beleid voor aanmelden gebruiken</span><span class="sxs-lookup"><span data-stu-id="f827f-129">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="f827f-130">Een registratiebeleid gebruiken</span><span class="sxs-lookup"><span data-stu-id="f827f-130">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="f827f-131">Gebruik van een beleid voor het profiel bewerken</span><span class="sxs-lookup"><span data-stu-id="f827f-131">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_edit_profile
```

| <span data-ttu-id="f827f-132">Parameter</span><span class="sxs-lookup"><span data-stu-id="f827f-132">Parameter</span></span> | <span data-ttu-id="f827f-133">Vereist?</span><span class="sxs-lookup"><span data-stu-id="f827f-133">Required?</span></span> | <span data-ttu-id="f827f-134">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="f827f-134">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f827f-135">client_id</span><span class="sxs-lookup"><span data-stu-id="f827f-135">client_id</span></span> |<span data-ttu-id="f827f-136">Vereist</span><span class="sxs-lookup"><span data-stu-id="f827f-136">Required</span></span> |<span data-ttu-id="f827f-137">Hallo toepassings-ID toegewezen tooyour-app in Hallo [Azure-portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="f827f-137">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="f827f-138">response_type</span><span class="sxs-lookup"><span data-stu-id="f827f-138">response_type</span></span> |<span data-ttu-id="f827f-139">Vereist</span><span class="sxs-lookup"><span data-stu-id="f827f-139">Required</span></span> |<span data-ttu-id="f827f-140">Hallo antwoordtype, waaronder moet `code` voor Hallo-autorisatiecodestroom.</span><span class="sxs-lookup"><span data-stu-id="f827f-140">hello response type, which must include `code` for hello authorization code flow.</span></span> |
| <span data-ttu-id="f827f-141">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="f827f-141">redirect_uri</span></span> |<span data-ttu-id="f827f-142">Vereist</span><span class="sxs-lookup"><span data-stu-id="f827f-142">Required</span></span> |<span data-ttu-id="f827f-143">Hallo omleidings-URI van uw app, waarbij verificatie antwoorden zijn verzonden en ontvangen door uw app.</span><span class="sxs-lookup"><span data-stu-id="f827f-143">hello redirect URI of your app, where authentication responses are sent and received by your app.</span></span> <span data-ttu-id="f827f-144">Deze moet exact overeenkomen met een van Hallo omleidings-URI's die u hebt geregistreerd in Hallo-portal, behalve dat het URL-codering moet worden.</span><span class="sxs-lookup"><span data-stu-id="f827f-144">It must exactly match one of hello redirect URIs that you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="f827f-145">Bereik</span><span class="sxs-lookup"><span data-stu-id="f827f-145">scope</span></span> |<span data-ttu-id="f827f-146">Vereist</span><span class="sxs-lookup"><span data-stu-id="f827f-146">Required</span></span> |<span data-ttu-id="f827f-147">Een door spaties gescheiden lijst met bereiken.</span><span class="sxs-lookup"><span data-stu-id="f827f-147">A space-separated list of scopes.</span></span> <span data-ttu-id="f827f-148">De waarde één scope geeft tooAzure Active Directory (Azure AD) beide Hallo machtigingen die worden aangevraagd.</span><span class="sxs-lookup"><span data-stu-id="f827f-148">A single scope value indicates tooAzure Active Directory (Azure AD) both of hello permissions that are being requested.</span></span> <span data-ttu-id="f827f-149">Met behulp van Hallo client ID zoals Hallo bereik geeft aan dat uw app moet een toegangstoken die kan worden gebruikt op basis van uw eigen service of web-API, vertegenwoordigd door Hallo dezelfde client-ID.</span><span class="sxs-lookup"><span data-stu-id="f827f-149">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="f827f-150">Hallo `offline_access` bereik geeft aan dat uw app een vernieuwingstoken voor de lange levensduur hebben toegang tot tooresources moet.</span><span class="sxs-lookup"><span data-stu-id="f827f-150">hello `offline_access` scope indicates that your app needs a refresh token for long-lived access tooresources.</span></span> <span data-ttu-id="f827f-151">Ook kunt u Hallo `openid` bereik toorequest een token ID van Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="f827f-151">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="f827f-152">response_mode</span><span class="sxs-lookup"><span data-stu-id="f827f-152">response_mode</span></span> |<span data-ttu-id="f827f-153">Aanbevolen</span><span class="sxs-lookup"><span data-stu-id="f827f-153">Recommended</span></span> |<span data-ttu-id="f827f-154">Hallo-methode is dat u toosend Hallo resulterende autorisatie code back tooyour app gebruiken.</span><span class="sxs-lookup"><span data-stu-id="f827f-154">hello method that you use toosend hello resulting authorization code back tooyour app.</span></span> <span data-ttu-id="f827f-155">Kan `query`, `form_post`, of `fragment`.</span><span class="sxs-lookup"><span data-stu-id="f827f-155">It can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="f827f-156">state</span><span class="sxs-lookup"><span data-stu-id="f827f-156">state</span></span> |<span data-ttu-id="f827f-157">Aanbevolen</span><span class="sxs-lookup"><span data-stu-id="f827f-157">Recommended</span></span> |<span data-ttu-id="f827f-158">Een waarde die is opgenomen in het Hallo-aanvraag die wordt geretourneerd als antwoord van Hallo-token.</span><span class="sxs-lookup"><span data-stu-id="f827f-158">A value included in hello request that is returned in hello token response.</span></span> <span data-ttu-id="f827f-159">Een tekenreeks van alle inhoud die u wilt dat toouse kan zijn.</span><span class="sxs-lookup"><span data-stu-id="f827f-159">It can be a string of any content that you want toouse.</span></span> <span data-ttu-id="f827f-160">Normaal gesproken een willekeurig gegenereerde unieke waarde wordt gebruikt, tooprevent aanvraagvervalsing op meerdere sites aanvallen.</span><span class="sxs-lookup"><span data-stu-id="f827f-160">Usually, a randomly generated unique value is  used, tooprevent cross-site request forgery attacks.</span></span> <span data-ttu-id="f827f-161">Hallo-status is ook gebruikte tooencode informatie over de status van de gebruiker van het Hallo in Hallo app voordat het Hallo-verificatieaanvraag is opgetreden.</span><span class="sxs-lookup"><span data-stu-id="f827f-161">hello state also is used tooencode information about hello user's state in hello app before hello authentication request occurred.</span></span> <span data-ttu-id="f827f-162">Bijvoorbeeld, Hallo pagina Hallo gebruiker is aan of Hallo beleid dat werd uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="f827f-162">For example, hello page hello user was on, or hello policy that was being executed.</span></span> |
| <span data-ttu-id="f827f-163">P</span><span class="sxs-lookup"><span data-stu-id="f827f-163">p</span></span> |<span data-ttu-id="f827f-164">Vereist</span><span class="sxs-lookup"><span data-stu-id="f827f-164">Required</span></span> |<span data-ttu-id="f827f-165">Hallo-beleid dat wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="f827f-165">hello policy that is executed.</span></span> <span data-ttu-id="f827f-166">De Hallo naam van een beleid dat is gemaakt in uw Azure AD B2C-directory.</span><span class="sxs-lookup"><span data-stu-id="f827f-166">It's hello name of a policy that is created in your Azure AD B2C directory.</span></span> <span data-ttu-id="f827f-167">Hallo-beleidswaarde naam moet beginnen met **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="f827f-167">hello policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="f827f-168">toolearn meer informatie over beleidsregels, Zie [ingebouwde beleid van Azure AD B2C](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="f827f-168">toolearn more about policies, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="f827f-169">prompt</span><span class="sxs-lookup"><span data-stu-id="f827f-169">prompt</span></span> |<span data-ttu-id="f827f-170">Optioneel</span><span class="sxs-lookup"><span data-stu-id="f827f-170">Optional</span></span> |<span data-ttu-id="f827f-171">Hallo-type van de interactie van de gebruiker die is vereist.</span><span class="sxs-lookup"><span data-stu-id="f827f-171">hello type of user interaction that is required.</span></span> <span data-ttu-id="f827f-172">De enige geldige waarde Hallo is momenteel `login`, dit dwingt Hallo gebruiker tooenter hun referenties op die aanvraag.</span><span class="sxs-lookup"><span data-stu-id="f827f-172">Currently, hello only valid value is `login`, which forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="f827f-173">Eenmalige aanmelding wordt pas van kracht.</span><span class="sxs-lookup"><span data-stu-id="f827f-173">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="f827f-174">Op dit moment hello wordt u gevraagd toocomplete Hallo beleid werkstroom.</span><span class="sxs-lookup"><span data-stu-id="f827f-174">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="f827f-175">Dit kan erbij betrekken Hallo gebruikers voeren hun gebruikersnaam en wachtwoord, aanmelden met een sociale identiteit aanmelden voor Hallo directory of een andere aantal stappen.</span><span class="sxs-lookup"><span data-stu-id="f827f-175">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps.</span></span> <span data-ttu-id="f827f-176">Acties van de gebruiker is afhankelijk van hoe Hallo beleid is gedefinieerd.</span><span class="sxs-lookup"><span data-stu-id="f827f-176">User actions depend on how hello policy is defined.</span></span>

<span data-ttu-id="f827f-177">Nadat het Hallo gebruiker voltooit Hallo-beleid, Azure AD retourneert een antwoord tooyour app op Hallo-waarde die u gebruikt voor `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="f827f-177">After hello user completes hello policy, Azure AD returns a response tooyour app at hello value you used for `redirect_uri`.</span></span> <span data-ttu-id="f827f-178">Hierbij Hallo methode in Hallo `response_mode` parameter.</span><span class="sxs-lookup"><span data-stu-id="f827f-178">It uses hello method specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="f827f-179">Hallo-antwoord is precies dezelfde Hallo voor elk Hallo actie gebruikersscenario, onafhankelijk van het Hallo-beleid dat is uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="f827f-179">hello response is exactly hello same for each of hello user action scenarios, independent of hello policy that was executed.</span></span>

<span data-ttu-id="f827f-180">Een geslaagde reactie die gebruikmaakt van `response_mode=query` ziet er als volgt:</span><span class="sxs-lookup"><span data-stu-id="f827f-180">A successful response that uses `response_mode=query` looks like this:</span></span>

```
GET urn:ietf:wg:oauth:2.0:oob?
code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...        // hello authorization_code, truncated
&state=arbitrary_data_you_can_receive_in_the_response                // hello value provided in hello request
```

| <span data-ttu-id="f827f-181">Parameter</span><span class="sxs-lookup"><span data-stu-id="f827f-181">Parameter</span></span> | <span data-ttu-id="f827f-182">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="f827f-182">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f827f-183">code</span><span class="sxs-lookup"><span data-stu-id="f827f-183">code</span></span> |<span data-ttu-id="f827f-184">Hallo autorisatiecode die Hallo app aangevraagd.</span><span class="sxs-lookup"><span data-stu-id="f827f-184">hello authorization code that hello app requested.</span></span> <span data-ttu-id="f827f-185">Hallo-app kunt Hallo autorisatie code toorequest een toegangstoken gebruiken voor een doelbron.</span><span class="sxs-lookup"><span data-stu-id="f827f-185">hello app can use hello authorization code toorequest an access token for a target resource.</span></span> <span data-ttu-id="f827f-186">Autorisatiecodes zijn zeer tijdelijke.</span><span class="sxs-lookup"><span data-stu-id="f827f-186">Authorization codes are very short-lived.</span></span> <span data-ttu-id="f827f-187">Normaal gesproken verlopen ze na ongeveer 10 minuten.</span><span class="sxs-lookup"><span data-stu-id="f827f-187">Typically, they expire after about 10 minutes.</span></span> |
| <span data-ttu-id="f827f-188">state</span><span class="sxs-lookup"><span data-stu-id="f827f-188">state</span></span> |<span data-ttu-id="f827f-189">Volledige beschrijving van de Hallo in de tabel in de voorgaande sectie Hallo Hallo bekijken.</span><span class="sxs-lookup"><span data-stu-id="f827f-189">See hello full description in hello table in hello preceding section.</span></span> <span data-ttu-id="f827f-190">Als een `state` parameter is opgenomen in de aanvraag hello, hello dezelfde waarde moet worden weergegeven in het Hallo-antwoord.</span><span class="sxs-lookup"><span data-stu-id="f827f-190">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="f827f-191">Hallo app dient te verifiëren dat Hallo `state` waarden in Hallo-aanvraag en -antwoord identiek zijn.</span><span class="sxs-lookup"><span data-stu-id="f827f-191">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

<span data-ttu-id="f827f-192">Foutberichten kunnen ook worden verzonden toohello omleidings-URI zodat hello app ze op de juiste wijze verwerken kan:</span><span class="sxs-lookup"><span data-stu-id="f827f-192">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately:</span></span>

```
GET urn:ietf:wg:oauth:2.0:oob?
error=access_denied
&error_description=The+user+has+cancelled+entering+self-asserted+information
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="f827f-193">Parameter</span><span class="sxs-lookup"><span data-stu-id="f827f-193">Parameter</span></span> | <span data-ttu-id="f827f-194">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="f827f-194">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f827f-195">error</span><span class="sxs-lookup"><span data-stu-id="f827f-195">error</span></span> |<span data-ttu-id="f827f-196">Een tekenreeks van de fout code die u kunt tooclassify Hallo typen fouten die optreden.</span><span class="sxs-lookup"><span data-stu-id="f827f-196">An error code string that you can use tooclassify hello types of errors that occur.</span></span> <span data-ttu-id="f827f-197">U kunt ook Hallo tekenreeks tooreact tooerrors gebruiken.</span><span class="sxs-lookup"><span data-stu-id="f827f-197">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="f827f-198">error_description</span><span class="sxs-lookup"><span data-stu-id="f827f-198">error_description</span></span> |<span data-ttu-id="f827f-199">Een specifiek foutbericht waarmee u kunt identificeren Hallo hoofdoorzaak van een verificatiefout.</span><span class="sxs-lookup"><span data-stu-id="f827f-199">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="f827f-200">state</span><span class="sxs-lookup"><span data-stu-id="f827f-200">state</span></span> |<span data-ttu-id="f827f-201">Volledige beschrijving van de Hallo in de voorgaande tabel Hallo bekijken.</span><span class="sxs-lookup"><span data-stu-id="f827f-201">See hello full description in hello preceding table.</span></span> <span data-ttu-id="f827f-202">Als een `state` parameter is opgenomen in de aanvraag hello, hello dezelfde waarde moet worden weergegeven in het Hallo-antwoord.</span><span class="sxs-lookup"><span data-stu-id="f827f-202">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="f827f-203">Hallo app dient te verifiëren dat Hallo `state` waarden in Hallo-aanvraag en -antwoord identiek zijn.</span><span class="sxs-lookup"><span data-stu-id="f827f-203">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

## <a name="2-get-a-token"></a><span data-ttu-id="f827f-204">2. Een token ophalen</span><span class="sxs-lookup"><span data-stu-id="f827f-204">2. Get a token</span></span>
<span data-ttu-id="f827f-205">Nu dat u een autorisatiecode hebt aangeschaft, kunt u gebruikmaken van Hallo `code` voor een token toohello resource bedoeld door het verzenden van een POST-aanvraag toohello `/token` eindpunt.</span><span class="sxs-lookup"><span data-stu-id="f827f-205">Now that you've acquired an authorization code, you can redeem hello `code` for a token toohello intended resource by sending a POST request toohello `/token` endpoint.</span></span> <span data-ttu-id="f827f-206">In Azure AD B2C is hello alleen resource die u kunt een token voor aanvragen het uw web-API van de back-end in de app.</span><span class="sxs-lookup"><span data-stu-id="f827f-206">In Azure AD B2C, hello only resource that you can request a token for is your app's own back-end web API.</span></span> <span data-ttu-id="f827f-207">Hallo-conventie die wordt gebruikt voor het aanvragen van een token tooyourself is toouse van uw app-client-ID als Hallo bereik:</span><span class="sxs-lookup"><span data-stu-id="f827f-207">hello convention that's used for requesting a token tooyourself is toouse your app's client ID as hello scope:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob

```

| <span data-ttu-id="f827f-208">Parameter</span><span class="sxs-lookup"><span data-stu-id="f827f-208">Parameter</span></span> | <span data-ttu-id="f827f-209">Vereist?</span><span class="sxs-lookup"><span data-stu-id="f827f-209">Required?</span></span> | <span data-ttu-id="f827f-210">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="f827f-210">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f827f-211">P</span><span class="sxs-lookup"><span data-stu-id="f827f-211">p</span></span> |<span data-ttu-id="f827f-212">Vereist</span><span class="sxs-lookup"><span data-stu-id="f827f-212">Required</span></span> |<span data-ttu-id="f827f-213">beleid dat gebruikt tooacquire Hallo autorisatie is Hallo code.</span><span class="sxs-lookup"><span data-stu-id="f827f-213">hello policy that was used tooacquire hello authorization code.</span></span> <span data-ttu-id="f827f-214">U kunt een ander beleid niet gebruiken in deze aanvraag.</span><span class="sxs-lookup"><span data-stu-id="f827f-214">You cannot use a different policy in this request.</span></span> <span data-ttu-id="f827f-215">U deze parameter toohello toevoegen *querytekenreeks*, niet in Hallo POST-instantie.</span><span class="sxs-lookup"><span data-stu-id="f827f-215">Note that you add this parameter toohello *query string*, not in hello POST body.</span></span> |
| <span data-ttu-id="f827f-216">client_id</span><span class="sxs-lookup"><span data-stu-id="f827f-216">client_id</span></span> |<span data-ttu-id="f827f-217">Vereist</span><span class="sxs-lookup"><span data-stu-id="f827f-217">Required</span></span> |<span data-ttu-id="f827f-218">Hallo toepassings-ID toegewezen tooyour-app in Hallo [Azure-portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="f827f-218">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="f827f-219">grant_type</span><span class="sxs-lookup"><span data-stu-id="f827f-219">grant_type</span></span> |<span data-ttu-id="f827f-220">Vereist</span><span class="sxs-lookup"><span data-stu-id="f827f-220">Required</span></span> |<span data-ttu-id="f827f-221">Hallo type verlenen.</span><span class="sxs-lookup"><span data-stu-id="f827f-221">hello type of grant.</span></span> <span data-ttu-id="f827f-222">Voor het Hallo-autorisatiecodestroom, Hallo grant type moet `authorization_code`.</span><span class="sxs-lookup"><span data-stu-id="f827f-222">For hello authorization code flow, hello grant type must be `authorization_code`.</span></span> |
| <span data-ttu-id="f827f-223">Bereik</span><span class="sxs-lookup"><span data-stu-id="f827f-223">scope</span></span> |<span data-ttu-id="f827f-224">Aanbevolen</span><span class="sxs-lookup"><span data-stu-id="f827f-224">Recommended</span></span> |<span data-ttu-id="f827f-225">Een door spaties gescheiden lijst met bereiken.</span><span class="sxs-lookup"><span data-stu-id="f827f-225">A space-separated list of scopes.</span></span> <span data-ttu-id="f827f-226">De waarde één scope geeft tooAzure AD beide Hallo machtigingen die worden aangevraagd.</span><span class="sxs-lookup"><span data-stu-id="f827f-226">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="f827f-227">Met behulp van Hallo client ID zoals Hallo bereik geeft aan dat uw app moet een toegangstoken die kan worden gebruikt op basis van uw eigen service of web-API, vertegenwoordigd door Hallo dezelfde client-ID.</span><span class="sxs-lookup"><span data-stu-id="f827f-227">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="f827f-228">Hallo `offline_access` bereik geeft aan dat uw app een vernieuwingstoken voor de lange levensduur hebben toegang tot tooresources moet.</span><span class="sxs-lookup"><span data-stu-id="f827f-228">hello `offline_access` scope indicates that your app needs a refresh token for long-lived access tooresources.</span></span>  <span data-ttu-id="f827f-229">Ook kunt u Hallo `openid` bereik toorequest een token ID van Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="f827f-229">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="f827f-230">code</span><span class="sxs-lookup"><span data-stu-id="f827f-230">code</span></span> |<span data-ttu-id="f827f-231">Vereist</span><span class="sxs-lookup"><span data-stu-id="f827f-231">Required</span></span> |<span data-ttu-id="f827f-232">Hallo autorisatie-code die u hebt verkregen in de eerste arm Hallo van Hallo stroom.</span><span class="sxs-lookup"><span data-stu-id="f827f-232">hello authorization code that you acquired in hello first leg of hello flow.</span></span> |
| <span data-ttu-id="f827f-233">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="f827f-233">redirect_uri</span></span> |<span data-ttu-id="f827f-234">Vereist</span><span class="sxs-lookup"><span data-stu-id="f827f-234">Required</span></span> |<span data-ttu-id="f827f-235">Hallo omleidings-URI van Hallo toepassing waar u de autorisatiecode Hallo ontvangen.</span><span class="sxs-lookup"><span data-stu-id="f827f-235">hello redirect URI of hello application where you received hello authorization code.</span></span> |

<span data-ttu-id="f827f-236">Een geslaagde reactie token ziet er als volgt:</span><span class="sxs-lookup"><span data-stu-id="f827f-236">A successful token response looks like this:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="f827f-237">Parameter</span><span class="sxs-lookup"><span data-stu-id="f827f-237">Parameter</span></span> | <span data-ttu-id="f827f-238">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="f827f-238">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f827f-239">not_before</span><span class="sxs-lookup"><span data-stu-id="f827f-239">not_before</span></span> |<span data-ttu-id="f827f-240">Hallo tijd op welke Hallo token wordt beschouwd als geldige epoche tijdstip.</span><span class="sxs-lookup"><span data-stu-id="f827f-240">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="f827f-241">token_type</span><span class="sxs-lookup"><span data-stu-id="f827f-241">token_type</span></span> |<span data-ttu-id="f827f-242">Hallo type token waarde.</span><span class="sxs-lookup"><span data-stu-id="f827f-242">hello token type value.</span></span> <span data-ttu-id="f827f-243">Hallo alleen typen dat ondersteunt Azure AD Bearer is.</span><span class="sxs-lookup"><span data-stu-id="f827f-243">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="f827f-244">access_token</span><span class="sxs-lookup"><span data-stu-id="f827f-244">access_token</span></span> |<span data-ttu-id="f827f-245">Hallo ondertekend JSON Web Token (JWT) die u hebt aangevraagd.</span><span class="sxs-lookup"><span data-stu-id="f827f-245">hello signed JSON Web Token (JWT) that you requested.</span></span> |
| <span data-ttu-id="f827f-246">Bereik</span><span class="sxs-lookup"><span data-stu-id="f827f-246">scope</span></span> |<span data-ttu-id="f827f-247">Hallo-scopes die Hallo token is geldig voor.</span><span class="sxs-lookup"><span data-stu-id="f827f-247">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="f827f-248">U kunt ook scopes toocache tokens gebruiken voor later gebruik.</span><span class="sxs-lookup"><span data-stu-id="f827f-248">You also can use scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="f827f-249">expires_in</span><span class="sxs-lookup"><span data-stu-id="f827f-249">expires_in</span></span> |<span data-ttu-id="f827f-250">Hallo tijdsduur die Hallo token is ongeldig (in seconden).</span><span class="sxs-lookup"><span data-stu-id="f827f-250">hello length of time that hello token is valid (in seconds).</span></span> |
| <span data-ttu-id="f827f-251">refresh_token</span><span class="sxs-lookup"><span data-stu-id="f827f-251">refresh_token</span></span> |<span data-ttu-id="f827f-252">Een OAuth 2.0-vernieuwingstoken.</span><span class="sxs-lookup"><span data-stu-id="f827f-252">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="f827f-253">Hallo-app kunt dit token tooacquire extra tokens gebruiken nadat Hallo huidige token is verlopen.</span><span class="sxs-lookup"><span data-stu-id="f827f-253">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="f827f-254">Vernieuwen van tokens zijn lange levensduur hebben.</span><span class="sxs-lookup"><span data-stu-id="f827f-254">Refresh tokens are long-lived.</span></span> <span data-ttu-id="f827f-255">U kunt ze tooretain toegang tooresources voor langere tijd.</span><span class="sxs-lookup"><span data-stu-id="f827f-255">You can use them tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="f827f-256">Zie voor meer informatie, Hallo [Azure AD B2C tokenverwijzing](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="f827f-256">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="f827f-257">-Foutberichten moeten uitzien:</span><span class="sxs-lookup"><span data-stu-id="f827f-257">Error responses look like this:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="f827f-258">Parameter</span><span class="sxs-lookup"><span data-stu-id="f827f-258">Parameter</span></span> | <span data-ttu-id="f827f-259">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="f827f-259">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f827f-260">error</span><span class="sxs-lookup"><span data-stu-id="f827f-260">error</span></span> |<span data-ttu-id="f827f-261">Een tekenreeks van de fout code die u kunt tooclassify Hallo typen fouten die optreden.</span><span class="sxs-lookup"><span data-stu-id="f827f-261">An error code string that you can use tooclassify hello types of errors that occur.</span></span> <span data-ttu-id="f827f-262">U kunt ook Hallo tekenreeks tooreact tooerrors gebruiken.</span><span class="sxs-lookup"><span data-stu-id="f827f-262">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="f827f-263">error_description</span><span class="sxs-lookup"><span data-stu-id="f827f-263">error_description</span></span> |<span data-ttu-id="f827f-264">Een specifiek foutbericht waarmee u kunt identificeren Hallo hoofdoorzaak van een verificatiefout.</span><span class="sxs-lookup"><span data-stu-id="f827f-264">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

## <a name="3-use-hello-token"></a><span data-ttu-id="f827f-265">3. Hallo-token gebruiken</span><span class="sxs-lookup"><span data-stu-id="f827f-265">3. Use hello token</span></span>
<span data-ttu-id="f827f-266">Nu dat u hebt een toegangstoken is verkregen, kunt u Hallo-token in aanvragen tooyour back-end web-API's door deze in Hallo `Authorization` header:</span><span class="sxs-lookup"><span data-stu-id="f827f-266">Now that you've successfully acquired an access token, you can use hello token in requests tooyour back-end web APIs by including it in hello `Authorization` header:</span></span>

```
GET /tasks
Host: https://mytaskwebapi.com
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
```

## <a name="4-refresh-hello-token"></a><span data-ttu-id="f827f-267">4. Hallo-token te vernieuwen</span><span class="sxs-lookup"><span data-stu-id="f827f-267">4. Refresh hello token</span></span>
<span data-ttu-id="f827f-268">Toegangstokens en ID-tokens zijn tijdelijke.</span><span class="sxs-lookup"><span data-stu-id="f827f-268">Access tokens and ID tokens are short-lived.</span></span> <span data-ttu-id="f827f-269">Nadat ze zijn verlopen, moet u ze toocontinue tooaccess resources vernieuwen.</span><span class="sxs-lookup"><span data-stu-id="f827f-269">After they expire, you must refresh them toocontinue tooaccess resources.</span></span> <span data-ttu-id="f827f-270">toodo dit door een andere toohello voor POST-aanvraag indienen `/token` eindpunt.</span><span class="sxs-lookup"><span data-stu-id="f827f-270">toodo this, submit another POST request toohello `/token` endpoint.</span></span> <span data-ttu-id="f827f-271">Deze tijd bieden Hallo `refresh_token` in plaats van Hallo `code`:</span><span class="sxs-lookup"><span data-stu-id="f827f-271">This time, provide hello `refresh_token` instead of hello `code`:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&refresh_token=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob
```

| <span data-ttu-id="f827f-272">Parameter</span><span class="sxs-lookup"><span data-stu-id="f827f-272">Parameter</span></span> | <span data-ttu-id="f827f-273">Vereist?</span><span class="sxs-lookup"><span data-stu-id="f827f-273">Required?</span></span> | <span data-ttu-id="f827f-274">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="f827f-274">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f827f-275">P</span><span class="sxs-lookup"><span data-stu-id="f827f-275">p</span></span> |<span data-ttu-id="f827f-276">Vereist</span><span class="sxs-lookup"><span data-stu-id="f827f-276">Required</span></span> |<span data-ttu-id="f827f-277">Hallo-beleid dat gebruikt tooacquire Hallo oorspronkelijke vernieuwingstoken is.</span><span class="sxs-lookup"><span data-stu-id="f827f-277">hello policy that was used tooacquire hello original refresh token.</span></span> <span data-ttu-id="f827f-278">U kunt een ander beleid niet gebruiken in deze aanvraag.</span><span class="sxs-lookup"><span data-stu-id="f827f-278">You cannot use a different policy in this request.</span></span> <span data-ttu-id="f827f-279">U deze parameter toohello toevoegen *querytekenreeks*, niet in Hallo POST-instantie.</span><span class="sxs-lookup"><span data-stu-id="f827f-279">Note that you add this parameter toohello *query string*, not in hello POST body.</span></span> |
| <span data-ttu-id="f827f-280">client_id</span><span class="sxs-lookup"><span data-stu-id="f827f-280">client_id</span></span> |<span data-ttu-id="f827f-281">Aanbevolen</span><span class="sxs-lookup"><span data-stu-id="f827f-281">Recommended</span></span> |<span data-ttu-id="f827f-282">Hallo toepassings-ID toegewezen tooyour-app in Hallo [Azure-portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="f827f-282">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="f827f-283">grant_type</span><span class="sxs-lookup"><span data-stu-id="f827f-283">grant_type</span></span> |<span data-ttu-id="f827f-284">Vereist</span><span class="sxs-lookup"><span data-stu-id="f827f-284">Required</span></span> |<span data-ttu-id="f827f-285">Hallo type verlenen.</span><span class="sxs-lookup"><span data-stu-id="f827f-285">hello type of grant.</span></span> <span data-ttu-id="f827f-286">Voor deze fase van de autorisatiecodestroom hello, Hallo grant type moet `refresh_token`.</span><span class="sxs-lookup"><span data-stu-id="f827f-286">For this leg of hello authorization code flow, hello grant type must be `refresh_token`.</span></span> |
| <span data-ttu-id="f827f-287">Bereik</span><span class="sxs-lookup"><span data-stu-id="f827f-287">scope</span></span> |<span data-ttu-id="f827f-288">Aanbevolen</span><span class="sxs-lookup"><span data-stu-id="f827f-288">Recommended</span></span> |<span data-ttu-id="f827f-289">Een door spaties gescheiden lijst met bereiken.</span><span class="sxs-lookup"><span data-stu-id="f827f-289">A space-separated list of scopes.</span></span> <span data-ttu-id="f827f-290">De waarde één scope geeft tooAzure AD beide Hallo machtigingen die worden aangevraagd.</span><span class="sxs-lookup"><span data-stu-id="f827f-290">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="f827f-291">Met behulp van Hallo client ID zoals Hallo bereik geeft aan dat uw app moet een toegangstoken die kan worden gebruikt op basis van uw eigen service of web-API, vertegenwoordigd door Hallo dezelfde client-ID.</span><span class="sxs-lookup"><span data-stu-id="f827f-291">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="f827f-292">Hallo `offline_access` bereik geeft aan dat uw app een vernieuwingstoken voor lange levensduur hebben toegang tot tooresources nodig.</span><span class="sxs-lookup"><span data-stu-id="f827f-292">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span>  <span data-ttu-id="f827f-293">Ook kunt u Hallo `openid` bereik toorequest een token ID van Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="f827f-293">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="f827f-294">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="f827f-294">redirect_uri</span></span> |<span data-ttu-id="f827f-295">Optioneel</span><span class="sxs-lookup"><span data-stu-id="f827f-295">Optional</span></span> |<span data-ttu-id="f827f-296">Hallo omleidings-URI van Hallo toepassing waar u de autorisatiecode Hallo ontvangen.</span><span class="sxs-lookup"><span data-stu-id="f827f-296">hello redirect URI of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="f827f-297">refresh_token</span><span class="sxs-lookup"><span data-stu-id="f827f-297">refresh_token</span></span> |<span data-ttu-id="f827f-298">Vereist</span><span class="sxs-lookup"><span data-stu-id="f827f-298">Required</span></span> |<span data-ttu-id="f827f-299">Hallo oorspronkelijke vernieuwingstoken die u hebt verkregen in de tweede arm Hallo van Hallo stroom.</span><span class="sxs-lookup"><span data-stu-id="f827f-299">hello original refresh token that you acquired in hello second leg of hello flow.</span></span> |

<span data-ttu-id="f827f-300">Een geslaagde reactie token ziet er als volgt:</span><span class="sxs-lookup"><span data-stu-id="f827f-300">A successful token response looks like this:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="f827f-301">Parameter</span><span class="sxs-lookup"><span data-stu-id="f827f-301">Parameter</span></span> | <span data-ttu-id="f827f-302">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="f827f-302">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f827f-303">not_before</span><span class="sxs-lookup"><span data-stu-id="f827f-303">not_before</span></span> |<span data-ttu-id="f827f-304">Hallo tijd op welke Hallo token wordt beschouwd als geldige epoche tijdstip.</span><span class="sxs-lookup"><span data-stu-id="f827f-304">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="f827f-305">token_type</span><span class="sxs-lookup"><span data-stu-id="f827f-305">token_type</span></span> |<span data-ttu-id="f827f-306">Hallo type token waarde.</span><span class="sxs-lookup"><span data-stu-id="f827f-306">hello token type value.</span></span> <span data-ttu-id="f827f-307">Hallo alleen typen dat ondersteunt Azure AD Bearer is.</span><span class="sxs-lookup"><span data-stu-id="f827f-307">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="f827f-308">access_token</span><span class="sxs-lookup"><span data-stu-id="f827f-308">access_token</span></span> |<span data-ttu-id="f827f-309">Hallo ondertekend JWT die u hebt aangevraagd.</span><span class="sxs-lookup"><span data-stu-id="f827f-309">hello signed JWT that you requested.</span></span> |
| <span data-ttu-id="f827f-310">Bereik</span><span class="sxs-lookup"><span data-stu-id="f827f-310">scope</span></span> |<span data-ttu-id="f827f-311">Hallo-scopes die Hallo token is geldig voor.</span><span class="sxs-lookup"><span data-stu-id="f827f-311">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="f827f-312">U kunt ook Hallo scopes toocache tokens gebruiken voor later gebruik.</span><span class="sxs-lookup"><span data-stu-id="f827f-312">You also can use hello scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="f827f-313">expires_in</span><span class="sxs-lookup"><span data-stu-id="f827f-313">expires_in</span></span> |<span data-ttu-id="f827f-314">Hallo tijdsduur die Hallo token is ongeldig (in seconden).</span><span class="sxs-lookup"><span data-stu-id="f827f-314">hello length of time that hello token is valid (in seconds).</span></span> |
| <span data-ttu-id="f827f-315">refresh_token</span><span class="sxs-lookup"><span data-stu-id="f827f-315">refresh_token</span></span> |<span data-ttu-id="f827f-316">Een OAuth 2.0-vernieuwingstoken.</span><span class="sxs-lookup"><span data-stu-id="f827f-316">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="f827f-317">Hallo-app kunt dit token tooacquire extra tokens gebruiken nadat Hallo huidige token is verlopen.</span><span class="sxs-lookup"><span data-stu-id="f827f-317">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="f827f-318">Vernieuwen van tokens worden lange levensduur en gebruikte tooretain toegang tooresources voor langere tijd kan worden.</span><span class="sxs-lookup"><span data-stu-id="f827f-318">Refresh tokens are long-lived, and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="f827f-319">Zie voor meer informatie, Hallo [Azure AD B2C tokenverwijzing](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="f827f-319">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="f827f-320">-Foutberichten moeten uitzien:</span><span class="sxs-lookup"><span data-stu-id="f827f-320">Error responses look like this:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="f827f-321">Parameter</span><span class="sxs-lookup"><span data-stu-id="f827f-321">Parameter</span></span> | <span data-ttu-id="f827f-322">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="f827f-322">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f827f-323">error</span><span class="sxs-lookup"><span data-stu-id="f827f-323">error</span></span> |<span data-ttu-id="f827f-324">Een tekenreeks van de fout code die u kunt tooclassify typen fouten die optreden.</span><span class="sxs-lookup"><span data-stu-id="f827f-324">An error code string that you can use tooclassify types of errors that occur.</span></span> <span data-ttu-id="f827f-325">U kunt ook Hallo tekenreeks tooreact tooerrors gebruiken.</span><span class="sxs-lookup"><span data-stu-id="f827f-325">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="f827f-326">error_description</span><span class="sxs-lookup"><span data-stu-id="f827f-326">error_description</span></span> |<span data-ttu-id="f827f-327">Een specifiek foutbericht waarmee u kunt identificeren Hallo hoofdoorzaak van een verificatiefout.</span><span class="sxs-lookup"><span data-stu-id="f827f-327">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

## <a name="use-your-own-azure-ad-b2c-directory"></a><span data-ttu-id="f827f-328">Uw eigen Azure AD B2C-directory gebruiken</span><span class="sxs-lookup"><span data-stu-id="f827f-328">Use your own Azure AD B2C directory</span></span>
<span data-ttu-id="f827f-329">tootry deze aanvragen zelf voltooid hello te volgen stappen.</span><span class="sxs-lookup"><span data-stu-id="f827f-329">tootry these requests yourself, complete hello following steps.</span></span> <span data-ttu-id="f827f-330">Vervang Hallo voorbeeldwaarden die wordt gebruikt in dit artikel met uw eigen waarden.</span><span class="sxs-lookup"><span data-stu-id="f827f-330">Replace hello example values we used in this article with your own values.</span></span>

1. <span data-ttu-id="f827f-331">[Een Azure AD B2C-directory maken](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="f827f-331">[Create an Azure AD B2C directory](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="f827f-332">Hallo-naam van uw directory in Hallo aanvragen gebruiken.</span><span class="sxs-lookup"><span data-stu-id="f827f-332">Use hello name of your directory in hello requests.</span></span>
2. <span data-ttu-id="f827f-333">[Maken van een toepassing](active-directory-b2c-app-registration.md) tooobtain een toepassings-ID en een omleidings-URI.</span><span class="sxs-lookup"><span data-stu-id="f827f-333">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID and a redirect URI.</span></span> <span data-ttu-id="f827f-334">Een systeemeigen client opnemen in uw app.</span><span class="sxs-lookup"><span data-stu-id="f827f-334">Include a native client in your app.</span></span>
3. <span data-ttu-id="f827f-335">[Maken van uw beleid](active-directory-b2c-reference-policies.md) tooobtain de beleidsnamen van uw.</span><span class="sxs-lookup"><span data-stu-id="f827f-335">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

