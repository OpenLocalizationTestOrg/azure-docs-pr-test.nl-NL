# <a name="secure-your-iot-deployment"></a><span data-ttu-id="8872a-101">Uw IoT-implementatie beveiligen</span><span class="sxs-lookup"><span data-stu-id="8872a-101">Secure your IoT deployment</span></span>
<span data-ttu-id="8872a-102">In dit artikel biedt de volgende detailniveau Hallo voor het beveiligen van Hallo op basis van Azure IoT-Internet der dingen (IoT)-infrastructuur.</span><span class="sxs-lookup"><span data-stu-id="8872a-102">This article provides hello next level of detail for securing hello Azure IoT-based Internet of Things (IoT) infrastructure.</span></span> <span data-ttu-id="8872a-103">Gedetailleerde gegevens voor het configureren en implementeren van elk onderdeel tooimplementation worden gekoppeld.</span><span class="sxs-lookup"><span data-stu-id="8872a-103">It links tooimplementation level details for configuring and deploying each component.</span></span> <span data-ttu-id="8872a-104">Het bevat ook vergelijkingen en -keuzes tussen verschillende concurrerende methoden.</span><span class="sxs-lookup"><span data-stu-id="8872a-104">It also provides comparisons and choices between various competing methods.</span></span>

<span data-ttu-id="8872a-105">Hello Azure IoT implementatie beveiligen kan worden onderverdeeld in drie beveiligingsgebieden na Hallo:</span><span class="sxs-lookup"><span data-stu-id="8872a-105">Securing hello Azure IoT deployment can be divided into hello following three security areas:</span></span>

* <span data-ttu-id="8872a-106">**Apparaatbeveiliging**: beveiligen Hallo IoT-apparaat terwijl deze is geïmplementeerd in Hallo wilde.</span><span class="sxs-lookup"><span data-stu-id="8872a-106">**Device Security**: Securing hello IoT device while it is deployed in hello wild.</span></span>
* <span data-ttu-id="8872a-107">**Verbindingsbeveiliging**: alle gegevens die worden overgedragen tussen Hallo IoT-apparaat en IoT Hub gezorgd is vertrouwelijk en fraudebestendig.</span><span class="sxs-lookup"><span data-stu-id="8872a-107">**Connection Security**: Ensuring all data transmitted between hello IoT device and IoT Hub is confidential and tamper-proof.</span></span>
* <span data-ttu-id="8872a-108">**Cloud Security**: de mogelijkheid geven toosecure gegevens terwijl deze doorloopt en wordt opgeslagen in de cloud Hallo.</span><span class="sxs-lookup"><span data-stu-id="8872a-108">**Cloud Security**: Providing a means toosecure data while it moves through, and is stored in hello cloud.</span></span>

![Drie beveiligingsgebieden][img-overview]

## <a name="secure-device-provisioning-and-authentication"></a><span data-ttu-id="8872a-110">Beveiligen van mobiele apparaten inrichten en verificatie</span><span class="sxs-lookup"><span data-stu-id="8872a-110">Secure device provisioning and authentication</span></span>
<span data-ttu-id="8872a-111">Hello Azure IoT Suite beveiligt IoT-apparaten door Hallo volgende twee methoden:</span><span class="sxs-lookup"><span data-stu-id="8872a-111">hello Azure IoT Suite secures IoT devices by hello following two methods:</span></span>

* <span data-ttu-id="8872a-112">Door een unieke id van de sleutel (beveiligingstokens) voor elk apparaat kan worden gebruikt door Hallo apparaat toocommunicate Hello IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="8872a-112">By providing a unique identity key (security tokens) for each device, which can be used by hello device toocommunicate with hello IoT Hub.</span></span>
* <span data-ttu-id="8872a-113">Met behulp van een apparaat op [X.509-certificaat] [ lnk-x509] en de persoonlijke sleutel als een manier tooauthenticate Hallo apparaat toohello IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="8872a-113">By using an on-device [X.509 certificate][lnk-x509] and private key as a means tooauthenticate hello device toohello IoT Hub.</span></span> <span data-ttu-id="8872a-114">Deze verificatiemethode zorgt ervoor dat Hallo persoonlijke sleutel op Hallo-apparaat is niet bekend buiten Hallo-apparaat op elk gewenst moment een hoger niveau van beveiliging bieden.</span><span class="sxs-lookup"><span data-stu-id="8872a-114">This authentication method ensures that hello private key on hello device is not known outside hello device at any time, providing a higher level of security.</span></span>

<span data-ttu-id="8872a-115">methode Hello security token biedt verificatie voor elke aanroep van Hallo apparaat tooIoT Hub door een aanroep van de symmetrische sleutel tooeach Hallo koppelen.</span><span class="sxs-lookup"><span data-stu-id="8872a-115">hello security token method provides authentication for each call made by hello device tooIoT Hub by associating hello symmetric key tooeach call.</span></span> <span data-ttu-id="8872a-116">Verificatie op basis van een X.509 kunt verificatie van een IoT-apparaat op de fysieke laag Hallo als onderdeel van Hallo TLS-verbinding tot stand brengen.</span><span class="sxs-lookup"><span data-stu-id="8872a-116">X.509-based authentication allows authentication of an IoT device at hello physical layer as part of hello TLS connection establishment.</span></span> <span data-ttu-id="8872a-117">Hallo beveiliging op tokens gebaseerde methode kan worden gebruikt zonder Hallo x.509-verificatie een minder veilige patroon is.</span><span class="sxs-lookup"><span data-stu-id="8872a-117">hello security-token-based method can be used without hello X.509 authentication which is a less secure pattern.</span></span> <span data-ttu-id="8872a-118">Hallo keuze tussen Hallo twee methoden wordt voornamelijk bepaald hoe veilig Hallo apparaatverificatie moet toobe en beschikbaarheid van beveiligde opslag op Hallo-apparaat (toostore Hallo persoonlijke sleutel veilig).</span><span class="sxs-lookup"><span data-stu-id="8872a-118">hello choice between hello two methods is primarily dictated by how secure hello device authentication needs toobe, and availability of secure storage on hello device (toostore hello private key securely).</span></span>

## <a name="iot-hub-security-tokens"></a><span data-ttu-id="8872a-119">Beveiligingstokens van IoT Hub</span><span class="sxs-lookup"><span data-stu-id="8872a-119">IoT Hub security tokens</span></span>
<span data-ttu-id="8872a-120">IoT-Hub maakt gebruik van beveiliging tokens tooauthenticate apparaten en services tooavoid, sleutels op Hallo netwerk verzenden.</span><span class="sxs-lookup"><span data-stu-id="8872a-120">IoT Hub uses security tokens tooauthenticate devices and services tooavoid sending keys on hello network.</span></span> <span data-ttu-id="8872a-121">Bovendien zijn beveiligingstokens beperkt in geldigheid en het bereik.</span><span class="sxs-lookup"><span data-stu-id="8872a-121">Additionally, security tokens are limited in time validity and scope.</span></span> <span data-ttu-id="8872a-122">Azure IoT SDK's automatisch genereren van tokens zonder speciale configuratie.</span><span class="sxs-lookup"><span data-stu-id="8872a-122">Azure IoT SDKs automatically generate tokens without requiring any special configuration.</span></span> <span data-ttu-id="8872a-123">Sommige scenario's, Hallo gebruiker toogenerate vereisen echter en beveiligingstokens rechtstreeks gebruiken.</span><span class="sxs-lookup"><span data-stu-id="8872a-123">Some scenarios, however, require hello user toogenerate and use security tokens directly.</span></span> <span data-ttu-id="8872a-124">Het gaat hierbij om direct gebruik van de protocollen MQTT, AMQP of HTTP-verwerkingsinformatie Hallo Hallo of Hallo-implementatie van Hallo Tokenservice patroon.</span><span class="sxs-lookup"><span data-stu-id="8872a-124">These include hello direct use of hello MQTT, AMQP, or HTTP surfaces, or hello implementation of hello token service pattern.</span></span>

<span data-ttu-id="8872a-125">Meer informatie over het Hallo-structuur van het beveiligingstoken Hallo en het gebruik ervan vindt u in de volgende artikelen Hallo:</span><span class="sxs-lookup"><span data-stu-id="8872a-125">More details on hello structure of hello security token and its usage can be found in hello following articles:</span></span>

* <span data-ttu-id="8872a-126">[Security token structuur][lnk-security-tokens]</span><span class="sxs-lookup"><span data-stu-id="8872a-126">[Security token structure][lnk-security-tokens]</span></span>
* <span data-ttu-id="8872a-127">[Met SAS-tokens als een apparaat][lnk-sas-tokens]</span><span class="sxs-lookup"><span data-stu-id="8872a-127">[Using SAS tokens as a device][lnk-sas-tokens]</span></span>

<span data-ttu-id="8872a-128">Elke IoT-Hub heeft een [identiteitsregister] [ lnk-identity-registry] die kunnen worden gebruikt toocreate per apparaat bronnen in Hallo-service, zoals een wachtrij met onderweg cloud-naar-apparaat-berichten en tooallow toegang toohello apparaat gerichte eindpunten.</span><span class="sxs-lookup"><span data-stu-id="8872a-128">Each IoT Hub has an [identity registry][lnk-identity-registry] that can be used toocreate per-device resources in hello service, such as a queue that contains in-flight cloud-to-device messages, and tooallow access toohello device-facing endpoints.</span></span> <span data-ttu-id="8872a-129">Hallo id-register IoT Hub biedt een veilige opslag van apparaat-id's en sleutels voor een oplossing.</span><span class="sxs-lookup"><span data-stu-id="8872a-129">hello IoT Hub identity registry provides secure storage of device identities and security keys for a solution.</span></span> <span data-ttu-id="8872a-130">Persoon die of groepen van apparaat-id's kunnen worden toegevoegd tooan staan, of een blokkeringslijst, volledige controle toegang tot het apparaat inschakelen.</span><span class="sxs-lookup"><span data-stu-id="8872a-130">Individual or groups of device identities can be added tooan allow list, or a block list, enabling complete control over device access.</span></span> <span data-ttu-id="8872a-131">Hallo bevatten volgende artikelen meer details over Hallo-structuur van Hallo id-register en ondersteunde bewerkingen.</span><span class="sxs-lookup"><span data-stu-id="8872a-131">hello following articles provide more details on hello structure of hello identity registry and supported operations.</span></span>

<span data-ttu-id="8872a-132">[IoT Hub zoals MQTT AMQP en HTTP-protocollen ondersteunt][lnk-protocols].</span><span class="sxs-lookup"><span data-stu-id="8872a-132">[IoT Hub supports protocols such as MQTT, AMQP, and HTTP][lnk-protocols].</span></span> <span data-ttu-id="8872a-133">Elk van deze protocollen beveiligingstokens uit Hallo IoT-apparaat tooIoT Hub anders gebruiken:</span><span class="sxs-lookup"><span data-stu-id="8872a-133">Each of these protocols use security tokens from hello IoT device tooIoT Hub differently:</span></span>

* <span data-ttu-id="8872a-134">AMQP: SASL zonder opmaak en op basis van Claims AMQP-beveiliging ({policyName}@sas.root. { iothubName} in geval van IoT hub-niveau tokens; Hallo {deviceId} in het geval van tokens binnen het bereik van apparaat).</span><span class="sxs-lookup"><span data-stu-id="8872a-134">AMQP: SASL PLAIN and AMQP Claims-based security ({policyName}@sas.root.{iothubName} in hello case of IoT hub-level tokens; {deviceId} in case of device-scoped tokens).</span></span>
* <span data-ttu-id="8872a-135">MQTT: Pakket wordt gebruikt {deviceId} VERBINDEN als Hallo {ClientId}, {IoThubhostname} / {deviceId} in Hallo **gebruikersnaam** veld en een SAS-token in Hallo **wachtwoord** veld.</span><span class="sxs-lookup"><span data-stu-id="8872a-135">MQTT: CONNECT packet uses {deviceId} as hello {ClientId}, {IoThubhostname}/{deviceId} in hello **Username** field and a SAS token in hello **Password** field.</span></span>
* <span data-ttu-id="8872a-136">HTTP: Ongeldig token is in de aanvraagheader Hallo-autorisatie.</span><span class="sxs-lookup"><span data-stu-id="8872a-136">HTTP: Valid token is in hello authorization request header.</span></span>

<span data-ttu-id="8872a-137">ID-register IoT Hub kan worden gebruikte tooconfigure per apparaat beveiligingsreferenties en toegangscontrole.</span><span class="sxs-lookup"><span data-stu-id="8872a-137">IoT Hub identity registry can be used tooconfigure per-device security credentials and access control.</span></span> <span data-ttu-id="8872a-138">Echter, als een IoT-oplossing heeft al een aanzienlijke investering een [aangepast apparaat identiteit register en/of verificatie schema][lnk-custom-auth], kunnen worden geïntegreerd in een bestaande infrastructuur met IoT Hub door het maken van een token service.</span><span class="sxs-lookup"><span data-stu-id="8872a-138">However, if an IoT solution already has a significant investment in a [custom device identity registry and/or authentication scheme][lnk-custom-auth], it can be integrated into an existing infrastructure with IoT Hub by creating a token service.</span></span>

### <a name="x509-certificate-based-device-authentication"></a><span data-ttu-id="8872a-139">Verificatie van de X.509-apparaten op basis van certificaten</span><span class="sxs-lookup"><span data-stu-id="8872a-139">X.509 certificate-based device authentication</span></span>
<span data-ttu-id="8872a-140">Hallo gebruik van een [X.509-certificaat op basis van apparaten] [ lnk-use-x509] en de bijbehorende persoonlijke en openbare sleutelpaar staat aanvullende verificatie op de fysieke laag Hallo.</span><span class="sxs-lookup"><span data-stu-id="8872a-140">hello use of a [device-based X.509 certificate][lnk-use-x509] and its associated private and public key pair allows additional authentication at hello physical layer.</span></span> <span data-ttu-id="8872a-141">Hallo persoonlijke sleutel wordt veilig opgeslagen in het Hallo-apparaat en is niet buiten Hallo-apparaat kan worden gedetecteerd.</span><span class="sxs-lookup"><span data-stu-id="8872a-141">hello private key is stored securely in hello device and is not discoverable outside hello device.</span></span> <span data-ttu-id="8872a-142">Hallo X.509-certificaat bevat informatie over het Hallo-apparaat, zoals de apparaat-ID en de andere organisatie-gegevens.</span><span class="sxs-lookup"><span data-stu-id="8872a-142">hello X.509 certificate contains information about hello device, such as device ID, and other organizational details.</span></span> <span data-ttu-id="8872a-143">Een handtekening van het Hallo-certificaat wordt gegenereerd met behulp van de persoonlijke sleutel Hallo.</span><span class="sxs-lookup"><span data-stu-id="8872a-143">A signature of hello certificate is generated by using hello private key.</span></span>

<span data-ttu-id="8872a-144">Inrichting stroom op hoog niveau apparaat:</span><span class="sxs-lookup"><span data-stu-id="8872a-144">High-level device provisioning flow:</span></span>

* <span data-ttu-id="8872a-145">Koppelen van een id tooa fysiek apparaat – apparaat-id en/of x.509-certificaat gekoppeld toohello apparaat tijdens apparaat productie of bedrijf stellen.</span><span class="sxs-lookup"><span data-stu-id="8872a-145">Associate an identifier tooa physical device – device identity and/or X.509 certificate associated toohello device during device manufacturing or commissioning.</span></span>
* <span data-ttu-id="8872a-146">Overeenkomende identiteit invoer in IoT Hub-apparaat-id en bijbehorende apparaatgegevens in Hallo id-register IoT Hub maken.</span><span class="sxs-lookup"><span data-stu-id="8872a-146">Create a corresponding identity entry in IoT Hub – device identity and associated device information in hello IoT Hub identity registry.</span></span>
* <span data-ttu-id="8872a-147">Vingerafdruk van het x.509-certificaat veilig opslaan in het register van IoT Hub-identiteit.</span><span class="sxs-lookup"><span data-stu-id="8872a-147">Securely store X.509 certificate thumbprint in IoT Hub identity registry.</span></span>

### <a name="root-certificate-on-device"></a><span data-ttu-id="8872a-148">Basiscertificaat op apparaat</span><span class="sxs-lookup"><span data-stu-id="8872a-148">Root certificate on device</span></span>
<span data-ttu-id="8872a-149">Tijdens het maken van een beveiligde TLS-verbinding met IoT Hub, verifieert Hallo IoT-apparaat met een basiscertificaat dat deel uitmaakt van Hallo apparaat SDK IoT-Hub.</span><span class="sxs-lookup"><span data-stu-id="8872a-149">While establishing a secure TLS connection with IoT Hub, hello IoT device authenticates IoT Hub using a root certificate which is part of hello device SDK.</span></span> <span data-ttu-id="8872a-150">Voor Hallo C client SDK Hallo certificaat bevindt zich onder de map Hallo '\\c\\certificaten ' onder de hoofdmap Hallo van Hallo-opslagplaats.</span><span class="sxs-lookup"><span data-stu-id="8872a-150">For hello C client SDK hello certificate is located under hello folder "\\c\\certs" under hello root of hello repo.</span></span> <span data-ttu-id="8872a-151">Deze basiscertificaten lange levensduur hebben, maar ze nog steeds mogelijk verlopen of worden ingetrokken.</span><span class="sxs-lookup"><span data-stu-id="8872a-151">Though these root certificates are long-lived, they still may expire or be revoked.</span></span> <span data-ttu-id="8872a-152">Als er is geen manier om bij te werken Hallo-certificaat op Hallo apparaat hello apparaat mogelijk geen verbinding toosubsequently toohello IoT Hub (of een andere cloudservice).</span><span class="sxs-lookup"><span data-stu-id="8872a-152">If there is no way of updating hello certificate on hello device, hello device may not be able toosubsequently connect toohello IoT Hub (or any other cloud service).</span></span> <span data-ttu-id="8872a-153">Met een basiscertificaat betekent tooupdate Hallo zodra Hallo IoT-apparaat is geïmplementeerd, wordt dit risico effectief beperken.</span><span class="sxs-lookup"><span data-stu-id="8872a-153">Having a means tooupdate hello root certificate once hello IoT device is deployed will effectively mitigate this risk.</span></span>

## <a name="securing-hello-connection"></a><span data-ttu-id="8872a-154">Hallo verbinding beveiligen</span><span class="sxs-lookup"><span data-stu-id="8872a-154">Securing hello connection</span></span>
<span data-ttu-id="8872a-155">Internet-verbinding tussen Hallo IoT-apparaat en IoT Hub is beveiligd met behulp van Hallo Transport Layer Security (TLS) standaard.</span><span class="sxs-lookup"><span data-stu-id="8872a-155">Internet connection between hello IoT device and IoT Hub is secured using hello Transport Layer Security (TLS) standard.</span></span> <span data-ttu-id="8872a-156">Azure IoT ondersteunt [TLS 1.2][lnk-tls12], TLS 1.1 en TLS 1.0 in deze volgorde.</span><span class="sxs-lookup"><span data-stu-id="8872a-156">Azure IoT supports [TLS 1.2][lnk-tls12], TLS 1.1 and TLS 1.0, in this order.</span></span> <span data-ttu-id="8872a-157">Ondersteuning voor TLS 1.0 wordt geleverd alleen voor achterwaartse compatibiliteit.</span><span class="sxs-lookup"><span data-stu-id="8872a-157">Support for TLS 1.0 is provided for backward compatibility only.</span></span> <span data-ttu-id="8872a-158">Het verdient toouse TLS 1.2 omdat het meeste beveiliging Hallo biedt.</span><span class="sxs-lookup"><span data-stu-id="8872a-158">It is recommended toouse TLS 1.2 since it provides hello most security.</span></span>

<span data-ttu-id="8872a-159">Azure IoT Suite ondersteunt Hallo Cipher Suites in deze volgorde te volgen.</span><span class="sxs-lookup"><span data-stu-id="8872a-159">Azure IoT Suite supports hello following Cipher Suites, in this order.</span></span>

| <span data-ttu-id="8872a-160">Coderingssuite</span><span class="sxs-lookup"><span data-stu-id="8872a-160">Cipher Suite</span></span> | <span data-ttu-id="8872a-161">lengte</span><span class="sxs-lookup"><span data-stu-id="8872a-161">Length</span></span> |
| --- | --- |
| <span data-ttu-id="8872a-162">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA384 (0xc028) ECDH secp384r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="8872a-162">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA384 (0xc028) ECDH secp384r1 (eq.</span></span> <span data-ttu-id="8872a-163">FS 7680 bits RSA)</span><span class="sxs-lookup"><span data-stu-id="8872a-163">7680 bits RSA) FS</span></span> |<span data-ttu-id="8872a-164">256</span><span class="sxs-lookup"><span data-stu-id="8872a-164">256</span></span> |
| <span data-ttu-id="8872a-165">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0xc027) ECDH secp256r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="8872a-165">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0xc027) ECDH secp256r1 (eq.</span></span> <span data-ttu-id="8872a-166">FS 3072 bits RSA)</span><span class="sxs-lookup"><span data-stu-id="8872a-166">3072 bits RSA) FS</span></span> |<span data-ttu-id="8872a-167">128</span><span class="sxs-lookup"><span data-stu-id="8872a-167">128</span></span> |
| <span data-ttu-id="8872a-168">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA (0xc014) ECDH secp384r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="8872a-168">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA (0xc014) ECDH secp384r1 (eq.</span></span> <span data-ttu-id="8872a-169">FS 7680 bits RSA)</span><span class="sxs-lookup"><span data-stu-id="8872a-169">7680 bits RSA) FS</span></span> |<span data-ttu-id="8872a-170">256</span><span class="sxs-lookup"><span data-stu-id="8872a-170">256</span></span> |
| <span data-ttu-id="8872a-171">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA (0xc013) ECDH secp256r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="8872a-171">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA (0xc013) ECDH secp256r1 (eq.</span></span> <span data-ttu-id="8872a-172">FS 3072 bits RSA)</span><span class="sxs-lookup"><span data-stu-id="8872a-172">3072 bits RSA) FS</span></span> |<span data-ttu-id="8872a-173">128</span><span class="sxs-lookup"><span data-stu-id="8872a-173">128</span></span> |
| <span data-ttu-id="8872a-174">TLS\_RSA\_WITH\_AES\_256\_GCM\_SHA384 (0x9d)</span><span class="sxs-lookup"><span data-stu-id="8872a-174">TLS\_RSA\_WITH\_AES\_256\_GCM\_SHA384 (0x9d)</span></span> |<span data-ttu-id="8872a-175">256</span><span class="sxs-lookup"><span data-stu-id="8872a-175">256</span></span> |
| <span data-ttu-id="8872a-176">TLS\_RSA\_WITH\_AES\_128\_GCM\_SHA256 (0x9c)</span><span class="sxs-lookup"><span data-stu-id="8872a-176">TLS\_RSA\_WITH\_AES\_128\_GCM\_SHA256 (0x9c)</span></span> |<span data-ttu-id="8872a-177">128</span><span class="sxs-lookup"><span data-stu-id="8872a-177">128</span></span> |
| <span data-ttu-id="8872a-178">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA256 (0x3d)</span><span class="sxs-lookup"><span data-stu-id="8872a-178">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA256 (0x3d)</span></span> |<span data-ttu-id="8872a-179">256</span><span class="sxs-lookup"><span data-stu-id="8872a-179">256</span></span> |
| <span data-ttu-id="8872a-180">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0x3c)</span><span class="sxs-lookup"><span data-stu-id="8872a-180">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0x3c)</span></span> |<span data-ttu-id="8872a-181">128</span><span class="sxs-lookup"><span data-stu-id="8872a-181">128</span></span> |
| <span data-ttu-id="8872a-182">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA (0x35)</span><span class="sxs-lookup"><span data-stu-id="8872a-182">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA (0x35)</span></span> |<span data-ttu-id="8872a-183">256</span><span class="sxs-lookup"><span data-stu-id="8872a-183">256</span></span> |
| <span data-ttu-id="8872a-184">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA (0x2f)</span><span class="sxs-lookup"><span data-stu-id="8872a-184">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA (0x2f)</span></span> |<span data-ttu-id="8872a-185">128</span><span class="sxs-lookup"><span data-stu-id="8872a-185">128</span></span> |
| <span data-ttu-id="8872a-186">TLS\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA (0xa)</span><span class="sxs-lookup"><span data-stu-id="8872a-186">TLS\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA (0xa)</span></span> |<span data-ttu-id="8872a-187">112</span><span class="sxs-lookup"><span data-stu-id="8872a-187">112</span></span> |

## <a name="securing-hello-cloud"></a><span data-ttu-id="8872a-188">Hallo cloud beveiligen</span><span class="sxs-lookup"><span data-stu-id="8872a-188">Securing hello cloud</span></span>
<span data-ttu-id="8872a-189">Azure IoT-Hub kunt definitie van [toegangsbeheerbeleid] [ lnk-protocols] voor elke beveiligingssleutel.</span><span class="sxs-lookup"><span data-stu-id="8872a-189">Azure IoT Hub allows definition of [access control policies][lnk-protocols] for each security key.</span></span> <span data-ttu-id="8872a-190">Hallo set machtigingen toogrant toegang tooeach van IoT-Hub eindpunten volgende wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="8872a-190">It uses hello following set of permissions toogrant access tooeach of IoT Hub's endpoints.</span></span> <span data-ttu-id="8872a-191">Machtigingen beperken Hallo toegang tooan die IOT-Hub op basis van functionaliteit.</span><span class="sxs-lookup"><span data-stu-id="8872a-191">Permissions limit hello access tooan IoT Hub based on functionality.</span></span>

* <span data-ttu-id="8872a-192">**RegistryRead**.</span><span class="sxs-lookup"><span data-stu-id="8872a-192">**RegistryRead**.</span></span> <span data-ttu-id="8872a-193">Verleent leestoegang toohello id-register.</span><span class="sxs-lookup"><span data-stu-id="8872a-193">Grants read access toohello identity registry.</span></span> <span data-ttu-id="8872a-194">Zie voor meer informatie [identiteitsregister][lnk-identity-registry].</span><span class="sxs-lookup"><span data-stu-id="8872a-194">For more information, see [identity registry][lnk-identity-registry].</span></span>
* <span data-ttu-id="8872a-195">**RegistryReadWrite**.</span><span class="sxs-lookup"><span data-stu-id="8872a-195">**RegistryReadWrite**.</span></span> <span data-ttu-id="8872a-196">Verleent lees- en schrijftoegang toohello id-register.</span><span class="sxs-lookup"><span data-stu-id="8872a-196">Grants read and write access toohello identity registry.</span></span> <span data-ttu-id="8872a-197">Zie voor meer informatie [identiteitsregister][lnk-identity-registry].</span><span class="sxs-lookup"><span data-stu-id="8872a-197">For more information, see [identity registry][lnk-identity-registry].</span></span>
* <span data-ttu-id="8872a-198">**ServiceConnect**.</span><span class="sxs-lookup"><span data-stu-id="8872a-198">**ServiceConnect**.</span></span> <span data-ttu-id="8872a-199">Verleent toegang tot toocloud service gerichte communicatie en controle-eindpunten.</span><span class="sxs-lookup"><span data-stu-id="8872a-199">Grants access toocloud service-facing communication and monitoring endpoints.</span></span> <span data-ttu-id="8872a-200">Bijvoorbeeld, verleent deze machtiging tooback-end cloud services tooreceive apparaat-naar-cloud-berichten en berichten van de cloud naar apparaat verzenden ophalen Hallo levering bevestigingen overeenkomt.</span><span class="sxs-lookup"><span data-stu-id="8872a-200">For example, it grants permission tooback-end cloud services tooreceive device-to-cloud messages, send cloud-to-device messages, and retrieve hello corresponding delivery acknowledgments.</span></span>
* <span data-ttu-id="8872a-201">**DeviceConnect**.</span><span class="sxs-lookup"><span data-stu-id="8872a-201">**DeviceConnect**.</span></span> <span data-ttu-id="8872a-202">Verleent toegang tot toodevice gerichte eindpunten.</span><span class="sxs-lookup"><span data-stu-id="8872a-202">Grants access toodevice-facing endpoints.</span></span> <span data-ttu-id="8872a-203">Toestemming verleent toosend apparaat-naar-cloud-berichten en cloud-naar-apparaat-berichten ontvangen.</span><span class="sxs-lookup"><span data-stu-id="8872a-203">For example, it grants permission toosend device-to-cloud messages and receive cloud-to-device messages.</span></span> <span data-ttu-id="8872a-204">Deze machtiging wordt gebruikt door apparaten.</span><span class="sxs-lookup"><span data-stu-id="8872a-204">This permission is used by devices.</span></span>

<span data-ttu-id="8872a-205">Er zijn twee manieren tooobtain **DeviceConnect** machtigingen met IoT Hub met [beveiligingstokens][lnk-sas-tokens]: met een id-sleutel van het apparaat of een gedeelde toegangssleutel.</span><span class="sxs-lookup"><span data-stu-id="8872a-205">There are two ways tooobtain **DeviceConnect** permissions with IoT Hub with [security tokens][lnk-sas-tokens]: using a device identity key, or a shared access key.</span></span> <span data-ttu-id="8872a-206">Bovendien is het belangrijk toonote die toegankelijk is vanaf de apparaten van alle functionaliteit wordt blootgelegd door ontwerp voor eindpunten met voorvoegsel `/devices/{deviceId}`.</span><span class="sxs-lookup"><span data-stu-id="8872a-206">Moreover, it is important toonote that all functionality accessible from devices is exposed by design on endpoints with prefix `/devices/{deviceId}`.</span></span>

<span data-ttu-id="8872a-207">[Service-onderdelen kunnen alleen beveiligingstokens worden gegenereerd] [ lnk-service-tokens] gebruik gedeeld toegangsbeleid Hallo relevante machtigingen verlenen.</span><span class="sxs-lookup"><span data-stu-id="8872a-207">[Service components can only generate security tokens][lnk-service-tokens] using shared access policies granting hello appropriate permissions.</span></span>

<span data-ttu-id="8872a-208">Azure IoT Hub en andere services die deel uitmaken van de oplossing Hallo wellicht toestaan van beheer van gebruikers met behulp van hello Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="8872a-208">Azure IoT Hub and other services which may be part of hello solution allow management of users using hello Azure Active Directory.</span></span>

<span data-ttu-id="8872a-209">Gegevens ingenomen door Azure IoT Hub kan worden gebruikt door diverse services zoals Azure Stream Analytics en Azure blob-opslag.</span><span class="sxs-lookup"><span data-stu-id="8872a-209">Data ingested by Azure IoT Hub can be consumed by a variety of services such as Azure Stream Analytics and Azure blob storage.</span></span> <span data-ttu-id="8872a-210">Deze services toestaan management toegang.</span><span class="sxs-lookup"><span data-stu-id="8872a-210">These services allow management access.</span></span> <span data-ttu-id="8872a-211">Meer informatie over deze services en de beschikbare opties hieronder:</span><span class="sxs-lookup"><span data-stu-id="8872a-211">Read more about these services and available options below:</span></span>

* <span data-ttu-id="8872a-212">[Azure DocumentDB][lnk-docdb]: een schaalbare, volledig geïndexeerd databaseservice voor semi-gestructureerde gegevens die de metagegevens voor Hallo apparaten beheert u inricht, zoals kenmerken, configuratie en beveiligingseigenschappen.</span><span class="sxs-lookup"><span data-stu-id="8872a-212">[Azure DocumentDB][lnk-docdb]: A scalable, fully-indexed database service for semi-structured data that manages metadata for hello devices you provision, such as attributes, configuration, and security properties.</span></span> <span data-ttu-id="8872a-213">DocumentDB biedt hoge prestaties en hoge gegevensdoorvoer verwerking, schema networkdirect indexeren van gegevens en een uitgebreide SQL-QueryInterface.</span><span class="sxs-lookup"><span data-stu-id="8872a-213">DocumentDB offers high-performance and high-throughput processing, schema-agnostic indexing of data, and a rich SQL query interface.</span></span>
* <span data-ttu-id="8872a-214">[Azure Stream Analytics][lnk-asa]: realtime stroom wordt verwerkt in de cloud Hallo waarmee u toorapidly ontwikkelen en implementeren van een analyses voordelige oplossing toouncover realtime-inzichten verkrijgen van apparaten, sensoren infrastructuur en toepassingen.</span><span class="sxs-lookup"><span data-stu-id="8872a-214">[Azure Stream Analytics][lnk-asa]: Real-time stream processing in hello cloud that enables you toorapidly develop and deploy a low-cost analytics solution toouncover real-time insights from devices, sensors, infrastructure, and applications.</span></span> <span data-ttu-id="8872a-215">Hallo-gegevens van deze volledig beheerde service tooany volume kunnen worden geschaald en toch veel doorvoer, lage latentie en tolerantie kan bereiken.</span><span class="sxs-lookup"><span data-stu-id="8872a-215">hello data from this fully-managed service can scale tooany volume while still achieving high throughput, low latency, and resiliency.</span></span>
* <span data-ttu-id="8872a-216">[Azure App Services][lnk-appservices]: een cloud platform toobuild krachtige web- en mobiele apps die verbinding toodata overal; in Hallo cloud of on-premises.</span><span class="sxs-lookup"><span data-stu-id="8872a-216">[Azure App Services][lnk-appservices]: A cloud platform toobuild powerful web and mobile apps that connect toodata anywhere; in hello cloud or on-premises.</span></span> <span data-ttu-id="8872a-217">Aansprekende mobiele apps bouwen voor iOS, Android en Windows.</span><span class="sxs-lookup"><span data-stu-id="8872a-217">Build engaging mobile apps for iOS, Android, and Windows.</span></span> <span data-ttu-id="8872a-218">Integreren met uw Software als een Service (SaaS) en de enterprise-toepassingen met out-of-the-box-connectiviteit toodozens van cloud-gebaseerde services en toepassingen van de enterprise.</span><span class="sxs-lookup"><span data-stu-id="8872a-218">Integrate with your Software as a Service (SaaS) and enterprise applications with out-of-the-box connectivity toodozens of cloud-based services and enterprise applications.</span></span> <span data-ttu-id="8872a-219">De code in uw favoriete taal en IDE (.NET, Node.js, PHP, Python of Java) toobuild web-apps en API's sneller dan ooit.</span><span class="sxs-lookup"><span data-stu-id="8872a-219">Code in your favorite language and IDE (.NET, Node.js, PHP, Python, or Java) toobuild web apps and APIs faster than ever.</span></span>
* <span data-ttu-id="8872a-220">[Logic Apps][lnk-logicapps]: Hallo Logic Apps-functie van Azure App Service helpt bij het integreren van uw IoT-oplossing tooyour bestaande LOB-systemen en workflow-processen automatiseren.</span><span class="sxs-lookup"><span data-stu-id="8872a-220">[Logic Apps][lnk-logicapps]: hello Logic Apps feature of Azure App Service helps integrate your IoT solution tooyour existing line-of-business systems and automate workflow processes.</span></span> <span data-ttu-id="8872a-221">Logic Apps kan ontwikkelaars toodesign werkstromen die na een trigger worden gestart en vervolgens een aantal stappen uitgevoerd: regels en acties die krachtige connectors toointegrate met uw bedrijfsprocessen gebruiken.</span><span class="sxs-lookup"><span data-stu-id="8872a-221">Logic Apps enables developers toodesign workflows that start from a trigger and then execute a series of steps—rules and actions that use powerful connectors toointegrate with your business processes.</span></span> <span data-ttu-id="8872a-222">Logic Apps biedt out-of-the-box-connectiviteit tooa vast ecosysteem van SaaS, op basis van cloud en on-premises toepassingen.</span><span class="sxs-lookup"><span data-stu-id="8872a-222">Logic Apps offers out-of-the-box connectivity tooa vast ecosystem of SaaS, cloud-based, and on-premises applications.</span></span>
* <span data-ttu-id="8872a-223">[Azure-blobopslag][lnk-blob]: betrouwbare en voordelige cloud-opslag voor Hallo gegevens die uw apparaten toohello cloud verzendt.</span><span class="sxs-lookup"><span data-stu-id="8872a-223">[Azure blob storage][lnk-blob]: Reliable, economical cloud storage for hello data that your devices send toohello cloud.</span></span>

## <a name="conclusion"></a><span data-ttu-id="8872a-224">Conclusie</span><span class="sxs-lookup"><span data-stu-id="8872a-224">Conclusion</span></span>
<span data-ttu-id="8872a-225">Dit artikel bevat de mate van details over het ontwerpen en implementeren van een IoT-infrastructuur met behulp van Azure IoT overzicht van de uitvoering.</span><span class="sxs-lookup"><span data-stu-id="8872a-225">This article provides overview of implementation level details for designing and deploying an IoT infrastructure using Azure IoT.</span></span> <span data-ttu-id="8872a-226">Configureren van elk onderdeel van beveiligde toobe is de sleutel in het beveiligen van Hallo algemene IoT-infrastructuur.</span><span class="sxs-lookup"><span data-stu-id="8872a-226">Configuring each component toobe secure is key in securing hello overall IoT infrastructure.</span></span> <span data-ttu-id="8872a-227">Hallo ontwerpbeslissingen die beschikbaar zijn in Azure IoT een bepaalde mate van flexibiliteit en keuze; elke keuze hebben echter beveiligingsgebied.</span><span class="sxs-lookup"><span data-stu-id="8872a-227">hello design choices available in Azure IoT provide some level of flexibility and choice; however, each choice may have security implications.</span></span> <span data-ttu-id="8872a-228">Het is raadzaam dat elk van deze keuzes worden geëvalueerd door een/kosten van het risico-evaluatie.</span><span class="sxs-lookup"><span data-stu-id="8872a-228">It is recommended that each of these choices be evaluated through a risk/cost assessment.</span></span>

[img-overview]: media/iot-secure-your-deployment/overview.png

[lnk-security-tokens]: ../articles/iot-hub/iot-hub-devguide-security.md#security-token-structure
[lnk-sas-tokens]: ../articles/iot-hub/iot-hub-devguide-security.md#use-sas-tokens-in-a-device-app
[lnk-identity-registry]: ../articles/iot-hub/iot-hub-devguide-identity-registry.md
[lnk-protocols]: ../articles/iot-hub/iot-hub-devguide-security.md
[lnk-custom-auth]: ../articles/iot-hub/iot-hub-devguide-security.md#custom-device-authentication
[lnk-x509]: http://www.itu.int/rec/T-REC-X.509-201210-I/en
[lnk-use-x509]: ../articles/iot-hub/iot-hub-devguide-security.md
[lnk-tls12]: https://tools.ietf.org/html/rfc5246
[lnk-service-tokens]: ../articles/iot-hub/iot-hub-devguide-security.md#use-security-tokens-from-service-components
[lnk-docdb]: https://azure.microsoft.com/services/documentdb/
[lnk-asa]: https://azure.microsoft.com/services/stream-analytics/
[lnk-appservices]: https://azure.microsoft.com/services/app-service/
[lnk-logicapps]: https://azure.microsoft.com/services/app-service/logic/
[lnk-blob]: https://azure.microsoft.com/services/storage/
