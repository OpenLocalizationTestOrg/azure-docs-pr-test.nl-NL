

<span data-ttu-id="676d2-101">Wanneer u een toepassing webproject voor Azure maakt, kunt u een virtuele machine in Azure inrichten.</span><span class="sxs-lookup"><span data-stu-id="676d2-101">When you create a web application project for Azure, you can provision a virtual machine in Azure.</span></span> <span data-ttu-id="676d2-102">U kunt vervolgens de virtuele machine configureren met extra software of de virtuele machine worden gebruikt voor diagnostische of foutopsporing doeleinden.</span><span class="sxs-lookup"><span data-stu-id="676d2-102">You can then configure the virtual machine with additional software, or use the virtual machine for diagnostic or debugging purposes.</span></span>

<span data-ttu-id="676d2-103">Volg deze stappen voor het maken van een virtuele machine wanneer u een webtoepassing maakt:</span><span class="sxs-lookup"><span data-stu-id="676d2-103">To create a virtual machine when you create a web application, follow these steps:</span></span>

1. <span data-ttu-id="676d2-104">Klik in Visual Studio **bestand** > **nieuw** > **Project** > **Web**, en kies vervolgens **ASP.NET-webtoepassing** (onder de **Visual C#** of **Visual Basic** knooppunten).</span><span class="sxs-lookup"><span data-stu-id="676d2-104">In Visual Studio, click **File** > **New** > **Project** > **Web**, and then choose **ASP.NET Web Application** (under the **Visual C#** or **Visual Basic** nodes).</span></span>
2. <span data-ttu-id="676d2-105">In de **nieuw ASP.NET-Project** in het dialoogvenster Selecteer het type van de webtoepassing die u wilt en de Azure-sectie van het dialoogvenster (in de rechterbenedenhoek) en zorg ervoor dat de **Host in de cloud** selectievakje geselecteerde (dit selectievakje **maken van externe bronnen** in sommige installaties).</span><span class="sxs-lookup"><span data-stu-id="676d2-105">In the **New ASP.NET Project** dialog box, select the type of web application you want, and in the Azure section of the dialog box (in the lower-right corner), make sure that the **Host in the cloud** check box is selected (this check box is labeled **Create remote resources** in some installations).</span></span>
   
    ![][0]
3. <span data-ttu-id="676d2-106">Kies voor dit voorbeeld in de vervolgkeuzelijst onder Microsoft Azure **virtuele Machine (v1)**, en klik vervolgens op de **OK** knop.</span><span class="sxs-lookup"><span data-stu-id="676d2-106">For this example, in the drop-down list under Microsoft Azure, choose **Virtual Machine (v1)**, and then click the **OK** button.</span></span>
4. <span data-ttu-id="676d2-107">Aanmelden bij Azure als u wordt gevraagd.</span><span class="sxs-lookup"><span data-stu-id="676d2-107">Sign in to Azure if you're prompted.</span></span> <span data-ttu-id="676d2-108">De **virtuele Machine maken** dialoogvenster wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="676d2-108">The **Create Virtual Machine** dialog box appears.</span></span>
   
    ![][2]
5. <span data-ttu-id="676d2-109">In de **DNS-naam** Voer een naam voor de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="676d2-109">In the **DNS name** box, enter a name for the virtual machine.</span></span> <span data-ttu-id="676d2-110">De DNS-naam moet uniek zijn in Azure.</span><span class="sxs-lookup"><span data-stu-id="676d2-110">The DNS name must be unique in Azure.</span></span> <span data-ttu-id="676d2-111">Als de ingevoerde naam niet beschikbaar is, verschijnt er een rood uitroepteken.</span><span class="sxs-lookup"><span data-stu-id="676d2-111">If the name you entered isn't available, a red exclamation point appears.</span></span>
6. <span data-ttu-id="676d2-112">In de **installatiekopie** kiest u de installatiekopie die u wilt op basis van de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="676d2-112">In the **Image** list, choose the image you want to base the virtual machine on.</span></span> <span data-ttu-id="676d2-113">U kunt een van de installatiekopieën van de standaard virtuele machine van Azure of uw installatiekopie die u hebt geüpload naar Azure.</span><span class="sxs-lookup"><span data-stu-id="676d2-113">You can choose any of the standard Azure virtual machine images or your image that you've uploaded to Azure.</span></span>
7. <span data-ttu-id="676d2-114">Laat de **IIS inschakelen en Web Deploy** selectievakje geselecteerd tenzij u van plan bent een andere webserver installeren.</span><span class="sxs-lookup"><span data-stu-id="676d2-114">Leave the **Enable IIS and Web Deploy** check box selected unless you plan to install a different web server.</span></span> <span data-ttu-id="676d2-115">Het niet mogelijk om te publiceren vanuit Visual Studio als u Web Deploy uitschakelt.</span><span class="sxs-lookup"><span data-stu-id="676d2-115">You won't be able to publish from Visual Studio if you disable Web Deploy.</span></span> <span data-ttu-id="676d2-116">U kunt IIS en Web Deploy toevoegen aan een van de ingepakte afbeeldingen van Windows Server, met inbegrip van uw eigen aangepaste installatiekopieën.</span><span class="sxs-lookup"><span data-stu-id="676d2-116">You can add IIS and Web Deploy to any of the packaged Windows Server images, including your own custom images.</span></span>
8. <span data-ttu-id="676d2-117">In de **grootte** Kies de grootte van de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="676d2-117">In the **Size** list, choose the size of the virtual machine.</span></span>
9. <span data-ttu-id="676d2-118">Geef de referenties aanmelden voor deze virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="676d2-118">Specify the sign-in credentials for this virtual machine.</span></span> <span data-ttu-id="676d2-119">Noteer deze, omdat u moet ze toegang krijgen tot de machine via Extern bureaublad.</span><span class="sxs-lookup"><span data-stu-id="676d2-119">Make a note of them, because you'll need them to access the machine through Remote Desktop.</span></span>
10. <span data-ttu-id="676d2-120">In de **locatie** Kies de regio voor het hosten van de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="676d2-120">In the **Location** list, choose the region to host the virtual machine.</span></span>
11. <span data-ttu-id="676d2-121">Klik op de **OK** knop om te beginnen met het maken van de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="676d2-121">Click  the **OK** button to start creating the virtual machine.</span></span> <span data-ttu-id="676d2-122">U kunt de voortgang van de bewerking in volgen de **uitvoer** venster.</span><span class="sxs-lookup"><span data-stu-id="676d2-122">You can follow the progress of the operation in the **Output** window.</span></span>
    
    ![][3]
12. <span data-ttu-id="676d2-123">Wanneer de virtuele machine is ingericht, gepubliceerde scripts worden gemaakt in een **PublishScripts** knooppunt in uw oplossing.</span><span class="sxs-lookup"><span data-stu-id="676d2-123">When the virtual machine is provisioned, published scripts are created in a **PublishScripts** node in your solution.</span></span> <span data-ttu-id="676d2-124">Het gepubliceerde-script wordt uitgevoerd en voorziet in een virtuele machine in Azure.</span><span class="sxs-lookup"><span data-stu-id="676d2-124">The published script runs and provisions a virtual machine in Azure.</span></span> <span data-ttu-id="676d2-125">De **uitvoer** venster geeft de status.</span><span class="sxs-lookup"><span data-stu-id="676d2-125">The **Output** window shows the status.</span></span> <span data-ttu-id="676d2-126">Het script voert de volgende bewerkingen voor het instellen van de virtuele machine:</span><span class="sxs-lookup"><span data-stu-id="676d2-126">The script performs the following actions to set up the virtual machine:</span></span>
    
    * <span data-ttu-id="676d2-127">Als deze nog niet bestaat, maakt de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="676d2-127">Creates the virtual machine if it doesn't already exist.</span></span>
    * <span data-ttu-id="676d2-128">Een opslagaccount maakt met een naam die met begint `devtest`, maar alleen als er al een opslagaccount in de opgegeven regio.</span><span class="sxs-lookup"><span data-stu-id="676d2-128">Creates a storage account with a name that begins with `devtest`, but only if there isn't already such a storage account in the specified region.</span></span>
    * <span data-ttu-id="676d2-129">Maakt een cloudservice als een container voor de virtuele machine en een Webrol voor de webtoepassing maakt.</span><span class="sxs-lookup"><span data-stu-id="676d2-129">Creates a cloud service as a container for the virtual machine, and creates a web role for the web application.</span></span>
    * <span data-ttu-id="676d2-130">Hiermee configureert u Web Deploy op de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="676d2-130">Configures Web Deploy on the virtual machine.</span></span>
    * <span data-ttu-id="676d2-131">Hiermee configureert u IIS en ASP.NET op de virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="676d2-131">Configures IIS and ASP.NET on the virtual machine.</span></span>
    
    ![][4]
13. <span data-ttu-id="676d2-132">(Optioneel) U kunt verbinding maken met de nieuwe virtuele machine.</span><span class="sxs-lookup"><span data-stu-id="676d2-132">(Optional) You can connect to the new virtual machine.</span></span> <span data-ttu-id="676d2-133">In **Server Explorer**, vouw de **virtuele Machines** knooppunt, kiest u het knooppunt voor de virtuele machine die u hebt gemaakt, en in het snelmenu, kiest u **verbinding maken met extern bureaublad**.</span><span class="sxs-lookup"><span data-stu-id="676d2-133">In **Server Explorer**, expand the **Virtual Machines** node, choose the node for the virtual machine you created, and on its shortcut menu, choose **Connect with Remote Desktop**.</span></span> <span data-ttu-id="676d2-134">U kunt ook in **Cloud Explorer** kunt u **openen in de Portal** in het snelmenu en maak verbinding met de virtuele machine er.</span><span class="sxs-lookup"><span data-stu-id="676d2-134">Alternatively, in **Cloud Explorer** you can choose **Open in Portal** on the shortcut menu and connect to the virtual machine there.</span></span>
    
    ![][5]

## <a name="next-steps"></a><span data-ttu-id="676d2-135">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="676d2-135">Next steps</span></span>
<span data-ttu-id="676d2-136">Als u aanpassen van de gepubliceerde scripts die u hebt gemaakt wilt, leest u meer gedetailleerde informatie op [Windows PowerShell-Scripts gebruiken om te publiceren op de ontwikkeling en testomgevingen](http://msdn.microsoft.com/library/dn642480.aspx).</span><span class="sxs-lookup"><span data-stu-id="676d2-136">If you want to customize the published scripts you created, read more in-depth information at [Using Windows PowerShell Scripts to Publish to Dev and Test Environments](http://msdn.microsoft.com/library/dn642480.aspx).</span></span>

[0]: ./media/virtual-machines-common-classic-web-app-visual-studio/CreateVM_NewProject.PNG
[1]: ./media/dotnet-visual-studio-create-virtual-machine/CreateVM_SignIn.PNG
[2]: ./media/virtual-machines-common-classic-web-app-visual-studio/CreateVM_CreateVM.PNG
[3]: ./media/virtual-machines-common-classic-web-app-visual-studio/CreateVM_Provisioning.png
[4]: ./media/virtual-machines-common-classic-web-app-visual-studio/CreateVM_SolutionExplorer.png
[5]: ./media/virtual-machines-common-classic-web-app-visual-studio/VS_Create_VM_Connect.png
