

<span data-ttu-id="59572-101">Er zijn twee niveaus van taakverdeling beschikbaar voor Azure-infrastructuurservices:</span><span class="sxs-lookup"><span data-stu-id="59572-101">There are two levels of load balancing available for Azure infrastructure services:</span></span>

* <span data-ttu-id="59572-102">**DNS-niveau**: taakverdeling voor verkeer toodifferent cloud-services zich in verschillende data centers, toodifferent Azure websites zich in verschillende datacenters of tooexternal eindpunten.</span><span class="sxs-lookup"><span data-stu-id="59572-102">**DNS Level**:  Load balancing for traffic toodifferent cloud services located in different data centers, toodifferent Azure websites located in different data centers, or tooexternal endpoints.</span></span> <span data-ttu-id="59572-103">Dit wordt gedaan met Azure Traffic Manager en Hallo Round-Robin taakverdelingsmethode.</span><span class="sxs-lookup"><span data-stu-id="59572-103">This is done with Azure Traffic Manager and hello Round Robin load balancing method.</span></span>
* <span data-ttu-id="59572-104">**Netwerk-niveau**: Load balancing van binnenkomende Internet verkeer toodifferent virtuele machines van een cloudservice of taakverdeling van verkeer tussen virtuele machines in een cloudservice of het virtuele netwerk.</span><span class="sxs-lookup"><span data-stu-id="59572-104">**Network Level**:  Load balancing of incoming Internet traffic toodifferent virtual machines of a cloud service, or load balancing of traffic between virtual machines in a cloud service or virtual network.</span></span> <span data-ttu-id="59572-105">Dit wordt gedaan met hello Azure load balancer.</span><span class="sxs-lookup"><span data-stu-id="59572-105">This is done with hello Azure load balancer.</span></span>

## <a name="traffic-manager-load-balancing-for-cloud-services-and-websites"></a><span data-ttu-id="59572-106">Traffic Manager taakverdeling voor cloudservices en websites</span><span class="sxs-lookup"><span data-stu-id="59572-106">Traffic Manager load balancing for cloud services and websites</span></span>
<span data-ttu-id="59572-107">Traffic Manager kunt u toocontrol Hallo distributie van de gebruiker verkeer tooendpoints, waaronder cloudservices, websites, externe sites en andere Traffic Manager-profielen.</span><span class="sxs-lookup"><span data-stu-id="59572-107">Traffic Manager allows you toocontrol hello distribution of user traffic tooendpoints, which can include cloud services, websites, external sites, and other Traffic Manager profiles.</span></span> <span data-ttu-id="59572-108">Traffic Manager werkt door het toepassen van een intelligente beleid engine tooDomain Name System (DNS)-query's voor domeinnamen op Hallo van uw Internet-bronnen.</span><span class="sxs-lookup"><span data-stu-id="59572-108">Traffic Manager works by applying an intelligent policy engine tooDomain Name System (DNS) queries for hello domain names of your Internet resources.</span></span> <span data-ttu-id="59572-109">Uw cloudservices of websites kunnen worden uitgevoerd in verschillende datacenters over Hallo wereld.</span><span class="sxs-lookup"><span data-stu-id="59572-109">Your cloud services or websites can be running in different datacenters across hello world.</span></span>

<span data-ttu-id="59572-110">U moet externe eindpunten met tooconfigure REST of Windows PowerShell of Traffic Manager-profielen als eindpunten gebruiken.</span><span class="sxs-lookup"><span data-stu-id="59572-110">You must use either REST or Windows PowerShell tooconfigure external endpoints or Traffic Manager profiles as endpoints.</span></span>

<span data-ttu-id="59572-111">Traffic Manager maakt gebruik van drie methoden toodistribute verkeer taakverdeling:</span><span class="sxs-lookup"><span data-stu-id="59572-111">Traffic Manager uses three load-balancing methods toodistribute traffic:</span></span>

* <span data-ttu-id="59572-112">**Failover**: Gebruik deze methode als u wilt dat een primaire eindpunt toouse voor al het verkeer, maar back-ups bieden geval Hallo primaire wegvalt.</span><span class="sxs-lookup"><span data-stu-id="59572-112">**Failover**:  Use this method when you want toouse a primary endpoint for all traffic, but provide backups in case hello primary becomes unavailable.</span></span>
* <span data-ttu-id="59572-113">**Prestaties**: Gebruik deze methode wanneer u eindpunten op verschillende geografische locaties en u wilt dat clients toouse Hallo 'dichtstbijzijnde' eindpunt in termen van de laagste latentie Hallo aanvraagt.</span><span class="sxs-lookup"><span data-stu-id="59572-113">**Performance**:  Use this method when you have endpoints in different geographic locations and you want requesting clients toouse hello "closest" endpoint in terms of hello lowest latency.</span></span>
* <span data-ttu-id="59572-114">**Round Robin:** gebruik van deze methode als u wilt laden toodistribute over een set van cloud-services in Hallo dezelfde datacenter of in de cloud-services of websites in verschillende datacenters.</span><span class="sxs-lookup"><span data-stu-id="59572-114">**Round Robin:**  Use this method when you want toodistribute load across a set of cloud services in hello same datacenter or across cloud services or websites in different datacenters.</span></span>

<span data-ttu-id="59572-115">Zie voor meer informatie [over Traffic Manager Load Balancing methoden](../articles/traffic-manager/traffic-manager-routing-methods.md).</span><span class="sxs-lookup"><span data-stu-id="59572-115">For more information, see [About Traffic Manager Load Balancing Methods](../articles/traffic-manager/traffic-manager-routing-methods.md).</span></span>

<span data-ttu-id="59572-116">Hallo volgende diagram toont een voorbeeld van Hallo Round-Robin load balancing-methode voor het distribueren van verkeer tussen verschillende cloud-services.</span><span class="sxs-lookup"><span data-stu-id="59572-116">hello following diagram shows an example of hello Round Robin load balancing method for distributing traffic between different cloud services.</span></span>

![loadbalancing](./media/virtual-machines-common-load-balance/TMSummary.png)

<span data-ttu-id="59572-118">Hallo basisproces verloopt Hallo volgende:</span><span class="sxs-lookup"><span data-stu-id="59572-118">hello basic process is hello following:</span></span>

1. <span data-ttu-id="59572-119">Een internetclient query op een domein naam bijbehorende tooa webservice.</span><span class="sxs-lookup"><span data-stu-id="59572-119">An Internet client queries a domain name corresponding tooa web service.</span></span>
2. <span data-ttu-id="59572-120">DNS verzendt Hallo naam query aanvraag tooTraffic Manager.</span><span class="sxs-lookup"><span data-stu-id="59572-120">DNS forwards hello name query request tooTraffic Manager.</span></span>
3. <span data-ttu-id="59572-121">Traffic Manager Hallo volgende cloudservice kiest in de lijst van Round-Robin Hallo en verzendt terug Hallo DNS-naam.</span><span class="sxs-lookup"><span data-stu-id="59572-121">Traffic Manager chooses hello next cloud service in hello Round Robin list and sends back hello DNS name.</span></span> <span data-ttu-id="59572-122">Hallo internetclient DNS-server wordt omgezet Hallo naam tooan IP-adres en verzendt deze toohello internetclient.</span><span class="sxs-lookup"><span data-stu-id="59572-122">hello Internet client's DNS server resolves hello name tooan IP address and sends it toohello Internet client.</span></span>
4. <span data-ttu-id="59572-123">Hallo internetclient verbinding met de cloudservice Hallo gekozen door Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="59572-123">hello Internet client connects with hello cloud service chosen by Traffic Manager.</span></span>

<span data-ttu-id="59572-124">Zie voor meer informatie [Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="59572-124">For more information, see [Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md).</span></span>

## <a name="azure-load-balancing-for-virtual-machines"></a><span data-ttu-id="59572-125">Azure load balancer voor virtuele machines</span><span class="sxs-lookup"><span data-stu-id="59572-125">Azure load balancing for virtual machines</span></span>
<span data-ttu-id="59572-126">Virtuele machines in dezelfde cloudservice Hallo of virtueel netwerk kan communiceren met elkaar via hun persoonlijke IP-adressen.</span><span class="sxs-lookup"><span data-stu-id="59572-126">Virtual machines in hello same cloud service or virtual network can communicate with each other directly using their private IP addresses.</span></span> <span data-ttu-id="59572-127">Computers en services buiten Hallo cloudservice of virtuele netwerk kan alleen communiceren met virtuele machines in een service in de cloud of een virtueel netwerk met een geconfigureerde eindpunt.</span><span class="sxs-lookup"><span data-stu-id="59572-127">Computers and services outside hello cloud service or virtual network can only communicate with virtual machines in a cloud service or virtual network with a configured endpoint.</span></span> <span data-ttu-id="59572-128">Een eindpunt is een toewijzing van een openbaar IP-adres en poort toothat priv√© IP-adres en poort van een virtuele machine of de Webrol in een Azure-cloud-service.</span><span class="sxs-lookup"><span data-stu-id="59572-128">An endpoint is a mapping of a public IP address and port toothat private IP address and port of a virtual machine or web role within an Azure cloud service.</span></span>

<span data-ttu-id="59572-129">Hello Azure Load Balancer verdeelt willekeurig een specifiek type binnenkomend verkeer over meerdere virtuele machines of services in een configuratie met een set met gelijke taakverdeling genoemd.</span><span class="sxs-lookup"><span data-stu-id="59572-129">hello Azure Load Balancer randomly distributes a specific type of incoming traffic across multiple virtual machines or services in a configuration known as a load-balanced set.</span></span> <span data-ttu-id="59572-130">Bijvoorbeeld, kunt u Hallo belasting van de aanvraag webverkeer spreiden meerdere webservers of web-rollen.</span><span class="sxs-lookup"><span data-stu-id="59572-130">For example, you can spread hello load of web request traffic across multiple web servers or web roles.</span></span>

<span data-ttu-id="59572-131">Hallo toont volgende diagram een eindpunt met gelijke taakverdeling voor standaard (niet-versleutelde) internetverkeer die wordt gedeeld door drie virtuele machines voor Hallo openbare en persoonlijke TCP-poort 80.</span><span class="sxs-lookup"><span data-stu-id="59572-131">hello following diagram shows a load-balanced endpoint for standard (unencrypted) web traffic that is shared among three virtual machines for hello public and private TCP port of 80.</span></span> <span data-ttu-id="59572-132">Deze drie virtuele machines zijn in een set met gelijke taakverdeling.</span><span class="sxs-lookup"><span data-stu-id="59572-132">These three virtual machines are in a load-balanced set.</span></span>

![loadbalancing](./media/virtual-machines-common-load-balance/LoadBalancing.png)

<span data-ttu-id="59572-134">Zie voor meer informatie [Azure Load Balancer](../articles/load-balancer/load-balancer-overview.md).</span><span class="sxs-lookup"><span data-stu-id="59572-134">For more information, see [Azure Load Balancer](../articles/load-balancer/load-balancer-overview.md).</span></span> <span data-ttu-id="59572-135">Zie voor Hallo stappen toocreate uit een set met gelijke taakverdeling, [een set met gelijke taakverdeling configureren](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="59572-135">For hello steps toocreate a load-balanced set, see [Configure a load-balanced set](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span></span>

<span data-ttu-id="59572-136">Taakverdeling binnen een cloudservice of een virtueel netwerk worden ook toegepast op Azure.</span><span class="sxs-lookup"><span data-stu-id="59572-136">Azure can also load balance within a cloud service or virtual network.</span></span> <span data-ttu-id="59572-137">Dit staat bekend als interne load balancing en kan worden gebruikt in de volgende manieren Hallo:</span><span class="sxs-lookup"><span data-stu-id="59572-137">This is known as internal load balancing and can be used in hello following ways:</span></span>

* <span data-ttu-id="59572-138">tooload balans tussen servers in verschillende lagen van een toepassing met meerdere lagen (bijvoorbeeld tussen web- en databaselagen).</span><span class="sxs-lookup"><span data-stu-id="59572-138">tooload balance between servers in different tiers of a multi-tier application (for example, between web and database tiers).</span></span>
* <span data-ttu-id="59572-139">tooload saldo van LOB-toepassingen (LOB) gehost in Azure, zonder dat extra load balancer-hardware of software.</span><span class="sxs-lookup"><span data-stu-id="59572-139">tooload balance line-of-business (LOB) applications hosted in Azure without requiring additional load balancer hardware or software.</span></span>
* <span data-ttu-id="59572-140">tooinclude lokale servers in Hallo set computers waarvan het verkeer gelijkmatig verdeeld wordt.</span><span class="sxs-lookup"><span data-stu-id="59572-140">tooinclude on-premises servers in hello set of computers whose traffic is load balanced.</span></span>

<span data-ttu-id="59572-141">Vergelijkbare tooAzure taakverdeling, interne load balancing wordt vergemakkelijkt door een interne set met gelijke taakverdeling configureren.</span><span class="sxs-lookup"><span data-stu-id="59572-141">Similar tooAzure load balancing, internal load balancing is facilitated by configuring an internal load-balanced set.</span></span>

<span data-ttu-id="59572-142">Hallo volgende diagram toont een voorbeeld van een intern eindpunt van de taakverdeling voor een line-of-business (LOB)-toepassing die wordt gedeeld door drie virtuele machines in een virtueel netwerk met cross-premises.</span><span class="sxs-lookup"><span data-stu-id="59572-142">hello following diagram shows an example of an internal load-balanced endpoint for a line of business (LOB) application that is shared among three virtual machines in a cross-premises virtual network.</span></span>

![loadbalancing](./media/virtual-machines-common-load-balance/LOBServers.png)

## <a name="load-balancer-considerations"></a><span data-ttu-id="59572-144">Load balancer-overwegingen</span><span class="sxs-lookup"><span data-stu-id="59572-144">Load balancer considerations</span></span>
<span data-ttu-id="59572-145">Een load balancer is standaard geconfigureerd tootimeout een niet-actieve sessie in vier minuten.</span><span class="sxs-lookup"><span data-stu-id="59572-145">A load balancer is configured by default tootimeout an idle session in 4 minutes.</span></span> <span data-ttu-id="59572-146">Als uw toepassing achter een load balancer een verbinding inactief voor meer dan vier minuten verlaat en geen een Keep-Alive configuratie heeft, Hallo verbinding verwijderd.</span><span class="sxs-lookup"><span data-stu-id="59572-146">If your application behind a load balancer leaves a connection idle for more than 4 minutes and it doesn't have a Keep-Alive configuration, hello connection will be dropped.</span></span> <span data-ttu-id="59572-147">Hallo load balancer gedrag tooallow kunt u een [langere time-outinstelling voor Azure load balancer](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span><span class="sxs-lookup"><span data-stu-id="59572-147">You can change hello load balancer behavior tooallow a [longer timeout setting for Azure load balancer](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span></span>

<span data-ttu-id="59572-148">Andere overweging is Hallo type distributiepunt modus wordt ondersteund door Azure Load Balancer.</span><span class="sxs-lookup"><span data-stu-id="59572-148">Other consideration is hello type of distribution mode supported by Azure Load Balancer.</span></span> <span data-ttu-id="59572-149">U kunt de bron-IP-affiniteit (bron-IP, doel-IP) of bron-IP-protocol (bron-IP, doel-IP en -protocol) configureren.</span><span class="sxs-lookup"><span data-stu-id="59572-149">You can configure source IP affinity (source IP, destination IP) or source IP protocol (source IP , destination IP and protocol).</span></span> <span data-ttu-id="59572-150">Bekijk [Azure Load Balancer-distributie-modus (bron-IP-affiniteit)](../articles/load-balancer/load-balancer-distribution-mode.md) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="59572-150">Check out [Azure Load Balancer distribution mode (source IP affinity)](../articles/load-balancer/load-balancer-distribution-mode.md) for more information.</span></span>

## <a name="next-steps"></a><span data-ttu-id="59572-151">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="59572-151">Next steps</span></span>
<span data-ttu-id="59572-152">Zie voor Hallo stappen toocreate uit een set met gelijke taakverdeling, [configureren van een interne set met gelijke taakverdeling](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="59572-152">For hello steps toocreate a load-balanced set, see [Configure an internal load-balanced set](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span></span>

<span data-ttu-id="59572-153">Zie voor meer informatie over de load balancer [interne load balancing](../articles/load-balancer/load-balancer-internal-overview.md).</span><span class="sxs-lookup"><span data-stu-id="59572-153">For more information about load balancer, see [Internal load balancing](../articles/load-balancer/load-balancer-internal-overview.md).</span></span>

