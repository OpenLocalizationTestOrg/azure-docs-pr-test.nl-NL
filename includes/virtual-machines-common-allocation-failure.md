
<span data-ttu-id="32e1c-101">Als uw Azure probleem niet wordt besproken in dit artikel, gaat u naar de [Azure-forums op MSDN en Stack Overflow](https://azure.microsoft.com/support/forums/).</span><span class="sxs-lookup"><span data-stu-id="32e1c-101">If your Azure issue is not addressed in this article, visit the [Azure forums on MSDN and Stack Overflow](https://azure.microsoft.com/support/forums/).</span></span> <span data-ttu-id="32e1c-102">U kunt het probleem op deze forums of boeken @AzureSupport op Twitter.</span><span class="sxs-lookup"><span data-stu-id="32e1c-102">You can post your issue on these forums or to @AzureSupport on Twitter.</span></span> <span data-ttu-id="32e1c-103">U kunt ook een ondersteuning van Azure-aanvraag indienen door te selecteren **ondersteuning krijgen** op de [ondersteuning van Azure](https://azure.microsoft.com/support/options/) site.</span><span class="sxs-lookup"><span data-stu-id="32e1c-103">Also, you can file an Azure support request by selecting **Get support** on the [Azure support](https://azure.microsoft.com/support/options/) site.</span></span>

## <a name="general-troubleshooting-steps"></a><span data-ttu-id="32e1c-104">Algemene stappen voor probleemoplossing</span><span class="sxs-lookup"><span data-stu-id="32e1c-104">General troubleshooting steps</span></span>
### <a name="troubleshoot-common-allocation-failures-in-the-classic-deployment-model"></a><span data-ttu-id="32e1c-105">Algemene toewijzingsfouten in het klassieke implementatiemodel</span><span class="sxs-lookup"><span data-stu-id="32e1c-105">Troubleshoot common allocation failures in the classic deployment model</span></span>
<span data-ttu-id="32e1c-106">Deze stappen oplossen veel toewijzingsfouten in virtuele machines:</span><span class="sxs-lookup"><span data-stu-id="32e1c-106">These steps can help resolve many allocation failures in virtual machines:</span></span>

* <span data-ttu-id="32e1c-107">De grootte van de virtuele machine naar een andere VM-grootte.</span><span class="sxs-lookup"><span data-stu-id="32e1c-107">Resize the VM to a different VM size.</span></span><br>
    <span data-ttu-id="32e1c-108">Klik op **door alle Bladeren** > **virtuele machines (klassiek)** > uw virtuele machine > **instellingen** > **grootte**.</span><span class="sxs-lookup"><span data-stu-id="32e1c-108">Click **Browse all** > **Virtual machines (classic)** > your virtual machine > **Settings** > **Size**.</span></span> <span data-ttu-id="32e1c-109">Zie voor gedetailleerde stappen [vergroten of verkleinen van de virtuele machine](https://msdn.microsoft.com/library/dn168976.aspx).</span><span class="sxs-lookup"><span data-stu-id="32e1c-109">For detailed steps, see [Resize the virtual machine](https://msdn.microsoft.com/library/dn168976.aspx).</span></span>
* <span data-ttu-id="32e1c-110">Alle virtuele machines van de cloudservice verwijderen en opnieuw maken van virtuele machines.</span><span class="sxs-lookup"><span data-stu-id="32e1c-110">Delete all VMs from the cloud service and re-create VMs.</span></span><br>
    <span data-ttu-id="32e1c-111">Klik op **door alle Bladeren** > **virtuele machines (klassiek)** > uw virtuele machine > **verwijderen**.</span><span class="sxs-lookup"><span data-stu-id="32e1c-111">Click **Browse all** > **Virtual machines (classic)** > your virtual machine > **Delete**.</span></span> <span data-ttu-id="32e1c-112">Klik vervolgens op **nieuw** > **Compute** > [installatiekopie van virtuele machine].</span><span class="sxs-lookup"><span data-stu-id="32e1c-112">Then, click **New** > **Compute** > [virtual machine image].</span></span>

### <a name="troubleshoot-common-allocation-failures-in-the-azure-resource-manager-deployment-model"></a><span data-ttu-id="32e1c-113">Algemene toewijzingsfouten in het Azure Resource Manager-implementatiemodel</span><span class="sxs-lookup"><span data-stu-id="32e1c-113">Troubleshoot common allocation failures in the Azure Resource Manager deployment model</span></span>
<span data-ttu-id="32e1c-114">Deze stappen oplossen veel toewijzingsfouten in virtuele machines:</span><span class="sxs-lookup"><span data-stu-id="32e1c-114">These steps can help resolve many allocation failures in virtual machines:</span></span>

* <span data-ttu-id="32e1c-115">Gestopt (toewijzing ongedaan maken) alle VM's in de dezelfde beschikbaarheid instellen, start vervolgens elke service.</span><span class="sxs-lookup"><span data-stu-id="32e1c-115">Stop (deallocate) all VMs in the same availability set, then restart each one.</span></span><br>
    <span data-ttu-id="32e1c-116">Om te stoppen: klik op **resourcegroepen** > uw resourcegroep > **Resources** > uw beschikbaarheidsset > **virtuele Machines** > uw virtuele machine >  **Stop**.</span><span class="sxs-lookup"><span data-stu-id="32e1c-116">To stop: Click **Resource groups** > your resource group > **Resources** > your availability set > **Virtual Machines** > your virtual machine > **Stop**.</span></span>
  
    <span data-ttu-id="32e1c-117">Nadat alle virtuele machines stoppen, selecteert u de eerste virtuele machine en klik op **Start**.</span><span class="sxs-lookup"><span data-stu-id="32e1c-117">After all VMs stop, select the first VM and click **Start**.</span></span>

## <a name="background-information"></a><span data-ttu-id="32e1c-118">Achtergrondinformatie</span><span class="sxs-lookup"><span data-stu-id="32e1c-118">Background information</span></span>
### <a name="how-allocation-works"></a><span data-ttu-id="32e1c-119">De werking van toewijzing</span><span class="sxs-lookup"><span data-stu-id="32e1c-119">How allocation works</span></span>
<span data-ttu-id="32e1c-120">De servers in Azure-datacenters worden in clusters gepartitioneerd.</span><span class="sxs-lookup"><span data-stu-id="32e1c-120">The servers in Azure datacenters are partitioned into clusters.</span></span> <span data-ttu-id="32e1c-121">Normaal gesproken een toewijzingsaanvraag wordt uitgevoerd in meerdere clusters, maar het is mogelijk dat bepaalde beperkingen van de aanvraag voor geheugentoewijzing de Azure-platform dwingen om de aanvraag in slechts één cluster.</span><span class="sxs-lookup"><span data-stu-id="32e1c-121">Normally, an allocation request is attempted in multiple clusters, but it's possible that certain constraints from the allocation request force the Azure platform to attempt the request in only one cluster.</span></span> <span data-ttu-id="32e1c-122">In dit artikel verwijzen we naar dit zoals "vastgemaakt aan een cluster."</span><span class="sxs-lookup"><span data-stu-id="32e1c-122">In this article, we'll refer to this as "pinned to a cluster."</span></span> <span data-ttu-id="32e1c-123">Afbeelding 1 hieronder ziet u dat het geval van een normale toewijzing waartoe in meerdere clusters.</span><span class="sxs-lookup"><span data-stu-id="32e1c-123">Diagram 1 below illustrates the case of a normal allocation that is attempted in multiple clusters.</span></span> <span data-ttu-id="32e1c-124">Diagram 2 ziet u dat het geval van een toewijzing die is vastgemaakt aan Cluster 2 omdat waar de bestaande Cloud Service CS_1 of beschikbaarheid set wordt gehost.</span><span class="sxs-lookup"><span data-stu-id="32e1c-124">Diagram 2 illustrates the case of an allocation that's pinned to Cluster 2 because that's where the existing Cloud Service CS_1 or availability set is hosted.</span></span>
<span data-ttu-id="32e1c-125">![Diagram van toewijzing](./media/virtual-machines-common-allocation-failure/Allocation1.png)</span><span class="sxs-lookup"><span data-stu-id="32e1c-125">![Allocation Diagram](./media/virtual-machines-common-allocation-failure/Allocation1.png)</span></span>

### <a name="why-allocation-failures-happen"></a><span data-ttu-id="32e1c-126">Waarom toewijzingsfouten gebeuren</span><span class="sxs-lookup"><span data-stu-id="32e1c-126">Why allocation failures happen</span></span>
<span data-ttu-id="32e1c-127">Wanneer een aanvraag voor geheugentoewijzing is vastgemaakt aan een cluster, is er een hogere kans niet te vinden van resources vrij, omdat de groep beschikbare resource kleiner is.</span><span class="sxs-lookup"><span data-stu-id="32e1c-127">When an allocation request is pinned to a cluster, there's a higher chance of failing to find free resources since the available resource pool is smaller.</span></span> <span data-ttu-id="32e1c-128">Bovendien als uw aanvraag voor geheugentoewijzing is vastgemaakt aan een cluster, maar het type resource dat u hebt aangevraagd wordt niet ondersteund door dit cluster, zal uw aanvraag mislukken zelfs als het cluster resources vrij heeft.</span><span class="sxs-lookup"><span data-stu-id="32e1c-128">Furthermore, if your allocation request is pinned to a cluster but the type of resource you requested is not supported by that cluster, your request will fail even if the cluster has free resources.</span></span> <span data-ttu-id="32e1c-129">Diagram 3 hieronder ziet u het geval waarbij een vastgezette toewijzing is mislukt omdat het cluster alleen candidate geen gratis resources.</span><span class="sxs-lookup"><span data-stu-id="32e1c-129">Diagram 3 below illustrates the case where a pinned allocation fails because the only candidate cluster does not have free resources.</span></span> <span data-ttu-id="32e1c-130">Diagram 4 ziet u het geval waarbij een vastgezette toewijzing is mislukt omdat het cluster alleen candidate biedt geen ondersteuning voor de aangevraagde VM-grootte, zelfs als het cluster resources vrij heeft.</span><span class="sxs-lookup"><span data-stu-id="32e1c-130">Diagram 4 illustrates the case where a pinned allocation fails because the only candidate cluster does not support the requested VM size, even though the cluster has free resources.</span></span>

![Vastgemaakte geheugentoewijzing is mislukt](./media/virtual-machines-common-allocation-failure/Allocation2.png)

## <a name="detailed-troubleshoot-steps-specific-allocation-failure-scenarios-in-the-classic-deployment-model"></a><span data-ttu-id="32e1c-132">Gedetailleerde stappen specifieke toewijzing in scenario's fouten in het klassieke implementatiemodel oplossen</span><span class="sxs-lookup"><span data-stu-id="32e1c-132">Detailed troubleshoot steps specific allocation failure scenarios in the classic deployment model</span></span>
<span data-ttu-id="32e1c-133">Hier vindt u algemene scenario's toewijzing die ertoe leiden dat een aanvraag voor geheugentoewijzing om te worden vastgemaakt.</span><span class="sxs-lookup"><span data-stu-id="32e1c-133">Here are common allocation scenarios that cause an allocation request to be pinned.</span></span> <span data-ttu-id="32e1c-134">We je Duik in elk scenario verderop in dit artikel.</span><span class="sxs-lookup"><span data-stu-id="32e1c-134">We'll dive into each scenario later in this article.</span></span>

* <span data-ttu-id="32e1c-135">Wijzig het formaat van een virtuele machine of virtuele machines of rolinstanties toevoegen aan een bestaande cloudservice</span><span class="sxs-lookup"><span data-stu-id="32e1c-135">Resize a VM or add VMs or role instances to an existing cloud service</span></span>
* <span data-ttu-id="32e1c-136">Gedeeltelijk gestopt (toewijzing ongedaan gemaakt) virtuele machines opnieuw opstarten</span><span class="sxs-lookup"><span data-stu-id="32e1c-136">Restart partially stopped (deallocated) VMs</span></span>
* <span data-ttu-id="32e1c-137">Volledig gestopt (toewijzing ongedaan gemaakt) virtuele machines opnieuw opstarten</span><span class="sxs-lookup"><span data-stu-id="32e1c-137">Restart fully stopped (deallocated) VMs</span></span>
* <span data-ttu-id="32e1c-138">Fasering/productie-implementaties (platform als een service alleen)</span><span class="sxs-lookup"><span data-stu-id="32e1c-138">Staging/production deployments (platform as a service only)</span></span>
* <span data-ttu-id="32e1c-139">Affiniteitsgroep (VM-/ service nabijheid)</span><span class="sxs-lookup"><span data-stu-id="32e1c-139">Affinity group (VM/service proximity)</span></span>
* <span data-ttu-id="32e1c-140">Virtueel netwerk op basis van affiniteit-groep</span><span class="sxs-lookup"><span data-stu-id="32e1c-140">Affinity-group-based virtual network</span></span>

<span data-ttu-id="32e1c-141">Wanneer u een toewijzingsfout ontvangt, kunt u zien als een van de scenario's beschreven op fout in uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="32e1c-141">When you receive an allocation error, see if any of the scenarios described apply to your error.</span></span> <span data-ttu-id="32e1c-142">Gebruik de toewijzingsfout geretourneerd door de Azure-platform voor het identificeren van het betreffende scenario.</span><span class="sxs-lookup"><span data-stu-id="32e1c-142">Use the allocation error returned by the Azure platform to identify the corresponding scenario.</span></span> <span data-ttu-id="32e1c-143">Als uw aanvraag is vastgemaakt, verwijder enkele van de vastmaken beperkingen uw aanvraag om meer clusters, waardoor de kans van slagen van de toewijzing te openen.</span><span class="sxs-lookup"><span data-stu-id="32e1c-143">If your request is pinned, remove some of the pinning constraints to open your request to more clusters, thereby increasing the chance of allocation success.</span></span>

<span data-ttu-id="32e1c-144">In het algemeen, zolang de fout betekent niet 'de aangevraagde VM-grootte wordt niet ondersteund', u kunt altijd opnieuw uitvoeren op een later tijdstip, zoals onvoldoende bronnen is in het cluster vrijgemaakt mogelijk aan uw aanvraag.</span><span class="sxs-lookup"><span data-stu-id="32e1c-144">In general, as long as the error does not indicate "the requested VM size is not supported," you can always retry at a later time, as enough resources may have been freed in the cluster to accommodate your request.</span></span> <span data-ttu-id="32e1c-145">Als het probleem is dat de aangevraagde VM-grootte niet wordt ondersteund, kunt u een andere VM-grootte.</span><span class="sxs-lookup"><span data-stu-id="32e1c-145">If the problem is that the requested VM size is not supported, try a different VM size.</span></span> <span data-ttu-id="32e1c-146">Anders is de enige optie als de vastmaken beperking wilt verwijderen.</span><span class="sxs-lookup"><span data-stu-id="32e1c-146">Otherwise, the only option is to remove the pinning constraint.</span></span>

<span data-ttu-id="32e1c-147">Twee algemene scenario's met fouten gerelateerd aan affiniteitsgroepen.</span><span class="sxs-lookup"><span data-stu-id="32e1c-147">Two common failure scenarios are related to affinity groups.</span></span> <span data-ttu-id="32e1c-148">In het verleden een affiniteitsgroep is gebruikt om te bieden dicht bij de virtuele machines/service-exemplaren of voor het maken van een virtueel netwerk is gebruikt.</span><span class="sxs-lookup"><span data-stu-id="32e1c-148">In the past, an affinity group was used to provide close proximity to VMs/service instances, or it was used to enable the creation of a virtual network.</span></span> <span data-ttu-id="32e1c-149">Dankzij de introductie van regionale virtuele netwerken, affiniteitsgroepen niet langer zijn vereist voor het maken van een virtueel netwerk.</span><span class="sxs-lookup"><span data-stu-id="32e1c-149">With the introduction of regional virtual networks, affinity groups are no longer required to create a virtual network.</span></span> <span data-ttu-id="32e1c-150">Met de vermindering van de netwerklatentie in Azure-infrastructuur, is de aanbeveling om de affiniteit tussen groepen gebruiken voor het VM-/ service nabijheid gewijzigd.</span><span class="sxs-lookup"><span data-stu-id="32e1c-150">With the reduction of network latency in Azure infrastructure, the recommendation to use affinity groups for VM/service proximity has changed.</span></span>

<span data-ttu-id="32e1c-151">Diagram 5 hieronder toont de taxonomie van de toewijzing van (vastgemaakt)-scenario's.</span><span class="sxs-lookup"><span data-stu-id="32e1c-151">Diagram 5 below presents the taxonomy of the (pinned) allocation scenarios.</span></span>
<span data-ttu-id="32e1c-152">![Vastgezette toewijzing taxonomie](./media/virtual-machines-common-allocation-failure/Allocation3.png)</span><span class="sxs-lookup"><span data-stu-id="32e1c-152">![Pinned Allocation Taxonomy](./media/virtual-machines-common-allocation-failure/Allocation3.png)</span></span>

> [!NOTE]
> <span data-ttu-id="32e1c-153">De volgende fout weergegeven in elk scenario van toewijzing is een korte vorm.</span><span class="sxs-lookup"><span data-stu-id="32e1c-153">The error listed in each allocation scenario is a short form.</span></span> <span data-ttu-id="32e1c-154">Raadpleeg de [fout tekenreeks lookup](#Error string lookup) voor gedetailleerde foutberichten.</span><span class="sxs-lookup"><span data-stu-id="32e1c-154">Refer to the [Error string lookup](#Error string lookup) for detailed error strings.</span></span>
> 
> 

## <a name="allocation-scenario-resize-a-vm-or-add-vms-or-role-instances-to-an-existing-cloud-service"></a><span data-ttu-id="32e1c-155">Scenario van toewijzing: Wijzig het formaat van een virtuele machine of virtuele machines of rolinstanties toevoegen aan een bestaande cloudservice</span><span class="sxs-lookup"><span data-stu-id="32e1c-155">Allocation scenario: Resize a VM or add VMs or role instances to an existing cloud service</span></span>
<span data-ttu-id="32e1c-156">**Fout**</span><span class="sxs-lookup"><span data-stu-id="32e1c-156">**Error**</span></span>

<span data-ttu-id="32e1c-157">Upgrade_VMSizeNotSupported of GeneralError</span><span class="sxs-lookup"><span data-stu-id="32e1c-157">Upgrade_VMSizeNotSupported or GeneralError</span></span>

<span data-ttu-id="32e1c-158">**Oorzaak van het cluster vastmaken**</span><span class="sxs-lookup"><span data-stu-id="32e1c-158">**Cause of cluster pinning**</span></span>

<span data-ttu-id="32e1c-159">Een aanvraag om de grootte van een virtuele machine of een virtuele machine of een rolinstantie toevoegen aan een bestaande cloudservice moet worden uitgevoerd op het oorspronkelijke cluster die als host fungeert voor de bestaande cloudservice.</span><span class="sxs-lookup"><span data-stu-id="32e1c-159">A request to resize a VM or add a VM or a role instance to an existing cloud service has to be attempted at the original cluster that hosts the existing cloud service.</span></span> <span data-ttu-id="32e1c-160">Een nieuwe cloudservice maakt, wordt de Azure-platform om te zoeken naar een ander cluster die ondersteuning biedt voor de VM-grootte die u hebt aangevraagd of resources vrij heeft.</span><span class="sxs-lookup"><span data-stu-id="32e1c-160">Creating a new cloud service allows the Azure platform to find another cluster that has free resources or supports the VM size that you requested.</span></span>

<span data-ttu-id="32e1c-161">**Tijdelijke oplossing**</span><span class="sxs-lookup"><span data-stu-id="32e1c-161">**Workaround**</span></span>

<span data-ttu-id="32e1c-162">Als de fout is Upgrade_VMSizeNotSupported *, kunt u een andere VM-grootte.</span><span class="sxs-lookup"><span data-stu-id="32e1c-162">If the error is Upgrade_VMSizeNotSupported*, try a different VM size.</span></span> <span data-ttu-id="32e1c-163">Als met behulp van een andere VM-grootte kan niet worden gebruikt, maar als het is acceptabel gebruik van een ander virtueel IP-adres (VIP), maakt u een nieuwe cloudservice voor het hosten van de nieuwe virtuele machine en de nieuwe cloudservice toevoegen aan het regionale virtuele netwerk waarin de bestaande virtuele machines worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="32e1c-163">If using a different VM size is not an option, but if it's acceptable to use a different virtual IP address (VIP), create a new cloud service to host the new VM and add the new cloud service to the regional virtual network where the existing VMs are running.</span></span> <span data-ttu-id="32e1c-164">Als uw bestaande cloudservice niet voor een regionaal virtueel netwerk gebruikt wordt, kunt u nog steeds een nieuw virtueel netwerk voor de nieuwe cloudservice maken en maken vervolgens verbinding met uw [bestaand virtueel netwerk met de nieuwe virtuele netwerk](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span><span class="sxs-lookup"><span data-stu-id="32e1c-164">If your existing cloud service does not use a regional virtual network, you can still create a new virtual network for the new cloud service, and then connect your [existing virtual network to the new virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span></span> <span data-ttu-id="32e1c-165">Zie voor meer informatie over [regionale virtuele netwerken](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="32e1c-165">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span>

<span data-ttu-id="32e1c-166">Als de fout is GeneralError *, is het waarschijnlijk dat het type resource (zoals een bepaalde VM-grootte) wordt ondersteund door het cluster, maar het cluster geen gratis resources op het moment dat heeft.</span><span class="sxs-lookup"><span data-stu-id="32e1c-166">If the error is GeneralError*, it's likely that the type of resource (such as a particular VM size) is supported by the cluster, but the cluster does not have free resources at the moment.</span></span> <span data-ttu-id="32e1c-167">Vergelijkbaar met het bovenstaande scenario, de gewenste compute resource bij het maken van een nieuwe cloudservice (Let erop dat de nieuwe cloudservice heeft tot het gebruik van een andere VIP) toevoegen en gebruiken van een regionaal virtueel netwerk verbinding maken uw cloudservices verkregen.</span><span class="sxs-lookup"><span data-stu-id="32e1c-167">Similar to the above scenario, add the desired compute resource through creating a new cloud service (note that the new cloud service has to use a different VIP) and use a regional virtual network to connect your cloud services.</span></span>

## <a name="allocation-scenario-restart-partially-stopped-deallocated-vms"></a><span data-ttu-id="32e1c-168">Scenario van toewijzing: gedeeltelijk gestopt (toewijzing ongedaan gemaakt) virtuele machines opnieuw opstarten</span><span class="sxs-lookup"><span data-stu-id="32e1c-168">Allocation scenario: Restart partially stopped (deallocated) VMs</span></span>
<span data-ttu-id="32e1c-169">**Fout**</span><span class="sxs-lookup"><span data-stu-id="32e1c-169">**Error**</span></span>

<span data-ttu-id="32e1c-170">GeneralError *</span><span class="sxs-lookup"><span data-stu-id="32e1c-170">GeneralError*</span></span>

<span data-ttu-id="32e1c-171">**Oorzaak van het cluster vastmaken**</span><span class="sxs-lookup"><span data-stu-id="32e1c-171">**Cause of cluster pinning**</span></span>

<span data-ttu-id="32e1c-172">Gedeeltelijke toewijzing is opgeheven betekent dat u (toewijzing ongedaan gemaakt) een of meer, maar niet alle virtuele machines in een cloudservice gestopt.</span><span class="sxs-lookup"><span data-stu-id="32e1c-172">Partial deallocation means that you stopped (deallocated) one or more, but not all, VMs in a cloud service.</span></span> <span data-ttu-id="32e1c-173">Wanneer u stopt (ongedaan gemaakt) een virtuele machine, de bijbehorende bronnen worden vrijgegeven.</span><span class="sxs-lookup"><span data-stu-id="32e1c-173">When you stop (deallocate) a VM, the associated resources are released.</span></span> <span data-ttu-id="32e1c-174">Opnieuw starten die gestopt (toewijzing ongedaan gemaakt) VM is daarom een nieuwe aanvraag voor geheugentoewijzing.</span><span class="sxs-lookup"><span data-stu-id="32e1c-174">Restarting that stopped (deallocated) VM is therefore a new allocation request.</span></span> <span data-ttu-id="32e1c-175">Opnieuw opstarten van virtuele machines in een gedeeltelijk toewijzing ongedaan is gemaakt van de cloudservice is gelijk aan het toevoegen van virtuele machines aan een bestaande cloudservice.</span><span class="sxs-lookup"><span data-stu-id="32e1c-175">Restarting VMs in a partially deallocated cloud service is equivalent to adding VMs to an existing cloud service.</span></span> <span data-ttu-id="32e1c-176">De aanvraag voor geheugentoewijzing moet worden uitgevoerd op het oorspronkelijke cluster die als host fungeert voor de bestaande cloudservice.</span><span class="sxs-lookup"><span data-stu-id="32e1c-176">The allocation request has to be attempted at the original cluster that hosts the existing cloud service.</span></span> <span data-ttu-id="32e1c-177">Een andere cloudservice maakt, wordt de Azure-platform om te zoeken naar een ander cluster die ondersteuning biedt voor de VM-grootte die u hebt aangevraagd of gratis resource heeft.</span><span class="sxs-lookup"><span data-stu-id="32e1c-177">Creating a different cloud service allows the Azure platform to find another cluster that has free resource or supports the VM size that you requested.</span></span>

<span data-ttu-id="32e1c-178">**Tijdelijke oplossing**</span><span class="sxs-lookup"><span data-stu-id="32e1c-178">**Workaround**</span></span>

<span data-ttu-id="32e1c-179">Als het aanvaardbaar is voor gebruik van een andere VIP, verwijderen van de gestopt (toewijzing ongedaan gemaakt) virtuele machines (maar de gekoppelde schijven behouden) en de virtuele machines opnieuw door een andere cloudservice toevoegen.</span><span class="sxs-lookup"><span data-stu-id="32e1c-179">If it's acceptable to use a different VIP, delete the stopped (deallocated) VMs (but keep the associated disks) and add the VMs back through a different cloud service.</span></span> <span data-ttu-id="32e1c-180">Gebruik een regionaal virtueel netwerk voor de verbinding met uw cloudservices:</span><span class="sxs-lookup"><span data-stu-id="32e1c-180">Use a regional virtual network to connect your cloud services:</span></span>

* <span data-ttu-id="32e1c-181">Als uw bestaande cloudservice een regionaal virtueel netwerk gebruikt, moet u gewoon de nieuwe cloudservice toevoegen aan hetzelfde virtuele netwerk.</span><span class="sxs-lookup"><span data-stu-id="32e1c-181">If your existing cloud service uses a regional virtual network, simply add the new cloud service to the same virtual network.</span></span>
* <span data-ttu-id="32e1c-182">Als uw bestaande cloudservice niet voor een regionaal virtueel netwerk gebruikt wordt, een nieuw virtueel netwerk voor de nieuwe cloudservice maken en vervolgens [uw bestaande virtuele netwerk verbinden met de nieuwe virtuele netwerk](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span><span class="sxs-lookup"><span data-stu-id="32e1c-182">If your existing cloud service does not use a regional virtual network, create a new virtual network for the new cloud service, and then [connect your existing virtual network to the new virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span></span> <span data-ttu-id="32e1c-183">Zie voor meer informatie over [regionale virtuele netwerken](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="32e1c-183">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span>

## <a name="allocation-scenario-restart-fully-stopped-deallocated-vms"></a><span data-ttu-id="32e1c-184">Scenario van toewijzing: volledig gestopt (toewijzing ongedaan gemaakt) virtuele machines opnieuw opstarten</span><span class="sxs-lookup"><span data-stu-id="32e1c-184">Allocation scenario: Restart fully stopped (deallocated) VMs</span></span>
<span data-ttu-id="32e1c-185">**Fout**</span><span class="sxs-lookup"><span data-stu-id="32e1c-185">**Error**</span></span>

<span data-ttu-id="32e1c-186">GeneralError *</span><span class="sxs-lookup"><span data-stu-id="32e1c-186">GeneralError*</span></span>

<span data-ttu-id="32e1c-187">**Oorzaak van het cluster vastmaken**</span><span class="sxs-lookup"><span data-stu-id="32e1c-187">**Cause of cluster pinning**</span></span>

<span data-ttu-id="32e1c-188">Volledige toewijzing is opgeheven betekent dat u gestopt (toewijzing opgeheven) alle VM's van een cloudservice.</span><span class="sxs-lookup"><span data-stu-id="32e1c-188">Full deallocation means that you stopped (deallocated) all VMs from a cloud service.</span></span> <span data-ttu-id="32e1c-189">De toewijzingsaanvragen voor deze virtuele machines opnieuw moeten worden uitgevoerd op het oorspronkelijke cluster die als host fungeert voor de cloudservice.</span><span class="sxs-lookup"><span data-stu-id="32e1c-189">The allocation requests to restart these VMs have to be attempted at the original cluster that hosts the cloud service.</span></span> <span data-ttu-id="32e1c-190">Een nieuwe cloudservice maakt, wordt de Azure-platform om te zoeken naar een ander cluster die ondersteuning biedt voor de VM-grootte die u hebt aangevraagd of resources vrij heeft.</span><span class="sxs-lookup"><span data-stu-id="32e1c-190">Creating a new cloud service allows the Azure platform to find another cluster that has free resources or supports the VM size that you requested.</span></span>

<span data-ttu-id="32e1c-191">**Tijdelijke oplossing**</span><span class="sxs-lookup"><span data-stu-id="32e1c-191">**Workaround**</span></span>

<span data-ttu-id="32e1c-192">Als deze aanvaardbaar is voor gebruik van een andere VIP, verwijderen van de oorspronkelijke gestopt (toewijzing ongedaan gemaakt) virtuele machines (maar houd het bijbehorende schijven) en verwijder de bijbehorende cloudservice (de bijbehorende rekenresources zijn al is vrijgegeven wanneer u gestopt (toewijzing ongedaan gemaakt) de virtuele machines).</span><span class="sxs-lookup"><span data-stu-id="32e1c-192">If it's acceptable to use a different VIP, delete the original stopped (deallocated) VMs (but keep the associated disks) and delete the corresponding cloud service (the associated compute resources were already released when you stopped (deallocated) the VMs).</span></span> <span data-ttu-id="32e1c-193">Maak een nieuwe cloudservice voor het toevoegen van de virtuele machines terug.</span><span class="sxs-lookup"><span data-stu-id="32e1c-193">Create a new cloud service to add the VMs back.</span></span>

## <a name="allocation-scenario-stagingproduction-deployments-platform-as-a-service-only"></a><span data-ttu-id="32e1c-194">Scenario van toewijzing: tijdelijke/productie-implementaties (platform als een service alleen)</span><span class="sxs-lookup"><span data-stu-id="32e1c-194">Allocation scenario: Staging/production deployments (platform as a service only)</span></span>
<span data-ttu-id="32e1c-195">**Fout**</span><span class="sxs-lookup"><span data-stu-id="32e1c-195">**Error**</span></span>

<span data-ttu-id="32e1c-196">New_General * of New_VMSizeNotSupported *</span><span class="sxs-lookup"><span data-stu-id="32e1c-196">New_General* or New_VMSizeNotSupported*</span></span>

<span data-ttu-id="32e1c-197">**Oorzaak van het cluster vastmaken**</span><span class="sxs-lookup"><span data-stu-id="32e1c-197">**Cause of cluster pinning**</span></span>

<span data-ttu-id="32e1c-198">De implementatie van fasering en productie-implementatie van een cloudservice worden gehost in hetzelfde cluster.</span><span class="sxs-lookup"><span data-stu-id="32e1c-198">The staging deployment and the production deployment of a cloud service are hosted in the same cluster.</span></span> <span data-ttu-id="32e1c-199">Wanneer u de tweede implementatie toevoegt, wordt de bijbehorende toewijzingsaanvraag geprobeerd in hetzelfde cluster die als host fungeert voor de eerste implementatie.</span><span class="sxs-lookup"><span data-stu-id="32e1c-199">When you add the second deployment, the corresponding allocation request will be attempted in the same cluster that hosts the first deployment.</span></span>

<span data-ttu-id="32e1c-200">**Tijdelijke oplossing**</span><span class="sxs-lookup"><span data-stu-id="32e1c-200">**Workaround**</span></span>

<span data-ttu-id="32e1c-201">Verwijder de eerste implementatie en de oorspronkelijke cloudservice en implementeer de cloudservice opnieuw.</span><span class="sxs-lookup"><span data-stu-id="32e1c-201">Delete the first deployment and the original cloud service and redeploy the cloud service.</span></span> <span data-ttu-id="32e1c-202">Deze actie kan de eerste implementatie terechtkomen in een cluster met onvoldoende resources vrij voor beide implementaties of in een cluster die ondersteuning biedt voor de VM-grootten die u hebt aangevraagd.</span><span class="sxs-lookup"><span data-stu-id="32e1c-202">This action may land the first deployment in a cluster that has enough free resources to fit both deployments or in a cluster that supports the VM sizes that you requested.</span></span>

## <a name="allocation-scenario-affinity-group-vmservice-proximity"></a><span data-ttu-id="32e1c-203">Scenario van toewijzing: affiniteitsgroep (VM-/ service nabijheid)</span><span class="sxs-lookup"><span data-stu-id="32e1c-203">Allocation scenario: Affinity group (VM/service proximity)</span></span>
<span data-ttu-id="32e1c-204">**Fout**</span><span class="sxs-lookup"><span data-stu-id="32e1c-204">**Error**</span></span>

<span data-ttu-id="32e1c-205">New_General * of New_VMSizeNotSupported *</span><span class="sxs-lookup"><span data-stu-id="32e1c-205">New_General* or New_VMSizeNotSupported*</span></span>

<span data-ttu-id="32e1c-206">**Oorzaak van het cluster vastmaken**</span><span class="sxs-lookup"><span data-stu-id="32e1c-206">**Cause of cluster pinning**</span></span>

<span data-ttu-id="32e1c-207">Een compute resource toegewezen aan een affiniteitsgroep is gekoppeld aan één cluster.</span><span class="sxs-lookup"><span data-stu-id="32e1c-207">Any compute resource assigned to an affinity group is tied to one cluster.</span></span> <span data-ttu-id="32e1c-208">Nieuwe compute resource aanvragen in de betreffende affiniteitsgroep bevinden worden geprobeerd in hetzelfde cluster waar de bestaande bronnen worden gehost.</span><span class="sxs-lookup"><span data-stu-id="32e1c-208">New compute resource requests in that affinity group are attempted in the same cluster where the existing resources are hosted.</span></span> <span data-ttu-id="32e1c-209">Dit geldt of de nieuwe resources zijn gemaakt via een nieuwe cloudservice of een bestaande cloudservice.</span><span class="sxs-lookup"><span data-stu-id="32e1c-209">This is true whether the new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="32e1c-210">**Tijdelijke oplossing**</span><span class="sxs-lookup"><span data-stu-id="32e1c-210">**Workaround**</span></span>

<span data-ttu-id="32e1c-211">Als een affiniteitsgroep niet nodig is, gebruikt u een affiniteitsgroep of uw rekenresources te groeperen in meerdere affiniteitsgroepen.</span><span class="sxs-lookup"><span data-stu-id="32e1c-211">If an affinity group is not necessary, do not use an affinity group, or group your compute resources into multiple affinity groups.</span></span>

## <a name="allocation-scenario-affinity-group-based-virtual-network"></a><span data-ttu-id="32e1c-212">Scenario van toewijzing: virtueel netwerk op basis van affiniteit-groep</span><span class="sxs-lookup"><span data-stu-id="32e1c-212">Allocation scenario: Affinity-group-based virtual network</span></span>
<span data-ttu-id="32e1c-213">**Fout**</span><span class="sxs-lookup"><span data-stu-id="32e1c-213">**Error**</span></span>

<span data-ttu-id="32e1c-214">New_General * of New_VMSizeNotSupported *</span><span class="sxs-lookup"><span data-stu-id="32e1c-214">New_General* or New_VMSizeNotSupported*</span></span>

<span data-ttu-id="32e1c-215">**Oorzaak van het cluster vastmaken**</span><span class="sxs-lookup"><span data-stu-id="32e1c-215">**Cause of cluster pinning**</span></span>

<span data-ttu-id="32e1c-216">Voordat de regionale virtuele netwerken zijn geïntroduceerd, moest u een virtueel netwerk koppelen aan een affiniteitsgroep.</span><span class="sxs-lookup"><span data-stu-id="32e1c-216">Before regional virtual networks were introduced, you were required to associate a virtual network with an affinity group.</span></span> <span data-ttu-id="32e1c-217">Als gevolg hiervan compute resources in een affiniteitsgroep geplaatst zijn gebonden aan de dezelfde beperkingen, zoals beschreven in de ' toewijzing scenario: affiniteitsgroep (VM-/ service nabijheid) ' hierboven.</span><span class="sxs-lookup"><span data-stu-id="32e1c-217">As a result, compute resources placed into an affinity group are bound by the same constraints as described in the "Allocation scenario: Affinity group (VM/service proximity)" section above.</span></span> <span data-ttu-id="32e1c-218">De rekenresources zijn gekoppeld aan één cluster.</span><span class="sxs-lookup"><span data-stu-id="32e1c-218">The compute resources are tied to one cluster.</span></span>

<span data-ttu-id="32e1c-219">**Tijdelijke oplossing**</span><span class="sxs-lookup"><span data-stu-id="32e1c-219">**Workaround**</span></span>

<span data-ttu-id="32e1c-220">Als u niet in een affiniteitsgroep hoeft, maakt u een nieuw regionaal virtueel netwerk voor de nieuwe resources die u toevoegen wilt, en vervolgens [uw bestaande virtuele netwerk verbinden met de nieuwe virtuele netwerk](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span><span class="sxs-lookup"><span data-stu-id="32e1c-220">If you do not need an affinity group, create a new regional virtual network for the new resources you're adding, and then [connect your existing virtual network to the new virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span></span> <span data-ttu-id="32e1c-221">Zie voor meer informatie over [regionale virtuele netwerken](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="32e1c-221">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span>

<span data-ttu-id="32e1c-222">U kunt ook [uw virtueel netwerk voor op basis van affiniteit-groep migreren naar een regionaal virtueel netwerk](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), en voeg vervolgens de gewenste bronnen opnieuw toe.</span><span class="sxs-lookup"><span data-stu-id="32e1c-222">Alternatively, you can [migrate your affinity-group-based virtual network to a regional virtual network](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), and then add the desired resources again.</span></span>

## <a name="detailed-troubleshooting-steps-specific-allocation-failure-scenarios-in-the-azure-resource-manager-deployment-model"></a><span data-ttu-id="32e1c-223">Gedetailleerde probleemoplossing stappen specifieke toewijzing in scenario's fouten in het Azure Resource Manager-implementatiemodel</span><span class="sxs-lookup"><span data-stu-id="32e1c-223">Detailed troubleshooting steps specific allocation failure scenarios in the Azure Resource Manager deployment model</span></span>
<span data-ttu-id="32e1c-224">Hier vindt u algemene scenario's toewijzing die ertoe leiden dat een aanvraag voor geheugentoewijzing om te worden vastgemaakt.</span><span class="sxs-lookup"><span data-stu-id="32e1c-224">Here are common allocation scenarios that cause an allocation request to be pinned.</span></span> <span data-ttu-id="32e1c-225">We je Duik in elk scenario verderop in dit artikel.</span><span class="sxs-lookup"><span data-stu-id="32e1c-225">We'll dive into each scenario later in this article.</span></span>

* <span data-ttu-id="32e1c-226">Wijzig het formaat van een virtuele machine of virtuele machines of rolinstanties toevoegen aan een bestaande cloudservice</span><span class="sxs-lookup"><span data-stu-id="32e1c-226">Resize a VM or add VMs or role instances to an existing cloud service</span></span>
* <span data-ttu-id="32e1c-227">Gedeeltelijk gestopt (toewijzing ongedaan gemaakt) virtuele machines opnieuw opstarten</span><span class="sxs-lookup"><span data-stu-id="32e1c-227">Restart partially stopped (deallocated) VMs</span></span>
* <span data-ttu-id="32e1c-228">Volledig gestopt (toewijzing ongedaan gemaakt) virtuele machines opnieuw opstarten</span><span class="sxs-lookup"><span data-stu-id="32e1c-228">Restart fully stopped (deallocated) VMs</span></span>

<span data-ttu-id="32e1c-229">Wanneer u een toewijzingsfout ontvangt, kunt u zien als een van de scenario's beschreven op fout in uw toepassing.</span><span class="sxs-lookup"><span data-stu-id="32e1c-229">When you receive an allocation error, see if any of the scenarios described apply to your error.</span></span> <span data-ttu-id="32e1c-230">Gebruik de toewijzingsfout geretourneerd door de Azure-platform voor het identificeren van het betreffende scenario.</span><span class="sxs-lookup"><span data-stu-id="32e1c-230">Use the allocation error returned by the Azure platform to identify the corresponding scenario.</span></span> <span data-ttu-id="32e1c-231">Als uw aanvraag is vastgemaakt aan een bestaand cluster, verwijder enkele van de vastmaken beperkingen uw aanvraag om meer clusters, waardoor de kans van slagen van de toewijzing te openen.</span><span class="sxs-lookup"><span data-stu-id="32e1c-231">If your request is pinned to an existing cluster, remove some of the pinning constraints to open your request to more clusters, thereby increasing the chance of allocation success.</span></span>

<span data-ttu-id="32e1c-232">In het algemeen, zolang de fout betekent niet 'de aangevraagde VM-grootte wordt niet ondersteund', u kunt altijd opnieuw uitvoeren op een later tijdstip, zoals onvoldoende bronnen is in het cluster vrijgemaakt mogelijk aan uw aanvraag.</span><span class="sxs-lookup"><span data-stu-id="32e1c-232">In general, as long as the error does not indicate "the requested VM size is not supported," you can always retry at a later time, as enough resources may have been freed in the cluster to accommodate your request.</span></span> <span data-ttu-id="32e1c-233">Als het probleem is dat de aangevraagde VM-grootte niet wordt ondersteund, Zie hieronder voor tijdelijke oplossingen.</span><span class="sxs-lookup"><span data-stu-id="32e1c-233">If the problem is that the requested VM size is not supported, see below for workarounds.</span></span>

## <a name="allocation-scenario-resize-a-vm-or-add-vms-to-an-existing-availability-set"></a><span data-ttu-id="32e1c-234">Scenario van toewijzing: Wijzig het formaat van een virtuele machine of virtuele machines toevoegen aan een bestaande beschikbaarheidsset</span><span class="sxs-lookup"><span data-stu-id="32e1c-234">Allocation scenario: Resize a VM or add VMs to an existing availability set</span></span>
<span data-ttu-id="32e1c-235">**Fout**</span><span class="sxs-lookup"><span data-stu-id="32e1c-235">**Error**</span></span>

<span data-ttu-id="32e1c-236">Upgrade_VMSizeNotSupported * of GeneralError *</span><span class="sxs-lookup"><span data-stu-id="32e1c-236">Upgrade_VMSizeNotSupported* or GeneralError*</span></span>

<span data-ttu-id="32e1c-237">**Oorzaak van het cluster vastmaken**</span><span class="sxs-lookup"><span data-stu-id="32e1c-237">**Cause of cluster pinning**</span></span>

<span data-ttu-id="32e1c-238">Een aanvraag om de grootte van een virtuele machine of een virtuele machine toevoegen aan een bestaande beschikbaarheidsset moet worden uitgevoerd op het oorspronkelijke cluster die als host fungeert voor de bestaande beschikbaarheidsset.</span><span class="sxs-lookup"><span data-stu-id="32e1c-238">A request to resize a VM or add a VM to an existing availability set has to be attempted at the original cluster that hosts the existing availability set.</span></span> <span data-ttu-id="32e1c-239">Een nieuwe beschikbaarheidsset maakt, wordt de Azure-platform om te zoeken naar een ander cluster die ondersteuning biedt voor de VM-grootte die u hebt aangevraagd of resources vrij heeft.</span><span class="sxs-lookup"><span data-stu-id="32e1c-239">Creating a new availability set allows the Azure platform to find another cluster that has free resources or supports the VM size that you requested.</span></span>

<span data-ttu-id="32e1c-240">**Tijdelijke oplossing**</span><span class="sxs-lookup"><span data-stu-id="32e1c-240">**Workaround**</span></span>

<span data-ttu-id="32e1c-241">Als de fout is Upgrade_VMSizeNotSupported *, kunt u een andere VM-grootte.</span><span class="sxs-lookup"><span data-stu-id="32e1c-241">If the error is Upgrade_VMSizeNotSupported*, try a different VM size.</span></span> <span data-ttu-id="32e1c-242">Als u met behulp van een andere VM-grootte kan niet worden gebruikt, stopt u alle virtuele machines in de beschikbaarheidsset.</span><span class="sxs-lookup"><span data-stu-id="32e1c-242">If using a different VM size is not an option, stop all VMs in the availability set.</span></span> <span data-ttu-id="32e1c-243">Vervolgens kunt u de grootte van de virtuele machine die de virtuele machine naar een cluster die ondersteuning biedt voor de gewenste VM-grootte worden toegewezen.</span><span class="sxs-lookup"><span data-stu-id="32e1c-243">You can then change the size of the virtual machine that will allocate the VM to a cluster that supports the desired VM size.</span></span>

<span data-ttu-id="32e1c-244">Als de fout is GeneralError *, is het waarschijnlijk dat het type resource (zoals een bepaalde VM-grootte) wordt ondersteund door het cluster, maar het cluster geen gratis resources op het moment dat heeft.</span><span class="sxs-lookup"><span data-stu-id="32e1c-244">If the error is GeneralError*, it's likely that the type of resource (such as a particular VM size) is supported by the cluster, but the cluster does not have free resources at the moment.</span></span> <span data-ttu-id="32e1c-245">Als de virtuele machine deel van een andere beschikbaarheidsset uitmaken kan, maakt u een nieuwe virtuele machine in een andere beschikbaarheidsset (in dezelfde regio).</span><span class="sxs-lookup"><span data-stu-id="32e1c-245">If the VM can be part of a different availability set, create a new VM in a different availability set (in the same region).</span></span> <span data-ttu-id="32e1c-246">Deze nieuwe virtuele machine kan vervolgens worden toegevoegd aan hetzelfde virtuele netwerk.</span><span class="sxs-lookup"><span data-stu-id="32e1c-246">This new VM can then be added to the same virtual network.</span></span>  

## <a name="allocation-scenario-restart-partially-stopped-deallocated-vms"></a><span data-ttu-id="32e1c-247">Scenario van toewijzing: gedeeltelijk gestopt (toewijzing ongedaan gemaakt) virtuele machines opnieuw opstarten</span><span class="sxs-lookup"><span data-stu-id="32e1c-247">Allocation scenario: Restart partially stopped (deallocated) VMs</span></span>
<span data-ttu-id="32e1c-248">**Fout**</span><span class="sxs-lookup"><span data-stu-id="32e1c-248">**Error**</span></span>

<span data-ttu-id="32e1c-249">GeneralError *</span><span class="sxs-lookup"><span data-stu-id="32e1c-249">GeneralError*</span></span>

<span data-ttu-id="32e1c-250">**Oorzaak van het cluster vastmaken**</span><span class="sxs-lookup"><span data-stu-id="32e1c-250">**Cause of cluster pinning**</span></span>

<span data-ttu-id="32e1c-251">Gedeeltelijke toewijzing is opgeheven betekent dat u (toewijzing ongedaan gemaakt) een of meer gestopt, maar niet alle virtuele machines in een beschikbaarheidsset ingesteld.</span><span class="sxs-lookup"><span data-stu-id="32e1c-251">Partial deallocation means that you stopped (deallocated) one or more, but not all, VMs in an availability set.</span></span> <span data-ttu-id="32e1c-252">Wanneer u stopt (ongedaan gemaakt) een virtuele machine, de bijbehorende bronnen worden vrijgegeven.</span><span class="sxs-lookup"><span data-stu-id="32e1c-252">When you stop (deallocate) a VM, the associated resources are released.</span></span> <span data-ttu-id="32e1c-253">Opnieuw starten die gestopt (toewijzing ongedaan gemaakt) VM is daarom een nieuwe aanvraag voor geheugentoewijzing.</span><span class="sxs-lookup"><span data-stu-id="32e1c-253">Restarting that stopped (deallocated) VM is therefore a new allocation request.</span></span> <span data-ttu-id="32e1c-254">Opnieuw opstarten van virtuele machines in een gedeeltelijk toewijzing ongedaan is gemaakt beschikbaarheidsset is gelijk aan het toevoegen van virtuele machines aan een bestaande beschikbaarheidsset.</span><span class="sxs-lookup"><span data-stu-id="32e1c-254">Restarting VMs in a partially deallocated availability set is equivalent to adding VMs to an existing availability set.</span></span> <span data-ttu-id="32e1c-255">De aanvraag voor geheugentoewijzing moet worden uitgevoerd op het oorspronkelijke cluster die als host fungeert voor de bestaande beschikbaarheidsset.</span><span class="sxs-lookup"><span data-stu-id="32e1c-255">The allocation request has to be attempted at the original cluster that hosts the existing availability set.</span></span>

<span data-ttu-id="32e1c-256">**Tijdelijke oplossing**</span><span class="sxs-lookup"><span data-stu-id="32e1c-256">**Workaround**</span></span>

<span data-ttu-id="32e1c-257">Stop alle virtuele machines in de beschikbaarheidsset voordat de eerste die opnieuw wordt opgestart.</span><span class="sxs-lookup"><span data-stu-id="32e1c-257">Stop all VMs in the availability set before restarting the first one.</span></span> <span data-ttu-id="32e1c-258">Dit zorgt ervoor dat er een nieuwe poging van de toewijzing wordt uitgevoerd en dat een nieuw cluster kan worden geselecteerd met de beschikbare capaciteit.</span><span class="sxs-lookup"><span data-stu-id="32e1c-258">This will ensure that a new allocation attempt is run and that a new cluster can be selected that has available capacity.</span></span>

## <a name="allocation-scenario-restart-fully-stopped-deallocated"></a><span data-ttu-id="32e1c-259">Scenario van toewijzing: opnieuw opstarten volledig gestopt (toewijzing ongedaan gemaakt)</span><span class="sxs-lookup"><span data-stu-id="32e1c-259">Allocation scenario: Restart fully stopped (deallocated)</span></span>
<span data-ttu-id="32e1c-260">**Fout**</span><span class="sxs-lookup"><span data-stu-id="32e1c-260">**Error**</span></span>

<span data-ttu-id="32e1c-261">GeneralError *</span><span class="sxs-lookup"><span data-stu-id="32e1c-261">GeneralError*</span></span>

<span data-ttu-id="32e1c-262">**Oorzaak van het cluster vastmaken**</span><span class="sxs-lookup"><span data-stu-id="32e1c-262">**Cause of cluster pinning**</span></span>

<span data-ttu-id="32e1c-263">Volledige toewijzing is opgeheven betekent dat u gestopt (toewijzing opgeheven) alle VM's in een beschikbaarheidsset.</span><span class="sxs-lookup"><span data-stu-id="32e1c-263">Full deallocation means that you stopped (deallocated) all VMs in an availability set.</span></span> <span data-ttu-id="32e1c-264">De aanvraag voor geheugentoewijzing opnieuw opstarten van deze virtuele machines heeft betrekking op alle clusters die ondersteuning bieden voor de gewenste grootte.</span><span class="sxs-lookup"><span data-stu-id="32e1c-264">The allocation request to restart these VMs will target all clusters that support the desired size.</span></span>

<span data-ttu-id="32e1c-265">**Tijdelijke oplossing**</span><span class="sxs-lookup"><span data-stu-id="32e1c-265">**Workaround**</span></span>

<span data-ttu-id="32e1c-266">Selecteer een nieuwe VM-grootte toe te wijzen.</span><span class="sxs-lookup"><span data-stu-id="32e1c-266">Select a new VM size to allocate.</span></span> <span data-ttu-id="32e1c-267">Probeer het later opnieuw als dit niet werkt.</span><span class="sxs-lookup"><span data-stu-id="32e1c-267">If this does not work, please try again later.</span></span>

## <a name="error-string-lookup"></a><span data-ttu-id="32e1c-268">Fout bij het opzoeken tekenreeks</span><span class="sxs-lookup"><span data-stu-id="32e1c-268">Error string lookup</span></span>
<span data-ttu-id="32e1c-269">**New_VMSizeNotSupported***</span><span class="sxs-lookup"><span data-stu-id="32e1c-269">**New_VMSizeNotSupported***</span></span>

<span data-ttu-id="32e1c-270">'De VM grootte (of combinatie van VM-formaten) vereist voor deze implementatie kan niet worden ingericht als gevolg van implementatie aanvraag beperkingen.</span><span class="sxs-lookup"><span data-stu-id="32e1c-270">"The VM size (or combination of VM sizes) required by this deployment cannot be provisioned due to deployment request constraints.</span></span> <span data-ttu-id="32e1c-271">Indien mogelijk, probeer doet beperkingen, zoals de bindingen van virtueel netwerk, implementeren op een gehoste service met geen andere implementatie in het en naar een andere affiniteitsgroep of niets affiniteitsgroep of implementeren op een andere regio."</span><span class="sxs-lookup"><span data-stu-id="32e1c-271">If possible, try relaxing constraints such as virtual network bindings, deploying to a hosted service with no other deployment in it and to a different affinity group or with no affinity group, or try deploying to a different region."</span></span>

<span data-ttu-id="32e1c-272">**New_General***</span><span class="sxs-lookup"><span data-stu-id="32e1c-272">**New_General***</span></span>

<span data-ttu-id="32e1c-273">'Toewijzing is mislukt; kan niet voldoen aan de beperkingen in de aanvraag.</span><span class="sxs-lookup"><span data-stu-id="32e1c-273">"Allocation failed; unable to satisfy constraints in request.</span></span> <span data-ttu-id="32e1c-274">De aangevraagde nieuwe service-implementatie is gebonden aan een affiniteitsgroep of er een bestaande implementatie onder deze gehoste service is gericht op een virtueel netwerk.</span><span class="sxs-lookup"><span data-stu-id="32e1c-274">The requested new service deployment is bound to an affinity group, or it targets a virtual network, or there is an existing deployment under this hosted service.</span></span> <span data-ttu-id="32e1c-275">Deze omstandigheden Hiermee beperkt u de nieuwe implementatie voor specifieke Azure-resources.</span><span class="sxs-lookup"><span data-stu-id="32e1c-275">Any of these conditions constrains the new deployment to specific Azure resources.</span></span> <span data-ttu-id="32e1c-276">Probeer het later opnieuw of verklein de VM-grootte of het aantal rolinstanties.</span><span class="sxs-lookup"><span data-stu-id="32e1c-276">Please retry later or try reducing the VM size or number of role instances.</span></span> <span data-ttu-id="32e1c-277">U kunt ook indien mogelijk, verwijder de hiervoor genoemde beperkingen of probeer te implementeren naar een andere regio.'</span><span class="sxs-lookup"><span data-stu-id="32e1c-277">Alternatively, if possible, remove the aforementioned constraints or try deploying to a different region."</span></span>

<span data-ttu-id="32e1c-278">**Upgrade_VMSizeNotSupported***</span><span class="sxs-lookup"><span data-stu-id="32e1c-278">**Upgrade_VMSizeNotSupported***</span></span>

<span data-ttu-id="32e1c-279">'Kan geen upgrade uitvoeren van de implementatie.</span><span class="sxs-lookup"><span data-stu-id="32e1c-279">"Unable to upgrade the deployment.</span></span> <span data-ttu-id="32e1c-280">De aangevraagde VM-grootte XXX mogelijk niet beschikbaar in de resources die de bestaande implementatie ondersteunen.</span><span class="sxs-lookup"><span data-stu-id="32e1c-280">The requested VM size XXX may not be available in the resources supporting the existing deployment.</span></span> <span data-ttu-id="32e1c-281">Probeer het later opnieuw, probeer met een andere VM-grootte of met minder rolinstanties, of maak een implementatie onder een lege gehoste service met een nieuwe affiniteitsgroep of niets affiniteitsgroep binding."</span><span class="sxs-lookup"><span data-stu-id="32e1c-281">Please try again later, try with a different VM size or smaller number of role instances, or create a deployment under an empty hosted service with a new affinity group or no affinity group binding."</span></span>

<span data-ttu-id="32e1c-282">**GeneralError***</span><span class="sxs-lookup"><span data-stu-id="32e1c-282">**GeneralError***</span></span>

<span data-ttu-id="32e1c-283">'De server heeft een interne fout.</span><span class="sxs-lookup"><span data-stu-id="32e1c-283">"The server encountered an internal error.</span></span> <span data-ttu-id="32e1c-284">Probeer de aanvraag."</span><span class="sxs-lookup"><span data-stu-id="32e1c-284">Please retry the request."</span></span> <span data-ttu-id="32e1c-285">Of "Voor het produceren van een toewijzing voor de service mislukt."</span><span class="sxs-lookup"><span data-stu-id="32e1c-285">Or "Failed to produce an allocation for the service."</span></span>

